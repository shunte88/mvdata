id,type,state,state_reason,title,body,author,created_at,assignees,updated_at,closed_at,url,labels,comments_list,comment_thread
2803331117,pull_request,closed,,"[FIX] pos_self_order: issues in mobile-menu product image, cart & description","Steps to Reproduce:
===
- Open the restaurant's mobile menu in a browser where you are not logged in.
- Interact with the product info (`i` button) and cart features.

Issues:
===
1. Product images were not displayed correctly, showing a default image instead.
2. Clicking the info (`i`) button displayed ""false"" or unformatted description if the product had no public description.
3. Adding more than one quantity of a product through the info popup only added a single item to the cart.

Fixed:
===
1. Resolved the image issue by ensuring images are accessible even when not logged in.
2. Corrected the display of public descriptions to show properly formatted text, else blank.
3. Fixed the cart issue to allow adding multiple quantities of a product correctly.

Task: 4463971
",djip-odoo,2025-01-22 04:18:25+00:00,[],2025-01-29 13:40:36+00:00,2025-01-29 13:40:36+00:00,https://github.com/odoo/odoo/pull/194651,"[('RD', 'research & development, internal work')]","[{'comment_id': 2606254897, 'issue_id': 2803331117, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/194651.png)](https://mergebot.odoo.com/odoo/odoo/pull/194651)', 'created_at': datetime.datetime(2025, 1, 22, 4, 18, 27, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-22 04:18:27 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/194651.png)](https://mergebot.odoo.com/odoo/odoo/pull/194651)

"
2803321578,pull_request,closed,,[FIX] hr: fix singleton record error,"### Description of the issue/feature this PR addresses:
- Similar error: https://github.com/odoo/odoo/pull/194338
- In `_compute_plan_available_ids()` with `self` there can be multiple records but still use `self.department_id` in `for scheduler in todo`.

### Current behavior before PR:
- The error ValueError: Expected singleton: mail.activity.schedule(1, 2) occurred

Desired behavior after PR is merged:
- The problem has been fixed.



---
I confirm I have signed the CLA and read the PR guidelines at www.odoo.com/submit-pr
",JocelynVN,2025-01-22 04:09:50+00:00,[],2025-01-23 15:51:22+00:00,2025-01-23 15:51:21+00:00,https://github.com/odoo/odoo/pull/194650,"[('HR', 'Related to Human Resources Applications')]","[{'comment_id': 2606247108, 'issue_id': 2803321578, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/194650.png)](https://mergebot.odoo.com/odoo/odoo/pull/194650)', 'created_at': datetime.datetime(2025, 1, 22, 4, 9, 53, tzinfo=datetime.timezone.utc)}, {'comment_id': 2606249259, 'issue_id': 2803321578, 'author': 'JocelynVN', 'body': '@pyduf  Please review this PR for me. Sorry for bothering you. This PR is the result of my shortcomings :smile:.', 'created_at': datetime.datetime(2025, 1, 22, 4, 12, 10, tzinfo=datetime.timezone.utc)}, {'comment_id': 2606469423, 'issue_id': 2803321578, 'author': 'JocelynVN', 'body': '@Bertrand2 help me please!', 'created_at': datetime.datetime(2025, 1, 22, 7, 19, 19, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-22 04:09:53 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/194650.png)](https://mergebot.odoo.com/odoo/odoo/pull/194650)

JocelynVN (Issue Creator) on (2025-01-22 04:12:10 UTC): @pyduf  Please review this PR for me. Sorry for bothering you. This PR is the result of my shortcomings :smile:.

JocelynVN (Issue Creator) on (2025-01-22 07:19:19 UTC): @Bertrand2 help me please!

"
2803225818,pull_request,open,,[IMP] base: Highlight invalid XPaths.,"Description of the issue/feature this PR addresses:
ir.ui.view form view's code_editor highlights invalid xpath nodes for Studio views.
![image](https://github.com/user-attachments/assets/cceea975-0f12-4640-ab40-8875103fded5)

This feature increases productivity for Upgrade Projects, Rolling Release tickets, post-upgrade issue, and Odoo partners.
Oftentimes, upgrading a database to the latest version of Odoo results in many Studio Customization Views invalid.
![image](https://github.com/user-attachments/assets/eb5669b6-ca15-4b64-8303-88522a0e50d2)
They become incompatible for the new Odoo version because they have 
1. Nodes with invalid xpath expression 
2. Nodes with deprecated field 
3. etc..,

This feature allows user to identify invalid xpath without having to manually check each line of the arch.

Current behavior before PR:
Studio views can have nodes with invalid Xpath and the ir.ui.view form view does not notify user about this.

Desired behavior after PR is merged:
ir.ui.view form view's code_editor highlights invalid xpath nodes for Studio views.

How to test:
1. Make a studio view using Studio app (not manually)
4. Open the studio view in ir.ui.view form view.
5. Add a node with invalid xpath
6. it is highlighted in red.

Limitation:

![image](https://github.com/user-attachments/assets/45f79545-5a12-42dd-abb1-7f2b177596a8)
We have two children nodes whose Xpath expressions are invalid, but they are not highlighted in red as their parent node cannot be anchored.


---
I confirm I have signed the CLA and read the PR guidelines at www.odoo.com/submit-pr
",suju-odoo,2025-01-22 02:38:24+00:00,[],2025-02-05 14:27:24+00:00,,https://github.com/odoo/odoo/pull/194649,"[('RD', 'research & development, internal work')]","[{'comment_id': 2606156793, 'issue_id': 2803225818, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/194649.png)](https://mergebot.odoo.com/odoo/odoo/pull/194649)', 'created_at': datetime.datetime(2025, 1, 22, 2, 38, 27, tzinfo=datetime.timezone.utc)}, {'comment_id': 2606158096, 'issue_id': 2803225818, 'author': 'suju-odoo', 'body': 'Created a new PR as I lost access to the [previous PR](https://github.com/odoo/odoo/pull/192608).', 'created_at': datetime.datetime(2025, 1, 22, 2, 39, 48, tzinfo=datetime.timezone.utc)}, {'comment_id': 2607409086, 'issue_id': 2803225818, 'author': 'suju-odoo', 'body': ""Hi @Guillaume-gdi, I had an issue with my previous PR and created this new PR. I'll ping you again once my commit passes the runbot"", 'created_at': datetime.datetime(2025, 1, 22, 14, 33, 11, tzinfo=datetime.timezone.utc)}, {'comment_id': 2607468893, 'issue_id': 2803225818, 'author': 'suju-odoo', 'body': 'Hi @Guillaume-gdi, I received some feedbacks and suggestions from @sdegueldre last week:\r\n1. Now the `ir.ui.view` model has `invalid_xpaths_from_arch` Json field, removing one layer of data transaction that had been done through rpc.\r\n2. I was going to adopt the text box on hover feature, but realized that it would be much easier to add an alert to the form view:\r\n![image](https://github.com/user-attachments/assets/9b6e1f87-6452-4550-909b-b72b4faaac44)\r\nLet me know how you think about this. \r\n\r\nHi @sdegueldre, you mentioned about making a custom Ace Field because CodeEditor is being used by other models as well. Right now, the `highlightInvalidXpaths()` function will only be executed if the model is `ir.ui.view`. Do you think this is enough? Or making a custom Ace Field or CodeEditor is safer?', 'created_at': datetime.datetime(2025, 1, 22, 14, 56, 16, tzinfo=datetime.timezone.utc)}, {'comment_id': 2608565162, 'issue_id': 2803225818, 'author': 'sdegueldre', 'body': 'Generic field widgets should not have field-specific behavior, so yes, this should be a custom field that extends the code editor field. Also it looks like your changes break some view/studio related tests which will need to be investigated/fixed.', 'created_at': datetime.datetime(2025, 1, 23, 0, 25, 11, tzinfo=datetime.timezone.utc)}, {'comment_id': 2608683704, 'issue_id': 2803225818, 'author': 'suju-odoo', 'body': ""> Generic field widgets should not have field-specific behavior, so yes, this should be a custom field that extends the code editor field. Also it looks like your changes break some view/studio related tests which will need to be investigated/fixed.\r\n\r\n@sdegueldre \r\nUnderstood!\r\nYes I'll make a custom field and fix the CI and ping you again.\r\nThanks"", 'created_at': datetime.datetime(2025, 1, 23, 1, 58, 51, tzinfo=datetime.timezone.utc)}, {'comment_id': 2612712558, 'issue_id': 2803225818, 'author': 'suju-odoo', 'body': ""> This is a very nice idea, wish I had it my self :D A few comments though. Also, it would be nice to have a test. One in python to encode the JSON field's API One in JS for the new behavior\r\n\r\nHi @kebeclibre, thank you for the review and comments! \r\nYes I will adopt your feedbacks and add tests for py and js ."", 'created_at': datetime.datetime(2025, 1, 24, 14, 49, 49, tzinfo=datetime.timezone.utc)}, {'comment_id': 2614626750, 'issue_id': 2803225818, 'author': 'suju-odoo', 'body': ""@sdegueldre @Guillaume-gdi @kebeclibre \r\nI realize that it'd be better to move this feature to odoo/enterprise since this is studio-specific feature. Modified the logic based on your feedbacks and now preparing test cases.\r\nI'll add you as reviewers once I make the PR."", 'created_at': datetime.datetime(2025, 1, 26, 23, 7, 12, tzinfo=datetime.timezone.utc)}, {'comment_id': 2614639129, 'issue_id': 2803225818, 'author': 'sdegueldre', 'body': '@suju-odoo xpaths are not studio-specific and can be added in a variety of ways, studio is just one of them. I think this feature makes more sense in base/web as currently implemented.', 'created_at': datetime.datetime(2025, 1, 26, 23, 49, 2, tzinfo=datetime.timezone.utc)}, {'comment_id': 2632104688, 'issue_id': 2803225818, 'author': 'suju-odoo', 'body': 'Hey @sdegueldre, made requested changes! Let me know if I missed something or you have more feedbacks.', 'created_at': datetime.datetime(2025, 2, 3, 21, 22, 11, tzinfo=datetime.timezone.utc)}, {'comment_id': 2634933438, 'issue_id': 2803225818, 'author': 'sdegueldre', 'body': ""@suju-odoo I think we're in good shape, you can mark the PR as ready for review and we can have @kebeclibre take another look"", 'created_at': datetime.datetime(2025, 2, 4, 19, 57, 4, tzinfo=datetime.timezone.utc)}, {'comment_id': 2637002063, 'issue_id': 2803225818, 'author': 'suju-odoo', 'body': 'rebased branch onto master to fix failing upgrade_enterprise CI', 'created_at': datetime.datetime(2025, 2, 5, 14, 27, 22, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-22 02:38:27 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/194649.png)](https://mergebot.odoo.com/odoo/odoo/pull/194649)

suju-odoo (Issue Creator) on (2025-01-22 02:39:48 UTC): Created a new PR as I lost access to the [previous PR](https://github.com/odoo/odoo/pull/192608).

suju-odoo (Issue Creator) on (2025-01-22 14:33:11 UTC): Hi @Guillaume-gdi, I had an issue with my previous PR and created this new PR. I'll ping you again once my commit passes the runbot

suju-odoo (Issue Creator) on (2025-01-22 14:56:16 UTC): Hi @Guillaume-gdi, I received some feedbacks and suggestions from @sdegueldre last week:
1. Now the `ir.ui.view` model has `invalid_xpaths_from_arch` Json field, removing one layer of data transaction that had been done through rpc.
2. I was going to adopt the text box on hover feature, but realized that it would be much easier to add an alert to the form view:
![image](https://github.com/user-attachments/assets/9b6e1f87-6452-4550-909b-b72b4faaac44)
Let me know how you think about this. 

Hi @sdegueldre, you mentioned about making a custom Ace Field because CodeEditor is being used by other models as well. Right now, the `highlightInvalidXpaths()` function will only be executed if the model is `ir.ui.view`. Do you think this is enough? Or making a custom Ace Field or CodeEditor is safer?

sdegueldre on (2025-01-23 00:25:11 UTC): Generic field widgets should not have field-specific behavior, so yes, this should be a custom field that extends the code editor field. Also it looks like your changes break some view/studio related tests which will need to be investigated/fixed.

suju-odoo (Issue Creator) on (2025-01-23 01:58:51 UTC): @sdegueldre 
Understood!
Yes I'll make a custom field and fix the CI and ping you again.
Thanks

suju-odoo (Issue Creator) on (2025-01-24 14:49:49 UTC): Hi @kebeclibre, thank you for the review and comments! 
Yes I will adopt your feedbacks and add tests for py and js .

suju-odoo (Issue Creator) on (2025-01-26 23:07:12 UTC): @sdegueldre @Guillaume-gdi @kebeclibre 
I realize that it'd be better to move this feature to odoo/enterprise since this is studio-specific feature. Modified the logic based on your feedbacks and now preparing test cases.
I'll add you as reviewers once I make the PR.

sdegueldre on (2025-01-26 23:49:02 UTC): @suju-odoo xpaths are not studio-specific and can be added in a variety of ways, studio is just one of them. I think this feature makes more sense in base/web as currently implemented.

suju-odoo (Issue Creator) on (2025-02-03 21:22:11 UTC): Hey @sdegueldre, made requested changes! Let me know if I missed something or you have more feedbacks.

sdegueldre on (2025-02-04 19:57:04 UTC): @suju-odoo I think we're in good shape, you can mark the PR as ready for review and we can have @kebeclibre take another look

suju-odoo (Issue Creator) on (2025-02-05 14:27:22 UTC): rebased branch onto master to fix failing upgrade_enterprise CI

"
2803031759,pull_request,closed,,[FW][FIX] web_editor: check range count when positioning toolbar,"**Problem**:
In rare edge cases, the selection can have no ranges, causing a crash when attempting to `getRangeAt(0)`.

**Solution**:
Ensure there are ranges in the selection before accessing them.

**Steps to Reproduce**:
1. Split the window, with Odoo on one side and any other application on the other.
2. Navigate to a sales order in Odoo.
3. From the sales order, navigate to the partner.
4. Maximize the window.
5. Return to the sales order.
6. Split the window again.
7. Scroll down.

opw-4279813

---
I confirm I have signed the CLA and read the PR guidelines at www.odoo.com/submit-pr

Forward-Port-Of: odoo/odoo#194385",fw-bot,2025-01-21 23:33:58+00:00,[],2025-02-05 10:15:45+00:00,2025-01-22 10:11:30+00:00,https://github.com/odoo/odoo/pull/194648,"[('OE', 'the report is linked to a support ticket (opw-...)'), ('forwardport', 'This PR was created by @fw-bot'), ('18.2', None)]","[{'comment_id': 2605956646, 'issue_id': 2803031759, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/194648.png)](https://mergebot.odoo.com/odoo/odoo/pull/194648)', 'created_at': datetime.datetime(2025, 1, 21, 23, 33, 59, tzinfo=datetime.timezone.utc)}, {'comment_id': 2605956659, 'issue_id': 2803031759, 'author': 'fw-bot', 'body': '@walidsahli @dmo-odoo this PR targets master and is the last of the forward-port chain containing:\n* odoo/odoo#194644\n* odoo/odoo#194638\n* odoo/odoo#194565\n* odoo/odoo#194540\n* odoo/odoo#194504\n\nTo merge the full chain, use\n> @robodoo r+\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 21, 23, 34, tzinfo=datetime.timezone.utc)}, {'comment_id': 2606026106, 'issue_id': 2803031759, 'author': 'fw-bot', 'body': '@walidsahli @dmo-odoo ci/runbot failed on this forward-port PR', 'created_at': datetime.datetime(2025, 1, 22, 0, 33, 37, tzinfo=datetime.timezone.utc)}, {'comment_id': 2606432715, 'issue_id': 2803031759, 'author': 'walidsahli', 'body': '@robodoo r+', 'created_at': datetime.datetime(2025, 1, 22, 6, 52, 49, tzinfo=datetime.timezone.utc)}, {'comment_id': 2606432782, 'issue_id': 2803031759, 'author': 'robodoo', 'body': '@walidsahli you may want to rebuild or fix this PR as it has failed CI.', 'created_at': datetime.datetime(2025, 1, 22, 6, 52, 52, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-21 23:33:59 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/194648.png)](https://mergebot.odoo.com/odoo/odoo/pull/194648)

fw-bot (Issue Creator) on (2025-01-21 23:34:00 UTC): @walidsahli @dmo-odoo this PR targets master and is the last of the forward-port chain containing:
* odoo/odoo#194644
* odoo/odoo#194638
* odoo/odoo#194565
* odoo/odoo#194540
* odoo/odoo#194504

To merge the full chain, use

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

fw-bot (Issue Creator) on (2025-01-22 00:33:37 UTC): @walidsahli @dmo-odoo ci/runbot failed on this forward-port PR

walidsahli on (2025-01-22 06:52:49 UTC): @robodoo r+

robodoo on (2025-01-22 06:52:52 UTC): @walidsahli you may want to rebuild or fix this PR as it has failed CI.

"
2803002440,pull_request,closed,,"[FIX] hr_recruitment, hr_recruitment_sms: apply missing dependency of…","… hr_recruitment on sms in a glue module

Missing dependency caused errors when uninstalling sms after installing hr_recruitment. The glue module approach is implemented for the benefit of users who decide to opt out of IAP services. 
Resolves #191635
task-4438940

Description of the issue/feature this PR addresses:

Current behavior before PR:
https://github.com/odoo/odoo/issues/191635
Desired behavior after PR is merged:
You will be able to uninstall sms module safely which will in turn uninstall the new module hr_recruitment_sms without causing issues with hr_recruitment.

Fix will not be applied in stable because we shouldn't remove existing actions. So, closing original PR #192615 


---
I confirm I have signed the CLA and read the PR guidelines at www.odoo.com/submit-pr
",omarkhair,2025-01-21 23:10:12+00:00,[],2025-02-04 09:07:50+00:00,2025-02-04 09:05:11+00:00,https://github.com/odoo/odoo/pull/194647,"[('RD', 'research & development, internal work'), ('18.2', None)]","[{'comment_id': 2605927186, 'issue_id': 2803002440, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/194647.png)](https://mergebot.odoo.com/odoo/odoo/pull/194647)', 'created_at': datetime.datetime(2025, 1, 21, 23, 10, 15, tzinfo=datetime.timezone.utc)}, {'comment_id': 2631850413, 'issue_id': 2803002440, 'author': 'tivisse', 'body': '@robodoo r+', 'created_at': datetime.datetime(2025, 2, 3, 19, 13, 58, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-21 23:10:15 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/194647.png)](https://mergebot.odoo.com/odoo/odoo/pull/194647)

tivisse on (2025-02-03 19:13:58 UTC): @robodoo r+

"
2802951781,pull_request,closed,,[FW][FIX] web: burger menu memory leak,"The event listeners are never removed when the component is unmounted which means to global `env.bus` always keeps a reference to this component and everything that goes with it, including its (child)env.

In version 18.0, the spreadsheet client action instantiates its own `BurgerMenu` component and also adds the spreadsheet `model` in the action child env (which can be expensive memory-wise)



---
I confirm I have signed the CLA and read the PR guidelines at www.odoo.com/submit-pr

Forward-Port-Of: odoo/odoo#194587
Forward-Port-Of: odoo/odoo#194485",fw-bot,2025-01-21 22:31:36+00:00,[],2025-02-05 11:09:15+00:00,2025-01-22 10:58:02+00:00,https://github.com/odoo/odoo/pull/194646,"[('RD', 'research & development, internal work'), ('forwardport', 'This PR was created by @fw-bot')]","[{'comment_id': 2605873780, 'issue_id': 2802951781, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/194646.png)](https://mergebot.odoo.com/odoo/odoo/pull/194646)', 'created_at': datetime.datetime(2025, 1, 21, 22, 31, 37, tzinfo=datetime.timezone.utc)}, {'comment_id': 2605873794, 'issue_id': 2802951781, 'author': 'fw-bot', 'body': 'This PR targets 18.0 and is part of the forward-port chain. Further PRs will be created up to master.\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 21, 22, 31, 38, tzinfo=datetime.timezone.utc)}, {'comment_id': 2605937732, 'issue_id': 2802951781, 'author': 'fw-bot', 'body': '@LucasLefevre @aab-odoo ci/runbot failed on this forward-port PR', 'created_at': datetime.datetime(2025, 1, 21, 23, 18, 50, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-21 22:31:37 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/194646.png)](https://mergebot.odoo.com/odoo/odoo/pull/194646)

fw-bot (Issue Creator) on (2025-01-21 22:31:38 UTC): This PR targets 18.0 and is part of the forward-port chain. Further PRs will be created up to master.

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

fw-bot (Issue Creator) on (2025-01-21 23:18:50 UTC): @LucasLefevre @aab-odoo ci/runbot failed on this forward-port PR

"
2802929004,pull_request,closed,,[FW][FIX] web_editor: fix custom block translations,"Steps to reproduce:

- Add a ""Call To Action"" block on the homepage > Save it as a custom
snippet.
- Add a new page > Drop the saved custom block on it > Drop Also
another ""Title"" block.
- Translate the custom block in the new page > At this point, the
translation is fine.
- Go to ""Edit"" mode > Edit the other block (""Title"") > Save.
- The translations for the custom ""Call To Action"" is lost.

Starting from [1], the translation of custom snippets was supported and
when dropping a saved custom snippet in a page/view, the snippet will
copy its translation from the saved view (see:
`_copy_custom_snippet_translations()`). This code will always update the
terms in the translation dictionary, even when the page has its custom
translation for them.

The goal of this commit is to fix this behavior by only allowing the
update of a term translation when the page has no custom translation
for it.

[1]: https://github.com/odoo/odoo/commit/d3426b7714012e833caae10281cfb8433223299a

opw-3930862
opw-4141290

Forward-Port-Of: odoo/odoo#194234
Forward-Port-Of: odoo/odoo#177960",fw-bot,2025-01-21 22:17:38+00:00,[],2025-02-06 12:07:28+00:00,2025-01-23 12:02:56+00:00,https://github.com/odoo/odoo/pull/194645,"[('OE', 'the report is linked to a support ticket (opw-...)'), ('forwardport', 'This PR was created by @fw-bot'), ('18.2', None)]","[{'comment_id': 2605853438, 'issue_id': 2802929004, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/194645.png)](https://mergebot.odoo.com/odoo/odoo/pull/194645)', 'created_at': datetime.datetime(2025, 1, 21, 22, 17, 39, tzinfo=datetime.timezone.utc)}, {'comment_id': 2605853450, 'issue_id': 2802929004, 'author': 'fw-bot', 'body': '@xO-Tx @HydrionBurst this PR targets master and is the last of the forward-port chain containing:\n* odoo/odoo#194639\n* odoo/odoo#194635\n* odoo/odoo#194628\n* odoo/odoo#194614\n\nTo merge the full chain, use\n> @robodoo r+\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 21, 22, 17, 40, tzinfo=datetime.timezone.utc)}, {'comment_id': 2605914431, 'issue_id': 2802929004, 'author': 'fw-bot', 'body': '@xO-Tx @HydrionBurst ci/runbot failed on this forward-port PR', 'created_at': datetime.datetime(2025, 1, 21, 23, 0, 46, tzinfo=datetime.timezone.utc)}, {'comment_id': 2606120306, 'issue_id': 2802929004, 'author': 'fw-bot', 'body': '@xO-Tx @HydrionBurst this forward port of odoo/odoo#177960 is awaiting action (not merged or closed).', 'created_at': datetime.datetime(2025, 1, 22, 2, 2, 17, tzinfo=datetime.timezone.utc)}, {'comment_id': 2607643922, 'issue_id': 2802929004, 'author': 'xO-Tx', 'body': '@robodoo r+', 'created_at': datetime.datetime(2025, 1, 22, 16, 3, 54, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-21 22:17:39 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/194645.png)](https://mergebot.odoo.com/odoo/odoo/pull/194645)

fw-bot (Issue Creator) on (2025-01-21 22:17:40 UTC): @xO-Tx @HydrionBurst this PR targets master and is the last of the forward-port chain containing:
* odoo/odoo#194639
* odoo/odoo#194635
* odoo/odoo#194628
* odoo/odoo#194614

To merge the full chain, use

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

fw-bot (Issue Creator) on (2025-01-21 23:00:46 UTC): @xO-Tx @HydrionBurst ci/runbot failed on this forward-port PR

fw-bot (Issue Creator) on (2025-01-22 02:02:17 UTC): @xO-Tx @HydrionBurst this forward port of odoo/odoo#177960 is awaiting action (not merged or closed).

xO-Tx on (2025-01-22 16:03:54 UTC): @robodoo r+

"
2802907316,pull_request,closed,,[FW][FIX] web_editor: check range count when positioning toolbar,"**Problem**:
In rare edge cases, the selection can have no ranges, causing a crash when attempting to `getRangeAt(0)`.

**Solution**:
Ensure there are ranges in the selection before accessing them.

**Steps to Reproduce**:
1. Split the window, with Odoo on one side and any other application on the other.
2. Navigate to a sales order in Odoo.
3. From the sales order, navigate to the partner.
4. Maximize the window.
5. Return to the sales order.
6. Split the window again.
7. Scroll down.

opw-4279813

---
I confirm I have signed the CLA and read the PR guidelines at www.odoo.com/submit-pr

Forward-Port-Of: odoo/odoo#194385",fw-bot,2025-01-21 22:05:31+00:00,[],2025-02-05 08:23:56+00:00,2025-01-22 08:19:02+00:00,https://github.com/odoo/odoo/pull/194644,"[('OE', 'the report is linked to a support ticket (opw-...)'), ('forwardport', 'This PR was created by @fw-bot')]","[{'comment_id': 2605835025, 'issue_id': 2802907316, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/194644.png)](https://mergebot.odoo.com/odoo/odoo/pull/194644)', 'created_at': datetime.datetime(2025, 1, 21, 22, 5, 32, tzinfo=datetime.timezone.utc)}, {'comment_id': 2605835041, 'issue_id': 2802907316, 'author': 'fw-bot', 'body': 'This PR targets saas-18.1 and is part of the forward-port chain. Further PRs will be created up to master.\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 21, 22, 5, 33, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-21 22:05:32 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/194644.png)](https://mergebot.odoo.com/odoo/odoo/pull/194644)

fw-bot (Issue Creator) on (2025-01-21 22:05:33 UTC): This PR targets saas-18.1 and is part of the forward-port chain. Further PRs will be created up to master.

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

"
2802901712,pull_request,closed,,[17.0][FIX] mail: Render message actions correctly with callComponent,"**Description of the issue/feature this PR addresses:**
When a custom module (e.g., [OCA/social#1536](https://github.com/OCA/social/pull/1536)) adds a new message action using `callComponent`, it is not invoked in certain scenarios.

**Current behavior before PR:**

Odoo only invokes `callComponent` for `quick actions` (2 or 3 actions). For remaining actions rendered as `DropdownItem`, the `callComponent` is not invoked.

**Desired behavior after PR is merged:**

This commit ensures consistent rendering behavior, invoking the `callComponent` for all actions, whether quick actions or dropdown items.

Complementary to: https://github.com/odoo/odoo/pull/131426


@phenix-factory @alexkuhn coud you please review this?

CC @pedrobaeza @chienandalu 

---
I confirm I have signed the CLA and read the PR guidelines at www.odoo.com/submit-pr
",celm1990,2025-01-21 22:01:50+00:00,[],2025-01-22 21:38:08+00:00,2025-01-22 20:31:52+00:00,https://github.com/odoo/odoo/pull/194643,"[('Discuss', 'channels, livechat, chatter')]","[{'comment_id': 2605829437, 'issue_id': 2802901712, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/194643.png)](https://mergebot.odoo.com/odoo/odoo/pull/194643)', 'created_at': datetime.datetime(2025, 1, 21, 22, 1, 53, tzinfo=datetime.timezone.utc)}, {'comment_id': 2607810886, 'issue_id': 2802901712, 'author': 'alexkuhn', 'body': ""Hello, the `callComponent` prop was introduced for `MessageReactionButton` to define an anchor for the emoji picker. The drawback of this approach is that `MessageReactionButton` template has to be manually changed to match the same message action style as in `message.xml`.\r\n\r\nWe could have instead put logic in message action, without introducing the component, but we choose the custom component because this was more flexible when implementing the message_action to solve style consistency for most message actions. Also `MessageReactionButton` is necessarily the 1st action thanks to its sequence that's the lowest, so that's also a reason why this `callComponent` has been made with only quick actions in mind.\r\n\r\nI don't mind to have `callComponent` taking precedence even in dropdown, but please note that this puts more responsibility for the custom component to have a style that works in both contexts (quick and dropdown)."", 'created_at': datetime.datetime(2025, 1, 22, 17, 12, 49, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-21 22:01:53 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/194643.png)](https://mergebot.odoo.com/odoo/odoo/pull/194643)

alexkuhn on (2025-01-22 17:12:49 UTC): Hello, the `callComponent` prop was introduced for `MessageReactionButton` to define an anchor for the emoji picker. The drawback of this approach is that `MessageReactionButton` template has to be manually changed to match the same message action style as in `message.xml`.

We could have instead put logic in message action, without introducing the component, but we choose the custom component because this was more flexible when implementing the message_action to solve style consistency for most message actions. Also `MessageReactionButton` is necessarily the 1st action thanks to its sequence that's the lowest, so that's also a reason why this `callComponent` has been made with only quick actions in mind.

I don't mind to have `callComponent` taking precedence even in dropdown, but please note that this puts more responsibility for the custom component to have a style that works in both contexts (quick and dropdown).

"
2802896051,pull_request,closed,,[FW][FIX] point_of_sale: fix preparation receipt,"Product variant with creation type ""always"" would not be printer on the preparation receipt.

Steps to reproduce:
-------------------
* Create a product and add a variant with creation type ""always""
* Add a preparation printer to the point of sale
* Create a new order and add the product with the variant
* Validate the order and check the preparation receipt
> Observation: the product variant is not printed on the receipt

Why the fix:
------------
The product variant was not printed on the preparation receipt because the variant is added to the display name of the product and doesn't appear in the attribute list.

This fix also add the first test for the preparation receipt. This should be improved in the future to cover more cases.

opw-4450217

Forward-Port-Of: odoo/odoo#194603
Forward-Port-Of: odoo/odoo#193776",fw-bot,2025-01-21 21:58:08+00:00,[],2025-02-06 13:55:21+00:00,2025-01-23 13:45:10+00:00,https://github.com/odoo/odoo/pull/194642,"[('OE', 'the report is linked to a support ticket (opw-...)'), ('forwardport', 'This PR was created by @fw-bot'), ('18.2', None)]","[{'comment_id': 2605823664, 'issue_id': 2802896051, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/194642.png)](https://mergebot.odoo.com/odoo/odoo/pull/194642)', 'created_at': datetime.datetime(2025, 1, 21, 21, 58, 9, tzinfo=datetime.timezone.utc)}, {'comment_id': 2605823685, 'issue_id': 2802896051, 'author': 'fw-bot', 'body': '@robinengels @caburj this PR targets master and is the last of the forward-port chain.\n\nTo merge the full chain, use\n> @robodoo r+\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 21, 21, 58, 10, tzinfo=datetime.timezone.utc)}, {'comment_id': 2606995382, 'issue_id': 2802896051, 'author': 'robinengels', 'body': '@robodoo r+', 'created_at': datetime.datetime(2025, 1, 22, 11, 31, 9, tzinfo=datetime.timezone.utc)}, {'comment_id': 2608294699, 'issue_id': 2802896051, 'author': 'robodoo', 'body': '@robinengels @caburj staging failed: ci/runbot on b05bbfa533307d27ae1a0903aef9c41f72e4f614 (view more at https://runbot.odoo.com/runbot/build/73783695)', 'created_at': datetime.datetime(2025, 1, 22, 21, 20, 59, tzinfo=datetime.timezone.utc)}, {'comment_id': 2608306161, 'issue_id': 2802896051, 'author': 'd-fence', 'body': 'robodoo retry\r\n(failing test deactivated)', 'created_at': datetime.datetime(2025, 1, 22, 21, 28, 4, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-21 21:58:09 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/194642.png)](https://mergebot.odoo.com/odoo/odoo/pull/194642)

fw-bot (Issue Creator) on (2025-01-21 21:58:10 UTC): @robinengels @caburj this PR targets master and is the last of the forward-port chain.

To merge the full chain, use

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

robinengels on (2025-01-22 11:31:09 UTC): @robodoo r+

robodoo on (2025-01-22 21:20:59 UTC): @robinengels @caburj staging failed: ci/runbot on b05bbfa533307d27ae1a0903aef9c41f72e4f614 (view more at https://runbot.odoo.com/runbot/build/73783695)

d-fence on (2025-01-22 21:28:04 UTC): robodoo retry
(failing test deactivated)

"
2802866518,pull_request,closed,,[FW][IMP] web: showing module_loader errors,"Before this commit, the module_loader was showing error by empty the DOM and then adding his element with the errors. The issue is, if you have an error because of custom script or after an upgrade, then you were lockout because the DOM with empty and you cannot go fix the script.

After this commit, a shorter message will be shown in the bottom-left of the screen. This message will invite the user to check the devtool to have more details about the error.


---
I confirm I have signed the CLA and read the PR guidelines at www.odoo.com/submit-pr

Forward-Port-Of: odoo/odoo#194445
Forward-Port-Of: odoo/odoo#193912",fw-bot,2025-01-21 21:39:27+00:00,[],2025-02-06 13:55:27+00:00,2025-01-23 13:45:54+00:00,https://github.com/odoo/odoo/pull/194641,"[('RD', 'research & development, internal work'), ('forwardport', 'This PR was created by @fw-bot'), ('18.2', None)]","[{'comment_id': 2605793448, 'issue_id': 2802866518, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/194641.png)](https://mergebot.odoo.com/odoo/odoo/pull/194641)', 'created_at': datetime.datetime(2025, 1, 21, 21, 39, 28, tzinfo=datetime.timezone.utc)}, {'comment_id': 2605793468, 'issue_id': 2802866518, 'author': 'fw-bot', 'body': '@bastien-ipb @ged-odoo this PR targets master and is the last of the forward-port chain containing:\n* odoo/odoo#194574\n\nTo merge the full chain, use\n> @robodoo r+\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 21, 21, 39, 29, tzinfo=datetime.timezone.utc)}, {'comment_id': 2605860142, 'issue_id': 2802866518, 'author': 'fw-bot', 'body': '@bastien-ipb @ged-odoo ci/runbot failed on this forward-port PR', 'created_at': datetime.datetime(2025, 1, 21, 22, 22, 6, tzinfo=datetime.timezone.utc)}, {'comment_id': 2609151515, 'issue_id': 2802866518, 'author': 'bastien-ipb', 'body': '@robodoo r+', 'created_at': datetime.datetime(2025, 1, 23, 8, 29, 32, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-21 21:39:28 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/194641.png)](https://mergebot.odoo.com/odoo/odoo/pull/194641)

fw-bot (Issue Creator) on (2025-01-21 21:39:29 UTC): @bastien-ipb @ged-odoo this PR targets master and is the last of the forward-port chain containing:
* odoo/odoo#194574

To merge the full chain, use

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

fw-bot (Issue Creator) on (2025-01-21 22:22:06 UTC): @bastien-ipb @ged-odoo ci/runbot failed on this forward-port PR

bastien-ipb on (2025-01-23 08:29:32 UTC): @robodoo r+

"
2802813053,pull_request,closed,,[FW][FIX] web: burger menu memory leak,"The event listeners are never removed when the component is unmounted which means to global `env.bus` always keeps a reference to this component and everything that goes with it, including its (child)env.

In version 18.0, the spreadsheet client action instantiates its own `BurgerMenu` component and also adds the spreadsheet `model` in the action child env (which can be expensive memory-wise)



---
I confirm I have signed the CLA and read the PR guidelines at www.odoo.com/submit-pr

Forward-Port-Of: odoo/odoo#194587
Forward-Port-Of: odoo/odoo#194485",fw-bot,2025-01-21 21:06:54+00:00,[],2025-02-05 13:21:00+00:00,2025-01-22 13:01:00+00:00,https://github.com/odoo/odoo/pull/194640,"[('RD', 'research & development, internal work'), ('forwardport', 'This PR was created by @fw-bot')]","[{'comment_id': 2605740304, 'issue_id': 2802813053, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/194640.png)](https://mergebot.odoo.com/odoo/odoo/pull/194640)', 'created_at': datetime.datetime(2025, 1, 21, 21, 6, 55, tzinfo=datetime.timezone.utc)}, {'comment_id': 2605740328, 'issue_id': 2802813053, 'author': 'fw-bot', 'body': 'This PR targets saas-17.4 and is part of the forward-port chain. Further PRs will be created up to master.\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 21, 21, 6, 56, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-21 21:06:55 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/194640.png)](https://mergebot.odoo.com/odoo/odoo/pull/194640)

fw-bot (Issue Creator) on (2025-01-21 21:06:56 UTC): This PR targets saas-17.4 and is part of the forward-port chain. Further PRs will be created up to master.

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

"
2802794318,pull_request,closed,,[FW][FIX] web_editor: fix custom block translations,"Steps to reproduce:

- Add a ""Call To Action"" block on the homepage > Save it as a custom
snippet.
- Add a new page > Drop the saved custom block on it > Drop Also
another ""Title"" block.
- Translate the custom block in the new page > At this point, the
translation is fine.
- Go to ""Edit"" mode > Edit the other block (""Title"") > Save.
- The translations for the custom ""Call To Action"" is lost.

Starting from [1], the translation of custom snippets was supported and
when dropping a saved custom snippet in a page/view, the snippet will
copy its translation from the saved view (see:
`_copy_custom_snippet_translations()`). This code will always update the
terms in the translation dictionary, even when the page has its custom
translation for them.

The goal of this commit is to fix this behavior by only allowing the
update of a term translation when the page has no custom translation
for it.

[1]: https://github.com/odoo/odoo/commit/d3426b7714012e833caae10281cfb8433223299a

opw-3930862
opw-4141290

Forward-Port-Of: odoo/odoo#194234
Forward-Port-Of: odoo/odoo#177960",fw-bot,2025-01-21 20:56:06+00:00,[],2025-02-05 23:11:16+00:00,2025-01-22 23:04:16+00:00,https://github.com/odoo/odoo/pull/194639,"[('OE', 'the report is linked to a support ticket (opw-...)'), ('forwardport', 'This PR was created by @fw-bot')]","[{'comment_id': 2605721169, 'issue_id': 2802794318, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/194639.png)](https://mergebot.odoo.com/odoo/odoo/pull/194639)', 'created_at': datetime.datetime(2025, 1, 21, 20, 56, 7, tzinfo=datetime.timezone.utc)}, {'comment_id': 2605721182, 'issue_id': 2802794318, 'author': 'fw-bot', 'body': 'This PR targets saas-18.1 and is part of the forward-port chain. Further PRs will be created up to master.\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 21, 20, 56, 8, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-21 20:56:07 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/194639.png)](https://mergebot.odoo.com/odoo/odoo/pull/194639)

fw-bot (Issue Creator) on (2025-01-21 20:56:08 UTC): This PR targets saas-18.1 and is part of the forward-port chain. Further PRs will be created up to master.

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

"
2802783608,pull_request,closed,,[FW][FIX] web_editor: check range count when positioning toolbar,"**Problem**:
In rare edge cases, the selection can have no ranges, causing a crash when attempting to `getRangeAt(0)`.

**Solution**:
Ensure there are ranges in the selection before accessing them.

**Steps to Reproduce**:
1. Split the window, with Odoo on one side and any other application on the other.
2. Navigate to a sales order in Odoo.
3. From the sales order, navigate to the partner.
4. Maximize the window.
5. Return to the sales order.
6. Split the window again.
7. Scroll down.

opw-4279813

---
I confirm I have signed the CLA and read the PR guidelines at www.odoo.com/submit-pr

Forward-Port-Of: odoo/odoo#194385",fw-bot,2025-01-21 20:49:53+00:00,[],2025-02-05 08:07:40+00:00,2025-01-22 08:02:18+00:00,https://github.com/odoo/odoo/pull/194638,"[('OE', 'the report is linked to a support ticket (opw-...)'), ('forwardport', 'This PR was created by @fw-bot')]","[{'comment_id': 2605710366, 'issue_id': 2802783608, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/194638.png)](https://mergebot.odoo.com/odoo/odoo/pull/194638)', 'created_at': datetime.datetime(2025, 1, 21, 20, 49, 54, tzinfo=datetime.timezone.utc)}, {'comment_id': 2605710383, 'issue_id': 2802783608, 'author': 'fw-bot', 'body': 'This PR targets 18.0 and is part of the forward-port chain. Further PRs will be created up to master.\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 21, 20, 49, 55, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-21 20:49:54 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/194638.png)](https://mergebot.odoo.com/odoo/odoo/pull/194638)

fw-bot (Issue Creator) on (2025-01-21 20:49:55 UTC): This PR targets 18.0 and is part of the forward-port chain. Further PRs will be created up to master.

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

"
2802759886,pull_request,closed,,[FIX] point_of_sale: add additional field in product loader,"Issue -->

Using the 'product.product.name' field in loyalty.reward.discount_product_domain that is not added via the `_loader_params_product_product` loader causes an error in the matchCondition function
https://github.com/odoo/odoo/blob/9b0f528aa02743372934df8e64d1cc0ad74903b6/addons/web/static/src/core/domain.js#L331 where variable fieldValue is undefined if the field is not available.

Solution -->

Adding the `name` field search parameters in the `_loader_params_product_product` similar to https://github.com/odoo/odoo/pull/186804

opw-4410460

",adda-odoo,2025-01-21 20:35:44+00:00,[],2025-02-05 12:03:59+00:00,2025-01-22 12:01:35+00:00,https://github.com/odoo/odoo/pull/194637,"[('OE', 'the report is linked to a support ticket (opw-...)')]","[{'comment_id': 2605686096, 'issue_id': 2802759886, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/194637.png)](https://mergebot.odoo.com/odoo/odoo/pull/194637)', 'created_at': datetime.datetime(2025, 1, 21, 20, 35, 48, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-21 20:35:48 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/194637.png)](https://mergebot.odoo.com/odoo/odoo/pull/194637)

"
2802667296,pull_request,closed,,[FW][FIX] web_editor: fix custom block translations,"Steps to reproduce:

- Add a ""Call To Action"" block on the homepage > Save it as a custom
snippet.
- Add a new page > Drop the saved custom block on it > Drop Also
another ""Title"" block.
- Translate the custom block in the new page > At this point, the
translation is fine.
- Go to ""Edit"" mode > Edit the other block (""Title"") > Save.
- The translations for the custom ""Call To Action"" is lost.

Starting from [1], the translation of custom snippets was supported and
when dropping a saved custom snippet in a page/view, the snippet will
copy its translation from the saved view (see:
`_copy_custom_snippet_translations()`). This code will always update the
terms in the translation dictionary, even when the page has its custom
translation for them.

The goal of this commit is to fix this behavior by only allowing the
update of a term translation when the page has no custom translation
for it.

[1]: https://github.com/odoo/odoo/commit/d3426b7714012e833caae10281cfb8433223299a

opw-3930862
opw-4141290

Forward-Port-Of: odoo/odoo#194234
Forward-Port-Of: odoo/odoo#177960",fw-bot,2025-01-21 19:44:07+00:00,[],2025-02-06 05:11:27+00:00,2025-01-23 04:24:20+00:00,https://github.com/odoo/odoo/pull/194635,"[('OE', 'the report is linked to a support ticket (opw-...)'), ('forwardport', 'This PR was created by @fw-bot')]","[{'comment_id': 2605595119, 'issue_id': 2802667296, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/194635.png)](https://mergebot.odoo.com/odoo/odoo/pull/194635)', 'created_at': datetime.datetime(2025, 1, 21, 19, 44, 8, tzinfo=datetime.timezone.utc)}, {'comment_id': 2605595140, 'issue_id': 2802667296, 'author': 'fw-bot', 'body': 'This PR targets 18.0 and is part of the forward-port chain. Further PRs will be created up to master.\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 21, 19, 44, 9, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-21 19:44:08 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/194635.png)](https://mergebot.odoo.com/odoo/odoo/pull/194635)

fw-bot (Issue Creator) on (2025-01-21 19:44:09 UTC): This PR targets 18.0 and is part of the forward-port chain. Further PRs will be created up to master.

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

"
2802662718,pull_request,closed,,[FW][FIX] hr: fix singleton record error,"### Description of the issue/feature this PR addresses:

- The [_get_plan_available_base_domain()](https://github.com/odoo/odoo/blob/18.0/addons/mail/wizard/mail_activity_schedule.py#L330) method is built and `self.ensure_one()` is placed in it but it is called in `_compute_plan_available_ids()` with `self` which can have multiple records

### Current behavior before PR:
- The error `ValueError: Expected singleton: mail.activity.schedule(1, 2)` occurred

### Desired behavior after PR is merged:
- The problem has been fixed.



---
I confirm I have signed the CLA and read the PR guidelines at www.odoo.com/submit-pr

Forward-Port-Of: odoo/odoo#194338",fw-bot,2025-01-21 19:41:16+00:00,[],2025-01-27 15:48:56+00:00,2025-01-27 15:48:55+00:00,https://github.com/odoo/odoo/pull/194634,"[('RD', 'research & development, internal work'), ('forwardport', 'This PR was created by @fw-bot')]","[{'comment_id': 2605590077, 'issue_id': 2802662718, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/194634.png)](https://mergebot.odoo.com/odoo/odoo/pull/194634)', 'created_at': datetime.datetime(2025, 1, 21, 19, 41, 17, tzinfo=datetime.timezone.utc)}, {'comment_id': 2605590107, 'issue_id': 2802662718, 'author': 'fw-bot', 'body': 'This PR targets saas-17.4 and is part of the forward-port chain. Further PRs will be created up to master.\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 21, 19, 41, 18, tzinfo=datetime.timezone.utc)}, {'comment_id': 2605672742, 'issue_id': 2802662718, 'author': 'fw-bot', 'body': '@JocelynVN @Bertrand2 ci/runbot failed on this forward-port PR', 'created_at': datetime.datetime(2025, 1, 21, 20, 27, 49, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-21 19:41:17 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/194634.png)](https://mergebot.odoo.com/odoo/odoo/pull/194634)

fw-bot (Issue Creator) on (2025-01-21 19:41:18 UTC): This PR targets saas-17.4 and is part of the forward-port chain. Further PRs will be created up to master.

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

fw-bot (Issue Creator) on (2025-01-21 20:27:49 UTC): @JocelynVN @Bertrand2 ci/runbot failed on this forward-port PR

"
2802645366,pull_request,closed,,[FW][FIX] point_of_sale: translate created journals,"In the onboarding wizard, we create a cash journal for different scenarios. However the names of these journals were not translatable.

We make them translatable in this commit.

Forward-Port-Of: odoo/odoo#194604
Forward-Port-Of: odoo/odoo#194337",fw-bot,2025-01-21 19:30:38+00:00,[],2025-02-05 02:37:31+00:00,2025-01-22 01:36:25+00:00,https://github.com/odoo/odoo/pull/194633,"[('RD', 'research & development, internal work'), ('forwardport', 'This PR was created by @fw-bot'), ('18.2', None)]","[{'comment_id': 2605571084, 'issue_id': 2802645366, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/194633.png)](https://mergebot.odoo.com/odoo/odoo/pull/194633)', 'created_at': datetime.datetime(2025, 1, 21, 19, 30, 40, tzinfo=datetime.timezone.utc)}, {'comment_id': 2605571103, 'issue_id': 2802645366, 'author': 'fw-bot', 'body': '@dylankiss @ticodoo this PR targets master and is the last of the forward-port chain.\n\nTo merge the full chain, use\n> @robodoo r+\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 21, 19, 30, 41, tzinfo=datetime.timezone.utc)}, {'comment_id': 2605983757, 'issue_id': 2802645366, 'author': 'dylankiss', 'body': '@robodoo r+', 'created_at': datetime.datetime(2025, 1, 21, 23, 58, 20, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-21 19:30:40 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/194633.png)](https://mergebot.odoo.com/odoo/odoo/pull/194633)

fw-bot (Issue Creator) on (2025-01-21 19:30:41 UTC): @dylankiss @ticodoo this PR targets master and is the last of the forward-port chain.

To merge the full chain, use

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

dylankiss on (2025-01-21 23:58:20 UTC): @robodoo r+

"
2802644815,pull_request,closed,,[FW][FIX] pos_mercado_pago: undefined payment_method on MP callback,"Before this commit:
Once receveiving Mercado Pago callback, a JS traceback would occur:
```js
TypeError: Cannot read properties of undefined (reading 'payment_method')
at Proxy.get_payment
```

opw-4349957

Forward-Port-Of: odoo/odoo#194204
Forward-Port-Of: odoo/odoo#194112",fw-bot,2025-01-21 19:30:18+00:00,[],2025-02-05 08:23:56+00:00,2025-01-22 08:15:22+00:00,https://github.com/odoo/odoo/pull/194632,"[('OE', 'the report is linked to a support ticket (opw-...)'), ('forwardport', 'This PR was created by @fw-bot'), ('18.2', None)]","[{'comment_id': 2605571037, 'issue_id': 2802644815, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/194632.png)](https://mergebot.odoo.com/odoo/odoo/pull/194632)', 'created_at': datetime.datetime(2025, 1, 21, 19, 30, 38, tzinfo=datetime.timezone.utc)}, {'comment_id': 2605571059, 'issue_id': 2802644815, 'author': 'fw-bot', 'body': '@lse-odoo @caburj this PR targets master and is the last of the forward-port chain.\n\nTo merge the full chain, use\n> @robodoo r+\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 21, 19, 30, 39, tzinfo=datetime.timezone.utc)}, {'comment_id': 2606118874, 'issue_id': 2802644815, 'author': 'fw-bot', 'body': '@lse-odoo @caburj this forward port of odoo/odoo#194112 is awaiting action (not merged or closed).', 'created_at': datetime.datetime(2025, 1, 22, 2, 1, 15, tzinfo=datetime.timezone.utc)}, {'comment_id': 2606435662, 'issue_id': 2802644815, 'author': 'lse-odoo', 'body': '@robodoo r+', 'created_at': datetime.datetime(2025, 1, 22, 6, 55, 5, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-21 19:30:38 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/194632.png)](https://mergebot.odoo.com/odoo/odoo/pull/194632)

fw-bot (Issue Creator) on (2025-01-21 19:30:39 UTC): @lse-odoo @caburj this PR targets master and is the last of the forward-port chain.

To merge the full chain, use

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

fw-bot (Issue Creator) on (2025-01-22 02:01:15 UTC): @lse-odoo @caburj this forward port of odoo/odoo#194112 is awaiting action (not merged or closed).

lse-odoo on (2025-01-22 06:55:05 UTC): @robodoo r+

"
2802618251,pull_request,closed,,[FW][FIX] base_automation: hide domain for on_change's,"Before this commit, the base.automation form view displays the filter_domain field when on_change trigger type is selected but the code does not take into account the filter_domain value for this type of trigger.

After this commit, this field is simply hidden in that case.

Task: opw-4492554

Forward-Port-Of: odoo/odoo#194520
Forward-Port-Of: odoo/odoo#194158",fw-bot,2025-01-21 19:14:14+00:00,[],2025-02-06 15:33:41+00:00,2025-01-23 15:23:23+00:00,https://github.com/odoo/odoo/pull/194631,"[('OE', 'the report is linked to a support ticket (opw-...)'), ('forwardport', 'This PR was created by @fw-bot'), ('18.2', None)]","[{'comment_id': 2605541390, 'issue_id': 2802618251, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/194631.png)](https://mergebot.odoo.com/odoo/odoo/pull/194631)', 'created_at': datetime.datetime(2025, 1, 21, 19, 14, 15, tzinfo=datetime.timezone.utc)}, {'comment_id': 2605541405, 'issue_id': 2802618251, 'author': 'fw-bot', 'body': '@brboi @ryv-odoo this PR targets master and is the last of the forward-port chain containing:\n* odoo/odoo#194617\n\nTo merge the full chain, use\n> @robodoo r+\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 21, 19, 14, 16, tzinfo=datetime.timezone.utc)}, {'comment_id': 2609288519, 'issue_id': 2802618251, 'author': 'brboi', 'body': ""@robodoo r+\r\nnb: we'll introduce domain filtering for on_change server actions soon - opw-4496668"", 'created_at': datetime.datetime(2025, 1, 23, 9, 23, 3, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-21 19:14:15 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/194631.png)](https://mergebot.odoo.com/odoo/odoo/pull/194631)

fw-bot (Issue Creator) on (2025-01-21 19:14:16 UTC): @brboi @ryv-odoo this PR targets master and is the last of the forward-port chain containing:
* odoo/odoo#194617

To merge the full chain, use

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

brboi on (2025-01-23 09:23:03 UTC): @robodoo r+
nb: we'll introduce domain filtering for on_change server actions soon - opw-4496668

"
2802568757,pull_request,closed,,[FW][FIX] l10n_es_pos_tbai: Add refund reason in pos,"Refund order in spain require a refund reason.

Steps to reproduce:
-------------------
* Install l10n_es_pos_tbai module
* Open PoS
* Make an order and try to refund it
> Observation: You get an error message saying that you need to add a
refund reason

opw-4282586

Forward-Port-Of: odoo/odoo#192538
Forward-Port-Of: odoo/odoo#191205",fw-bot,2025-01-21 18:45:51+00:00,[],2025-01-22 11:39:19+00:00,2025-01-22 11:39:19+00:00,https://github.com/odoo/odoo/pull/194630,"[('OE', 'the report is linked to a support ticket (opw-...)'), ('forwardport', 'This PR was created by @fw-bot'), ('conflict', 'There was an error while creating this forward-port PR')]","[{'comment_id': 2605490664, 'issue_id': 2802568757, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/194630.png)](https://mergebot.odoo.com/odoo/odoo/pull/194630)', 'created_at': datetime.datetime(2025, 1, 21, 18, 45, 52, tzinfo=datetime.timezone.utc)}, {'comment_id': 2605490694, 'issue_id': 2802568757, 'author': 'fw-bot', 'body': '@robinengels @william-andre cherrypicking of pull request odoo/odoo#191205 failed.\n\nstdout:\n```\nAuto-merging addons/l10n_es_edi_tbai_pos/__manifest__.py\nAuto-merging addons/l10n_es_edi_tbai_pos/static/src/overrides/models/order.js\nCONFLICT (content): Merge conflict in addons/l10n_es_edi_tbai_pos/static/src/overrides/models/order.js\nCONFLICT (modify/delete): addons/l10n_es_pos_tbai/models/__init__.py deleted in 24c1b92cd94587f5c7958a19be08ec5791584ada and modified in b715eea345f59f82d17017483fa08bc88a403ada.  Version b715eea345f59f82d17017483fa08bc88a403ada of addons/l10n_es_pos_tbai/models/__init__.py left in tree.\nCONFLICT (modify/delete): addons/l10n_es_pos_tbai/models/pos_order.py deleted in 24c1b92cd94587f5c7958a19be08ec5791584ada and modified in b715eea345f59f82d17017483fa08bc88a403ada.  Version b715eea345f59f82d17017483fa08bc88a403ada of addons/l10n_es_pos_tbai/models/pos_order.py left in tree.\nAuto-merging addons/web/tooling/_eslintignore\n\n```\n\nEither perform the forward-port manually (and push to this branch, proceeding as usual) or close this PR (maybe?).\n\nIn the former case, you may want to edit this PR message as well.\n\n:warning: after resolving this conflict, you will need to merge it via @robodoo.\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 21, 18, 45, 53, tzinfo=datetime.timezone.utc)}, {'comment_id': 2607012770, 'issue_id': 2802568757, 'author': 'robinengels', 'body': 'Already fixed by this commit : https://github.com/odoo/odoo/commit/46096344cbb37eb8a3755568f02e21edece3eac7', 'created_at': datetime.datetime(2025, 1, 22, 11, 39, 16, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-21 18:45:52 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/194630.png)](https://mergebot.odoo.com/odoo/odoo/pull/194630)

fw-bot (Issue Creator) on (2025-01-21 18:45:53 UTC): @robinengels @william-andre cherrypicking of pull request odoo/odoo#191205 failed.

stdout:
```
Auto-merging addons/l10n_es_edi_tbai_pos/__manifest__.py
Auto-merging addons/l10n_es_edi_tbai_pos/static/src/overrides/models/order.js
CONFLICT (content): Merge conflict in addons/l10n_es_edi_tbai_pos/static/src/overrides/models/order.js
CONFLICT (modify/delete): addons/l10n_es_pos_tbai/models/__init__.py deleted in 24c1b92cd94587f5c7958a19be08ec5791584ada and modified in b715eea345f59f82d17017483fa08bc88a403ada.  Version b715eea345f59f82d17017483fa08bc88a403ada of addons/l10n_es_pos_tbai/models/__init__.py left in tree.
CONFLICT (modify/delete): addons/l10n_es_pos_tbai/models/pos_order.py deleted in 24c1b92cd94587f5c7958a19be08ec5791584ada and modified in b715eea345f59f82d17017483fa08bc88a403ada.  Version b715eea345f59f82d17017483fa08bc88a403ada of addons/l10n_es_pos_tbai/models/pos_order.py left in tree.
Auto-merging addons/web/tooling/_eslintignore

```

Either perform the forward-port manually (and push to this branch, proceeding as usual) or close this PR (maybe?).

In the former case, you may want to edit this PR message as well.

:warning: after resolving this conflict, you will need to merge it via @robodoo.

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

robinengels on (2025-01-22 11:39:16 UTC): Already fixed by this commit : https://github.com/odoo/odoo/commit/46096344cbb37eb8a3755568f02e21edece3eac7

"
2802544157,pull_request,closed,,[FW][FIX] hr: fix singleton record error,"### Description of the issue/feature this PR addresses:

- The [_get_plan_available_base_domain()](https://github.com/odoo/odoo/blob/18.0/addons/mail/wizard/mail_activity_schedule.py#L330) method is built and `self.ensure_one()` is placed in it but it is called in `_compute_plan_available_ids()` with `self` which can have multiple records

### Current behavior before PR:
- The error `ValueError: Expected singleton: mail.activity.schedule(1, 2)` occurred

### Desired behavior after PR is merged:
- The problem has been fixed.



---
I confirm I have signed the CLA and read the PR guidelines at www.odoo.com/submit-pr

Forward-Port-Of: odoo/odoo#194338",fw-bot,2025-01-21 18:32:48+00:00,[],2025-01-27 16:32:40+00:00,2025-01-27 16:32:40+00:00,https://github.com/odoo/odoo/pull/194629,"[('RD', 'research & development, internal work'), ('forwardport', 'This PR was created by @fw-bot')]","[{'comment_id': 2605466658, 'issue_id': 2802544157, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/194629.png)](https://mergebot.odoo.com/odoo/odoo/pull/194629)', 'created_at': datetime.datetime(2025, 1, 21, 18, 32, 49, tzinfo=datetime.timezone.utc)}, {'comment_id': 2605466682, 'issue_id': 2802544157, 'author': 'fw-bot', 'body': 'This PR targets saas-17.2 and is part of the forward-port chain. Further PRs will be created up to master.\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 21, 18, 32, 50, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-21 18:32:49 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/194629.png)](https://mergebot.odoo.com/odoo/odoo/pull/194629)

fw-bot (Issue Creator) on (2025-01-21 18:32:50 UTC): This PR targets saas-17.2 and is part of the forward-port chain. Further PRs will be created up to master.

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

"
2802538886,pull_request,closed,,[FW][FIX] web_editor: fix custom block translations,"Steps to reproduce:

- Add a ""Call To Action"" block on the homepage > Save it as a custom
snippet.
- Add a new page > Drop the saved custom block on it > Drop Also
another ""Title"" block.
- Translate the custom block in the new page > At this point, the
translation is fine.
- Go to ""Edit"" mode > Edit the other block (""Title"") > Save.
- The translations for the custom ""Call To Action"" is lost.

Starting from [1], the translation of custom snippets was supported and
when dropping a saved custom snippet in a page/view, the snippet will
copy its translation from the saved view (see:
`_copy_custom_snippet_translations()`). This code will always update the
terms in the translation dictionary, even when the page has its custom
translation for them.

The goal of this commit is to fix this behavior by only allowing the
update of a term translation when the page has no custom translation
for it.

[1]: https://github.com/odoo/odoo/commit/d3426b7714012e833caae10281cfb8433223299a

opw-3930862
opw-4141290

Forward-Port-Of: odoo/odoo#194234
Forward-Port-Of: odoo/odoo#177960",fw-bot,2025-01-21 18:29:44+00:00,[],2025-02-05 17:58:12+00:00,2025-01-22 17:57:27+00:00,https://github.com/odoo/odoo/pull/194628,"[('OE', 'the report is linked to a support ticket (opw-...)'), ('forwardport', 'This PR was created by @fw-bot')]","[{'comment_id': 2605460968, 'issue_id': 2802538886, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/194628.png)](https://mergebot.odoo.com/odoo/odoo/pull/194628)', 'created_at': datetime.datetime(2025, 1, 21, 18, 29, 45, tzinfo=datetime.timezone.utc)}, {'comment_id': 2605460995, 'issue_id': 2802538886, 'author': 'fw-bot', 'body': 'This PR targets saas-17.4 and is part of the forward-port chain. Further PRs will be created up to master.\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 21, 18, 29, 46, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-21 18:29:45 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/194628.png)](https://mergebot.odoo.com/odoo/odoo/pull/194628)

fw-bot (Issue Creator) on (2025-01-21 18:29:46 UTC): This PR targets saas-17.4 and is part of the forward-port chain. Further PRs will be created up to master.

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

"
2802538400,pull_request,closed,,[ADD] l10n_ch_hr_payroll_elm_account: Add accounting rules for Swissdec Payrol,"Related Enterprise PR : https://github.com/odoo/enterprise/pull/64454

---
I confirm I have signed the CLA and read the PR guidelines at www.odoo.com/submit-pr
",jugj-odoo,2025-01-21 18:29:27+00:00,[],2025-02-06 13:35:06+00:00,2025-02-06 13:30:35+00:00,https://github.com/odoo/odoo/pull/194627,"[('RD', 'research & development, internal work')]","[{'comment_id': 2605460534, 'issue_id': 2802538400, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/194627.png)](https://mergebot.odoo.com/odoo/odoo/pull/194627)', 'created_at': datetime.datetime(2025, 1, 21, 18, 29, 30, tzinfo=datetime.timezone.utc)}, {'comment_id': 2633560640, 'issue_id': 2802538400, 'author': 'tivisse', 'body': '@robodoo r+', 'created_at': datetime.datetime(2025, 2, 4, 10, 58, 43, tzinfo=datetime.timezone.utc)}, {'comment_id': 2633695395, 'issue_id': 2802538400, 'author': 'robodoo', 'body': '@jugj-odoo @tivisse linked pull request(s) odoo/enterprise#64454 not ready. Linked PRs are not staged until all of them are ready.', 'created_at': datetime.datetime(2025, 2, 4, 12, 0, 1, tzinfo=datetime.timezone.utc)}, {'comment_id': 2635033186, 'issue_id': 2802538400, 'author': 'robodoo', 'body': ""@jugj-odoo @tivisse 'ci/runbot' failed on this reviewed PR."", 'created_at': datetime.datetime(2025, 2, 4, 20, 44, 16, tzinfo=datetime.timezone.utc)}, {'comment_id': 2635067449, 'issue_id': 2802538400, 'author': 'robodoo', 'body': ""@jugj-odoo @tivisse 'ci/upgrade_enterprise' failed on this reviewed PR."", 'created_at': datetime.datetime(2025, 2, 4, 21, 1, 27, tzinfo=datetime.timezone.utc)}, {'comment_id': 2635067856, 'issue_id': 2802538400, 'author': 'robodoo', 'body': ""@jugj-odoo @tivisse 'ci/template' failed on this reviewed PR."", 'created_at': datetime.datetime(2025, 2, 4, 21, 1, 41, tzinfo=datetime.timezone.utc)}, {'comment_id': 2635173219, 'issue_id': 2802538400, 'author': 'robodoo', 'body': ""@jugj-odoo @tivisse 'ci/runbot' failed on this reviewed PR."", 'created_at': datetime.datetime(2025, 2, 4, 22, 3, 5, tzinfo=datetime.timezone.utc)}, {'comment_id': 2636472181, 'issue_id': 2802538400, 'author': 'robodoo', 'body': ""@jugj-odoo @tivisse 'ci/template' failed on this reviewed PR."", 'created_at': datetime.datetime(2025, 2, 5, 11, 29, 24, tzinfo=datetime.timezone.utc)}, {'comment_id': 2636472292, 'issue_id': 2802538400, 'author': 'robodoo', 'body': ""@jugj-odoo @tivisse 'ci/runbot' failed on this reviewed PR."", 'created_at': datetime.datetime(2025, 2, 5, 11, 29, 27, tzinfo=datetime.timezone.utc)}, {'comment_id': 2636592241, 'issue_id': 2802538400, 'author': 'robodoo', 'body': ""@jugj-odoo @tivisse 'ci/template' failed on this reviewed PR."", 'created_at': datetime.datetime(2025, 2, 5, 12, 26, 20, tzinfo=datetime.timezone.utc)}, {'comment_id': 2636595538, 'issue_id': 2802538400, 'author': 'robodoo', 'body': ""@jugj-odoo @tivisse 'ci/runbot' failed on this reviewed PR."", 'created_at': datetime.datetime(2025, 2, 5, 12, 27, 19, tzinfo=datetime.timezone.utc)}, {'comment_id': 2637036234, 'issue_id': 2802538400, 'author': 'tivisse', 'body': '@robodoo r-', 'created_at': datetime.datetime(2025, 2, 5, 14, 39, 23, tzinfo=datetime.timezone.utc)}, {'comment_id': 2639297924, 'issue_id': 2802538400, 'author': 'tivisse', 'body': '@robodoo r+', 'created_at': datetime.datetime(2025, 2, 6, 9, 39, 39, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-21 18:29:30 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/194627.png)](https://mergebot.odoo.com/odoo/odoo/pull/194627)

tivisse on (2025-02-04 10:58:43 UTC): @robodoo r+

robodoo on (2025-02-04 12:00:01 UTC): @jugj-odoo @tivisse linked pull request(s) odoo/enterprise#64454 not ready. Linked PRs are not staged until all of them are ready.

robodoo on (2025-02-04 20:44:16 UTC): @jugj-odoo @tivisse 'ci/runbot' failed on this reviewed PR.

robodoo on (2025-02-04 21:01:27 UTC): @jugj-odoo @tivisse 'ci/upgrade_enterprise' failed on this reviewed PR.

robodoo on (2025-02-04 21:01:41 UTC): @jugj-odoo @tivisse 'ci/template' failed on this reviewed PR.

robodoo on (2025-02-04 22:03:05 UTC): @jugj-odoo @tivisse 'ci/runbot' failed on this reviewed PR.

robodoo on (2025-02-05 11:29:24 UTC): @jugj-odoo @tivisse 'ci/template' failed on this reviewed PR.

robodoo on (2025-02-05 11:29:27 UTC): @jugj-odoo @tivisse 'ci/runbot' failed on this reviewed PR.

robodoo on (2025-02-05 12:26:20 UTC): @jugj-odoo @tivisse 'ci/template' failed on this reviewed PR.

robodoo on (2025-02-05 12:27:19 UTC): @jugj-odoo @tivisse 'ci/runbot' failed on this reviewed PR.

tivisse on (2025-02-05 14:39:23 UTC): @robodoo r-

tivisse on (2025-02-06 09:39:39 UTC): @robodoo r+

"
2802519039,pull_request,closed,,[FW][FIX] point_of_sale: Improve logging for PoS order sync,"Before this commit
PoS orders synchronisation can sometime happen in parallel. When it is the case, we can end up with situation of duplicated PoS orders stored in the backend. This can also be useful to cases where ""there is a receipt for the order XXX-YYY-ZZZ, but it does not appear in the backend!""

After this commit:
To ease the investigation of such cases, logs are added with various information to better understand customer flows and tracability when a PoS order is synced.

The main idea was added to the ""PoS order"" capture PR: https://github.com/odoo/odoo/pull/174562
But this one is waiting for other PR to be deployed due to the heavy PoS refactoring in 17.4. In the mean time, the logs part can be easily pushed in 17.4

Logs example:

New PoS order logs:
```
2024-12-16 16:55:32,254 49677 INFO oes_17.4_pos odoo.addons.point_of_sale.models.pos_order: PoS synchronisation #89627943 started for PoS orders references: [{'name': 'Order 00007-003-0001', 'uuid': '838043cb-8324-4b52-a45e-c8707f8975ff'}] 
2024-12-16 16:55:32,413 49677 INFO oes_17.4_pos odoo.addons.point_of_sale.models.pos_order: PoS synchronisation #89627943 order {'name': 'Order 00007-003-0001', 'uuid': '838043cb-8324-4b52-a45e-c8707f8975ff'} created pos.order #38 
2024-12-16 16:55:32,414 49677 INFO oes_17.4_pos odoo.addons.point_of_sale.models.pos_order: PoS synchronisation #89627943 finished 
2024-12-16 16:55:32,434 49677 INFO oes_17.4_pos werkzeug: 127.0.0.1 - - [16/Dec/2024 16:55:32] ""POST /web/dataset/call_kw/pos.order/sync_from_ui HTTP/1.1"" 200 - 90 0.070 0.114
```

Updated PoS restaurant order:
```
2024-12-16 16:36:27,190 43869 INFO oes_17.4_pos odoo.addons.point_of_sale.models.pos_order: PoS synchronisation #99444056 started for PoS orders references: [{'name': 'Restaurant/00004', 'uuid': '9653201c-1c04-4679-99b8-61d2ae91fc87'}] 
2024-12-16 16:36:27,331 43869 INFO oes_17.4_pos odoo.addons.point_of_sale.models.pos_order: PoS synchronisation #99444056 order {'name': 'Restaurant/00004', 'uuid': '9653201c-1c04-4679-99b8-61d2ae91fc87'} updated pos.order #12 
2024-12-16 16:36:27,331 43869 INFO oes_17.4_pos odoo.addons.point_of_sale.models.pos_order: PoS synchronisation #99444056 finished 
2024-12-16 16:36:27,348 43869 INFO oes_17.4_pos werkzeug: 127.0.0.1 - - [16/Dec/2024 16:36:27] ""POST /web/dataset/call_kw/pos.order/sync_from_ui HTTP/1.1"" 200 - 101 0.059 0.425
```

opw-3650239

Forward-Port-Of: odoo/odoo#194498
Forward-Port-Of: odoo/odoo#190734",fw-bot,2025-01-21 18:18:27+00:00,[],2025-02-05 11:42:17+00:00,2025-01-22 11:40:30+00:00,https://github.com/odoo/odoo/pull/194626,"[('OE', 'the report is linked to a support ticket (opw-...)'), ('forwardport', 'This PR was created by @fw-bot'), ('conflict', 'There was an error while creating this forward-port PR'), ('18.2', None)]","[{'comment_id': 2605439343, 'issue_id': 2802519039, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/194626.png)](https://mergebot.odoo.com/odoo/odoo/pull/194626)', 'created_at': datetime.datetime(2025, 1, 21, 18, 18, 28, tzinfo=datetime.timezone.utc)}, {'comment_id': 2605439366, 'issue_id': 2802519039, 'author': 'fw-bot', 'body': '@lse-odoo @caburj cherrypicking of pull request odoo/odoo#190734 failed.\n\nstdout:\n```\nAuto-merging addons/point_of_sale/models/pos_order.py\nCONFLICT (content): Merge conflict in addons/point_of_sale/models/pos_order.py\n\n```\n\nEither perform the forward-port manually (and push to this branch, proceeding as usual) or close this PR (maybe?).\n\nIn the former case, you may want to edit this PR message as well.\n\n:warning: after resolving this conflict, you will need to merge it via @robodoo.\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 21, 18, 18, 29, tzinfo=datetime.timezone.utc)}, {'comment_id': 2606434295, 'issue_id': 2802519039, 'author': 'lse-odoo', 'body': '@robodoo r+', 'created_at': datetime.datetime(2025, 1, 22, 6, 54, 2, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-21 18:18:28 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/194626.png)](https://mergebot.odoo.com/odoo/odoo/pull/194626)

fw-bot (Issue Creator) on (2025-01-21 18:18:29 UTC): @lse-odoo @caburj cherrypicking of pull request odoo/odoo#190734 failed.

stdout:
```
Auto-merging addons/point_of_sale/models/pos_order.py
CONFLICT (content): Merge conflict in addons/point_of_sale/models/pos_order.py

```

Either perform the forward-port manually (and push to this branch, proceeding as usual) or close this PR (maybe?).

In the former case, you may want to edit this PR message as well.

:warning: after resolving this conflict, you will need to merge it via @robodoo.

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

lse-odoo on (2025-01-22 06:54:02 UTC): @robodoo r+

"
2802518460,pull_request,closed,,"[FW][FIX] base,core: commit module load after marked installed","Given the following module hierarchy:
<pre>
...
   \_ mid_level_module
                      \_ auto_install_module
                      \_ module_with_data_error
</pre>
Where:
* The auto install module has (for sake of example) some a model override of `ResCurrency` that defines a new method for the class. This module also has some data that defines an `IrCron` record, which executes the method added by the `ResCurrency` override within its own model files.

* The data error module has a view extension which has some bad syntax that will trigger a failure in `load_data()`.

Upon running an odoo instance with `-i module_with_data_error`, the module load will proceed until failing at this module- however the CRON data loaded from `auto_install_module` will be in the `ir_cron` postgres table, while its overridden method is not in the registry.

***

The problem occurs because a package's data/schema changes are committed prior to actually marking the module record as installed- so the mark install step doesn't get committed until the subsequent package data/schema changes are committed.

When the data_error module fails to have its data loaded, we will reset `to_install` modules as `uninstalled`- but because the module state changes from the prior package (auto_install) were not yet committed, it will not attempt to reinstall this package upon re-initialization (receiving a new request which un-rests the server).

So we are left with the CRON record which was committed already, without the actual model override required for the CRON to run.

***

If we modify the module state before committing, the issue is no longer present.

Forward-Port-Of: odoo/odoo#186901",fw-bot,2025-01-21 18:18:08+00:00,[],2025-02-07 12:38:47+00:00,2025-01-24 12:28:53+00:00,https://github.com/odoo/odoo/pull/194625,"[('RD', 'research & development, internal work'), ('forwardport', 'This PR was created by @fw-bot'), ('18.2', None)]","[{'comment_id': 2605438756, 'issue_id': 2802518460, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/194625.png)](https://mergebot.odoo.com/odoo/odoo/pull/194625)', 'created_at': datetime.datetime(2025, 1, 21, 18, 18, 9, tzinfo=datetime.timezone.utc)}, {'comment_id': 2605438783, 'issue_id': 2802518460, 'author': 'fw-bot', 'body': '@ethanrobv @rco-odoo this PR targets master and is the last of the forward-port chain.\n\nTo merge the full chain, use\n> @robodoo r+\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 21, 18, 18, 9, tzinfo=datetime.timezone.utc)}, {'comment_id': 2612046256, 'issue_id': 2802518460, 'author': 'ethanrobv', 'body': '@robodoo r+', 'created_at': datetime.datetime(2025, 1, 24, 9, 21, 55, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-21 18:18:09 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/194625.png)](https://mergebot.odoo.com/odoo/odoo/pull/194625)

fw-bot (Issue Creator) on (2025-01-21 18:18:09 UTC): @ethanrobv @rco-odoo this PR targets master and is the last of the forward-port chain.

To merge the full chain, use

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

ethanrobv on (2025-01-24 09:21:55 UTC): @robodoo r+

"
2802517568,pull_request,closed,,[FW][FIX] point_of_sale: prevent error when loading order,"Before this commit, selecting an order from the order list and attempting to load it would result in an error.

opw-4251717

---
I confirm I have signed the CLA and read the PR guidelines at www.odoo.com/submit-pr

Forward-Port-Of: odoo/odoo#194092
Forward-Port-Of: odoo/odoo#184754",fw-bot,2025-01-21 18:17:37+00:00,[],2025-02-05 14:13:30+00:00,2025-01-22 14:10:10+00:00,https://github.com/odoo/odoo/pull/194624,"[('OE', 'the report is linked to a support ticket (opw-...)'), ('forwardport', 'This PR was created by @fw-bot'), ('18.2', None)]","[{'comment_id': 2605437905, 'issue_id': 2802517568, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/194624.png)](https://mergebot.odoo.com/odoo/odoo/pull/194624)', 'created_at': datetime.datetime(2025, 1, 21, 18, 17, 39, tzinfo=datetime.timezone.utc)}, {'comment_id': 2605437946, 'issue_id': 2802517568, 'author': 'fw-bot', 'body': '@pedrambiria @davidmonnom this PR targets master and is the last of the forward-port chain.\n\nTo merge the full chain, use\n> @robodoo r+\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 21, 18, 17, 41, tzinfo=datetime.timezone.utc)}, {'comment_id': 2606120248, 'issue_id': 2802517568, 'author': 'fw-bot', 'body': '@pedrambiria @davidmonnom this forward port of odoo/odoo#184754 is awaiting action (not merged or closed).', 'created_at': datetime.datetime(2025, 1, 22, 2, 2, 14, tzinfo=datetime.timezone.utc)}, {'comment_id': 2606610972, 'issue_id': 2802517568, 'author': 'pedrambiria', 'body': '@robodoo r+', 'created_at': datetime.datetime(2025, 1, 22, 8, 41, 58, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-21 18:17:39 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/194624.png)](https://mergebot.odoo.com/odoo/odoo/pull/194624)

fw-bot (Issue Creator) on (2025-01-21 18:17:41 UTC): @pedrambiria @davidmonnom this PR targets master and is the last of the forward-port chain.

To merge the full chain, use

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

fw-bot (Issue Creator) on (2025-01-22 02:02:14 UTC): @pedrambiria @davidmonnom this forward port of odoo/odoo#184754 is awaiting action (not merged or closed).

pedrambiria on (2025-01-22 08:41:58 UTC): @robodoo r+

"
2802516213,pull_request,closed,,[FW][FIX] pos_self_order: fix wrong data in test,"Before the test `test_preset_eat_in_tour` was using the table 103 which is created in demo data. This table is not created in the test data so the test was failing when trying with no demo.

Now the test use the table 1 which is created in the test data.

Runbot error: 112371

Forward-Port-Of: odoo/odoo#194512",fw-bot,2025-01-21 18:16:50+00:00,[],2025-02-05 00:28:51+00:00,2025-01-21 23:49:18+00:00,https://github.com/odoo/odoo/pull/194623,"[('RD', 'research & development, internal work'), ('forwardport', 'This PR was created by @fw-bot'), ('18.2', None)]","[{'comment_id': 2605437237, 'issue_id': 2802516213, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/194623.png)](https://mergebot.odoo.com/odoo/odoo/pull/194623)', 'created_at': datetime.datetime(2025, 1, 21, 18, 17, 17, tzinfo=datetime.timezone.utc)}, {'comment_id': 2605437252, 'issue_id': 2802516213, 'author': 'fw-bot', 'body': '@davidmonnom @Williambraecky this PR targets master and is the last of the forward-port chain.\n\nTo merge the full chain, use\n> @robodoo r+\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 21, 18, 17, 18, tzinfo=datetime.timezone.utc)}, {'comment_id': 2605545674, 'issue_id': 2802516213, 'author': 'Williambraecky', 'body': '@robodoo r+', 'created_at': datetime.datetime(2025, 1, 21, 19, 16, 36, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-21 18:17:17 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/194623.png)](https://mergebot.odoo.com/odoo/odoo/pull/194623)

fw-bot (Issue Creator) on (2025-01-21 18:17:18 UTC): @davidmonnom @Williambraecky this PR targets master and is the last of the forward-port chain.

To merge the full chain, use

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

Williambraecky on (2025-01-21 19:16:36 UTC): @robodoo r+

"
2802515669,pull_request,closed,,[FW][FIX] web: adapt query counters,"Following the changes in the related enterprise PR, query counters must be adapted.
Some overrides in accounting modules causes the query counter to go up.

Runbot Error: 109492

Forward-Port-Of: odoo/odoo#194320",fw-bot,2025-01-21 18:16:29+00:00,[],2025-02-05 00:28:52+00:00,2025-01-21 23:49:30+00:00,https://github.com/odoo/odoo/pull/194622,"[('RD', 'research & development, internal work'), ('forwardport', 'This PR was created by @fw-bot'), ('18.2', None)]","[{'comment_id': 2605437165, 'issue_id': 2802515669, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/194622.png)](https://mergebot.odoo.com/odoo/odoo/pull/194622)', 'created_at': datetime.datetime(2025, 1, 21, 18, 17, 15, tzinfo=datetime.timezone.utc)}, {'comment_id': 2605437205, 'issue_id': 2802515669, 'author': 'fw-bot', 'body': '@Williambraecky @ryv-odoo this PR targets master and is the last of the forward-port chain.\n\nTo merge the full chain, use\n> @robodoo r+\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 21, 18, 17, 16, tzinfo=datetime.timezone.utc)}, {'comment_id': 2605474012, 'issue_id': 2802515669, 'author': 'fw-bot', 'body': '@Williambraecky @ryv-odoo ci/runbot failed on this forward-port PR', 'created_at': datetime.datetime(2025, 1, 21, 18, 36, 54, tzinfo=datetime.timezone.utc)}, {'comment_id': 2605544971, 'issue_id': 2802515669, 'author': 'Williambraecky', 'body': '@robodoo r+', 'created_at': datetime.datetime(2025, 1, 21, 19, 16, 13, tzinfo=datetime.timezone.utc)}, {'comment_id': 2605545075, 'issue_id': 2802515669, 'author': 'robodoo', 'body': '@Williambraecky you may want to rebuild or fix this PR as it has failed CI.', 'created_at': datetime.datetime(2025, 1, 21, 19, 16, 17, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-21 18:17:15 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/194622.png)](https://mergebot.odoo.com/odoo/odoo/pull/194622)

fw-bot (Issue Creator) on (2025-01-21 18:17:16 UTC): @Williambraecky @ryv-odoo this PR targets master and is the last of the forward-port chain.

To merge the full chain, use

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

fw-bot (Issue Creator) on (2025-01-21 18:36:54 UTC): @Williambraecky @ryv-odoo ci/runbot failed on this forward-port PR

Williambraecky on (2025-01-21 19:16:13 UTC): @robodoo r+

robodoo on (2025-01-21 19:16:17 UTC): @Williambraecky you may want to rebuild or fix this PR as it has failed CI.

"
2802513712,pull_request,closed,,[FW][FIX] web: catch ResizeObserver error in chrome 132,"Since chrome 132, the shape of error events for the `ResizeObserver loop completed with undelivered notifications.` error changed: the `error` key is now set in the event (its value is this specific message, i.e. a string, not an Error instance). As a consequence, those errors are no longer swallowed as they're expected to be, and are thus wrongly identified as CORS errors. Those errors are shown to the user in debug mode.

This happens for instance in the ir.ui.view form view, which contains an AceEditor field. His CodeEditor component listens on the `resize` event to redrawn itself, which causes this error. This also happens with the website builder, which does not involve the CodeEditor. It probably happens at other places as well. We thus need a global solution, like we had before.

This commit thus fixes the condition in the error service to keep swallowing that error.

opw-4500350
opw-4496862
opw-4496782
opw-4495448
opw-4493209
opw-4495309
opw-4472997

Description of the issue/feature this PR addresses:

Current behavior before PR:

Desired behavior after PR is merged:




---
I confirm I have signed the CLA and read the PR guidelines at www.odoo.com/submit-pr

Forward-Port-Of: odoo/odoo#194483",fw-bot,2025-01-21 18:15:20+00:00,[],2025-02-05 00:28:50+00:00,2025-01-21 23:49:14+00:00,https://github.com/odoo/odoo/pull/194621,"[('OE', 'the report is linked to a support ticket (opw-...)'), ('forwardport', 'This PR was created by @fw-bot'), ('18.2', None)]","[{'comment_id': 2605433577, 'issue_id': 2802513712, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/194621.png)](https://mergebot.odoo.com/odoo/odoo/pull/194621)', 'created_at': datetime.datetime(2025, 1, 21, 18, 15, 22, tzinfo=datetime.timezone.utc)}, {'comment_id': 2605433607, 'issue_id': 2802513712, 'author': 'fw-bot', 'body': '@aab-odoo @polymorphe57 this PR targets master and is the last of the forward-port chain containing:\n* odoo/odoo#194606\n* odoo/odoo#194581\n* odoo/odoo#194556\n* odoo/odoo#194536\n\nTo merge the full chain, use\n> @robodoo r+\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 21, 18, 15, 23, tzinfo=datetime.timezone.utc)}, {'comment_id': 2605490732, 'issue_id': 2802513712, 'author': 'Polymorphe57', 'body': '@robodoo r+', 'created_at': datetime.datetime(2025, 1, 21, 18, 45, 54, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-21 18:15:22 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/194621.png)](https://mergebot.odoo.com/odoo/odoo/pull/194621)

fw-bot (Issue Creator) on (2025-01-21 18:15:23 UTC): @aab-odoo @polymorphe57 this PR targets master and is the last of the forward-port chain containing:
* odoo/odoo#194606
* odoo/odoo#194581
* odoo/odoo#194556
* odoo/odoo#194536

To merge the full chain, use

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

Polymorphe57 on (2025-01-21 18:45:54 UTC): @robodoo r+

"
2802509331,pull_request,closed,,[FW][FIX] mrp: consumed qty in MO,"With this PR :
------------------------------------------
- Addressed an issue where components added after MO confirmation were not being automatically consumed during production.
- Implemented checks and updates in function to ensure all components are marked as picked before production.
- This fix ensures that all components, including those added after MO confirmation, are properly accounted for and consumed during the production process.

Task-id : 3951176

Forward-Port-Of: odoo/odoo#168716",fw-bot,2025-01-21 18:12:45+00:00,[],2025-02-05 05:46:44+00:00,2025-01-22 05:39:44+00:00,https://github.com/odoo/odoo/pull/194620,"[('RD', 'research & development, internal work'), ('forwardport', 'This PR was created by @fw-bot'), ('18.2', None)]","[{'comment_id': 2605428681, 'issue_id': 2802509331, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/194620.png)](https://mergebot.odoo.com/odoo/odoo/pull/194620)', 'created_at': datetime.datetime(2025, 1, 21, 18, 12, 46, tzinfo=datetime.timezone.utc)}, {'comment_id': 2605428701, 'issue_id': 2802509331, 'author': 'fw-bot', 'body': '@sako-odoo @amoyaux this PR targets master and is the last of the forward-port chain containing:\n* odoo/odoo#194602\n\nTo merge the full chain, use\n> @robodoo r+\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 21, 18, 12, 46, tzinfo=datetime.timezone.utc)}, {'comment_id': 2606271664, 'issue_id': 2802509331, 'author': 'sako-odoo', 'body': 'robodoo r+', 'created_at': datetime.datetime(2025, 1, 22, 4, 31, 22, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-21 18:12:46 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/194620.png)](https://mergebot.odoo.com/odoo/odoo/pull/194620)

fw-bot (Issue Creator) on (2025-01-21 18:12:46 UTC): @sako-odoo @amoyaux this PR targets master and is the last of the forward-port chain containing:
* odoo/odoo#194602

To merge the full chain, use

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

sako-odoo on (2025-01-22 04:31:22 UTC): robodoo r+

"
2802498308,pull_request,closed,,[FW][I18N] add translated terms,"add missing translated terms that have been omitted
in https://github.com/odoo/odoo/pull/188819

Forward-Port-Of: odoo/odoo#194497",fw-bot,2025-01-21 18:07:01+00:00,[],2025-01-22 07:33:47+00:00,2025-01-22 07:33:46+00:00,https://github.com/odoo/odoo/pull/194619,"[('OE', 'the report is linked to a support ticket (opw-...)'), ('forwardport', 'This PR was created by @fw-bot'), ('conflict', 'There was an error while creating this forward-port PR')]","[{'comment_id': 2605417473, 'issue_id': 2802498308, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/194619.png)](https://mergebot.odoo.com/odoo/odoo/pull/194619)', 'created_at': datetime.datetime(2025, 1, 21, 18, 7, 2, tzinfo=datetime.timezone.utc)}, {'comment_id': 2605417498, 'issue_id': 2802498308, 'author': 'fw-bot', 'body': '@guva-odoo @ticodoo cherrypicking of pull request odoo/odoo#194497 failed.\n\nstdout:\n```\nYou are currently cherry-picking commit c8526e46c0b6c6db517450381824d0e5fbb796e3.\n```\n\nstderr:\n```\nThe previous cherry-pick is now empty, possibly due to conflict resolution.\n```\n\nEither perform the forward-port manually (and push to this branch, proceeding as usual) or close this PR (maybe?).\n\nIn the former case, you may want to edit this PR message as well.\n\n:warning: after resolving this conflict, you will need to merge it via @robodoo.\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 21, 18, 7, 3, tzinfo=datetime.timezone.utc)}, {'comment_id': 2606491104, 'issue_id': 2802498308, 'author': 'guva-odoo', 'body': 'fixed here https://github.com/odoo/odoo/pull/194387', 'created_at': datetime.datetime(2025, 1, 22, 7, 33, 46, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-21 18:07:02 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/194619.png)](https://mergebot.odoo.com/odoo/odoo/pull/194619)

fw-bot (Issue Creator) on (2025-01-21 18:07:03 UTC): @guva-odoo @ticodoo cherrypicking of pull request odoo/odoo#194497 failed.

stdout:
```
You are currently cherry-picking commit c8526e46c0b6c6db517450381824d0e5fbb796e3.
```

stderr:
```
The previous cherry-pick is now empty, possibly due to conflict resolution.
```

Either perform the forward-port manually (and push to this branch, proceeding as usual) or close this PR (maybe?).

In the former case, you may want to edit this PR message as well.

:warning: after resolving this conflict, you will need to merge it via @robodoo.

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

guva-odoo on (2025-01-22 07:33:46 UTC): fixed here https://github.com/odoo/odoo/pull/194387

"
2802497430,pull_request,closed,,[FW][FIX] mail: fix error when sending mail notifications with no author,"There are instances where an email notification may not have an associated author. In the mail notification template, we forgot to check that the author exists before calling the `_is_internal` on it. When the author is `False`, the function generating the mail crashes as the `_is_internal` function is undefined on a boolean variable.

To address this issue, we will ensure the existence of the author before invoking any methods defined in the `res.users` model. This solution prevents errors and ensures the email template functions correctly.

see: #190390

Task-4128966

---
I confirm I have signed the CLA and read the PR guidelines at www.odoo.com/submit-pr

Forward-Port-Of: odoo/odoo#194569",fw-bot,2025-01-21 18:06:30+00:00,[],2025-01-27 13:57:17+00:00,2025-01-27 13:57:16+00:00,https://github.com/odoo/odoo/pull/194618,"[('RD', 'research & development, internal work'), ('forwardport', 'This PR was created by @fw-bot'), ('conflict', 'There was an error while creating this forward-port PR')]","[{'comment_id': 2605416499, 'issue_id': 2802497430, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/194618.png)](https://mergebot.odoo.com/odoo/odoo/pull/194618)', 'created_at': datetime.datetime(2025, 1, 21, 18, 6, 32, tzinfo=datetime.timezone.utc)}, {'comment_id': 2605416523, 'issue_id': 2802497430, 'author': 'fw-bot', 'body': '@julien-banken @tde-banana-odoo cherrypicking of pull request odoo/odoo#194569 failed.\n\nstdout:\n```\nAuto-merging addons/mail/data/mail_templates_email_layouts.xml\nCONFLICT (content): Merge conflict in addons/mail/data/mail_templates_email_layouts.xml\n\n```\n\nEither perform the forward-port manually (and push to this branch, proceeding as usual) or close this PR (maybe?).\n\nIn the former case, you may want to edit this PR message as well.\n\n:warning: after resolving this conflict, you will need to merge it via @robodoo.\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 21, 18, 6, 32, tzinfo=datetime.timezone.utc)}, {'comment_id': 2613721673, 'issue_id': 2802497430, 'author': 'fw-bot', 'body': '@julien-banken @tde-banana-odoo this forward port of odoo/odoo#194569 is awaiting action (not merged or closed).', 'created_at': datetime.datetime(2025, 1, 25, 2, 0, 56, tzinfo=datetime.timezone.utc)}, {'comment_id': 2614171915, 'issue_id': 2802497430, 'author': 'fw-bot', 'body': '@julien-banken @tde-banana-odoo this forward port of odoo/odoo#194569 is awaiting action (not merged or closed).', 'created_at': datetime.datetime(2025, 1, 26, 2, 1, 15, tzinfo=datetime.timezone.utc)}, {'comment_id': 2614722677, 'issue_id': 2802497430, 'author': 'fw-bot', 'body': '@julien-banken @tde-banana-odoo this forward port of odoo/odoo#194569 is awaiting action (not merged or closed).', 'created_at': datetime.datetime(2025, 1, 27, 2, 1, 46, tzinfo=datetime.timezone.utc)}, {'comment_id': 2615832697, 'issue_id': 2802497430, 'author': 'julien-banken', 'body': 'Note: Fixed in the original PR FW https://github.com/odoo/odoo/pull/194439', 'created_at': datetime.datetime(2025, 1, 27, 13, 57, 16, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-21 18:06:32 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/194618.png)](https://mergebot.odoo.com/odoo/odoo/pull/194618)

fw-bot (Issue Creator) on (2025-01-21 18:06:32 UTC): @julien-banken @tde-banana-odoo cherrypicking of pull request odoo/odoo#194569 failed.

stdout:
```
Auto-merging addons/mail/data/mail_templates_email_layouts.xml
CONFLICT (content): Merge conflict in addons/mail/data/mail_templates_email_layouts.xml

```

Either perform the forward-port manually (and push to this branch, proceeding as usual) or close this PR (maybe?).

In the former case, you may want to edit this PR message as well.

:warning: after resolving this conflict, you will need to merge it via @robodoo.

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

fw-bot (Issue Creator) on (2025-01-25 02:00:56 UTC): @julien-banken @tde-banana-odoo this forward port of odoo/odoo#194569 is awaiting action (not merged or closed).

fw-bot (Issue Creator) on (2025-01-26 02:01:15 UTC): @julien-banken @tde-banana-odoo this forward port of odoo/odoo#194569 is awaiting action (not merged or closed).

fw-bot (Issue Creator) on (2025-01-27 02:01:46 UTC): @julien-banken @tde-banana-odoo this forward port of odoo/odoo#194569 is awaiting action (not merged or closed).

julien-banken on (2025-01-27 13:57:16 UTC): Note: Fixed in the original PR FW https://github.com/odoo/odoo/pull/194439

"
2802496853,pull_request,closed,,[FW][FIX] base_automation: hide domain for on_change's,"Before this commit, the base.automation form view displays the filter_domain field when on_change trigger type is selected but the code does not take into account the filter_domain value for this type of trigger.

After this commit, this field is simply hidden in that case.

Task: opw-4492554

Forward-Port-Of: odoo/odoo#194520
Forward-Port-Of: odoo/odoo#194158",fw-bot,2025-01-21 18:06:11+00:00,[],2025-02-06 13:26:39+00:00,2025-01-23 13:14:41+00:00,https://github.com/odoo/odoo/pull/194617,"[('OE', 'the report is linked to a support ticket (opw-...)'), ('forwardport', 'This PR was created by @fw-bot')]","[{'comment_id': 2605415895, 'issue_id': 2802496853, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/194617.png)](https://mergebot.odoo.com/odoo/odoo/pull/194617)', 'created_at': datetime.datetime(2025, 1, 21, 18, 6, 13, tzinfo=datetime.timezone.utc)}, {'comment_id': 2605415919, 'issue_id': 2802496853, 'author': 'fw-bot', 'body': 'This PR targets saas-18.1 and is part of the forward-port chain. Further PRs will be created up to master.\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 21, 18, 6, 14, tzinfo=datetime.timezone.utc)}, {'comment_id': 2609187694, 'issue_id': 2802496853, 'author': 'brboi', 'body': '@robodoo r+', 'created_at': datetime.datetime(2025, 1, 23, 8, 47, 42, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-21 18:06:13 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/194617.png)](https://mergebot.odoo.com/odoo/odoo/pull/194617)

fw-bot (Issue Creator) on (2025-01-21 18:06:14 UTC): This PR targets saas-18.1 and is part of the forward-port chain. Further PRs will be created up to master.

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

brboi on (2025-01-23 08:47:42 UTC): @robodoo r+

"
2802495872,pull_request,closed,,[FW][FIX] web: uniformize width of buttons in control panel,"On smaller screen, the ControlPanel's buttons for CogMenu, Buttonbox,
Knowledge, Search don't have a consistent width.

This commit fixes it by giving those buttons' icon a fixed width,
independently of the character's size and adjusting the horizontal
padding for this use case.

task-4492690

Forward-Port-Of: odoo/odoo#194336",fw-bot,2025-01-21 18:05:40+00:00,[],2025-02-06 18:21:33+00:00,2025-01-23 18:12:20+00:00,https://github.com/odoo/odoo/pull/194616,"[('RD', 'research & development, internal work'), ('forwardport', 'This PR was created by @fw-bot'), ('conflict', 'There was an error while creating this forward-port PR')]","[{'comment_id': 2605414998, 'issue_id': 2802495872, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/194616.png)](https://mergebot.odoo.com/odoo/odoo/pull/194616)', 'created_at': datetime.datetime(2025, 1, 21, 18, 5, 42, tzinfo=datetime.timezone.utc)}, {'comment_id': 2605415052, 'issue_id': 2802495872, 'author': 'fw-bot', 'body': '@pparidans @rfr-odoo cherrypicking of pull request odoo/odoo#194336 failed.\n\n* 9d611610d732cca812080ef99f99c7faa209159d <- on this commit\n* a5c5b338744289bf03f89e967156eddd13d36515\n\nstdout:\n```\nAuto-merging addons/web/static/src/search/cog_menu/cog_menu.xml\nCONFLICT (content): Merge conflict in addons/web/static/src/search/cog_menu/cog_menu.xml\nAuto-merging addons/web/static/src/search/control_panel/control_panel.xml\n\n```\n\nEither perform the forward-port manually (and push to this branch, proceeding as usual) or close this PR (maybe?).\n\nIn the former case, you may want to edit this PR message as well.\n\n:warning: after resolving this conflict, you will need to merge it via @robodoo.\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 21, 18, 5, 44, tzinfo=datetime.timezone.utc)}, {'comment_id': 2607566600, 'issue_id': 2802495872, 'author': 'pparidans', 'body': '@robodoo r+', 'created_at': datetime.datetime(2025, 1, 22, 15, 33, 23, tzinfo=datetime.timezone.utc)}, {'comment_id': 2607633968, 'issue_id': 2802495872, 'author': 'robodoo', 'body': '@pparidans @rfr-odoo linked pull request(s) odoo/enterprise#77534 not ready. Linked PRs are not staged until all of them are ready.', 'created_at': datetime.datetime(2025, 1, 22, 16, 0, 6, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-21 18:05:42 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/194616.png)](https://mergebot.odoo.com/odoo/odoo/pull/194616)

fw-bot (Issue Creator) on (2025-01-21 18:05:44 UTC): @pparidans @rfr-odoo cherrypicking of pull request odoo/odoo#194336 failed.

* 9d611610d732cca812080ef99f99c7faa209159d <- on this commit
* a5c5b338744289bf03f89e967156eddd13d36515

stdout:
```
Auto-merging addons/web/static/src/search/cog_menu/cog_menu.xml
CONFLICT (content): Merge conflict in addons/web/static/src/search/cog_menu/cog_menu.xml
Auto-merging addons/web/static/src/search/control_panel/control_panel.xml

```

Either perform the forward-port manually (and push to this branch, proceeding as usual) or close this PR (maybe?).

In the former case, you may want to edit this PR message as well.

:warning: after resolving this conflict, you will need to merge it via @robodoo.

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

pparidans on (2025-01-22 15:33:23 UTC): @robodoo r+

robodoo on (2025-01-22 16:00:06 UTC): @pparidans @rfr-odoo linked pull request(s) odoo/enterprise#77534 not ready. Linked PRs are not staged until all of them are ready.

"
2802482108,pull_request,closed,,[FW][IMP] mail: improve quote reply detection,"We update quote detection for gmail and outlook:
- gmail has simple wrapper divs with explicit classes
- outlook has a mix of div ids and simple pattern-based quoting (everything under ""<hr><div id=""divRplyFwdMsg""/> seems to be considered a quote)

Previously gmail just used blockquote, which still works but does not capture ""On xx:xx:xx X <X@gmail.com> wrote:"" headers, which are caught for outlook.

Previously outlook had a wrapper div around divRplyFwdMsg which would set data-o-mail-quote-container on it, and propagate to children. However it seems that outer div was either removed or is not always present, a heuristic is thus needed.

task-4381505

Forward-Port-Of: odoo/odoo#192875",fw-bot,2025-01-21 17:57:49+00:00,[],2025-02-05 12:04:00+00:00,2025-01-22 12:01:40+00:00,https://github.com/odoo/odoo/pull/194615,"[('RD', 'research & development, internal work'), ('forwardport', 'This PR was created by @fw-bot'), ('conflict', 'There was an error while creating this forward-port PR')]","[{'comment_id': 2605399573, 'issue_id': 2802482108, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/194615.png)](https://mergebot.odoo.com/odoo/odoo/pull/194615)', 'created_at': datetime.datetime(2025, 1, 21, 17, 57, 51, tzinfo=datetime.timezone.utc)}, {'comment_id': 2605399597, 'issue_id': 2802482108, 'author': 'fw-bot', 'body': '@reth-odoo @tde-banana-odoo cherrypicking of pull request odoo/odoo#192875 failed.\n\n* 8d2e6ae65d52c9b9945acf0b61230eae5d76c890 <- on this commit\n* ffecc24b49166915a3be5a4abd30c5951c689475\n\nstdout:\n```\nAuto-merging odoo/addons/base/tests/test_mail_examples.py\nCONFLICT (content): Merge conflict in odoo/addons/base/tests/test_mail_examples.py\nAuto-merging odoo/tools/mail.py\n\n```\n\nEither perform the forward-port manually (and push to this branch, proceeding as usual) or close this PR (maybe?).\n\nIn the former case, you may want to edit this PR message as well.\n\n:warning: after resolving this conflict, you will need to merge it via @robodoo.\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 21, 17, 57, 51, tzinfo=datetime.timezone.utc)}, {'comment_id': 2606459443, 'issue_id': 2802482108, 'author': 'reth-odoo', 'body': '""french spacing"" commit conflict..\r\n@robodoo r+', 'created_at': datetime.datetime(2025, 1, 22, 7, 12, 26, tzinfo=datetime.timezone.utc)}, {'comment_id': 2606556535, 'issue_id': 2802482108, 'author': 'tde-banana-odoo', 'body': 'Really worth conflicts !', 'created_at': datetime.datetime(2025, 1, 22, 8, 13, 55, tzinfo=datetime.timezone.utc)}, {'comment_id': 2606692371, 'issue_id': 2802482108, 'author': 'reth-odoo', 'body': 'Especially in test data :D', 'created_at': datetime.datetime(2025, 1, 22, 9, 20, 8, tzinfo=datetime.timezone.utc)}, {'comment_id': 2606706277, 'issue_id': 2802482108, 'author': 'robodoo', 'body': '@reth-odoo @tde-banana-odoo staging failed: ci/runbot on a2724fbcd5347170d246867ff62543a824a5bf85 (view more at https://runbot.odoo.com/runbot/build/73757600)', 'created_at': datetime.datetime(2025, 1, 22, 9, 25, 59, tzinfo=datetime.timezone.utc)}, {'comment_id': 2606866751, 'issue_id': 2802482108, 'author': 'reth-odoo', 'body': '@robodoo retry', 'created_at': datetime.datetime(2025, 1, 22, 10, 33, 25, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-21 17:57:51 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/194615.png)](https://mergebot.odoo.com/odoo/odoo/pull/194615)

fw-bot (Issue Creator) on (2025-01-21 17:57:51 UTC): @reth-odoo @tde-banana-odoo cherrypicking of pull request odoo/odoo#192875 failed.

* 8d2e6ae65d52c9b9945acf0b61230eae5d76c890 <- on this commit
* ffecc24b49166915a3be5a4abd30c5951c689475

stdout:
```
Auto-merging odoo/addons/base/tests/test_mail_examples.py
CONFLICT (content): Merge conflict in odoo/addons/base/tests/test_mail_examples.py
Auto-merging odoo/tools/mail.py

```

Either perform the forward-port manually (and push to this branch, proceeding as usual) or close this PR (maybe?).

In the former case, you may want to edit this PR message as well.

:warning: after resolving this conflict, you will need to merge it via @robodoo.

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

reth-odoo on (2025-01-22 07:12:26 UTC): ""french spacing"" commit conflict..
@robodoo r+

tde-banana-odoo on (2025-01-22 08:13:55 UTC): Really worth conflicts !

reth-odoo on (2025-01-22 09:20:08 UTC): Especially in test data :D

robodoo on (2025-01-22 09:25:59 UTC): @reth-odoo @tde-banana-odoo staging failed: ci/runbot on a2724fbcd5347170d246867ff62543a824a5bf85 (view more at https://runbot.odoo.com/runbot/build/73757600)

reth-odoo on (2025-01-22 10:33:25 UTC): @robodoo retry

"
2802417187,pull_request,closed,,[FW][FIX] web_editor: fix custom block translations,"Steps to reproduce:

- Add a ""Call To Action"" block on the homepage > Save it as a custom
snippet.
- Add a new page > Drop the saved custom block on it > Drop Also
another ""Title"" block.
- Translate the custom block in the new page > At this point, the
translation is fine.
- Go to ""Edit"" mode > Edit the other block (""Title"") > Save.
- The translations for the custom ""Call To Action"" is lost.

Starting from [1], the translation of custom snippets was supported and
when dropping a saved custom snippet in a page/view, the snippet will
copy its translation from the saved view (see:
`_copy_custom_snippet_translations()`). This code will always update the
terms in the translation dictionary, even when the page has its custom
translation for them.

The goal of this commit is to fix this behavior by only allowing the
update of a term translation when the page has no custom translation
for it.

[1]: https://github.com/odoo/odoo/commit/d3426b7714012e833caae10281cfb8433223299a

opw-3930862
opw-4141290

Forward-Port-Of: odoo/odoo#194234
Forward-Port-Of: odoo/odoo#177960",fw-bot,2025-01-21 17:23:24+00:00,[],2025-02-05 17:38:48+00:00,2025-01-22 17:29:53+00:00,https://github.com/odoo/odoo/pull/194614,"[('OE', 'the report is linked to a support ticket (opw-...)'), ('forwardport', 'This PR was created by @fw-bot')]","[{'comment_id': 2605331540, 'issue_id': 2802417187, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/194614.png)](https://mergebot.odoo.com/odoo/odoo/pull/194614)', 'created_at': datetime.datetime(2025, 1, 21, 17, 23, 27, tzinfo=datetime.timezone.utc)}, {'comment_id': 2605331565, 'issue_id': 2802417187, 'author': 'fw-bot', 'body': 'This PR targets saas-17.2 and is part of the forward-port chain. Further PRs will be created up to master.\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 21, 17, 23, 28, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-21 17:23:27 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/194614.png)](https://mergebot.odoo.com/odoo/odoo/pull/194614)

fw-bot (Issue Creator) on (2025-01-21 17:23:28 UTC): This PR targets saas-17.2 and is part of the forward-port chain. Further PRs will be created up to master.

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

"
2802416282,pull_request,closed,,[FW][FIX] website: do not observe mutations making s_popup visible,"Description of the issue this PR addresses:

Pressing enter in the `s_popup` snippet after making it visible via the right panel would hide the popup. This occurred because the mutation observer detected changes which shows the modal and rolled them back during the `insertLineBreak` operation. This commit ensures that those mutations are not observed.

task-4255083

---
I confirm I have signed the CLA and read the PR guidelines at www.odoo.com/submit-pr

Forward-Port-Of: odoo/odoo#193989
Forward-Port-Of: odoo/odoo#191810",fw-bot,2025-01-21 17:22:55+00:00,[],2025-02-05 12:38:54+00:00,2025-01-22 12:29:31+00:00,https://github.com/odoo/odoo/pull/194613,"[('RD', 'research & development, internal work'), ('forwardport', 'This PR was created by @fw-bot')]","[{'comment_id': 2605330455, 'issue_id': 2802416282, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/194613.png)](https://mergebot.odoo.com/odoo/odoo/pull/194613)', 'created_at': datetime.datetime(2025, 1, 21, 17, 22, 56, tzinfo=datetime.timezone.utc)}, {'comment_id': 2605330478, 'issue_id': 2802416282, 'author': 'fw-bot', 'body': 'This PR targets saas-17.2 and is part of the forward-port chain. Further PRs will be created up to master.\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 21, 17, 22, 57, tzinfo=datetime.timezone.utc)}, {'comment_id': 2605381398, 'issue_id': 2802416282, 'author': 'fw-bot', 'body': '@deso-odoo @dmo-odoo ci/runbot failed on this forward-port PR', 'created_at': datetime.datetime(2025, 1, 21, 17, 48, 15, tzinfo=datetime.timezone.utc)}, {'comment_id': 2606119802, 'issue_id': 2802416282, 'author': 'fw-bot', 'body': '@deso-odoo @dmo-odoo this forward port of odoo/odoo#191810 is awaiting action (not merged or closed).', 'created_at': datetime.datetime(2025, 1, 22, 2, 1, 54, tzinfo=datetime.timezone.utc)}, {'comment_id': 2606323808, 'issue_id': 2802416282, 'author': 'fw-bot', 'body': '@deso-odoo @dmo-odoo this PR was modified / updated and has become a normal PR. It must be merged directly.', 'created_at': datetime.datetime(2025, 1, 22, 5, 22, 46, tzinfo=datetime.timezone.utc)}, {'comment_id': 2606845672, 'issue_id': 2802416282, 'author': 'dmo-odoo', 'body': '@robodoo r+', 'created_at': datetime.datetime(2025, 1, 22, 10, 24, 11, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-21 17:22:56 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/194613.png)](https://mergebot.odoo.com/odoo/odoo/pull/194613)

fw-bot (Issue Creator) on (2025-01-21 17:22:57 UTC): This PR targets saas-17.2 and is part of the forward-port chain. Further PRs will be created up to master.

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

fw-bot (Issue Creator) on (2025-01-21 17:48:15 UTC): @deso-odoo @dmo-odoo ci/runbot failed on this forward-port PR

fw-bot (Issue Creator) on (2025-01-22 02:01:54 UTC): @deso-odoo @dmo-odoo this forward port of odoo/odoo#191810 is awaiting action (not merged or closed).

fw-bot (Issue Creator) on (2025-01-22 05:22:46 UTC): @deso-odoo @dmo-odoo this PR was modified / updated and has become a normal PR. It must be merged directly.

dmo-odoo on (2025-01-22 10:24:11 UTC): @robodoo r+

"
2802398876,pull_request,closed,,[FIX] core: flush as public user when there is no default_env,"When using livechat, there may be no default environment because during the whole transaction, no environment with a real user was created. In such a case, we should fallback to the public user.

task-4452913


---
I confirm I have signed the CLA and read the PR guidelines at www.odoo.com/submit-pr
",kmagusiak,2025-01-21 17:14:43+00:00,[],2025-01-24 07:52:22+00:00,2025-01-24 03:55:43+00:00,https://github.com/odoo/odoo/pull/194612,"[('RD', 'research & development, internal work')]","[{'comment_id': 2605309768, 'issue_id': 2802398876, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/194612.png)](https://mergebot.odoo.com/odoo/odoo/pull/194612)', 'created_at': datetime.datetime(2025, 1, 21, 17, 14, 46, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-21 17:14:46 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/194612.png)](https://mergebot.odoo.com/odoo/odoo/pull/194612)

"
2802397197,pull_request,closed,,[FW][FIX] mrp: duplicate MO and change date,"Steps to reproduce:
-----

- Create a MO
- Duplicate it
- Change the scheduled date
- Confirm

Issue:
---

This [changes](https://github.com/odoo/odoo/commit/7c808beaf36853b4d9171ef0981d1ec9c4b73a44), is trying to timedelta between str and datetime leading to an error.

Fix:
---
To fix this the date_start is set as a datetime and removing the conversion later in the code.

opw-4489618


---
I confirm I have signed the CLA and read the PR guidelines at www.odoo.com/submit-pr

Forward-Port-Of: odoo/odoo#194376",fw-bot,2025-01-21 17:13:51+00:00,[],2025-01-28 07:29:56+00:00,2025-01-28 07:29:17+00:00,https://github.com/odoo/odoo/pull/194611,"[('OE', 'the report is linked to a support ticket (opw-...)'), ('forwardport', 'This PR was created by @fw-bot'), ('conflict', 'There was an error while creating this forward-port PR')]","[{'comment_id': 2605307781, 'issue_id': 2802397197, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/194611.png)](https://mergebot.odoo.com/odoo/odoo/pull/194611)', 'created_at': datetime.datetime(2025, 1, 21, 17, 13, 52, tzinfo=datetime.timezone.utc)}, {'comment_id': 2605307877, 'issue_id': 2802397197, 'author': 'fw-bot', 'body': '@jaeschwa @Whenrow cherrypicking of pull request odoo/odoo#194376 failed.\n\nstdout:\n```\nAuto-merging addons/mrp/models/mrp_production.py\nCONFLICT (content): Merge conflict in addons/mrp/models/mrp_production.py\n\n```\n\nEither perform the forward-port manually (and push to this branch, proceeding as usual) or close this PR (maybe?).\n\nIn the former case, you may want to edit this PR message as well.\n\n:warning: after resolving this conflict, you will need to merge it via @robodoo.\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 21, 17, 13, 54, tzinfo=datetime.timezone.utc)}, {'comment_id': 2606689735, 'issue_id': 2802397197, 'author': 'jaeschwa', 'body': 'Fix not needed.', 'created_at': datetime.datetime(2025, 1, 22, 9, 18, 59, tzinfo=datetime.timezone.utc)}, {'comment_id': 2618106541, 'issue_id': 2802397197, 'author': 'lase-odoo', 'body': 'Fix needed now: https://github.com/odoo/odoo/pull/193868\r\n\r\nNope: The diff was updated !', 'created_at': datetime.datetime(2025, 1, 28, 7, 25, 17, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-21 17:13:52 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/194611.png)](https://mergebot.odoo.com/odoo/odoo/pull/194611)

fw-bot (Issue Creator) on (2025-01-21 17:13:54 UTC): @jaeschwa @Whenrow cherrypicking of pull request odoo/odoo#194376 failed.

stdout:
```
Auto-merging addons/mrp/models/mrp_production.py
CONFLICT (content): Merge conflict in addons/mrp/models/mrp_production.py

```

Either perform the forward-port manually (and push to this branch, proceeding as usual) or close this PR (maybe?).

In the former case, you may want to edit this PR message as well.

:warning: after resolving this conflict, you will need to merge it via @robodoo.

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

jaeschwa on (2025-01-22 09:18:59 UTC): Fix not needed.

lase-odoo on (2025-01-28 07:25:17 UTC): Fix needed now: https://github.com/odoo/odoo/pull/193868

Nope: The diff was updated !

"
2802383133,pull_request,closed,,[FW][FIX] spreadsheet_account: 'See Records' icon in context menu,"# Description

The 'See Records' icon was missing when attempting to open `AccountMoveLines` records from the context menu in the spreadsheet.

Task: 0

---
I confirm I have signed the CLA and read the PR guidelines at www.odoo.com/submit-pr

Forward-Port-Of: odoo/odoo#194464",fw-bot,2025-01-21 17:06:36+00:00,[],2025-02-05 00:28:49+00:00,2025-01-21 23:49:09+00:00,https://github.com/odoo/odoo/pull/194610,"[('RD', 'research & development, internal work'), ('forwardport', 'This PR was created by @fw-bot'), ('18.2', None)]","[{'comment_id': 2605291385, 'issue_id': 2802383133, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/194610.png)](https://mergebot.odoo.com/odoo/odoo/pull/194610)', 'created_at': datetime.datetime(2025, 1, 21, 17, 6, 38, tzinfo=datetime.timezone.utc)}, {'comment_id': 2605291408, 'issue_id': 2802383133, 'author': 'fw-bot', 'body': '@dhrp-odoo @rrahir this PR targets master and is the last of the forward-port chain containing:\n* odoo/odoo#194582\n* odoo/odoo#194555\n* odoo/odoo#194533\n* odoo/odoo#194511\n\nTo merge the full chain, use\n> @robodoo r+\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 21, 17, 6, 38, tzinfo=datetime.timezone.utc)}, {'comment_id': 2605382731, 'issue_id': 2802383133, 'author': 'rrahir', 'body': '@robodoo r+', 'created_at': datetime.datetime(2025, 1, 21, 17, 48, 59, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-21 17:06:38 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/194610.png)](https://mergebot.odoo.com/odoo/odoo/pull/194610)

fw-bot (Issue Creator) on (2025-01-21 17:06:38 UTC): @dhrp-odoo @rrahir this PR targets master and is the last of the forward-port chain containing:
* odoo/odoo#194582
* odoo/odoo#194555
* odoo/odoo#194533
* odoo/odoo#194511

To merge the full chain, use

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

rrahir on (2025-01-21 17:48:59 UTC): @robodoo r+

"
2802379630,pull_request,closed,,[FW][IMP] html_editor: revamp file upload,"This PR changes the behavior of the /file powerbox command in the following aspects:
- it no longer opens the media dialog, and skips it directly to the system's file selector
- the resulting download box has gone through visual changes, mainly:
  - it no longer takes the whole width of the screen, and multiple file boxes can be placed on the same line
  - it has blue color an the looks of a bootstrap alert-info banner
- the same command is also available as a powerbutton.

This PR also allows the user to upload a file (also skipping the media dialog) from the link popover, thus creating a link to the created attachment.
 
https://github.com/odoo/enterprise/pull/75045

task-3522395

Forward-Port-Of: odoo/odoo#194245
Forward-Port-Of: odoo/odoo#189203",fw-bot,2025-01-21 17:05:13+00:00,[],2025-02-06 12:07:31+00:00,2025-01-23 12:03:20+00:00,https://github.com/odoo/odoo/pull/194609,"[('RD', 'research & development, internal work'), ('forwardport', 'This PR was created by @fw-bot'), ('18.2', None)]","[{'comment_id': 2605287739, 'issue_id': 2802379630, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/194609.png)](https://mergebot.odoo.com/odoo/odoo/pull/194609)', 'created_at': datetime.datetime(2025, 1, 21, 17, 5, 16, tzinfo=datetime.timezone.utc)}, {'comment_id': 2605287825, 'issue_id': 2802379630, 'author': 'fw-bot', 'body': '@cammarosano @dmo-odoo this PR targets master and is the last of the forward-port chain.\n\nTo merge the full chain, use\n> @robodoo r+\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 21, 17, 5, 18, tzinfo=datetime.timezone.utc)}, {'comment_id': 2605295356, 'issue_id': 2802379630, 'author': 'fw-bot', 'body': '@cammarosano @dmo-odoo this PR was modified / updated and has become a normal PR. It must be merged directly.', 'created_at': datetime.datetime(2025, 1, 21, 17, 8, 18, tzinfo=datetime.timezone.utc)}, {'comment_id': 2606120028, 'issue_id': 2802379630, 'author': 'fw-bot', 'body': '@cammarosano @dmo-odoo this forward port of odoo/odoo#189203 is awaiting action (not merged or closed).', 'created_at': datetime.datetime(2025, 1, 22, 2, 2, 5, tzinfo=datetime.timezone.utc)}, {'comment_id': 2606748008, 'issue_id': 2802379630, 'author': 'cammarosano', 'body': '@dmo-odoo I have dropped the compatibility commit, this fw-port is ready for r+.', 'created_at': datetime.datetime(2025, 1, 22, 9, 44, 33, tzinfo=datetime.timezone.utc)}, {'comment_id': 2606828151, 'issue_id': 2802379630, 'author': 'dmo-odoo', 'body': '@cammarosano Thanks! 👍 \r\n@robodoo r+', 'created_at': datetime.datetime(2025, 1, 22, 10, 16, 38, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-21 17:05:16 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/194609.png)](https://mergebot.odoo.com/odoo/odoo/pull/194609)

fw-bot (Issue Creator) on (2025-01-21 17:05:18 UTC): @cammarosano @dmo-odoo this PR targets master and is the last of the forward-port chain.

To merge the full chain, use

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

fw-bot (Issue Creator) on (2025-01-21 17:08:18 UTC): @cammarosano @dmo-odoo this PR was modified / updated and has become a normal PR. It must be merged directly.

fw-bot (Issue Creator) on (2025-01-22 02:02:05 UTC): @cammarosano @dmo-odoo this forward port of odoo/odoo#189203 is awaiting action (not merged or closed).

cammarosano on (2025-01-22 09:44:33 UTC): @dmo-odoo I have dropped the compatibility commit, this fw-port is ready for r+.

dmo-odoo on (2025-01-22 10:16:38 UTC): @cammarosano Thanks! 👍 
@robodoo r+

"
2802378472,pull_request,closed,,[FW][I18N] *: re-export pot files,"Re-exported because:
- To take into account PRs that were merged after the freeze
- A couple pot files were missing/empty (i.e. empty = deleted)
- Just in case there was anything out of date

Description of the issue/feature this PR addresses:

Current behavior before PR:

Desired behavior after PR is merged:




---
I confirm I have signed the CLA and read the PR guidelines at www.odoo.com/submit-pr

Forward-Port-Of: odoo/odoo#194387",fw-bot,2025-01-21 17:04:39+00:00,[],2025-01-22 12:04:34+00:00,2025-01-22 12:04:34+00:00,https://github.com/odoo/odoo/pull/194608,"[('RD', 'research & development, internal work'), ('forwardport', 'This PR was created by @fw-bot'), ('conflict', 'There was an error while creating this forward-port PR')]","[{'comment_id': 2605286406, 'issue_id': 2802378472, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/194608.png)](https://mergebot.odoo.com/odoo/odoo/pull/194608)', 'created_at': datetime.datetime(2025, 1, 21, 17, 4, 44, tzinfo=datetime.timezone.utc)}, {'comment_id': 2605286457, 'issue_id': 2802378472, 'author': 'fw-bot', 'body': '@ticodoo cherrypicking of pull request odoo/odoo#194387 failed.\n\nstdout:\n```\nAuto-merging addons/account/i18n/account.pot\nAuto-merging addons/account_peppol/i18n/account_peppol.pot\nCONFLICT (content): Merge conflict in addons/account_peppol/i18n/account_peppol.pot\nAuto-merging addons/mail/i18n/mail.pot\nAuto-merging addons/sale_timesheet/i18n/sale_timesheet.pot\nCONFLICT (content): Merge conflict in addons/sale_timesheet/i18n/sale_timesheet.pot\nAuto-merging addons/spreadsheet_account/i18n/spreadsheet_account.pot\n\n```\n\nEither perform the forward-port manually (and push to this branch, proceeding as usual) or close this PR (maybe?).\n\nIn the former case, you may want to edit this PR message as well.\n\n:warning: after resolving this conflict, you will need to merge it via @robodoo.\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 21, 17, 4, 45, tzinfo=datetime.timezone.utc)}, {'comment_id': 2607067779, 'issue_id': 2802378472, 'author': 'ticodoo', 'body': 'not worth fixing the conflicts for master due to removed models, updates will happen after next freeze', 'created_at': datetime.datetime(2025, 1, 22, 12, 4, 34, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-21 17:04:44 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/194608.png)](https://mergebot.odoo.com/odoo/odoo/pull/194608)

fw-bot (Issue Creator) on (2025-01-21 17:04:45 UTC): @ticodoo cherrypicking of pull request odoo/odoo#194387 failed.

stdout:
```
Auto-merging addons/account/i18n/account.pot
Auto-merging addons/account_peppol/i18n/account_peppol.pot
CONFLICT (content): Merge conflict in addons/account_peppol/i18n/account_peppol.pot
Auto-merging addons/mail/i18n/mail.pot
Auto-merging addons/sale_timesheet/i18n/sale_timesheet.pot
CONFLICT (content): Merge conflict in addons/sale_timesheet/i18n/sale_timesheet.pot
Auto-merging addons/spreadsheet_account/i18n/spreadsheet_account.pot

```

Either perform the forward-port manually (and push to this branch, proceeding as usual) or close this PR (maybe?).

In the former case, you may want to edit this PR message as well.

:warning: after resolving this conflict, you will need to merge it via @robodoo.

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

ticodoo on (2025-01-22 12:04:34 UTC): not worth fixing the conflicts for master due to removed models, updates will happen after next freeze

"
2802376980,pull_request,closed,,[FW][FIX] auth_oauth: ensure werkzeug 3 compatibility,"Description of the issue/feature this PR addresses:
The method werkzeug.http.parse_www_authenticate_header has been removed in werkzeug 3 and later. This causes an issue in Odoo when using python 3.12, as the requirements.txt specifies werkzeug 3.0.1. This results in a misleading error stating that auth_signup is not installed on the database when authenticating a new user with an OAuth provider.

Current behavior before PR:
When attempting to authenticate a new user with an OAuth provider in Odoo using Python 3.12, the method werkzeug.http.parse_www_authenticate_header is called. Since this method is removed in Werkzeug 3.0.1, a misleading error message about auth_signup not being installed on the database is displayed.

Desired behavior after PR is merged:
The code will use WWWAuthenticate.from_header for parsing the WWW-Authenticate header if available, otherwise, it will fall back to using werkzeug.http.parse_www_authenticate_header for compatibility with older versions of Werkzeug (2.0 and 2.2). The misleading error message will no longer appear, and OAuth authentication will work as expected.

Fixes #194002


---
I confirm I have signed the CLA and read the PR guidelines at www.odoo.com/submit-pr

Forward-Port-Of: odoo/odoo#194484",fw-bot,2025-01-21 17:03:57+00:00,[],2025-01-27 10:59:15+00:00,2025-01-27 10:59:15+00:00,https://github.com/odoo/odoo/pull/194607,"[('RD', 'research & development, internal work'), ('forwardport', 'This PR was created by @fw-bot')]","[{'comment_id': 2605284673, 'issue_id': 2802376980, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/194607.png)](https://mergebot.odoo.com/odoo/odoo/pull/194607)', 'created_at': datetime.datetime(2025, 1, 21, 17, 3, 59, tzinfo=datetime.timezone.utc)}, {'comment_id': 2605284696, 'issue_id': 2802376980, 'author': 'fw-bot', 'body': 'This PR targets saas-18.1 and is part of the forward-port chain. Further PRs will be created up to master.\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 21, 17, 3, 59, tzinfo=datetime.timezone.utc)}, {'comment_id': 2605343808, 'issue_id': 2802376980, 'author': 'fw-bot', 'body': '@0yik @xmo-odoo ci/runbot failed on this forward-port PR', 'created_at': datetime.datetime(2025, 1, 21, 17, 29, 23, tzinfo=datetime.timezone.utc)}, {'comment_id': 2613721680, 'issue_id': 2802376980, 'author': 'fw-bot', 'body': '@0yik @xmo-odoo this forward port of odoo/odoo#194484 is awaiting action (not merged or closed).', 'created_at': datetime.datetime(2025, 1, 25, 2, 0, 57, tzinfo=datetime.timezone.utc)}, {'comment_id': 2614171933, 'issue_id': 2802376980, 'author': 'fw-bot', 'body': '@0yik @xmo-odoo this forward port of odoo/odoo#194484 is awaiting action (not merged or closed).', 'created_at': datetime.datetime(2025, 1, 26, 2, 1, 16, tzinfo=datetime.timezone.utc)}, {'comment_id': 2614722745, 'issue_id': 2802376980, 'author': 'fw-bot', 'body': '@0yik @xmo-odoo this forward port of odoo/odoo#194484 is awaiting action (not merged or closed).', 'created_at': datetime.datetime(2025, 1, 27, 2, 1, 50, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-21 17:03:59 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/194607.png)](https://mergebot.odoo.com/odoo/odoo/pull/194607)

fw-bot (Issue Creator) on (2025-01-21 17:03:59 UTC): This PR targets saas-18.1 and is part of the forward-port chain. Further PRs will be created up to master.

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

fw-bot (Issue Creator) on (2025-01-21 17:29:23 UTC): @0yik @xmo-odoo ci/runbot failed on this forward-port PR

fw-bot (Issue Creator) on (2025-01-25 02:00:57 UTC): @0yik @xmo-odoo this forward port of odoo/odoo#194484 is awaiting action (not merged or closed).

fw-bot (Issue Creator) on (2025-01-26 02:01:16 UTC): @0yik @xmo-odoo this forward port of odoo/odoo#194484 is awaiting action (not merged or closed).

fw-bot (Issue Creator) on (2025-01-27 02:01:50 UTC): @0yik @xmo-odoo this forward port of odoo/odoo#194484 is awaiting action (not merged or closed).

"
2802367542,pull_request,closed,,[FW][FIX] web: catch ResizeObserver error in chrome 132,"Since chrome 132, the shape of error events for the `ResizeObserver loop completed with undelivered notifications.` error changed: the `error` key is now set in the event (its value is this specific message, i.e. a string, not an Error instance). As a consequence, those errors are no longer swallowed as they're expected to be, and are thus wrongly identified as CORS errors. Those errors are shown to the user in debug mode.

This happens for instance in the ir.ui.view form view, which contains an AceEditor field. His CodeEditor component listens on the `resize` event to redrawn itself, which causes this error. This also happens with the website builder, which does not involve the CodeEditor. It probably happens at other places as well. We thus need a global solution, like we had before.

This commit thus fixes the condition in the error service to keep swallowing that error.

opw-4500350
opw-4496862
opw-4496782
opw-4495448
opw-4493209
opw-4495309
opw-4472997

Description of the issue/feature this PR addresses:

Current behavior before PR:

Desired behavior after PR is merged:




---
I confirm I have signed the CLA and read the PR guidelines at www.odoo.com/submit-pr

Forward-Port-Of: odoo/odoo#194483",fw-bot,2025-01-21 16:59:25+00:00,[],2025-02-04 23:47:08+00:00,2025-01-21 23:36:58+00:00,https://github.com/odoo/odoo/pull/194606,"[('OE', 'the report is linked to a support ticket (opw-...)'), ('forwardport', 'This PR was created by @fw-bot')]","[{'comment_id': 2605273954, 'issue_id': 2802367542, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/194606.png)](https://mergebot.odoo.com/odoo/odoo/pull/194606)', 'created_at': datetime.datetime(2025, 1, 21, 16, 59, 26, tzinfo=datetime.timezone.utc)}, {'comment_id': 2605273981, 'issue_id': 2802367542, 'author': 'fw-bot', 'body': 'This PR targets saas-18.1 and is part of the forward-port chain. Further PRs will be created up to master.\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 21, 16, 59, 27, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-21 16:59:26 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/194606.png)](https://mergebot.odoo.com/odoo/odoo/pull/194606)

fw-bot (Issue Creator) on (2025-01-21 16:59:27 UTC): This PR targets saas-18.1 and is part of the forward-port chain. Further PRs will be created up to master.

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

"
2802366887,pull_request,closed,,[FW][FIX] web: hide tooltip on html fields in calendar popover,"To reproduce:
=============
- create an event on calendar with description containing html
- on calendar view, click on the event to open the popover and hover on the description field
-> the tooltip is displayed with raw html content

Fix:
====
hide the tooltip on html fields in calendar popover as it's not needed

opw-4356581
---
I confirm I have signed the CLA and read the PR guidelines at www.odoo.com/submit-pr

Forward-Port-Of: odoo/odoo#192104",fw-bot,2025-01-21 16:59:06+00:00,[],2025-02-05 18:48:01+00:00,2025-01-22 18:29:13+00:00,https://github.com/odoo/odoo/pull/194605,"[('OE', 'the report is linked to a support ticket (opw-...)'), ('forwardport', 'This PR was created by @fw-bot'), ('conflict', 'There was an error while creating this forward-port PR')]","[{'comment_id': 2605273244, 'issue_id': 2802366887, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/194605.png)](https://mergebot.odoo.com/odoo/odoo/pull/194605)', 'created_at': datetime.datetime(2025, 1, 21, 16, 59, 7, tzinfo=datetime.timezone.utc)}, {'comment_id': 2605273268, 'issue_id': 2802366887, 'author': 'fw-bot', 'body': '@abla001 @aab-odoo cherrypicking of pull request odoo/odoo#192104 failed.\n\nstdout:\n```\nAuto-merging addons/web/static/src/views/calendar/calendar_common/calendar_common_popover.xml\nCONFLICT (content): Merge conflict in addons/web/static/src/views/calendar/calendar_common/calendar_common_popover.xml\nAuto-merging addons/web/static/tests/views/calendar/calendar_view_tests.js\nCONFLICT (content): Merge conflict in addons/web/static/tests/views/calendar/calendar_view_tests.js\n\n```\n\nEither perform the forward-port manually (and push to this branch, proceeding as usual) or close this PR (maybe?).\n\nIn the former case, you may want to edit this PR message as well.\n\n:warning: after resolving this conflict, you will need to merge it via @robodoo.\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 21, 16, 59, 8, tzinfo=datetime.timezone.utc)}, {'comment_id': 2607797504, 'issue_id': 2802366887, 'author': 'abla001', 'body': '@robodoo r+', 'created_at': datetime.datetime(2025, 1, 22, 17, 6, 51, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-21 16:59:07 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/194605.png)](https://mergebot.odoo.com/odoo/odoo/pull/194605)

fw-bot (Issue Creator) on (2025-01-21 16:59:08 UTC): @abla001 @aab-odoo cherrypicking of pull request odoo/odoo#192104 failed.

stdout:
```
Auto-merging addons/web/static/src/views/calendar/calendar_common/calendar_common_popover.xml
CONFLICT (content): Merge conflict in addons/web/static/src/views/calendar/calendar_common/calendar_common_popover.xml
Auto-merging addons/web/static/tests/views/calendar/calendar_view_tests.js
CONFLICT (content): Merge conflict in addons/web/static/tests/views/calendar/calendar_view_tests.js

```

Either perform the forward-port manually (and push to this branch, proceeding as usual) or close this PR (maybe?).

In the former case, you may want to edit this PR message as well.

:warning: after resolving this conflict, you will need to merge it via @robodoo.

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

abla001 on (2025-01-22 17:06:51 UTC): @robodoo r+

"
2802365822,pull_request,closed,,[FW][FIX] point_of_sale: translate created journals,"In the onboarding wizard, we create a cash journal for different scenarios. However the names of these journals were not translatable.

We make them translatable in this commit.

Forward-Port-Of: odoo/odoo#194428
Forward-Port-Of: odoo/odoo#194337",fw-bot,2025-01-21 16:58:37+00:00,[],2025-02-04 19:45:41+00:00,2025-01-21 19:30:36+00:00,https://github.com/odoo/odoo/pull/194604,"[('RD', 'research & development, internal work'), ('forwardport', 'This PR was created by @fw-bot'), ('conflict', 'There was an error while creating this forward-port PR')]","[{'comment_id': 2605272134, 'issue_id': 2802365822, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/194604.png)](https://mergebot.odoo.com/odoo/odoo/pull/194604)', 'created_at': datetime.datetime(2025, 1, 21, 16, 58, 38, tzinfo=datetime.timezone.utc)}, {'comment_id': 2605272169, 'issue_id': 2802365822, 'author': 'fw-bot', 'body': '@dylankiss @ticodoo cherrypicking of pull request odoo/odoo#194337 failed.\n\nstdout:\n```\nAuto-merging addons/point_of_sale/i18n/point_of_sale.pot\nCONFLICT (content): Merge conflict in addons/point_of_sale/i18n/point_of_sale.pot\nAuto-merging addons/point_of_sale/models/pos_config.py\nCONFLICT (content): Merge conflict in addons/point_of_sale/models/pos_config.py\n\n```\n\nEither perform the forward-port manually (and push to this branch, proceeding as usual) or close this PR (maybe?).\n\nIn the former case, you may want to edit this PR message as well.\n\n:warning: after resolving this conflict, you will need to merge it via @robodoo.\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 21, 16, 58, 40, tzinfo=datetime.timezone.utc)}, {'comment_id': 2605308222, 'issue_id': 2802365822, 'author': 'dylankiss', 'body': '@robodoo r+', 'created_at': datetime.datetime(2025, 1, 21, 17, 14, 4, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-21 16:58:38 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/194604.png)](https://mergebot.odoo.com/odoo/odoo/pull/194604)

fw-bot (Issue Creator) on (2025-01-21 16:58:40 UTC): @dylankiss @ticodoo cherrypicking of pull request odoo/odoo#194337 failed.

stdout:
```
Auto-merging addons/point_of_sale/i18n/point_of_sale.pot
CONFLICT (content): Merge conflict in addons/point_of_sale/i18n/point_of_sale.pot
Auto-merging addons/point_of_sale/models/pos_config.py
CONFLICT (content): Merge conflict in addons/point_of_sale/models/pos_config.py

```

Either perform the forward-port manually (and push to this branch, proceeding as usual) or close this PR (maybe?).

In the former case, you may want to edit this PR message as well.

:warning: after resolving this conflict, you will need to merge it via @robodoo.

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

dylankiss on (2025-01-21 17:14:04 UTC): @robodoo r+

"
2802364227,pull_request,closed,,[FW][FIX] point_of_sale: fix preparation receipt,"Product variant with creation type ""always"" would not be printer on the preparation receipt.

Steps to reproduce:
-------------------
* Create a product and add a variant with creation type ""always""
* Add a preparation printer to the point of sale
* Create a new order and add the product with the variant
* Validate the order and check the preparation receipt
> Observation: the product variant is not printed on the receipt

Why the fix:
------------
The product variant was not printed on the preparation receipt because the variant is added to the display name of the product and doesn't appear in the attribute list.

This fix also add the first test for the preparation receipt. This should be improved in the future to cover more cases.

opw-4450217

Forward-Port-Of: odoo/odoo#193776",fw-bot,2025-01-21 16:57:55+00:00,[],2025-02-04 22:01:35+00:00,2025-01-21 21:57:52+00:00,https://github.com/odoo/odoo/pull/194603,"[('OE', 'the report is linked to a support ticket (opw-...)'), ('forwardport', 'This PR was created by @fw-bot'), ('conflict', 'There was an error while creating this forward-port PR')]","[{'comment_id': 2605270619, 'issue_id': 2802364227, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/194603.png)](https://mergebot.odoo.com/odoo/odoo/pull/194603)', 'created_at': datetime.datetime(2025, 1, 21, 16, 57, 56, tzinfo=datetime.timezone.utc)}, {'comment_id': 2605270640, 'issue_id': 2802364227, 'author': 'fw-bot', 'body': '@robinengels @caburj cherrypicking of pull request odoo/odoo#193776 failed.\n\nstdout:\n```\nAuto-merging addons/point_of_sale/static/src/app/models/utils/order_change.js\nAuto-merging addons/point_of_sale/static/src/app/store/order_change_receipt_template.xml\nCONFLICT (content): Merge conflict in addons/point_of_sale/static/src/app/store/order_change_receipt_template.xml\nAuto-merging addons/pos_restaurant/static/tests/tours/pos_restaurant_tour.js\nAuto-merging addons/pos_restaurant/tests/test_frontend.py\nCONFLICT (content): Merge conflict in addons/pos_restaurant/tests/test_frontend.py\n\n```\n\nEither perform the forward-port manually (and push to this branch, proceeding as usual) or close this PR (maybe?).\n\nIn the former case, you may want to edit this PR message as well.\n\n:warning: after resolving this conflict, you will need to merge it via @robodoo.\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 21, 16, 57, 57, tzinfo=datetime.timezone.utc)}, {'comment_id': 2605325140, 'issue_id': 2802364227, 'author': 'robinengels', 'body': '@robodoo r+', 'created_at': datetime.datetime(2025, 1, 21, 17, 20, 30, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-21 16:57:56 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/194603.png)](https://mergebot.odoo.com/odoo/odoo/pull/194603)

fw-bot (Issue Creator) on (2025-01-21 16:57:57 UTC): @robinengels @caburj cherrypicking of pull request odoo/odoo#193776 failed.

stdout:
```
Auto-merging addons/point_of_sale/static/src/app/models/utils/order_change.js
Auto-merging addons/point_of_sale/static/src/app/store/order_change_receipt_template.xml
CONFLICT (content): Merge conflict in addons/point_of_sale/static/src/app/store/order_change_receipt_template.xml
Auto-merging addons/pos_restaurant/static/tests/tours/pos_restaurant_tour.js
Auto-merging addons/pos_restaurant/tests/test_frontend.py
CONFLICT (content): Merge conflict in addons/pos_restaurant/tests/test_frontend.py

```

Either perform the forward-port manually (and push to this branch, proceeding as usual) or close this PR (maybe?).

In the former case, you may want to edit this PR message as well.

:warning: after resolving this conflict, you will need to merge it via @robodoo.

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

robinengels on (2025-01-21 17:20:30 UTC): @robodoo r+

"
2802363357,pull_request,closed,,[FW][FIX] mrp: consumed qty in MO,"With this PR :
------------------------------------------
- Addressed an issue where components added after MO confirmation were not being automatically consumed during production.
- Implemented checks and updates in function to ensure all components are marked as picked before production.
- This fix ensures that all components, including those added after MO confirmation, are properly accounted for and consumed during the production process.

Task-id : 3951176

Forward-Port-Of: odoo/odoo#168716",fw-bot,2025-01-21 16:57:30+00:00,[],2025-02-05 05:46:43+00:00,2025-01-22 05:36:40+00:00,https://github.com/odoo/odoo/pull/194602,"[('RD', 'research & development, internal work'), ('forwardport', 'This PR was created by @fw-bot')]","[{'comment_id': 2605270226, 'issue_id': 2802363357, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/194602.png)](https://mergebot.odoo.com/odoo/odoo/pull/194602)', 'created_at': datetime.datetime(2025, 1, 21, 16, 57, 46, tzinfo=datetime.timezone.utc)}, {'comment_id': 2605270260, 'issue_id': 2802363357, 'author': 'fw-bot', 'body': 'This PR targets saas-18.1 and is part of the forward-port chain. Further PRs will be created up to master.\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 21, 16, 57, 47, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-21 16:57:46 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/194602.png)](https://mergebot.odoo.com/odoo/odoo/pull/194602)

fw-bot (Issue Creator) on (2025-01-21 16:57:47 UTC): This PR targets saas-18.1 and is part of the forward-port chain. Further PRs will be created up to master.

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

"
2802356720,pull_request,closed,,[FIX] pos_self_order: merge orders from same table,"When 2 orders are made from the same QR Code representing the same table all the orders would not be merged on the table

Steps to reproduce:
-------------------
* Setup QR + Ordering and serving at Table in PoS settings
* Open one table QR Code in 2 different devices/browsers
* Make an order in each device
> Observation: Only one will appear on the table

Why the fix:
------------
Based on the behavior in 17.4 we should merge the orders from the same table. To do this when we find an open order for the table we change the id of the new order to the one of the existing order so that those 2 orders are merged.

opw-4482805",robinengels,2025-01-21 16:54:20+00:00,[],2025-01-22 11:55:26+00:00,2025-01-22 11:55:26+00:00,https://github.com/odoo/odoo/pull/194601,"[('OE', 'the report is linked to a support ticket (opw-...)')]","[{'comment_id': 2605262506, 'issue_id': 2802356720, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/194601.png)](https://mergebot.odoo.com/odoo/odoo/pull/194601)', 'created_at': datetime.datetime(2025, 1, 21, 16, 54, 23, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-21 16:54:23 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/194601.png)](https://mergebot.odoo.com/odoo/odoo/pull/194601)

"
2802344706,pull_request,closed,,[FIX] hr_holidays: restore cancelled in domain,"In https://github.com/odoo/odoo/pull/127877, the active field was removed and replaced with state: cancel. This domain was modified but removed the check for the cancelled state.

opw-4420347",goffauxs,2025-01-21 16:48:35+00:00,[],2025-02-07 15:10:12+00:00,2025-01-24 15:06:56+00:00,https://github.com/odoo/odoo/pull/194600,"[('OE', 'the report is linked to a support ticket (opw-...)')]","[{'comment_id': 2605249412, 'issue_id': 2802344706, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/194600.png)](https://mergebot.odoo.com/odoo/odoo/pull/194600)', 'created_at': datetime.datetime(2025, 1, 21, 16, 48, 38, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-21 16:48:38 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/194600.png)](https://mergebot.odoo.com/odoo/odoo/pull/194600)

"
2802344202,pull_request,closed,,[FW][FIX] account_edi_ubl_cii: Make Peppol Adress always visible,"OIOUBL (which is not a Peppol format) uses the fields from peppol. 
So it should be visible to be edited too.

Even more, we will make it always visible, as the Peppol may be proposed more, 
and so, the fields should be more easily modifiable.



---
I confirm I have signed the CLA and read the PR guidelines at www.odoo.com/submit-pr

Forward-Port-Of: odoo/odoo#194513",fw-bot,2025-01-21 16:48:21+00:00,[],2025-02-05 00:28:49+00:00,2025-01-21 23:48:59+00:00,https://github.com/odoo/odoo/pull/194599,"[('RD', 'research & development, internal work'), ('forwardport', 'This PR was created by @fw-bot'), ('18.2', None)]","[{'comment_id': 2605248811, 'issue_id': 2802344202, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/194599.png)](https://mergebot.odoo.com/odoo/odoo/pull/194599)', 'created_at': datetime.datetime(2025, 1, 21, 16, 48, 23, tzinfo=datetime.timezone.utc)}, {'comment_id': 2605248852, 'issue_id': 2802344202, 'author': 'fw-bot', 'body': '@gawa-odoo @clbr-odoo this PR targets master and is the last of the forward-port chain containing:\n* odoo/odoo#194575\n\nTo merge the full chain, use\n> @robodoo r+\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 21, 16, 48, 23, tzinfo=datetime.timezone.utc)}, {'comment_id': 2605265010, 'issue_id': 2802344202, 'author': 'clbr-odoo', 'body': '@robodoo r+', 'created_at': datetime.datetime(2025, 1, 21, 16, 55, 32, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-21 16:48:23 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/194599.png)](https://mergebot.odoo.com/odoo/odoo/pull/194599)

fw-bot (Issue Creator) on (2025-01-21 16:48:23 UTC): @gawa-odoo @clbr-odoo this PR targets master and is the last of the forward-port chain containing:
* odoo/odoo#194575

To merge the full chain, use

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

clbr-odoo on (2025-01-21 16:55:32 UTC): @robodoo r+

"
2802309970,pull_request,open,,[IMP] website_sale: move form buttons to cart summary,"To add consistency in the user interface, the ""submit form""
buttons of /shop/address and /shop/extra_form are moved
to the cart summary template.

task-4472450
based on / blocked by https://github.com/odoo/odoo/pull/189650",odoo-pda,2025-01-21 16:32:25+00:00,[],2025-01-30 13:55:59+00:00,,https://github.com/odoo/odoo/pull/194598,"[('RD', 'research & development, internal work')]","[{'comment_id': 2605211244, 'issue_id': 2802309970, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/194598.png)](https://mergebot.odoo.com/odoo/odoo/pull/194598)', 'created_at': datetime.datetime(2025, 1, 21, 16, 32, 28, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-21 16:32:28 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/194598.png)](https://mergebot.odoo.com/odoo/odoo/pull/194598)

"
2802295690,pull_request,closed,,[FIX] account: address product price rounding discrepancy in tax computation,"
The customer reported a rounding discrepancy in product price calculations. For instance, a product priced at 12,632.0160 with a 25% tax should result in a total of 15,790.02, but in Odoo versions 16 and 17, it incorrectly displays 15,790.03.

This issue occurs because tax calculations in versions 16 and 17 round intermediate tax amounts during computation. This behavior leads to slight inaccuracies in the final total.

In version 18, the tax computation has been updated to avoid rounding during intermediate steps, aligning with the product owner’s decision to calculate taxes without intermediate rounding. This ensures that the total amount reflects the exact tax computation.

This commit removes the rounding during intermediate steps in tax computation to align with the behavior introduced in version 18. It specifically addresses the rounding discrepancy issue without refactoring the entire tax computation logic, as that was already done in version 18.

opw-4471913



---
I confirm I have signed the CLA and read the PR guidelines at www.odoo.com/submit-pr
",elhayyany,2025-01-21 16:26:11+00:00,[],2025-01-27 10:17:39+00:00,2025-01-27 10:17:39+00:00,https://github.com/odoo/odoo/pull/194597,"[('OE', 'the report is linked to a support ticket (opw-...)')]","[{'comment_id': 2605196053, 'issue_id': 2802295690, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/194597.png)](https://mergebot.odoo.com/odoo/odoo/pull/194597)', 'created_at': datetime.datetime(2025, 1, 21, 16, 26, 14, tzinfo=datetime.timezone.utc)}, {'comment_id': 2612785730, 'issue_id': 2802295690, 'author': 'antoine162', 'body': ""@elhayyany \r\nEDIT: So I just chatted with LAS (who wrote the tax engine) about what the correct behaviour should be. And he said that in fact, it's better to not round the `unit_price * quantity` before computing tax.\r\n\r\n(The reason being that you don't want to have a different tax amount depending on whether you have several invoice lines with different quantities for the same product or a single invoice line with all the quantity.)\r\n\r\nBut so, the behaviour in 18.0 is correct ...\r\nBut still he doesn't think it's possible to back-port it to 17.0 and his advice would be to just upgrade to 18.0. :smile:\r\n\r\nSorry for saying incorrect things in my comment above!"", 'created_at': datetime.datetime(2025, 1, 24, 15, 22, 16, tzinfo=datetime.timezone.utc)}, {'comment_id': 2612903252, 'issue_id': 2802295690, 'author': 'elhayyany', 'body': ""Hello @antoine162 thank you for the feedback, I'll let the client know about this and advice them to upgrade ."", 'created_at': datetime.datetime(2025, 1, 24, 16, 16, 32, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-21 16:26:14 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/194597.png)](https://mergebot.odoo.com/odoo/odoo/pull/194597)

antoine162 on (2025-01-24 15:22:16 UTC): @elhayyany 
EDIT: So I just chatted with LAS (who wrote the tax engine) about what the correct behaviour should be. And he said that in fact, it's better to not round the `unit_price * quantity` before computing tax.

(The reason being that you don't want to have a different tax amount depending on whether you have several invoice lines with different quantities for the same product or a single invoice line with all the quantity.)

But so, the behaviour in 18.0 is correct ...
But still he doesn't think it's possible to back-port it to 17.0 and his advice would be to just upgrade to 18.0. :smile:

Sorry for saying incorrect things in my comment above!

elhayyany (Issue Creator) on (2025-01-24 16:16:32 UTC): Hello @antoine162 thank you for the feedback, I'll let the client know about this and advice them to upgrade .

"
2802292978,pull_request,closed,,[FW][FIX] hr_holidays: allow search on name,"Steps to reproduce:

 - Go in time off app -> overview
 - Search on name

Issue:

When searching on name, the search does not work. This is due to the
name being computed and not stored. Directly related to the [recent
changes](https://github.com/odoo/odoo/commit/7a65a1b6ac34f214)

Fix

The field has now a search method on the different component of the name
separetly.

opw-4351362

---
I confirm I have signed the CLA and read the PR guidelines at www.odoo.com/submit-pr

Forward-Port-Of: odoo/odoo#188433",fw-bot,2025-01-21 16:24:56+00:00,[],2025-02-06 12:07:31+00:00,2025-01-23 12:03:15+00:00,https://github.com/odoo/odoo/pull/194596,"[('OE', 'the report is linked to a support ticket (opw-...)'), ('forwardport', 'This PR was created by @fw-bot'), ('18.2', None)]","[{'comment_id': 2605193050, 'issue_id': 2802292978, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/194596.png)](https://mergebot.odoo.com/odoo/odoo/pull/194596)', 'created_at': datetime.datetime(2025, 1, 21, 16, 24, 57, tzinfo=datetime.timezone.utc)}, {'comment_id': 2605193069, 'issue_id': 2802292978, 'author': 'fw-bot', 'body': '@jaeschwa @tivisse this PR targets master and is the last of the forward-port chain containing:\n* odoo/odoo#194549\n* odoo/odoo#194522\n\nTo merge the full chain, use\n> @robodoo r+\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 21, 16, 24, 58, tzinfo=datetime.timezone.utc)}, {'comment_id': 2606904736, 'issue_id': 2802292978, 'author': 'tivisse', 'body': '@robodoo r+', 'created_at': datetime.datetime(2025, 1, 22, 10, 49, 38, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-21 16:24:57 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/194596.png)](https://mergebot.odoo.com/odoo/odoo/pull/194596)

fw-bot (Issue Creator) on (2025-01-21 16:24:58 UTC): @jaeschwa @tivisse this PR targets master and is the last of the forward-port chain containing:
* odoo/odoo#194549
* odoo/odoo#194522

To merge the full chain, use

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

tivisse on (2025-01-22 10:49:38 UTC): @robodoo r+

"
2802292692,pull_request,closed,,[FIX] account: fix autopost of bills,"In b1046c8156ee3d3699d5b229720134cc3b2532d4, we introduced a new feature to allow autoposting of bills. When a user does not modify the imported bill for 3 consecutive times, we ask the user if he wants to activate the feature.

To detect whether the user has modified the imported bill or not, we use a new field `is_manually_modified` which is always set to `True` when the bill is edited except for automatic flows (OCR, CRON, email).

test_autopost_bills will fail when the l10n_eg_edi_eta module is installed. This is due to fact that calling import_facturx will end up calling _extend_with_attachments, which in turn changes the value of l10n_eg_eta_json_doc_id.raw which triggers the computes that depend on it. This is why we add the context key before calling _extend_with_attachments. Moreover, in the same function, a savepoint is created, triggering a flush that triggers the recomputes. A savepoint is created without the context, therefore we flush right before we create the savepoint.

runbot-110629
",alialfie,2025-01-21 16:24:48+00:00,[],2025-02-06 09:00:25+00:00,2025-01-23 08:43:59+00:00,https://github.com/odoo/odoo/pull/194595,"[('RD', 'research & development, internal work')]","[{'comment_id': 2605192868, 'issue_id': 2802292692, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/194595.png)](https://mergebot.odoo.com/odoo/odoo/pull/194595)', 'created_at': datetime.datetime(2025, 1, 21, 16, 24, 52, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-21 16:24:52 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/194595.png)](https://mergebot.odoo.com/odoo/odoo/pull/194595)

"
2802285026,pull_request,closed,,[FIX] account: address product price rounding discrepancy in tax computation,"The customer reported a rounding discrepancy in product price calculations. For instance, a product priced at 12,632.0160 with a 25% tax should result in a total of 15,790.02, but in Odoo versions 16 and 17, it incorrectly displays 15,790.03.

This issue occurs because tax calculations in versions 16 and 17 round intermediate tax amounts during computation. This behavior leads to slight inaccuracies in the final total.

In version 18, the tax computation has been updated to avoid rounding during intermediate steps, aligning with the product owner’s decision to calculate taxes without intermediate rounding. This ensures that the total amount reflects the exact tax computation.

This commit removes the rounding during intermediate steps in tax computation to align with the behavior introduced in version 18. It specifically addresses the rounding discrepancy issue without refactoring the entire tax computation logic, as that was already done in version 18.

opw-4471913

---
I confirm I have signed the CLA and read the PR guidelines at www.odoo.com/submit-pr
",elhayyany,2025-01-21 16:21:14+00:00,[],2025-01-21 16:26:58+00:00,2025-01-21 16:26:58+00:00,https://github.com/odoo/odoo/pull/194594,[],"[{'comment_id': 2605184500, 'issue_id': 2802285026, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/194594.png)](https://mergebot.odoo.com/odoo/odoo/pull/194594)', 'created_at': datetime.datetime(2025, 1, 21, 16, 21, 18, tzinfo=datetime.timezone.utc)}, {'comment_id': 2605197864, 'issue_id': 2802285026, 'author': 'elhayyany', 'body': 'wrong naming', 'created_at': datetime.datetime(2025, 1, 21, 16, 26, 58, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-21 16:21:18 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/194594.png)](https://mergebot.odoo.com/odoo/odoo/pull/194594)

elhayyany (Issue Creator) on (2025-01-21 16:26:58 UTC): wrong naming

"
2802283004,pull_request,open,,[FIX] mail: prevent traceback error when deleting quotation attachment,"**Issue**:
A traceback error is raised when deleting the quotation attachment before sending it via email.

**Steps to reproduce:**
	- go to Sales.
	- open a quotation.
	- click ""Send by Email.""
	- delete the attachment.

A traceback error occurs.

opw-4486182
",st-yes,2025-01-21 16:20:29+00:00,[],2025-02-06 14:56:51+00:00,,https://github.com/odoo/odoo/pull/194593,"[('OE', 'the report is linked to a support ticket (opw-...)')]","[{'comment_id': 2605182560, 'issue_id': 2802283004, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/194593.png)](https://mergebot.odoo.com/odoo/odoo/pull/194593)', 'created_at': datetime.datetime(2025, 1, 21, 16, 20, 32, tzinfo=datetime.timezone.utc)}, {'comment_id': 2639963431, 'issue_id': 2802283004, 'author': 'seb-odoo', 'body': 'Could it be possible to add a test to cover the fix?', 'created_at': datetime.datetime(2025, 2, 6, 14, 21, 18, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-21 16:20:32 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/194593.png)](https://mergebot.odoo.com/odoo/odoo/pull/194593)

seb-odoo on (2025-02-06 14:21:18 UTC): Could it be possible to add a test to cover the fix?

"
2802254654,pull_request,closed,,[FIX] base_vat: add a method to validate Moroccan VAT numbers,"### Steps to reproduce:
- Create a new Contact
- Set the country to Morocco
- Add ""52258521"" as a VAT number
- Try to validate -> Error

### Cause:
Only occurs after saas-17.4 because it is related to the library `stdnum`. The version of this library change when the Python version is >3.11.  As the SaaS version use Python3.12 since saas-17.4 and Python3.10 before, the bug only appears in saas-17.4, but this change targets 17.0 because 17.0 supports Python > 3.10.

The cause of the bug is the new version of the library which implements a verification method that corresponds to Moroccan ICE numbers and not VAT numbers.

### Solution:
Create the method to check the Moroccan VAT numbers. The format is just a number with 8 digits.

opw-4447478",mathcoutant,2025-01-21 16:08:01+00:00,[],2025-02-06 11:46:45+00:00,2025-01-23 11:32:31+00:00,https://github.com/odoo/odoo/pull/194592,"[('OE', 'the report is linked to a support ticket (opw-...)')]","[{'comment_id': 2605151058, 'issue_id': 2802254654, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/194592.png)](https://mergebot.odoo.com/odoo/odoo/pull/194592)', 'created_at': datetime.datetime(2025, 1, 21, 16, 8, 4, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-21 16:08:04 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/194592.png)](https://mergebot.odoo.com/odoo/odoo/pull/194592)

"
2802253088,pull_request,open,,[IMP] account_accountant: use better management of invalid statements,"This commit brings more clarity on invalid statements. The reflected
changes are :
- Hiding Last Statement if its date is <= Lock Date
- ""Invalid Statement(s)"" alert on the journal dashboard
- Red balance amount and warning in the BankRecW when it contains
invalid statements (clicking on the warning applies the filter)
- Possibility to choose a statement when creating a transaction
- Invalid statement warning in the statement creation form
- Displays all warnings in the statement form view
- When a file generate a statement, it is kept in its attachments
- Prevent deletion of transactions if they belong to a valid statement
- Empty statement are not taken into account for the dashboard
Last Statement and the BankRecW balance

task-4413473",proose,2025-01-21 16:07:18+00:00,[],2025-02-06 12:27:07+00:00,,https://github.com/odoo/odoo/pull/194591,"[('RD', 'research & development, internal work')]","[{'comment_id': 2605147892, 'issue_id': 2802253088, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/194591.png)](https://mergebot.odoo.com/odoo/odoo/pull/194591)', 'created_at': datetime.datetime(2025, 1, 21, 16, 7, 22, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-21 16:07:22 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/194591.png)](https://mergebot.odoo.com/odoo/odoo/pull/194591)

"
2802245972,pull_request,closed,,[FW][IMP] l10n_mu: PDF invoice requirements,"This commit add few data on the report_invoice for Mauritius localization.

task-4379202

Forward-Port-Of: odoo/odoo#190723",fw-bot,2025-01-21 16:04:18+00:00,[],2025-02-06 15:04:56+00:00,2025-01-23 14:43:03+00:00,https://github.com/odoo/odoo/pull/194590,"[('RD', 'research & development, internal work'), ('forwardport', 'This PR was created by @fw-bot'), ('conflict', 'There was an error while creating this forward-port PR')]","[{'comment_id': 2605137863, 'issue_id': 2802245972, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/194590.png)](https://mergebot.odoo.com/odoo/odoo/pull/194590)', 'created_at': datetime.datetime(2025, 1, 21, 16, 4, 19, tzinfo=datetime.timezone.utc)}, {'comment_id': 2605137965, 'issue_id': 2802245972, 'author': 'fw-bot', 'body': '@igbe-odoo @hupo-odoo cherrypicking of pull request odoo/odoo#190723 failed.\n\nstdout:\n```\nAuto-merging addons/l10n_mu_account/views/report_invoice.xml\nCONFLICT (content): Merge conflict in addons/l10n_mu_account/views/report_invoice.xml\n\n```\n\nEither perform the forward-port manually (and push to this branch, proceeding as usual) or close this PR (maybe?).\n\nIn the former case, you may want to edit this PR message as well.\n\n:warning: after resolving this conflict, you will need to merge it via @robodoo.\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 21, 16, 4, 22, tzinfo=datetime.timezone.utc)}, {'comment_id': 2609656023, 'issue_id': 2802245972, 'author': 'igbe-odoo', 'body': '@robodoo r+', 'created_at': datetime.datetime(2025, 1, 23, 12, 13, 16, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-21 16:04:19 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/194590.png)](https://mergebot.odoo.com/odoo/odoo/pull/194590)

fw-bot (Issue Creator) on (2025-01-21 16:04:22 UTC): @igbe-odoo @hupo-odoo cherrypicking of pull request odoo/odoo#190723 failed.

stdout:
```
Auto-merging addons/l10n_mu_account/views/report_invoice.xml
CONFLICT (content): Merge conflict in addons/l10n_mu_account/views/report_invoice.xml

```

Either perform the forward-port manually (and push to this branch, proceeding as usual) or close this PR (maybe?).

In the former case, you may want to edit this PR message as well.

:warning: after resolving this conflict, you will need to merge it via @robodoo.

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

igbe-odoo on (2025-01-23 12:13:16 UTC): @robodoo r+

"
2802234928,pull_request,closed,,[FW][FIX] mrp: duplicate MO and change date,"Steps to reproduce:
-----

- Create a MO
- Duplicate it
- Change the scheduled date
- Confirm

Issue:
---

This [changes](https://github.com/odoo/odoo/commit/7c808beaf36853b4d9171ef0981d1ec9c4b73a44), is trying to timedelta between str and datetime leading to an error.

Fix:
---
To fix this the date_start is set as a datetime and removing the conversion later in the code.

opw-4489618


---
I confirm I have signed the CLA and read the PR guidelines at www.odoo.com/submit-pr

Forward-Port-Of: odoo/odoo#194376",fw-bot,2025-01-21 15:59:34+00:00,[],2025-02-05 11:09:16+00:00,2025-01-22 10:58:02+00:00,https://github.com/odoo/odoo/pull/194589,"[('OE', 'the report is linked to a support ticket (opw-...)'), ('forwardport', 'This PR was created by @fw-bot')]","[{'comment_id': 2605125478, 'issue_id': 2802234928, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/194589.png)](https://mergebot.odoo.com/odoo/odoo/pull/194589)', 'created_at': datetime.datetime(2025, 1, 21, 15, 59, 35, tzinfo=datetime.timezone.utc)}, {'comment_id': 2605125511, 'issue_id': 2802234928, 'author': 'fw-bot', 'body': 'This PR targets 18.0 and is part of the forward-port chain. Further PRs will be created up to master.\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 21, 15, 59, 36, tzinfo=datetime.timezone.utc)}, {'comment_id': 2605307804, 'issue_id': 2802234928, 'author': 'fw-bot', 'body': '@jaeschwa @Whenrow the next pull request (odoo/odoo#194611) is in conflict. You can merge the chain up to here by saying\n> @robodoo r+\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 21, 17, 13, 53, tzinfo=datetime.timezone.utc)}, {'comment_id': 2606702199, 'issue_id': 2802234928, 'author': 'jaeschwa', 'body': '@robodoo r+', 'created_at': datetime.datetime(2025, 1, 22, 9, 24, 11, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-21 15:59:35 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/194589.png)](https://mergebot.odoo.com/odoo/odoo/pull/194589)

fw-bot (Issue Creator) on (2025-01-21 15:59:36 UTC): This PR targets 18.0 and is part of the forward-port chain. Further PRs will be created up to master.

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

fw-bot (Issue Creator) on (2025-01-21 17:13:53 UTC): @jaeschwa @Whenrow the next pull request (odoo/odoo#194611) is in conflict. You can merge the chain up to here by saying

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

jaeschwa on (2025-01-22 09:24:11 UTC): @robodoo r+

"
2802226623,pull_request,closed,,[FW][FIX] hr: only generate default avatar if possible,"Steps
-----
- Have a user with 'Employees' Administator rights and no 'Administration' rights.
- Create a new employee.
- When viewing the Kanban views of employees, the image for the newly created employee appears corrupted (the text 'binary file' appears instead of the image).

Cause
-----
When we create a new employee, `_avatar_generate_svg` is called https://github.com/odoo/odoo/blob/717f3a1ab25613c02c2d0b28fa8dd73f4e6c75e0/addons/hr/models/hr_employee.py#L497-L498 that returns a svg/xml base-64 encoded. However, only users with write rights to `ir.ui.view` are able to create svg/xml attachments. https://github.com/odoo/odoo/blob/717f3a1ab25613c02c2d0b28fa8dd73f4e6c75e0/odoo/addons/base/models/ir_attachment.py#L368-L371 Else, the attachment has a text mimetype forced, leading to it being incorrectly displayed.

Change
-----
A default image is not generated at employee creation if the user doesn't have sufficient rights.

opw-4311251

Forward-Port-Of: odoo/odoo#190214",fw-bot,2025-01-21 15:55:58+00:00,[],2025-01-27 16:20:45+00:00,2025-01-27 16:20:45+00:00,https://github.com/odoo/odoo/pull/194588,"[('OE', 'the report is linked to a support ticket (opw-...)'), ('forwardport', 'This PR was created by @fw-bot')]","[{'comment_id': 2605116374, 'issue_id': 2802226623, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/194588.png)](https://mergebot.odoo.com/odoo/odoo/pull/194588)', 'created_at': datetime.datetime(2025, 1, 21, 15, 55, 59, tzinfo=datetime.timezone.utc)}, {'comment_id': 2605116400, 'issue_id': 2802226623, 'author': 'fw-bot', 'body': 'This PR targets 18.0 and is part of the forward-port chain. Further PRs will be created up to master.\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 21, 15, 55, 59, tzinfo=datetime.timezone.utc)}, {'comment_id': 2605124595, 'issue_id': 2802226623, 'author': 'fw-bot', 'body': '@taqu-odoo @Bertrand2 ci/template failed on this forward-port PR', 'created_at': datetime.datetime(2025, 1, 21, 15, 59, 13, tzinfo=datetime.timezone.utc)}, {'comment_id': 2605143041, 'issue_id': 2802226623, 'author': 'fw-bot', 'body': '@taqu-odoo @Bertrand2 ci/runbot failed on this forward-port PR', 'created_at': datetime.datetime(2025, 1, 21, 16, 6, 18, tzinfo=datetime.timezone.utc)}, {'comment_id': 2613155664, 'issue_id': 2802226623, 'author': 'fw-bot', 'body': '@taqu-odoo @Bertrand2 this PR was modified / updated and has become a normal PR. It must be merged directly.', 'created_at': datetime.datetime(2025, 1, 24, 18, 35, 31, tzinfo=datetime.timezone.utc)}, {'comment_id': 2613722042, 'issue_id': 2802226623, 'author': 'fw-bot', 'body': '@taqu-odoo @Bertrand2 this forward port of odoo/odoo#190214 is awaiting action (not merged or closed).', 'created_at': datetime.datetime(2025, 1, 25, 2, 1, 48, tzinfo=datetime.timezone.utc)}, {'comment_id': 2614172499, 'issue_id': 2802226623, 'author': 'fw-bot', 'body': '@taqu-odoo @Bertrand2 this forward port of odoo/odoo#190214 is awaiting action (not merged or closed).', 'created_at': datetime.datetime(2025, 1, 26, 2, 2, 4, tzinfo=datetime.timezone.utc)}, {'comment_id': 2614723668, 'issue_id': 2802226623, 'author': 'fw-bot', 'body': '@taqu-odoo @Bertrand2 this forward port of odoo/odoo#190214 is awaiting action (not merged or closed).', 'created_at': datetime.datetime(2025, 1, 27, 2, 2, 44, tzinfo=datetime.timezone.utc)}, {'comment_id': 2615874761, 'issue_id': 2802226623, 'author': 'taqu-odoo', 'body': 'robodoo r+', 'created_at': datetime.datetime(2025, 1, 27, 14, 14, 6, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-21 15:55:59 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/194588.png)](https://mergebot.odoo.com/odoo/odoo/pull/194588)

fw-bot (Issue Creator) on (2025-01-21 15:55:59 UTC): This PR targets 18.0 and is part of the forward-port chain. Further PRs will be created up to master.

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

fw-bot (Issue Creator) on (2025-01-21 15:59:13 UTC): @taqu-odoo @Bertrand2 ci/template failed on this forward-port PR

fw-bot (Issue Creator) on (2025-01-21 16:06:18 UTC): @taqu-odoo @Bertrand2 ci/runbot failed on this forward-port PR

fw-bot (Issue Creator) on (2025-01-24 18:35:31 UTC): @taqu-odoo @Bertrand2 this PR was modified / updated and has become a normal PR. It must be merged directly.

fw-bot (Issue Creator) on (2025-01-25 02:01:48 UTC): @taqu-odoo @Bertrand2 this forward port of odoo/odoo#190214 is awaiting action (not merged or closed).

fw-bot (Issue Creator) on (2025-01-26 02:02:04 UTC): @taqu-odoo @Bertrand2 this forward port of odoo/odoo#190214 is awaiting action (not merged or closed).

fw-bot (Issue Creator) on (2025-01-27 02:02:44 UTC): @taqu-odoo @Bertrand2 this forward port of odoo/odoo#190214 is awaiting action (not merged or closed).

taqu-odoo on (2025-01-27 14:14:06 UTC): robodoo r+

"
2802218677,pull_request,closed,,[FW][FIX] web: burger menu memory leak,"The event listeners are never removed when the component is unmounted which means to global `env.bus` always keeps a reference to this component and everything that goes with it, including its (child)env.

In version 18.0, the spreadsheet client action instantiates its own `BurgerMenu` component and also adds the spreadsheet `model` in the action child env (which can be expensive memory-wise)



---
I confirm I have signed the CLA and read the PR guidelines at www.odoo.com/submit-pr

Forward-Port-Of: odoo/odoo#194485",fw-bot,2025-01-21 15:52:35+00:00,[],2025-02-04 21:11:46+00:00,2025-01-21 21:06:43+00:00,https://github.com/odoo/odoo/pull/194587,"[('RD', 'research & development, internal work'), ('forwardport', 'This PR was created by @fw-bot'), ('conflict', 'There was an error while creating this forward-port PR')]","[{'comment_id': 2605107118, 'issue_id': 2802218677, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/194587.png)](https://mergebot.odoo.com/odoo/odoo/pull/194587)', 'created_at': datetime.datetime(2025, 1, 21, 15, 52, 37, tzinfo=datetime.timezone.utc)}, {'comment_id': 2605107398, 'issue_id': 2802218677, 'author': 'fw-bot', 'body': '@LucasLefevre @aab-odoo cherrypicking of pull request odoo/odoo#194485 failed.\n\nstdout:\n```\nAuto-merging addons/web/static/src/webclient/burger_menu/burger_menu.js\nCONFLICT (content): Merge conflict in addons/web/static/src/webclient/burger_menu/burger_menu.js\n\n```\n\nEither perform the forward-port manually (and push to this branch, proceeding as usual) or close this PR (maybe?).\n\nIn the former case, you may want to edit this PR message as well.\n\n:warning: after resolving this conflict, you will need to merge it via @robodoo.\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 21, 15, 52, 43, tzinfo=datetime.timezone.utc)}, {'comment_id': 2605551375, 'issue_id': 2802218677, 'author': 'LucasLefevre', 'body': 'robodoo r+', 'created_at': datetime.datetime(2025, 1, 21, 19, 19, 38, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-21 15:52:37 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/194587.png)](https://mergebot.odoo.com/odoo/odoo/pull/194587)

fw-bot (Issue Creator) on (2025-01-21 15:52:43 UTC): @LucasLefevre @aab-odoo cherrypicking of pull request odoo/odoo#194485 failed.

stdout:
```
Auto-merging addons/web/static/src/webclient/burger_menu/burger_menu.js
CONFLICT (content): Merge conflict in addons/web/static/src/webclient/burger_menu/burger_menu.js

```

Either perform the forward-port manually (and push to this branch, proceeding as usual) or close this PR (maybe?).

In the former case, you may want to edit this PR message as well.

:warning: after resolving this conflict, you will need to merge it via @robodoo.

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

LucasLefevre on (2025-01-21 19:19:38 UTC): robodoo r+

"
2802215459,pull_request,closed,,[FW][FIX] auth_oauth: ensure werkzeug 3 compatibility,"Description of the issue/feature this PR addresses:
The method werkzeug.http.parse_www_authenticate_header has been removed in werkzeug 3 and later. This causes an issue in Odoo when using python 3.12, as the requirements.txt specifies werkzeug 3.0.1. This results in a misleading error stating that auth_signup is not installed on the database when authenticating a new user with an OAuth provider.

Current behavior before PR:
When attempting to authenticate a new user with an OAuth provider in Odoo using Python 3.12, the method werkzeug.http.parse_www_authenticate_header is called. Since this method is removed in Werkzeug 3.0.1, a misleading error message about auth_signup not being installed on the database is displayed.

Desired behavior after PR is merged:
The code will use WWWAuthenticate.from_header for parsing the WWW-Authenticate header if available, otherwise, it will fall back to using werkzeug.http.parse_www_authenticate_header for compatibility with older versions of Werkzeug (2.0 and 2.2). The misleading error message will no longer appear, and OAuth authentication will work as expected.

Fixes #194002


---
I confirm I have signed the CLA and read the PR guidelines at www.odoo.com/submit-pr

Forward-Port-Of: odoo/odoo#194484",fw-bot,2025-01-21 15:51:11+00:00,[],2025-01-27 11:05:07+00:00,2025-01-27 11:05:07+00:00,https://github.com/odoo/odoo/pull/194586,"[('RD', 'research & development, internal work'), ('forwardport', 'This PR was created by @fw-bot')]","[{'comment_id': 2605103688, 'issue_id': 2802215459, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/194586.png)](https://mergebot.odoo.com/odoo/odoo/pull/194586)', 'created_at': datetime.datetime(2025, 1, 21, 15, 51, 13, tzinfo=datetime.timezone.utc)}, {'comment_id': 2605103714, 'issue_id': 2802215459, 'author': 'fw-bot', 'body': 'This PR targets 18.0 and is part of the forward-port chain. Further PRs will be created up to master.\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 21, 15, 51, 14, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-21 15:51:13 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/194586.png)](https://mergebot.odoo.com/odoo/odoo/pull/194586)

fw-bot (Issue Creator) on (2025-01-21 15:51:14 UTC): This PR targets 18.0 and is part of the forward-port chain. Further PRs will be created up to master.

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

"
2802214676,pull_request,open,,[IMP] core: no longer load demo data by default,"**[IMP] core: add --with-demo**

The --without-demo option (and its ""demo"" counterpart) isn't great, we
would rather have a --with-demo to avoid the double negation.

In this work we add ""--with-demo"" (CLI) and ""with_demo=BOOL"" (config),
the ""--without-demo"" (CLI) and ""without_demo=BOOL"" now act as an
(inverted) alias to ""--with-demo"".

We no longer expose `config['without_demo']` and instead expose
`config['with_demo']`, again to avoid the double negation.

--with-demo acts solely as a flag and with_demo= takes only a str2bool
compatible input. This makes the option much more sane than the weird
without_demo that accepts anything (e.g. ""all""). --without-demo keeps on
accepting that weird stuff.

---

**[IMP] core: no longer load demo data by default**

Loading demonstration data (Mitchel Admin, Azure Interior) doesn't make
sense most of the time.

- In production we should absolutely never load the demo data.
- In testing we should not rely on demo data, but instead data
  constructed during the test.
- We are been told that our Sales collegues don't use the demo data
  included in the product, as they are not up to their needs.

In really only developpers and product owners are using the demo data,
to quickly test the application. They also happen to be the people the
most familiar with the command line.

---

[task-4317765](https://www.odoo.com/odoo/my-tasks/4317765)
closes #188826
",Julien00859,2025-01-21 15:50:52+00:00,[],2025-01-23 09:35:56+00:00,,https://github.com/odoo/odoo/pull/194585,"[('RD', 'research & development, internal work')]","[{'comment_id': 2605102918, 'issue_id': 2802214676, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/194585.png)](https://mergebot.odoo.com/odoo/odoo/pull/194585)', 'created_at': datetime.datetime(2025, 1, 21, 15, 50, 55, tzinfo=datetime.timezone.utc)}, {'comment_id': 2605104116, 'issue_id': 2802214676, 'author': 'Julien00859', 'body': '@robodoo rebase-ff', 'created_at': datetime.datetime(2025, 1, 21, 15, 51, 24, tzinfo=datetime.timezone.utc)}, {'comment_id': 2605104200, 'issue_id': 2802214676, 'author': 'robodoo', 'body': 'Merge method set to rebase and fast-forward.', 'created_at': datetime.datetime(2025, 1, 21, 15, 51, 26, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-21 15:50:55 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/194585.png)](https://mergebot.odoo.com/odoo/odoo/pull/194585)

Julien00859 (Issue Creator) on (2025-01-21 15:51:24 UTC): @robodoo rebase-ff

robodoo on (2025-01-21 15:51:26 UTC): Merge method set to rebase and fast-forward.

"
2802209458,pull_request,open,,[IMP] website: SEO settings renaming.,"Some users may struggle to inform Google that their website exists.

Therefore, in this commit, we renamed some SEO settings to make them more explicit or updated them.

Task-4452546


---
I confirm I have signed the CLA and read the PR guidelines at www.odoo.com/submit-pr
",CorentinVermeulen,2025-01-21 15:48:45+00:00,[],2025-01-21 16:00:17+00:00,,https://github.com/odoo/odoo/pull/194584,"[('RD', 'research & development, internal work')]","[{'comment_id': 2605097443, 'issue_id': 2802209458, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/194584.png)](https://mergebot.odoo.com/odoo/odoo/pull/194584)', 'created_at': datetime.datetime(2025, 1, 21, 15, 48, 48, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-21 15:48:48 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/194584.png)](https://mergebot.odoo.com/odoo/odoo/pull/194584)

"
2802204807,pull_request,closed,,[FIX] account: validate entire structured reference,"In SEPA payment files, when a structured reference is used, it is put in the section `RmtInf/Strd/CdtrRefInf/Ref`. This section has a maximum length of 35 characters. Since we only use structured references that are always less that 35 characters, this should not be a problem.

However, the way we validated the structured reference was by performing a `re.match()`, which only matches from the beginning of the string. So if more characters would be after the structured reference, it would still match and it would be possible to go beyond 35 characters.

In this commit, we fix this by using a full match instead of a match from the beginning.

[opw-4357554](https://www.odoo.com/odoo/project.task/4357554)",dylankiss,2025-01-21 15:46:52+00:00,[],2025-02-06 12:00:22+00:00,2025-02-06 12:00:22+00:00,https://github.com/odoo/odoo/pull/194583,"[('OE', 'the report is linked to a support ticket (opw-...)')]","[{'comment_id': 2605092798, 'issue_id': 2802204807, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/194583.png)](https://mergebot.odoo.com/odoo/odoo/pull/194583)', 'created_at': datetime.datetime(2025, 1, 21, 15, 46, 55, tzinfo=datetime.timezone.utc)}, {'comment_id': 2639332835, 'issue_id': 2802204807, 'author': 'hupo-odoo', 'body': 'LGTM, thanks!\r\n@robodoo r+', 'created_at': datetime.datetime(2025, 2, 6, 9, 52, 21, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-21 15:46:55 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/194583.png)](https://mergebot.odoo.com/odoo/odoo/pull/194583)

hupo-odoo on (2025-02-06 09:52:21 UTC): LGTM, thanks!
@robodoo r+

"
2802201243,pull_request,closed,,[FW][FIX] spreadsheet_account: 'See Records' icon in context menu,"# Description

The 'See Records' icon was missing when attempting to open `AccountMoveLines` records from the context menu in the spreadsheet.

Task: 0

---
I confirm I have signed the CLA and read the PR guidelines at www.odoo.com/submit-pr

Forward-Port-Of: odoo/odoo#194464",fw-bot,2025-01-21 15:45:23+00:00,[],2025-02-04 19:45:40+00:00,2025-01-21 19:30:29+00:00,https://github.com/odoo/odoo/pull/194582,"[('RD', 'research & development, internal work'), ('forwardport', 'This PR was created by @fw-bot')]","[{'comment_id': 2605089142, 'issue_id': 2802201243, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/194582.png)](https://mergebot.odoo.com/odoo/odoo/pull/194582)', 'created_at': datetime.datetime(2025, 1, 21, 15, 45, 24, tzinfo=datetime.timezone.utc)}, {'comment_id': 2605089168, 'issue_id': 2802201243, 'author': 'fw-bot', 'body': 'This PR targets saas-18.1 and is part of the forward-port chain. Further PRs will be created up to master.\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 21, 15, 45, 25, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-21 15:45:24 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/194582.png)](https://mergebot.odoo.com/odoo/odoo/pull/194582)

fw-bot (Issue Creator) on (2025-01-21 15:45:25 UTC): This PR targets saas-18.1 and is part of the forward-port chain. Further PRs will be created up to master.

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

"
2802198758,pull_request,closed,,[FW][FIX] web: catch ResizeObserver error in chrome 132,"Since chrome 132, the shape of error events for the `ResizeObserver loop completed with undelivered notifications.` error changed: the `error` key is now set in the event (its value is this specific message, i.e. a string, not an Error instance). As a consequence, those errors are no longer swallowed as they're expected to be, and are thus wrongly identified as CORS errors. Those errors are shown to the user in debug mode.

This happens for instance in the ir.ui.view form view, which contains an AceEditor field. His CodeEditor component listens on the `resize` event to redrawn itself, which causes this error. This also happens with the website builder, which does not involve the CodeEditor. It probably happens at other places as well. We thus need a global solution, like we had before.

This commit thus fixes the condition in the error service to keep swallowing that error.

opw-4500350
opw-4496862
opw-4496782
opw-4495448
opw-4493209
opw-4495309
opw-4472997

Description of the issue/feature this PR addresses:

Current behavior before PR:

Desired behavior after PR is merged:




---
I confirm I have signed the CLA and read the PR guidelines at www.odoo.com/submit-pr

Forward-Port-Of: odoo/odoo#194483",fw-bot,2025-01-21 15:44:19+00:00,[],2025-02-04 20:40:44+00:00,2025-01-21 20:26:09+00:00,https://github.com/odoo/odoo/pull/194581,"[('OE', 'the report is linked to a support ticket (opw-...)'), ('forwardport', 'This PR was created by @fw-bot')]","[{'comment_id': 2605086586, 'issue_id': 2802198758, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/194581.png)](https://mergebot.odoo.com/odoo/odoo/pull/194581)', 'created_at': datetime.datetime(2025, 1, 21, 15, 44, 21, tzinfo=datetime.timezone.utc)}, {'comment_id': 2605086615, 'issue_id': 2802198758, 'author': 'fw-bot', 'body': 'This PR targets 18.0 and is part of the forward-port chain. Further PRs will be created up to master.\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 21, 15, 44, 21, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-21 15:44:21 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/194581.png)](https://mergebot.odoo.com/odoo/odoo/pull/194581)

fw-bot (Issue Creator) on (2025-01-21 15:44:21 UTC): This PR targets 18.0 and is part of the forward-port chain. Further PRs will be created up to master.

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

"
2802188970,pull_request,closed,,[IMP] l10n_it_reports: remove wrong tax report,"Since the split of the Italian tax report, the old report is obsolete and can be removed.

Upgrade PR: https://github.com/odoo/upgrade/pull/7112
task-3895696

---
I confirm I have signed the CLA and read the PR guidelines at www.odoo.com/submit-pr
",Megaaaaaa,2025-01-21 15:40:32+00:00,[],2025-02-06 19:17:29+00:00,2025-01-23 19:17:02+00:00,https://github.com/odoo/odoo/pull/194580,"[('RD', 'research & development, internal work'), ('18.2', None)]","[{'comment_id': 2605076861, 'issue_id': 2802188970, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/194580.png)](https://mergebot.odoo.com/odoo/odoo/pull/194580)', 'created_at': datetime.datetime(2025, 1, 21, 15, 40, 36, tzinfo=datetime.timezone.utc)}, {'comment_id': 2609985798, 'issue_id': 2802188970, 'author': 'william-andre', 'body': 'This needs an upgrade script', 'created_at': datetime.datetime(2025, 1, 23, 14, 41, 5, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-21 15:40:36 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/194580.png)](https://mergebot.odoo.com/odoo/odoo/pull/194580)

william-andre on (2025-01-23 14:41:05 UTC): This needs an upgrade script

"
2802185098,pull_request,closed,,[FW][FIX] web: graph: prevent rendering too many datasets,"Chart.js can be really slow when rendering a large number of datasets.
So this commit limits the amount of datasets displayed by default on the graph.
However a button is present to display all datasets even if it can take a moment to render them.

task-4351783

Forward-Port-Of: odoo/odoo#194434
Forward-Port-Of: odoo/odoo#192892",fw-bot,2025-01-21 15:38:49+00:00,[],2025-02-04 22:33:40+00:00,2025-01-21 22:03:11+00:00,https://github.com/odoo/odoo/pull/194579,"[('RD', 'research & development, internal work'), ('forwardport', 'This PR was created by @fw-bot'), ('18.2', None)]","[{'comment_id': 2605072428, 'issue_id': 2802185098, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/194579.png)](https://mergebot.odoo.com/odoo/odoo/pull/194579)', 'created_at': datetime.datetime(2025, 1, 21, 15, 38, 50, tzinfo=datetime.timezone.utc)}, {'comment_id': 2605072463, 'issue_id': 2802185098, 'author': 'fw-bot', 'body': '@mcm-odoo @polymorphe57 this PR targets master and is the last of the forward-port chain.\n\nTo merge the full chain, use\n> @robodoo r+\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 21, 15, 38, 51, tzinfo=datetime.timezone.utc)}, {'comment_id': 2605120317, 'issue_id': 2802185098, 'author': 'Polymorphe57', 'body': '@robodoo r+', 'created_at': datetime.datetime(2025, 1, 21, 15, 57, 32, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-21 15:38:50 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/194579.png)](https://mergebot.odoo.com/odoo/odoo/pull/194579)

fw-bot (Issue Creator) on (2025-01-21 15:38:51 UTC): @mcm-odoo @polymorphe57 this PR targets master and is the last of the forward-port chain.

To merge the full chain, use

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

Polymorphe57 on (2025-01-21 15:57:32 UTC): @robodoo r+

"
2802184388,pull_request,closed,,[FW][FIX] website_mail: `mail` translations available in frontend,"Portal chatter now uses discuss, thus it relies on translation of Discuss in `mail` module.

Frontend translations need to be available, they aren't by default unless the module is prefixed by `website`. This isn't the case for `mail`, and the module `website_mail` does not share the translations.

This commit fixes the issue by enabling `mail` in the translations of available translations in the frontend

Task-4423556

Forward-Port-Of: odoo/odoo#194452
Forward-Port-Of: odoo/odoo#191534",fw-bot,2025-01-21 15:38:30+00:00,[],2025-01-22 08:08:59+00:00,2025-01-21 23:49:41+00:00,https://github.com/odoo/odoo/pull/194578,"[('RD', 'research & development, internal work'), ('forwardport', 'This PR was created by @fw-bot'), ('18.2', None)]","[{'comment_id': 2605071570, 'issue_id': 2802184388, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/194578.png)](https://mergebot.odoo.com/odoo/odoo/pull/194578)', 'created_at': datetime.datetime(2025, 1, 21, 15, 38, 31, tzinfo=datetime.timezone.utc)}, {'comment_id': 2605071591, 'issue_id': 2802184388, 'author': 'fw-bot', 'body': '@alexkuhn this PR targets master and is the last of the forward-port chain.\n\nTo merge the full chain, use\n> @robodoo r+\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 21, 15, 38, 32, tzinfo=datetime.timezone.utc)}, {'comment_id': 2605822020, 'issue_id': 2802184388, 'author': 'alexkuhn', 'body': '@robodoo r+', 'created_at': datetime.datetime(2025, 1, 21, 21, 57, 3, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-21 15:38:31 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/194578.png)](https://mergebot.odoo.com/odoo/odoo/pull/194578)

fw-bot (Issue Creator) on (2025-01-21 15:38:32 UTC): @alexkuhn this PR targets master and is the last of the forward-port chain.

To merge the full chain, use

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

alexkuhn on (2025-01-21 21:57:03 UTC): @robodoo r+

"
2802183656,pull_request,closed,,[FW][FIX] portal: view chatter messages with partner reactions,"Before this commit, when accessing a shared chatter from a portal user that has edit access, chatter messages could not be loaded when a partner added at least one emoji reaction on a message.

Steps to reproduce:
- Share a project with Joel Willis with edit access
- Create a task with Joel Willis on this project
- Post a message as Joel Willis on the new task
- Let Mitchell Admin add a reaction on the new message

=> Joel Willis cannot load messages:

```
An error occurred while fetching messages.
```

This happens because the custom mail message formatter of portal chatter messages was crafting the reaction data of the messages to return. When providing people that have reacted to the message, Access to reacted partners was denied due to ACL.

This commit fixes the issue by sudo() the partners of message reaction to retrieve their data to the portal user. This is ok because the portal has access to the message, therefore access to the reaction and related data are fine. Note that data of partner that have reacted is very limited: only the name is returned.

opw-4454427

Forward-Port-Of: odoo/odoo#194453
Forward-Port-Of: odoo/odoo#193296",fw-bot,2025-01-21 15:38:10+00:00,[],2025-01-22 08:08:26+00:00,2025-01-21 23:49:37+00:00,https://github.com/odoo/odoo/pull/194577,"[('OE', 'the report is linked to a support ticket (opw-...)'), ('forwardport', 'This PR was created by @fw-bot'), ('18.2', None)]","[{'comment_id': 2605070808, 'issue_id': 2802183656, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/194577.png)](https://mergebot.odoo.com/odoo/odoo/pull/194577)', 'created_at': datetime.datetime(2025, 1, 21, 15, 38, 11, tzinfo=datetime.timezone.utc)}, {'comment_id': 2605070827, 'issue_id': 2802183656, 'author': 'fw-bot', 'body': '@alexkuhn this PR targets master and is the last of the forward-port chain.\n\nTo merge the full chain, use\n> @robodoo r+\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 21, 15, 38, 12, tzinfo=datetime.timezone.utc)}, {'comment_id': 2605821766, 'issue_id': 2802183656, 'author': 'alexkuhn', 'body': '@robodoo r+', 'created_at': datetime.datetime(2025, 1, 21, 21, 56, 53, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-21 15:38:11 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/194577.png)](https://mergebot.odoo.com/odoo/odoo/pull/194577)

fw-bot (Issue Creator) on (2025-01-21 15:38:12 UTC): @alexkuhn this PR targets master and is the last of the forward-port chain.

To merge the full chain, use

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

alexkuhn on (2025-01-21 21:56:53 UTC): @robodoo r+

"
2802182865,pull_request,closed,,[FW][FIX] l10n_ec_sale: missing sudo on geting default EC payment methods,"This commit fixes an AccessError on a failing test in runbot, by granting a `sudo` on the default record search for EC Payment Method field.

runbot: [102689](https://runbot.odoo.com/odoo/action-573/102689)

Forward-Port-Of: odoo/odoo#194471",fw-bot,2025-01-21 15:37:49+00:00,[],2025-02-04 22:33:40+00:00,2025-01-21 22:03:16+00:00,https://github.com/odoo/odoo/pull/194576,"[('RD', 'research & development, internal work'), ('forwardport', 'This PR was created by @fw-bot'), ('18.2', None)]","[{'comment_id': 2605070369, 'issue_id': 2802182865, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/194576.png)](https://mergebot.odoo.com/odoo/odoo/pull/194576)', 'created_at': datetime.datetime(2025, 1, 21, 15, 38, tzinfo=datetime.timezone.utc)}, {'comment_id': 2605070394, 'issue_id': 2802182865, 'author': 'fw-bot', 'body': '@yosuanicolaus @smetl this PR targets master and is the last of the forward-port chain.\n\nTo merge the full chain, use\n> @robodoo r+\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 21, 15, 38, 1, tzinfo=datetime.timezone.utc)}, {'comment_id': 2605085418, 'issue_id': 2802182865, 'author': 'yosuanicolaus', 'body': '@robodoo r+', 'created_at': datetime.datetime(2025, 1, 21, 15, 43, 52, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-21 15:38:00 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/194576.png)](https://mergebot.odoo.com/odoo/odoo/pull/194576)

fw-bot (Issue Creator) on (2025-01-21 15:38:01 UTC): @yosuanicolaus @smetl this PR targets master and is the last of the forward-port chain.

To merge the full chain, use

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

yosuanicolaus on (2025-01-21 15:43:52 UTC): @robodoo r+

"
2802179802,pull_request,closed,,[FW][FIX] account_edi_ubl_cii: Make Peppol Adress always visible,"OIOUBL (which is not a Peppol format) uses the fields from peppol. 
So it should be visible to be edited too.

Even more, we will make it always visible, as the Peppol may be proposed more, 
and so, the fields should be more easily modifiable.



---
I confirm I have signed the CLA and read the PR guidelines at www.odoo.com/submit-pr

Forward-Port-Of: odoo/odoo#194513",fw-bot,2025-01-21 15:36:30+00:00,[],2025-02-04 18:22:09+00:00,2025-01-21 18:17:14+00:00,https://github.com/odoo/odoo/pull/194575,"[('RD', 'research & development, internal work'), ('forwardport', 'This PR was created by @fw-bot')]","[{'comment_id': 2605066615, 'issue_id': 2802179802, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/194575.png)](https://mergebot.odoo.com/odoo/odoo/pull/194575)', 'created_at': datetime.datetime(2025, 1, 21, 15, 36, 31, tzinfo=datetime.timezone.utc)}, {'comment_id': 2605066642, 'issue_id': 2802179802, 'author': 'fw-bot', 'body': 'This PR targets saas-18.1 and is part of the forward-port chain. Further PRs will be created up to master.\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 21, 15, 36, 31, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-21 15:36:31 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/194575.png)](https://mergebot.odoo.com/odoo/odoo/pull/194575)

fw-bot (Issue Creator) on (2025-01-21 15:36:31 UTC): This PR targets saas-18.1 and is part of the forward-port chain. Further PRs will be created up to master.

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

"
2802178951,pull_request,closed,,[FW][IMP] web: showing module_loader errors,"Before this commit, the module_loader was showing error by empty the DOM and then adding his element with the errors. The issue is, if you have an error because of custom script or after an upgrade, then you were lockout because the DOM with empty and you cannot go fix the script.

After this commit, a shorter message will be shown in the bottom-left of the screen. This message will invite the user to check the devtool to have more details about the error.


---
I confirm I have signed the CLA and read the PR guidelines at www.odoo.com/submit-pr

Forward-Port-Of: odoo/odoo#194445
Forward-Port-Of: odoo/odoo#193912",fw-bot,2025-01-21 15:36:10+00:00,[],2025-02-06 13:26:37+00:00,2025-01-23 13:14:34+00:00,https://github.com/odoo/odoo/pull/194574,"[('RD', 'research & development, internal work'), ('forwardport', 'This PR was created by @fw-bot')]","[{'comment_id': 2605065689, 'issue_id': 2802178951, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/194574.png)](https://mergebot.odoo.com/odoo/odoo/pull/194574)', 'created_at': datetime.datetime(2025, 1, 21, 15, 36, 11, tzinfo=datetime.timezone.utc)}, {'comment_id': 2605065720, 'issue_id': 2802178951, 'author': 'fw-bot', 'body': 'This PR targets saas-18.1 and is part of the forward-port chain. Further PRs will be created up to master.\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 21, 15, 36, 12, tzinfo=datetime.timezone.utc)}, {'comment_id': 2605184902, 'issue_id': 2802178951, 'author': 'fw-bot', 'body': '@bastien-ipb @ged-odoo ci/runbot failed on this forward-port PR', 'created_at': datetime.datetime(2025, 1, 21, 16, 21, 28, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-21 15:36:11 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/194574.png)](https://mergebot.odoo.com/odoo/odoo/pull/194574)

fw-bot (Issue Creator) on (2025-01-21 15:36:12 UTC): This PR targets saas-18.1 and is part of the forward-port chain. Further PRs will be created up to master.

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

fw-bot (Issue Creator) on (2025-01-21 16:21:28 UTC): @bastien-ipb @ged-odoo ci/runbot failed on this forward-port PR

"
2802169362,pull_request,closed,,[FW][FIX] hr_holidays: fix form view actions wizard,"Steps to reproduce:
---

Go in the Time Off app
Click on an allocation or a leave
Click on the action gear

Issue:
---
The gear action shows 2 times the ""Multiple Requests"", this comes from the fact that the wizard is in the xml and defined in the action_generate_allocations. So it is displayed twice in the form.

Fix:
---
Since the issue is only appearing in the form view, added the condition
on viewType.

---
I confirm I have signed the CLA and read the PR guidelines at www.odoo.com/submit-pr

Forward-Port-Of: odoo/odoo#188182",fw-bot,2025-01-21 15:32:05+00:00,[],2025-01-21 15:46:12+00:00,2025-01-21 15:46:09+00:00,https://github.com/odoo/odoo/pull/194573,"[('forwardport', 'This PR was created by @fw-bot'), ('conflict', 'There was an error while creating this forward-port PR')]","[{'comment_id': 2605055015, 'issue_id': 2802169362, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/194573.png)](https://mergebot.odoo.com/odoo/odoo/pull/194573)', 'created_at': datetime.datetime(2025, 1, 21, 15, 32, 6, tzinfo=datetime.timezone.utc)}, {'comment_id': 2605055135, 'issue_id': 2802169362, 'author': 'fw-bot', 'body': '@jaeschwa @tivisse cherrypicking of pull request odoo/odoo#188182 failed.\n\nstdout:\n```\nCONFLICT (modify/delete): addons/hr_holidays/static/src/components/multi_time_off_generation_menu/multiple_time_off_generation_menu.js deleted in 3bc078f1a31487e45406457a2a2de3dc26767326 and modified in b5d332d8000942ea76e80c039a6729baacb2263b.  Version b5d332d8000942ea76e80c039a6729baacb2263b of addons/hr_holidays/static/src/components/multi_time_off_generation_menu/multiple_time_off_generation_menu.js left in tree.\n\n```\n\nEither perform the forward-port manually (and push to this branch, proceeding as usual) or close this PR (maybe?).\n\nIn the former case, you may want to edit this PR message as well.\n\n:warning: after resolving this conflict, you will need to merge it via @robodoo.\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 21, 15, 32, 8, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-21 15:32:06 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/194573.png)](https://mergebot.odoo.com/odoo/odoo/pull/194573)

fw-bot (Issue Creator) on (2025-01-21 15:32:08 UTC): @jaeschwa @tivisse cherrypicking of pull request odoo/odoo#188182 failed.

stdout:
```
CONFLICT (modify/delete): addons/hr_holidays/static/src/components/multi_time_off_generation_menu/multiple_time_off_generation_menu.js deleted in 3bc078f1a31487e45406457a2a2de3dc26767326 and modified in b5d332d8000942ea76e80c039a6729baacb2263b.  Version b5d332d8000942ea76e80c039a6729baacb2263b of addons/hr_holidays/static/src/components/multi_time_off_generation_menu/multiple_time_off_generation_menu.js left in tree.

```

Either perform the forward-port manually (and push to this branch, proceeding as usual) or close this PR (maybe?).

In the former case, you may want to edit this PR message as well.

:warning: after resolving this conflict, you will need to merge it via @robodoo.

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

"
2802162453,pull_request,closed,,[FW][FIX] hr_attendance: null-safe record deletion,"An error is thrown when deleting attendance records from the list view.


Steps to reproduce:
Attendances -> List View (Select some records) -> Actions -> Delete

Current behavior before PR:
```
TypeError: Cannot read properties of undefined (reading 'some')
    at Proxy.load (https://72301827-18-0-all.runbot171.odoo.com/web/assets/debug/web.assets_web.js:229101:49) (/hr_attendance/static/src/views/attendance_list_view.js:25)
    at Proxy._deleteRecords (https://72301827-18-0-all.runbot171.odoo.com/web/assets/debug/web.assets_web.js:55859:26) (/web/static/src/model/relational_model/dynamic_list.js:250)
    at async ConfirmationDialog.execButton (https://72301827-18-0-all.runbot171.odoo.com/web/assets/debug/web.assets_web.js:18747:31) (/web/static/src/core/confirmation_dialog/confirmation_dialog.js:79)
```


Desired behavior after PR is merged:
Deleting selected records without errors.

Cause:
The implementation of `DynamicList._deleteRecords` changed in v18.0 by fbb37ab363a6c729193f1ba1ba70775650140636 to call `model.load()` without `params`. Thus `params.domain` could possibly be undefined.



---
I confirm I have signed the CLA and read the PR guidelines at www.odoo.com/submit-pr

Forward-Port-Of: odoo/odoo#191451",fw-bot,2025-01-21 15:29:08+00:00,[],2025-01-28 04:25:33+00:00,2025-01-28 04:25:33+00:00,https://github.com/odoo/odoo/pull/194572,"[('RD', 'research & development, internal work'), ('forwardport', 'This PR was created by @fw-bot'), ('18.2', None)]","[{'comment_id': 2605047517, 'issue_id': 2802162453, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/194572.png)](https://mergebot.odoo.com/odoo/odoo/pull/194572)', 'created_at': datetime.datetime(2025, 1, 21, 15, 29, 9, tzinfo=datetime.timezone.utc)}, {'comment_id': 2605047549, 'issue_id': 2802162453, 'author': 'fw-bot', 'body': '@yahia-soliman @Bertrand2 this PR targets master and is the last of the forward-port chain containing:\n* odoo/odoo#194547\n\nTo merge the full chain, use\n> @robodoo r+\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 21, 15, 29, 9, tzinfo=datetime.timezone.utc)}, {'comment_id': 2613721957, 'issue_id': 2802162453, 'author': 'fw-bot', 'body': '@yahia-soliman @Bertrand2 this forward port of odoo/odoo#191451 is awaiting action (not merged or closed).', 'created_at': datetime.datetime(2025, 1, 25, 2, 1, 38, tzinfo=datetime.timezone.utc)}, {'comment_id': 2613799182, 'issue_id': 2802162453, 'author': 'yahia-soliman', 'body': '@robodoo r+\r\n\r\nOn Sat, Jan 25, 2025, 4:02 AM Otis - Odoo Forward-Port Steward [bot] <\r\n***@***.***> wrote:\r\n\r\n> @yahia-soliman <https://github.com/yahia-soliman> @Bertrand2\r\n> <https://github.com/Bertrand2> this forward port of #191451\r\n> <https://github.com/odoo/odoo/pull/191451> is awaiting action (not merged\r\n> or closed).\r\n>\r\n> —\r\n> Reply to this email directly, view it on GitHub\r\n> <https://github.com/odoo/odoo/pull/194572#issuecomment-2613721957>, or\r\n> unsubscribe\r\n> <https://github.com/notifications/unsubscribe-auth/AJEUOQADIA2JCHH6GOONXH32MLWBRAVCNFSM6AAAAABVSZQLMKVHI2DSMVQWIX3LMV43OSLTON2WKQ3PNVWWK3TUHMZDMMJTG4ZDCOJVG4>\r\n> .\r\n> You are receiving this because you were mentioned.Message ID:\r\n> ***@***.***>\r\n>', 'created_at': datetime.datetime(2025, 1, 25, 6, 0, 40, tzinfo=datetime.timezone.utc)}, {'comment_id': 2614172416, 'issue_id': 2802162453, 'author': 'fw-bot', 'body': '@yahia-soliman @Bertrand2 this forward port of odoo/odoo#191451 is awaiting action (not merged or closed).', 'created_at': datetime.datetime(2025, 1, 26, 2, 1, 58, tzinfo=datetime.timezone.utc)}, {'comment_id': 2614723549, 'issue_id': 2802162453, 'author': 'fw-bot', 'body': '@yahia-soliman @Bertrand2 this forward port of odoo/odoo#191451 is awaiting action (not merged or closed).', 'created_at': datetime.datetime(2025, 1, 27, 2, 2, 36, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-21 15:29:09 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/194572.png)](https://mergebot.odoo.com/odoo/odoo/pull/194572)

fw-bot (Issue Creator) on (2025-01-21 15:29:09 UTC): @yahia-soliman @Bertrand2 this PR targets master and is the last of the forward-port chain containing:
* odoo/odoo#194547

To merge the full chain, use

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

fw-bot (Issue Creator) on (2025-01-25 02:01:38 UTC): @yahia-soliman @Bertrand2 this forward port of odoo/odoo#191451 is awaiting action (not merged or closed).

yahia-soliman on (2025-01-25 06:00:40 UTC): @robodoo r+

On Sat, Jan 25, 2025, 4:02 AM Otis - Odoo Forward-Port Steward [bot] <
***@***.***> wrote:

fw-bot (Issue Creator) on (2025-01-26 02:01:58 UTC): @yahia-soliman @Bertrand2 this forward port of odoo/odoo#191451 is awaiting action (not merged or closed).

fw-bot (Issue Creator) on (2025-01-27 02:02:36 UTC): @yahia-soliman @Bertrand2 this forward port of odoo/odoo#191451 is awaiting action (not merged or closed).

"
2802159006,pull_request,closed,,"[FW][FIX] sale, sale_expense: prevent creation of tax line","Steps to reproduce:
[l10n_dk]
- create and confirm a sale order
- create an expense for a new employee and use a product set with reinvoice at cost and a tax with multiple repartition lines
- confirm and process the expense
- post journal entries

Issue:
Missing required fields on accountable sale order line.

Cause:
We want to reinvoice the tax line that no product on it

opw-4378714

Forward-Port-Of: odoo/odoo#193853
Forward-Port-Of: odoo/odoo#191163",fw-bot,2025-01-21 15:27:39+00:00,[],2025-02-05 10:15:46+00:00,2025-01-22 10:11:34+00:00,https://github.com/odoo/odoo/pull/194571,"[('OE', 'the report is linked to a support ticket (opw-...)'), ('forwardport', 'This PR was created by @fw-bot'), ('18.2', None)]","[{'comment_id': 2605043780, 'issue_id': 2802159006, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/194571.png)](https://mergebot.odoo.com/odoo/odoo/pull/194571)', 'created_at': datetime.datetime(2025, 1, 21, 15, 27, 41, tzinfo=datetime.timezone.utc)}, {'comment_id': 2605043815, 'issue_id': 2802159006, 'author': 'fw-bot', 'body': '@yosa-odoo @oco-odoo this PR targets master and is the last of the forward-port chain containing:\n* odoo/odoo#194550\n* odoo/odoo#194526\n\nTo merge the full chain, use\n> @robodoo r+\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 21, 15, 27, 41, tzinfo=datetime.timezone.utc)}, {'comment_id': 2606493113, 'issue_id': 2802159006, 'author': 'yosa-odoo', 'body': 'robodoo r+', 'created_at': datetime.datetime(2025, 1, 22, 7, 35, 4, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-21 15:27:41 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/194571.png)](https://mergebot.odoo.com/odoo/odoo/pull/194571)

fw-bot (Issue Creator) on (2025-01-21 15:27:41 UTC): @yosa-odoo @oco-odoo this PR targets master and is the last of the forward-port chain containing:
* odoo/odoo#194550
* odoo/odoo#194526

To merge the full chain, use

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

yosa-odoo on (2025-01-22 07:35:04 UTC): robodoo r+

"
2802150644,pull_request,closed,,[IMP] mail: jump to unread on chat window focus from tab key,"With this commit each time a chat window gets focused from the tab key it will scroll down to the newest unread message in the thread.

task-4452871",Atovange,2025-01-21 15:24:08+00:00,[],2025-01-25 20:13:34+00:00,2025-01-25 19:37:35+00:00,https://github.com/odoo/odoo/pull/194570,"[('RD', 'research & development, internal work')]","[{'comment_id': 2605034780, 'issue_id': 2802150644, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/194570.png)](https://mergebot.odoo.com/odoo/odoo/pull/194570)', 'created_at': datetime.datetime(2025, 1, 21, 15, 24, 12, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-21 15:24:12 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/194570.png)](https://mergebot.odoo.com/odoo/odoo/pull/194570)

"
2802127033,pull_request,closed,,[FIX] mail: fix error when sending mail notifications with no author,"There are instances where an email notification may not have an associated author. In the mail notification template, we forgot to check that the author exists before calling the `_is_internal` on it. When the author is `False`, the function generating the mail crashes as the `_is_internal` function is undefined on a boolean variable.

To address this issue, we will ensure the existence of the author before invoking any methods defined in the `res.users` model. This solution prevents errors and ensures the email template functions correctly.

see: #190390

Task-4128966

---
I confirm I have signed the CLA and read the PR guidelines at www.odoo.com/submit-pr
",julien-banken,2025-01-21 15:14:43+00:00,[],2025-02-04 18:09:36+00:00,2025-01-21 18:05:11+00:00,https://github.com/odoo/odoo/pull/194569,"[('RD', 'research & development, internal work')]","[{'comment_id': 2605009230, 'issue_id': 2802127033, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/194569.png)](https://mergebot.odoo.com/odoo/odoo/pull/194569)', 'created_at': datetime.datetime(2025, 1, 21, 15, 14, 47, tzinfo=datetime.timezone.utc)}, {'comment_id': 2605048063, 'issue_id': 2802127033, 'author': 'tde-banana-odoo', 'body': '@robodoo r+', 'created_at': datetime.datetime(2025, 1, 21, 15, 29, 22, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-21 15:14:47 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/194569.png)](https://mergebot.odoo.com/odoo/odoo/pull/194569)

tde-banana-odoo on (2025-01-21 15:29:22 UTC): @robodoo r+

"
2802090526,pull_request,closed,,[FIX] point_of_sale: correctly print attribute name of cancelled orde…,"Before this commit, the name of a canceled order line attribute was incorrectly printed as [object Object] on the preparation printer ticket.

This commit fixes the issue by ensuring the correct attribute name is printed.

Steps to reproduce:
- Configure a preparation printer for the restaurant
- Order a product that has attribute.
- Cancel this order 
- The preparation printer incorrectly prints “- [object Object]

Task-4500890

",stva-odoo,2025-01-21 15:00:05+00:00,[],2025-01-28 23:32:42+00:00,2025-01-28 23:32:42+00:00,https://github.com/odoo/odoo/pull/194568,"[('RD', 'research & development, internal work'), ('18.2', None)]","[{'comment_id': 2604970730, 'issue_id': 2802090526, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/194568.png)](https://mergebot.odoo.com/odoo/odoo/pull/194568)', 'created_at': datetime.datetime(2025, 1, 21, 15, 0, 10, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-21 15:00:10 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/194568.png)](https://mergebot.odoo.com/odoo/odoo/pull/194568)

"
2802089950,pull_request,closed,,[IMP] spreadsheet_account: Add formula ODOO.RESIDUAL and ODOO.PARTNER.BALANCE,"Problem
---------
There is currently no formula to get the residual amount of accounts nor to get the balance of a partner in a given period of time in spreadsheets.

Objective
---------
Add the formula ODOO.RESIDUAL and ODOO.PARTNER.BALANCE that do just that

ODOO.RESIDUAL should take the following parameters:
- account_codes (mandatory)(can be more than one separate by ,): could be optional, in that case it could set the domain to all receivables/payables accounts
- due_date_range or expected_date (optional): date range referred to due dates (not AML date)
- offset (optional): adding the possibility of the offset to be not only “Year” but also, a specific date or other periods like Month, Quarter.
- company_id (optional)
- include_unposted (optional) (default: false)

ODOO.PARTNER.BALANCE should take the following paramters:
- partner_ids (mandatory) (can be more than one separate by ,)
- accound_codes (optional) (the prefix of the account(s))
- date_range (optional) (21/12/2022,Q1 2022, 12/2022, 2022)
- offset (optional) (default: 0)
- company_id (optional)
- include_unposted (optional) (default: false)

Solution
---------
1. Define the spreadsheet function with the correct parameters in `accounting_function.js`
2. Hook it to the data source so that it can perform server calls
3. Craft that server python function to returns the list a residual amounts for the given list of parameters.
4. Adds some tests.

Task-3679808

---
I confirm I have signed the CLA and read the PR guidelines at www.odoo.com/submit-pr
",aboo-odoo,2025-01-21 14:59:52+00:00,[],2025-02-06 18:53:04+00:00,2025-01-23 18:42:24+00:00,https://github.com/odoo/odoo/pull/194567,"[('RD', 'research & development, internal work')]","[{'comment_id': 2604970116, 'issue_id': 2802089950, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/194567.png)](https://mergebot.odoo.com/odoo/odoo/pull/194567)', 'created_at': datetime.datetime(2025, 1, 21, 14, 59, 56, tzinfo=datetime.timezone.utc)}, {'comment_id': 2606775107, 'issue_id': 2802089950, 'author': 'aboo-odoo', 'body': 'POT Added back :+1: @william-andre', 'created_at': datetime.datetime(2025, 1, 22, 9, 54, 22, tzinfo=datetime.timezone.utc)}, {'comment_id': 2607629259, 'issue_id': 2802089950, 'author': 'aboo-odoo', 'body': '@VincentSchippefilt Thanks for the feedback, is the _new_ version taking care of that ?', 'created_at': datetime.datetime(2025, 1, 22, 15, 58, 16, tzinfo=datetime.timezone.utc)}, {'comment_id': 2609729126, 'issue_id': 2802089950, 'author': 'VincentSchippefilt', 'body': '> @VincentSchippefilt Thanks for the feedback, is the _new_ version taking care of that ?\r\n\r\nI have no idea what you mean but I see you have updated the code correctly :+1:', 'created_at': datetime.datetime(2025, 1, 23, 12, 49, 45, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-21 14:59:56 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/194567.png)](https://mergebot.odoo.com/odoo/odoo/pull/194567)

aboo-odoo (Issue Creator) on (2025-01-22 09:54:22 UTC): POT Added back :+1: @william-andre

aboo-odoo (Issue Creator) on (2025-01-22 15:58:16 UTC): @VincentSchippefilt Thanks for the feedback, is the _new_ version taking care of that ?

VincentSchippefilt on (2025-01-23 12:49:45 UTC): I have no idea what you mean but I see you have updated the code correctly :+1:

"
2802070399,pull_request,open,,Add financial_reporting_suite,"Financial PDF Reports for Odoo 18 Community Edition Impacted versions:
•	18.0 Community Edition
Module name:
•	Financial Reports
Objective:
The module provides complete financial reports in PDF format for Odoo 18 Community Edition. It aims to enhance the financial reporting capabilities by enabling users to create and export financial reports directly in PDF, essential for sharing and archiving financial data.
Key Added Features:
1.	Financial Reports:
o	Balance Sheet
o	Profit and Loss
2.	Partner Reports:
o	Partner Ledger
o	Aged Partner Balance
o	Aged Receivable
o	Aged Payable
3.	Audit Reports:
o	General Ledger
o	Trial Balance
o	Tax Report
o	Journals Audit Steps to Reproduce:
1.	Install the Financial Reports module.
2.	Go to the INVOICING module.
3.	Select a reporting option in the menu
 
Current Behavior:
The Community Edition of Odoo does not provide built-in PDF financial reports for all the categories listed above, making it challenging to produce standardized, shareable financial documents.
Expected Behavior:
After installing Financial Reports, users will be able to generate and download various financial reports in PDF format directly from the Accounting module. Each report will include customizable filters to adjust the date range, account types, and other parameters as needed.


Screenshots:
 
<img width=""952"" alt=""image"" src=""https://github.com/user-attachments/assets/de0ae0dd-6230-4354-a8f3-3701dc53161f"" />

![image](https://github.com/user-attachments/assets/3159df27-c03b-471f-98cf-5cd9f4869bbc)

CLA s PR Guidelines Confirmation:
I confirm I have signed the CLA and read the PR guidelines at [www.odoo.com/submit-pr](https://www.odoo.com/submit-pr).",mariatouil,2025-01-21 14:52:02+00:00,[],2025-01-27 19:42:53+00:00,,https://github.com/odoo/odoo/pull/194566,[],"[{'comment_id': 2604949686, 'issue_id': 2802070399, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/194566.png)](https://mergebot.odoo.com/odoo/odoo/pull/194566)', 'created_at': datetime.datetime(2025, 1, 21, 14, 52, 6, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-21 14:52:06 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/194566.png)](https://mergebot.odoo.com/odoo/odoo/pull/194566)

"
2802058825,pull_request,closed,,[FW][FIX] web_editor: check range count when positioning toolbar,"**Problem**:
In rare edge cases, the selection can have no ranges, causing a crash when attempting to `getRangeAt(0)`.

**Solution**:
Ensure there are ranges in the selection before accessing them.

**Steps to Reproduce**:
1. Split the window, with Odoo on one side and any other application on the other.
2. Navigate to a sales order in Odoo.
3. From the sales order, navigate to the partner.
4. Maximize the window.
5. Return to the sales order.
6. Split the window again.
7. Scroll down.

opw-4279813

---
I confirm I have signed the CLA and read the PR guidelines at www.odoo.com/submit-pr

Forward-Port-Of: odoo/odoo#194385",fw-bot,2025-01-21 14:47:19+00:00,[],2025-02-05 08:44:36+00:00,2025-01-22 08:34:34+00:00,https://github.com/odoo/odoo/pull/194565,"[('OE', 'the report is linked to a support ticket (opw-...)'), ('forwardport', 'This PR was created by @fw-bot')]","[{'comment_id': 2604937494, 'issue_id': 2802058825, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/194565.png)](https://mergebot.odoo.com/odoo/odoo/pull/194565)', 'created_at': datetime.datetime(2025, 1, 21, 14, 47, 20, tzinfo=datetime.timezone.utc)}, {'comment_id': 2604937517, 'issue_id': 2802058825, 'author': 'fw-bot', 'body': 'This PR targets saas-17.4 and is part of the forward-port chain. Further PRs will be created up to master.\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 21, 14, 47, 20, tzinfo=datetime.timezone.utc)}, {'comment_id': 2605050639, 'issue_id': 2802058825, 'author': 'fw-bot', 'body': '@walidsahli @dmo-odoo ci/runbot failed on this forward-port PR', 'created_at': datetime.datetime(2025, 1, 21, 15, 30, 21, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-21 14:47:20 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/194565.png)](https://mergebot.odoo.com/odoo/odoo/pull/194565)

fw-bot (Issue Creator) on (2025-01-21 14:47:20 UTC): This PR targets saas-17.4 and is part of the forward-port chain. Further PRs will be created up to master.

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

fw-bot (Issue Creator) on (2025-01-21 15:30:21 UTC): @walidsahli @dmo-odoo ci/runbot failed on this forward-port PR

"
2802057627,pull_request,open,,[FW][FIX] web: prevent error when split an expense,"Currently, an error occurs when users press the data-hotkey 'ALT + Q' to split expense and any expense is not available in the split expense line.

Step to produce:

- Install the ```hr_expense``` module.
- Create an expense, add a category, and click on the `Split Expense` button.
- Delete all expenses from the split expense line, and press the data-hotkey `ALT + Q` to click on the `Split Expense` button to split expenses.

```IndexError: tuple index out of range```

This occurs because the system attempts to access the first expense from the split expense line [1], but expenses are not available.

Link [1]: https://github.com/odoo/odoo/blob/280b762e7cd1b3d9a578bbae60cbb9b137ee5ce5/addons/hr_expense/wizard/hr_expense_split_wizard.py#L36

To resolve this issue, Disable a 'Split Expense' button after simply adding a  `disabled` attribute on it.

Sentry-6015854429

---
I confirm I have signed the CLA and read the PR guidelines at www.odoo.com/submit-pr

Forward-Port-Of: odoo/odoo#190323",fw-bot,2025-01-21 14:46:49+00:00,[],2025-02-02 02:01:59+00:00,,https://github.com/odoo/odoo/pull/194564,"[('RD', 'research & development, internal work'), ('forwardport', 'This PR was created by @fw-bot'), ('conflict', 'There was an error while creating this forward-port PR')]","[{'comment_id': 2604936194, 'issue_id': 2802057627, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/194564.png)](https://mergebot.odoo.com/odoo/odoo/pull/194564)', 'created_at': datetime.datetime(2025, 1, 21, 14, 46, 50, tzinfo=datetime.timezone.utc)}, {'comment_id': 2604936223, 'issue_id': 2802057627, 'author': 'fw-bot', 'body': '@mega-odoo @aab-odoo cherrypicking of pull request odoo/odoo#190323 failed.\n\n* d9f159e7127573de697e051cea8a7f6d70b10252\n* 99a37570b7f703f8590408af8662adb55b737156 <- on this commit\n\nstdout:\n```\nAuto-merging addons/hr_expense/wizard/hr_expense_split_wizard_views.xml\nCONFLICT (content): Merge conflict in addons/hr_expense/wizard/hr_expense_split_wizard_views.xml\n\n```\n\nEither perform the forward-port manually (and push to this branch, proceeding as usual) or close this PR (maybe?).\n\nIn the former case, you may want to edit this PR message as well.\n\n:warning: after resolving this conflict, you will need to merge it via @robodoo.\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 21, 14, 46, 51, tzinfo=datetime.timezone.utc)}, {'comment_id': 2613722025, 'issue_id': 2802057627, 'author': 'fw-bot', 'body': '@mega-odoo @aab-odoo this forward port of odoo/odoo#190323 is awaiting action (not merged or closed).', 'created_at': datetime.datetime(2025, 1, 25, 2, 1, 47, tzinfo=datetime.timezone.utc)}, {'comment_id': 2614172480, 'issue_id': 2802057627, 'author': 'fw-bot', 'body': '@mega-odoo @aab-odoo this forward port of odoo/odoo#190323 is awaiting action (not merged or closed).', 'created_at': datetime.datetime(2025, 1, 26, 2, 2, 2, tzinfo=datetime.timezone.utc)}, {'comment_id': 2614723640, 'issue_id': 2802057627, 'author': 'fw-bot', 'body': '@mega-odoo @aab-odoo this forward port of odoo/odoo#190323 is awaiting action (not merged or closed).', 'created_at': datetime.datetime(2025, 1, 27, 2, 2, 42, tzinfo=datetime.timezone.utc)}, {'comment_id': 2617543603, 'issue_id': 2802057627, 'author': 'fw-bot', 'body': '@mega-odoo @aab-odoo this forward port of odoo/odoo#190323 is awaiting action (not merged or closed).', 'created_at': datetime.datetime(2025, 1, 28, 2, 2, 1, tzinfo=datetime.timezone.utc)}, {'comment_id': 2620471860, 'issue_id': 2802057627, 'author': 'fw-bot', 'body': '@mega-odoo @aab-odoo this forward port of odoo/odoo#190323 is awaiting action (not merged or closed).', 'created_at': datetime.datetime(2025, 1, 29, 2, 1, 31, tzinfo=datetime.timezone.utc)}, {'comment_id': 2623354624, 'issue_id': 2802057627, 'author': 'fw-bot', 'body': '@mega-odoo @aab-odoo this forward port of odoo/odoo#190323 is awaiting action (not merged or closed).', 'created_at': datetime.datetime(2025, 1, 30, 2, 2, 15, tzinfo=datetime.timezone.utc)}, {'comment_id': 2626137795, 'issue_id': 2802057627, 'author': 'fw-bot', 'body': '@mega-odoo @aab-odoo this forward port of odoo/odoo#190323 is awaiting action (not merged or closed).', 'created_at': datetime.datetime(2025, 1, 31, 2, 2, 10, tzinfo=datetime.timezone.utc)}, {'comment_id': 2629202006, 'issue_id': 2802057627, 'author': 'fw-bot', 'body': '@mega-odoo @aab-odoo this forward port of odoo/odoo#190323 is awaiting action (not merged or closed).', 'created_at': datetime.datetime(2025, 2, 2, 2, 1, 57, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-21 14:46:50 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/194564.png)](https://mergebot.odoo.com/odoo/odoo/pull/194564)

fw-bot (Issue Creator) on (2025-01-21 14:46:51 UTC): @mega-odoo @aab-odoo cherrypicking of pull request odoo/odoo#190323 failed.

* d9f159e7127573de697e051cea8a7f6d70b10252
* 99a37570b7f703f8590408af8662adb55b737156 <- on this commit

stdout:
```
Auto-merging addons/hr_expense/wizard/hr_expense_split_wizard_views.xml
CONFLICT (content): Merge conflict in addons/hr_expense/wizard/hr_expense_split_wizard_views.xml

```

Either perform the forward-port manually (and push to this branch, proceeding as usual) or close this PR (maybe?).

In the former case, you may want to edit this PR message as well.

:warning: after resolving this conflict, you will need to merge it via @robodoo.

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

fw-bot (Issue Creator) on (2025-01-25 02:01:47 UTC): @mega-odoo @aab-odoo this forward port of odoo/odoo#190323 is awaiting action (not merged or closed).

fw-bot (Issue Creator) on (2025-01-26 02:02:02 UTC): @mega-odoo @aab-odoo this forward port of odoo/odoo#190323 is awaiting action (not merged or closed).

fw-bot (Issue Creator) on (2025-01-27 02:02:42 UTC): @mega-odoo @aab-odoo this forward port of odoo/odoo#190323 is awaiting action (not merged or closed).

fw-bot (Issue Creator) on (2025-01-28 02:02:01 UTC): @mega-odoo @aab-odoo this forward port of odoo/odoo#190323 is awaiting action (not merged or closed).

fw-bot (Issue Creator) on (2025-01-29 02:01:31 UTC): @mega-odoo @aab-odoo this forward port of odoo/odoo#190323 is awaiting action (not merged or closed).

fw-bot (Issue Creator) on (2025-01-30 02:02:15 UTC): @mega-odoo @aab-odoo this forward port of odoo/odoo#190323 is awaiting action (not merged or closed).

fw-bot (Issue Creator) on (2025-01-31 02:02:10 UTC): @mega-odoo @aab-odoo this forward port of odoo/odoo#190323 is awaiting action (not merged or closed).

fw-bot (Issue Creator) on (2025-02-02 02:01:57 UTC): @mega-odoo @aab-odoo this forward port of odoo/odoo#190323 is awaiting action (not merged or closed).

"
2802056753,pull_request,closed,,[FW][FIX] l10n_ch: print Swiss Qrcodes when the transaction is possible,"### Steps to reproduce:
- Install ""l10n_ch"" and switch to a Swiss company
- Create an invoice for a Swiss partner
- Send it
- The QR code appears in the generated PDF

### Cause:
The bank eligibility is not checked when printing the QR code.

### Solution:
After a discussion with the PO (THB) the Qr codes should appear on all Swiss transaction. But if the fiscal country of the user's company is not Switzerland, it must still be printed if its bank account is eligible to receive payments via QRcodes.

So the solution is to add a check if the fiscal_country is not Switzerland, then we check the account validity. A valid account is an IBAN account of this type CHXX 3000 0XXX XXXX with the number in the middle being between 30000 and 31999.

opw-4380520

Forward-Port-Of: odoo/odoo#194421",fw-bot,2025-01-21 14:46:28+00:00,[],2025-02-05 10:55:53+00:00,2025-01-22 10:42:10+00:00,https://github.com/odoo/odoo/pull/194563,"[('OE', 'the report is linked to a support ticket (opw-...)'), ('forwardport', 'This PR was created by @fw-bot'), ('conflict', 'There was an error while creating this forward-port PR')]","[{'comment_id': 2604935314, 'issue_id': 2802056753, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/194563.png)](https://mergebot.odoo.com/odoo/odoo/pull/194563)', 'created_at': datetime.datetime(2025, 1, 21, 14, 46, 30, tzinfo=datetime.timezone.utc)}, {'comment_id': 2604935354, 'issue_id': 2802056753, 'author': 'fw-bot', 'body': '@mathcoutant @jbw-odoo cherrypicking of pull request odoo/odoo#194421 failed.\n\nstdout:\n```\nAuto-merging addons/l10n_ch/models/account_invoice.py\nCONFLICT (content): Merge conflict in addons/l10n_ch/models/account_invoice.py\n\n```\n\nEither perform the forward-port manually (and push to this branch, proceeding as usual) or close this PR (maybe?).\n\nIn the former case, you may want to edit this PR message as well.\n\n:warning: after resolving this conflict, you will need to merge it via @robodoo.\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 21, 14, 46, 31, tzinfo=datetime.timezone.utc)}, {'comment_id': 2606690844, 'issue_id': 2802056753, 'author': 'mathcoutant', 'body': '@robodoo r+', 'created_at': datetime.datetime(2025, 1, 22, 9, 19, 28, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-21 14:46:30 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/194563.png)](https://mergebot.odoo.com/odoo/odoo/pull/194563)

fw-bot (Issue Creator) on (2025-01-21 14:46:31 UTC): @mathcoutant @jbw-odoo cherrypicking of pull request odoo/odoo#194421 failed.

stdout:
```
Auto-merging addons/l10n_ch/models/account_invoice.py
CONFLICT (content): Merge conflict in addons/l10n_ch/models/account_invoice.py

```

Either perform the forward-port manually (and push to this branch, proceeding as usual) or close this PR (maybe?).

In the former case, you may want to edit this PR message as well.

:warning: after resolving this conflict, you will need to merge it via @robodoo.

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

mathcoutant on (2025-01-22 09:19:28 UTC): @robodoo r+

"
2802053517,pull_request,closed,,[FW][FIX] purchase: fix tour by providing appropriate class,"Before this commit:
===================
- The purchase tour was failing because the tour's JavaScript used
  an incorrect class selector (targeting 'partner_id'), which prevented
  it from locating the intended DOM element. Consequently,
  the sequence of actions was interrupted, causing the tour to break midway.

After this commit:
===================
- The issue has been resolved by updating the tour to use the correct and
  unique class selector. This ensures the tour accurately targets the
  intended element, allowing it to proceed without interruptions.
  As a result, the purchase tour runs successfully and achieves its intended purpose.

TaskId: 4268662

Forward-Port-Of: odoo/odoo#193536
Forward-Port-Of: odoo/odoo#184735",fw-bot,2025-01-21 14:45:07+00:00,[],2025-02-05 11:13:05+00:00,2025-01-22 11:09:26+00:00,https://github.com/odoo/odoo/pull/194562,"[('RD', 'research & development, internal work'), ('forwardport', 'This PR was created by @fw-bot'), ('conflict', 'There was an error while creating this forward-port PR')]","[{'comment_id': 2604931701, 'issue_id': 2802053517, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/194562.png)](https://mergebot.odoo.com/odoo/odoo/pull/194562)', 'created_at': datetime.datetime(2025, 1, 21, 14, 45, 8, tzinfo=datetime.timezone.utc)}, {'comment_id': 2604931731, 'issue_id': 2802053517, 'author': 'fw-bot', 'body': '@dhha-odoo @amoyaux cherrypicking of pull request odoo/odoo#184735 failed.\n\nstdout:\n```\nAuto-merging addons/purchase/static/src/js/tours/purchase.js\nCONFLICT (content): Merge conflict in addons/purchase/static/src/js/tours/purchase.js\n\n```\n\nEither perform the forward-port manually (and push to this branch, proceeding as usual) or close this PR (maybe?).\n\nIn the former case, you may want to edit this PR message as well.\n\n:warning: after resolving this conflict, you will need to merge it via @robodoo.\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 21, 14, 45, 9, tzinfo=datetime.timezone.utc)}, {'comment_id': 2606120282, 'issue_id': 2802053517, 'author': 'fw-bot', 'body': '@dhha-odoo @amoyaux this forward port of odoo/odoo#184735 is awaiting action (not merged or closed).', 'created_at': datetime.datetime(2025, 1, 22, 2, 2, 15, tzinfo=datetime.timezone.utc)}, {'comment_id': 2606644149, 'issue_id': 2802053517, 'author': 'dhha-odoo', 'body': 'robodoo r+', 'created_at': datetime.datetime(2025, 1, 22, 8, 58, 26, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-21 14:45:08 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/194562.png)](https://mergebot.odoo.com/odoo/odoo/pull/194562)

fw-bot (Issue Creator) on (2025-01-21 14:45:09 UTC): @dhha-odoo @amoyaux cherrypicking of pull request odoo/odoo#184735 failed.

stdout:
```
Auto-merging addons/purchase/static/src/js/tours/purchase.js
CONFLICT (content): Merge conflict in addons/purchase/static/src/js/tours/purchase.js

```

Either perform the forward-port manually (and push to this branch, proceeding as usual) or close this PR (maybe?).

In the former case, you may want to edit this PR message as well.

:warning: after resolving this conflict, you will need to merge it via @robodoo.

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

fw-bot (Issue Creator) on (2025-01-22 02:02:15 UTC): @dhha-odoo @amoyaux this forward port of odoo/odoo#184735 is awaiting action (not merged or closed).

dhha-odoo on (2025-01-22 08:58:26 UTC): robodoo r+

"
2802044731,pull_request,closed,,[FW][FIX] auth_oauth: ensure werkzeug 3 compatibility,"Description of the issue/feature this PR addresses:
The method werkzeug.http.parse_www_authenticate_header has been removed in werkzeug 3 and later. This causes an issue in Odoo when using python 3.12, as the requirements.txt specifies werkzeug 3.0.1. This results in a misleading error stating that auth_signup is not installed on the database when authenticating a new user with an OAuth provider.

Current behavior before PR:
When attempting to authenticate a new user with an OAuth provider in Odoo using Python 3.12, the method werkzeug.http.parse_www_authenticate_header is called. Since this method is removed in Werkzeug 3.0.1, a misleading error message about auth_signup not being installed on the database is displayed.

Desired behavior after PR is merged:
The code will use WWWAuthenticate.from_header for parsing the WWW-Authenticate header if available, otherwise, it will fall back to using werkzeug.http.parse_www_authenticate_header for compatibility with older versions of Werkzeug (2.0 and 2.2). The misleading error message will no longer appear, and OAuth authentication will work as expected.

Fixes #194002


---
I confirm I have signed the CLA and read the PR guidelines at www.odoo.com/submit-pr

Forward-Port-Of: odoo/odoo#194484",fw-bot,2025-01-21 14:41:37+00:00,[],2025-01-27 10:18:26+00:00,2025-01-27 10:18:26+00:00,https://github.com/odoo/odoo/pull/194561,"[('RD', 'research & development, internal work'), ('forwardport', 'This PR was created by @fw-bot')]","[{'comment_id': 2604922821, 'issue_id': 2802044731, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/194561.png)](https://mergebot.odoo.com/odoo/odoo/pull/194561)', 'created_at': datetime.datetime(2025, 1, 21, 14, 41, 38, tzinfo=datetime.timezone.utc)}, {'comment_id': 2604922860, 'issue_id': 2802044731, 'author': 'fw-bot', 'body': 'This PR targets saas-17.4 and is part of the forward-port chain. Further PRs will be created up to master.\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 21, 14, 41, 39, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-21 14:41:38 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/194561.png)](https://mergebot.odoo.com/odoo/odoo/pull/194561)

fw-bot (Issue Creator) on (2025-01-21 14:41:39 UTC): This PR targets saas-17.4 and is part of the forward-port chain. Further PRs will be created up to master.

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

"
2802041494,pull_request,closed,,[FW][IMP] l10n_mu: PDF invoice requirements,"This commit add few data on the report_invoice for Mauritius localization.

task-4379202

Forward-Port-Of: odoo/odoo#190723",fw-bot,2025-01-21 14:40:17+00:00,[],2025-02-06 09:00:25+00:00,2025-01-23 08:37:55+00:00,https://github.com/odoo/odoo/pull/194560,"[('RD', 'research & development, internal work'), ('forwardport', 'This PR was created by @fw-bot')]","[{'comment_id': 2604919386, 'issue_id': 2802041494, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/194560.png)](https://mergebot.odoo.com/odoo/odoo/pull/194560)', 'created_at': datetime.datetime(2025, 1, 21, 14, 40, 18, tzinfo=datetime.timezone.utc)}, {'comment_id': 2604919409, 'issue_id': 2802041494, 'author': 'fw-bot', 'body': 'This PR targets saas-17.4 and is part of the forward-port chain. Further PRs will be created up to master.\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 21, 14, 40, 19, tzinfo=datetime.timezone.utc)}, {'comment_id': 2605137896, 'issue_id': 2802041494, 'author': 'fw-bot', 'body': '@igbe-odoo @hupo-odoo the next pull request (odoo/odoo#194590) is in conflict. You can merge the chain up to here by saying\n> @robodoo r+\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 21, 16, 4, 20, tzinfo=datetime.timezone.utc)}, {'comment_id': 2609024460, 'issue_id': 2802041494, 'author': 'igbe-odoo', 'body': '@robodoo r+', 'created_at': datetime.datetime(2025, 1, 23, 7, 12, 53, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-21 14:40:18 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/194560.png)](https://mergebot.odoo.com/odoo/odoo/pull/194560)

fw-bot (Issue Creator) on (2025-01-21 14:40:19 UTC): This PR targets saas-17.4 and is part of the forward-port chain. Further PRs will be created up to master.

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

fw-bot (Issue Creator) on (2025-01-21 16:04:20 UTC): @igbe-odoo @hupo-odoo the next pull request (odoo/odoo#194590) is in conflict. You can merge the chain up to here by saying

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

igbe-odoo on (2025-01-23 07:12:53 UTC): @robodoo r+

"
2802039116,pull_request,open,,[FIX] hr_holidays: fix accrual allocations with multiple levels,"The accrual plan is not working for the last level, it seems like the last level computation is always using the previous level instead. If those levels have a different number of days granted, this will be wrong. Else, if they grant the same amount of days, the error won't be noticed.

Steps to reproduce:
- Create an accrual plan with:
  - Accrued Gain Time -> At the start of the accrual period
  - Carry-Over Time -> At the start of the year
- Add 4 rules to the plan:
  - For all: don't set a cap, set carry-over to all, set the frequency to yearly
  - For the first, grant 1 day immediately (milestone reached 0 days after allocation start
  - For the second, grant 5 days after 1 year
  - Third, 20 days after 2 years
  - Fourth, 100 days after 3 years
- Go to Management > Allocations, and create a new allocation for someone, like Mitchell Admin, with:
  - Time off Type set to ""Parental Leaves"" (so you should not have any by default for testing)
  - Allocation type set to ""Accrual""
  - Select the accrual plan we just created
  - Set start date at the first of january for the current year
- This should grant you immediately your first Parental Leave
- Go to the dashboard and see the 1 parental leave
- Change the date to see how many Parental Leaves you will have at other dates (years). It will always be wrong, see explanation below.

If you set 1 year after (eg 2025-01-01), you will have 2 Parental leaves instead of 6 because it does 1 + 1 instead of 1 + 5. If you set 2 year after (eg 2026-01-01), you will have 11 leaves instead of 26, because it does 1 + 5 + 5 instead of 1 + 5 + 20 For year 3, you will have 46 instead of 126, because it does 1 + 5 + 20 + 20 instead of 1 + 5 + 20 + 100.

Notice the last added number, it will also be a duplicate of the one before because it considered the wrong accrual level for the last level.

Commit [1] in Odoo 18 did fix it, on top of other bugs. This commit is thus part of a cherry-pick, on top of which a test is added to cover this specific flow.
Also, note that [1] was actually itself a forward port with different code than its version in Odoo 17.0, see [2]. That commit fixed other issues but not this one.

[1]: https://github.com/odoo/odoo/commit/1897ff0d224416fc2df19b8f9783a94709704457
[2]: https://github.com/odoo/odoo/commit/8b339fdde161e81e1a00cecd3b1fd280de51fd08
",rdeodoo,2025-01-21 14:39:18+00:00,[],2025-01-30 15:31:51+00:00,,https://github.com/odoo/odoo/pull/194559,"[('RD', 'research & development, internal work')]","[{'comment_id': 2604916859, 'issue_id': 2802039116, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/194559.png)](https://mergebot.odoo.com/odoo/odoo/pull/194559)', 'created_at': datetime.datetime(2025, 1, 21, 14, 39, 20, tzinfo=datetime.timezone.utc)}, {'comment_id': 2604994218, 'issue_id': 2802039116, 'author': 'rdeodoo', 'body': ""@Bertrand2 Given the `hr_holidays` recent commits, it seems like you are in charge of the reviews.\r\nI took this one from the bugfix as it was in the PS Tech pipe (when we are low on quickstart tasks, bugfix give some to us).\r\nI am definitely not familiar at all with this code, but runbot is green, new test added and commit should be self explanatory with all details.\r\n\r\nNote that I skipped 16.0 as it's our last version and UI/UX was quite different."", 'created_at': datetime.datetime(2025, 1, 21, 15, 9, 19, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-21 14:39:20 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/194559.png)](https://mergebot.odoo.com/odoo/odoo/pull/194559)

rdeodoo (Issue Creator) on (2025-01-21 15:09:19 UTC): @Bertrand2 Given the `hr_holidays` recent commits, it seems like you are in charge of the reviews.
I took this one from the bugfix as it was in the PS Tech pipe (when we are low on quickstart tasks, bugfix give some to us).
I am definitely not familiar at all with this code, but runbot is green, new test added and commit should be self explanatory with all details.

Note that I skipped 16.0 as it's our last version and UI/UX was quite different.

"
2802033130,pull_request,closed,,[FW][FIX] hr: only generate default avatar if possible,"Steps
-----
- Have a user with 'Employees' Administator rights and no 'Administration' rights.
- Create a new employee.
- When viewing the Kanban views of employees, the image for the newly created employee appears corrupted (the text 'binary file' appears instead of the image).

Cause
-----
When we create a new employee, `_avatar_generate_svg` is called https://github.com/odoo/odoo/blob/717f3a1ab25613c02c2d0b28fa8dd73f4e6c75e0/addons/hr/models/hr_employee.py#L497-L498 that returns a svg/xml base-64 encoded. However, only users with write rights to `ir.ui.view` are able to create svg/xml attachments. https://github.com/odoo/odoo/blob/717f3a1ab25613c02c2d0b28fa8dd73f4e6c75e0/odoo/addons/base/models/ir_attachment.py#L368-L371 Else, the attachment has a text mimetype forced, leading to it being incorrectly displayed.

Change
-----
A default image is not generated at employee creation if the user doesn't have sufficient rights.

opw-4311251

Forward-Port-Of: odoo/odoo#190214",fw-bot,2025-01-21 14:36:45+00:00,[],2025-02-07 20:18:30+00:00,2025-01-24 20:13:17+00:00,https://github.com/odoo/odoo/pull/194558,"[('OE', 'the report is linked to a support ticket (opw-...)'), ('forwardport', 'This PR was created by @fw-bot')]","[{'comment_id': 2604910061, 'issue_id': 2802033130, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/194558.png)](https://mergebot.odoo.com/odoo/odoo/pull/194558)', 'created_at': datetime.datetime(2025, 1, 21, 14, 36, 46, tzinfo=datetime.timezone.utc)}, {'comment_id': 2604910089, 'issue_id': 2802033130, 'author': 'fw-bot', 'body': 'This PR targets saas-17.4 and is part of the forward-port chain. Further PRs will be created up to master.\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 21, 14, 36, 47, tzinfo=datetime.timezone.utc)}, {'comment_id': 2613155705, 'issue_id': 2802033130, 'author': 'fw-bot', 'body': ""@taqu-odoo @Bertrand2 child PR odoo/odoo#194588 was modified / updated and has become a normal PR. This PR (and any of its parents) will need to be merged independently as approvals won't cross."", 'created_at': datetime.datetime(2025, 1, 24, 18, 35, 32, tzinfo=datetime.timezone.utc)}, {'comment_id': 2613176201, 'issue_id': 2802033130, 'author': 'taqu-odoo', 'body': 'robodoo r+', 'created_at': datetime.datetime(2025, 1, 24, 18, 48, 44, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-21 14:36:46 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/194558.png)](https://mergebot.odoo.com/odoo/odoo/pull/194558)

fw-bot (Issue Creator) on (2025-01-21 14:36:47 UTC): This PR targets saas-17.4 and is part of the forward-port chain. Further PRs will be created up to master.

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

fw-bot (Issue Creator) on (2025-01-24 18:35:32 UTC): @taqu-odoo @Bertrand2 child PR odoo/odoo#194588 was modified / updated and has become a normal PR. This PR (and any of its parents) will need to be merged independently as approvals won't cross.

taqu-odoo on (2025-01-24 18:48:44 UTC): robodoo r+

"
2802028790,pull_request,closed,,[FW][FIX] mrp: duplicate MO and change date,"Steps to reproduce:
-----

- Create a MO
- Duplicate it
- Change the scheduled date
- Confirm

Issue:
---

This [changes](https://github.com/odoo/odoo/commit/7c808beaf36853b4d9171ef0981d1ec9c4b73a44), is trying to timedelta between str and datetime leading to an error.

Fix:
---
To fix this the date_start is set as a datetime and removing the conversion later in the code.

opw-4489618


---
I confirm I have signed the CLA and read the PR guidelines at www.odoo.com/submit-pr

Forward-Port-Of: odoo/odoo#194376",fw-bot,2025-01-21 14:35:12+00:00,[],2025-02-05 13:21:00+00:00,2025-01-22 13:01:04+00:00,https://github.com/odoo/odoo/pull/194557,"[('OE', 'the report is linked to a support ticket (opw-...)'), ('forwardport', 'This PR was created by @fw-bot')]","[{'comment_id': 2604905708, 'issue_id': 2802028790, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/194557.png)](https://mergebot.odoo.com/odoo/odoo/pull/194557)', 'created_at': datetime.datetime(2025, 1, 21, 14, 35, 13, tzinfo=datetime.timezone.utc)}, {'comment_id': 2604905734, 'issue_id': 2802028790, 'author': 'fw-bot', 'body': 'This PR targets saas-17.4 and is part of the forward-port chain. Further PRs will be created up to master.\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 21, 14, 35, 14, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-21 14:35:13 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/194557.png)](https://mergebot.odoo.com/odoo/odoo/pull/194557)

fw-bot (Issue Creator) on (2025-01-21 14:35:14 UTC): This PR targets saas-17.4 and is part of the forward-port chain. Further PRs will be created up to master.

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

"
2802027086,pull_request,closed,,[FW][FIX] web: catch ResizeObserver error in chrome 132,"Since chrome 132, the shape of error events for the `ResizeObserver loop completed with undelivered notifications.` error changed: the `error` key is now set in the event (its value is this specific message, i.e. a string, not an Error instance). As a consequence, those errors are no longer swallowed as they're expected to be, and are thus wrongly identified as CORS errors. Those errors are shown to the user in debug mode.

This happens for instance in the ir.ui.view form view, which contains an AceEditor field. His CodeEditor component listens on the `resize` event to redrawn itself, which causes this error. This also happens with the website builder, which does not involve the CodeEditor. It probably happens at other places as well. We thus need a global solution, like we had before.

This commit thus fixes the condition in the error service to keep swallowing that error.

opw-4500350
opw-4496862
opw-4496782
opw-4495448
opw-4493209
opw-4495309
opw-4472997

Description of the issue/feature this PR addresses:

Current behavior before PR:

Desired behavior after PR is merged:




---
I confirm I have signed the CLA and read the PR guidelines at www.odoo.com/submit-pr

Forward-Port-Of: odoo/odoo#194483",fw-bot,2025-01-21 14:34:30+00:00,[],2025-02-04 21:04:59+00:00,2025-01-21 21:03:05+00:00,https://github.com/odoo/odoo/pull/194556,"[('OE', 'the report is linked to a support ticket (opw-...)'), ('forwardport', 'This PR was created by @fw-bot')]","[{'comment_id': 2604903641, 'issue_id': 2802027086, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/194556.png)](https://mergebot.odoo.com/odoo/odoo/pull/194556)', 'created_at': datetime.datetime(2025, 1, 21, 14, 34, 32, tzinfo=datetime.timezone.utc)}, {'comment_id': 2604903681, 'issue_id': 2802027086, 'author': 'fw-bot', 'body': 'This PR targets saas-17.4 and is part of the forward-port chain. Further PRs will be created up to master.\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 21, 14, 34, 32, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-21 14:34:32 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/194556.png)](https://mergebot.odoo.com/odoo/odoo/pull/194556)

fw-bot (Issue Creator) on (2025-01-21 14:34:32 UTC): This PR targets saas-17.4 and is part of the forward-port chain. Further PRs will be created up to master.

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

"
2802019246,pull_request,closed,,[FW][FIX] spreadsheet_account: 'See Records' icon in context menu,"# Description

The 'See Records' icon was missing when attempting to open `AccountMoveLines` records from the context menu in the spreadsheet.

Task: 0

---
I confirm I have signed the CLA and read the PR guidelines at www.odoo.com/submit-pr

Forward-Port-Of: odoo/odoo#194464",fw-bot,2025-01-21 14:31:25+00:00,[],2025-02-04 19:23:27+00:00,2025-01-21 19:16:42+00:00,https://github.com/odoo/odoo/pull/194555,"[('RD', 'research & development, internal work'), ('forwardport', 'This PR was created by @fw-bot')]","[{'comment_id': 2604895744, 'issue_id': 2802019246, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/194555.png)](https://mergebot.odoo.com/odoo/odoo/pull/194555)', 'created_at': datetime.datetime(2025, 1, 21, 14, 31, 27, tzinfo=datetime.timezone.utc)}, {'comment_id': 2604895781, 'issue_id': 2802019246, 'author': 'fw-bot', 'body': 'This PR targets 18.0 and is part of the forward-port chain. Further PRs will be created up to master.\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 21, 14, 31, 27, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-21 14:31:27 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/194555.png)](https://mergebot.odoo.com/odoo/odoo/pull/194555)

fw-bot (Issue Creator) on (2025-01-21 14:31:27 UTC): This PR targets 18.0 and is part of the forward-port chain. Further PRs will be created up to master.

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

"
2802003534,pull_request,closed,,[FW][FIX] hr_holidays: fix the allocation approval,"- fix the `hr_leave_allocation_rule_employee_update` rule to include `('manager','both') in validation_type` instead of `hr` as those are the types where the emoployee's manager should be able to update
- fix `_check_approval_update` function to match the designed access rules where TOO only approve `hr` and validate `both` and manager approvre `manager, both`

Task: 4432503



---
I confirm I have signed the CLA and read the PR guidelines at www.odoo.com/submit-pr

Forward-Port-Of: odoo/odoo#191808",fw-bot,2025-01-21 14:25:02+00:00,[],2025-02-05 23:11:16+00:00,2025-01-22 23:04:12+00:00,https://github.com/odoo/odoo/pull/194554,"[('RD', 'research & development, internal work'), ('forwardport', 'This PR was created by @fw-bot'), ('conflict', 'There was an error while creating this forward-port PR')]","[{'comment_id': 2604879545, 'issue_id': 2802003534, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/194554.png)](https://mergebot.odoo.com/odoo/odoo/pull/194554)', 'created_at': datetime.datetime(2025, 1, 21, 14, 25, 3, tzinfo=datetime.timezone.utc)}, {'comment_id': 2604879660, 'issue_id': 2802003534, 'author': 'fw-bot', 'body': '@amah-odoo @Bertrand2 cherrypicking of pull request odoo/odoo#191808 failed.\n\nstdout:\n```\nAuto-merging addons/hr_holidays/i18n/hr_holidays.pot\nCONFLICT (content): Merge conflict in addons/hr_holidays/i18n/hr_holidays.pot\nAuto-merging addons/hr_holidays/models/hr_leave_allocation.py\nAuto-merging addons/hr_holidays/security/hr_holidays_security.xml\nAuto-merging addons/hr_holidays/tests/test_allocation_access_rights.py\n\n```\n\nEither perform the forward-port manually (and push to this branch, proceeding as usual) or close this PR (maybe?).\n\nIn the former case, you may want to edit this PR message as well.\n\n:warning: after resolving this conflict, you will need to merge it via @robodoo.\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 21, 14, 25, 6, tzinfo=datetime.timezone.utc)}, {'comment_id': 2607642293, 'issue_id': 2802003534, 'author': 'amah-odoo', 'body': '@robodoo r+', 'created_at': datetime.datetime(2025, 1, 22, 16, 3, 14, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-21 14:25:03 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/194554.png)](https://mergebot.odoo.com/odoo/odoo/pull/194554)

fw-bot (Issue Creator) on (2025-01-21 14:25:06 UTC): @amah-odoo @Bertrand2 cherrypicking of pull request odoo/odoo#191808 failed.

stdout:
```
Auto-merging addons/hr_holidays/i18n/hr_holidays.pot
CONFLICT (content): Merge conflict in addons/hr_holidays/i18n/hr_holidays.pot
Auto-merging addons/hr_holidays/models/hr_leave_allocation.py
Auto-merging addons/hr_holidays/security/hr_holidays_security.xml
Auto-merging addons/hr_holidays/tests/test_allocation_access_rights.py

```

Either perform the forward-port manually (and push to this branch, proceeding as usual) or close this PR (maybe?).

In the former case, you may want to edit this PR message as well.

:warning: after resolving this conflict, you will need to merge it via @robodoo.

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

amah-odoo on (2025-01-22 16:03:14 UTC): @robodoo r+

"
2801991518,pull_request,closed,,[FW][FIX] l10n_my_edi: partner view.,"Fixes an issue on the partner view where a compute would try to read the proxy user, while not all
users who can read the partner would have read
access to the proxy user.

Also fix a similar case in the action used to validate the ID, which tries to read the proxy user.

error-105104

---
I confirm I have signed the CLA and read the PR guidelines at www.odoo.com/submit-pr

Forward-Port-Of: odoo/odoo#194459",fw-bot,2025-01-21 14:20:08+00:00,[],2025-02-04 22:33:42+00:00,2025-01-21 22:03:23+00:00,https://github.com/odoo/odoo/pull/194553,"[('RD', 'research & development, internal work'), ('forwardport', 'This PR was created by @fw-bot'), ('18.2', None)]","[{'comment_id': 2604867259, 'issue_id': 2801991518, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/194553.png)](https://mergebot.odoo.com/odoo/odoo/pull/194553)', 'created_at': datetime.datetime(2025, 1, 21, 14, 20, 9, tzinfo=datetime.timezone.utc)}, {'comment_id': 2604867281, 'issue_id': 2801991518, 'author': 'fw-bot', 'body': '@vin-odoo @clbr-odoo this PR targets master and is the last of the forward-port chain containing:\n* odoo/odoo#194529\n* odoo/odoo#194505\n* odoo/odoo#194488\n* odoo/odoo#194478\n\nTo merge the full chain, use\n> @robodoo r+\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 21, 14, 20, 10, tzinfo=datetime.timezone.utc)}, {'comment_id': 2604963166, 'issue_id': 2801991518, 'author': 'clbr-odoo', 'body': '@robodoo r+', 'created_at': datetime.datetime(2025, 1, 21, 14, 57, 20, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-21 14:20:09 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/194553.png)](https://mergebot.odoo.com/odoo/odoo/pull/194553)

fw-bot (Issue Creator) on (2025-01-21 14:20:10 UTC): @vin-odoo @clbr-odoo this PR targets master and is the last of the forward-port chain containing:
* odoo/odoo#194529
* odoo/odoo#194505
* odoo/odoo#194488
* odoo/odoo#194478

To merge the full chain, use

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

clbr-odoo on (2025-01-21 14:57:20 UTC): @robodoo r+

"
2801983872,pull_request,closed,,[FW][FIX] account: missing placeholder for move name,"The placeholder was empty in some places, leading to an annoying behavior because it isn't even possible anymore to open the related journal entry.

The fix is done directly in the widget `open_move_widget` to avoid modifying the definition of the related field and having to change it into a computed field. Also, it wouldn't make sense to store the placeholder on the journal item but not on the journal entry.

Forward-Port-Of: odoo/odoo#194433",fw-bot,2025-01-21 14:17:04+00:00,[],2025-02-04 20:40:45+00:00,2025-01-21 20:37:04+00:00,https://github.com/odoo/odoo/pull/194552,"[('RD', 'research & development, internal work'), ('forwardport', 'This PR was created by @fw-bot'), ('18.2', None)]","[{'comment_id': 2604858851, 'issue_id': 2801983872, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/194552.png)](https://mergebot.odoo.com/odoo/odoo/pull/194552)', 'created_at': datetime.datetime(2025, 1, 21, 14, 17, 6, tzinfo=datetime.timezone.utc)}, {'comment_id': 2604858884, 'issue_id': 2801983872, 'author': 'fw-bot', 'body': '@william-andre @RicGR98 this PR targets master and is the last of the forward-port chain containing:\n* odoo/odoo#194516\n\nTo merge the full chain, use\n> @robodoo r+\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 21, 14, 17, 7, tzinfo=datetime.timezone.utc)}, {'comment_id': 2604952869, 'issue_id': 2801983872, 'author': 'william-andre', 'body': '@robodoo r+', 'created_at': datetime.datetime(2025, 1, 21, 14, 53, 23, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-21 14:17:06 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/194552.png)](https://mergebot.odoo.com/odoo/odoo/pull/194552)

fw-bot (Issue Creator) on (2025-01-21 14:17:07 UTC): @william-andre @RicGR98 this PR targets master and is the last of the forward-port chain containing:
* odoo/odoo#194516

To merge the full chain, use

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

william-andre on (2025-01-21 14:53:23 UTC): @robodoo r+

"
2801980846,pull_request,open,,[FIX] l10n_dk_oioubl: Don't always use GLN if Peppol is filled,"GLN is the default that many people want to use, but that should not be the default for everybody.
Instead use the real Peppol Endpoint when it's filled. 
We only take care of those that the schematron allows and where we know the correspondence.
For the others and if the peppol fields are not filled, we still fallback on the VAT





---
I confirm I have signed the CLA and read the PR guidelines at www.odoo.com/submit-pr
",gawa-odoo,2025-01-21 14:15:56+00:00,[],2025-02-07 12:48:58+00:00,,https://github.com/odoo/odoo/pull/194551,"[('RD', 'research & development, internal work')]","[{'comment_id': 2604856019, 'issue_id': 2801980846, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/194551.png)](https://mergebot.odoo.com/odoo/odoo/pull/194551)', 'created_at': datetime.datetime(2025, 1, 21, 14, 15, 59, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-21 14:15:59 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/194551.png)](https://mergebot.odoo.com/odoo/odoo/pull/194551)

"
2801975892,pull_request,closed,,"[FW][FIX] sale, sale_expense: prevent creation of tax line","Steps to reproduce:
[l10n_dk]
- create and confirm a sale order
- create an expense for a new employee and use a product set with reinvoice at cost and a tax with multiple repartition lines
- confirm and process the expense
- post journal entries

Issue:
Missing required fields on accountable sale order line.

Cause:
We want to reinvoice the tax line that no product on it

opw-4378714

Forward-Port-Of: odoo/odoo#193853
Forward-Port-Of: odoo/odoo#191163",fw-bot,2025-01-21 14:14:03+00:00,[],2025-02-05 10:15:44+00:00,2025-01-22 10:10:21+00:00,https://github.com/odoo/odoo/pull/194550,"[('OE', 'the report is linked to a support ticket (opw-...)'), ('forwardport', 'This PR was created by @fw-bot')]","[{'comment_id': 2604851140, 'issue_id': 2801975892, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/194550.png)](https://mergebot.odoo.com/odoo/odoo/pull/194550)', 'created_at': datetime.datetime(2025, 1, 21, 14, 14, 5, tzinfo=datetime.timezone.utc)}, {'comment_id': 2604851179, 'issue_id': 2801975892, 'author': 'fw-bot', 'body': 'This PR targets saas-18.1 and is part of the forward-port chain. Further PRs will be created up to master.\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 21, 14, 14, 6, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-21 14:14:05 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/194550.png)](https://mergebot.odoo.com/odoo/odoo/pull/194550)

fw-bot (Issue Creator) on (2025-01-21 14:14:06 UTC): This PR targets saas-18.1 and is part of the forward-port chain. Further PRs will be created up to master.

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

"
2801975124,pull_request,closed,,[FW][FIX] hr_holidays: allow search on name,"Steps to reproduce:

 - Go in time off app -> overview
 - Search on name

Issue:

When searching on name, the search does not work. This is due to the
name being computed and not stored. Directly related to the [recent
changes](https://github.com/odoo/odoo/commit/7a65a1b6ac34f214)

Fix

The field has now a search method on the different component of the name
separetly.

opw-4351362

---
I confirm I have signed the CLA and read the PR guidelines at www.odoo.com/submit-pr

Forward-Port-Of: odoo/odoo#188433",fw-bot,2025-01-21 14:13:43+00:00,[],2025-02-05 23:11:14+00:00,2025-01-22 23:04:01+00:00,https://github.com/odoo/odoo/pull/194549,"[('OE', 'the report is linked to a support ticket (opw-...)'), ('forwardport', 'This PR was created by @fw-bot')]","[{'comment_id': 2604850536, 'issue_id': 2801975124, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/194549.png)](https://mergebot.odoo.com/odoo/odoo/pull/194549)', 'created_at': datetime.datetime(2025, 1, 21, 14, 13, 51, tzinfo=datetime.timezone.utc)}, {'comment_id': 2604850559, 'issue_id': 2801975124, 'author': 'fw-bot', 'body': 'This PR targets saas-18.1 and is part of the forward-port chain. Further PRs will be created up to master.\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 21, 14, 13, 51, tzinfo=datetime.timezone.utc)}, {'comment_id': 2604961418, 'issue_id': 2801975124, 'author': 'fw-bot', 'body': '@jaeschwa @tivisse ci/runbot failed on this forward-port PR', 'created_at': datetime.datetime(2025, 1, 21, 14, 56, 39, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-21 14:13:51 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/194549.png)](https://mergebot.odoo.com/odoo/odoo/pull/194549)

fw-bot (Issue Creator) on (2025-01-21 14:13:51 UTC): This PR targets saas-18.1 and is part of the forward-port chain. Further PRs will be created up to master.

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

fw-bot (Issue Creator) on (2025-01-21 14:56:39 UTC): @jaeschwa @tivisse ci/runbot failed on this forward-port PR

"
2801971844,pull_request,closed,,[FW][FIX] hr_holidays: fix form view actions wizard,"Steps to reproduce:
---

Go in the Time Off app
Click on an allocation or a leave
Click on the action gear

Issue:
---
The gear action shows 2 times the ""Multiple Requests"", this comes from the fact that the wizard is in the xml and defined in the action_generate_allocations. So it is displayed twice in the form.

Fix:
---
Since the issue is only appearing in the form view, added the condition
on viewType.

---
I confirm I have signed the CLA and read the PR guidelines at www.odoo.com/submit-pr

Forward-Port-Of: odoo/odoo#188182",fw-bot,2025-01-21 14:12:38+00:00,[],2025-02-04 18:22:05+00:00,2025-01-21 18:16:47+00:00,https://github.com/odoo/odoo/pull/194548,"[('OE', 'the report is linked to a support ticket (opw-...)'), ('forwardport', 'This PR was created by @fw-bot')]","[{'comment_id': 2604847387, 'issue_id': 2801971844, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/194548.png)](https://mergebot.odoo.com/odoo/odoo/pull/194548)', 'created_at': datetime.datetime(2025, 1, 21, 14, 12, 39, tzinfo=datetime.timezone.utc)}, {'comment_id': 2604847417, 'issue_id': 2801971844, 'author': 'fw-bot', 'body': 'This PR targets saas-18.1 and is part of the forward-port chain. Further PRs will be created up to master.\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 21, 14, 12, 39, tzinfo=datetime.timezone.utc)}, {'comment_id': 2605055047, 'issue_id': 2801971844, 'author': 'fw-bot', 'body': '@jaeschwa @tivisse the next pull request (odoo/odoo#194573) is in conflict. You can merge the chain up to here by saying\n> @robodoo r+\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 21, 15, 32, 7, tzinfo=datetime.timezone.utc)}, {'comment_id': 2605083640, 'issue_id': 2801971844, 'author': 'tivisse', 'body': '@robodoo r+', 'created_at': datetime.datetime(2025, 1, 21, 15, 43, 8, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-21 14:12:39 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/194548.png)](https://mergebot.odoo.com/odoo/odoo/pull/194548)

fw-bot (Issue Creator) on (2025-01-21 14:12:39 UTC): This PR targets saas-18.1 and is part of the forward-port chain. Further PRs will be created up to master.

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

fw-bot (Issue Creator) on (2025-01-21 15:32:07 UTC): @jaeschwa @tivisse the next pull request (odoo/odoo#194573) is in conflict. You can merge the chain up to here by saying

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

tivisse on (2025-01-21 15:43:08 UTC): @robodoo r+

"
2801960722,pull_request,closed,,[FW][FIX] hr_attendance: null-safe record deletion,"An error is thrown when deleting attendance records from the list view.


Steps to reproduce:
Attendances -> List View (Select some records) -> Actions -> Delete

Current behavior before PR:
```
TypeError: Cannot read properties of undefined (reading 'some')
    at Proxy.load (https://72301827-18-0-all.runbot171.odoo.com/web/assets/debug/web.assets_web.js:229101:49) (/hr_attendance/static/src/views/attendance_list_view.js:25)
    at Proxy._deleteRecords (https://72301827-18-0-all.runbot171.odoo.com/web/assets/debug/web.assets_web.js:55859:26) (/web/static/src/model/relational_model/dynamic_list.js:250)
    at async ConfirmationDialog.execButton (https://72301827-18-0-all.runbot171.odoo.com/web/assets/debug/web.assets_web.js:18747:31) (/web/static/src/core/confirmation_dialog/confirmation_dialog.js:79)
```


Desired behavior after PR is merged:
Deleting selected records without errors.

Cause:
The implementation of `DynamicList._deleteRecords` changed in v18.0 by fbb37ab363a6c729193f1ba1ba70775650140636 to call `model.load()` without `params`. Thus `params.domain` could possibly be undefined.



---
I confirm I have signed the CLA and read the PR guidelines at www.odoo.com/submit-pr

Forward-Port-Of: odoo/odoo#191451",fw-bot,2025-01-21 14:09:11+00:00,[],2025-01-27 19:20:06+00:00,2025-01-27 19:20:05+00:00,https://github.com/odoo/odoo/pull/194547,"[('RD', 'research & development, internal work'), ('forwardport', 'This PR was created by @fw-bot')]","[{'comment_id': 2604837925, 'issue_id': 2801960722, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/194547.png)](https://mergebot.odoo.com/odoo/odoo/pull/194547)', 'created_at': datetime.datetime(2025, 1, 21, 14, 9, 13, tzinfo=datetime.timezone.utc)}, {'comment_id': 2604837959, 'issue_id': 2801960722, 'author': 'fw-bot', 'body': 'This PR targets saas-18.1 and is part of the forward-port chain. Further PRs will be created up to master.\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 21, 14, 9, 13, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-21 14:09:13 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/194547.png)](https://mergebot.odoo.com/odoo/odoo/pull/194547)

fw-bot (Issue Creator) on (2025-01-21 14:09:13 UTC): This PR targets saas-18.1 and is part of the forward-port chain. Further PRs will be created up to master.

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

"
2801949054,pull_request,closed,,[FIX] l10n_in_ewaybill: LazyGettext traceback and missing response,"on generating ewaybill through irn following traceback is produced
```py
Traceback (most recent call last):
  File ""/home/odoo/src/odoo/saas-18.1/odoo/http.py"", line 1997, in _transactioning
    return service_model.retrying(func, env=self.env)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File ""/home/odoo/src/odoo/saas-18.1/odoo/service/model.py"", line 137, in retrying
    result = func()
             ^^^^^^
  File ""/home/odoo/src/odoo/saas-18.1/odoo/http.py"", line 1964, in _serve_ir_http
    response = self.dispatcher.dispatch(rule.endpoint, args)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File ""/home/odoo/src/odoo/saas-18.1/odoo/http.py"", line 2214, in dispatch
    result = self.request.registry['ir.http']._dispatch(endpoint)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File ""/home/odoo/src/odoo/saas-18.1/odoo/addons/base/models/ir_http.py"", line 334, in _dispatch
    result = endpoint(**request.params)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File ""/home/odoo/src/odoo/saas-18.1/odoo/http.py"", line 733, in route_wrapper
    result = endpoint(self, *args, **params_ok)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File ""/home/odoo/src/odoo/saas-18.1/addons/web/controllers/dataset.py"", line 36, in call_button
    action = call_kw(request.env[model], method, args, kwargs)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File ""/home/odoo/src/odoo/saas-18.1/odoo/service/model.py"", line 62, in call_kw
    result = getattr(recs, name)(*args, **kwargs)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File ""/home/odoo/src/odoo/saas-18.1/addons/l10n_in_ewaybill_irn/models/l10n_in_ewaybill.py"", line 49, in action_generate_ewaybill
    ewaybill._generate_ewaybill_by_irn()
  File ""/home/odoo/src/odoo/saas-18.1/addons/l10n_in_ewaybill_irn/models/l10n_in_ewaybill.py"", line 56, in _generate_ewaybill_by_irn
    response = self._ewaybill_generate_by_irn(self._ewaybill_generate_irn_json())
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File ""/home/odoo/src/odoo/saas-18.1/addons/l10n_in_ewaybill_irn/models/l10n_in_ewaybill.py"", line 128, in _ewaybill_generate_by_irn
    'message': EWayBillApi.DEFAULT_HELP_MESSAGE % 'generated',
               ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^~~~~~~~~~~~~
TypeError: unsupported operand type(s) for %: 'LazyGettext' and 'str'
```
In this commit, we fix the above traceback and also fixes a line where the response was not overriden on the next request



---
I confirm I have signed the CLA and read the PR guidelines at www.odoo.com/submit-pr
",hamo-odoo,2025-01-21 14:04:27+00:00,[],2025-02-05 23:11:22+00:00,2025-01-22 23:04:48+00:00,https://github.com/odoo/odoo/pull/194546,"[('RD', 'research & development, internal work')]","[{'comment_id': 2604826057, 'issue_id': 2801949054, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/194546.png)](https://mergebot.odoo.com/odoo/odoo/pull/194546)', 'created_at': datetime.datetime(2025, 1, 21, 14, 4, 30, tzinfo=datetime.timezone.utc)}, {'comment_id': 2604837003, 'issue_id': 2801949054, 'author': 'hamo-odoo', 'body': ""@kmagusiak Can you please a have look at this fix? If i'm not wrong you are the one changed the translator `_` to lazy text translator `_lt` in `l10n_in_ewaybill`?"", 'created_at': datetime.datetime(2025, 1, 21, 14, 8, 49, tzinfo=datetime.timezone.utc)}, {'comment_id': 2606397364, 'issue_id': 2801949054, 'author': 'hamo-odoo', 'body': ""@jco-odoo @kmagusiak re-requesting review.\r\nSince EwayBillApi is just normal python model, it's best to move the help message to a normal odoo model (`l10n.in.ewaybill`), so the `self.env._` is accessible every time it's called"", 'created_at': datetime.datetime(2025, 1, 22, 6, 25, 2, tzinfo=datetime.timezone.utc)}, {'comment_id': 2607221911, 'issue_id': 2801949054, 'author': 'jco-odoo', 'body': '@robodoo r+', 'created_at': datetime.datetime(2025, 1, 22, 13, 14, 57, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-21 14:04:30 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/194546.png)](https://mergebot.odoo.com/odoo/odoo/pull/194546)

hamo-odoo (Issue Creator) on (2025-01-21 14:08:49 UTC): @kmagusiak Can you please a have look at this fix? If i'm not wrong you are the one changed the translator `_` to lazy text translator `_lt` in `l10n_in_ewaybill`?

hamo-odoo (Issue Creator) on (2025-01-22 06:25:02 UTC): @jco-odoo @kmagusiak re-requesting review.
Since EwayBillApi is just normal python model, it's best to move the help message to a normal odoo model (`l10n.in.ewaybill`), so the `self.env._` is accessible every time it's called

jco-odoo on (2025-01-22 13:14:57 UTC): @robodoo r+

"
2801928836,pull_request,closed,,[FW][FIX] hr_holidays: fix graphs in time off reporting by type,"The line and pie chart were crashing in the time off reporting by type. Steps to reproduce:
- Open time off > Reporting > By type
- Click on the line or pie chart view

This commit fixes the issue by processing the data points for the line and pie chart views.

task-4477518

Forward-Port-Of: odoo/odoo#193943",fw-bot,2025-01-21 13:55:58+00:00,[],2025-02-04 20:40:45+00:00,2025-01-21 20:37:08+00:00,https://github.com/odoo/odoo/pull/194545,"[('RD', 'research & development, internal work'), ('forwardport', 'This PR was created by @fw-bot'), ('18.2', None)]","[{'comment_id': 2604805519, 'issue_id': 2801928836, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/194545.png)](https://mergebot.odoo.com/odoo/odoo/pull/194545)', 'created_at': datetime.datetime(2025, 1, 21, 13, 55, 59, tzinfo=datetime.timezone.utc)}, {'comment_id': 2604805550, 'issue_id': 2801928836, 'author': 'fw-bot', 'body': '@romaincarlier4 @tivisse this PR targets master and is the last of the forward-port chain.\n\nTo merge the full chain, use\n> @robodoo r+\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 21, 13, 56, tzinfo=datetime.timezone.utc)}, {'comment_id': 2604882849, 'issue_id': 2801928836, 'author': 'tivisse', 'body': '@robodoo r+', 'created_at': datetime.datetime(2025, 1, 21, 14, 26, 23, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-21 13:55:59 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/194545.png)](https://mergebot.odoo.com/odoo/odoo/pull/194545)

fw-bot (Issue Creator) on (2025-01-21 13:56:00 UTC): @romaincarlier4 @tivisse this PR targets master and is the last of the forward-port chain.

To merge the full chain, use

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

tivisse on (2025-01-21 14:26:23 UTC): @robodoo r+

"
2801918115,pull_request,open,,[IMP] sale_loyalty: multiple cheapest product discount,"task-4433191

Description of the issue/feature this PR addresses:

Current behavior before PR:

Desired behavior after PR is merged:




---
I confirm I have signed the CLA and read the PR guidelines at www.odoo.com/submit-pr
",Demesmaeker,2025-01-21 13:51:51+00:00,[],2025-02-05 09:37:19+00:00,,https://github.com/odoo/odoo/pull/194544,"[('RD', 'research & development, internal work')]","[{'comment_id': 2604795772, 'issue_id': 2801918115, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/194544.png)](https://mergebot.odoo.com/odoo/odoo/pull/194544)', 'created_at': datetime.datetime(2025, 1, 21, 13, 51, 53, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-21 13:51:53 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/194544.png)](https://mergebot.odoo.com/odoo/odoo/pull/194544)

"
2801910341,pull_request,closed,,[FW][FIX] web: burger menu memory leak,"The event listeners are never removed when the component is unmounted which means to global `env.bus` always keeps a reference to this component and everything that goes with it, including its (child)env.

In version 18.0, the spreadsheet client action instantiates its own `BurgerMenu` component and also adds the spreadsheet `model` in the action child env (which can be expensive memory-wise)



---
I confirm I have signed the CLA and read the PR guidelines at www.odoo.com/submit-pr

Forward-Port-Of: odoo/odoo#194485",fw-bot,2025-01-21 13:48:37+00:00,[],2025-02-04 18:35:55+00:00,2025-01-21 18:32:37+00:00,https://github.com/odoo/odoo/pull/194543,"[('RD', 'research & development, internal work'), ('forwardport', 'This PR was created by @fw-bot')]","[{'comment_id': 2604788313, 'issue_id': 2801910341, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/194543.png)](https://mergebot.odoo.com/odoo/odoo/pull/194543)', 'created_at': datetime.datetime(2025, 1, 21, 13, 48, 39, tzinfo=datetime.timezone.utc)}, {'comment_id': 2604788343, 'issue_id': 2801910341, 'author': 'fw-bot', 'body': 'This PR targets 17.0 and is part of the forward-port chain. Further PRs will be created up to master.\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 21, 13, 48, 39, tzinfo=datetime.timezone.utc)}, {'comment_id': 2604952754, 'issue_id': 2801910341, 'author': 'fw-bot', 'body': '@LucasLefevre @aab-odoo ci/runbot failed on this forward-port PR', 'created_at': datetime.datetime(2025, 1, 21, 14, 53, 20, tzinfo=datetime.timezone.utc)}, {'comment_id': 2605107230, 'issue_id': 2801910341, 'author': 'fw-bot', 'body': '@LucasLefevre @aab-odoo the next pull request (odoo/odoo#194587) is in conflict. You can merge the chain up to here by saying\n> @robodoo r+\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 21, 15, 52, 39, tzinfo=datetime.timezone.utc)}, {'comment_id': 2605163591, 'issue_id': 2801910341, 'author': 'LucasLefevre', 'body': 'robodoo r+\r\n\r\nOn Tue, Jan 21, 2025 at 4:53\u202fPM Otis - Odoo Forward-Port Steward [bot] <\r\n***@***.***> wrote:\r\n\r\n> @LucasLefevre <https://github.com/LucasLefevre> @aab-odoo\r\n> <https://github.com/aab-odoo> the next pull request (#194587\r\n> <https://github.com/odoo/odoo/pull/194587>) is in conflict. You can merge\r\n> the chain up to here by saying\r\n>\r\n> @robodoo <https://github.com/robodoo> r+\r\n>\r\n> More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port\r\n>\r\n> —\r\n> Reply to this email directly, view it on GitHub\r\n> <https://github.com/odoo/odoo/pull/194543#issuecomment-2605107230>, or\r\n> unsubscribe\r\n> <https://github.com/notifications/unsubscribe-auth/ACTHFEL4HLNR4GJLIYRYFGT2LZUODAVCNFSM6AAAAABVSSFX3GVHI2DSMVQWIX3LMV43OSLTON2WKQ3PNVWWK3TUHMZDMMBVGEYDOMRTGA>\r\n> .\r\n> You are receiving this because you were mentioned.Message ID:\r\n> ***@***.***>\r\n>', 'created_at': datetime.datetime(2025, 1, 21, 16, 12, 49, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-21 13:48:39 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/194543.png)](https://mergebot.odoo.com/odoo/odoo/pull/194543)

fw-bot (Issue Creator) on (2025-01-21 13:48:39 UTC): This PR targets 17.0 and is part of the forward-port chain. Further PRs will be created up to master.

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

fw-bot (Issue Creator) on (2025-01-21 14:53:20 UTC): @LucasLefevre @aab-odoo ci/runbot failed on this forward-port PR

fw-bot (Issue Creator) on (2025-01-21 15:52:39 UTC): @LucasLefevre @aab-odoo the next pull request (odoo/odoo#194587) is in conflict. You can merge the chain up to here by saying

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

LucasLefevre on (2025-01-21 16:12:49 UTC): robodoo r+

On Tue, Jan 21, 2025 at 4:53 PM Otis - Odoo Forward-Port Steward [bot] <
***@***.***> wrote:

"
2801892093,pull_request,open,,[IMP] account_peppol: speedup peppol registration flow,"Currently, registering as a receiver on Peppol via Odoo has a poor user experience due to the long delays in activation. The activation process requires a DNS lookup, which is performed on the IAP side every 6 hours. Additionally, the client db queries IAP for the user state every 6 hours before enabling the receipt of invoices, resulting in a typical delay of over 8 hours—often spanning more than a full workday.

This commit, together with https://github.com/odoo/iap-apps/pull/969 tries speed things up by
- fetching the activation status 5, 15 and 60 min after registration from IAP (client-db side)
- on iap side, every time a client db fetches the status of a user we also perform a DNS lookup (before we only did that DNS lookup once every 6 hours)

task-4395265",antonrom1,2025-01-21 13:41:02+00:00,[],2025-01-28 13:37:58+00:00,,https://github.com/odoo/odoo/pull/194542,"[('RD', 'research & development, internal work')]","[{'comment_id': 2604770053, 'issue_id': 2801892093, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/194542.png)](https://mergebot.odoo.com/odoo/odoo/pull/194542)', 'created_at': datetime.datetime(2025, 1, 21, 13, 41, 5, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-21 13:41:05 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/194542.png)](https://mergebot.odoo.com/odoo/odoo/pull/194542)

"
2801878161,pull_request,closed,,[FIX] account: ignore canceled statement lines in statement assignment,"Before this commit:
Steps
1) Create 3 statement lines in bank journal
2) Cancel the journal entry of the middle one
3) Try to add the first and third lines to a statement

=> It shows an `Invalid Operation: Unable to create a statement due to missing transactions. You may want to reorder the transactions before proceeding` This happens because the lines are considered non-contiguous due to the canceled middle line.

After this commit:
This operation can be performed as the missing line is canceled, and it shouldn’t be counted for the contiguity check. Also, it should be considered in the statement assignment, similar to how the statement button works in the widget/kanban view.

Recording of reproducing the issue: 
https://drive.google.com/file/d/1I5xwNie1HL9ifuK0z21a6yWDdqI_xbTU/view?usp=sharing 

Discussion with OLMA: https://discord.com/channels/678381219515465750/1099994955830796348/1330856829638545429

opw-4385040",aaha-odoo,2025-01-21 13:35:44+00:00,[],2025-02-03 16:18:01+00:00,2025-02-03 16:18:01+00:00,https://github.com/odoo/odoo/pull/194541,"[('OE', 'the report is linked to a support ticket (opw-...)')]","[{'comment_id': 2604757374, 'issue_id': 2801878161, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/194541.png)](https://mergebot.odoo.com/odoo/odoo/pull/194541)', 'created_at': datetime.datetime(2025, 1, 21, 13, 35, 47, tzinfo=datetime.timezone.utc)}, {'comment_id': 2631017723, 'issue_id': 2801878161, 'author': 'h4818', 'body': 'LGTM \r\nThanks @aaha-odoo \r\n\r\n@robodoo r+', 'created_at': datetime.datetime(2025, 2, 3, 13, 32, 8, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-21 13:35:47 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/194541.png)](https://mergebot.odoo.com/odoo/odoo/pull/194541)

h4818 on (2025-02-03 13:32:08 UTC): LGTM 
Thanks @aaha-odoo 

@robodoo r+

"
2801868759,pull_request,closed,,[FW][FIX] web_editor: check range count when positioning toolbar,"**Problem**:
In rare edge cases, the selection can have no ranges, causing a crash when attempting to `getRangeAt(0)`.

**Solution**:
Ensure there are ranges in the selection before accessing them.

**Steps to Reproduce**:
1. Split the window, with Odoo on one side and any other application on the other.
2. Navigate to a sales order in Odoo.
3. From the sales order, navigate to the partner.
4. Maximize the window.
5. Return to the sales order.
6. Split the window again.
7. Scroll down.

opw-4279813

---
I confirm I have signed the CLA and read the PR guidelines at www.odoo.com/submit-pr

Forward-Port-Of: odoo/odoo#194385",fw-bot,2025-01-21 13:31:59+00:00,[],2025-02-05 08:07:41+00:00,2025-01-22 08:06:38+00:00,https://github.com/odoo/odoo/pull/194540,"[('OE', 'the report is linked to a support ticket (opw-...)'), ('forwardport', 'This PR was created by @fw-bot')]","[{'comment_id': 2604748057, 'issue_id': 2801868759, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/194540.png)](https://mergebot.odoo.com/odoo/odoo/pull/194540)', 'created_at': datetime.datetime(2025, 1, 21, 13, 32, tzinfo=datetime.timezone.utc)}, {'comment_id': 2604748089, 'issue_id': 2801868759, 'author': 'fw-bot', 'body': 'This PR targets saas-17.2 and is part of the forward-port chain. Further PRs will be created up to master.\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 21, 13, 32, 1, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-21 13:32:00 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/194540.png)](https://mergebot.odoo.com/odoo/odoo/pull/194540)

fw-bot (Issue Creator) on (2025-01-21 13:32:01 UTC): This PR targets saas-17.2 and is part of the forward-port chain. Further PRs will be created up to master.

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

"
2801840144,pull_request,closed,,[FIX] stock: compute accurate consumed quantities for lots,"Issue
-----
When manually changing the quantity and lot consumed through the Shop Floor, the consumed quantity is computed wrong and the user gets a ""Consumption Warning"".

Steps to reproduce
-----
- Install MRP
- Create a ""Cons"" product, tracked by lot
- Change the ""Cons"" on hand quantity, create lot 1 with 10 units & lot 2 with 20
- Create a ""Final"" product
- Create a Bill of Materials for ""Final""
    - Add ""Cons"" as a component of the BoM
    - Add an operation to the BoM
        - Add an instruction to the operation with ""Type"" set to ""Register Consumed Materials"" & ""Product To Register"" set to ""Cons""
- Create a Manufacturing Order for 20 of ""Final"" & confirm it (the ""Cons"" consumption should be split 10/10 between the 2 lots)
- Go to the Shop Floor
    - Register the production of the 20 units
    - Open the instruction
        - Change the consumed quantity to 20
        - Change the lot number to use the 2nd one
    - Mark as done & close the 

-> A pop-up appears because the consumed quantity is registered as 30 instead of the 20 that were actually used

Cause
-----
A stock move is automatically created with the manufacturing order for all of the required components. The problem arises when one of these components is tracked by lots. The move line for this component is created using the first available lot found. If this lot isn't sufficient, the remaining necessary quantity is taken from the next lot (through another move line). If the user manually changes the consumed quantity for a lot, it only updates the corresponding line.

When updating the line, it sets 'picked' as True so we can use this field to only use the actually registered consumed quantities for computing the total.

-----
Ticket:
opw-4357996
",vandroogenbd,2025-01-21 13:21:19+00:00,[],2025-01-23 13:59:07+00:00,2025-01-23 13:59:01+00:00,https://github.com/odoo/odoo/pull/194539,"[('OE', 'the report is linked to a support ticket (opw-...)')]","[{'comment_id': 2604721171, 'issue_id': 2801840144, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/194539.png)](https://mergebot.odoo.com/odoo/odoo/pull/194539)', 'created_at': datetime.datetime(2025, 1, 21, 13, 21, 22, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-21 13:21:22 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/194539.png)](https://mergebot.odoo.com/odoo/odoo/pull/194539)

"
2801835135,pull_request,closed,,[FW][FIX] mrp: duplicate MO and change date,"Steps to reproduce:
-----

- Create a MO
- Duplicate it
- Change the scheduled date
- Confirm

Issue:
---

This [changes](https://github.com/odoo/odoo/commit/7c808beaf36853b4d9171ef0981d1ec9c4b73a44), is trying to timedelta between str and datetime leading to an error.

Fix:
---
To fix this the date_start is set as a datetime and removing the conversion later in the code.

opw-4489618


---
I confirm I have signed the CLA and read the PR guidelines at www.odoo.com/submit-pr

Forward-Port-Of: odoo/odoo#194376",fw-bot,2025-01-21 13:19:24+00:00,[],2025-02-05 11:13:08+00:00,2025-01-22 11:09:38+00:00,https://github.com/odoo/odoo/pull/194538,"[('OE', 'the report is linked to a support ticket (opw-...)'), ('forwardport', 'This PR was created by @fw-bot')]","[{'comment_id': 2604716371, 'issue_id': 2801835135, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/194538.png)](https://mergebot.odoo.com/odoo/odoo/pull/194538)', 'created_at': datetime.datetime(2025, 1, 21, 13, 19, 26, tzinfo=datetime.timezone.utc)}, {'comment_id': 2604716402, 'issue_id': 2801835135, 'author': 'fw-bot', 'body': 'This PR targets saas-17.2 and is part of the forward-port chain. Further PRs will be created up to master.\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 21, 13, 19, 26, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-21 13:19:26 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/194538.png)](https://mergebot.odoo.com/odoo/odoo/pull/194538)

fw-bot (Issue Creator) on (2025-01-21 13:19:26 UTC): This PR targets saas-17.2 and is part of the forward-port chain. Further PRs will be created up to master.

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

"
2801834123,pull_request,closed,,[FW][FIX] auth_oauth: ensure werkzeug 3 compatibility,"Description of the issue/feature this PR addresses:
The method werkzeug.http.parse_www_authenticate_header has been removed in werkzeug 3 and later. This causes an issue in Odoo when using python 3.12, as the requirements.txt specifies werkzeug 3.0.1. This results in a misleading error stating that auth_signup is not installed on the database when authenticating a new user with an OAuth provider.

Current behavior before PR:
When attempting to authenticate a new user with an OAuth provider in Odoo using Python 3.12, the method werkzeug.http.parse_www_authenticate_header is called. Since this method is removed in Werkzeug 3.0.1, a misleading error message about auth_signup not being installed on the database is displayed.

Desired behavior after PR is merged:
The code will use WWWAuthenticate.from_header for parsing the WWW-Authenticate header if available, otherwise, it will fall back to using werkzeug.http.parse_www_authenticate_header for compatibility with older versions of Werkzeug (2.0 and 2.2). The misleading error message will no longer appear, and OAuth authentication will work as expected.

Fixes #194002


---
I confirm I have signed the CLA and read the PR guidelines at www.odoo.com/submit-pr

Forward-Port-Of: odoo/odoo#194484",fw-bot,2025-01-21 13:19:06+00:00,[],2025-01-27 10:34:15+00:00,2025-01-27 10:34:15+00:00,https://github.com/odoo/odoo/pull/194537,"[('RD', 'research & development, internal work'), ('forwardport', 'This PR was created by @fw-bot')]","[{'comment_id': 2604715507, 'issue_id': 2801834123, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/194537.png)](https://mergebot.odoo.com/odoo/odoo/pull/194537)', 'created_at': datetime.datetime(2025, 1, 21, 13, 19, 8, tzinfo=datetime.timezone.utc)}, {'comment_id': 2604715548, 'issue_id': 2801834123, 'author': 'fw-bot', 'body': 'This PR targets saas-17.2 and is part of the forward-port chain. Further PRs will be created up to master.\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 21, 13, 19, 9, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-21 13:19:08 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/194537.png)](https://mergebot.odoo.com/odoo/odoo/pull/194537)

fw-bot (Issue Creator) on (2025-01-21 13:19:09 UTC): This PR targets saas-17.2 and is part of the forward-port chain. Further PRs will be created up to master.

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

"
2801833424,pull_request,closed,,[FW][FIX] web: catch ResizeObserver error in chrome 132,"Since chrome 132, the shape of error events for the `ResizeObserver loop completed with undelivered notifications.` error changed: the `error` key is now set in the event (its value is this specific message, i.e. a string, not an Error instance). As a consequence, those errors are no longer swallowed as they're expected to be, and are thus wrongly identified as CORS errors. Those errors are shown to the user in debug mode.

This happens for instance in the ir.ui.view form view, which contains an AceEditor field. His CodeEditor component listens on the `resize` event to redrawn itself, which causes this error. This also happens with the website builder, which does not involve the CodeEditor. It probably happens at other places as well. We thus need a global solution, like we had before.

This commit thus fixes the condition in the error service to keep swallowing that error.

opw-4500350
opw-4496862
opw-4496782
opw-4495448
opw-4493209
opw-4495309
opw-4472997

Description of the issue/feature this PR addresses:

Current behavior before PR:

Desired behavior after PR is merged:




---
I confirm I have signed the CLA and read the PR guidelines at www.odoo.com/submit-pr

Forward-Port-Of: odoo/odoo#194483",fw-bot,2025-01-21 13:18:48+00:00,[],2025-02-04 21:11:45+00:00,2025-01-21 21:06:38+00:00,https://github.com/odoo/odoo/pull/194536,"[('OE', 'the report is linked to a support ticket (opw-...)'), ('forwardport', 'This PR was created by @fw-bot')]","[{'comment_id': 2604714786, 'issue_id': 2801833424, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/194536.png)](https://mergebot.odoo.com/odoo/odoo/pull/194536)', 'created_at': datetime.datetime(2025, 1, 21, 13, 18, 49, tzinfo=datetime.timezone.utc)}, {'comment_id': 2604714808, 'issue_id': 2801833424, 'author': 'fw-bot', 'body': 'This PR targets saas-17.2 and is part of the forward-port chain. Further PRs will be created up to master.\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 21, 13, 18, 50, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-21 13:18:49 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/194536.png)](https://mergebot.odoo.com/odoo/odoo/pull/194536)

fw-bot (Issue Creator) on (2025-01-21 13:18:50 UTC): This PR targets saas-17.2 and is part of the forward-port chain. Further PRs will be created up to master.

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

"
2801832368,pull_request,closed,,[FW][IMP] l10n_mu: PDF invoice requirements,"This commit add few data on the report_invoice for Mauritius localization.

task-4379202

Forward-Port-Of: odoo/odoo#190723",fw-bot,2025-01-21 13:18:20+00:00,[],2025-02-06 09:00:24+00:00,2025-01-23 08:32:30+00:00,https://github.com/odoo/odoo/pull/194535,"[('RD', 'research & development, internal work'), ('forwardport', 'This PR was created by @fw-bot')]","[{'comment_id': 2604713702, 'issue_id': 2801832368, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/194535.png)](https://mergebot.odoo.com/odoo/odoo/pull/194535)', 'created_at': datetime.datetime(2025, 1, 21, 13, 18, 21, tzinfo=datetime.timezone.utc)}, {'comment_id': 2604713742, 'issue_id': 2801832368, 'author': 'fw-bot', 'body': 'This PR targets saas-17.2 and is part of the forward-port chain. Further PRs will be created up to master.\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 21, 13, 18, 22, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-21 13:18:21 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/194535.png)](https://mergebot.odoo.com/odoo/odoo/pull/194535)

fw-bot (Issue Creator) on (2025-01-21 13:18:22 UTC): This PR targets saas-17.2 and is part of the forward-port chain. Further PRs will be created up to master.

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

"
2801831658,pull_request,closed,,[FW][FIX] hr: only generate default avatar if possible,"Steps
-----
- Have a user with 'Employees' Administator rights and no 'Administration' rights.
- Create a new employee.
- When viewing the Kanban views of employees, the image for the newly created employee appears corrupted (the text 'binary file' appears instead of the image).

Cause
-----
When we create a new employee, `_avatar_generate_svg` is called https://github.com/odoo/odoo/blob/717f3a1ab25613c02c2d0b28fa8dd73f4e6c75e0/addons/hr/models/hr_employee.py#L497-L498 that returns a svg/xml base-64 encoded. However, only users with write rights to `ir.ui.view` are able to create svg/xml attachments. https://github.com/odoo/odoo/blob/717f3a1ab25613c02c2d0b28fa8dd73f4e6c75e0/odoo/addons/base/models/ir_attachment.py#L368-L371 Else, the attachment has a text mimetype forced, leading to it being incorrectly displayed.

Change
-----
A default image is not generated at employee creation if the user doesn't have sufficient rights.

opw-4311251

Forward-Port-Of: odoo/odoo#190214",fw-bot,2025-01-21 13:18:01+00:00,[],2025-02-07 20:18:29+00:00,2025-01-24 20:08:44+00:00,https://github.com/odoo/odoo/pull/194534,"[('OE', 'the report is linked to a support ticket (opw-...)'), ('forwardport', 'This PR was created by @fw-bot')]","[{'comment_id': 2604713246, 'issue_id': 2801831658, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/194534.png)](https://mergebot.odoo.com/odoo/odoo/pull/194534)', 'created_at': datetime.datetime(2025, 1, 21, 13, 18, 10, tzinfo=datetime.timezone.utc)}, {'comment_id': 2604713278, 'issue_id': 2801831658, 'author': 'fw-bot', 'body': 'This PR targets saas-17.2 and is part of the forward-port chain. Further PRs will be created up to master.\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 21, 13, 18, 10, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-21 13:18:10 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/194534.png)](https://mergebot.odoo.com/odoo/odoo/pull/194534)

fw-bot (Issue Creator) on (2025-01-21 13:18:10 UTC): This PR targets saas-17.2 and is part of the forward-port chain. Further PRs will be created up to master.

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

"
2801829848,pull_request,closed,,[FW][FIX] spreadsheet_account: 'See Records' icon in context menu,"# Description

The 'See Records' icon was missing when attempting to open `AccountMoveLines` records from the context menu in the spreadsheet.

Task: 0

---
I confirm I have signed the CLA and read the PR guidelines at www.odoo.com/submit-pr

Forward-Port-Of: odoo/odoo#194464",fw-bot,2025-01-21 13:17:10+00:00,[],2025-02-04 20:40:42+00:00,2025-01-21 19:53:57+00:00,https://github.com/odoo/odoo/pull/194533,"[('RD', 'research & development, internal work'), ('forwardport', 'This PR was created by @fw-bot')]","[{'comment_id': 2604710899, 'issue_id': 2801829848, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/194533.png)](https://mergebot.odoo.com/odoo/odoo/pull/194533)', 'created_at': datetime.datetime(2025, 1, 21, 13, 17, 11, tzinfo=datetime.timezone.utc)}, {'comment_id': 2604710923, 'issue_id': 2801829848, 'author': 'fw-bot', 'body': 'This PR targets saas-17.4 and is part of the forward-port chain. Further PRs will be created up to master.\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 21, 13, 17, 12, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-21 13:17:11 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/194533.png)](https://mergebot.odoo.com/odoo/odoo/pull/194533)

fw-bot (Issue Creator) on (2025-01-21 13:17:12 UTC): This PR targets saas-17.4 and is part of the forward-port chain. Further PRs will be created up to master.

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

"
2801810028,pull_request,closed,,[CLN] website_sale_collect: move dm check to the correct override,"`_isDeliveryMethodReady` is more suitable to check if in-store delivery method is correctly set.

",vchu-odoo,2025-01-21 13:08:54+00:00,[],2025-02-05 10:15:47+00:00,2025-01-22 10:11:39+00:00,https://github.com/odoo/odoo/pull/194531,"[('RD', 'research & development, internal work'), ('18.2', None)]","[{'comment_id': 2604691783, 'issue_id': 2801810028, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/194531.png)](https://mergebot.odoo.com/odoo/odoo/pull/194531)', 'created_at': datetime.datetime(2025, 1, 21, 13, 8, 58, tzinfo=datetime.timezone.utc)}, {'comment_id': 2606514355, 'issue_id': 2801810028, 'author': 'vchu-odoo', 'body': '@robodoo r+', 'created_at': datetime.datetime(2025, 1, 22, 7, 48, 41, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-21 13:08:58 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/194531.png)](https://mergebot.odoo.com/odoo/odoo/pull/194531)

vchu-odoo (Issue Creator) on (2025-01-22 07:48:41 UTC): @robodoo r+

"
2801801546,pull_request,closed,,[IMP] pos_restaurant: Add use guest option on presets,"Before this commit, the completion of number of guests was not mandatory in Pos restaurant.

Now an option was added on the preset to make the number of guests mandatory when clicking on the order button.

taskId: 4497128

",davidmonnom,2025-01-21 13:05:16+00:00,[],2025-01-29 16:48:57+00:00,2025-01-29 16:48:57+00:00,https://github.com/odoo/odoo/pull/194530,"[('RD', 'research & development, internal work'), ('18.2', None)]","[{'comment_id': 2604683761, 'issue_id': 2801801546, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/194530.png)](https://mergebot.odoo.com/odoo/odoo/pull/194530)', 'created_at': datetime.datetime(2025, 1, 21, 13, 5, 19, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-21 13:05:19 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/194530.png)](https://mergebot.odoo.com/odoo/odoo/pull/194530)

"
2801789596,pull_request,closed,,[FW][FIX] l10n_my_edi: partner view.,"Fixes an issue on the partner view where a compute would try to read the proxy user, while not all
users who can read the partner would have read
access to the proxy user.

Also fix a similar case in the action used to validate the ID, which tries to read the proxy user.

error-105104

---
I confirm I have signed the CLA and read the PR guidelines at www.odoo.com/submit-pr

Forward-Port-Of: odoo/odoo#194459",fw-bot,2025-01-21 13:00:07+00:00,[],2025-02-04 18:22:02+00:00,2025-01-21 18:16:31+00:00,https://github.com/odoo/odoo/pull/194529,"[('RD', 'research & development, internal work'), ('forwardport', 'This PR was created by @fw-bot')]","[{'comment_id': 2604672749, 'issue_id': 2801789596, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/194529.png)](https://mergebot.odoo.com/odoo/odoo/pull/194529)', 'created_at': datetime.datetime(2025, 1, 21, 13, 0, 9, tzinfo=datetime.timezone.utc)}, {'comment_id': 2604672777, 'issue_id': 2801789596, 'author': 'fw-bot', 'body': 'This PR targets saas-18.1 and is part of the forward-port chain. Further PRs will be created up to master.\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 21, 13, 0, 9, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-21 13:00:09 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/194529.png)](https://mergebot.odoo.com/odoo/odoo/pull/194529)

fw-bot (Issue Creator) on (2025-01-21 13:00:09 UTC): This PR targets saas-18.1 and is part of the forward-port chain. Further PRs will be created up to master.

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

"
2801786793,pull_request,closed,,[FIX] mail: properly display table separators,"**Problem**:
When adding a table in the chatter and logging/sending, the table is not displayed properly. This issue is same as:
https://github.com/odoo/odoo/commit/99c5a73b2ffc9bef6128059c51574c70cdfc6767. Grouped styles like `border`, `padding`, and `border-radius` do not propagate their values to substyles when variables are used in the value.

**Solution**:
Apply same fix in `convert_inline` of `mail`

**Steps to Reproduce**:
1. Open the full composer.
2. Add a table.
3. Log a note.
4. Observe that `td` borders are not visible.

opw-4483477

---
I confirm I have signed the CLA and read the PR guidelines at www.odoo.com/submit-pr
",walidsahli,2025-01-21 12:59:13+00:00,[],2025-01-27 16:20:44+00:00,2025-01-27 16:20:43+00:00,https://github.com/odoo/odoo/pull/194528,"[('OE', 'the report is linked to a support ticket (opw-...)')]","[{'comment_id': 2604670892, 'issue_id': 2801786793, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/194528.png)](https://mergebot.odoo.com/odoo/odoo/pull/194528)', 'created_at': datetime.datetime(2025, 1, 21, 12, 59, 16, tzinfo=datetime.timezone.utc)}, {'comment_id': 2606822345, 'issue_id': 2801786793, 'author': 'reth-odoo', 'body': ""Seems to work ok in outlook and gmail and I guess the logic was already checked in the original commit\r\n\r\nI'm still not clear on why we seemingly duplicated this file if it still exists in the editor\r\nf939ff45ef7a44c9bcd53334f85f1e7b3101cd8e seems to suggest it should just be in mail :thinking: \r\n@FrancoisGe"", 'created_at': datetime.datetime(2025, 1, 22, 10, 14, 15, tzinfo=datetime.timezone.utc)}, {'comment_id': 2606838465, 'issue_id': 2801786793, 'author': 'walidsahli', 'body': ""> Seems to work ok in outlook and gmail and I guess the logic was already checked in the original commit\r\n> \r\n> I'm still not clear on why we seemingly duplicated this file if it still exists in the editor [f939ff4](https://github.com/odoo/odoo/commit/f939ff45ef7a44c9bcd53334f85f1e7b3101cd8e) seems to suggest it should just be in mail 🤔 @FrancoisGe\r\n\r\nI was also wondering why we have the same file twice."", 'created_at': datetime.datetime(2025, 1, 22, 10, 21, 4, tzinfo=datetime.timezone.utc)}, {'comment_id': 2607502076, 'issue_id': 2801786793, 'author': 'abd-msyukyu-odoo', 'body': ""@reth-odoo @walidsahli Hello! The other file is part of the old `web_editor`, I guess the previous fix should have been adapted for this file too but they must've forgotten. I agree that it'd be best if only one file existed so that fixes are properly forward-ported to both usages"", 'created_at': datetime.datetime(2025, 1, 22, 15, 8, 34, tzinfo=datetime.timezone.utc)}, {'comment_id': 2609702280, 'issue_id': 2801786793, 'author': 'abd-msyukyu-odoo', 'body': '@walidsahli Hello, runbot seems red, could you ping me again when you managed to greenify that ?\r\nThanks and cheers!', 'created_at': datetime.datetime(2025, 1, 23, 12, 36, 36, tzinfo=datetime.timezone.utc)}, {'comment_id': 2609870961, 'issue_id': 2801786793, 'author': 'walidsahli', 'body': '> @walidsahli Hello, runbot seems red, could you ping me again when you managed to greenify that ? Thanks and cheers!\r\n\r\nSure!', 'created_at': datetime.datetime(2025, 1, 23, 13, 54, 59, tzinfo=datetime.timezone.utc)}, {'comment_id': 2611933003, 'issue_id': 2801786793, 'author': 'walidsahli', 'body': '@abd-msyukyu-odoo, i updated some tests so grouped styles are applied even if they are not explicitly defined in the styles to ensure proper rendering in Outlook.', 'created_at': datetime.datetime(2025, 1, 24, 8, 24, 43, tzinfo=datetime.timezone.utc)}, {'comment_id': 2615784085, 'issue_id': 2801786793, 'author': 'abd-msyukyu-odoo', 'body': '@robodoo r+', 'created_at': datetime.datetime(2025, 1, 27, 13, 36, 44, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-21 12:59:16 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/194528.png)](https://mergebot.odoo.com/odoo/odoo/pull/194528)

reth-odoo on (2025-01-22 10:14:15 UTC): Seems to work ok in outlook and gmail and I guess the logic was already checked in the original commit

I'm still not clear on why we seemingly duplicated this file if it still exists in the editor
f939ff45ef7a44c9bcd53334f85f1e7b3101cd8e seems to suggest it should just be in mail :thinking: 
@FrancoisGe

walidsahli (Issue Creator) on (2025-01-22 10:21:04 UTC): I was also wondering why we have the same file twice.

abd-msyukyu-odoo on (2025-01-22 15:08:34 UTC): @reth-odoo @walidsahli Hello! The other file is part of the old `web_editor`, I guess the previous fix should have been adapted for this file too but they must've forgotten. I agree that it'd be best if only one file existed so that fixes are properly forward-ported to both usages

abd-msyukyu-odoo on (2025-01-23 12:36:36 UTC): @walidsahli Hello, runbot seems red, could you ping me again when you managed to greenify that ?
Thanks and cheers!

walidsahli (Issue Creator) on (2025-01-23 13:54:59 UTC): Sure!

walidsahli (Issue Creator) on (2025-01-24 08:24:43 UTC): @abd-msyukyu-odoo, i updated some tests so grouped styles are applied even if they are not explicitly defined in the styles to ensure proper rendering in Outlook.

abd-msyukyu-odoo on (2025-01-27 13:36:44 UTC): @robodoo r+

"
2801781026,pull_request,closed,,[FIX] point_of_sale: set default nb_print value for offline orders,"Currently, an exception is generated in the log when the users create a POS order as follows:
- Install ``pos_restaurant`` module.
- Open the register for the restaurant.
- Stay connected to Wi-Fi but disconnect from the internet (Inspect > Network > Go Offline). connection (Inspect > Network > Go offline)
- Make two or more orders in offline mode and use ``Print Full Receipt``.
- Reconnect to the internet, make one order, and ``Print Full Receipt``.
- Close the register (Traceback appears in the terminal).

``error: `invalid literal for int() with base 10: 'null'``

Before commit :
---
- ``nb_print`` is initialized in Python with fields.Integer(default=0)
- When syncing data between the server and the client, nb_print is being sent as ``null`` instead of an integer.
- The Python side is trying to convert ``null`` into an integer, which causes the error. 

 After commit :
---
- Added ``this.nb_print = vals.nb_print || 0;`` in ``pos_order.js`` to ensure it initializes to 0 for offline orders, aligning with the server-side default.

sentry-6055024846

---
I confirm I have signed the CLA and read the PR guidelines at www.odoo.com/submit-pr
",shka-odoo,2025-01-21 12:57:29+00:00,[],2025-02-06 09:00:29+00:00,2025-01-23 08:44:00+00:00,https://github.com/odoo/odoo/pull/194527,"[('RD', 'research & development, internal work')]","[{'comment_id': 2604667143, 'issue_id': 2801781026, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/194527.png)](https://mergebot.odoo.com/odoo/odoo/pull/194527)', 'created_at': datetime.datetime(2025, 1, 21, 12, 57, 32, tzinfo=datetime.timezone.utc)}, {'comment_id': 2606972883, 'issue_id': 2801781026, 'author': 'caburj', 'body': 'robodoo r+', 'created_at': datetime.datetime(2025, 1, 22, 11, 20, 34, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-21 12:57:32 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/194527.png)](https://mergebot.odoo.com/odoo/odoo/pull/194527)

caburj on (2025-01-22 11:20:34 UTC): robodoo r+

"
2801779925,pull_request,closed,,"[FW][FIX] sale, sale_expense: prevent creation of tax line","Steps to reproduce:
[l10n_dk]
- create and confirm a sale order
- create an expense for a new employee and use a product set with reinvoice at cost and a tax with multiple repartition lines
- confirm and process the expense
- post journal entries

Issue:
Missing required fields on accountable sale order line.

Cause:
We want to reinvoice the tax line that no product on it

opw-4378714

Forward-Port-Of: odoo/odoo#193853
Forward-Port-Of: odoo/odoo#191163",fw-bot,2025-01-21 12:57:10+00:00,[],2025-02-05 09:44:00+00:00,2025-01-22 09:43:03+00:00,https://github.com/odoo/odoo/pull/194526,"[('OE', 'the report is linked to a support ticket (opw-...)'), ('forwardport', 'This PR was created by @fw-bot')]","[{'comment_id': 2604666355, 'issue_id': 2801779925, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/194526.png)](https://mergebot.odoo.com/odoo/odoo/pull/194526)', 'created_at': datetime.datetime(2025, 1, 21, 12, 57, 11, tzinfo=datetime.timezone.utc)}, {'comment_id': 2604666372, 'issue_id': 2801779925, 'author': 'fw-bot', 'body': 'This PR targets 18.0 and is part of the forward-port chain. Further PRs will be created up to master.\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 21, 12, 57, 12, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-21 12:57:11 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/194526.png)](https://mergebot.odoo.com/odoo/odoo/pull/194526)

fw-bot (Issue Creator) on (2025-01-21 12:57:12 UTC): This PR targets 18.0 and is part of the forward-port chain. Further PRs will be created up to master.

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

"
2801778906,pull_request,closed,,[FW][FIX] hr_holidays: fix the allocation approval,"- fix the `hr_leave_allocation_rule_employee_update` rule to include `('manager','both') in validation_type` instead of `hr` as those are the types where the emoployee's manager should be able to update
- fix `_check_approval_update` function to match the designed access rules where TOO only approve `hr` and validate `both` and manager approvre `manager, both`

Task: 4432503



---
I confirm I have signed the CLA and read the PR guidelines at www.odoo.com/submit-pr

Forward-Port-Of: odoo/odoo#191808",fw-bot,2025-01-21 12:56:51+00:00,[],2025-02-04 17:05:13+00:00,2025-01-21 16:57:12+00:00,https://github.com/odoo/odoo/pull/194525,"[('RD', 'research & development, internal work'), ('forwardport', 'This PR was created by @fw-bot')]","[{'comment_id': 2604665636, 'issue_id': 2801778906, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/194525.png)](https://mergebot.odoo.com/odoo/odoo/pull/194525)', 'created_at': datetime.datetime(2025, 1, 21, 12, 56, 52, tzinfo=datetime.timezone.utc)}, {'comment_id': 2604665662, 'issue_id': 2801778906, 'author': 'fw-bot', 'body': 'This PR targets 18.0 and is part of the forward-port chain. Further PRs will be created up to master.\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 21, 12, 56, 53, tzinfo=datetime.timezone.utc)}, {'comment_id': 2604879576, 'issue_id': 2801778906, 'author': 'fw-bot', 'body': '@amah-odoo @Bertrand2 the next pull request (odoo/odoo#194554) is in conflict. You can merge the chain up to here by saying\n> @robodoo r+\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 21, 14, 25, 4, tzinfo=datetime.timezone.utc)}, {'comment_id': 2604925448, 'issue_id': 2801778906, 'author': 'amah-odoo', 'body': '@robodoo r+', 'created_at': datetime.datetime(2025, 1, 21, 14, 42, 41, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-21 12:56:52 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/194525.png)](https://mergebot.odoo.com/odoo/odoo/pull/194525)

fw-bot (Issue Creator) on (2025-01-21 12:56:53 UTC): This PR targets 18.0 and is part of the forward-port chain. Further PRs will be created up to master.

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

fw-bot (Issue Creator) on (2025-01-21 14:25:04 UTC): @amah-odoo @Bertrand2 the next pull request (odoo/odoo#194554) is in conflict. You can merge the chain up to here by saying

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

amah-odoo on (2025-01-21 14:42:41 UTC): @robodoo r+

"
2801778057,pull_request,closed,,[FW][FIX] account_peppol: remove peppol registration migration button,"Peppol migration creates more issues than it solves. A lot of users issue migration requests to move to another SMP but later discover that the SMP they wanted to migrate to does not support migration keys. This creates a state that we need to handle manually. Most SMP do not support migrating away and force users to deregister and reregister again on another one.

This commit adds a fix in stable for that issue by removing the button from the res_config_settings_buttons and adding a deprecated warning when the user tries to call the `button_migrate_peppol_registration` method.

task-4394408

Forward-Port-Of: odoo/odoo#194171
Forward-Port-Of: odoo/odoo#193794",fw-bot,2025-01-21 12:56:32+00:00,[],2025-02-06 11:46:51+00:00,2025-01-23 11:40:45+00:00,https://github.com/odoo/odoo/pull/194524,"[('RD', 'research & development, internal work'), ('forwardport', 'This PR was created by @fw-bot'), ('conflict', 'There was an error while creating this forward-port PR')]","[{'comment_id': 2604664539, 'issue_id': 2801778057, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/194524.png)](https://mergebot.odoo.com/odoo/odoo/pull/194524)', 'created_at': datetime.datetime(2025, 1, 21, 12, 56, 33, tzinfo=datetime.timezone.utc)}, {'comment_id': 2604664570, 'issue_id': 2801778057, 'author': 'fw-bot', 'body': '@antonrom1 @clbr-odoo cherrypicking of pull request odoo/odoo#193794 failed.\n\nstdout:\n```\nAuto-merging addons/account_peppol/i18n/account_peppol.pot\nCONFLICT (content): Merge conflict in addons/account_peppol/i18n/account_peppol.pot\nAuto-merging addons/account_peppol/models/res_config_settings.py\nCONFLICT (content): Merge conflict in addons/account_peppol/models/res_config_settings.py\nAuto-merging addons/account_peppol/static/src/components/res_config_settings_buttons/res_config_settings_buttons.js\nAuto-merging addons/account_peppol/static/src/components/res_config_settings_buttons/res_config_settings_buttons.xml\nAuto-merging addons/account_peppol/tests/test_peppol_participant.py\n\n```\n\nEither perform the forward-port manually (and push to this branch, proceeding as usual) or close this PR (maybe?).\n\nIn the former case, you may want to edit this PR message as well.\n\n:warning: after resolving this conflict, you will need to merge it via @robodoo.\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 21, 12, 56, 34, tzinfo=datetime.timezone.utc)}, {'comment_id': 2606119093, 'issue_id': 2801778057, 'author': 'fw-bot', 'body': '@antonrom1 @clbr-odoo this forward port of odoo/odoo#193794 is awaiting action (not merged or closed).', 'created_at': datetime.datetime(2025, 1, 22, 2, 1, 24, tzinfo=datetime.timezone.utc)}, {'comment_id': 2608689032, 'issue_id': 2801778057, 'author': 'fw-bot', 'body': '@antonrom1 @clbr-odoo this forward port of odoo/odoo#193794 is awaiting action (not merged or closed).', 'created_at': datetime.datetime(2025, 1, 23, 2, 1, 5, tzinfo=datetime.timezone.utc)}, {'comment_id': 2609123350, 'issue_id': 2801778057, 'author': 'clbr-odoo', 'body': '@robodoo r+', 'created_at': datetime.datetime(2025, 1, 23, 8, 14, 54, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-21 12:56:33 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/194524.png)](https://mergebot.odoo.com/odoo/odoo/pull/194524)

fw-bot (Issue Creator) on (2025-01-21 12:56:34 UTC): @antonrom1 @clbr-odoo cherrypicking of pull request odoo/odoo#193794 failed.

stdout:
```
Auto-merging addons/account_peppol/i18n/account_peppol.pot
CONFLICT (content): Merge conflict in addons/account_peppol/i18n/account_peppol.pot
Auto-merging addons/account_peppol/models/res_config_settings.py
CONFLICT (content): Merge conflict in addons/account_peppol/models/res_config_settings.py
Auto-merging addons/account_peppol/static/src/components/res_config_settings_buttons/res_config_settings_buttons.js
Auto-merging addons/account_peppol/static/src/components/res_config_settings_buttons/res_config_settings_buttons.xml
Auto-merging addons/account_peppol/tests/test_peppol_participant.py

```

Either perform the forward-port manually (and push to this branch, proceeding as usual) or close this PR (maybe?).

In the former case, you may want to edit this PR message as well.

:warning: after resolving this conflict, you will need to merge it via @robodoo.

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

fw-bot (Issue Creator) on (2025-01-22 02:01:24 UTC): @antonrom1 @clbr-odoo this forward port of odoo/odoo#193794 is awaiting action (not merged or closed).

fw-bot (Issue Creator) on (2025-01-23 02:01:05 UTC): @antonrom1 @clbr-odoo this forward port of odoo/odoo#193794 is awaiting action (not merged or closed).

clbr-odoo on (2025-01-23 08:14:54 UTC): @robodoo r+

"
2801777094,pull_request,closed,,[FW][FIX] hr_holidays: fix form view actions wizard,"Steps to reproduce:
---

Go in the Time Off app
Click on an allocation or a leave
Click on the action gear

Issue:
---
The gear action shows 2 times the ""Multiple Requests"", this comes from the fact that the wizard is in the xml and defined in the action_generate_allocations. So it is displayed twice in the form.

Fix:
---
Since the issue is only appearing in the form view, added the condition
on viewType.

---
I confirm I have signed the CLA and read the PR guidelines at www.odoo.com/submit-pr

Forward-Port-Of: odoo/odoo#188182",fw-bot,2025-01-21 12:56:13+00:00,[],2025-02-04 18:09:32+00:00,2025-01-21 18:05:09+00:00,https://github.com/odoo/odoo/pull/194523,"[('OE', 'the report is linked to a support ticket (opw-...)'), ('forwardport', 'This PR was created by @fw-bot')]","[{'comment_id': 2604663871, 'issue_id': 2801777094, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/194523.png)](https://mergebot.odoo.com/odoo/odoo/pull/194523)', 'created_at': datetime.datetime(2025, 1, 21, 12, 56, 19, tzinfo=datetime.timezone.utc)}, {'comment_id': 2604663915, 'issue_id': 2801777094, 'author': 'fw-bot', 'body': 'This PR targets 18.0 and is part of the forward-port chain. Further PRs will be created up to master.\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 21, 12, 56, 19, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-21 12:56:19 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/194523.png)](https://mergebot.odoo.com/odoo/odoo/pull/194523)

fw-bot (Issue Creator) on (2025-01-21 12:56:19 UTC): This PR targets 18.0 and is part of the forward-port chain. Further PRs will be created up to master.

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

"
2801776391,pull_request,closed,,[FW][FIX] hr_holidays: allow search on name,"Steps to reproduce:

 - Go in time off app -> overview
 - Search on name

Issue:

When searching on name, the search does not work. This is due to the
name being computed and not stored. Directly related to the [recent
changes](https://github.com/odoo/odoo/commit/7a65a1b6ac34f214)

Fix

The field has now a search method on the different component of the name
separetly.

opw-4351362

---
I confirm I have signed the CLA and read the PR guidelines at www.odoo.com/submit-pr

Forward-Port-Of: odoo/odoo#188433",fw-bot,2025-01-21 12:55:53+00:00,[],2025-02-06 01:30:20+00:00,2025-01-23 01:29:00+00:00,https://github.com/odoo/odoo/pull/194522,"[('OE', 'the report is linked to a support ticket (opw-...)'), ('forwardport', 'This PR was created by @fw-bot')]","[{'comment_id': 2604663672, 'issue_id': 2801776391, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/194522.png)](https://mergebot.odoo.com/odoo/odoo/pull/194522)', 'created_at': datetime.datetime(2025, 1, 21, 12, 56, 17, tzinfo=datetime.timezone.utc)}, {'comment_id': 2604663755, 'issue_id': 2801776391, 'author': 'fw-bot', 'body': 'This PR targets 18.0 and is part of the forward-port chain. Further PRs will be created up to master.\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 21, 12, 56, 18, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-21 12:56:17 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/194522.png)](https://mergebot.odoo.com/odoo/odoo/pull/194522)

fw-bot (Issue Creator) on (2025-01-21 12:56:18 UTC): This PR targets 18.0 and is part of the forward-port chain. Further PRs will be created up to master.

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

"
2801751854,pull_request,closed,,[FW][IMP] core: disable downloading during tours,"It's not *entirely* clear which and when, but some tours apparently trigger downloads, which by default will make a mess of the user's Downloads folder when running tests locally.

This has mostly been observed in 18.0 / master with Studio exports but there are a few others as well (e.g. a few reports). Either way, seems like a good idea to just configure chrome to block them.

Forward-Port-Of: odoo/odoo#194393",fw-bot,2025-01-21 12:46:17+00:00,[],2025-02-04 20:40:46+00:00,2025-01-21 20:37:13+00:00,https://github.com/odoo/odoo/pull/194521,"[('RD', 'research & development, internal work'), ('forwardport', 'This PR was created by @fw-bot'), ('18.2', None)]","[{'comment_id': 2604640344, 'issue_id': 2801751854, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/194521.png)](https://mergebot.odoo.com/odoo/odoo/pull/194521)', 'created_at': datetime.datetime(2025, 1, 21, 12, 46, 18, tzinfo=datetime.timezone.utc)}, {'comment_id': 2604640364, 'issue_id': 2801751854, 'author': 'fw-bot', 'body': '@xmo-odoo this PR targets master and is the last of the forward-port chain containing:\n* odoo/odoo#194503\n* odoo/odoo#194486\n* odoo/odoo#194473\n* odoo/odoo#194468\n* odoo/odoo#194417\n\nTo merge the full chain, use\n> @robodoo r+\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 21, 12, 46, 19, tzinfo=datetime.timezone.utc)}, {'comment_id': 2604729889, 'issue_id': 2801751854, 'author': 'xmo-odoo', 'body': '@robodoo r+', 'created_at': datetime.datetime(2025, 1, 21, 13, 24, 53, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-21 12:46:18 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/194521.png)](https://mergebot.odoo.com/odoo/odoo/pull/194521)

fw-bot (Issue Creator) on (2025-01-21 12:46:19 UTC): @xmo-odoo this PR targets master and is the last of the forward-port chain containing:
* odoo/odoo#194503
* odoo/odoo#194486
* odoo/odoo#194473
* odoo/odoo#194468
* odoo/odoo#194417

To merge the full chain, use

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

xmo-odoo on (2025-01-21 13:24:53 UTC): @robodoo r+

"
2801739271,pull_request,closed,,[FW][FIX] base_automation: hide domain for on_change's,"Before this commit, the base.automation form view displays the filter_domain field when on_change trigger type is selected but the code does not take into account the filter_domain value for this type of trigger.

After this commit, this field is simply hidden in that case.

Task: opw-4492554

Forward-Port-Of: odoo/odoo#194424
Forward-Port-Of: odoo/odoo#194158",fw-bot,2025-01-21 12:40:35+00:00,[],2025-02-04 18:09:35+00:00,2025-01-21 18:05:10+00:00,https://github.com/odoo/odoo/pull/194520,"[('OE', 'the report is linked to a support ticket (opw-...)'), ('forwardport', 'This PR was created by @fw-bot'), ('conflict', 'There was an error while creating this forward-port PR')]","[{'comment_id': 2604628117, 'issue_id': 2801739271, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/194520.png)](https://mergebot.odoo.com/odoo/odoo/pull/194520)', 'created_at': datetime.datetime(2025, 1, 21, 12, 40, 36, tzinfo=datetime.timezone.utc)}, {'comment_id': 2604628203, 'issue_id': 2801739271, 'author': 'fw-bot', 'body': '@brboi @ryv-odoo cherrypicking of pull request odoo/odoo#194158 failed.\n\nstdout:\n```\nAuto-merging addons/base_automation/views/base_automation_views.xml\nCONFLICT (content): Merge conflict in addons/base_automation/views/base_automation_views.xml\n\n```\n\nEither perform the forward-port manually (and push to this branch, proceeding as usual) or close this PR (maybe?).\n\nIn the former case, you may want to edit this PR message as well.\n\n:warning: after resolving this conflict, you will need to merge it via @robodoo.\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 21, 12, 40, 38, tzinfo=datetime.timezone.utc)}, {'comment_id': 2604891865, 'issue_id': 2801739271, 'author': 'brboi', 'body': ""@robodoo r+\r\n\r\n@fw-bot up to saas-18.1\r\n\r\n(reason: in master we will make the filter_domain work for on_change's actions)"", 'created_at': datetime.datetime(2025, 1, 21, 14, 29, 55, tzinfo=datetime.timezone.utc)}, {'comment_id': 2604974027, 'issue_id': 2801739271, 'author': 'robodoo', 'body': ""@brboi @ryv-odoo 'ci/runbot' failed on this reviewed PR."", 'created_at': datetime.datetime(2025, 1, 21, 15, 1, 22, tzinfo=datetime.timezone.utc)}, {'comment_id': 2604983593, 'issue_id': 2801739271, 'author': 'brboi', 'body': '@robodoo r+', 'created_at': datetime.datetime(2025, 1, 21, 15, 5, 5, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-21 12:40:36 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/194520.png)](https://mergebot.odoo.com/odoo/odoo/pull/194520)

fw-bot (Issue Creator) on (2025-01-21 12:40:38 UTC): @brboi @ryv-odoo cherrypicking of pull request odoo/odoo#194158 failed.

stdout:
```
Auto-merging addons/base_automation/views/base_automation_views.xml
CONFLICT (content): Merge conflict in addons/base_automation/views/base_automation_views.xml

```

Either perform the forward-port manually (and push to this branch, proceeding as usual) or close this PR (maybe?).

In the former case, you may want to edit this PR message as well.

:warning: after resolving this conflict, you will need to merge it via @robodoo.

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

brboi on (2025-01-21 14:29:55 UTC): @robodoo r+

@fw-bot up to saas-18.1

(reason: in master we will make the filter_domain work for on_change's actions)

robodoo on (2025-01-21 15:01:22 UTC): @brboi @ryv-odoo 'ci/runbot' failed on this reviewed PR.

brboi on (2025-01-21 15:05:05 UTC): @robodoo r+

"
2801724844,pull_request,closed,,[FIX] sale: prevent error when clicking on Sales Orders in kanban view,"When a user clicks on the view Sales Orders button in Kanban view of customers,
a traceback will appear.

Steps to reproduce the error:
- Go to Sales > Orders > Customers >
- In kanban view, Click on ``Sales Orders ($ button)``

Traceback:
```
AttributeError:
The method 'action_view_sale_order' does not exist on the model 'res.partner'
```

``action_view_sale_order`` is removed in this commit: 81c9fc1fb5b67781ff22062d4cc776f90bbfbb0e but it is still used here, https://github.com/odoo/odoo/blob/4c0487008aac63937e10883a62dfdf15abca3c42/addons/sale/views/res_partner_views.xml#L30

sentry-6232318595

---
I confirm I have signed the CLA and read the PR guidelines at www.odoo.com/submit-pr
",reka-odoo,2025-01-21 12:34:05+00:00,[],2025-02-06 06:57:52+00:00,2025-01-23 06:08:04+00:00,https://github.com/odoo/odoo/pull/194519,"[('RD', 'research & development, internal work')]","[{'comment_id': 2604614443, 'issue_id': 2801724844, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/194519.png)](https://mergebot.odoo.com/odoo/odoo/pull/194519)', 'created_at': datetime.datetime(2025, 1, 21, 12, 34, 8, tzinfo=datetime.timezone.utc)}, {'comment_id': 2604713579, 'issue_id': 2801724844, 'author': 'reka-odoo', 'body': 'Hello @odoo/sentry_reviewers :wave: \r\nPlease review this PR. :slightly_smiling_face: \r\nThanks!', 'created_at': datetime.datetime(2025, 1, 21, 13, 18, 18, tzinfo=datetime.timezone.utc)}, {'comment_id': 2606570011, 'issue_id': 2801724844, 'author': 'adwid', 'body': 'robodoo delegate+', 'created_at': datetime.datetime(2025, 1, 22, 8, 21, 3, tzinfo=datetime.timezone.utc)}, {'comment_id': 2606602640, 'issue_id': 2801724844, 'author': 'reka-odoo', 'body': '@robodoo r+', 'created_at': datetime.datetime(2025, 1, 22, 8, 37, 57, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-21 12:34:08 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/194519.png)](https://mergebot.odoo.com/odoo/odoo/pull/194519)

reka-odoo (Issue Creator) on (2025-01-21 13:18:18 UTC): Hello @odoo/sentry_reviewers :wave: 
Please review this PR. :slightly_smiling_face: 
Thanks!

adwid on (2025-01-22 08:21:03 UTC): robodoo delegate+

reka-odoo (Issue Creator) on (2025-01-22 08:37:57 UTC): @robodoo r+

"
2801716730,pull_request,closed,,"[FIX] pos_{sale,repair}: update quotation delivered qty","When settling a quotation (unconfirmed sale order) from the POS, the
delivered quantity was not updated in the quotation.

Steps to reproduce:
-------------------
* Make a sale order but don't confirm it
* Go to the POS and settle the quotation
> Observation: The delivered quantity is not updated in the quotation

Why the fix:
------------
We move all the logic related to the repair module in a dedicated
pos_repair module. This way, we can keep the pos_sale module clean.

opw-4479862",robinengels,2025-01-21 12:30:41+00:00,[],2025-01-30 18:15:55+00:00,2025-01-30 18:15:55+00:00,https://github.com/odoo/odoo/pull/194518,"[('OE', 'the report is linked to a support ticket (opw-...)'), ('18.2', None)]","[{'comment_id': 2604606369, 'issue_id': 2801716730, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/194518.png)](https://mergebot.odoo.com/odoo/odoo/pull/194518)', 'created_at': datetime.datetime(2025, 1, 21, 12, 30, 44, tzinfo=datetime.timezone.utc)}, {'comment_id': 2604630701, 'issue_id': 2801716730, 'author': 'robinengels', 'body': 'This commit is moving the logic from those 2 PR : https://github.com/odoo/odoo/pull/192753 https://github.com/odoo/odoo/pull/186812 in a dedicated pos_repair module that makes more sense', 'created_at': datetime.datetime(2025, 1, 21, 12, 41, 47, tzinfo=datetime.timezone.utc)}, {'comment_id': 2604749210, 'issue_id': 2801716730, 'author': 'robinengels', 'body': '@clesgow Maybe you want to have a look at this ?', 'created_at': datetime.datetime(2025, 1, 21, 13, 32, 30, tzinfo=datetime.timezone.utc)}, {'comment_id': 2618886719, 'issue_id': 2801716730, 'author': 'caburj', 'body': 'robodoo r+', 'created_at': datetime.datetime(2025, 1, 28, 12, 37, 15, tzinfo=datetime.timezone.utc)}, {'comment_id': 2620270543, 'issue_id': 2801716730, 'author': 'robodoo', 'body': '@robinengels @caburj unable to stage: merge conflict', 'created_at': datetime.datetime(2025, 1, 28, 23, 34, tzinfo=datetime.timezone.utc)}, {'comment_id': 2624737142, 'issue_id': 2801716730, 'author': 'caburj', 'body': 'robodoo r+', 'created_at': datetime.datetime(2025, 1, 30, 15, 1, 13, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-21 12:30:44 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/194518.png)](https://mergebot.odoo.com/odoo/odoo/pull/194518)

robinengels (Issue Creator) on (2025-01-21 12:41:47 UTC): This commit is moving the logic from those 2 PR : https://github.com/odoo/odoo/pull/192753 https://github.com/odoo/odoo/pull/186812 in a dedicated pos_repair module that makes more sense

robinengels (Issue Creator) on (2025-01-21 13:32:30 UTC): @clesgow Maybe you want to have a look at this ?

caburj on (2025-01-28 12:37:15 UTC): robodoo r+

robodoo on (2025-01-28 23:34:00 UTC): @robinengels @caburj unable to stage: merge conflict

caburj on (2025-01-30 15:01:13 UTC): robodoo r+

"
2801714264,pull_request,closed,,[FW][PERF] pos_self_order: prevent loading product images in load,"Before this commit, product images were unnecessarily loaded along with the POS data. This was redundant since the images are loaded separately. Additionally, loading the images caused excessive memory usage, leading to memory errors in certain scenarios.

opw-4494712

---
I confirm I have signed the CLA and read the PR guidelines at www.odoo.com/submit-pr

Forward-Port-Of: odoo/odoo#194409",fw-bot,2025-01-21 12:29:34+00:00,[],2025-02-06 16:31:06+00:00,2025-01-23 16:28:07+00:00,https://github.com/odoo/odoo/pull/194517,"[('OE', 'the report is linked to a support ticket (opw-...)'), ('forwardport', 'This PR was created by @fw-bot'), ('conflict', 'There was an error while creating this forward-port PR')]","[{'comment_id': 2604603833, 'issue_id': 2801714264, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/194517.png)](https://mergebot.odoo.com/odoo/odoo/pull/194517)', 'created_at': datetime.datetime(2025, 1, 21, 12, 29, 35, tzinfo=datetime.timezone.utc)}, {'comment_id': 2604603857, 'issue_id': 2801714264, 'author': 'fw-bot', 'body': '@pedrambiria @davidmonnom cherrypicking of pull request odoo/odoo#194409 failed.\n\nstdout:\n```\nAuto-merging addons/pos_self_order/models/product_product.py\nCONFLICT (content): Merge conflict in addons/pos_self_order/models/product_product.py\n\n```\n\nEither perform the forward-port manually (and push to this branch, proceeding as usual) or close this PR (maybe?).\n\nIn the former case, you may want to edit this PR message as well.\n\n:warning: after resolving this conflict, you will need to merge it via @robodoo.\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 21, 12, 29, 36, tzinfo=datetime.timezone.utc)}, {'comment_id': 2609657996, 'issue_id': 2801714264, 'author': 'pedrambiria', 'body': '@robodoo r+', 'created_at': datetime.datetime(2025, 1, 23, 12, 14, 13, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-21 12:29:35 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/194517.png)](https://mergebot.odoo.com/odoo/odoo/pull/194517)

fw-bot (Issue Creator) on (2025-01-21 12:29:36 UTC): @pedrambiria @davidmonnom cherrypicking of pull request odoo/odoo#194409 failed.

stdout:
```
Auto-merging addons/pos_self_order/models/product_product.py
CONFLICT (content): Merge conflict in addons/pos_self_order/models/product_product.py

```

Either perform the forward-port manually (and push to this branch, proceeding as usual) or close this PR (maybe?).

In the former case, you may want to edit this PR message as well.

:warning: after resolving this conflict, you will need to merge it via @robodoo.

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

pedrambiria on (2025-01-23 12:14:13 UTC): @robodoo r+

"
2801713559,pull_request,closed,,[FW][FIX] account: missing placeholder for move name,"The placeholder was empty in some places, leading to an annoying behavior because it isn't even possible anymore to open the related journal entry.

The fix is done directly in the widget `open_move_widget` to avoid modifying the definition of the related field and having to change it into a computed field. Also, it wouldn't make sense to store the placeholder on the journal item but not on the journal entry.

Forward-Port-Of: odoo/odoo#194433",fw-bot,2025-01-21 12:29:15+00:00,[],2025-02-04 18:22:00+00:00,2025-01-21 18:16:22+00:00,https://github.com/odoo/odoo/pull/194516,"[('RD', 'research & development, internal work'), ('forwardport', 'This PR was created by @fw-bot')]","[{'comment_id': 2604603101, 'issue_id': 2801713559, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/194516.png)](https://mergebot.odoo.com/odoo/odoo/pull/194516)', 'created_at': datetime.datetime(2025, 1, 21, 12, 29, 16, tzinfo=datetime.timezone.utc)}, {'comment_id': 2604603121, 'issue_id': 2801713559, 'author': 'fw-bot', 'body': 'This PR targets saas-18.1 and is part of the forward-port chain. Further PRs will be created up to master.\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 21, 12, 29, 17, tzinfo=datetime.timezone.utc)}, {'comment_id': 2604653984, 'issue_id': 2801713559, 'author': 'fw-bot', 'body': '@william-andre @RicGR98 ci/runbot failed on this forward-port PR', 'created_at': datetime.datetime(2025, 1, 21, 12, 52, 44, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-21 12:29:16 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/194516.png)](https://mergebot.odoo.com/odoo/odoo/pull/194516)

fw-bot (Issue Creator) on (2025-01-21 12:29:17 UTC): This PR targets saas-18.1 and is part of the forward-port chain. Further PRs will be created up to master.

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

fw-bot (Issue Creator) on (2025-01-21 12:52:44 UTC): @william-andre @RicGR98 ci/runbot failed on this forward-port PR

"
2801659590,pull_request,closed,,[IMP] web_editor: add opacity to checked checklist items,"**Current behavior before PR:**

- Checked checklist items were marked only with a strikethrough to differentiate them from unchecked items.
- When a font size was applied to the entire checklist, the size of the checked icon would also be affected by
  the font size of the checklist.

**Desired behavior after PR is merged:**

- In addition to the strikethrough, opacity is now applied to checked checklist items for better visual differentiation.
- The checked icon size remains consistent and is no longer affected by the font size of the checklist.

task:4477250
",dhba-odoo,2025-01-21 12:08:46+00:00,[],2025-02-04 11:59:04+00:00,2025-02-04 11:59:04+00:00,https://github.com/odoo/odoo/pull/194515,"[('RD', 'research & development, internal work'), ('18.2', None)]","[{'comment_id': 2604551680, 'issue_id': 2801659590, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/194515.png)](https://mergebot.odoo.com/odoo/odoo/pull/194515)', 'created_at': datetime.datetime(2025, 1, 21, 12, 8, 48, tzinfo=datetime.timezone.utc)}, {'comment_id': 2630834619, 'issue_id': 2801659590, 'author': 'dmo-odoo', 'body': '@dhba-odoo I wanted to r+ this one but it looks to be red on runbot.', 'created_at': datetime.datetime(2025, 2, 3, 12, 38, 51, tzinfo=datetime.timezone.utc)}, {'comment_id': 2632938041, 'issue_id': 2801659590, 'author': 'dhba-odoo', 'body': '> @dhba-odoo I wanted to r+ this one but it looks to be red on runbot.\r\n\r\n@dmo-odoo runbot is now green.', 'created_at': datetime.datetime(2025, 2, 4, 5, 50, 31, tzinfo=datetime.timezone.utc)}, {'comment_id': 2633065926, 'issue_id': 2801659590, 'author': 'dmo-odoo', 'body': '@dhba-odoo Thanks!\r\n@robodoo r+', 'created_at': datetime.datetime(2025, 2, 4, 7, 16, 18, tzinfo=datetime.timezone.utc)}, {'comment_id': 2633065988, 'issue_id': 2801659590, 'author': 'robodoo', 'body': '@dhba-odoo @dmo-odoo because this PR has multiple commits, I need to know how to merge it:\n\n* `merge` to merge directly, using the PR as merge commit message\n* `rebase-merge` to rebase and merge, using the PR as merge commit message\n* `rebase-ff` to rebase and fast-forward', 'created_at': datetime.datetime(2025, 2, 4, 7, 16, 20, tzinfo=datetime.timezone.utc)}, {'comment_id': 2633067086, 'issue_id': 2801659590, 'author': 'dmo-odoo', 'body': '@robodoo rebase-ff', 'created_at': datetime.datetime(2025, 2, 4, 7, 17, 4, tzinfo=datetime.timezone.utc)}, {'comment_id': 2633067140, 'issue_id': 2801659590, 'author': 'robodoo', 'body': 'Merge method set to rebase and fast-forward.', 'created_at': datetime.datetime(2025, 2, 4, 7, 17, 6, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-21 12:08:48 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/194515.png)](https://mergebot.odoo.com/odoo/odoo/pull/194515)

dmo-odoo on (2025-02-03 12:38:51 UTC): @dhba-odoo I wanted to r+ this one but it looks to be red on runbot.

dhba-odoo (Issue Creator) on (2025-02-04 05:50:31 UTC): @dmo-odoo runbot is now green.

dmo-odoo on (2025-02-04 07:16:18 UTC): @dhba-odoo Thanks!
@robodoo r+

robodoo on (2025-02-04 07:16:20 UTC): @dhba-odoo @dmo-odoo because this PR has multiple commits, I need to know how to merge it:

* `merge` to merge directly, using the PR as merge commit message
* `rebase-merge` to rebase and merge, using the PR as merge commit message
* `rebase-ff` to rebase and fast-forward

dmo-odoo on (2025-02-04 07:17:04 UTC): @robodoo rebase-ff

robodoo on (2025-02-04 07:17:06 UTC): Merge method set to rebase and fast-forward.

"
2801656031,pull_request,closed,,"[IMP] mail: insert emoji using "":""","[A previous PR](https://github.com/odoo/odoo/pull/192953) moved the canned response delimiter to ""::"".

This PR introduces emoji suggestions on "":"".

2 extra char after `:` is necessary to trigger the suggestion, so
that this doesn't conflict with "":"" when used for punctuation,
or also the few emoji substitutions like "":p"".

<img width=""718"" alt=""Screenshot 2025-01-22 at 16 21 44"" src=""https://github.com/user-attachments/assets/9b0646c7-bf27-4563-aee0-d0d44686074c"" />
",phenix-factory,2025-01-21 12:07:06+00:00,[],2025-01-26 00:03:53+00:00,2025-01-25 23:29:18+00:00,https://github.com/odoo/odoo/pull/194514,"[('RD', 'research & development, internal work')]","[{'comment_id': 2604548028, 'issue_id': 2801656031, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/194514.png)](https://mergebot.odoo.com/odoo/odoo/pull/194514)', 'created_at': datetime.datetime(2025, 1, 21, 12, 7, 9, tzinfo=datetime.timezone.utc)}, {'comment_id': 2607602598, 'issue_id': 2801656031, 'author': 'alexkuhn', 'body': '@robodoo r-', 'created_at': datetime.datetime(2025, 1, 22, 15, 47, 48, tzinfo=datetime.timezone.utc)}, {'comment_id': 2607603957, 'issue_id': 2801656031, 'author': 'alexkuhn', 'body': 'Some emoji substitution like `:p` become annoying to use, should require at least 2 chars', 'created_at': datetime.datetime(2025, 1, 22, 15, 48, 19, tzinfo=datetime.timezone.utc)}, {'comment_id': 2607672774, 'issue_id': 2801656031, 'author': 'alexkuhn', 'body': '@robodoo r+', 'created_at': datetime.datetime(2025, 1, 22, 16, 15, 8, tzinfo=datetime.timezone.utc)}, {'comment_id': 2607783659, 'issue_id': 2801656031, 'author': 'robodoo', 'body': ""@phenix-factory @alexkuhn 'ci/runbot' failed on this reviewed PR."", 'created_at': datetime.datetime(2025, 1, 22, 17, 0, 43, tzinfo=datetime.timezone.utc)}, {'comment_id': 2614042066, 'issue_id': 2801656031, 'author': 'alexkuhn', 'body': '@robodoo r+', 'created_at': datetime.datetime(2025, 1, 25, 17, 38, 15, tzinfo=datetime.timezone.utc)}, {'comment_id': 2614053958, 'issue_id': 2801656031, 'author': 'robodoo', 'body': ""@phenix-factory @alexkuhn 'ci/runbot' failed on this reviewed PR."", 'created_at': datetime.datetime(2025, 1, 25, 18, 17, 1, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-21 12:07:09 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/194514.png)](https://mergebot.odoo.com/odoo/odoo/pull/194514)

alexkuhn on (2025-01-22 15:47:48 UTC): @robodoo r-

alexkuhn on (2025-01-22 15:48:19 UTC): Some emoji substitution like `:p` become annoying to use, should require at least 2 chars

alexkuhn on (2025-01-22 16:15:08 UTC): @robodoo r+

robodoo on (2025-01-22 17:00:43 UTC): @phenix-factory @alexkuhn 'ci/runbot' failed on this reviewed PR.

alexkuhn on (2025-01-25 17:38:15 UTC): @robodoo r+

robodoo on (2025-01-25 18:17:01 UTC): @phenix-factory @alexkuhn 'ci/runbot' failed on this reviewed PR.

"
2801643249,pull_request,closed,,[FIX] account_edi_ubl_cii: Make Peppol Adress always visible,"OIOUBL (which is not a Peppol format) uses the fields from peppol. 
So it should be visible to be edited too.

Even more, we will make it always visible, as the Peppol may be proposed more, 
and so, the fields should be more easily modifiable.



---
I confirm I have signed the CLA and read the PR guidelines at www.odoo.com/submit-pr
",gawa-odoo,2025-01-21 12:02:36+00:00,[],2025-02-04 15:53:56+00:00,2025-01-21 15:35:38+00:00,https://github.com/odoo/odoo/pull/194513,"[('RD', 'research & development, internal work')]","[{'comment_id': 2604538113, 'issue_id': 2801643249, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/194513.png)](https://mergebot.odoo.com/odoo/odoo/pull/194513)', 'created_at': datetime.datetime(2025, 1, 21, 12, 2, 39, tzinfo=datetime.timezone.utc)}, {'comment_id': 2604591192, 'issue_id': 2801643249, 'author': 'robodoo', 'body': '@clbr-odoo you may want to rebuild or fix this PR as it has failed CI.', 'created_at': datetime.datetime(2025, 1, 21, 12, 23, 58, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-21 12:02:39 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/194513.png)](https://mergebot.odoo.com/odoo/odoo/pull/194513)

robodoo on (2025-01-21 12:23:58 UTC): @clbr-odoo you may want to rebuild or fix this PR as it has failed CI.

"
2801641655,pull_request,closed,,[FIX] pos_self_order: fix wrong data in test,"Before the test `test_preset_eat_in_tour` was using the table 103 which is created in demo data. This table is not created in the test data so the test was failing when trying with no demo.

Now the test use the table 1 which is created in the test data.

Runbot error: 112371
",davidmonnom,2025-01-21 12:02:09+00:00,[],2025-02-04 18:22:01+00:00,2025-01-21 18:16:26+00:00,https://github.com/odoo/odoo/pull/194512,"[('RD', 'research & development, internal work')]","[{'comment_id': 2604537106, 'issue_id': 2801641655, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/194512.png)](https://mergebot.odoo.com/odoo/odoo/pull/194512)', 'created_at': datetime.datetime(2025, 1, 21, 12, 2, 12, tzinfo=datetime.timezone.utc)}, {'comment_id': 2604764350, 'issue_id': 2801641655, 'author': 'Williambraecky', 'body': '@robodoo r+', 'created_at': datetime.datetime(2025, 1, 21, 13, 38, 45, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-21 12:02:12 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/194512.png)](https://mergebot.odoo.com/odoo/odoo/pull/194512)

Williambraecky on (2025-01-21 13:38:45 UTC): @robodoo r+

"
2801640024,pull_request,closed,,[FW][FIX] spreadsheet_account: 'See Records' icon in context menu,"# Description

The 'See Records' icon was missing when attempting to open `AccountMoveLines` records from the context menu in the spreadsheet.

Task: 0

---
I confirm I have signed the CLA and read the PR guidelines at www.odoo.com/submit-pr

Forward-Port-Of: odoo/odoo#194464",fw-bot,2025-01-21 12:01:23+00:00,[],2025-02-04 20:40:43+00:00,2025-01-21 19:58:50+00:00,https://github.com/odoo/odoo/pull/194511,"[('RD', 'research & development, internal work'), ('forwardport', 'This PR was created by @fw-bot')]","[{'comment_id': 2604535355, 'issue_id': 2801640024, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/194511.png)](https://mergebot.odoo.com/odoo/odoo/pull/194511)', 'created_at': datetime.datetime(2025, 1, 21, 12, 1, 24, tzinfo=datetime.timezone.utc)}, {'comment_id': 2604535393, 'issue_id': 2801640024, 'author': 'fw-bot', 'body': 'This PR targets saas-17.2 and is part of the forward-port chain. Further PRs will be created up to master.\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 21, 12, 1, 25, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-21 12:01:24 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/194511.png)](https://mergebot.odoo.com/odoo/odoo/pull/194511)

fw-bot (Issue Creator) on (2025-01-21 12:01:25 UTC): This PR targets saas-17.2 and is part of the forward-port chain. Further PRs will be created up to master.

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

"
2801630427,pull_request,open,,[FIX] account: add credit in compute available payment methods,"Description of the issue/feature this PR addresses:
This PR addresses an issue where, in the credit card journal configuration form (for either Incoming Payments or Outgoing Payments), users are unable to add a new payment method.

Steps to reproduce the error:
1. Open the credit card journal configuration form.
2. In either Incoming Payments or Outgoing Payments, delete the default manual payment method.
3. Attempt to add either the deleted payment method or a new one.

Video: https://drive.google.com/file/d/1CnghnPyfn90xIv5TZiU8PVyMatX7rGt3/view

Current behavior before PR:
The list view of Incoming/Outgoing payments displays a 'no record' label, and users are unable to add either the deleted payment method or a new one.

Desired behavior after PR is merged:
The credit card journal configuration should display all available payment methods, similar to how the bank journal behaves, allowing users to add new payment methods.

I've created a related ticket here: https://www.odoo.com/es_ES/my/tasks/4501396

Thanks in advance! :) 

---
I confirm I have signed the CLA and read the PR guidelines at www.odoo.com/submit-pr
",cav-adhoc,2025-01-21 11:57:19+00:00,[],2025-01-21 12:03:58+00:00,,https://github.com/odoo/odoo/pull/194510,"[('Accounting', '')]","[{'comment_id': 2604526239, 'issue_id': 2801630427, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/194510.png)](https://mergebot.odoo.com/odoo/odoo/pull/194510)', 'created_at': datetime.datetime(2025, 1, 21, 11, 57, 22, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-21 11:57:22 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/194510.png)](https://mergebot.odoo.com/odoo/odoo/pull/194510)

"
2801628362,pull_request,closed,,[FW][FIX] web: disable date picker autocomplete,"before this commit, in date field browser is
showing previously selected values as autocomplete suggestions, which makes hard for end user to
select date from the date picker

after this commit, browser autocomplete is
disabled from date picker


---
I confirm I have signed the CLA and read the PR guidelines at www.odoo.com/submit-pr

Forward-Port-Of: odoo/odoo#132391
Forward-Port-Of: odoo/odoo#123606",fw-bot,2025-01-21 11:56:17+00:00,[],2025-01-27 12:41:27+00:00,2025-01-27 12:41:27+00:00,https://github.com/odoo/odoo/pull/194509,"[('RD', 'research & development, internal work'), ('forwardport', 'This PR was created by @fw-bot')]","[{'comment_id': 2604523952, 'issue_id': 2801628362, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/194509.png)](https://mergebot.odoo.com/odoo/odoo/pull/194509)', 'created_at': datetime.datetime(2025, 1, 21, 11, 56, 18, tzinfo=datetime.timezone.utc)}, {'comment_id': 2604523976, 'issue_id': 2801628362, 'author': 'fw-bot', 'body': 'This PR targets 17.0 and is part of the forward-port chain. Further PRs will be created up to master.\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 21, 11, 56, 19, tzinfo=datetime.timezone.utc)}, {'comment_id': 2604526181, 'issue_id': 2801628362, 'author': 'fw-bot', 'body': '@mehjabinfarsana @jum-odoo this PR was modified / updated and has become a normal PR. It must be merged directly.', 'created_at': datetime.datetime(2025, 1, 21, 11, 57, 20, tzinfo=datetime.timezone.utc)}, {'comment_id': 2615657794, 'issue_id': 2801628362, 'author': 'jum-odoo', 'body': '@robodoo ignore', 'created_at': datetime.datetime(2025, 1, 27, 12, 41, 14, tzinfo=datetime.timezone.utc)}, {'comment_id': 2615657913, 'issue_id': 2801628362, 'author': 'robodoo', 'body': ""'ignore' is deprecated, use 'fw=no' to disable forward porting."", 'created_at': datetime.datetime(2025, 1, 27, 12, 41, 16, tzinfo=datetime.timezone.utc)}, {'comment_id': 2615657975, 'issue_id': 2801628362, 'author': 'robodoo', 'body': ""Forward-porting to '17.0'."", 'created_at': datetime.datetime(2025, 1, 27, 12, 41, 18, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-21 11:56:18 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/194509.png)](https://mergebot.odoo.com/odoo/odoo/pull/194509)

fw-bot (Issue Creator) on (2025-01-21 11:56:19 UTC): This PR targets 17.0 and is part of the forward-port chain. Further PRs will be created up to master.

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

fw-bot (Issue Creator) on (2025-01-21 11:57:20 UTC): @mehjabinfarsana @jum-odoo this PR was modified / updated and has become a normal PR. It must be merged directly.

jum-odoo on (2025-01-27 12:41:14 UTC): @robodoo ignore

robodoo on (2025-01-27 12:41:16 UTC): 'ignore' is deprecated, use 'fw=no' to disable forward porting.

robodoo on (2025-01-27 12:41:18 UTC): Forward-porting to '17.0'.

"
2801623020,pull_request,open,,[REF] KAWA BUNGAA,"Description of the issue/feature this PR addresses:

Current behavior before PR:

Desired behavior after PR is merged:




---
I confirm I have signed the CLA and read the PR guidelines at www.odoo.com/submit-pr
",pipu-odoo,2025-01-21 11:54:27+00:00,[],2025-02-07 13:24:59+00:00,,https://github.com/odoo/odoo/pull/194508,"[('RD', 'research & development, internal work')]","[{'comment_id': 2604519944, 'issue_id': 2801623020, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/194508.png)](https://mergebot.odoo.com/odoo/odoo/pull/194508)', 'created_at': datetime.datetime(2025, 1, 21, 11, 54, 30, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-21 11:54:30 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/194508.png)](https://mergebot.odoo.com/odoo/odoo/pull/194508)

"
2801613684,pull_request,open,,[FW][IMP] mail: log the redacted to headers,"Debugging outgoing emails is fastidious. Only the mail record id and Message-Id are logged, but most of the time the mail record is removed once the mail is sent, making it impossible to find back who the recipients were.

In this work we also log the (redacted) From and To headers. We decided to redact the headers out of excessive caution regarding the GDPR.

The new `email_anonymize` function must balance disambiguation and redaction. Disambiguation so it is easy to tell two different email addresses appart (for debugging). Redaction so it hard to find the original email address back (for privacy). It must also be simple.

We conducted several experiments using a dataset of 600ish email address (95% of which have a local part that is at least 6 characters long) to determine a nice function. The final function keep the first character for shorter inputs (length of local part < 6) and the first plus two lasts chars for longer inputs (>=6). Using that function we achieve a 99% disambiguation of emails in the dataset (with or without redacting the domain) while retaining minimal info (3 chars at most).

Redacting the domain isn't that useful as most addresses use gmail, hotmail, outlook, yahoo.

Task-4361561

Description of the issue/feature this PR addresses:

Current behavior before PR:

Desired behavior after PR is merged:




---
I confirm I have signed the CLA and read the PR guidelines at www.odoo.com/submit-pr

Forward-Port-Of: odoo/odoo#192724
Forward-Port-Of: odoo/odoo#188697",fw-bot,2025-01-21 11:51:29+00:00,[],2025-01-27 02:02:48+00:00,,https://github.com/odoo/odoo/pull/194507,"[('RD', 'research & development, internal work'), ('forwardport', 'This PR was created by @fw-bot'), ('conflict', 'There was an error while creating this forward-port PR')]","[{'comment_id': 2604513556, 'issue_id': 2801613684, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/194507.png)](https://mergebot.odoo.com/odoo/odoo/pull/194507)', 'created_at': datetime.datetime(2025, 1, 21, 11, 51, 30, tzinfo=datetime.timezone.utc)}, {'comment_id': 2604513642, 'issue_id': 2801613684, 'author': 'fw-bot', 'body': '@Julien00859 cherrypicking of pull request odoo/odoo#188697 failed.\n\nstdout:\n```\nAuto-merging addons/mail/models/mail_mail.py\nAuto-merging odoo/addons/base/tests/test_mail.py\nCONFLICT (content): Merge conflict in odoo/addons/base/tests/test_mail.py\nAuto-merging odoo/tools/mail.py\n\n```\n\nEither perform the forward-port manually (and push to this branch, proceeding as usual) or close this PR (maybe?).\n\nIn the former case, you may want to edit this PR message as well.\n\n:warning: after resolving this conflict, you will need to merge it via @robodoo.\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 21, 11, 51, 32, tzinfo=datetime.timezone.utc)}, {'comment_id': 2614723713, 'issue_id': 2801613684, 'author': 'fw-bot', 'body': '@Julien00859 this forward port of odoo/odoo#188697 is awaiting action (not merged or closed).', 'created_at': datetime.datetime(2025, 1, 27, 2, 2, 47, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-21 11:51:30 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/194507.png)](https://mergebot.odoo.com/odoo/odoo/pull/194507)

fw-bot (Issue Creator) on (2025-01-21 11:51:32 UTC): @Julien00859 cherrypicking of pull request odoo/odoo#188697 failed.

stdout:
```
Auto-merging addons/mail/models/mail_mail.py
Auto-merging odoo/addons/base/tests/test_mail.py
CONFLICT (content): Merge conflict in odoo/addons/base/tests/test_mail.py
Auto-merging odoo/tools/mail.py

```

Either perform the forward-port manually (and push to this branch, proceeding as usual) or close this PR (maybe?).

In the former case, you may want to edit this PR message as well.

:warning: after resolving this conflict, you will need to merge it via @robodoo.

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

fw-bot (Issue Creator) on (2025-01-27 02:02:47 UTC): @Julien00859 this forward port of odoo/odoo#188697 is awaiting action (not merged or closed).

"
2801591830,pull_request,closed,,[FW][FIX] website: Fix hreflang website test,"The Issue:
Prior to this commit, invoking _get_frontend resulted in the get_current_website function returning a different website than the one specified in the MockRequest.

The Fix:
To resolve this, we ensure the function selects the correct website by explicitly passing it in the context.

runbot-64729

Forward-Port-Of: odoo/odoo#189705",fw-bot,2025-01-21 11:44:08+00:00,[],2025-01-23 13:52:50+00:00,2025-01-23 02:46:26+00:00,https://github.com/odoo/odoo/pull/194506,"[('RD', 'research & development, internal work'), ('forwardport', 'This PR was created by @fw-bot'), ('18.2', None)]","[{'comment_id': 2604497618, 'issue_id': 2801591830, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/194506.png)](https://mergebot.odoo.com/odoo/odoo/pull/194506)', 'created_at': datetime.datetime(2025, 1, 21, 11, 44, 9, tzinfo=datetime.timezone.utc)}, {'comment_id': 2604497647, 'issue_id': 2801591830, 'author': 'fw-bot', 'body': '@amay-odoo @qsm-odoo this PR targets master and is the last of the forward-port chain containing:\n* odoo/odoo#194264\n* odoo/odoo#194247\n* odoo/odoo#194229\n\nTo merge the full chain, use\n> @robodoo r+\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 21, 11, 44, 10, tzinfo=datetime.timezone.utc)}, {'comment_id': 2606119994, 'issue_id': 2801591830, 'author': 'fw-bot', 'body': '@amay-odoo @qsm-odoo this forward port of odoo/odoo#189705 is awaiting action (not merged or closed).', 'created_at': datetime.datetime(2025, 1, 22, 2, 2, 3, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-21 11:44:09 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/194506.png)](https://mergebot.odoo.com/odoo/odoo/pull/194506)

fw-bot (Issue Creator) on (2025-01-21 11:44:10 UTC): @amay-odoo @qsm-odoo this PR targets master and is the last of the forward-port chain containing:
* odoo/odoo#194264
* odoo/odoo#194247
* odoo/odoo#194229

To merge the full chain, use

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

fw-bot (Issue Creator) on (2025-01-22 02:02:03 UTC): @amay-odoo @qsm-odoo this forward port of odoo/odoo#189705 is awaiting action (not merged or closed).

"
2801589380,pull_request,closed,,[FW][FIX] l10n_my_edi: partner view.,"Fixes an issue on the partner view where a compute would try to read the proxy user, while not all
users who can read the partner would have read
access to the proxy user.

Also fix a similar case in the action used to validate the ID, which tries to read the proxy user.

error-105104

---
I confirm I have signed the CLA and read the PR guidelines at www.odoo.com/submit-pr

Forward-Port-Of: odoo/odoo#194459",fw-bot,2025-01-21 11:43:25+00:00,[],2025-02-04 17:05:14+00:00,2025-01-21 16:57:13+00:00,https://github.com/odoo/odoo/pull/194505,"[('RD', 'research & development, internal work'), ('forwardport', 'This PR was created by @fw-bot')]","[{'comment_id': 2604496248, 'issue_id': 2801589380, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/194505.png)](https://mergebot.odoo.com/odoo/odoo/pull/194505)', 'created_at': datetime.datetime(2025, 1, 21, 11, 43, 27, tzinfo=datetime.timezone.utc)}, {'comment_id': 2604496267, 'issue_id': 2801589380, 'author': 'fw-bot', 'body': 'This PR targets 18.0 and is part of the forward-port chain. Further PRs will be created up to master.\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 21, 11, 43, 27, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-21 11:43:27 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/194505.png)](https://mergebot.odoo.com/odoo/odoo/pull/194505)

fw-bot (Issue Creator) on (2025-01-21 11:43:27 UTC): This PR targets 18.0 and is part of the forward-port chain. Further PRs will be created up to master.

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

"
2801578727,pull_request,closed,,[FW][FIX] web_editor: check range count when positioning toolbar,"**Problem**:
In rare edge cases, the selection can have no ranges, causing a crash when attempting to `getRangeAt(0)`.

**Solution**:
Ensure there are ranges in the selection before accessing them.

**Steps to Reproduce**:
1. Split the window, with Odoo on one side and any other application on the other.
2. Navigate to a sales order in Odoo.
3. From the sales order, navigate to the partner.
4. Maximize the window.
5. Return to the sales order.
6. Split the window again.
7. Scroll down.

opw-4279813

---
I confirm I have signed the CLA and read the PR guidelines at www.odoo.com/submit-pr

Forward-Port-Of: odoo/odoo#194385",fw-bot,2025-01-21 11:39:52+00:00,[],2025-02-05 08:23:54+00:00,2025-01-22 08:08:41+00:00,https://github.com/odoo/odoo/pull/194504,"[('OE', 'the report is linked to a support ticket (opw-...)'), ('forwardport', 'This PR was created by @fw-bot')]","[{'comment_id': 2604488694, 'issue_id': 2801578727, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/194504.png)](https://mergebot.odoo.com/odoo/odoo/pull/194504)', 'created_at': datetime.datetime(2025, 1, 21, 11, 39, 53, tzinfo=datetime.timezone.utc)}, {'comment_id': 2604488724, 'issue_id': 2801578727, 'author': 'fw-bot', 'body': 'This PR targets 17.0 and is part of the forward-port chain. Further PRs will be created up to master.\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 21, 11, 39, 53, tzinfo=datetime.timezone.utc)}, {'comment_id': 2604612993, 'issue_id': 2801578727, 'author': 'fw-bot', 'body': '@walidsahli @dmo-odoo ci/runbot failed on this forward-port PR', 'created_at': datetime.datetime(2025, 1, 21, 12, 33, 33, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-21 11:39:53 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/194504.png)](https://mergebot.odoo.com/odoo/odoo/pull/194504)

fw-bot (Issue Creator) on (2025-01-21 11:39:53 UTC): This PR targets 17.0 and is part of the forward-port chain. Further PRs will be created up to master.

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

fw-bot (Issue Creator) on (2025-01-21 12:33:33 UTC): @walidsahli @dmo-odoo ci/runbot failed on this forward-port PR

"
2801558905,pull_request,closed,,[FW][IMP] core: disable downloading during tours,"It's not *entirely* clear which and when, but some tours apparently trigger downloads, which by default will make a mess of the user's Downloads folder when running tests locally.

This has mostly been observed in 18.0 / master with Studio exports but there are a few others as well (e.g. a few reports). Either way, seems like a good idea to just configure chrome to block them.

Forward-Port-Of: odoo/odoo#194393",fw-bot,2025-01-21 11:33:35+00:00,[],2025-02-04 17:05:17+00:00,2025-01-21 17:04:13+00:00,https://github.com/odoo/odoo/pull/194503,"[('RD', 'research & development, internal work'), ('forwardport', 'This PR was created by @fw-bot')]","[{'comment_id': 2604476121, 'issue_id': 2801558905, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/194503.png)](https://mergebot.odoo.com/odoo/odoo/pull/194503)', 'created_at': datetime.datetime(2025, 1, 21, 11, 33, 37, tzinfo=datetime.timezone.utc)}, {'comment_id': 2604476151, 'issue_id': 2801558905, 'author': 'fw-bot', 'body': 'This PR targets saas-18.1 and is part of the forward-port chain. Further PRs will be created up to master.\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 21, 11, 33, 37, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-21 11:33:37 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/194503.png)](https://mergebot.odoo.com/odoo/odoo/pull/194503)

fw-bot (Issue Creator) on (2025-01-21 11:33:37 UTC): This PR targets saas-18.1 and is part of the forward-port chain. Further PRs will be created up to master.

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

"
2801508549,pull_request,closed,,[FW][FIX] base_automation: hide domain for on_change's,"Before this commit, the base.automation form view displays the filter_domain field when on_change trigger type is selected but the code does not take into account the filter_domain value for this type of trigger.

After this commit, this field is simply hidden in that case.

Task: opw-4492554

Forward-Port-Of: odoo/odoo#194424
Forward-Port-Of: odoo/odoo#194158",fw-bot,2025-01-21 11:16:32+00:00,[],2025-02-04 19:23:17+00:00,2025-01-21 18:45:07+00:00,https://github.com/odoo/odoo/pull/194501,"[('OE', 'the report is linked to a support ticket (opw-...)'), ('forwardport', 'This PR was created by @fw-bot')]","[{'comment_id': 2604438221, 'issue_id': 2801508549, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/194501.png)](https://mergebot.odoo.com/odoo/odoo/pull/194501)', 'created_at': datetime.datetime(2025, 1, 21, 11, 16, 41, tzinfo=datetime.timezone.utc)}, {'comment_id': 2604438253, 'issue_id': 2801508549, 'author': 'fw-bot', 'body': 'This PR targets saas-17.4 and is part of the forward-port chain. Further PRs will be created up to master.\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 21, 11, 16, 42, tzinfo=datetime.timezone.utc)}, {'comment_id': 2604628143, 'issue_id': 2801508549, 'author': 'fw-bot', 'body': '@brboi @ryv-odoo the next pull request (odoo/odoo#194520) is in conflict. You can merge the chain up to here by saying\n> @robodoo r+\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 21, 12, 40, 36, tzinfo=datetime.timezone.utc)}, {'comment_id': 2604877065, 'issue_id': 2801508549, 'author': 'brboi', 'body': '@robodoo r+', 'created_at': datetime.datetime(2025, 1, 21, 14, 24, 6, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-21 11:16:41 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/194501.png)](https://mergebot.odoo.com/odoo/odoo/pull/194501)

fw-bot (Issue Creator) on (2025-01-21 11:16:42 UTC): This PR targets saas-17.4 and is part of the forward-port chain. Further PRs will be created up to master.

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

fw-bot (Issue Creator) on (2025-01-21 12:40:36 UTC): @brboi @ryv-odoo the next pull request (odoo/odoo#194520) is in conflict. You can merge the chain up to here by saying

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

brboi on (2025-01-21 14:24:06 UTC): @robodoo r+

"
2801490681,pull_request,closed,,[FIX] base: fallback first currency rate,"When creating a new database or activating a new currency, the first rate fetched will often be set only starting ""today"".

This can lead to issues when creating invoices in the past, especially if the conversion rate is very different from 1.

Instead of only using a fallback on 1, we also fallback on the oldest rate in the database if available.",william-andre,2025-01-21 11:08:21+00:00,[],2025-01-27 11:08:55+00:00,2025-01-27 11:08:55+00:00,https://github.com/odoo/odoo/pull/194500,"[('RD', 'research & development, internal work')]","[{'comment_id': 2604420605, 'issue_id': 2801490681, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/194500.png)](https://mergebot.odoo.com/odoo/odoo/pull/194500)', 'created_at': datetime.datetime(2025, 1, 21, 11, 8, 25, tzinfo=datetime.timezone.utc)}, {'comment_id': 2612942441, 'issue_id': 2801490681, 'author': 'robodoo', 'body': '@william-andre @gawa-odoo staging failed: ci/runbot on 5c99398e6974979d02cecd2f4561cd39783ac771 (view more at https://runbot.odoo.com/runbot/build/73905051)', 'created_at': datetime.datetime(2025, 1, 24, 16, 36, 10, tzinfo=datetime.timezone.utc)}, {'comment_id': 2612991344, 'issue_id': 2801490681, 'author': 'gawa-odoo', 'body': '@robodoo retry', 'created_at': datetime.datetime(2025, 1, 24, 17, 0, 25, tzinfo=datetime.timezone.utc)}, {'comment_id': 2613088851, 'issue_id': 2801490681, 'author': 'robodoo', 'body': '@william-andre @gawa-odoo staging failed: ci/runbot on c6369c57bd7a2218c9eddf7d56d1e50ab07260b5 (view more at https://runbot.odoo.com/runbot/build/73907865)', 'created_at': datetime.datetime(2025, 1, 24, 17, 54, 16, tzinfo=datetime.timezone.utc)}, {'comment_id': 2615291695, 'issue_id': 2801490681, 'author': 'william-andre', 'body': '@robodoo retry', 'created_at': datetime.datetime(2025, 1, 27, 9, 52, 44, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-21 11:08:25 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/194500.png)](https://mergebot.odoo.com/odoo/odoo/pull/194500)

robodoo on (2025-01-24 16:36:10 UTC): @william-andre @gawa-odoo staging failed: ci/runbot on 5c99398e6974979d02cecd2f4561cd39783ac771 (view more at https://runbot.odoo.com/runbot/build/73905051)

gawa-odoo on (2025-01-24 17:00:25 UTC): @robodoo retry

robodoo on (2025-01-24 17:54:16 UTC): @william-andre @gawa-odoo staging failed: ci/runbot on c6369c57bd7a2218c9eddf7d56d1e50ab07260b5 (view more at https://runbot.odoo.com/runbot/build/73907865)

william-andre (Issue Creator) on (2025-01-27 09:52:44 UTC): @robodoo retry

"
2801459493,pull_request,open,,"[IMP] im_livechat, *: revamp livechat integration instructions","Purpose of this Commit:
Revamp the integration to enable Live Chat functionality on custom websites and Odoo websites.

task-3751548


---
I confirm I have signed the CLA and read the PR guidelines at www.odoo.com/submit-pr
",maad-odoo,2025-01-21 10:57:14+00:00,[],2025-01-23 07:52:23+00:00,,https://github.com/odoo/odoo/pull/194499,"[('RD', 'research & development, internal work')]","[{'comment_id': 2604394498, 'issue_id': 2801459493, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/194499.png)](https://mergebot.odoo.com/odoo/odoo/pull/194499)', 'created_at': datetime.datetime(2025, 1, 21, 10, 57, 16, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-21 10:57:16 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/194499.png)](https://mergebot.odoo.com/odoo/odoo/pull/194499)

"
2801453406,pull_request,closed,,[FW][FIX] point_of_sale: Improve logging for PoS order sync,"Before this commit
PoS orders synchronisation can sometime happen in parallel. When it is the case, we can end up with situation of duplicated PoS orders stored in the backend. This can also be useful to cases where ""there is a receipt for the order XXX-YYY-ZZZ, but it does not appear in the backend!""

After this commit:
To ease the investigation of such cases, logs are added with various information to better understand customer flows and tracability when a PoS order is synced.

The main idea was added to the ""PoS order"" capture PR: https://github.com/odoo/odoo/pull/174562
But this one is waiting for other PR to be deployed due to the heavy PoS refactoring in 17.4. In the mean time, the logs part can be easily pushed in 17.4

Logs example:

New PoS order logs:
```
2024-12-16 16:55:32,254 49677 INFO oes_17.4_pos odoo.addons.point_of_sale.models.pos_order: PoS synchronisation #89627943 started for PoS orders references: [{'name': 'Order 00007-003-0001', 'uuid': '838043cb-8324-4b52-a45e-c8707f8975ff'}] 
2024-12-16 16:55:32,413 49677 INFO oes_17.4_pos odoo.addons.point_of_sale.models.pos_order: PoS synchronisation #89627943 order {'name': 'Order 00007-003-0001', 'uuid': '838043cb-8324-4b52-a45e-c8707f8975ff'} created pos.order #38 
2024-12-16 16:55:32,414 49677 INFO oes_17.4_pos odoo.addons.point_of_sale.models.pos_order: PoS synchronisation #89627943 finished 
2024-12-16 16:55:32,434 49677 INFO oes_17.4_pos werkzeug: 127.0.0.1 - - [16/Dec/2024 16:55:32] ""POST /web/dataset/call_kw/pos.order/sync_from_ui HTTP/1.1"" 200 - 90 0.070 0.114
```

Updated PoS restaurant order:
```
2024-12-16 16:36:27,190 43869 INFO oes_17.4_pos odoo.addons.point_of_sale.models.pos_order: PoS synchronisation #99444056 started for PoS orders references: [{'name': 'Restaurant/00004', 'uuid': '9653201c-1c04-4679-99b8-61d2ae91fc87'}] 
2024-12-16 16:36:27,331 43869 INFO oes_17.4_pos odoo.addons.point_of_sale.models.pos_order: PoS synchronisation #99444056 order {'name': 'Restaurant/00004', 'uuid': '9653201c-1c04-4679-99b8-61d2ae91fc87'} updated pos.order #12 
2024-12-16 16:36:27,331 43869 INFO oes_17.4_pos odoo.addons.point_of_sale.models.pos_order: PoS synchronisation #99444056 finished 
2024-12-16 16:36:27,348 43869 INFO oes_17.4_pos werkzeug: 127.0.0.1 - - [16/Dec/2024 16:36:27] ""POST /web/dataset/call_kw/pos.order/sync_from_ui HTTP/1.1"" 200 - 101 0.059 0.425
```

opw-3650239

Forward-Port-Of: odoo/odoo#191046
Forward-Port-Of: odoo/odoo#190734",fw-bot,2025-01-21 10:54:54+00:00,[],2025-02-04 18:22:09+00:00,2025-01-21 18:17:09+00:00,https://github.com/odoo/odoo/pull/194498,"[('OE', 'the report is linked to a support ticket (opw-...)'), ('forwardport', 'This PR was created by @fw-bot'), ('conflict', 'There was an error while creating this forward-port PR')]","[{'comment_id': 2604389064, 'issue_id': 2801453406, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/194498.png)](https://mergebot.odoo.com/odoo/odoo/pull/194498)', 'created_at': datetime.datetime(2025, 1, 21, 10, 54, 56, tzinfo=datetime.timezone.utc)}, {'comment_id': 2604389082, 'issue_id': 2801453406, 'author': 'fw-bot', 'body': '@lse-odoo @caburj cherrypicking of pull request odoo/odoo#190734 failed.\n\nstdout:\n```\nAuto-merging addons/point_of_sale/models/pos_order.py\nCONFLICT (content): Merge conflict in addons/point_of_sale/models/pos_order.py\nAuto-merging addons/point_of_sale/tests/test_pos_basic_config.py\n\n```\n\nEither perform the forward-port manually (and push to this branch, proceeding as usual) or close this PR (maybe?).\n\nIn the former case, you may want to edit this PR message as well.\n\n:warning: after resolving this conflict, you will need to merge it via @robodoo.\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 21, 10, 54, 56, tzinfo=datetime.timezone.utc)}, {'comment_id': 2605192104, 'issue_id': 2801453406, 'author': 'lse-odoo', 'body': '@robodoo r+', 'created_at': datetime.datetime(2025, 1, 21, 16, 24, 32, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-21 10:54:56 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/194498.png)](https://mergebot.odoo.com/odoo/odoo/pull/194498)

fw-bot (Issue Creator) on (2025-01-21 10:54:56 UTC): @lse-odoo @caburj cherrypicking of pull request odoo/odoo#190734 failed.

stdout:
```
Auto-merging addons/point_of_sale/models/pos_order.py
CONFLICT (content): Merge conflict in addons/point_of_sale/models/pos_order.py
Auto-merging addons/point_of_sale/tests/test_pos_basic_config.py

```

Either perform the forward-port manually (and push to this branch, proceeding as usual) or close this PR (maybe?).

In the former case, you may want to edit this PR message as well.

:warning: after resolving this conflict, you will need to merge it via @robodoo.

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

lse-odoo on (2025-01-21 16:24:32 UTC): @robodoo r+

"
2801431056,pull_request,closed,,[I18N] add translated terms,"add missing translated terms that have been omitted
in https://github.com/odoo/odoo/pull/188819
",guva-odoo,2025-01-21 10:46:05+00:00,[],2025-02-04 18:09:37+00:00,2025-01-21 18:05:11+00:00,https://github.com/odoo/odoo/pull/194497,"[('OE', 'the report is linked to a support ticket (opw-...)')]","[{'comment_id': 2604367907, 'issue_id': 2801431056, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/194497.png)](https://mergebot.odoo.com/odoo/odoo/pull/194497)', 'created_at': datetime.datetime(2025, 1, 21, 10, 46, 8, tzinfo=datetime.timezone.utc)}, {'comment_id': 2605248071, 'issue_id': 2801431056, 'author': 'ticodoo', 'body': 'Looks good, thanks!\r\n\r\n@robodoo r+', 'created_at': datetime.datetime(2025, 1, 21, 16, 48, 3, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-21 10:46:08 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/194497.png)](https://mergebot.odoo.com/odoo/odoo/pull/194497)

ticodoo on (2025-01-21 16:48:03 UTC): Looks good, thanks!

@robodoo r+

"
2801407781,pull_request,open,,"[IMP] sale,website_sale: combo improvements","prior to this commit :
- Optional products did not work with combos
- the header line for combo did not show discount/quantity
- in sale back-end single choice combo required user to select the choice

post this commit :
- the combo header line in sale is no longer a section
- single choice options will be pre-selected in the combo dialog
- added the feature of optional products for combos

---
I confirm I have signed the CLA and read the PR guidelines at www.odoo.com/submit-pr
",dere-odoo,2025-01-21 10:38:44+00:00,[],2025-02-05 05:24:31+00:00,,https://github.com/odoo/odoo/pull/194496,"[('RD', 'research & development, internal work')]","[{'comment_id': 2604348669, 'issue_id': 2801407781, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/194496.png)](https://mergebot.odoo.com/odoo/odoo/pull/194496)', 'created_at': datetime.datetime(2025, 1, 21, 10, 38, 46, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-21 10:38:46 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/194496.png)](https://mergebot.odoo.com/odoo/odoo/pull/194496)

"
2801394335,pull_request,closed,,[IMP] point_of_sale: prevent duplicate tracking number,"Before this commit, refreshing the browser and creating a new order could yield a duplicate tracking number, causing confusion. This commit addresses the issue by preventing the sequence from resetting within the same session on a single device.

opw-4501048

---
I confirm I have signed the CLA and read the PR guidelines at www.odoo.com/submit-pr
",pedrambiria,2025-01-21 10:33:23+00:00,[],2025-01-31 19:07:36+00:00,2025-01-31 19:07:36+00:00,https://github.com/odoo/odoo/pull/194495,"[('OE', 'the report is linked to a support ticket (opw-...)')]","[{'comment_id': 2604335634, 'issue_id': 2801394335, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/194495.png)](https://mergebot.odoo.com/odoo/odoo/pull/194495)', 'created_at': datetime.datetime(2025, 1, 21, 10, 33, 26, tzinfo=datetime.timezone.utc)}, {'comment_id': 2627046938, 'issue_id': 2801394335, 'author': 'caburj', 'body': 'robodoo r+', 'created_at': datetime.datetime(2025, 1, 31, 12, 3, 20, tzinfo=datetime.timezone.utc)}, {'comment_id': 2627047028, 'issue_id': 2801394335, 'author': 'robodoo', 'body': '@caburj you may want to rebuild or fix this PR as it has failed CI.', 'created_at': datetime.datetime(2025, 1, 31, 12, 3, 23, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-21 10:33:26 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/194495.png)](https://mergebot.odoo.com/odoo/odoo/pull/194495)

caburj on (2025-01-31 12:03:20 UTC): robodoo r+

robodoo on (2025-01-31 12:03:23 UTC): @caburj you may want to rebuild or fix this PR as it has failed CI.

"
2801388106,pull_request,closed,,[FW][FIX] resource: fix duration days of working schedules,"When creating a new working schedule, the duration (days) was not computed correctly. This was due to a missing field in the depends of the compute method.

This commits fixes the issue by adding the hours per day in the depens of the duration days compute method. That way, the duration days will be computed after that the hours per day are computed.

task-4457200

Forward-Port-Of: odoo/odoo#193715",fw-bot,2025-01-21 10:30:45+00:00,[],2025-02-04 19:23:21+00:00,2025-01-21 18:54:06+00:00,https://github.com/odoo/odoo/pull/194494,"[('RD', 'research & development, internal work'), ('forwardport', 'This PR was created by @fw-bot'), ('18.2', None)]","[{'comment_id': 2604329267, 'issue_id': 2801388106, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/194494.png)](https://mergebot.odoo.com/odoo/odoo/pull/194494)', 'created_at': datetime.datetime(2025, 1, 21, 10, 30, 46, tzinfo=datetime.timezone.utc)}, {'comment_id': 2604329297, 'issue_id': 2801388106, 'author': 'fw-bot', 'body': '@romaincarlier4 @tivisse this PR targets master and is the last of the forward-port chain containing:\n* odoo/odoo#194476\n* odoo/odoo#194441\n* odoo/odoo#194430\n* odoo/odoo#194425\n\nTo merge the full chain, use\n> @robodoo r+\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 21, 10, 30, 47, tzinfo=datetime.timezone.utc)}, {'comment_id': 2604497934, 'issue_id': 2801388106, 'author': 'tivisse', 'body': '@robodoo r+', 'created_at': datetime.datetime(2025, 1, 21, 11, 44, 18, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-21 10:30:46 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/194494.png)](https://mergebot.odoo.com/odoo/odoo/pull/194494)

fw-bot (Issue Creator) on (2025-01-21 10:30:47 UTC): @romaincarlier4 @tivisse this PR targets master and is the last of the forward-port chain containing:
* odoo/odoo#194476
* odoo/odoo#194441
* odoo/odoo#194430
* odoo/odoo#194425

To merge the full chain, use

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

tivisse on (2025-01-21 11:44:18 UTC): @robodoo r+

"
2801382240,pull_request,closed,,[FW][FIX] hr_holidays: linked requests should use parent start/end hours,"steps to reproduce:
    
- create a leave with several employees and select 'custom hours'
- validate leave
- check linked leaves (one per employee)
    
 issue:
    
 - linked leaves do not use the parent start/date hours
    
note: 8bfd00e9325ffc490d1b470cecb38c75800b8a86 fixed the issue in 16.0 and the feature has been removed in 260b999922766668713c92418bf7431d465b532e in 17.4.
    
opw-4355770

Forward-Port-Of: odoo/odoo#193494",fw-bot,2025-01-21 10:28:43+00:00,[],2025-02-04 15:08:23+00:00,2025-01-21 15:07:54+00:00,https://github.com/odoo/odoo/pull/194493,"[('OE', 'the report is linked to a support ticket (opw-...)'), ('forwardport', 'This PR was created by @fw-bot')]","[{'comment_id': 2604324177, 'issue_id': 2801382240, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/194493.png)](https://mergebot.odoo.com/odoo/odoo/pull/194493)', 'created_at': datetime.datetime(2025, 1, 21, 10, 28, 45, tzinfo=datetime.timezone.utc)}, {'comment_id': 2604324205, 'issue_id': 2801382240, 'author': 'fw-bot', 'body': '@nda-odoo @Bertrand2 this PR targets saas-17.2 and is the last of the forward-port chain.\n\nTo merge the full chain, use\n> @robodoo r+\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 21, 10, 28, 45, tzinfo=datetime.timezone.utc)}, {'comment_id': 2604646844, 'issue_id': 2801382240, 'author': 'nda-odoo', 'body': '@robodoo r+', 'created_at': datetime.datetime(2025, 1, 21, 12, 49, 21, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-21 10:28:45 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/194493.png)](https://mergebot.odoo.com/odoo/odoo/pull/194493)

fw-bot (Issue Creator) on (2025-01-21 10:28:45 UTC): @nda-odoo @Bertrand2 this PR targets saas-17.2 and is the last of the forward-port chain.

To merge the full chain, use

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

nda-odoo on (2025-01-21 12:49:21 UTC): @robodoo r+

"
2801381523,pull_request,closed,,[FW][IMP] mail: log the redacted to headers,"Debugging outgoing emails is fastidious. Only the mail record id and Message-Id are logged, but most of the time the mail record is removed once the mail is sent, making it impossible to find back who the recipients were.

In this work we also log the (redacted) From and To headers. We decided to redact the headers out of excessive caution regarding the GDPR.

The new `email_anonymize` function must balance disambiguation and redaction. Disambiguation so it is easy to tell two different email addresses appart (for debugging). Redaction so it hard to find the original email address back (for privacy). It must also be simple.

We conducted several experiments using a dataset of 600ish email address (95% of which have a local part that is at least 6 characters long) to determine a nice function. The final function keep the first character for shorter inputs (length of local part < 6) and the first plus two lasts chars for longer inputs (>=6). Using that function we achieve a 99% disambiguation of emails in the dataset (with or without redacting the domain) while retaining minimal info (3 chars at most).

Redacting the domain isn't that useful as most addresses use gmail, hotmail, outlook, yahoo.

Task-4361561

Description of the issue/feature this PR addresses:

Current behavior before PR:

Desired behavior after PR is merged:




---
I confirm I have signed the CLA and read the PR guidelines at www.odoo.com/submit-pr

Forward-Port-Of: odoo/odoo#192724
Forward-Port-Of: odoo/odoo#188697",fw-bot,2025-01-21 10:28:26+00:00,[],2025-02-04 14:11:27+00:00,2025-01-21 13:45:45+00:00,https://github.com/odoo/odoo/pull/194492,"[('RD', 'research & development, internal work'), ('forwardport', 'This PR was created by @fw-bot')]","[{'comment_id': 2604323561, 'issue_id': 2801381523, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/194492.png)](https://mergebot.odoo.com/odoo/odoo/pull/194492)', 'created_at': datetime.datetime(2025, 1, 21, 10, 28, 29, tzinfo=datetime.timezone.utc)}, {'comment_id': 2604323594, 'issue_id': 2801381523, 'author': 'fw-bot', 'body': 'This PR targets saas-17.2 and is part of the forward-port chain. Further PRs will be created up to master.\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 21, 10, 28, 30, tzinfo=datetime.timezone.utc)}, {'comment_id': 2604513587, 'issue_id': 2801381523, 'author': 'fw-bot', 'body': '@Julien00859 the next pull request (odoo/odoo#194507) is in conflict. You can merge the chain up to here by saying\n> @robodoo r+\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 21, 11, 51, 31, tzinfo=datetime.timezone.utc)}, {'comment_id': 2604519110, 'issue_id': 2801381523, 'author': 'Julien00859', 'body': '@robodoo r+', 'created_at': datetime.datetime(2025, 1, 21, 11, 54, 6, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-21 10:28:29 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/194492.png)](https://mergebot.odoo.com/odoo/odoo/pull/194492)

fw-bot (Issue Creator) on (2025-01-21 10:28:30 UTC): This PR targets saas-17.2 and is part of the forward-port chain. Further PRs will be created up to master.

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

fw-bot (Issue Creator) on (2025-01-21 11:51:31 UTC): @Julien00859 the next pull request (odoo/odoo#194507) is in conflict. You can merge the chain up to here by saying

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

Julien00859 on (2025-01-21 11:54:06 UTC): @robodoo r+

"
2801376283,pull_request,closed,,[FIX] sale_pdf_quote_builder: fix misnaming,"This name was at best misleading, as we are also dealing with product documents.

See also: https://github.com/odoo/upgrade/pull/7099",Demesmaeker,2025-01-21 10:26:16+00:00,[],2025-02-04 19:23:21+00:00,2025-01-21 18:54:10+00:00,https://github.com/odoo/odoo/pull/194491,"[('RD', 'research & development, internal work'), ('18.2', None)]","[{'comment_id': 2604318085, 'issue_id': 2801376283, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/194491.png)](https://mergebot.odoo.com/odoo/odoo/pull/194491)', 'created_at': datetime.datetime(2025, 1, 21, 10, 26, 18, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-21 10:26:18 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/194491.png)](https://mergebot.odoo.com/odoo/odoo/pull/194491)

"
2801376034,pull_request,open,,[FIX] account: prevent overriding of journal_id on save,"Steps to Reproduce:

- Assign a partner a default payment method (e.g., Cash).

- In the vendor payment, select that partner and then change the journal to another payment method (e.g., Bank). Then save.

The Issue:

After saving, the journal field chosen by the user is overridden by the partner's default payment method.

Cause:

In `account_payment`, the method `_inverse_partner_id` controls the logic to display the default payment method (`journal_id`) for a partner. It also had `@api.onchange('partner_id')` to adjust the `journal_id` in case the user changes the partner ID in the view. However, the inverse method is triggered on a save because `partner_id` is in `vals_list` of `write`, which sets the default `journal_id` instead of the user input.

Solution:

The behavior of the inverse method can be handled instead by the compute of `journal_id` if it depends on `partner_id`.

opw-4478282




---
I confirm I have signed the CLA and read the PR guidelines at www.odoo.com/submit-pr
",yosa-odoo,2025-01-21 10:26:08+00:00,[],2025-02-06 15:13:22+00:00,,https://github.com/odoo/odoo/pull/194490,"[('OE', 'the report is linked to a support ticket (opw-...)')]","[{'comment_id': 2604317760, 'issue_id': 2801376034, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/194490.png)](https://mergebot.odoo.com/odoo/odoo/pull/194490)', 'created_at': datetime.datetime(2025, 1, 21, 10, 26, 11, tzinfo=datetime.timezone.utc)}, {'comment_id': 2615932617, 'issue_id': 2801376034, 'author': 'yosa-odoo', 'body': '@smetl as discussed', 'created_at': datetime.datetime(2025, 1, 27, 14, 36, 18, tzinfo=datetime.timezone.utc)}, {'comment_id': 2634149909, 'issue_id': 2801376034, 'author': 'robodoo', 'body': '@smetl you may want to rebuild or fix this PR as it has failed CI.', 'created_at': datetime.datetime(2025, 2, 4, 14, 34, 31, tzinfo=datetime.timezone.utc)}, {'comment_id': 2634153057, 'issue_id': 2801376034, 'author': 'smetl', 'body': '@yosa-odoo runbot is red!!!!', 'created_at': datetime.datetime(2025, 2, 4, 14, 34, 56, tzinfo=datetime.timezone.utc)}, {'comment_id': 2640100821, 'issue_id': 2801376034, 'author': 'gteboul', 'body': '@robodoo retry', 'created_at': datetime.datetime(2025, 2, 6, 15, 12, 15, tzinfo=datetime.timezone.utc)}, {'comment_id': 2640100971, 'issue_id': 2801376034, 'author': 'robodoo', 'body': ""I'm sorry, @gteboul. I'm afraid I can't do that."", 'created_at': datetime.datetime(2025, 2, 6, 15, 12, 19, tzinfo=datetime.timezone.utc)}, {'comment_id': 2640103690, 'issue_id': 2801376034, 'author': 'gteboul', 'body': '@robodoo r+', 'created_at': datetime.datetime(2025, 2, 6, 15, 13, 18, tzinfo=datetime.timezone.utc)}, {'comment_id': 2640103784, 'issue_id': 2801376034, 'author': 'robodoo', 'body': ""I'm sorry, @gteboul. I'm afraid I can't do that."", 'created_at': datetime.datetime(2025, 2, 6, 15, 13, 20, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-21 10:26:11 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/194490.png)](https://mergebot.odoo.com/odoo/odoo/pull/194490)

yosa-odoo (Issue Creator) on (2025-01-27 14:36:18 UTC): @smetl as discussed

robodoo on (2025-02-04 14:34:31 UTC): @smetl you may want to rebuild or fix this PR as it has failed CI.

smetl on (2025-02-04 14:34:56 UTC): @yosa-odoo runbot is red!!!!

gteboul on (2025-02-06 15:12:15 UTC): @robodoo retry

robodoo on (2025-02-06 15:12:19 UTC): I'm sorry, @gteboul. I'm afraid I can't do that.

gteboul on (2025-02-06 15:13:18 UTC): @robodoo r+

robodoo on (2025-02-06 15:13:20 UTC): I'm sorry, @gteboul. I'm afraid I can't do that.

"
2801365191,pull_request,open,,[FIX] analytic: analytic_distribution field UI,"This commit fix this UI problem:
When you are on an account_move view, create a line and input multiple analytic distributions, the line height stay fixed, and it crop the distributions, making the line unreadable.

This commit add a variable height on the analytic_distribution field.

task-4213064",igbe-odoo,2025-01-21 10:21:58+00:00,[],2025-01-21 11:00:22+00:00,,https://github.com/odoo/odoo/pull/194489,"[('RD', 'research & development, internal work')]","[{'comment_id': 2604305453, 'issue_id': 2801365191, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/194489.png)](https://mergebot.odoo.com/odoo/odoo/pull/194489)', 'created_at': datetime.datetime(2025, 1, 21, 10, 22, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-21 10:22:00 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/194489.png)](https://mergebot.odoo.com/odoo/odoo/pull/194489)

"
2801359089,pull_request,closed,,[FW][FIX] l10n_my_edi: partner view.,"Fixes an issue on the partner view where a compute would try to read the proxy user, while not all
users who can read the partner would have read
access to the proxy user.

Also fix a similar case in the action used to validate the ID, which tries to read the proxy user.

error-105104

---
I confirm I have signed the CLA and read the PR guidelines at www.odoo.com/submit-pr

Forward-Port-Of: odoo/odoo#194459",fw-bot,2025-01-21 10:19:51+00:00,[],2025-02-04 19:23:18+00:00,2025-01-21 18:45:12+00:00,https://github.com/odoo/odoo/pull/194488,"[('RD', 'research & development, internal work'), ('forwardport', 'This PR was created by @fw-bot')]","[{'comment_id': 2604296184, 'issue_id': 2801359089, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/194488.png)](https://mergebot.odoo.com/odoo/odoo/pull/194488)', 'created_at': datetime.datetime(2025, 1, 21, 10, 19, 52, tzinfo=datetime.timezone.utc)}, {'comment_id': 2604296275, 'issue_id': 2801359089, 'author': 'fw-bot', 'body': 'This PR targets saas-17.4 and is part of the forward-port chain. Further PRs will be created up to master.\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 21, 10, 19, 53, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-21 10:19:52 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/194488.png)](https://mergebot.odoo.com/odoo/odoo/pull/194488)

fw-bot (Issue Creator) on (2025-01-21 10:19:53 UTC): This PR targets saas-17.4 and is part of the forward-port chain. Further PRs will be created up to master.

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

"
2801355421,pull_request,closed,,"[FW][IMP] point_of_sale, bus: ensure websocket connection","This commit ensures that the websocket connection is established when receiving a connect or initialized event.

This can happen in multitab use of Odoo.

Forward-Port-Of: odoo/odoo#194343",fw-bot,2025-01-21 10:18:47+00:00,[],2025-02-06 05:11:27+00:00,2025-01-23 04:24:21+00:00,https://github.com/odoo/odoo/pull/194487,"[('RD', 'research & development, internal work'), ('forwardport', 'This PR was created by @fw-bot'), ('conflict', 'There was an error while creating this forward-port PR')]","[{'comment_id': 2604290541, 'issue_id': 2801355421, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/194487.png)](https://mergebot.odoo.com/odoo/odoo/pull/194487)', 'created_at': datetime.datetime(2025, 1, 21, 10, 18, 50, tzinfo=datetime.timezone.utc)}, {'comment_id': 2604290644, 'issue_id': 2801355421, 'author': 'fw-bot', 'body': '@davidmonnom @caburj cherrypicking of pull request odoo/odoo#194343 failed.\n\nstdout:\n```\nAuto-merging addons/point_of_sale/static/src/app/models/data_service.js\nCONFLICT (content): Merge conflict in addons/point_of_sale/static/src/app/models/data_service.js\nAuto-merging addons/point_of_sale/static/src/app/store/pos_store.js\nCONFLICT (content): Merge conflict in addons/point_of_sale/static/src/app/store/pos_store.js\nCONFLICT (modify/delete): addons/point_of_sale/static/tests/unit/pos_app_tests.js deleted in e9ebe37f30a3486a966993d8c3c8ffb04fb3fc08 and modified in 642c2482b7a03af80c90037e90235f0249108f62.  Version 642c2482b7a03af80c90037e90235f0249108f62 of addons/point_of_sale/static/tests/unit/pos_app_tests.js left in tree.\nAuto-merging addons/pos_online_payment_self_order/static/src/self_order_service.js\n\n```\n\nEither perform the forward-port manually (and push to this branch, proceeding as usual) or close this PR (maybe?).\n\nIn the former case, you may want to edit this PR message as well.\n\n:warning: after resolving this conflict, you will need to merge it via @robodoo.\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 21, 10, 18, 52, tzinfo=datetime.timezone.utc)}, {'comment_id': 2607291616, 'issue_id': 2801355421, 'author': 'davidmonnom', 'body': '@robodoo r+', 'created_at': datetime.datetime(2025, 1, 22, 13, 45, 29, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-21 10:18:50 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/194487.png)](https://mergebot.odoo.com/odoo/odoo/pull/194487)

fw-bot (Issue Creator) on (2025-01-21 10:18:52 UTC): @davidmonnom @caburj cherrypicking of pull request odoo/odoo#194343 failed.

stdout:
```
Auto-merging addons/point_of_sale/static/src/app/models/data_service.js
CONFLICT (content): Merge conflict in addons/point_of_sale/static/src/app/models/data_service.js
Auto-merging addons/point_of_sale/static/src/app/store/pos_store.js
CONFLICT (content): Merge conflict in addons/point_of_sale/static/src/app/store/pos_store.js
CONFLICT (modify/delete): addons/point_of_sale/static/tests/unit/pos_app_tests.js deleted in e9ebe37f30a3486a966993d8c3c8ffb04fb3fc08 and modified in 642c2482b7a03af80c90037e90235f0249108f62.  Version 642c2482b7a03af80c90037e90235f0249108f62 of addons/point_of_sale/static/tests/unit/pos_app_tests.js left in tree.
Auto-merging addons/pos_online_payment_self_order/static/src/self_order_service.js

```

Either perform the forward-port manually (and push to this branch, proceeding as usual) or close this PR (maybe?).

In the former case, you may want to edit this PR message as well.

:warning: after resolving this conflict, you will need to merge it via @robodoo.

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

davidmonnom on (2025-01-22 13:45:29 UTC): @robodoo r+

"
2801330899,pull_request,closed,,[FW][IMP] core: disable downloading during tours,"It's not *entirely* clear which and when, but some tours apparently trigger downloads, which by default will make a mess of the user's Downloads folder when running tests locally.

This has mostly been observed in 18.0 / master with Studio exports but there are a few others as well (e.g. a few reports). Either way, seems like a good idea to just configure chrome to block them.

Forward-Port-Of: odoo/odoo#194393",fw-bot,2025-01-21 10:11:39+00:00,[],2025-02-04 15:53:57+00:00,2025-01-21 15:35:39+00:00,https://github.com/odoo/odoo/pull/194486,"[('RD', 'research & development, internal work'), ('forwardport', 'This PR was created by @fw-bot')]","[{'comment_id': 2604256499, 'issue_id': 2801330899, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/194486.png)](https://mergebot.odoo.com/odoo/odoo/pull/194486)', 'created_at': datetime.datetime(2025, 1, 21, 10, 11, 43, tzinfo=datetime.timezone.utc)}, {'comment_id': 2604256534, 'issue_id': 2801330899, 'author': 'fw-bot', 'body': 'This PR targets 18.0 and is part of the forward-port chain. Further PRs will be created up to master.\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 21, 10, 11, 44, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-21 10:11:43 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/194486.png)](https://mergebot.odoo.com/odoo/odoo/pull/194486)

fw-bot (Issue Creator) on (2025-01-21 10:11:44 UTC): This PR targets 18.0 and is part of the forward-port chain. Further PRs will be created up to master.

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

"
2801320908,pull_request,closed,,[FIX] web: burger menu memory leak,"The event listeners are never removed when the component is unmounted which means to global `env.bus` always keeps a reference to this component and everything that goes with it, including its (child)env.

In version 18.0, the spreadsheet client action instantiates its own `BurgerMenu` component and also adds the spreadsheet `model` in the action child env (which can be expensive memory-wise)



---
I confirm I have signed the CLA and read the PR guidelines at www.odoo.com/submit-pr
",LucasLefevre,2025-01-21 10:07:47+00:00,[],2025-02-04 14:11:29+00:00,2025-01-21 13:48:22+00:00,https://github.com/odoo/odoo/pull/194485,"[('RD', 'research & development, internal work')]","[{'comment_id': 2604246815, 'issue_id': 2801320908, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/194485.png)](https://mergebot.odoo.com/odoo/odoo/pull/194485)', 'created_at': datetime.datetime(2025, 1, 21, 10, 7, 51, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-21 10:07:51 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/194485.png)](https://mergebot.odoo.com/odoo/odoo/pull/194485)

"
2801299127,pull_request,closed,,[FIX] auth_oauth: ensure werkzeug 3 compatibility,"Description of the issue/feature this PR addresses:
The method werkzeug.http.parse_www_authenticate_header has been removed in werkzeug 3 and later. This causes an issue in Odoo when using python 3.12, as the requirements.txt specifies werkzeug 3.0.1. This results in a misleading error stating that auth_signup is not installed on the database when authenticating a new user with an OAuth provider.

Current behavior before PR:
When attempting to authenticate a new user with an OAuth provider in Odoo using Python 3.12, the method werkzeug.http.parse_www_authenticate_header is called. Since this method is removed in Werkzeug 3.0.1, a misleading error message about auth_signup not being installed on the database is displayed.

Desired behavior after PR is merged:
The code will use WWWAuthenticate.from_header for parsing the WWW-Authenticate header if available, otherwise, it will fall back to using werkzeug.http.parse_www_authenticate_header for compatibility with older versions of Werkzeug (2.0 and 2.2). The misleading error message will no longer appear, and OAuth authentication will work as expected.

Fixes #194002


---
I confirm I have signed the CLA and read the PR guidelines at www.odoo.com/submit-pr
",0yik,2025-01-21 10:00:19+00:00,[],2025-01-21 13:18:04+00:00,2025-01-21 13:18:04+00:00,https://github.com/odoo/odoo/pull/194484,[],"[{'comment_id': 2604226735, 'issue_id': 2801299127, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/194484.png)](https://mergebot.odoo.com/odoo/odoo/pull/194484)', 'created_at': datetime.datetime(2025, 1, 21, 10, 0, 27, tzinfo=datetime.timezone.utc)}, {'comment_id': 2604244080, 'issue_id': 2801299127, 'author': 'xmo-odoo', 'body': ""FWIW you could just have force-pushed on #194217 and edited the `base` field, but since you've created this PR you should close the other one.\r\n\r\n@robodoo r+"", 'created_at': datetime.datetime(2025, 1, 21, 10, 6, 38, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-21 10:00:27 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/194484.png)](https://mergebot.odoo.com/odoo/odoo/pull/194484)

xmo-odoo on (2025-01-21 10:06:38 UTC): FWIW you could just have force-pushed on #194217 and edited the `base` field, but since you've created this PR you should close the other one.

@robodoo r+

"
2801287791,pull_request,closed,,[FIX] web: catch ResizeObserver error in chrome 132,"Since chrome 132, the shape of error events for the `ResizeObserver loop completed with undelivered notifications.` error changed: the `error` key is now set in the event (its value is this specific message, i.e. a string, not an Error instance). As a consequence, those errors are no longer swallowed as they're expected to be, and are thus wrongly identified as CORS errors. Those errors are shown to the user in debug mode.

This happens for instance in the ir.ui.view form view, which contains an AceEditor field. His CodeEditor component listens on the `resize` event to redrawn itself, which causes this error. This also happens with the website builder, which does not involve the CodeEditor. It probably happens at other places as well. We thus need a global solution, like we had before.

This commit thus fixes the condition in the error service to keep swallowing that error.

opw-4500350
opw-4496862
opw-4496782
opw-4495448
opw-4493209
opw-4495309
opw-4472997

Description of the issue/feature this PR addresses:

Current behavior before PR:

Desired behavior after PR is merged:




---
I confirm I have signed the CLA and read the PR guidelines at www.odoo.com/submit-pr
",aab-odoo,2025-01-21 09:55:57+00:00,[],2025-02-04 13:18:34+00:00,2025-01-21 13:17:58+00:00,https://github.com/odoo/odoo/pull/194483,"[('OE', 'the report is linked to a support ticket (opw-...)')]","[{'comment_id': 2604215386, 'issue_id': 2801287791, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/194483.png)](https://mergebot.odoo.com/odoo/odoo/pull/194483)', 'created_at': datetime.datetime(2025, 1, 21, 9, 56, tzinfo=datetime.timezone.utc)}, {'comment_id': 2604227788, 'issue_id': 2801287791, 'author': 'Polymorphe57', 'body': '@robodoo r+', 'created_at': datetime.datetime(2025, 1, 21, 10, 0, 44, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-21 09:56:00 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/194483.png)](https://mergebot.odoo.com/odoo/odoo/pull/194483)

Polymorphe57 on (2025-01-21 10:00:44 UTC): @robodoo r+

"
2801281314,pull_request,open,,[16.0][FIX] account: Suggest amls candidates correctly filtering as defined in the reconciliation model,"Suggest amls candidates correctly filtering as defined in the reconciliation model

Reconciliation model use case:
- No auto-validate
- No Match Invoice/bill fields set.

Expected result:
- The amls suggested should be as expected, i.e., do not filter for data that is not defined in the reconciliation model.

@Tecnativa TT52146

---
I confirm I have signed the CLA and read the PR guidelines at www.odoo.com/submit-pr
",victoralmau,2025-01-21 09:53:18+00:00,[],2025-01-24 16:43:37+00:00,,https://github.com/odoo/odoo/pull/194482,"[('Accounting', '')]","[{'comment_id': 2604208886, 'issue_id': 2801281314, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/194482.png)](https://mergebot.odoo.com/odoo/odoo/pull/194482)', 'created_at': datetime.datetime(2025, 1, 21, 9, 53, 21, tzinfo=datetime.timezone.utc)}, {'comment_id': 2609500254, 'issue_id': 2801281314, 'author': 'victoralmau', 'body': ""> Hello 👋\r\n> \r\n> Here's a first review 👍 And don't forget about the runbot which is currently red. We can't merge your PR without the CI being green 😄\r\n\r\nChanges done. The error in the CI is due to a test of the `account_accountant` (enterprise) module."", 'created_at': datetime.datetime(2025, 1, 23, 10, 56, 59, tzinfo=datetime.timezone.utc)}, {'comment_id': 2611998053, 'issue_id': 2801281314, 'author': 'victoralmau', 'body': ""~~I have added an extra change that I have detected and it seems obvious to me, if the reconciliation model is of type '_Rule to match invoices/bills'_ it should **only** suggest amls of type invoice (I clarify this because some defined tests would not be necessary).~~"", 'created_at': datetime.datetime(2025, 1, 24, 8, 57, 22, tzinfo=datetime.timezone.utc)}, {'comment_id': 2612290417, 'issue_id': 2801281314, 'author': 'Megaaaaaa', 'body': ""Hey :wave:\r\n\r\nI tested the failing tests of the runbot with and without your changes and they are failing because of your changes. Some of them don't look like they should be impacted by your changes so I'll let you investigate to know whether you should modify those tests or adjust your changes to avoid them failing but in all cases there is something to be done here."", 'created_at': datetime.datetime(2025, 1, 24, 11, 23, 55, tzinfo=datetime.timezone.utc)}, {'comment_id': 2612958240, 'issue_id': 2801281314, 'author': 'victoralmau', 'body': 'Sorry, the previously added (https://github.com/odoo/odoo/pull/194482#issuecomment-2611998053) but now removed changes added unnecessary test errors. The code has been updated and now the only test that fails is the one for `account_accountant` (https://runbot.odoo.com/runbot/build/73905958) Can you check it? \r\n\r\nThanks.', 'created_at': datetime.datetime(2025, 1, 24, 16, 43, 36, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-21 09:53:21 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/194482.png)](https://mergebot.odoo.com/odoo/odoo/pull/194482)

victoralmau (Issue Creator) on (2025-01-23 10:56:59 UTC): Changes done. The error in the CI is due to a test of the `account_accountant` (enterprise) module.

victoralmau (Issue Creator) on (2025-01-24 08:57:22 UTC): ~~I have added an extra change that I have detected and it seems obvious to me, if the reconciliation model is of type '_Rule to match invoices/bills'_ it should **only** suggest amls of type invoice (I clarify this because some defined tests would not be necessary).~~

Megaaaaaa on (2025-01-24 11:23:55 UTC): Hey :wave:

I tested the failing tests of the runbot with and without your changes and they are failing because of your changes. Some of them don't look like they should be impacted by your changes so I'll let you investigate to know whether you should modify those tests or adjust your changes to avoid them failing but in all cases there is something to be done here.

victoralmau (Issue Creator) on (2025-01-24 16:43:36 UTC): Sorry, the previously added (https://github.com/odoo/odoo/pull/194482#issuecomment-2611998053) but now removed changes added unnecessary test errors. The code has been updated and now the only test that fails is the one for `account_accountant` (https://runbot.odoo.com/runbot/build/73905958) Can you check it? 

Thanks.

"
2801271085,pull_request,open,,[IMP] Recruitment: Request Signature,"Problem
----------
- SMS is always on top of action menu buttons

Objective
----------
- Make the SMS action sortable by sequence number with other buttons like Email, ...
- Put the ""Send Email"" button above the ""Send SMS""

Solution
----------
- Make an ir actions erver record like for Email and set Email above SMS with sequence numbers in candidate and applicant

task-4260572
",lebm-odoo,2025-01-21 09:49:11+00:00,[],2025-02-05 12:34:38+00:00,,https://github.com/odoo/odoo/pull/194481,"[('RD', 'research & development, internal work')]","[{'comment_id': 2604199364, 'issue_id': 2801271085, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/194481.png)](https://mergebot.odoo.com/odoo/odoo/pull/194481)', 'created_at': datetime.datetime(2025, 1, 21, 9, 49, 14, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-21 09:49:14 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/194481.png)](https://mergebot.odoo.com/odoo/odoo/pull/194481)

"
2801261583,pull_request,closed,,[FIX] mail: ensure selection updates correctly after mention insertion,"**Problem**:
When typing `@` in a non-collapsed selection (`a[b]`) and selecting an item from the mention list, the selection state becomes stale. This happens because `handleObserverRecords` calls `updateHints`, which relies on `getSelectionData`. However, `this.activeSelection` retains the outdated selection due to conditions like `documentSelectionIsInEditable` and `!this.activeSelection.anchorNode.isConnected` being `false`.

As a result, `this.activeSelection` reflects `a[b]` while the DOM selection has already updated to `a[]`, leading to invalid offsets.

**Solution**:
Call `this.dependencies.selection.focusEditable();` during `onSelect` to ensure the selection is updated to reflect the editor state rather than the mention state.

**Steps to Reproduce**:
1. Open the chatter.
2. Add some text.
3. Select a portion of the text.
4. Type `@`.
5. Select an item (person) from the mention list.
6. Observe a traceback error.

opw-4498165

---
I confirm I have signed the CLA and read the PR guidelines at www.odoo.com/submit-pr
",walidsahli,2025-01-21 09:45:38+00:00,[],2025-02-06 16:31:02+00:00,2025-01-23 16:08:08+00:00,https://github.com/odoo/odoo/pull/194480,"[('OE', 'the report is linked to a support ticket (opw-...)')]","[{'comment_id': 2604190546, 'issue_id': 2801261583, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/194480.png)](https://mergebot.odoo.com/odoo/odoo/pull/194480)', 'created_at': datetime.datetime(2025, 1, 21, 9, 45, 41, tzinfo=datetime.timezone.utc)}, {'comment_id': 2609718411, 'issue_id': 2801261583, 'author': 'dmo-odoo', 'body': '@robodoo r+', 'created_at': datetime.datetime(2025, 1, 23, 12, 44, 37, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-21 09:45:41 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/194480.png)](https://mergebot.odoo.com/odoo/odoo/pull/194480)

dmo-odoo on (2025-01-23 12:44:37 UTC): @robodoo r+

"
2801255724,pull_request,closed,,[FW][PERF] spreadsheet: load only one bundle,"Description of the issue/feature this PR addresses:

Current behavior before PR:

Desired behavior after PR is merged:




---
I confirm I have signed the CLA and read the PR guidelines at www.odoo.com/submit-pr

Forward-Port-Of: odoo/odoo#194304",fw-bot,2025-01-21 09:43:08+00:00,[],2025-02-04 19:23:22+00:00,2025-01-21 18:54:17+00:00,https://github.com/odoo/odoo/pull/194479,"[('RD', 'research & development, internal work'), ('forwardport', 'This PR was created by @fw-bot'), ('18.2', None)]","[{'comment_id': 2604185329, 'issue_id': 2801255724, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/194479.png)](https://mergebot.odoo.com/odoo/odoo/pull/194479)', 'created_at': datetime.datetime(2025, 1, 21, 9, 43, 28, tzinfo=datetime.timezone.utc)}, {'comment_id': 2604185377, 'issue_id': 2801255724, 'author': 'fw-bot', 'body': '@LucasLefevre @pro-odoo this PR targets master and is the last of the forward-port chain.\n\nTo merge the full chain, use\n> @robodoo r+\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 21, 9, 43, 30, tzinfo=datetime.timezone.utc)}, {'comment_id': 2604356525, 'issue_id': 2801255724, 'author': 'LucasLefevre', 'body': 'robodoo r+\r\n\r\nOn Tue, Jan 21, 2025 at 10:43\u202fAM Otis - Odoo Forward-Port Steward [bot] <\r\n***@***.***> wrote:\r\n\r\n> @LucasLefevre <https://github.com/LucasLefevre> @pro-odoo\r\n> <https://github.com/pro-odoo> this PR targets master and is the last of\r\n> the forward-port chain.\r\n>\r\n> To merge the full chain, use\r\n>\r\n> @robodoo <https://github.com/robodoo> r+\r\n>\r\n> More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port\r\n>\r\n> —\r\n> Reply to this email directly, view it on GitHub\r\n> <https://github.com/odoo/odoo/pull/194479#issuecomment-2604185377>, or\r\n> unsubscribe\r\n> <https://github.com/notifications/unsubscribe-auth/ACTHFENUTK3YJCIQGWHMEED2LYJFTAVCNFSM6AAAAABVSCMLSWVHI2DSMVQWIX3LMV43OSLTON2WKQ3PNVWWK3TUHMZDMMBUGE4DKMZXG4>\r\n> .\r\n> You are receiving this because you were mentioned.Message ID:\r\n> ***@***.***>\r\n>', 'created_at': datetime.datetime(2025, 1, 21, 10, 42, 14, tzinfo=datetime.timezone.utc)}, {'comment_id': 2604389775, 'issue_id': 2801255724, 'author': 'LucasLefevre', 'body': 'robodoo r-', 'created_at': datetime.datetime(2025, 1, 21, 10, 55, 14, tzinfo=datetime.timezone.utc)}, {'comment_id': 2604513669, 'issue_id': 2801255724, 'author': 'fw-bot', 'body': '@LucasLefevre @pro-odoo this PR was modified / updated and has become a normal PR. It must be merged directly.', 'created_at': datetime.datetime(2025, 1, 21, 11, 51, 33, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-21 09:43:28 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/194479.png)](https://mergebot.odoo.com/odoo/odoo/pull/194479)

fw-bot (Issue Creator) on (2025-01-21 09:43:30 UTC): @LucasLefevre @pro-odoo this PR targets master and is the last of the forward-port chain.

To merge the full chain, use

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

LucasLefevre on (2025-01-21 10:42:14 UTC): robodoo r+

On Tue, Jan 21, 2025 at 10:43 AM Otis - Odoo Forward-Port Steward [bot] <
***@***.***> wrote:

LucasLefevre on (2025-01-21 10:55:14 UTC): robodoo r-

fw-bot (Issue Creator) on (2025-01-21 11:51:33 UTC): @LucasLefevre @pro-odoo this PR was modified / updated and has become a normal PR. It must be merged directly.

"
2801157370,pull_request,closed,,[FW][FIX] l10n_my_edi: partner view.,"Fixes an issue on the partner view where a compute would try to read the proxy user, while not all
users who can read the partner would have read
access to the proxy user.

Also fix a similar case in the action used to validate the ID, which tries to read the proxy user.

error-105104

---
I confirm I have signed the CLA and read the PR guidelines at www.odoo.com/submit-pr

Forward-Port-Of: odoo/odoo#194459",fw-bot,2025-01-21 09:05:37+00:00,[],2025-02-04 16:27:45+00:00,2025-01-21 16:21:17+00:00,https://github.com/odoo/odoo/pull/194478,"[('RD', 'research & development, internal work'), ('forwardport', 'This PR was created by @fw-bot')]","[{'comment_id': 2604091312, 'issue_id': 2801157370, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/194478.png)](https://mergebot.odoo.com/odoo/odoo/pull/194478)', 'created_at': datetime.datetime(2025, 1, 21, 9, 5, 38, tzinfo=datetime.timezone.utc)}, {'comment_id': 2604091347, 'issue_id': 2801157370, 'author': 'fw-bot', 'body': 'This PR targets saas-17.2 and is part of the forward-port chain. Further PRs will be created up to master.\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 21, 9, 5, 39, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-21 09:05:38 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/194478.png)](https://mergebot.odoo.com/odoo/odoo/pull/194478)

fw-bot (Issue Creator) on (2025-01-21 09:05:39 UTC): This PR targets saas-17.2 and is part of the forward-port chain. Further PRs will be created up to master.

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

"
2801152536,pull_request,closed,,[FIX] product: search on attribute,"Steps to reproduce:
---

- Go to purchase -> config -> Products -> Attributes
- Search

Issue:
---

There was no search attribute for the autocompletion.The changes in
comportment is due to the changes in https://github.com/odoo/odoo/commit/72c5ed9f18bc9e2b1dde7029742d9feb34a4c52f .

Fix:
---

Added the name field to the search view.

opw-4434672

---
I confirm I have signed the CLA and read the PR guidelines at www.odoo.com/submit-pr
",jaeschwa,2025-01-21 09:04:09+00:00,[],2025-02-08 00:24:09+00:00,2025-01-25 00:08:39+00:00,https://github.com/odoo/odoo/pull/194477,"[('OE', 'the report is linked to a support ticket (opw-...)')]","[{'comment_id': 2604080693, 'issue_id': 2801152536, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/194477.png)](https://mergebot.odoo.com/odoo/odoo/pull/194477)', 'created_at': datetime.datetime(2025, 1, 21, 9, 4, 12, tzinfo=datetime.timezone.utc)}, {'comment_id': 2610130293, 'issue_id': 2801152536, 'author': 'robodoo', 'body': ""@jaeschwa @Feyensv 'ci/runbot' failed on this reviewed PR."", 'created_at': datetime.datetime(2025, 1, 23, 15, 33, 37, tzinfo=datetime.timezone.utc)}, {'comment_id': 2611879397, 'issue_id': 2801152536, 'author': 'jaeschwa', 'body': '@robodoo retry', 'created_at': datetime.datetime(2025, 1, 24, 7, 50, 39, tzinfo=datetime.timezone.utc)}, {'comment_id': 2611879452, 'issue_id': 2801152536, 'author': 'robodoo', 'body': '@jaeschwa retry makes no sense when the PR is not in error.', 'created_at': datetime.datetime(2025, 1, 24, 7, 50, 41, tzinfo=datetime.timezone.utc)}, {'comment_id': 2611879791, 'issue_id': 2801152536, 'author': 'jaeschwa', 'body': '@robodoo r+', 'created_at': datetime.datetime(2025, 1, 24, 7, 50, 54, tzinfo=datetime.timezone.utc)}, {'comment_id': 2611879863, 'issue_id': 2801152536, 'author': 'robodoo', 'body': 'This PR is already reviewed, reviewing it again is useless.', 'created_at': datetime.datetime(2025, 1, 24, 7, 50, 56, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-21 09:04:12 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/194477.png)](https://mergebot.odoo.com/odoo/odoo/pull/194477)

robodoo on (2025-01-23 15:33:37 UTC): @jaeschwa @Feyensv 'ci/runbot' failed on this reviewed PR.

jaeschwa (Issue Creator) on (2025-01-24 07:50:39 UTC): @robodoo retry

robodoo on (2025-01-24 07:50:41 UTC): @jaeschwa retry makes no sense when the PR is not in error.

jaeschwa (Issue Creator) on (2025-01-24 07:50:54 UTC): @robodoo r+

robodoo on (2025-01-24 07:50:56 UTC): This PR is already reviewed, reviewing it again is useless.

"
2801146944,pull_request,closed,,[FW][FIX] resource: fix duration days of working schedules,"When creating a new working schedule, the duration (days) was not computed correctly. This was due to a missing field in the depends of the compute method.

This commits fixes the issue by adding the hours per day in the depens of the duration days compute method. That way, the duration days will be computed after that the hours per day are computed.

task-4457200

Forward-Port-Of: odoo/odoo#193715",fw-bot,2025-01-21 09:02:21+00:00,[],2025-02-04 15:53:57+00:00,2025-01-21 15:37:31+00:00,https://github.com/odoo/odoo/pull/194476,"[('RD', 'research & development, internal work'), ('forwardport', 'This PR was created by @fw-bot')]","[{'comment_id': 2604068499, 'issue_id': 2801146944, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/194476.png)](https://mergebot.odoo.com/odoo/odoo/pull/194476)', 'created_at': datetime.datetime(2025, 1, 21, 9, 2, 23, tzinfo=datetime.timezone.utc)}, {'comment_id': 2604068667, 'issue_id': 2801146944, 'author': 'fw-bot', 'body': 'This PR targets saas-18.1 and is part of the forward-port chain. Further PRs will be created up to master.\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 21, 9, 2, 24, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-21 09:02:23 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/194476.png)](https://mergebot.odoo.com/odoo/odoo/pull/194476)

fw-bot (Issue Creator) on (2025-01-21 09:02:24 UTC): This PR targets saas-18.1 and is part of the forward-port chain. Further PRs will be created up to master.

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

"
2801131821,pull_request,closed,,[IMP] account: adding gin index on transaction details,"This commit will add an index on the transaction_details column so that we can search element on it.

task-4345739




---
I confirm I have signed the CLA and read the PR guidelines at www.odoo.com/submit-pr
",malb-odoo,2025-01-21 08:57:36+00:00,[],2025-02-05 13:25:15+00:00,2025-02-05 13:24:09+00:00,https://github.com/odoo/odoo/pull/194475,"[('RD', 'research & development, internal work')]","[{'comment_id': 2604038174, 'issue_id': 2801131821, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/194475.png)](https://mergebot.odoo.com/odoo/odoo/pull/194475)', 'created_at': datetime.datetime(2025, 1, 21, 8, 57, 39, tzinfo=datetime.timezone.utc)}, {'comment_id': 2636847368, 'issue_id': 2801131821, 'author': 'malb-odoo', 'body': 'not needed anymore', 'created_at': datetime.datetime(2025, 2, 5, 13, 24, 9, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-21 08:57:39 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/194475.png)](https://mergebot.odoo.com/odoo/odoo/pull/194475)

malb-odoo (Issue Creator) on (2025-02-05 13:24:09 UTC): not needed anymore

"
2801131704,pull_request,closed,,"[IMP] stock: move the ""Return All"" button in the return wizard","We move the ""Return All"" button of the return wizard as the penultimate button since it is a bit Awkward to see it between ""Return"" and ""Return for Exchange"".
",lase-odoo,2025-01-21 08:57:33+00:00,[],2025-01-24 10:27:12+00:00,2025-01-24 10:27:12+00:00,https://github.com/odoo/odoo/pull/194474,"[('OE', 'the report is linked to a support ticket (opw-...)')]","[{'comment_id': 2604038095, 'issue_id': 2801131704, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/194474.png)](https://mergebot.odoo.com/odoo/odoo/pull/194474)', 'created_at': datetime.datetime(2025, 1, 21, 8, 57, 37, tzinfo=datetime.timezone.utc)}, {'comment_id': 2604146731, 'issue_id': 2801131704, 'author': 'lase-odoo', 'body': 'Improve spec:\r\n<img width=""1013"" alt=""spec"" src=""https://github.com/user-attachments/assets/1f11df19-3b5e-40ef-aae3-7603e251239e"" />', 'created_at': datetime.datetime(2025, 1, 21, 9, 26, 45, tzinfo=datetime.timezone.utc)}, {'comment_id': 2612186190, 'issue_id': 2801131704, 'author': 'lase-odoo', 'body': 'task cancelled', 'created_at': datetime.datetime(2025, 1, 24, 10, 27, 12, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-21 08:57:37 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/194474.png)](https://mergebot.odoo.com/odoo/odoo/pull/194474)

lase-odoo (Issue Creator) on (2025-01-21 09:26:45 UTC): Improve spec:
<img width=""1013"" alt=""spec"" src=""https://github.com/user-attachments/assets/1f11df19-3b5e-40ef-aae3-7603e251239e"" />

lase-odoo (Issue Creator) on (2025-01-24 10:27:12 UTC): task cancelled

"
2801130181,pull_request,closed,,[FW][IMP] core: disable downloading during tours,"It's not *entirely* clear which and when, but some tours apparently trigger downloads, which by default will make a mess of the user's Downloads folder when running tests locally.

This has mostly been observed in 18.0 / master with Studio exports but there are a few others as well (e.g. a few reports). Either way, seems like a good idea to just configure chrome to block them.

Forward-Port-Of: odoo/odoo#194393",fw-bot,2025-01-21 08:57:05+00:00,[],2025-01-22 11:40:12+00:00,2025-01-22 09:53:03+00:00,https://github.com/odoo/odoo/pull/194473,"[('RD', 'research & development, internal work'), ('forwardport', 'This PR was created by @fw-bot')]","[{'comment_id': 2604035335, 'issue_id': 2801130181, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/194473.png)](https://mergebot.odoo.com/odoo/odoo/pull/194473)', 'created_at': datetime.datetime(2025, 1, 21, 8, 57, 6, tzinfo=datetime.timezone.utc)}, {'comment_id': 2604035403, 'issue_id': 2801130181, 'author': 'fw-bot', 'body': 'This PR targets saas-17.4 and is part of the forward-port chain. Further PRs will be created up to master.\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 21, 8, 57, 7, tzinfo=datetime.timezone.utc)}, {'comment_id': 2605159485, 'issue_id': 2801130181, 'author': 'robodoo', 'body': '@xmo-odoo staging failed: ci/runbot on 651fce2deaba4109ff88893b053bfd2ad1461d1f (view more at https://runbot.odoo.com/runbot/build/73716136)', 'created_at': datetime.datetime(2025, 1, 21, 16, 11, 7, tzinfo=datetime.timezone.utc)}, {'comment_id': 2606426143, 'issue_id': 2801130181, 'author': 'xmo-odoo', 'body': '@robodoo retry', 'created_at': datetime.datetime(2025, 1, 22, 6, 47, 54, tzinfo=datetime.timezone.utc)}, {'comment_id': 2606461213, 'issue_id': 2801130181, 'author': 'robodoo', 'body': '@xmo-odoo staging failed: ci/runbot on 3d8c81c5e8200d7cde312d0a8e7d54da2aec0f39 (view more at https://runbot.odoo.com/runbot/build/73755310)', 'created_at': datetime.datetime(2025, 1, 22, 7, 13, 45, tzinfo=datetime.timezone.utc)}, {'comment_id': 2606527392, 'issue_id': 2801130181, 'author': 'xmo-odoo', 'body': '@robodoo retry', 'created_at': datetime.datetime(2025, 1, 22, 7, 57, 11, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-21 08:57:06 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/194473.png)](https://mergebot.odoo.com/odoo/odoo/pull/194473)

fw-bot (Issue Creator) on (2025-01-21 08:57:07 UTC): This PR targets saas-17.4 and is part of the forward-port chain. Further PRs will be created up to master.

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

robodoo on (2025-01-21 16:11:07 UTC): @xmo-odoo staging failed: ci/runbot on 651fce2deaba4109ff88893b053bfd2ad1461d1f (view more at https://runbot.odoo.com/runbot/build/73716136)

xmo-odoo on (2025-01-22 06:47:54 UTC): @robodoo retry

robodoo on (2025-01-22 07:13:45 UTC): @xmo-odoo staging failed: ci/runbot on 3d8c81c5e8200d7cde312d0a8e7d54da2aec0f39 (view more at https://runbot.odoo.com/runbot/build/73755310)

xmo-odoo on (2025-01-22 07:57:11 UTC): @robodoo retry

"
2801114908,pull_request,closed,,[FW][FIX] test_http: call new_test_user in setUpClass,"Forward-Port-Of: odoo/odoo#194034
Forward-Port-Of: odoo/odoo#193775",fw-bot,2025-01-21 08:52:18+00:00,[],2025-02-04 22:33:43+00:00,2025-01-21 22:03:30+00:00,https://github.com/odoo/odoo/pull/194472,"[('RD', 'research & development, internal work'), ('forwardport', 'This PR was created by @fw-bot'), ('18.2', None)]","[{'comment_id': 2604010845, 'issue_id': 2801114908, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/194472.png)](https://mergebot.odoo.com/odoo/odoo/pull/194472)', 'created_at': datetime.datetime(2025, 1, 21, 8, 52, 20, tzinfo=datetime.timezone.utc)}, {'comment_id': 2604010873, 'issue_id': 2801114908, 'author': 'fw-bot', 'body': '@Julien00859 this PR targets master and is the last of the forward-port chain containing:\n* odoo/odoo#194466\n\nTo merge the full chain, use\n> @robodoo r+\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 21, 8, 52, 21, tzinfo=datetime.timezone.utc)}, {'comment_id': 2604201895, 'issue_id': 2801114908, 'author': 'fw-bot', 'body': '@Julien00859 ci/runbot failed on this forward-port PR', 'created_at': datetime.datetime(2025, 1, 21, 9, 50, 20, tzinfo=datetime.timezone.utc)}, {'comment_id': 2605113869, 'issue_id': 2801114908, 'author': 'Julien00859', 'body': '@robodoo r+', 'created_at': datetime.datetime(2025, 1, 21, 15, 54, 59, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-21 08:52:20 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/194472.png)](https://mergebot.odoo.com/odoo/odoo/pull/194472)

fw-bot (Issue Creator) on (2025-01-21 08:52:21 UTC): @Julien00859 this PR targets master and is the last of the forward-port chain containing:
* odoo/odoo#194466

To merge the full chain, use

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

fw-bot (Issue Creator) on (2025-01-21 09:50:20 UTC): @Julien00859 ci/runbot failed on this forward-port PR

Julien00859 on (2025-01-21 15:54:59 UTC): @robodoo r+

"
2801081896,pull_request,closed,,[FIX] l10n_ec_sale: missing sudo on geting default EC payment methods,"This commit fixes an AccessError on a failing test in runbot, by granting a `sudo` on the default record search for EC Payment Method field.

runbot: [102689](https://runbot.odoo.com/odoo/action-573/102689)",yosuanicolaus,2025-01-21 08:38:34+00:00,['yosuanicolaus'],2025-02-04 15:53:58+00:00,2025-01-21 15:37:36+00:00,https://github.com/odoo/odoo/pull/194471,"[('RD', 'research & development, internal work')]","[{'comment_id': 2603979746, 'issue_id': 2801081896, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/194471.png)](https://mergebot.odoo.com/odoo/odoo/pull/194471)', 'created_at': datetime.datetime(2025, 1, 21, 8, 38, 36, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-21 08:38:36 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/194471.png)](https://mergebot.odoo.com/odoo/odoo/pull/194471)

"
2801012560,pull_request,closed,,[IMP] web: x2m field kanban: replace `Add` button with a Kanban card,"This commit, aims change the look of the `Add` button. From now, it's a kanban card at the end of the Kanban. The label is ""Add"" followed by the model name of the field.

The `Add` card appears only when the field match these condition:
* not readonly
* the kanban has the attribute ""create=true"" (default value)
* the kanban has the attribute ""link=true"" (default value)
* the kanban has no ""control""

task-4361655


---
I confirm I have signed the CLA and read the PR guidelines at www.odoo.com/submit-pr
",rfr-odoo,2025-01-21 08:16:40+00:00,['rfr-odoo'],2025-02-04 07:58:14+00:00,2025-01-31 16:30:12+00:00,https://github.com/odoo/odoo/pull/194470,"[('RD', 'research & development, internal work'), ('18.2', None)]","[{'comment_id': 2603930649, 'issue_id': 2801012560, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/194470.png)](https://mergebot.odoo.com/odoo/odoo/pull/194470)', 'created_at': datetime.datetime(2025, 1, 21, 8, 16, 43, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-21 08:16:43 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/194470.png)](https://mergebot.odoo.com/odoo/odoo/pull/194470)

"
2800972510,pull_request,closed,,[FW][FIX] account_peppol: Fix the messaged displayed on Peppol error,"When an error occurs on IAP side for Peppol we display the content of `message` while we have a more friendly-user text stored in `display_message`. Use the latter when logging in Odoo.

See: https://github.com/odoo/iap-apps/blob/5dde71627dfd6c6168935346bece0018d4701ce3/iap_services/peppol_proxy/exceptions.py#L14
task-no

Forward-Port-Of: odoo/odoo#194352",fw-bot,2025-01-21 08:00:00+00:00,[],2025-02-04 14:38:07+00:00,2025-01-21 14:13:40+00:00,https://github.com/odoo/odoo/pull/194469,"[('RD', 'research & development, internal work'), ('forwardport', 'This PR was created by @fw-bot'), ('18.2', None)]","[{'comment_id': 2603899155, 'issue_id': 2800972510, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/194469.png)](https://mergebot.odoo.com/odoo/odoo/pull/194469)', 'created_at': datetime.datetime(2025, 1, 21, 8, 0, 2, tzinfo=datetime.timezone.utc)}, {'comment_id': 2603899181, 'issue_id': 2800972510, 'author': 'fw-bot', 'body': '@clbr-odoo @antoine162 this PR targets master and is the last of the forward-port chain containing:\n* odoo/odoo#194454\n* odoo/odoo#194442\n* odoo/odoo#194435\n* odoo/odoo#194431\n\nTo merge the full chain, use\n> @robodoo r+\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 21, 8, 0, 3, tzinfo=datetime.timezone.utc)}, {'comment_id': 2603908296, 'issue_id': 2800972510, 'author': 'clbr-odoo', 'body': '@robodoo r+', 'created_at': datetime.datetime(2025, 1, 21, 8, 5, 2, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-21 08:00:02 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/194469.png)](https://mergebot.odoo.com/odoo/odoo/pull/194469)

fw-bot (Issue Creator) on (2025-01-21 08:00:03 UTC): @clbr-odoo @antoine162 this PR targets master and is the last of the forward-port chain containing:
* odoo/odoo#194454
* odoo/odoo#194442
* odoo/odoo#194435
* odoo/odoo#194431

To merge the full chain, use

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

clbr-odoo on (2025-01-21 08:05:02 UTC): @robodoo r+

"
2800955377,pull_request,closed,,[FW][IMP] core: disable downloading during tours,"It's not *entirely* clear which and when, but some tours apparently trigger downloads, which by default will make a mess of the user's Downloads folder when running tests locally.

This has mostly been observed in 18.0 / master with Studio exports but there are a few others as well (e.g. a few reports). Either way, seems like a good idea to just configure chrome to block them.

Forward-Port-Of: odoo/odoo#194393",fw-bot,2025-01-21 07:50:35+00:00,[],2025-02-04 15:08:24+00:00,2025-01-21 15:08:01+00:00,https://github.com/odoo/odoo/pull/194468,"[('RD', 'research & development, internal work'), ('forwardport', 'This PR was created by @fw-bot')]","[{'comment_id': 2603883608, 'issue_id': 2800955377, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/194468.png)](https://mergebot.odoo.com/odoo/odoo/pull/194468)', 'created_at': datetime.datetime(2025, 1, 21, 7, 50, 37, tzinfo=datetime.timezone.utc)}, {'comment_id': 2603883625, 'issue_id': 2800955377, 'author': 'fw-bot', 'body': 'This PR targets saas-17.2 and is part of the forward-port chain. Further PRs will be created up to master.\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 21, 7, 50, 37, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-21 07:50:37 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/194468.png)](https://mergebot.odoo.com/odoo/odoo/pull/194468)

fw-bot (Issue Creator) on (2025-01-21 07:50:37 UTC): This PR targets saas-17.2 and is part of the forward-port chain. Further PRs will be created up to master.

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

"
2800947169,pull_request,closed,,[FW][FIX] rpc: re-raise exceptions for http.py,"For my friends at tech support

Exceptions in RPC are handled and a Response is returned directly. It is a different behaviour than jsonrpc where the exception is raised and the dispatcher wraps it is a Response after logging the exception. The xmlrpc code should also raise an exception so that it can be handled in http.py. Adding here a way to detect if a Response was already generated for an exception in the exception handler of HTTP.

Related: #193208

Forward-Port-Of: odoo/odoo#193659
Forward-Port-Of: odoo/odoo#193421",fw-bot,2025-01-21 07:45:53+00:00,[],2025-01-22 15:27:48+00:00,2025-01-22 11:09:31+00:00,https://github.com/odoo/odoo/pull/194467,"[('RD', 'research & development, internal work'), ('forwardport', 'This PR was created by @fw-bot'), ('conflict', 'There was an error while creating this forward-port PR')]","[{'comment_id': 2603875709, 'issue_id': 2800947169, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/194467.png)](https://mergebot.odoo.com/odoo/odoo/pull/194467)', 'created_at': datetime.datetime(2025, 1, 21, 7, 45, 55, tzinfo=datetime.timezone.utc)}, {'comment_id': 2603875732, 'issue_id': 2800947169, 'author': 'fw-bot', 'body': '@Julien00859 cherrypicking of pull request odoo/odoo#193421 failed.\n\nstdout:\n```\nAuto-merging odoo/addons/base/controllers/rpc.py\nAuto-merging odoo/addons/test_rpc/tests/test_error.py\nAuto-merging odoo/http.py\nCONFLICT (content): Merge conflict in odoo/http.py\n\n```\n\nEither perform the forward-port manually (and push to this branch, proceeding as usual) or close this PR (maybe?).\n\nIn the former case, you may want to edit this PR message as well.\n\n:warning: after resolving this conflict, you will need to merge it via @robodoo.\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 21, 7, 45, 55, tzinfo=datetime.timezone.utc)}, {'comment_id': 2606119422, 'issue_id': 2800947169, 'author': 'fw-bot', 'body': '@Julien00859 this forward port of odoo/odoo#193421 is awaiting action (not merged or closed).', 'created_at': datetime.datetime(2025, 1, 22, 2, 1, 37, tzinfo=datetime.timezone.utc)}, {'comment_id': 2606540104, 'issue_id': 2800947169, 'author': 'Julien00859', 'body': '@robodoo r+', 'created_at': datetime.datetime(2025, 1, 22, 8, 4, 50, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-21 07:45:55 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/194467.png)](https://mergebot.odoo.com/odoo/odoo/pull/194467)

fw-bot (Issue Creator) on (2025-01-21 07:45:55 UTC): @Julien00859 cherrypicking of pull request odoo/odoo#193421 failed.

stdout:
```
Auto-merging odoo/addons/base/controllers/rpc.py
Auto-merging odoo/addons/test_rpc/tests/test_error.py
Auto-merging odoo/http.py
CONFLICT (content): Merge conflict in odoo/http.py

```

Either perform the forward-port manually (and push to this branch, proceeding as usual) or close this PR (maybe?).

In the former case, you may want to edit this PR message as well.

:warning: after resolving this conflict, you will need to merge it via @robodoo.

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

fw-bot (Issue Creator) on (2025-01-22 02:01:37 UTC): @Julien00859 this forward port of odoo/odoo#193421 is awaiting action (not merged or closed).

Julien00859 on (2025-01-22 08:04:50 UTC): @robodoo r+

"
2800928763,pull_request,closed,,[FW][FIX] test_http: call new_test_user in setUpClass,"Forward-Port-Of: odoo/odoo#194034
Forward-Port-Of: odoo/odoo#193775",fw-bot,2025-01-21 07:35:26+00:00,[],2025-02-04 18:22:07+00:00,2025-01-21 18:16:58+00:00,https://github.com/odoo/odoo/pull/194466,"[('RD', 'research & development, internal work'), ('forwardport', 'This PR was created by @fw-bot')]","[{'comment_id': 2603859870, 'issue_id': 2800928763, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/194466.png)](https://mergebot.odoo.com/odoo/odoo/pull/194466)', 'created_at': datetime.datetime(2025, 1, 21, 7, 35, 28, tzinfo=datetime.timezone.utc)}, {'comment_id': 2603859888, 'issue_id': 2800928763, 'author': 'fw-bot', 'body': 'This PR targets saas-18.1 and is part of the forward-port chain. Further PRs will be created up to master.\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 21, 7, 35, 28, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-21 07:35:28 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/194466.png)](https://mergebot.odoo.com/odoo/odoo/pull/194466)

fw-bot (Issue Creator) on (2025-01-21 07:35:28 UTC): This PR targets saas-18.1 and is part of the forward-port chain. Further PRs will be created up to master.

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

"
2800914164,pull_request,closed,,[FIX] hr_timesheet: fix the validation error on create in form,"Steps to reproduce:

- Open any editable project from portal
- Open any task
- Create a task using Form New button.
- Give the changes and save

Issue:

- A validation error

Reason:

- The timesheets ids field in project sharing view has readonly attruibute which
it shouldn't have.
- Due to this changes are fetched and context in evaluated this field
becomes writable.

Fix:

- Remove the readonly attribute as timesheet_ids is already a readonly field
in portal side.

task- 4494040",kthe-odoo,2025-01-21 07:26:50+00:00,[],2025-02-07 16:54:19+00:00,2025-01-24 16:48:55+00:00,https://github.com/odoo/odoo/pull/194465,"[('RD', 'research & development, internal work')]","[{'comment_id': 2603846685, 'issue_id': 2800914164, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/194465.png)](https://mergebot.odoo.com/odoo/odoo/pull/194465)', 'created_at': datetime.datetime(2025, 1, 21, 7, 26, 53, tzinfo=datetime.timezone.utc)}, {'comment_id': 2606936258, 'issue_id': 2800914164, 'author': 'ppr-odoo', 'body': 'Hello @kthe-odoo We are reverting this commit [link](https://github.com/odoo/odoo/commit/79e3e783dc0517712a0727801c11378a6255257a) . so, we should remove the readonly attribute because the timesheet_ids field is readonly for sharing tasks.thanks for the work.[field](https://github.com/odoo/odoo/blob/18.0/addons/hr_timesheet/models/project_task.py#L24)', 'created_at': datetime.datetime(2025, 1, 22, 11, 3, 50, tzinfo=datetime.timezone.utc)}, {'comment_id': 2612493780, 'issue_id': 2800914164, 'author': 'xavierbol', 'body': '> Hello @kthe-odoo We are reverting this commit [link](https://github.com/odoo/odoo/commit/79e3e783dc0517712a0727801c11378a6255257a) . so, we should remove the readonly attribute because the timesheet_ids field is readonly for sharing tasks.thanks for the work.[field](https://github.com/odoo/odoo/blob/18.0/addons/hr_timesheet/models/project_task.py#L24)\r\n\r\nindeed good idea. 🙂 \r\n\r\nHowever, the internal user could also go to project sharing views to test and see what the portal user see. So, I think it would be nice to set `readonly=True` on the field inside the form view to be sure the field will be always in readonly for any user. 🙂', 'created_at': datetime.datetime(2025, 1, 24, 13, 8, 17, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-21 07:26:53 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/194465.png)](https://mergebot.odoo.com/odoo/odoo/pull/194465)

ppr-odoo on (2025-01-22 11:03:50 UTC): Hello @kthe-odoo We are reverting this commit [link](https://github.com/odoo/odoo/commit/79e3e783dc0517712a0727801c11378a6255257a) . so, we should remove the readonly attribute because the timesheet_ids field is readonly for sharing tasks.thanks for the work.[field](https://github.com/odoo/odoo/blob/18.0/addons/hr_timesheet/models/project_task.py#L24)

xavierbol on (2025-01-24 13:08:17 UTC): indeed good idea. 🙂 

However, the internal user could also go to project sharing views to test and see what the portal user see. So, I think it would be nice to set `readonly=True` on the field inside the form view to be sure the field will be always in readonly for any user. 🙂

"
2800893434,pull_request,closed,,[FIX] spreadsheet_account: 'See Records' icon in context menu,"# Description

The 'See Records' icon was missing when attempting to open `AccountMoveLines` records from the context menu in the spreadsheet.

Task: 0

---
I confirm I have signed the CLA and read the PR guidelines at www.odoo.com/submit-pr
",dhrp-odoo,2025-01-21 07:15:45+00:00,[],2025-02-04 12:17:14+00:00,2025-01-21 12:01:10+00:00,https://github.com/odoo/odoo/pull/194464,"[('RD', 'research & development, internal work')]","[{'comment_id': 2603829643, 'issue_id': 2800893434, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/194464.png)](https://mergebot.odoo.com/odoo/odoo/pull/194464)', 'created_at': datetime.datetime(2025, 1, 21, 7, 15, 48, tzinfo=datetime.timezone.utc)}, {'comment_id': 2604126289, 'issue_id': 2800893434, 'author': 'rrahir', 'body': '@robodoo r+', 'created_at': datetime.datetime(2025, 1, 21, 9, 18, 15, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-21 07:15:48 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/194464.png)](https://mergebot.odoo.com/odoo/odoo/pull/194464)

rrahir on (2025-01-21 09:18:15 UTC): @robodoo r+

"
2800810871,pull_request,open,,[FIX] html_editor: wrong cursor direction on paragraph break,"**Current behavior before PR:**

When there is a `heading`, `pre` or `blockquote` tag in `rtl` direction, pressing enter at the end of element creates a new `p` tag in `ltr` direction rather than `rtl`.

**Desired behavior after PR:**

Now, pressing enter at the end of `heading`, `pre` or `blockquote` tag in `rtl` direction creates a new empty paragraph tag with `rtl` direction.

task-4484619



---
I confirm I have signed the CLA and read the PR guidelines at www.odoo.com/submit-pr
",adsa-odoo,2025-01-21 06:21:58+00:00,[],2025-02-05 12:13:25+00:00,,https://github.com/odoo/odoo/pull/194463,"[('RD', 'research & development, internal work')]","[{'comment_id': 2603758579, 'issue_id': 2800810871, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/194463.png)](https://mergebot.odoo.com/odoo/odoo/pull/194463)', 'created_at': datetime.datetime(2025, 1, 21, 6, 22, 1, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-21 06:22:01 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/194463.png)](https://mergebot.odoo.com/odoo/odoo/pull/194463)

"
2800779619,pull_request,closed,,[FW][FIX] account: avoid searching on account.root,"account.root is a technical model only meant to be used in the side panel and therefore only has a limited ORM functionality. Trying to search on anything else than the ID is not allowed, and rather useless since a domain on `root_id` and be replaced with a domain on the account (or it's display_name) directly.
Instead of:
* `[('root_id', 'ilike', prefix)]`, use `[('display_name', 'ilike', prefix)]`
* `[('account_id.root_id', 'ilike', prefix)]`, use `[('account_id', 'ilike', prefix)]`

This commit simply redirects the user to the alternate field.

Forward-Port-Of: odoo/odoo#194165",fw-bot,2025-01-21 05:59:18+00:00,[],2025-02-06 19:17:28+00:00,2025-01-23 19:16:55+00:00,https://github.com/odoo/odoo/pull/194462,"[('RD', 'research & development, internal work'), ('forwardport', 'This PR was created by @fw-bot'), ('18.2', None)]","[{'comment_id': 2603730490, 'issue_id': 2800779619, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/194462.png)](https://mergebot.odoo.com/odoo/odoo/pull/194462)', 'created_at': datetime.datetime(2025, 1, 21, 5, 59, 20, tzinfo=datetime.timezone.utc)}, {'comment_id': 2603730501, 'issue_id': 2800779619, 'author': 'fw-bot', 'body': '@william-andre @antoine162 this PR targets master and is the last of the forward-port chain containing:\n* odoo/odoo#194461\n\nTo merge the full chain, use\n> @robodoo r+\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 21, 5, 59, 20, tzinfo=datetime.timezone.utc)}, {'comment_id': 2603798895, 'issue_id': 2800779619, 'author': 'fw-bot', 'body': '@william-andre @antoine162 ci/runbot failed on this forward-port PR', 'created_at': datetime.datetime(2025, 1, 21, 6, 53, 24, tzinfo=datetime.timezone.utc)}, {'comment_id': 2610285942, 'issue_id': 2800779619, 'author': 'william-andre', 'body': '@robodoo r+', 'created_at': datetime.datetime(2025, 1, 23, 16, 19, 34, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-21 05:59:20 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/194462.png)](https://mergebot.odoo.com/odoo/odoo/pull/194462)

fw-bot (Issue Creator) on (2025-01-21 05:59:20 UTC): @william-andre @antoine162 this PR targets master and is the last of the forward-port chain containing:
* odoo/odoo#194461

To merge the full chain, use

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

fw-bot (Issue Creator) on (2025-01-21 06:53:24 UTC): @william-andre @antoine162 ci/runbot failed on this forward-port PR

william-andre on (2025-01-23 16:19:34 UTC): @robodoo r+

"
2800700215,pull_request,closed,,[FW][FIX] account: avoid searching on account.root,"account.root is a technical model only meant to be used in the side panel and therefore only has a limited ORM functionality. Trying to search on anything else than the ID is not allowed, and rather useless since a domain on `root_id` and be replaced with a domain on the account (or it's display_name) directly.
Instead of:
* `[('root_id', 'ilike', prefix)]`, use `[('display_name', 'ilike', prefix)]`
* `[('account_id.root_id', 'ilike', prefix)]`, use `[('account_id', 'ilike', prefix)]`

This commit simply redirects the user to the alternate field.

Forward-Port-Of: odoo/odoo#194165",fw-bot,2025-01-21 04:54:49+00:00,[],2025-02-07 04:30:54+00:00,2025-01-24 03:55:23+00:00,https://github.com/odoo/odoo/pull/194461,"[('RD', 'research & development, internal work'), ('forwardport', 'This PR was created by @fw-bot')]","[{'comment_id': 2603654426, 'issue_id': 2800700215, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/194461.png)](https://mergebot.odoo.com/odoo/odoo/pull/194461)', 'created_at': datetime.datetime(2025, 1, 21, 4, 54, 50, tzinfo=datetime.timezone.utc)}, {'comment_id': 2603654431, 'issue_id': 2800700215, 'author': 'fw-bot', 'body': 'This PR targets saas-18.1 and is part of the forward-port chain. Further PRs will be created up to master.\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 21, 4, 54, 51, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-21 04:54:50 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/194461.png)](https://mergebot.odoo.com/odoo/odoo/pull/194461)

fw-bot (Issue Creator) on (2025-01-21 04:54:51 UTC): This PR targets saas-18.1 and is part of the forward-port chain. Further PRs will be created up to master.

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

"
2800699880,pull_request,closed,,"[FW][IMP] account_edi_ubl_cii,account_peppol: Peppol First amendments","- Improvements of message of Peppol/BIS3 related warnings of the Print & Send wizards.
- Wording improvements for clarity.
- Make the ""What is Peppol"" modal more present. Change its flow: the ""activate"" buttons
now leads to the Peppol registration wizard if the company is not registered yet.

task-4478365

Forward-Port-Of: odoo/odoo#193714",fw-bot,2025-01-21 04:54:32+00:00,[],2025-01-27 15:56:07+00:00,2025-01-27 15:56:07+00:00,https://github.com/odoo/odoo/pull/194460,"[('RD', 'research & development, internal work'), ('forwardport', 'This PR was created by @fw-bot'), ('conflict', 'There was an error while creating this forward-port PR')]","[{'comment_id': 2603654180, 'issue_id': 2800699880, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/194460.png)](https://mergebot.odoo.com/odoo/odoo/pull/194460)', 'created_at': datetime.datetime(2025, 1, 21, 4, 54, 33, tzinfo=datetime.timezone.utc)}, {'comment_id': 2603654193, 'issue_id': 2800699880, 'author': 'fw-bot', 'body': '@clbr-odoo @antoine162 cherrypicking of pull request odoo/odoo#193714 failed.\n\n* 7d0d5a7743fac161ecbb6b41d501e6d76af8dda3\n* f54e7c0d144c2beab1bfc857823ec25a105bcceb <- on this commit\n\nstdout:\n```\nAuto-merging addons/account/static/src/components/actionable_errors/actionable_errors.js\nAuto-merging addons/account/wizard/account_move_send_wizard.py\nAuto-merging addons/account_edi_proxy_client/i18n/account_edi_proxy_client.pot\nCONFLICT (content): Merge conflict in addons/account_edi_proxy_client/i18n/account_edi_proxy_client.pot\nAuto-merging addons/account_edi_proxy_client/models/account_edi_proxy_user.py\nAuto-merging addons/account_edi_ubl_cii/i18n/account_edi_ubl_cii.pot\nCONFLICT (content): Merge conflict in addons/account_edi_ubl_cii/i18n/account_edi_ubl_cii.pot\nAuto-merging addons/account_peppol/i18n/account_peppol.pot\nCONFLICT (content): Merge conflict in addons/account_peppol/i18n/account_peppol.pot\nAuto-merging addons/account_peppol/models/account_edi_proxy_user.py\nAuto-merging addons/account_peppol/models/account_move_send.py\nAuto-merging addons/account_peppol/models/res_partner.py\nAuto-merging addons/account_peppol/tests/test_peppol_messages.py\nCONFLICT (content): Merge conflict in addons/account_peppol/tests/test_peppol_messages.py\nAuto-merging addons/account_peppol/tools/demo_utils.py\nCONFLICT (content): Merge conflict in addons/account_peppol/tools/demo_utils.py\n\n```\n\nEither perform the forward-port manually (and push to this branch, proceeding as usual) or close this PR (maybe?).\n\nIn the former case, you may want to edit this PR message as well.\n\n:warning: after resolving this conflict, you will need to merge it via @robodoo.\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 21, 4, 54, 34, tzinfo=datetime.timezone.utc)}, {'comment_id': 2607120550, 'issue_id': 2800699880, 'author': 'clbr-odoo', 'body': '@robodoo r+', 'created_at': datetime.datetime(2025, 1, 22, 12, 28, 37, tzinfo=datetime.timezone.utc)}, {'comment_id': 2607121350, 'issue_id': 2800699880, 'author': 'clbr-odoo', 'body': ""@robodoo r-\r\n(didn't see recent conflict in .pot)"", 'created_at': datetime.datetime(2025, 1, 22, 12, 29, 1, tzinfo=datetime.timezone.utc)}, {'comment_id': 2607133011, 'issue_id': 2800699880, 'author': 'clbr-odoo', 'body': '@robodoo r+', 'created_at': datetime.datetime(2025, 1, 22, 12, 34, 46, tzinfo=datetime.timezone.utc)}, {'comment_id': 2609393550, 'issue_id': 2800699880, 'author': 'robodoo', 'body': '@clbr-odoo @antoine162 staging failed: ci/runbot on c4792fdb9003df08da61812cc6808a15fd58ae89 (view more at https://runbot.odoo.com/runbot/build/73821974)', 'created_at': datetime.datetime(2025, 1, 23, 10, 8, 21, tzinfo=datetime.timezone.utc)}, {'comment_id': 2609439867, 'issue_id': 2800699880, 'author': 'clbr-odoo', 'body': '@robodoo retry', 'created_at': datetime.datetime(2025, 1, 23, 10, 29, 11, tzinfo=datetime.timezone.utc)}, {'comment_id': 2610238461, 'issue_id': 2800699880, 'author': 'gawa-odoo', 'body': '@robodoo r- \r\nFails the l10n staging https://runbot.odoo.com/runbot/build/73834692', 'created_at': datetime.datetime(2025, 1, 23, 16, 6, 8, tzinfo=datetime.timezone.utc)}, {'comment_id': 2613721811, 'issue_id': 2800699880, 'author': 'fw-bot', 'body': '@clbr-odoo @antoine162 this forward port of odoo/odoo#193714 is awaiting action (not merged or closed).', 'created_at': datetime.datetime(2025, 1, 25, 2, 1, 16, tzinfo=datetime.timezone.utc)}, {'comment_id': 2614172105, 'issue_id': 2800699880, 'author': 'fw-bot', 'body': '@clbr-odoo @antoine162 this forward port of odoo/odoo#193714 is awaiting action (not merged or closed).', 'created_at': datetime.datetime(2025, 1, 26, 2, 1, 33, tzinfo=datetime.timezone.utc)}, {'comment_id': 2614723004, 'issue_id': 2800699880, 'author': 'fw-bot', 'body': '@clbr-odoo @antoine162 this forward port of odoo/odoo#193714 is awaiting action (not merged or closed).', 'created_at': datetime.datetime(2025, 1, 27, 2, 2, 5, tzinfo=datetime.timezone.utc)}, {'comment_id': 2615846737, 'issue_id': 2800699880, 'author': 'clbr-odoo', 'body': '@robodoo r+', 'created_at': datetime.datetime(2025, 1, 27, 14, 2, 43, tzinfo=datetime.timezone.utc)}, {'comment_id': 2615846998, 'issue_id': 2800699880, 'author': 'robodoo', 'body': '@clbr-odoo @antoine162 because this PR has multiple commits, I need to know how to merge it:\n\n* `merge` to merge directly, using the PR as merge commit message\n* `rebase-merge` to rebase and merge, using the PR as merge commit message\n* `rebase-ff` to rebase and fast-forward', 'created_at': datetime.datetime(2025, 1, 27, 14, 2, 49, tzinfo=datetime.timezone.utc)}, {'comment_id': 2615847797, 'issue_id': 2800699880, 'author': 'clbr-odoo', 'body': '@robodoo rebase-ff', 'created_at': datetime.datetime(2025, 1, 27, 14, 3, 9, tzinfo=datetime.timezone.utc)}, {'comment_id': 2615847919, 'issue_id': 2800699880, 'author': 'robodoo', 'body': 'Merge method set to rebase and fast-forward.', 'created_at': datetime.datetime(2025, 1, 27, 14, 3, 12, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-21 04:54:33 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/194460.png)](https://mergebot.odoo.com/odoo/odoo/pull/194460)

fw-bot (Issue Creator) on (2025-01-21 04:54:34 UTC): @clbr-odoo @antoine162 cherrypicking of pull request odoo/odoo#193714 failed.

* 7d0d5a7743fac161ecbb6b41d501e6d76af8dda3
* f54e7c0d144c2beab1bfc857823ec25a105bcceb <- on this commit

stdout:
```
Auto-merging addons/account/static/src/components/actionable_errors/actionable_errors.js
Auto-merging addons/account/wizard/account_move_send_wizard.py
Auto-merging addons/account_edi_proxy_client/i18n/account_edi_proxy_client.pot
CONFLICT (content): Merge conflict in addons/account_edi_proxy_client/i18n/account_edi_proxy_client.pot
Auto-merging addons/account_edi_proxy_client/models/account_edi_proxy_user.py
Auto-merging addons/account_edi_ubl_cii/i18n/account_edi_ubl_cii.pot
CONFLICT (content): Merge conflict in addons/account_edi_ubl_cii/i18n/account_edi_ubl_cii.pot
Auto-merging addons/account_peppol/i18n/account_peppol.pot
CONFLICT (content): Merge conflict in addons/account_peppol/i18n/account_peppol.pot
Auto-merging addons/account_peppol/models/account_edi_proxy_user.py
Auto-merging addons/account_peppol/models/account_move_send.py
Auto-merging addons/account_peppol/models/res_partner.py
Auto-merging addons/account_peppol/tests/test_peppol_messages.py
CONFLICT (content): Merge conflict in addons/account_peppol/tests/test_peppol_messages.py
Auto-merging addons/account_peppol/tools/demo_utils.py
CONFLICT (content): Merge conflict in addons/account_peppol/tools/demo_utils.py

```

Either perform the forward-port manually (and push to this branch, proceeding as usual) or close this PR (maybe?).

In the former case, you may want to edit this PR message as well.

:warning: after resolving this conflict, you will need to merge it via @robodoo.

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

clbr-odoo on (2025-01-22 12:28:37 UTC): @robodoo r+

clbr-odoo on (2025-01-22 12:29:01 UTC): @robodoo r-
(didn't see recent conflict in .pot)

clbr-odoo on (2025-01-22 12:34:46 UTC): @robodoo r+

robodoo on (2025-01-23 10:08:21 UTC): @clbr-odoo @antoine162 staging failed: ci/runbot on c4792fdb9003df08da61812cc6808a15fd58ae89 (view more at https://runbot.odoo.com/runbot/build/73821974)

clbr-odoo on (2025-01-23 10:29:11 UTC): @robodoo retry

gawa-odoo on (2025-01-23 16:06:08 UTC): @robodoo r- 
Fails the l10n staging https://runbot.odoo.com/runbot/build/73834692

fw-bot (Issue Creator) on (2025-01-25 02:01:16 UTC): @clbr-odoo @antoine162 this forward port of odoo/odoo#193714 is awaiting action (not merged or closed).

fw-bot (Issue Creator) on (2025-01-26 02:01:33 UTC): @clbr-odoo @antoine162 this forward port of odoo/odoo#193714 is awaiting action (not merged or closed).

fw-bot (Issue Creator) on (2025-01-27 02:02:05 UTC): @clbr-odoo @antoine162 this forward port of odoo/odoo#193714 is awaiting action (not merged or closed).

clbr-odoo on (2025-01-27 14:02:43 UTC): @robodoo r+

robodoo on (2025-01-27 14:02:49 UTC): @clbr-odoo @antoine162 because this PR has multiple commits, I need to know how to merge it:

* `merge` to merge directly, using the PR as merge commit message
* `rebase-merge` to rebase and merge, using the PR as merge commit message
* `rebase-ff` to rebase and fast-forward

clbr-odoo on (2025-01-27 14:03:09 UTC): @robodoo rebase-ff

robodoo on (2025-01-27 14:03:12 UTC): Merge method set to rebase and fast-forward.

"
2800487001,pull_request,closed,,[FIX] l10n_my_edi: partner view.,"Fixes an issue on the partner view where a compute would try to read the proxy user, while not all
users who can read the partner would have read
access to the proxy user.

Also fix a similar case in the action used to validate the ID, which tries to read the proxy user.

error-105104

---
I confirm I have signed the CLA and read the PR guidelines at www.odoo.com/submit-pr
",vin-odoo,2025-01-21 01:05:25+00:00,[],2025-02-04 09:07:03+00:00,2025-01-21 09:05:24+00:00,https://github.com/odoo/odoo/pull/194459,"[('RD', 'research & development, internal work')]","[{'comment_id': 2603430771, 'issue_id': 2800487001, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/194459.png)](https://mergebot.odoo.com/odoo/odoo/pull/194459)', 'created_at': datetime.datetime(2025, 1, 21, 1, 5, 27, tzinfo=datetime.timezone.utc)}, {'comment_id': 2603772153, 'issue_id': 2800487001, 'author': 'robodoo', 'body': '@vin-odoo @clbr-odoo staging failed: ci/runbot on 29ff8aa09d912d7ed50d98c08885224af4b332f1 (view more at https://runbot.odoo.com/runbot/build/73690478)', 'created_at': datetime.datetime(2025, 1, 21, 6, 32, 15, tzinfo=datetime.timezone.utc)}, {'comment_id': 2603778875, 'issue_id': 2800487001, 'author': 'vin-odoo', 'body': '@robodoo retry', 'created_at': datetime.datetime(2025, 1, 21, 6, 37, 29, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-21 01:05:27 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/194459.png)](https://mergebot.odoo.com/odoo/odoo/pull/194459)

robodoo on (2025-01-21 06:32:15 UTC): @vin-odoo @clbr-odoo staging failed: ci/runbot on 29ff8aa09d912d7ed50d98c08885224af4b332f1 (view more at https://runbot.odoo.com/runbot/build/73690478)

vin-odoo (Issue Creator) on (2025-01-21 06:37:29 UTC): @robodoo retry

"
2800410738,pull_request,closed,,[FW][FIX] account: Keep account codes in sync between branches and root,"When we implemented shared accounts, a design decision was that all the branches of a root company should have the same code for an account. However, updating the code for a company doesn't update it for the other companies with the same root.

#### Steps to reproduce:
- Create a company and a branch.
- With both companies active, try to modify the code of an account.
- Notice the ValidationError that pops up.

#### Analysis:
When writing on `code`, `_inverse_code` writes on `code_store`, which is a dependency of `code`. However, because `code` is protected at that point, it isn't invalidated + recomputed for the other companies. As a result, the old, incorrect value persists in cache.

#### Solution:
I don't think there is a nice neat solution to this. Ideally, we would like to remove the cache values for all the companies other than the active company. However, there isn't a cache function for doing that on context-dependent fields. We try to simulate that by first invalidating, then eagerly recomputing the code again just for the active company.

task-none

Forward-Port-Of: odoo/odoo#188686",fw-bot,2025-01-20 23:30:43+00:00,[],2025-02-04 12:17:15+00:00,2025-01-21 12:03:38+00:00,https://github.com/odoo/odoo/pull/194458,"[('RD', 'research & development, internal work'), ('forwardport', 'This PR was created by @fw-bot'), ('18.2', None)]","[{'comment_id': 2603358634, 'issue_id': 2800410738, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/194458.png)](https://mergebot.odoo.com/odoo/odoo/pull/194458)', 'created_at': datetime.datetime(2025, 1, 20, 23, 30, 44, tzinfo=datetime.timezone.utc)}, {'comment_id': 2603358643, 'issue_id': 2800410738, 'author': 'fw-bot', 'body': '@antoine162 @william-andre this PR targets master and is the last of the forward-port chain containing:\n* odoo/odoo#194449\n\nTo merge the full chain, use\n> @robodoo r+\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 20, 23, 30, 45, tzinfo=datetime.timezone.utc)}, {'comment_id': 2603359454, 'issue_id': 2800410738, 'author': 'william-andre', 'body': '@robodoo r+', 'created_at': datetime.datetime(2025, 1, 20, 23, 31, 46, tzinfo=datetime.timezone.utc)}, {'comment_id': 2603813048, 'issue_id': 2800410738, 'author': 'robodoo', 'body': '@antoine162 @william-andre staging failed: ci/runbot on 2c7d5069ae03f82e826082b6f7c51dac46bafb74 (view more at https://runbot.odoo.com/runbot/build/73691268)', 'created_at': datetime.datetime(2025, 1, 21, 7, 4, 21, tzinfo=datetime.timezone.utc)}, {'comment_id': 2603978629, 'issue_id': 2800410738, 'author': 'antoine162', 'body': '@robodoo retry', 'created_at': datetime.datetime(2025, 1, 21, 8, 38, 5, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-20 23:30:44 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/194458.png)](https://mergebot.odoo.com/odoo/odoo/pull/194458)

fw-bot (Issue Creator) on (2025-01-20 23:30:45 UTC): @antoine162 @william-andre this PR targets master and is the last of the forward-port chain containing:
* odoo/odoo#194449

To merge the full chain, use

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

william-andre on (2025-01-20 23:31:46 UTC): @robodoo r+

robodoo on (2025-01-21 07:04:21 UTC): @antoine162 @william-andre staging failed: ci/runbot on 2c7d5069ae03f82e826082b6f7c51dac46bafb74 (view more at https://runbot.odoo.com/runbot/build/73691268)

antoine162 on (2025-01-21 08:38:05 UTC): @robodoo retry

"
2800394008,pull_request,closed,,"[FW][FIX] core: http.route ""methods"" accepts any Iterable","The docstring of `@route` states that it accepts any iterable for the `methods` argument, but several places in the source code wrongly expected a list, and break if it is a tuple.

Forward-Port-Of: odoo/odoo#193869
Forward-Port-Of: odoo/odoo#193621",fw-bot,2025-01-20 23:10:48+00:00,[],2025-02-04 10:01:29+00:00,2025-01-21 09:59:53+00:00,https://github.com/odoo/odoo/pull/194457,"[('RD', 'research & development, internal work'), ('forwardport', 'This PR was created by @fw-bot'), ('18.2', None)]","[{'comment_id': 2603343394, 'issue_id': 2800394008, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/194457.png)](https://mergebot.odoo.com/odoo/odoo/pull/194457)', 'created_at': datetime.datetime(2025, 1, 20, 23, 10, 49, tzinfo=datetime.timezone.utc)}, {'comment_id': 2603343401, 'issue_id': 2800394008, 'author': 'fw-bot', 'body': '@Julien00859 this PR targets master and is the last of the forward-port chain containing:\n* odoo/odoo#194448\n\nTo merge the full chain, use\n> @robodoo r+\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 20, 23, 10, 50, tzinfo=datetime.timezone.utc)}, {'comment_id': 2603380595, 'issue_id': 2800394008, 'author': 'fw-bot', 'body': '@Julien00859 ci/runbot failed on this forward-port PR', 'created_at': datetime.datetime(2025, 1, 20, 23, 59, 38, tzinfo=datetime.timezone.utc)}, {'comment_id': 2603476071, 'issue_id': 2800394008, 'author': 'fw-bot', 'body': '@Julien00859 this forward port of odoo/odoo#193621 is awaiting action (not merged or closed).', 'created_at': datetime.datetime(2025, 1, 21, 2, 1, 17, tzinfo=datetime.timezone.utc)}, {'comment_id': 2603635884, 'issue_id': 2800394008, 'author': 'fw-bot', 'body': '@Julien00859 this PR was modified / updated and has become a normal PR. It must be merged directly.', 'created_at': datetime.datetime(2025, 1, 21, 4, 33, 2, tzinfo=datetime.timezone.utc)}, {'comment_id': 2603714977, 'issue_id': 2800394008, 'author': 'Julien00859', 'body': '@robodoo r+', 'created_at': datetime.datetime(2025, 1, 21, 5, 50, 17, tzinfo=datetime.timezone.utc)}, {'comment_id': 2603715060, 'issue_id': 2800394008, 'author': 'robodoo', 'body': '@Julien00859 you may want to rebuild or fix this PR as it has failed CI.', 'created_at': datetime.datetime(2025, 1, 21, 5, 50, 18, tzinfo=datetime.timezone.utc)}, {'comment_id': 2603835269, 'issue_id': 2800394008, 'author': 'xmo-odoo', 'body': '@robodoo override=ci/security', 'created_at': datetime.datetime(2025, 1, 21, 7, 19, 31, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-20 23:10:49 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/194457.png)](https://mergebot.odoo.com/odoo/odoo/pull/194457)

fw-bot (Issue Creator) on (2025-01-20 23:10:50 UTC): @Julien00859 this PR targets master and is the last of the forward-port chain containing:
* odoo/odoo#194448

To merge the full chain, use

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

fw-bot (Issue Creator) on (2025-01-20 23:59:38 UTC): @Julien00859 ci/runbot failed on this forward-port PR

fw-bot (Issue Creator) on (2025-01-21 02:01:17 UTC): @Julien00859 this forward port of odoo/odoo#193621 is awaiting action (not merged or closed).

fw-bot (Issue Creator) on (2025-01-21 04:33:02 UTC): @Julien00859 this PR was modified / updated and has become a normal PR. It must be merged directly.

Julien00859 on (2025-01-21 05:50:17 UTC): @robodoo r+

robodoo on (2025-01-21 05:50:18 UTC): @Julien00859 you may want to rebuild or fix this PR as it has failed CI.

xmo-odoo on (2025-01-21 07:19:31 UTC): @robodoo override=ci/security

"
2800389876,pull_request,closed,,"[FW][FIX] account,l10n_sa_edi: tax values filter overwrite","When exporting a SA E-invoice file, the system needs to collect
invoice line without downpayment lines. However, when collecting tax
values, because of an error correction mechanism, the tax amount will
still include the amount of the downpayment tax line

Steps to reproduce (with SA localization installed and SA company):
- Create a SO of 1000$ with 15% tax
- Make a downpayment of 100$ with 15% tax and confirm
- Make the final invoice with downpayment deducted
- Confirm and send e-invoice for validation

Issue: The invoice is validated, but a warning is logged
```
Invoice was Accepted by ZATCA (with Warnings)
The invoice was accepted by ZATCA, but returned warnings. Please, check the response below:

BR-CO-17: VAT category tax amount (BT-117) = VAT category taxable amount (BT-116) x (VAT category rate (BT-119) / 100), rounded to two decimals.
BR-S-09: The VAT category tax amount (BT-117) in a VAT breakdown (BG-23) where VAT category code (BT-118) is Standard rated shall equal the VAT category taxable amount (BT-116) multiplied by the VAT category rate (BT-119).
```

As the warning states the is an issue with the tax computation.
When collecting amounts from the final invoice, we should
filter out downpayment amounts, but due to the error correction
mechanism introduced to account for manual modification of the journal
items, the filter is ignored, so we will have the filtered base amount
(1000) and the unfiltered tax amount (135 instead of 150)

A possible solution is to avoid the error correction when we know we
need to filter invoice lines

opw-4380798

Forward-Port-Of: odoo/odoo#192984
Forward-Port-Of: odoo/odoo#191867",fw-bot,2025-01-20 23:05:47+00:00,[],2025-01-28 17:59:34+00:00,2025-01-28 17:59:34+00:00,https://github.com/odoo/odoo/pull/194456,"[('OE', 'the report is linked to a support ticket (opw-...)'), ('forwardport', 'This PR was created by @fw-bot'), ('18.2', None)]","[{'comment_id': 2603339468, 'issue_id': 2800389876, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/194456.png)](https://mergebot.odoo.com/odoo/odoo/pull/194456)', 'created_at': datetime.datetime(2025, 1, 20, 23, 5, 48, tzinfo=datetime.timezone.utc)}, {'comment_id': 2603339474, 'issue_id': 2800389876, 'author': 'fw-bot', 'body': '@agr-odoo @jco-odoo this PR targets master and is the last of the forward-port chain containing:\n* odoo/odoo#194447\n\nTo merge the full chain, use\n> @robodoo r+\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 20, 23, 5, 49, tzinfo=datetime.timezone.utc)}, {'comment_id': 2612989362, 'issue_id': 2800389876, 'author': 'agr-odoo', 'body': '@robodoo r+', 'created_at': datetime.datetime(2025, 1, 24, 16, 59, 36, tzinfo=datetime.timezone.utc)}, {'comment_id': 2613705496, 'issue_id': 2800389876, 'author': 'robodoo', 'body': '@agr-odoo @jco-odoo staging failed: ci/l10n on 3aebd721e1996bfaed7edc1c40f8e2493e4d8ecd (view more at https://runbot.odoo.com/runbot/build/73940105)', 'created_at': datetime.datetime(2025, 1, 25, 1, 26, 43, tzinfo=datetime.timezone.utc)}, {'comment_id': 2614172357, 'issue_id': 2800389876, 'author': 'fw-bot', 'body': '@agr-odoo @jco-odoo this forward port of odoo/odoo#191867 is awaiting action (not merged or closed).', 'created_at': datetime.datetime(2025, 1, 26, 2, 1, 53, tzinfo=datetime.timezone.utc)}, {'comment_id': 2618386440, 'issue_id': 2800389876, 'author': 'agr-odoo', 'body': '@robodoo r+', 'created_at': datetime.datetime(2025, 1, 28, 9, 15, 49, tzinfo=datetime.timezone.utc)}, {'comment_id': 2618386544, 'issue_id': 2800389876, 'author': 'robodoo', 'body': ""This PR is already reviewed, it's in error, you might want to `retry` it instead (if you have already confirmed the error is not legitimate)."", 'created_at': datetime.datetime(2025, 1, 28, 9, 15, 52, tzinfo=datetime.timezone.utc)}, {'comment_id': 2618411190, 'issue_id': 2800389876, 'author': 'agr-odoo', 'body': '@robodoo retry', 'created_at': datetime.datetime(2025, 1, 28, 9, 27, 24, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-20 23:05:48 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/194456.png)](https://mergebot.odoo.com/odoo/odoo/pull/194456)

fw-bot (Issue Creator) on (2025-01-20 23:05:49 UTC): @agr-odoo @jco-odoo this PR targets master and is the last of the forward-port chain containing:
* odoo/odoo#194447

To merge the full chain, use

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

agr-odoo on (2025-01-24 16:59:36 UTC): @robodoo r+

robodoo on (2025-01-25 01:26:43 UTC): @agr-odoo @jco-odoo staging failed: ci/l10n on 3aebd721e1996bfaed7edc1c40f8e2493e4d8ecd (view more at https://runbot.odoo.com/runbot/build/73940105)

fw-bot (Issue Creator) on (2025-01-26 02:01:53 UTC): @agr-odoo @jco-odoo this forward port of odoo/odoo#191867 is awaiting action (not merged or closed).

agr-odoo on (2025-01-28 09:15:49 UTC): @robodoo r+

robodoo on (2025-01-28 09:15:52 UTC): This PR is already reviewed, it's in error, you might want to `retry` it instead (if you have already confirmed the error is not legitimate).

agr-odoo on (2025-01-28 09:27:24 UTC): @robodoo retry

"
2800348648,pull_request,closed,,[FW][FIX] account_peppol: Fix the messaged displayed on Peppol error,"When an error occurs on IAP side for Peppol we display the content of `message` while we have a more friendly-user text stored in `display_message`. Use the latter when logging in Odoo.

See: https://github.com/odoo/iap-apps/blob/5dde71627dfd6c6168935346bece0018d4701ce3/iap_services/peppol_proxy/exceptions.py#L14
task-no

Forward-Port-Of: odoo/odoo#194352",fw-bot,2025-01-20 22:19:47+00:00,[],2025-02-04 09:46:22+00:00,2025-01-21 09:43:17+00:00,https://github.com/odoo/odoo/pull/194454,"[('RD', 'research & development, internal work'), ('forwardport', 'This PR was created by @fw-bot')]","[{'comment_id': 2603301022, 'issue_id': 2800348648, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/194454.png)](https://mergebot.odoo.com/odoo/odoo/pull/194454)', 'created_at': datetime.datetime(2025, 1, 20, 22, 19, 49, tzinfo=datetime.timezone.utc)}, {'comment_id': 2603301032, 'issue_id': 2800348648, 'author': 'fw-bot', 'body': 'This PR targets saas-18.1 and is part of the forward-port chain. Further PRs will be created up to master.\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 20, 22, 19, 49, tzinfo=datetime.timezone.utc)}, {'comment_id': 2603337954, 'issue_id': 2800348648, 'author': 'fw-bot', 'body': '@clbr-odoo @antoine162 ci/runbot failed on this forward-port PR', 'created_at': datetime.datetime(2025, 1, 20, 23, 3, 56, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-20 22:19:49 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/194454.png)](https://mergebot.odoo.com/odoo/odoo/pull/194454)

fw-bot (Issue Creator) on (2025-01-20 22:19:49 UTC): This PR targets saas-18.1 and is part of the forward-port chain. Further PRs will be created up to master.

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

fw-bot (Issue Creator) on (2025-01-20 23:03:56 UTC): @clbr-odoo @antoine162 ci/runbot failed on this forward-port PR

"
2800347387,pull_request,closed,,[FW][FIX] portal: view chatter messages with partner reactions,"Before this commit, when accessing a shared chatter from a portal user that has edit access, chatter messages could not be loaded when a partner added at least one emoji reaction on a message.

Steps to reproduce:
- Share a project with Joel Willis with edit access
- Create a task with Joel Willis on this project
- Post a message as Joel Willis on the new task
- Let Mitchell Admin add a reaction on the new message

=> Joel Willis cannot load messages:

```
An error occurred while fetching messages.
```

This happens because the custom mail message formatter of portal chatter messages was crafting the reaction data of the messages to return. When providing people that have reacted to the message, Access to reacted partners was denied due to ACL.

This commit fixes the issue by sudo() the partners of message reaction to retrieve their data to the portal user. This is ok because the portal has access to the message, therefore access to the reaction and related data are fine. Note that data of partner that have reacted is very limited: only the name is returned.

opw-4454427

Forward-Port-Of: odoo/odoo#193296",fw-bot,2025-01-20 22:18:28+00:00,[],2025-01-21 15:42:17+00:00,2025-01-21 15:37:40+00:00,https://github.com/odoo/odoo/pull/194453,"[('OE', 'the report is linked to a support ticket (opw-...)'), ('forwardport', 'This PR was created by @fw-bot')]","[{'comment_id': 2603299827, 'issue_id': 2800347387, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/194453.png)](https://mergebot.odoo.com/odoo/odoo/pull/194453)', 'created_at': datetime.datetime(2025, 1, 20, 22, 18, 29, tzinfo=datetime.timezone.utc)}, {'comment_id': 2603299836, 'issue_id': 2800347387, 'author': 'fw-bot', 'body': 'This PR targets saas-18.1 and is part of the forward-port chain. Further PRs will be created up to master.\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 20, 22, 18, 30, tzinfo=datetime.timezone.utc)}, {'comment_id': 2603336341, 'issue_id': 2800347387, 'author': 'fw-bot', 'body': '@alexkuhn ci/runbot failed on this forward-port PR', 'created_at': datetime.datetime(2025, 1, 20, 23, 1, 57, tzinfo=datetime.timezone.utc)}, {'comment_id': 2604191215, 'issue_id': 2800347387, 'author': 'fw-bot', 'body': '@alexkuhn this PR was modified / updated and has become a normal PR. It must be merged directly.', 'created_at': datetime.datetime(2025, 1, 21, 9, 45, 59, tzinfo=datetime.timezone.utc)}, {'comment_id': 2604193190, 'issue_id': 2800347387, 'author': 'alexkuhn', 'body': '@robodoo r+', 'created_at': datetime.datetime(2025, 1, 21, 9, 46, 49, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-20 22:18:29 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/194453.png)](https://mergebot.odoo.com/odoo/odoo/pull/194453)

fw-bot (Issue Creator) on (2025-01-20 22:18:30 UTC): This PR targets saas-18.1 and is part of the forward-port chain. Further PRs will be created up to master.

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

fw-bot (Issue Creator) on (2025-01-20 23:01:57 UTC): @alexkuhn ci/runbot failed on this forward-port PR

fw-bot (Issue Creator) on (2025-01-21 09:45:59 UTC): @alexkuhn this PR was modified / updated and has become a normal PR. It must be merged directly.

alexkuhn on (2025-01-21 09:46:49 UTC): @robodoo r+

"
2800347117,pull_request,closed,,[FW][FIX] website_mail: `mail` translations available in frontend,"Portal chatter now uses discuss, thus it relies on translation of Discuss in `mail` module.

Frontend translations need to be available, they aren't by default unless the module is prefixed by `website`. This isn't the case for `mail`, and the module `website_mail` does not share the translations.

This commit fixes the issue by enabling `mail` in the translations of available translations in the frontend

Task-4423556

Forward-Port-Of: odoo/odoo#191534",fw-bot,2025-01-20 22:18:11+00:00,[],2025-01-21 15:42:24+00:00,2025-01-21 15:37:45+00:00,https://github.com/odoo/odoo/pull/194452,"[('RD', 'research & development, internal work'), ('forwardport', 'This PR was created by @fw-bot')]","[{'comment_id': 2603299607, 'issue_id': 2800347117, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/194452.png)](https://mergebot.odoo.com/odoo/odoo/pull/194452)', 'created_at': datetime.datetime(2025, 1, 20, 22, 18, 15, tzinfo=datetime.timezone.utc)}, {'comment_id': 2603299616, 'issue_id': 2800347117, 'author': 'fw-bot', 'body': 'This PR targets saas-18.1 and is part of the forward-port chain. Further PRs will be created up to master.\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 20, 22, 18, 16, tzinfo=datetime.timezone.utc)}, {'comment_id': 2603335278, 'issue_id': 2800347117, 'author': 'fw-bot', 'body': '@alexkuhn ci/runbot failed on this forward-port PR', 'created_at': datetime.datetime(2025, 1, 20, 23, 0, 54, tzinfo=datetime.timezone.utc)}, {'comment_id': 2604179079, 'issue_id': 2800347117, 'author': 'fw-bot', 'body': '@alexkuhn this PR was modified / updated and has become a normal PR. It must be merged directly.', 'created_at': datetime.datetime(2025, 1, 21, 9, 40, 53, tzinfo=datetime.timezone.utc)}, {'comment_id': 2604255568, 'issue_id': 2800347117, 'author': 'alexkuhn', 'body': '@robodoo r+', 'created_at': datetime.datetime(2025, 1, 21, 10, 11, 32, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-20 22:18:15 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/194452.png)](https://mergebot.odoo.com/odoo/odoo/pull/194452)

fw-bot (Issue Creator) on (2025-01-20 22:18:16 UTC): This PR targets saas-18.1 and is part of the forward-port chain. Further PRs will be created up to master.

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

fw-bot (Issue Creator) on (2025-01-20 23:00:54 UTC): @alexkuhn ci/runbot failed on this forward-port PR

fw-bot (Issue Creator) on (2025-01-21 09:40:53 UTC): @alexkuhn this PR was modified / updated and has become a normal PR. It must be merged directly.

alexkuhn on (2025-01-21 10:11:32 UTC): @robodoo r+

"
2800346838,pull_request,open,,[FW][FIX] point_of_sale: check company on special products,"**Current behavior:**
When a user opens a POS with any special product - such as a tip product - assigned to a different company, no products are displayed in the POS interface.

**Expected behavior:**
The user should receive an error message indicating that the assigned special product is reserved for another company. If the default special product is associated with a different company, products should still be listed in the POS.

**Steps to reproduce:**
1. Create a POS for a company C<sub>**1**</sub>.
2. Create a Tip product, reserved for company C<sub>**2**</sub>.
3. Set the Tip product for the POS of company C<sub>**1**</sub>.
4. Open the POS for company C<sub>**1**</sub>.
5. No products are listed in the POS.

**Cause of the issue:**
The `get_special_products()` method returns the default tip product without verifying the company assignment, leading to incorrect behavior. Additional inheriting models add more products to this method, still without checking the company assignment.

**Fix:**
- Modified the `_load_pos_data` function to filter the special products according to the session company.
- Modified the `_get_default_tip_product` function to bypass the company check if the default tip product is assigned to a different company.

opw-4396020

---
I confirm I have signed the CLA and read the PR guidelines at www.odoo.com/submit-pr

Forward-Port-Of: odoo/odoo#190700",fw-bot,2025-01-20 22:17:53+00:00,[],2025-02-01 02:01:42+00:00,,https://github.com/odoo/odoo/pull/194451,"[('OE', 'the report is linked to a support ticket (opw-...)'), ('forwardport', 'This PR was created by @fw-bot'), ('conflict', 'There was an error while creating this forward-port PR')]","[{'comment_id': 2603299583, 'issue_id': 2800346838, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/194451.png)](https://mergebot.odoo.com/odoo/odoo/pull/194451)', 'created_at': datetime.datetime(2025, 1, 20, 22, 18, 14, tzinfo=datetime.timezone.utc)}, {'comment_id': 2603299594, 'issue_id': 2800346838, 'author': 'fw-bot', 'body': '@vise-odoo @davidmonnom cherrypicking of pull request odoo/odoo#190700 failed.\n\nstdout:\n```\nAuto-merging addons/point_of_sale/models/pos_config.py\nCONFLICT (content): Merge conflict in addons/point_of_sale/models/pos_config.py\n\n```\n\nEither perform the forward-port manually (and push to this branch, proceeding as usual) or close this PR (maybe?).\n\nIn the former case, you may want to edit this PR message as well.\n\n:warning: after resolving this conflict, you will need to merge it via @robodoo.\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 20, 22, 18, 15, tzinfo=datetime.timezone.utc)}, {'comment_id': 2611385970, 'issue_id': 2800346838, 'author': 'fw-bot', 'body': '@vise-odoo @davidmonnom this forward port of odoo/odoo#190700 is awaiting action (not merged or closed).', 'created_at': datetime.datetime(2025, 1, 24, 2, 1, 27, tzinfo=datetime.timezone.utc)}, {'comment_id': 2613721993, 'issue_id': 2800346838, 'author': 'fw-bot', 'body': '@vise-odoo @davidmonnom this forward port of odoo/odoo#190700 is awaiting action (not merged or closed).', 'created_at': datetime.datetime(2025, 1, 25, 2, 1, 42, tzinfo=datetime.timezone.utc)}, {'comment_id': 2614172442, 'issue_id': 2800346838, 'author': 'fw-bot', 'body': '@vise-odoo @davidmonnom this forward port of odoo/odoo#190700 is awaiting action (not merged or closed).', 'created_at': datetime.datetime(2025, 1, 26, 2, 1, 59, tzinfo=datetime.timezone.utc)}, {'comment_id': 2614723575, 'issue_id': 2800346838, 'author': 'fw-bot', 'body': '@vise-odoo @davidmonnom this forward port of odoo/odoo#190700 is awaiting action (not merged or closed).', 'created_at': datetime.datetime(2025, 1, 27, 2, 2, 38, tzinfo=datetime.timezone.utc)}, {'comment_id': 2617543080, 'issue_id': 2800346838, 'author': 'fw-bot', 'body': '@vise-odoo @davidmonnom this forward port of odoo/odoo#190700 is awaiting action (not merged or closed).', 'created_at': datetime.datetime(2025, 1, 28, 2, 1, 53, tzinfo=datetime.timezone.utc)}, {'comment_id': 2620471781, 'issue_id': 2800346838, 'author': 'fw-bot', 'body': '@vise-odoo @davidmonnom this forward port of odoo/odoo#190700 is awaiting action (not merged or closed).', 'created_at': datetime.datetime(2025, 1, 29, 2, 1, 26, tzinfo=datetime.timezone.utc)}, {'comment_id': 2623354576, 'issue_id': 2800346838, 'author': 'fw-bot', 'body': '@vise-odoo @davidmonnom this forward port of odoo/odoo#190700 is awaiting action (not merged or closed).', 'created_at': datetime.datetime(2025, 1, 30, 2, 2, 12, tzinfo=datetime.timezone.utc)}, {'comment_id': 2628685448, 'issue_id': 2800346838, 'author': 'fw-bot', 'body': '@vise-odoo @davidmonnom this forward port of odoo/odoo#190700 is awaiting action (not merged or closed).', 'created_at': datetime.datetime(2025, 2, 1, 2, 1, 41, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-20 22:18:14 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/194451.png)](https://mergebot.odoo.com/odoo/odoo/pull/194451)

fw-bot (Issue Creator) on (2025-01-20 22:18:15 UTC): @vise-odoo @davidmonnom cherrypicking of pull request odoo/odoo#190700 failed.

stdout:
```
Auto-merging addons/point_of_sale/models/pos_config.py
CONFLICT (content): Merge conflict in addons/point_of_sale/models/pos_config.py

```

Either perform the forward-port manually (and push to this branch, proceeding as usual) or close this PR (maybe?).

In the former case, you may want to edit this PR message as well.

:warning: after resolving this conflict, you will need to merge it via @robodoo.

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

fw-bot (Issue Creator) on (2025-01-24 02:01:27 UTC): @vise-odoo @davidmonnom this forward port of odoo/odoo#190700 is awaiting action (not merged or closed).

fw-bot (Issue Creator) on (2025-01-25 02:01:42 UTC): @vise-odoo @davidmonnom this forward port of odoo/odoo#190700 is awaiting action (not merged or closed).

fw-bot (Issue Creator) on (2025-01-26 02:01:59 UTC): @vise-odoo @davidmonnom this forward port of odoo/odoo#190700 is awaiting action (not merged or closed).

fw-bot (Issue Creator) on (2025-01-27 02:02:38 UTC): @vise-odoo @davidmonnom this forward port of odoo/odoo#190700 is awaiting action (not merged or closed).

fw-bot (Issue Creator) on (2025-01-28 02:01:53 UTC): @vise-odoo @davidmonnom this forward port of odoo/odoo#190700 is awaiting action (not merged or closed).

fw-bot (Issue Creator) on (2025-01-29 02:01:26 UTC): @vise-odoo @davidmonnom this forward port of odoo/odoo#190700 is awaiting action (not merged or closed).

fw-bot (Issue Creator) on (2025-01-30 02:02:12 UTC): @vise-odoo @davidmonnom this forward port of odoo/odoo#190700 is awaiting action (not merged or closed).

fw-bot (Issue Creator) on (2025-02-01 02:01:41 UTC): @vise-odoo @davidmonnom this forward port of odoo/odoo#190700 is awaiting action (not merged or closed).

"
2800319717,pull_request,closed,,[18.0][IMP] mail: several minor discuss style improvements,,alexkuhn,2025-01-20 21:51:16+00:00,[],2025-01-29 18:36:12+00:00,2025-01-29 15:25:38+00:00,https://github.com/odoo/odoo/pull/194450,"[('RD', 'research & development, internal work')]","[{'comment_id': 2603274475, 'issue_id': 2800319717, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/194450.png)](https://mergebot.odoo.com/odoo/odoo/pull/194450)', 'created_at': datetime.datetime(2025, 1, 20, 21, 51, 19, tzinfo=datetime.timezone.utc)}, {'comment_id': 2620362145, 'issue_id': 2800319717, 'author': 'alexkuhn', 'body': 'Changes were applied in 18.1 recently, and they look great.\r\nhttps://github.com/odoo/odoo/pull/195364\r\nThe differences in diff with 18.1 comes from few improvements that were already in 18.1 like the send button.\r\n\r\nThis is likely the last PR with big style improvements targeting 18.0. The templates were mostly similar between 18.0 and 18.1, and I felt that making these many style tweaks in 18.0 on discuss had some benefits for end-users especially on LTS.\r\n\r\n@robodoo r+ rebase-ff fw=no', 'created_at': datetime.datetime(2025, 1, 29, 0, 56, 37, tzinfo=datetime.timezone.utc)}, {'comment_id': 2620362196, 'issue_id': 2800319717, 'author': 'robodoo', 'body': 'Merge method set to rebase and fast-forward.', 'created_at': datetime.datetime(2025, 1, 29, 0, 56, 39, tzinfo=datetime.timezone.utc)}, {'comment_id': 2620362231, 'issue_id': 2800319717, 'author': 'robodoo', 'body': 'Disabled forward-porting.', 'created_at': datetime.datetime(2025, 1, 29, 0, 56, 40, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-20 21:51:19 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/194450.png)](https://mergebot.odoo.com/odoo/odoo/pull/194450)

alexkuhn (Issue Creator) on (2025-01-29 00:56:37 UTC): Changes were applied in 18.1 recently, and they look great.
https://github.com/odoo/odoo/pull/195364
The differences in diff with 18.1 comes from few improvements that were already in 18.1 like the send button.

This is likely the last PR with big style improvements targeting 18.0. The templates were mostly similar between 18.0 and 18.1, and I felt that making these many style tweaks in 18.0 on discuss had some benefits for end-users especially on LTS.

@robodoo r+ rebase-ff fw=no

robodoo on (2025-01-29 00:56:39 UTC): Merge method set to rebase and fast-forward.

robodoo on (2025-01-29 00:56:40 UTC): Disabled forward-porting.

"
2800319175,pull_request,closed,,[FW][FIX] account: Keep account codes in sync between branches and root,"When we implemented shared accounts, a design decision was that all the branches of a root company should have the same code for an account. However, updating the code for a company doesn't update it for the other companies with the same root.

#### Steps to reproduce:
- Create a company and a branch.
- With both companies active, try to modify the code of an account.
- Notice the ValidationError that pops up.

#### Analysis:
When writing on `code`, `_inverse_code` writes on `code_store`, which is a dependency of `code`. However, because `code` is protected at that point, it isn't invalidated + recomputed for the other companies. As a result, the old, incorrect value persists in cache.

#### Solution:
I don't think there is a nice neat solution to this. Ideally, we would like to remove the cache values for all the companies other than the active company. However, there isn't a cache function for doing that on context-dependent fields. We try to simulate that by first invalidating, then eagerly recomputing the code again just for the active company.

task-none

Forward-Port-Of: odoo/odoo#188686",fw-bot,2025-01-20 21:50:44+00:00,[],2025-02-04 01:53:13+00:00,2025-01-21 01:07:04+00:00,https://github.com/odoo/odoo/pull/194449,"[('RD', 'research & development, internal work'), ('forwardport', 'This PR was created by @fw-bot')]","[{'comment_id': 2603273976, 'issue_id': 2800319175, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/194449.png)](https://mergebot.odoo.com/odoo/odoo/pull/194449)', 'created_at': datetime.datetime(2025, 1, 20, 21, 50, 45, tzinfo=datetime.timezone.utc)}, {'comment_id': 2603273988, 'issue_id': 2800319175, 'author': 'fw-bot', 'body': 'This PR targets saas-18.1 and is part of the forward-port chain. Further PRs will be created up to master.\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 20, 21, 50, 46, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-20 21:50:45 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/194449.png)](https://mergebot.odoo.com/odoo/odoo/pull/194449)

fw-bot (Issue Creator) on (2025-01-20 21:50:46 UTC): This PR targets saas-18.1 and is part of the forward-port chain. Further PRs will be created up to master.

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

"
2800318692,pull_request,closed,,"[FW][FIX] core: http.route ""methods"" accepts any Iterable","The docstring of `@route` states that it accepts any iterable for the `methods` argument, but several places in the source code wrongly expected a list, and break if it is a tuple.

Forward-Port-Of: odoo/odoo#193869
Forward-Port-Of: odoo/odoo#193621",fw-bot,2025-01-20 21:50:16+00:00,[],2025-02-04 07:07:16+00:00,2025-01-21 07:02:29+00:00,https://github.com/odoo/odoo/pull/194448,"[('RD', 'research & development, internal work'), ('forwardport', 'This PR was created by @fw-bot')]","[{'comment_id': 2603273543, 'issue_id': 2800318692, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/194448.png)](https://mergebot.odoo.com/odoo/odoo/pull/194448)', 'created_at': datetime.datetime(2025, 1, 20, 21, 50, 17, tzinfo=datetime.timezone.utc)}, {'comment_id': 2603273557, 'issue_id': 2800318692, 'author': 'fw-bot', 'body': 'This PR targets saas-18.1 and is part of the forward-port chain. Further PRs will be created up to master.\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 20, 21, 50, 18, tzinfo=datetime.timezone.utc)}, {'comment_id': 2603635907, 'issue_id': 2800318692, 'author': 'fw-bot', 'body': ""@Julien00859 child PR odoo/odoo#194457 was modified / updated and has become a normal PR. This PR (and any of its parents) will need to be merged independently as approvals won't cross."", 'created_at': datetime.datetime(2025, 1, 21, 4, 33, 3, tzinfo=datetime.timezone.utc)}, {'comment_id': 2603715848, 'issue_id': 2800318692, 'author': 'Julien00859', 'body': '@robodoo r+', 'created_at': datetime.datetime(2025, 1, 21, 5, 50, 35, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-20 21:50:17 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/194448.png)](https://mergebot.odoo.com/odoo/odoo/pull/194448)

fw-bot (Issue Creator) on (2025-01-20 21:50:18 UTC): This PR targets saas-18.1 and is part of the forward-port chain. Further PRs will be created up to master.

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

fw-bot (Issue Creator) on (2025-01-21 04:33:03 UTC): @Julien00859 child PR odoo/odoo#194457 was modified / updated and has become a normal PR. This PR (and any of its parents) will need to be merged independently as approvals won't cross.

Julien00859 on (2025-01-21 05:50:35 UTC): @robodoo r+

"
2800318235,pull_request,closed,,"[FW][FIX] account,l10n_sa_edi: tax values filter overwrite","When exporting a SA E-invoice file, the system needs to collect
invoice line without downpayment lines. However, when collecting tax
values, because of an error correction mechanism, the tax amount will
still include the amount of the downpayment tax line

Steps to reproduce (with SA localization installed and SA company):
- Create a SO of 1000$ with 15% tax
- Make a downpayment of 100$ with 15% tax and confirm
- Make the final invoice with downpayment deducted
- Confirm and send e-invoice for validation

Issue: The invoice is validated, but a warning is logged
```
Invoice was Accepted by ZATCA (with Warnings)
The invoice was accepted by ZATCA, but returned warnings. Please, check the response below:

BR-CO-17: VAT category tax amount (BT-117) = VAT category taxable amount (BT-116) x (VAT category rate (BT-119) / 100), rounded to two decimals.
BR-S-09: The VAT category tax amount (BT-117) in a VAT breakdown (BG-23) where VAT category code (BT-118) is Standard rated shall equal the VAT category taxable amount (BT-116) multiplied by the VAT category rate (BT-119).
```

As the warning states the is an issue with the tax computation.
When collecting amounts from the final invoice, we should
filter out downpayment amounts, but due to the error correction
mechanism introduced to account for manual modification of the journal
items, the filter is ignored, so we will have the filtered base amount
(1000) and the unfiltered tax amount (135 instead of 150)

A possible solution is to avoid the error correction when we know we
need to filter invoice lines

opw-4380798

Forward-Port-Of: odoo/odoo#192984
Forward-Port-Of: odoo/odoo#191867",fw-bot,2025-01-20 21:49:47+00:00,[],2025-01-27 17:40:13+00:00,2025-01-27 17:40:12+00:00,https://github.com/odoo/odoo/pull/194447,"[('OE', 'the report is linked to a support ticket (opw-...)'), ('forwardport', 'This PR was created by @fw-bot')]","[{'comment_id': 2603273120, 'issue_id': 2800318235, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/194447.png)](https://mergebot.odoo.com/odoo/odoo/pull/194447)', 'created_at': datetime.datetime(2025, 1, 20, 21, 49, 49, tzinfo=datetime.timezone.utc)}, {'comment_id': 2603273138, 'issue_id': 2800318235, 'author': 'fw-bot', 'body': 'This PR targets saas-18.1 and is part of the forward-port chain. Further PRs will be created up to master.\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 20, 21, 49, 49, tzinfo=datetime.timezone.utc)}, {'comment_id': 2613558449, 'issue_id': 2800318235, 'author': 'robodoo', 'body': '@agr-odoo @jco-odoo staging failed: ci/runbot on 2344aff070910a844b0205bb6088aa8dfad131af (view more at https://runbot.odoo.com/runbot/build/73939004)', 'created_at': datetime.datetime(2025, 1, 24, 23, 0, 44, tzinfo=datetime.timezone.utc)}, {'comment_id': 2615239229, 'issue_id': 2800318235, 'author': 'fw-bot', 'body': '@agr-odoo @jco-odoo this PR was modified / updated and has become a normal PR. It must be merged directly.', 'created_at': datetime.datetime(2025, 1, 27, 9, 28, 36, tzinfo=datetime.timezone.utc)}, {'comment_id': 2616120614, 'issue_id': 2800318235, 'author': 'agr-odoo', 'body': '@robodoo r+', 'created_at': datetime.datetime(2025, 1, 27, 15, 47, 31, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-20 21:49:49 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/194447.png)](https://mergebot.odoo.com/odoo/odoo/pull/194447)

fw-bot (Issue Creator) on (2025-01-20 21:49:49 UTC): This PR targets saas-18.1 and is part of the forward-port chain. Further PRs will be created up to master.

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

robodoo on (2025-01-24 23:00:44 UTC): @agr-odoo @jco-odoo staging failed: ci/runbot on 2344aff070910a844b0205bb6088aa8dfad131af (view more at https://runbot.odoo.com/runbot/build/73939004)

fw-bot (Issue Creator) on (2025-01-27 09:28:36 UTC): @agr-odoo @jco-odoo this PR was modified / updated and has become a normal PR. It must be merged directly.

agr-odoo on (2025-01-27 15:47:31 UTC): @robodoo r+

"
2800317803,pull_request,closed,,"[FW][FIX] {sale_purchase_,}stock: use pull rules on cross-dock","## General Issue:

Cross-dock rules cannot function as the main rule without disrupting unrelated flows (e.g., regular purchases). They also fail as exceptions, as they are not triggered in such cases.

## Cause:

Push and pull rules have been refactored in saas-17.2 (see commit 11e69870db1c49d9a6af79ffd263e4e162b34b6b). Previously, most flows relied solely on pull rules, generating the entire picking chain at inventory need confirmation. With the refactoring, push rules are now prioritized, generating pickings step-by-step upon validation. While this increases route flexibility, it introduces issues for flows expected to be entirely triggered by sales order (SO) validations, such as cross-docking.

In version 18.0, cross-dock rules were refactored to rely only on push rules (see commit af5479dfdbed0959c02bd862c8184fe141b51788), but this created significant issues.

### Steps to Reproduce:

- In the settings, Enable multi-step routes.
- Configure the warehouse for 2-step receipt and delivery
> automatically unarchives the cross-dock route and updates its rules:
    - Push rule: Input → Output
    - Buy rule: → Partner/Customer

#### Scenario 1: Cross-dock set on the product

#### Issue: Cannot receipt in 2 steps → cross dock can not be the rule.

- Create an inventory-tracked product with the buy and cross-dock routes.
- Create and confirm a purchase order for 1 unit of the product.
- Validate the receipt from Vendor → Input.

Result: 

Instead of generating a picking Input → Stock, the cross-dock push rule triggers, generating a picking Input → Output.

### Cause:

Rules are prioritized by product-specific rules, followed by warehouse rules:
https://github.com/odoo/odoo/blob/e3d54695862f73d9be6c35121def57ed641a1a45/addons/stock/models/stock_rule.py#L535-L539 The cross-dock push rule therefore overrides regular 2-step receipt rules, even though cross-dock routes only make sense for flows initiated by an SO.

#### Scenario 2: Cross-dock not set on the product

#### Issue: Cannot trigger cross-docking by any means → cross dock can not be the exception.

- Create an inventory-tracked product with only the buy route.
- Create an SO for 1 unit of the product and set the cross-dock route on the Sales Order Line (SOL). Confirm the SO.
> A purchase order (PO) is created.
- Confirm the PO.
> A regular receipt is generated.
- Confirm the receipt.

Result: 

The flow proceeds as a regular 2-step delivery; the cross-dock route is not applied.

### Cause:

The SO uses the cross-dock route only for the buy rule to generate a PO. Once the PO is generated is role in this world is done. There is no way to provide a route on the PO, it will just generate a regular receipt: https://github.com/odoo/odoo/blob/e3d54695862f73d9be6c35121def57ed641a1a45/addons/purchase_stock/models/purchase_order_line.py#L343-L350 Once it is confirmed, the flow defaults to regular 2-step delivery rules, as the cross-dock route is neither a default nor set on the product.

### Fix:

We add the possibility of transmitting the route_id from the pol. As such, we make it possible to use the crossdock route by setting it on the sol, to generate a PO that will pursue with the crossdock route. Furthermore, we discourage to use the crossdock route on products/product categories by setting the default setable values to False.

opw-4380375
---
I confirm I have signed the CLA and read the PR guidelines at www.odoo.com/submit-pr

Forward-Port-Of: odoo/odoo#192362",fw-bot,2025-01-20 21:49:21+00:00,[],2025-02-07 15:44:03+00:00,2025-01-24 15:33:26+00:00,https://github.com/odoo/odoo/pull/194446,"[('OE', 'the report is linked to a support ticket (opw-...)'), ('forwardport', 'This PR was created by @fw-bot'), ('conflict', 'There was an error while creating this forward-port PR')]","[{'comment_id': 2603272881, 'issue_id': 2800317803, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/194446.png)](https://mergebot.odoo.com/odoo/odoo/pull/194446)', 'created_at': datetime.datetime(2025, 1, 20, 21, 49, 35, tzinfo=datetime.timezone.utc)}, {'comment_id': 2603272890, 'issue_id': 2800317803, 'author': 'fw-bot', 'body': '@lase-odoo @clesgow cherrypicking of pull request odoo/odoo#192362 failed.\n\nstdout:\n```\nAuto-merging addons/sale_purchase_stock/tests/test_sale_purchase_stock_flow.py\nAuto-merging addons/stock/models/stock_warehouse.py\nAuto-merging addons/stock/tests/test_move2.py\nCONFLICT (content): Merge conflict in addons/stock/tests/test_move2.py\n\n```\n\nEither perform the forward-port manually (and push to this branch, proceeding as usual) or close this PR (maybe?).\n\nIn the former case, you may want to edit this PR message as well.\n\n:warning: after resolving this conflict, you will need to merge it via @robodoo.\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 20, 21, 49, 35, tzinfo=datetime.timezone.utc)}, {'comment_id': 2611385757, 'issue_id': 2800317803, 'author': 'fw-bot', 'body': '@lase-odoo @clesgow this forward port of odoo/odoo#192362 is awaiting action (not merged or closed).', 'created_at': datetime.datetime(2025, 1, 24, 2, 1, 19, tzinfo=datetime.timezone.utc)}, {'comment_id': 2612474345, 'issue_id': 2800317803, 'author': 'lase-odoo', 'body': 'robodoo r+', 'created_at': datetime.datetime(2025, 1, 24, 12, 58, 16, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-20 21:49:35 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/194446.png)](https://mergebot.odoo.com/odoo/odoo/pull/194446)

fw-bot (Issue Creator) on (2025-01-20 21:49:35 UTC): @lase-odoo @clesgow cherrypicking of pull request odoo/odoo#192362 failed.

stdout:
```
Auto-merging addons/sale_purchase_stock/tests/test_sale_purchase_stock_flow.py
Auto-merging addons/stock/models/stock_warehouse.py
Auto-merging addons/stock/tests/test_move2.py
CONFLICT (content): Merge conflict in addons/stock/tests/test_move2.py

```

Either perform the forward-port manually (and push to this branch, proceeding as usual) or close this PR (maybe?).

In the former case, you may want to edit this PR message as well.

:warning: after resolving this conflict, you will need to merge it via @robodoo.

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

fw-bot (Issue Creator) on (2025-01-24 02:01:19 UTC): @lase-odoo @clesgow this forward port of odoo/odoo#192362 is awaiting action (not merged or closed).

lase-odoo on (2025-01-24 12:58:16 UTC): robodoo r+

"
2800290099,pull_request,closed,,[FW][IMP] web: showing module_loader errors,"Before this commit, the module_loader was showing error by empty the DOM and then adding his element with the errors. The issue is, if you have an error because of custom script or after an upgrade, then you were lockout because the DOM with empty and you cannot go fix the script.

After this commit, a shorter message will be shown in the bottom-left of the screen. This message will invite the user to check the devtool to have more details about the error.


---
I confirm I have signed the CLA and read the PR guidelines at www.odoo.com/submit-pr

Forward-Port-Of: odoo/odoo#194342
Forward-Port-Of: odoo/odoo#193912",fw-bot,2025-01-20 21:24:07+00:00,[],2025-02-04 15:53:56+00:00,2025-01-21 15:35:38+00:00,https://github.com/odoo/odoo/pull/194445,"[('RD', 'research & development, internal work'), ('forwardport', 'This PR was created by @fw-bot'), ('conflict', 'There was an error while creating this forward-port PR')]","[{'comment_id': 2603247126, 'issue_id': 2800290099, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/194445.png)](https://mergebot.odoo.com/odoo/odoo/pull/194445)', 'created_at': datetime.datetime(2025, 1, 20, 21, 24, 8, tzinfo=datetime.timezone.utc)}, {'comment_id': 2603247157, 'issue_id': 2800290099, 'author': 'fw-bot', 'body': '@bastien-ipb @ged-odoo cherrypicking of pull request odoo/odoo#193912 failed.\n\nstdout:\n```\nAuto-merging addons/mrp_subcontracting/views/subcontracting_portal_templates.xml\nAuto-merging addons/web/static/src/module_loader.js\nCONFLICT (content): Merge conflict in addons/web/static/src/module_loader.js\n\n```\n\nEither perform the forward-port manually (and push to this branch, proceeding as usual) or close this PR (maybe?).\n\nIn the former case, you may want to edit this PR message as well.\n\n:warning: after resolving this conflict, you will need to merge it via @robodoo.\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 20, 21, 24, 10, tzinfo=datetime.timezone.utc)}, {'comment_id': 2604687215, 'issue_id': 2800290099, 'author': 'bastien-ipb', 'body': '@robodoo r+', 'created_at': datetime.datetime(2025, 1, 21, 13, 6, 58, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-20 21:24:08 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/194445.png)](https://mergebot.odoo.com/odoo/odoo/pull/194445)

fw-bot (Issue Creator) on (2025-01-20 21:24:10 UTC): @bastien-ipb @ged-odoo cherrypicking of pull request odoo/odoo#193912 failed.

stdout:
```
Auto-merging addons/mrp_subcontracting/views/subcontracting_portal_templates.xml
Auto-merging addons/web/static/src/module_loader.js
CONFLICT (content): Merge conflict in addons/web/static/src/module_loader.js

```

Either perform the forward-port manually (and push to this branch, proceeding as usual) or close this PR (maybe?).

In the former case, you may want to edit this PR message as well.

:warning: after resolving this conflict, you will need to merge it via @robodoo.

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

bastien-ipb on (2025-01-21 13:06:58 UTC): @robodoo r+

"
2800286982,pull_request,closed,,[FW][FIX] point_of_sale: deduct change from cash payment,"**Issue:**

when making a payment using 2 different payment methods (cash and bank), the change gets deducted from the bank payment not the cash payment in the invoice.

**Steps To Reproduce:**

On POS, for an order totaling $120.
    - Add a customer and ensure the ""Invoice"" box is checked.
    - pay using two payments methods bank 100$ Cash 50$
    - the change is $30, everything looks fine on the ticket on the pos.
    - Notice on the invoice on the db backend the $30 change is incorrectly deducted from the bank payment. As a result, the invoice displays: bank : $70 cash: $50

**Soltution:**
- In the `_create_payment_moves` method, ensure that cash payment method creates an `account.move` including the change amount.

opw-4076246

---
I confirm I have signed the CLA and read the PR guidelines at www.odoo.com/submit-pr

Forward-Port-Of: odoo/odoo#194299
Forward-Port-Of: odoo/odoo#187727",fw-bot,2025-01-20 21:21:21+00:00,[],2025-02-04 12:17:16+00:00,2025-01-21 12:03:43+00:00,https://github.com/odoo/odoo/pull/194444,"[('OE', 'the report is linked to a support ticket (opw-...)'), ('forwardport', 'This PR was created by @fw-bot'), ('18.2', None)]","[{'comment_id': 2603244361, 'issue_id': 2800286982, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/194444.png)](https://mergebot.odoo.com/odoo/odoo/pull/194444)', 'created_at': datetime.datetime(2025, 1, 20, 21, 21, 22, tzinfo=datetime.timezone.utc)}, {'comment_id': 2603244378, 'issue_id': 2800286982, 'author': 'fw-bot', 'body': '@kawkb @caburj this PR targets master and is the last of the forward-port chain containing:\n* odoo/odoo#194437\n\nTo merge the full chain, use\n> @robodoo r+\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 20, 21, 21, 23, tzinfo=datetime.timezone.utc)}, {'comment_id': 2603477012, 'issue_id': 2800286982, 'author': 'fw-bot', 'body': '@kawkb @caburj this forward port of odoo/odoo#187727 is awaiting action (not merged or closed).', 'created_at': datetime.datetime(2025, 1, 21, 2, 2, 12, tzinfo=datetime.timezone.utc)}, {'comment_id': 2603995590, 'issue_id': 2800286982, 'author': 'kawkb', 'body': '@robodoo r+', 'created_at': datetime.datetime(2025, 1, 21, 8, 45, 28, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-20 21:21:22 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/194444.png)](https://mergebot.odoo.com/odoo/odoo/pull/194444)

fw-bot (Issue Creator) on (2025-01-20 21:21:23 UTC): @kawkb @caburj this PR targets master and is the last of the forward-port chain containing:
* odoo/odoo#194437

To merge the full chain, use

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

fw-bot (Issue Creator) on (2025-01-21 02:02:12 UTC): @kawkb @caburj this forward port of odoo/odoo#187727 is awaiting action (not merged or closed).

kawkb on (2025-01-21 08:45:28 UTC): @robodoo r+

"
2800285473,pull_request,closed,,[FW][FIX] {test_}base_automation: compute trigger_field_ids from default_filter_domain,"Before this commit, 'trigger_field_ids' were already computed from the
filter_domain, but using a default_filter_domain didn't work due to the
'_onchange_trigger' method emptying 'trigger_field_ids' in the case of
on_create_or_write.

After this commit, we made '_onchange_trigger' take into account
the filter_domain for this case.

This addition fixes a window action from Documents to Automation Rules.

see odoo/odoo#193206
see odoo/enterprise#75719
task-4481308
---
I confirm I have signed the CLA and read the PR guidelines at www.odoo.com/submit-pr

Forward-Port-Of: odoo/odoo#193576",fw-bot,2025-01-20 21:19:59+00:00,[],2025-02-04 10:01:28+00:00,2025-01-21 09:59:49+00:00,https://github.com/odoo/odoo/pull/194443,"[('RD', 'research & development, internal work'), ('forwardport', 'This PR was created by @fw-bot'), ('18.2', None)]","[{'comment_id': 2603242998, 'issue_id': 2800285473, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/194443.png)](https://mergebot.odoo.com/odoo/odoo/pull/194443)', 'created_at': datetime.datetime(2025, 1, 20, 21, 20, tzinfo=datetime.timezone.utc)}, {'comment_id': 2603243009, 'issue_id': 2800285473, 'author': 'fw-bot', 'body': '@lm4649 @kebeclibre this PR targets master and is the last of the forward-port chain containing:\n* odoo/odoo#194438\n\nTo merge the full chain, use\n> @robodoo r+\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 20, 21, 20, 1, tzinfo=datetime.timezone.utc)}, {'comment_id': 2603814438, 'issue_id': 2800285473, 'author': 'kebeclibre', 'body': '@robodoo r+', 'created_at': datetime.datetime(2025, 1, 21, 7, 5, 22, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-20 21:20:00 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/194443.png)](https://mergebot.odoo.com/odoo/odoo/pull/194443)

fw-bot (Issue Creator) on (2025-01-20 21:20:01 UTC): @lm4649 @kebeclibre this PR targets master and is the last of the forward-port chain containing:
* odoo/odoo#194438

To merge the full chain, use

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

kebeclibre on (2025-01-21 07:05:22 UTC): @robodoo r+

"
2800264843,pull_request,closed,,[FW][FIX] account_peppol: Fix the messaged displayed on Peppol error,"When an error occurs on IAP side for Peppol we display the content of `message` while we have a more friendly-user text stored in `display_message`. Use the latter when logging in Odoo.

See: https://github.com/odoo/iap-apps/blob/5dde71627dfd6c6168935346bece0018d4701ce3/iap_services/peppol_proxy/exceptions.py#L14
task-no

Forward-Port-Of: odoo/odoo#194352",fw-bot,2025-01-20 21:01:33+00:00,[],2025-02-04 09:34:26+00:00,2025-01-21 09:29:22+00:00,https://github.com/odoo/odoo/pull/194442,"[('RD', 'research & development, internal work'), ('forwardport', 'This PR was created by @fw-bot')]","[{'comment_id': 2603224022, 'issue_id': 2800264843, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/194442.png)](https://mergebot.odoo.com/odoo/odoo/pull/194442)', 'created_at': datetime.datetime(2025, 1, 20, 21, 1, 34, tzinfo=datetime.timezone.utc)}, {'comment_id': 2603224038, 'issue_id': 2800264843, 'author': 'fw-bot', 'body': 'This PR targets 18.0 and is part of the forward-port chain. Further PRs will be created up to master.\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 20, 21, 1, 34, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-20 21:01:34 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/194442.png)](https://mergebot.odoo.com/odoo/odoo/pull/194442)

fw-bot (Issue Creator) on (2025-01-20 21:01:34 UTC): This PR targets 18.0 and is part of the forward-port chain. Further PRs will be created up to master.

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

"
2800261888,pull_request,closed,,[FW][FIX] resource: fix duration days of working schedules,"When creating a new working schedule, the duration (days) was not computed correctly. This was due to a missing field in the depends of the compute method.

This commits fixes the issue by adding the hours per day in the depens of the duration days compute method. That way, the duration days will be computed after that the hours per day are computed.

task-4457200

Forward-Port-Of: odoo/odoo#193715",fw-bot,2025-01-20 20:59:00+00:00,[],2025-02-04 14:11:33+00:00,2025-01-21 14:08:52+00:00,https://github.com/odoo/odoo/pull/194441,"[('RD', 'research & development, internal work'), ('forwardport', 'This PR was created by @fw-bot')]","[{'comment_id': 2603221140, 'issue_id': 2800261888, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/194441.png)](https://mergebot.odoo.com/odoo/odoo/pull/194441)', 'created_at': datetime.datetime(2025, 1, 20, 20, 59, 1, tzinfo=datetime.timezone.utc)}, {'comment_id': 2603221151, 'issue_id': 2800261888, 'author': 'fw-bot', 'body': 'This PR targets 18.0 and is part of the forward-port chain. Further PRs will be created up to master.\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 20, 20, 59, 2, tzinfo=datetime.timezone.utc)}, {'comment_id': 2603247409, 'issue_id': 2800261888, 'author': 'fw-bot', 'body': '@romaincarlier4 @tivisse ci/runbot failed on this forward-port PR', 'created_at': datetime.datetime(2025, 1, 20, 21, 24, 25, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-20 20:59:01 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/194441.png)](https://mergebot.odoo.com/odoo/odoo/pull/194441)

fw-bot (Issue Creator) on (2025-01-20 20:59:02 UTC): This PR targets 18.0 and is part of the forward-port chain. Further PRs will be created up to master.

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

fw-bot (Issue Creator) on (2025-01-20 21:24:25 UTC): @romaincarlier4 @tivisse ci/runbot failed on this forward-port PR

"
2800213711,pull_request,closed,,[FW][FIX] point_of_sale: set opening amount to last session's closing balance,"- Resolved issue where the ""expected opening"" amount in the POS session chatter incorrectly displayed the manually modified amount instead of the previous closing balance.
- Adjusted the sequence of setting `cash_register_balance_start` to maintain consistent chatter messages with accurate deltas.

task-id: 4471816

Description of the issue/feature this PR addresses:

Current behavior before PR:

Desired behavior after PR is merged:




---
I confirm I have signed the CLA and read the PR guidelines at www.odoo.com/submit-pr

Forward-Port-Of: odoo/odoo#194044
Forward-Port-Of: odoo/odoo#193926",fw-bot,2025-01-20 20:18:42+00:00,[],2025-02-04 20:40:46+00:00,2025-01-21 20:37:17+00:00,https://github.com/odoo/odoo/pull/194440,"[('RD', 'research & development, internal work'), ('forwardport', 'This PR was created by @fw-bot'), ('18.2', None)]","[{'comment_id': 2603176873, 'issue_id': 2800213711, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/194440.png)](https://mergebot.odoo.com/odoo/odoo/pull/194440)', 'created_at': datetime.datetime(2025, 1, 20, 20, 18, 43, tzinfo=datetime.timezone.utc)}, {'comment_id': 2603176878, 'issue_id': 2800213711, 'author': 'fw-bot', 'body': '@manv-afk @adgu-odoo this PR targets master and is the last of the forward-port chain.\n\nTo merge the full chain, use\n> @robodoo r+\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 20, 20, 18, 44, tzinfo=datetime.timezone.utc)}, {'comment_id': 2603205942, 'issue_id': 2800213711, 'author': 'fw-bot', 'body': '@manv-afk @adgu-odoo ci/runbot failed on this forward-port PR', 'created_at': datetime.datetime(2025, 1, 20, 20, 44, 59, tzinfo=datetime.timezone.utc)}, {'comment_id': 2603475679, 'issue_id': 2800213711, 'author': 'fw-bot', 'body': '@manv-afk @adgu-odoo this forward port of odoo/odoo#193926 is awaiting action (not merged or closed).', 'created_at': datetime.datetime(2025, 1, 21, 2, 0, 56, tzinfo=datetime.timezone.utc)}, {'comment_id': 2603985698, 'issue_id': 2800213711, 'author': 'fw-bot', 'body': '@manv-afk @adgu-odoo this PR was modified / updated and has become a normal PR. It must be merged directly.', 'created_at': datetime.datetime(2025, 1, 21, 8, 40, 48, tzinfo=datetime.timezone.utc)}, {'comment_id': 2604856469, 'issue_id': 2800213711, 'author': 'manv-afk', 'body': '@robodoo r+', 'created_at': datetime.datetime(2025, 1, 21, 14, 16, 11, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-20 20:18:43 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/194440.png)](https://mergebot.odoo.com/odoo/odoo/pull/194440)

fw-bot (Issue Creator) on (2025-01-20 20:18:44 UTC): @manv-afk @adgu-odoo this PR targets master and is the last of the forward-port chain.

To merge the full chain, use

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

fw-bot (Issue Creator) on (2025-01-20 20:44:59 UTC): @manv-afk @adgu-odoo ci/runbot failed on this forward-port PR

fw-bot (Issue Creator) on (2025-01-21 02:00:56 UTC): @manv-afk @adgu-odoo this forward port of odoo/odoo#193926 is awaiting action (not merged or closed).

fw-bot (Issue Creator) on (2025-01-21 08:40:48 UTC): @manv-afk @adgu-odoo this PR was modified / updated and has become a normal PR. It must be merged directly.

manv-afk on (2025-01-21 14:16:11 UTC): @robodoo r+

"
2800200559,pull_request,closed,,[FW][IMP] mail: minimize notification email layout,"Email notifications typically include:
1) A header with elements such as an access button, title, or subtitle.
2) A footer with sender information and a ""Powered by Odoo"" link.

While these elements provide valuable context, they can clutter email threads, especially in interleaved responses.

This commit introduces a dynamic mechanism to streamline email notifications by conditionally hiding the header and footer based on predefined criteria:

By default,
- The header will be displayed only if it contains an access button.
- The footer will be displayed if it contains an access button and the email is sent from an internal user and if the email is a notification  about an invoice, a Purchase order (PO) or a Sales order (SO).

To ensure flexibility, new context variables are introduced:
- `email_notification_allow_header`, `email_notification_allow_footer`: Enable or disable the conditional hiding mechanism.
- `email_notification_force_header`, `email_notification_force_footer`: Force the display of the header and footer regardless of conditions.

Additionally, the ribbon indicating that an email is internal has been removed to further simplify the layout.

These updates reduce email size, improve readability in threaded conversations, and ensure that critical information is highlighted without unnecessary clutter.

Task-4128966

Forward-Port-Of: odoo/odoo#190390",fw-bot,2025-01-20 20:08:13+00:00,[],2025-01-27 15:55:58+00:00,2025-01-27 15:55:58+00:00,https://github.com/odoo/odoo/pull/194439,"[('RD', 'research & development, internal work'), ('forwardport', 'This PR was created by @fw-bot'), ('conflict', 'There was an error while creating this forward-port PR')]","[{'comment_id': 2603164796, 'issue_id': 2800200559, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/194439.png)](https://mergebot.odoo.com/odoo/odoo/pull/194439)', 'created_at': datetime.datetime(2025, 1, 20, 20, 8, 15, tzinfo=datetime.timezone.utc)}, {'comment_id': 2603164808, 'issue_id': 2800200559, 'author': 'fw-bot', 'body': '@julien-banken @tde-banana-odoo cherrypicking of pull request odoo/odoo#190390 failed.\n\n* 76582011bdca6358c9d4c0facbda8280323eb55f <- on this commit\n* a68feabd3bd95574cf34c5a4e3ea877b6eb12923\n\nstdout:\n```\nAuto-merging addons/account/models/account_move_send.py\nAuto-merging addons/mail/data/mail_templates_email_layouts.xml\nAuto-merging addons/mail/data/mail_templates_invite.xml\nAuto-merging addons/mail/models/mail_thread.py\nCONFLICT (content): Merge conflict in addons/mail/models/mail_thread.py\nAuto-merging addons/purchase/models/purchase_order.py\nAuto-merging addons/sale/models/sale_order.py\nCONFLICT (content): Merge conflict in addons/sale/models/sale_order.py\nAuto-merging addons/test_mail/tests/test_mail_followers.py\nCONFLICT (content): Merge conflict in addons/test_mail/tests/test_mail_followers.py\n\n```\n\nEither perform the forward-port manually (and push to this branch, proceeding as usual) or close this PR (maybe?).\n\nIn the former case, you may want to edit this PR message as well.\n\n:warning: after resolving this conflict, you will need to merge it via @robodoo.\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 20, 20, 8, 15, tzinfo=datetime.timezone.utc)}, {'comment_id': 2611385997, 'issue_id': 2800200559, 'author': 'fw-bot', 'body': '@julien-banken @tde-banana-odoo this forward port of odoo/odoo#190390 is awaiting action (not merged or closed).', 'created_at': datetime.datetime(2025, 1, 24, 2, 1, 29, tzinfo=datetime.timezone.utc)}, {'comment_id': 2613722016, 'issue_id': 2800200559, 'author': 'fw-bot', 'body': '@julien-banken @tde-banana-odoo this forward port of odoo/odoo#190390 is awaiting action (not merged or closed).', 'created_at': datetime.datetime(2025, 1, 25, 2, 1, 45, tzinfo=datetime.timezone.utc)}, {'comment_id': 2614172464, 'issue_id': 2800200559, 'author': 'fw-bot', 'body': '@julien-banken @tde-banana-odoo this forward port of odoo/odoo#190390 is awaiting action (not merged or closed).', 'created_at': datetime.datetime(2025, 1, 26, 2, 2, 1, tzinfo=datetime.timezone.utc)}, {'comment_id': 2614723614, 'issue_id': 2800200559, 'author': 'fw-bot', 'body': '@julien-banken @tde-banana-odoo this forward port of odoo/odoo#190390 is awaiting action (not merged or closed).', 'created_at': datetime.datetime(2025, 1, 27, 2, 2, 41, tzinfo=datetime.timezone.utc)}, {'comment_id': 2615826234, 'issue_id': 2800200559, 'author': 'julien-banken', 'body': '@robodoo r+', 'created_at': datetime.datetime(2025, 1, 27, 13, 54, 38, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-20 20:08:15 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/194439.png)](https://mergebot.odoo.com/odoo/odoo/pull/194439)

fw-bot (Issue Creator) on (2025-01-20 20:08:15 UTC): @julien-banken @tde-banana-odoo cherrypicking of pull request odoo/odoo#190390 failed.

* 76582011bdca6358c9d4c0facbda8280323eb55f <- on this commit
* a68feabd3bd95574cf34c5a4e3ea877b6eb12923

stdout:
```
Auto-merging addons/account/models/account_move_send.py
Auto-merging addons/mail/data/mail_templates_email_layouts.xml
Auto-merging addons/mail/data/mail_templates_invite.xml
Auto-merging addons/mail/models/mail_thread.py
CONFLICT (content): Merge conflict in addons/mail/models/mail_thread.py
Auto-merging addons/purchase/models/purchase_order.py
Auto-merging addons/sale/models/sale_order.py
CONFLICT (content): Merge conflict in addons/sale/models/sale_order.py
Auto-merging addons/test_mail/tests/test_mail_followers.py
CONFLICT (content): Merge conflict in addons/test_mail/tests/test_mail_followers.py

```

Either perform the forward-port manually (and push to this branch, proceeding as usual) or close this PR (maybe?).

In the former case, you may want to edit this PR message as well.

:warning: after resolving this conflict, you will need to merge it via @robodoo.

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

fw-bot (Issue Creator) on (2025-01-24 02:01:29 UTC): @julien-banken @tde-banana-odoo this forward port of odoo/odoo#190390 is awaiting action (not merged or closed).

fw-bot (Issue Creator) on (2025-01-25 02:01:45 UTC): @julien-banken @tde-banana-odoo this forward port of odoo/odoo#190390 is awaiting action (not merged or closed).

fw-bot (Issue Creator) on (2025-01-26 02:02:01 UTC): @julien-banken @tde-banana-odoo this forward port of odoo/odoo#190390 is awaiting action (not merged or closed).

fw-bot (Issue Creator) on (2025-01-27 02:02:41 UTC): @julien-banken @tde-banana-odoo this forward port of odoo/odoo#190390 is awaiting action (not merged or closed).

julien-banken on (2025-01-27 13:54:38 UTC): @robodoo r+

"
2800200214,pull_request,closed,,[FW][FIX] {test_}base_automation: compute trigger_field_ids from default_filter_domain,"Before this commit, 'trigger_field_ids' were already computed from the
filter_domain, but using a default_filter_domain didn't work due to the
'_onchange_trigger' method emptying 'trigger_field_ids' in the case of
on_create_or_write.

After this commit, we made '_onchange_trigger' take into account
the filter_domain for this case.

This addition fixes a window action from Documents to Automation Rules.

see odoo/odoo#193206
see odoo/enterprise#75719
task-4481308
---
I confirm I have signed the CLA and read the PR guidelines at www.odoo.com/submit-pr

Forward-Port-Of: odoo/odoo#193576",fw-bot,2025-01-20 20:07:56+00:00,[],2025-02-04 08:24:48+00:00,2025-01-21 08:19:57+00:00,https://github.com/odoo/odoo/pull/194438,"[('RD', 'research & development, internal work'), ('forwardport', 'This PR was created by @fw-bot')]","[{'comment_id': 2603164476, 'issue_id': 2800200214, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/194438.png)](https://mergebot.odoo.com/odoo/odoo/pull/194438)', 'created_at': datetime.datetime(2025, 1, 20, 20, 7, 57, tzinfo=datetime.timezone.utc)}, {'comment_id': 2603164488, 'issue_id': 2800200214, 'author': 'fw-bot', 'body': 'This PR targets saas-18.1 and is part of the forward-port chain. Further PRs will be created up to master.\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 20, 20, 7, 57, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-20 20:07:57 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/194438.png)](https://mergebot.odoo.com/odoo/odoo/pull/194438)

fw-bot (Issue Creator) on (2025-01-20 20:07:57 UTC): This PR targets saas-18.1 and is part of the forward-port chain. Further PRs will be created up to master.

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

"
2800199846,pull_request,closed,,[FW][FIX] point_of_sale: deduct change from cash payment,"**Issue:**

when making a payment using 2 different payment methods (cash and bank), the change gets deducted from the bank payment not the cash payment in the invoice.

**Steps To Reproduce:**

On POS, for an order totaling $120.
    - Add a customer and ensure the ""Invoice"" box is checked.
    - pay using two payments methods bank 100$ Cash 50$
    - the change is $30, everything looks fine on the ticket on the pos.
    - Notice on the invoice on the db backend the $30 change is incorrectly deducted from the bank payment. As a result, the invoice displays: bank : $70 cash: $50

**Soltution:**
- In the `_create_payment_moves` method, ensure that cash payment method creates an `account.move` including the change amount.

opw-4076246

---
I confirm I have signed the CLA and read the PR guidelines at www.odoo.com/submit-pr

Forward-Port-Of: odoo/odoo#194299
Forward-Port-Of: odoo/odoo#187727",fw-bot,2025-01-20 20:07:37+00:00,[],2025-02-04 12:41:59+00:00,2025-01-21 12:32:48+00:00,https://github.com/odoo/odoo/pull/194437,"[('OE', 'the report is linked to a support ticket (opw-...)'), ('forwardport', 'This PR was created by @fw-bot')]","[{'comment_id': 2603164327, 'issue_id': 2800199846, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/194437.png)](https://mergebot.odoo.com/odoo/odoo/pull/194437)', 'created_at': datetime.datetime(2025, 1, 20, 20, 7, 49, tzinfo=datetime.timezone.utc)}, {'comment_id': 2603164341, 'issue_id': 2800199846, 'author': 'fw-bot', 'body': 'This PR targets saas-18.1 and is part of the forward-port chain. Further PRs will be created up to master.\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 20, 20, 7, 50, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-20 20:07:49 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/194437.png)](https://mergebot.odoo.com/odoo/odoo/pull/194437)

fw-bot (Issue Creator) on (2025-01-20 20:07:50 UTC): This PR targets saas-18.1 and is part of the forward-port chain. Further PRs will be created up to master.

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

"
2800197370,pull_request,closed,,[FW][IMP] web: showing module_loader errors,"Before this commit, the module_loader was showing error by empty the DOM and then adding his element with the errors. The issue is, if you have an error because of custom script or after an upgrade, then you were lockout because the DOM with empty and you cannot go fix the script.

After this commit, a shorter message will be shown in the bottom-left of the screen. This message will invite the user to check the devtool to have more details about the error.


---
I confirm I have signed the CLA and read the PR guidelines at www.odoo.com/submit-pr

Forward-Port-Of: odoo/odoo#194342
Forward-Port-Of: odoo/odoo#193912",fw-bot,2025-01-20 20:05:39+00:00,[],2025-02-04 17:44:45+00:00,2025-01-21 17:27:07+00:00,https://github.com/odoo/odoo/pull/194436,"[('RD', 'research & development, internal work'), ('forwardport', 'This PR was created by @fw-bot')]","[{'comment_id': 2603161735, 'issue_id': 2800197370, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/194436.png)](https://mergebot.odoo.com/odoo/odoo/pull/194436)', 'created_at': datetime.datetime(2025, 1, 20, 20, 5, 40, tzinfo=datetime.timezone.utc)}, {'comment_id': 2603161744, 'issue_id': 2800197370, 'author': 'fw-bot', 'body': 'This PR targets saas-17.4 and is part of the forward-port chain. Further PRs will be created up to master.\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 20, 20, 5, 40, tzinfo=datetime.timezone.utc)}, {'comment_id': 2603247138, 'issue_id': 2800197370, 'author': 'fw-bot', 'body': '@bastien-ipb @ged-odoo the next pull request (odoo/odoo#194445) is in conflict. You can merge the chain up to here by saying\n> @robodoo r+\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 20, 21, 24, 9, tzinfo=datetime.timezone.utc)}, {'comment_id': 2604739044, 'issue_id': 2800197370, 'author': 'bastien-ipb', 'body': '@robodoo r+', 'created_at': datetime.datetime(2025, 1, 21, 13, 28, 28, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-20 20:05:40 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/194436.png)](https://mergebot.odoo.com/odoo/odoo/pull/194436)

fw-bot (Issue Creator) on (2025-01-20 20:05:40 UTC): This PR targets saas-17.4 and is part of the forward-port chain. Further PRs will be created up to master.

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

fw-bot (Issue Creator) on (2025-01-20 21:24:09 UTC): @bastien-ipb @ged-odoo the next pull request (odoo/odoo#194445) is in conflict. You can merge the chain up to here by saying

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

bastien-ipb on (2025-01-21 13:28:28 UTC): @robodoo r+

"
2800179985,pull_request,closed,,[FW][FIX] account_peppol: Fix the messaged displayed on Peppol error,"When an error occurs on IAP side for Peppol we display the content of `message` while we have a more friendly-user text stored in `display_message`. Use the latter when logging in Odoo.

See: https://github.com/odoo/iap-apps/blob/5dde71627dfd6c6168935346bece0018d4701ce3/iap_services/peppol_proxy/exceptions.py#L14
task-no

Forward-Port-Of: odoo/odoo#194352",fw-bot,2025-01-20 19:52:02+00:00,[],2025-02-04 11:46:48+00:00,2025-01-21 11:35:42+00:00,https://github.com/odoo/odoo/pull/194435,"[('RD', 'research & development, internal work'), ('forwardport', 'This PR was created by @fw-bot')]","[{'comment_id': 2603145036, 'issue_id': 2800179985, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/194435.png)](https://mergebot.odoo.com/odoo/odoo/pull/194435)', 'created_at': datetime.datetime(2025, 1, 20, 19, 52, 3, tzinfo=datetime.timezone.utc)}, {'comment_id': 2603145054, 'issue_id': 2800179985, 'author': 'fw-bot', 'body': 'This PR targets saas-17.4 and is part of the forward-port chain. Further PRs will be created up to master.\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 20, 19, 52, 4, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-20 19:52:03 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/194435.png)](https://mergebot.odoo.com/odoo/odoo/pull/194435)

fw-bot (Issue Creator) on (2025-01-20 19:52:04 UTC): This PR targets saas-17.4 and is part of the forward-port chain. Further PRs will be created up to master.

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

"
2800143936,pull_request,closed,,[FW][FIX] web: graph: prevent rendering too many datasets,"Chart.js can be really slow when rendering a large number of datasets.
So this commit limits the amount of datasets displayed by default on the graph.
However a button is present to display all datasets even if it can take a moment to render them.

task-4351783

Forward-Port-Of: odoo/odoo#194170
Forward-Port-Of: odoo/odoo#192892",fw-bot,2025-01-20 19:23:41+00:00,[],2025-02-04 15:54:01+00:00,2025-01-21 15:37:49+00:00,https://github.com/odoo/odoo/pull/194434,"[('RD', 'research & development, internal work'), ('forwardport', 'This PR was created by @fw-bot'), ('conflict', 'There was an error while creating this forward-port PR')]","[{'comment_id': 2603112759, 'issue_id': 2800143936, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/194434.png)](https://mergebot.odoo.com/odoo/odoo/pull/194434)', 'created_at': datetime.datetime(2025, 1, 20, 19, 23, 42, tzinfo=datetime.timezone.utc)}, {'comment_id': 2603112801, 'issue_id': 2800143936, 'author': 'fw-bot', 'body': '@mcm-odoo @polymorphe57 cherrypicking of pull request odoo/odoo#192892 failed.\n\nstdout:\n```\nAuto-merging addons/web/static/src/views/graph/graph_controller.js\nAuto-merging addons/web/static/src/views/graph/graph_controller.xml\nAuto-merging addons/web/static/src/views/graph/graph_model.js\nCONFLICT (content): Merge conflict in addons/web/static/src/views/graph/graph_model.js\nAuto-merging addons/web/static/tests/views/graph/graph_view.test.js\nCONFLICT (content): Merge conflict in addons/web/static/tests/views/graph/graph_view.test.js\n\n```\n\nEither perform the forward-port manually (and push to this branch, proceeding as usual) or close this PR (maybe?).\n\nIn the former case, you may want to edit this PR message as well.\n\n:warning: after resolving this conflict, you will need to merge it via @robodoo.\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 20, 19, 23, 44, tzinfo=datetime.timezone.utc)}, {'comment_id': 2603476386, 'issue_id': 2800143936, 'author': 'fw-bot', 'body': '@mcm-odoo @polymorphe57 this forward port of odoo/odoo#192892 is awaiting action (not merged or closed).', 'created_at': datetime.datetime(2025, 1, 21, 2, 1, 34, tzinfo=datetime.timezone.utc)}, {'comment_id': 2604455003, 'issue_id': 2800143936, 'author': 'mcm-odoo', 'body': '@robodoo r+', 'created_at': datetime.datetime(2025, 1, 21, 11, 23, 26, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-20 19:23:42 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/194434.png)](https://mergebot.odoo.com/odoo/odoo/pull/194434)

fw-bot (Issue Creator) on (2025-01-20 19:23:44 UTC): @mcm-odoo @polymorphe57 cherrypicking of pull request odoo/odoo#192892 failed.

stdout:
```
Auto-merging addons/web/static/src/views/graph/graph_controller.js
Auto-merging addons/web/static/src/views/graph/graph_controller.xml
Auto-merging addons/web/static/src/views/graph/graph_model.js
CONFLICT (content): Merge conflict in addons/web/static/src/views/graph/graph_model.js
Auto-merging addons/web/static/tests/views/graph/graph_view.test.js
CONFLICT (content): Merge conflict in addons/web/static/tests/views/graph/graph_view.test.js

```

Either perform the forward-port manually (and push to this branch, proceeding as usual) or close this PR (maybe?).

In the former case, you may want to edit this PR message as well.

:warning: after resolving this conflict, you will need to merge it via @robodoo.

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

fw-bot (Issue Creator) on (2025-01-21 02:01:34 UTC): @mcm-odoo @polymorphe57 this forward port of odoo/odoo#192892 is awaiting action (not merged or closed).

mcm-odoo on (2025-01-21 11:23:26 UTC): @robodoo r+

"
2800128891,pull_request,closed,,[FIX] account: missing placeholder for move name,"The placeholder was empty in some places, leading to an annoying behavior because it isn't even possible anymore to open the related journal entry.

The fix is done directly in the widget `open_move_widget` to avoid modifying the definition of the related field and having to change it into a computed field. Also, it wouldn't make sense to store the placeholder on the journal item but not on the journal entry.
",william-andre,2025-01-20 19:11:43+00:00,[],2025-02-04 12:31:41+00:00,2025-01-21 12:28:24+00:00,https://github.com/odoo/odoo/pull/194433,"[('RD', 'research & development, internal work')]","[{'comment_id': 2603098125, 'issue_id': 2800128891, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/194433.png)](https://mergebot.odoo.com/odoo/odoo/pull/194433)', 'created_at': datetime.datetime(2025, 1, 20, 19, 11, 47, tzinfo=datetime.timezone.utc)}, {'comment_id': 2604309488, 'issue_id': 2800128891, 'author': 'RicGR98', 'body': '@robodoo r+', 'created_at': datetime.datetime(2025, 1, 21, 10, 23, 3, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-20 19:11:47 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/194433.png)](https://mergebot.odoo.com/odoo/odoo/pull/194433)

RicGR98 on (2025-01-21 10:23:03 UTC): @robodoo r+

"
2800088704,pull_request,closed,,[FW][FIX] sale_purchase: read service_to_purchase from the order's company,"Steps to reproduce:

1. Create two companies: Company A and Company B
2. Create a service product
3. Configure the product to be purchased on Company A and not on Company B
4. Create a sales order on Company B, while logged in Company A
5. Confirm the order

Expected result:

The service PO is created on Company B, even though it was configured not to.



---
I confirm I have signed the CLA and read the PR guidelines at www.odoo.com/submit-pr

Forward-Port-Of: odoo/odoo#192561
Forward-Port-Of: odoo/odoo#177659",fw-bot,2025-01-20 18:40:52+00:00,[],2025-02-06 17:46:47+00:00,2025-01-23 17:43:49+00:00,https://github.com/odoo/odoo/pull/194432,"[('RD', 'research & development, internal work'), ('forwardport', 'This PR was created by @fw-bot'), ('conflict', 'There was an error while creating this forward-port PR')]","[{'comment_id': 2603056972, 'issue_id': 2800088704, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/194432.png)](https://mergebot.odoo.com/odoo/odoo/pull/194432)', 'created_at': datetime.datetime(2025, 1, 20, 18, 40, 53, tzinfo=datetime.timezone.utc)}, {'comment_id': 2603056990, 'issue_id': 2800088704, 'author': 'fw-bot', 'body': '@ivantodorovich @ticodoo cherrypicking of pull request odoo/odoo#177659 failed.\n\nstdout:\n```\nAuto-merging addons/sale_purchase/models/sale_order_line.py\nAuto-merging addons/sale_purchase/tests/test_sale_purchase.py\nCONFLICT (content): Merge conflict in addons/sale_purchase/tests/test_sale_purchase.py\n\n```\n\nEither perform the forward-port manually (and push to this branch, proceeding as usual) or close this PR (maybe?).\n\nIn the former case, you may want to edit this PR message as well.\n\n:warning: after resolving this conflict, you will need to merge it via @robodoo.\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 20, 18, 40, 54, tzinfo=datetime.timezone.utc)}, {'comment_id': 2610223174, 'issue_id': 2800088704, 'author': 'ticodoo', 'body': '@robodoo r+', 'created_at': datetime.datetime(2025, 1, 23, 16, 3, 52, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-20 18:40:53 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/194432.png)](https://mergebot.odoo.com/odoo/odoo/pull/194432)

fw-bot (Issue Creator) on (2025-01-20 18:40:54 UTC): @ivantodorovich @ticodoo cherrypicking of pull request odoo/odoo#177659 failed.

stdout:
```
Auto-merging addons/sale_purchase/models/sale_order_line.py
Auto-merging addons/sale_purchase/tests/test_sale_purchase.py
CONFLICT (content): Merge conflict in addons/sale_purchase/tests/test_sale_purchase.py

```

Either perform the forward-port manually (and push to this branch, proceeding as usual) or close this PR (maybe?).

In the former case, you may want to edit this PR message as well.

:warning: after resolving this conflict, you will need to merge it via @robodoo.

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

ticodoo on (2025-01-23 16:03:52 UTC): @robodoo r+

"
2800088314,pull_request,closed,,[FW][FIX] account_peppol: Fix the messaged displayed on Peppol error,"When an error occurs on IAP side for Peppol we display the content of `message` while we have a more friendly-user text stored in `display_message`. Use the latter when logging in Odoo.

See: https://github.com/odoo/iap-apps/blob/5dde71627dfd6c6168935346bece0018d4701ce3/iap_services/peppol_proxy/exceptions.py#L14
task-no

Forward-Port-Of: odoo/odoo#194352",fw-bot,2025-01-20 18:40:35+00:00,[],2025-02-04 09:55:51+00:00,2025-01-21 09:55:33+00:00,https://github.com/odoo/odoo/pull/194431,"[('RD', 'research & development, internal work'), ('forwardport', 'This PR was created by @fw-bot')]","[{'comment_id': 2603056577, 'issue_id': 2800088314, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/194431.png)](https://mergebot.odoo.com/odoo/odoo/pull/194431)', 'created_at': datetime.datetime(2025, 1, 20, 18, 40, 36, tzinfo=datetime.timezone.utc)}, {'comment_id': 2603056601, 'issue_id': 2800088314, 'author': 'fw-bot', 'body': 'This PR targets saas-17.2 and is part of the forward-port chain. Further PRs will be created up to master.\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 20, 18, 40, 37, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-20 18:40:36 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/194431.png)](https://mergebot.odoo.com/odoo/odoo/pull/194431)

fw-bot (Issue Creator) on (2025-01-20 18:40:37 UTC): This PR targets saas-17.2 and is part of the forward-port chain. Further PRs will be created up to master.

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

"
2800081599,pull_request,closed,,[FW][FIX] resource: fix duration days of working schedules,"When creating a new working schedule, the duration (days) was not computed correctly. This was due to a missing field in the depends of the compute method.

This commits fixes the issue by adding the hours per day in the depens of the duration days compute method. That way, the duration days will be computed after that the hours per day are computed.

task-4457200

Forward-Port-Of: odoo/odoo#193715",fw-bot,2025-01-20 18:36:50+00:00,[],2025-02-04 14:38:08+00:00,2025-01-21 14:18:45+00:00,https://github.com/odoo/odoo/pull/194430,"[('RD', 'research & development, internal work'), ('forwardport', 'This PR was created by @fw-bot')]","[{'comment_id': 2603051553, 'issue_id': 2800081599, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/194430.png)](https://mergebot.odoo.com/odoo/odoo/pull/194430)', 'created_at': datetime.datetime(2025, 1, 20, 18, 36, 51, tzinfo=datetime.timezone.utc)}, {'comment_id': 2603051564, 'issue_id': 2800081599, 'author': 'fw-bot', 'body': 'This PR targets saas-17.4 and is part of the forward-port chain. Further PRs will be created up to master.\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 20, 18, 36, 52, tzinfo=datetime.timezone.utc)}, {'comment_id': 2603113091, 'issue_id': 2800081599, 'author': 'fw-bot', 'body': '@romaincarlier4 @tivisse ci/runbot failed on this forward-port PR', 'created_at': datetime.datetime(2025, 1, 20, 19, 23, 57, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-20 18:36:51 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/194430.png)](https://mergebot.odoo.com/odoo/odoo/pull/194430)

fw-bot (Issue Creator) on (2025-01-20 18:36:52 UTC): This PR targets saas-17.4 and is part of the forward-port chain. Further PRs will be created up to master.

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

fw-bot (Issue Creator) on (2025-01-20 19:23:57 UTC): @romaincarlier4 @tivisse ci/runbot failed on this forward-port PR

"
2800049395,pull_request,closed,,[FW][FIX] web: graph: prevent rendering too many datasets,"Chart.js can be really slow when rendering a large number of datasets.
So this commit limits the amount of datasets displayed by default on the graph.
However a button is present to display all datasets even if it can take a moment to render them.

task-4351783

Forward-Port-Of: odoo/odoo#194170
Forward-Port-Of: odoo/odoo#192892",fw-bot,2025-01-20 18:13:30+00:00,[],2025-02-04 09:34:26+00:00,2025-01-21 09:29:21+00:00,https://github.com/odoo/odoo/pull/194429,"[('RD', 'research & development, internal work'), ('forwardport', 'This PR was created by @fw-bot')]","[{'comment_id': 2603021114, 'issue_id': 2800049395, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/194429.png)](https://mergebot.odoo.com/odoo/odoo/pull/194429)', 'created_at': datetime.datetime(2025, 1, 20, 18, 13, 31, tzinfo=datetime.timezone.utc)}, {'comment_id': 2603021128, 'issue_id': 2800049395, 'author': 'fw-bot', 'body': 'This PR targets 18.0 and is part of the forward-port chain. Further PRs will be created up to master.\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 20, 18, 13, 31, tzinfo=datetime.timezone.utc)}, {'comment_id': 2603112769, 'issue_id': 2800049395, 'author': 'fw-bot', 'body': '@mcm-odoo @polymorphe57 the next pull request (odoo/odoo#194434) is in conflict. You can merge the chain up to here by saying\n> @robodoo r+\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 20, 19, 23, 42, tzinfo=datetime.timezone.utc)}, {'comment_id': 2603476413, 'issue_id': 2800049395, 'author': 'fw-bot', 'body': '@mcm-odoo @polymorphe57 this forward port of odoo/odoo#192892 is awaiting action (not merged or closed).', 'created_at': datetime.datetime(2025, 1, 21, 2, 1, 35, tzinfo=datetime.timezone.utc)}, {'comment_id': 2603885834, 'issue_id': 2800049395, 'author': 'mcm-odoo', 'body': '@robodoo r+', 'created_at': datetime.datetime(2025, 1, 21, 7, 52, 1, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-20 18:13:31 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/194429.png)](https://mergebot.odoo.com/odoo/odoo/pull/194429)

fw-bot (Issue Creator) on (2025-01-20 18:13:31 UTC): This PR targets 18.0 and is part of the forward-port chain. Further PRs will be created up to master.

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

fw-bot (Issue Creator) on (2025-01-20 19:23:42 UTC): @mcm-odoo @polymorphe57 the next pull request (odoo/odoo#194434) is in conflict. You can merge the chain up to here by saying

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

fw-bot (Issue Creator) on (2025-01-21 02:01:35 UTC): @mcm-odoo @polymorphe57 this forward port of odoo/odoo#192892 is awaiting action (not merged or closed).

mcm-odoo on (2025-01-21 07:52:01 UTC): @robodoo r+

"
2800048683,pull_request,closed,,[FW][FIX] point_of_sale: translate created journals,"In the onboarding wizard, we create a cash journal for different scenarios. However the names of these journals were not translatable.

We make them translatable in this commit.

Forward-Port-Of: odoo/odoo#194337",fw-bot,2025-01-20 18:13:10+00:00,[],2025-02-04 17:05:15+00:00,2025-01-21 16:57:13+00:00,https://github.com/odoo/odoo/pull/194428,"[('RD', 'research & development, internal work'), ('forwardport', 'This PR was created by @fw-bot'), ('conflict', 'There was an error while creating this forward-port PR')]","[{'comment_id': 2603020820, 'issue_id': 2800048683, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/194428.png)](https://mergebot.odoo.com/odoo/odoo/pull/194428)', 'created_at': datetime.datetime(2025, 1, 20, 18, 13, 17, tzinfo=datetime.timezone.utc)}, {'comment_id': 2603020842, 'issue_id': 2800048683, 'author': 'fw-bot', 'body': '@dylankiss @ticodoo cherrypicking of pull request odoo/odoo#194337 failed.\n\nstdout:\n```\nAuto-merging addons/point_of_sale/i18n/point_of_sale.pot\nCONFLICT (content): Merge conflict in addons/point_of_sale/i18n/point_of_sale.pot\nAuto-merging addons/point_of_sale/models/pos_config.py\n\n```\n\nEither perform the forward-port manually (and push to this branch, proceeding as usual) or close this PR (maybe?).\n\nIn the former case, you may want to edit this PR message as well.\n\n:warning: after resolving this conflict, you will need to merge it via @robodoo.\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 20, 18, 13, 18, tzinfo=datetime.timezone.utc)}, {'comment_id': 2604355791, 'issue_id': 2800048683, 'author': 'dylankiss', 'body': '@robodoo r+', 'created_at': datetime.datetime(2025, 1, 21, 10, 41, 55, tzinfo=datetime.timezone.utc)}, {'comment_id': 2604483015, 'issue_id': 2800048683, 'author': 'robodoo', 'body': ""@dylankiss @ticodoo 'ci/runbot' failed on this reviewed PR."", 'created_at': datetime.datetime(2025, 1, 21, 11, 37, 6, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-20 18:13:17 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/194428.png)](https://mergebot.odoo.com/odoo/odoo/pull/194428)

fw-bot (Issue Creator) on (2025-01-20 18:13:18 UTC): @dylankiss @ticodoo cherrypicking of pull request odoo/odoo#194337 failed.

stdout:
```
Auto-merging addons/point_of_sale/i18n/point_of_sale.pot
CONFLICT (content): Merge conflict in addons/point_of_sale/i18n/point_of_sale.pot
Auto-merging addons/point_of_sale/models/pos_config.py

```

Either perform the forward-port manually (and push to this branch, proceeding as usual) or close this PR (maybe?).

In the former case, you may want to edit this PR message as well.

:warning: after resolving this conflict, you will need to merge it via @robodoo.

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

dylankiss on (2025-01-21 10:41:55 UTC): @robodoo r+

robodoo on (2025-01-21 11:37:06 UTC): @dylankiss @ticodoo 'ci/runbot' failed on this reviewed PR.

"
2800034831,pull_request,closed,,[FW][FIX] web_editor: extra line added after inserting at line-break,"**Before this PR:**

Steps to reproduce:

- In an empty paragraph write something, press shift + enter
- Write something in new line break
- Select whole text in second line
- Paste any text, notice that an extra <br> is added above pasted text.

In other words,
`<p>abc<br>[def]</p> + insert('x')` becomes `<p>abc<br><br>x[]</p>` instead of `<p>abc<br>x[]</p> `.

**Desired behaviour after PR:**

Now, pasting something at line-break doesn't add an extra an extra `<br>` .

task-4231290




---
I confirm I have signed the CLA and read the PR guidelines at www.odoo.com/submit-pr

Forward-Port-Of: odoo/odoo#185854",fw-bot,2025-01-20 18:04:46+00:00,[],2025-02-04 17:44:47+00:00,2025-01-21 17:40:23+00:00,https://github.com/odoo/odoo/pull/194427,"[('RD', 'research & development, internal work'), ('forwardport', 'This PR was created by @fw-bot'), ('18.2', None)]","[{'comment_id': 2603008888, 'issue_id': 2800034831, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/194427.png)](https://mergebot.odoo.com/odoo/odoo/pull/194427)', 'created_at': datetime.datetime(2025, 1, 20, 18, 4, 47, tzinfo=datetime.timezone.utc)}, {'comment_id': 2603008909, 'issue_id': 2800034831, 'author': 'fw-bot', 'body': '@adsa-odoo @dmo-odoo this PR targets master and is the last of the forward-port chain containing:\n* odoo/odoo#194419\n* odoo/odoo#194403\n* odoo/odoo#194388\n* odoo/odoo#194368\n\nTo merge the full chain, use\n> @robodoo r+\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 20, 18, 4, 48, tzinfo=datetime.timezone.utc)}, {'comment_id': 2604337607, 'issue_id': 2800034831, 'author': 'dmo-odoo', 'body': '@robodoo r+', 'created_at': datetime.datetime(2025, 1, 21, 10, 34, 16, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-20 18:04:47 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/194427.png)](https://mergebot.odoo.com/odoo/odoo/pull/194427)

fw-bot (Issue Creator) on (2025-01-20 18:04:48 UTC): @adsa-odoo @dmo-odoo this PR targets master and is the last of the forward-port chain containing:
* odoo/odoo#194419
* odoo/odoo#194403
* odoo/odoo#194388
* odoo/odoo#194368

To merge the full chain, use

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

dmo-odoo on (2025-01-21 10:34:16 UTC): @robodoo r+

"
2800006725,pull_request,closed,,[FW][IMP] l10n_es_edi_sii: add cancellation,"Description of the issue/feature this PR addresses:

Current behavior before PR:

Desired behavior after PR is merged:




---
I confirm I have signed the CLA and read the PR guidelines at www.odoo.com/submit-pr

Forward-Port-Of: odoo/odoo#192048",fw-bot,2025-01-20 17:46:41+00:00,[],2025-02-05 13:42:10+00:00,2025-01-22 13:26:48+00:00,https://github.com/odoo/odoo/pull/194426,"[('RD', 'research & development, internal work'), ('forwardport', 'This PR was created by @fw-bot'), ('conflict', 'There was an error while creating this forward-port PR')]","[{'comment_id': 2602983736, 'issue_id': 2800006725, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/194426.png)](https://mergebot.odoo.com/odoo/odoo/pull/194426)', 'created_at': datetime.datetime(2025, 1, 20, 17, 46, 42, tzinfo=datetime.timezone.utc)}, {'comment_id': 2602983749, 'issue_id': 2800006725, 'author': 'fw-bot', 'body': '@jco-odoo @RicGR98 cherrypicking of pull request odoo/odoo#192048 failed.\n\nstdout:\n```\nAuto-merging addons/l10n_es_edi_sii/models/account_edi_format.py\nAuto-merging addons/l10n_es_edi_sii/models/account_move.py\nCONFLICT (content): Merge conflict in addons/l10n_es_edi_sii/models/account_move.py\nAuto-merging addons/l10n_es_edi_sii/tests/test_edi_xml.py\n\n```\n\nEither perform the forward-port manually (and push to this branch, proceeding as usual) or close this PR (maybe?).\n\nIn the former case, you may want to edit this PR message as well.\n\n:warning: after resolving this conflict, you will need to merge it via @robodoo.\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 20, 17, 46, 43, tzinfo=datetime.timezone.utc)}, {'comment_id': 2605017164, 'issue_id': 2800006725, 'author': 'jco-odoo', 'body': '@xmo-odoo Fw-port. Needed to fix a test for a new feature in 17.  (DUA)  But the security problem is the one with the 2 exceptions on one line.', 'created_at': datetime.datetime(2025, 1, 21, 15, 17, 38, tzinfo=datetime.timezone.utc)}, {'comment_id': 2606429741, 'issue_id': 2800006725, 'author': 'xmo-odoo', 'body': '@robodoo override=ci/security', 'created_at': datetime.datetime(2025, 1, 22, 6, 50, 36, tzinfo=datetime.timezone.utc)}, {'comment_id': 2606950022, 'issue_id': 2800006725, 'author': 'jco-odoo', 'body': '@robodoo r+', 'created_at': datetime.datetime(2025, 1, 22, 11, 9, 57, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-20 17:46:42 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/194426.png)](https://mergebot.odoo.com/odoo/odoo/pull/194426)

fw-bot (Issue Creator) on (2025-01-20 17:46:43 UTC): @jco-odoo @RicGR98 cherrypicking of pull request odoo/odoo#192048 failed.

stdout:
```
Auto-merging addons/l10n_es_edi_sii/models/account_edi_format.py
Auto-merging addons/l10n_es_edi_sii/models/account_move.py
CONFLICT (content): Merge conflict in addons/l10n_es_edi_sii/models/account_move.py
Auto-merging addons/l10n_es_edi_sii/tests/test_edi_xml.py

```

Either perform the forward-port manually (and push to this branch, proceeding as usual) or close this PR (maybe?).

In the former case, you may want to edit this PR message as well.

:warning: after resolving this conflict, you will need to merge it via @robodoo.

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

jco-odoo on (2025-01-21 15:17:38 UTC): @xmo-odoo Fw-port. Needed to fix a test for a new feature in 17.  (DUA)  But the security problem is the one with the 2 exceptions on one line.

xmo-odoo on (2025-01-22 06:50:36 UTC): @robodoo override=ci/security

jco-odoo on (2025-01-22 11:09:57 UTC): @robodoo r+

"
2799979611,pull_request,closed,,[FW][FIX] resource: fix duration days of working schedules,"When creating a new working schedule, the duration (days) was not computed correctly. This was due to a missing field in the depends of the compute method.

This commits fixes the issue by adding the hours per day in the depens of the duration days compute method. That way, the duration days will be computed after that the hours per day are computed.

task-4457200

Forward-Port-Of: odoo/odoo#193715",fw-bot,2025-01-20 17:31:17+00:00,[],2025-02-04 14:11:27+00:00,2025-01-21 13:45:41+00:00,https://github.com/odoo/odoo/pull/194425,"[('RD', 'research & development, internal work'), ('forwardport', 'This PR was created by @fw-bot')]","[{'comment_id': 2602958547, 'issue_id': 2799979611, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/194425.png)](https://mergebot.odoo.com/odoo/odoo/pull/194425)', 'created_at': datetime.datetime(2025, 1, 20, 17, 31, 18, tzinfo=datetime.timezone.utc)}, {'comment_id': 2602958576, 'issue_id': 2799979611, 'author': 'fw-bot', 'body': 'This PR targets saas-17.2 and is part of the forward-port chain. Further PRs will be created up to master.\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 20, 17, 31, 19, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-20 17:31:18 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/194425.png)](https://mergebot.odoo.com/odoo/odoo/pull/194425)

fw-bot (Issue Creator) on (2025-01-20 17:31:19 UTC): This PR targets saas-17.2 and is part of the forward-port chain. Further PRs will be created up to master.

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

"
2799979140,pull_request,closed,,[FW][FIX] base_automation: hide domain for on_change's,"Before this commit, the base.automation form view displays the filter_domain field when on_change trigger type is selected but the code does not take into account the filter_domain value for this type of trigger.

After this commit, this field is simply hidden in that case.

Task: opw-4492554

Forward-Port-Of: odoo/odoo#194321
Forward-Port-Of: odoo/odoo#194158",fw-bot,2025-01-20 17:30:59+00:00,[],2025-02-04 11:16:16+00:00,2025-01-21 11:16:36+00:00,https://github.com/odoo/odoo/pull/194424,"[('OE', 'the report is linked to a support ticket (opw-...)'), ('forwardport', 'This PR was created by @fw-bot'), ('conflict', 'There was an error while creating this forward-port PR')]","[{'comment_id': 2602958104, 'issue_id': 2799979140, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/194424.png)](https://mergebot.odoo.com/odoo/odoo/pull/194424)', 'created_at': datetime.datetime(2025, 1, 20, 17, 31, 1, tzinfo=datetime.timezone.utc)}, {'comment_id': 2602958126, 'issue_id': 2799979140, 'author': 'fw-bot', 'body': '@brboi @ryv-odoo cherrypicking of pull request odoo/odoo#194158 failed.\n\nstdout:\n```\nAuto-merging addons/base_automation/views/base_automation_views.xml\nCONFLICT (content): Merge conflict in addons/base_automation/views/base_automation_views.xml\n\n```\n\nEither perform the forward-port manually (and push to this branch, proceeding as usual) or close this PR (maybe?).\n\nIn the former case, you may want to edit this PR message as well.\n\n:warning: after resolving this conflict, you will need to merge it via @robodoo.\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 20, 17, 31, 1, tzinfo=datetime.timezone.utc)}, {'comment_id': 2603912248, 'issue_id': 2799979140, 'author': 'brboi', 'body': '@robodoo r+', 'created_at': datetime.datetime(2025, 1, 21, 8, 6, 58, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-20 17:31:01 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/194424.png)](https://mergebot.odoo.com/odoo/odoo/pull/194424)

fw-bot (Issue Creator) on (2025-01-20 17:31:01 UTC): @brboi @ryv-odoo cherrypicking of pull request odoo/odoo#194158 failed.

stdout:
```
Auto-merging addons/base_automation/views/base_automation_views.xml
CONFLICT (content): Merge conflict in addons/base_automation/views/base_automation_views.xml

```

Either perform the forward-port manually (and push to this branch, proceeding as usual) or close this PR (maybe?).

In the former case, you may want to edit this PR message as well.

:warning: after resolving this conflict, you will need to merge it via @robodoo.

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

brboi on (2025-01-21 08:06:58 UTC): @robodoo r+

"
2799968632,pull_request,closed,,[FIX] im_livechat: ignore leave when assigning livechat operator,"The spec is for operators to join/leave the live chat channel when they want to become available.

Leave status is now ignored, which removes confusion, especially with demo data when users are in leave and livechat appears to fail.

It also gives more control as the operator can always leave the channel when necessary (and also now choose to do support even during leaves).",seb-odoo,2025-01-20 17:24:17+00:00,['seb-odoo'],2025-01-23 16:54:55+00:00,2025-01-23 13:15:09+00:00,https://github.com/odoo/odoo/pull/194423,"[('RD', 'research & development, internal work'), ('Discuss', 'channels, livechat, chatter')]","[{'comment_id': 2602947639, 'issue_id': 2799968632, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/194423.png)](https://mergebot.odoo.com/odoo/odoo/pull/194423)', 'created_at': datetime.datetime(2025, 1, 20, 17, 24, 19, tzinfo=datetime.timezone.utc)}, {'comment_id': 2604259950, 'issue_id': 2799968632, 'author': 'phenix-factory', 'body': 'Maybe a python test that an operator with `leave_online` status is in the `livechat_channel.available_operator_ids` list?', 'created_at': datetime.datetime(2025, 1, 21, 10, 12, 31, tzinfo=datetime.timezone.utc)}, {'comment_id': 2609388154, 'issue_id': 2799968632, 'author': 'phenix-factory', 'body': '@robodoo r+', 'created_at': datetime.datetime(2025, 1, 23, 10, 5, 59, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-20 17:24:19 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/194423.png)](https://mergebot.odoo.com/odoo/odoo/pull/194423)

phenix-factory on (2025-01-21 10:12:31 UTC): Maybe a python test that an operator with `leave_online` status is in the `livechat_channel.available_operator_ids` list?

phenix-factory on (2025-01-23 10:05:59 UTC): @robodoo r+

"
2799939497,pull_request,open,,[FIX] point_of_sale: fix order quantity rounding,"Fixed inconsistent rounding of quantities displayed on the order button and table diff counters in the floor plan.

**Steps to reproduce the issue:**
1. Add an orderline by clicking on a product.
2. Set the quantity to ""2"".
3. Click ""Order"".
4. Click ""."" and then ""2"" to adjust the quantity.
5. We can observe really long quantity (not rounded like `0.20000000000000018` instead of `0.2`)

**Changes:**
- Added `roundQuantity` utility to ensure consistent rounding to 2 decimals.
- Applied `roundQuantity` to table diff counters (on floorplan) and order category counters (on the order button inside ProductScreen) .

task-id: 4488523

Description of the issue/feature this PR addresses:

Current behavior before PR:

Desired behavior after PR is merged:




---
I confirm I have signed the CLA and read the PR guidelines at www.odoo.com/submit-pr
",manv-afk,2025-01-20 17:09:15+00:00,[],2025-01-21 09:14:13+00:00,,https://github.com/odoo/odoo/pull/194422,"[('RD', 'research & development, internal work')]","[{'comment_id': 2602922352, 'issue_id': 2799939497, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/194422.png)](https://mergebot.odoo.com/odoo/odoo/pull/194422)', 'created_at': datetime.datetime(2025, 1, 20, 17, 9, 18, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-20 17:09:18 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/194422.png)](https://mergebot.odoo.com/odoo/odoo/pull/194422)

"
2799900248,pull_request,closed,,[FIX] l10n_ch: print Swiss Qrcodes when the transaction is possible,"### Steps to reproduce:
- Install ""l10n_ch"" and switch to a Swiss company
- Create an invoice for a Swiss partner
- Send it
- The QR code appears in the generated PDF

### Cause:
The bank eligibility is not checked when printing the QR code.

### Solution:
After a discussion with the PO (THB) the Qr codes should appear on all Swiss transaction. But if the fiscal country of the user's company is not Switzerland, it must still be printed if its bank account is eligible to receive payments via QRcodes.

So the solution is to add a check if the fiscal_country is not Switzerland, then we check the account validity. A valid account is an IBAN account of this type CHXX 3000 0XXX XXXX with the number in the middle being between 30000 and 31999.

opw-4380520",mathcoutant,2025-01-20 16:56:18+00:00,[],2025-02-04 15:06:26+00:00,2025-01-21 14:46:12+00:00,https://github.com/odoo/odoo/pull/194421,"[('OE', 'the report is linked to a support ticket (opw-...)')]","[{'comment_id': 2602897483, 'issue_id': 2799900248, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/194421.png)](https://mergebot.odoo.com/odoo/odoo/pull/194421)', 'created_at': datetime.datetime(2025, 1, 20, 16, 56, 21, tzinfo=datetime.timezone.utc)}, {'comment_id': 2604209967, 'issue_id': 2799900248, 'author': 'jbw-odoo', 'body': 'Also when working with recordsets, this\r\n`if move.partner_bank_id and move.partner_bank_id.acc_number:`\r\nis not needed.\r\nmove.partner_bank_id.acc_number will be None if partner_bank is an empty recordset.\r\nSo you can directly write\r\n`if move.partner_bank_id.acc_number:`', 'created_at': datetime.datetime(2025, 1, 21, 9, 53, 47, tzinfo=datetime.timezone.utc)}, {'comment_id': 2604372544, 'issue_id': 2799900248, 'author': 'robodoo', 'body': ""@mathcoutant @jbw-odoo 'ci/style' failed on this reviewed PR."", 'created_at': datetime.datetime(2025, 1, 21, 10, 48, 4, tzinfo=datetime.timezone.utc)}, {'comment_id': 2604375818, 'issue_id': 2799900248, 'author': 'jbw-odoo', 'body': '> @mathcoutant @jbw-odoo \'ci/style\' failed on this reviewed PR.\r\n\r\nThe ""n"" is missing in l10n_ch', 'created_at': datetime.datetime(2025, 1, 21, 10, 49, 29, tzinfo=datetime.timezone.utc)}, {'comment_id': 2604382404, 'issue_id': 2799900248, 'author': 'jbw-odoo', 'body': 'robodoo r+', 'created_at': datetime.datetime(2025, 1, 21, 10, 52, 16, tzinfo=datetime.timezone.utc)}, {'comment_id': 2604384875, 'issue_id': 2799900248, 'author': 'robodoo', 'body': ""@mathcoutant @jbw-odoo 'ci/style' failed on this reviewed PR."", 'created_at': datetime.datetime(2025, 1, 21, 10, 53, 22, tzinfo=datetime.timezone.utc)}, {'comment_id': 2604391093, 'issue_id': 2799900248, 'author': 'jbw-odoo', 'body': '`walrus operator is not allowed before 16.4`\r\ndamn', 'created_at': datetime.datetime(2025, 1, 21, 10, 55, 48, tzinfo=datetime.timezone.utc)}, {'comment_id': 2604393137, 'issue_id': 2799900248, 'author': 'mathcoutant', 'body': 'Should I use my solution and change to yours from 17.0 to master?', 'created_at': datetime.datetime(2025, 1, 21, 10, 56, 41, tzinfo=datetime.timezone.utc)}, {'comment_id': 2604400097, 'issue_id': 2799900248, 'author': 'jbw-odoo', 'body': ""> Should I use my solution and change to yours from 17.0 to master?\r\n\r\nUse your solution and leave it in higher versions, it's not worth the hastle."", 'created_at': datetime.datetime(2025, 1, 21, 10, 59, 33, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-20 16:56:21 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/194421.png)](https://mergebot.odoo.com/odoo/odoo/pull/194421)

jbw-odoo on (2025-01-21 09:53:47 UTC): Also when working with recordsets, this
`if move.partner_bank_id and move.partner_bank_id.acc_number:`
is not needed.
move.partner_bank_id.acc_number will be None if partner_bank is an empty recordset.
So you can directly write
`if move.partner_bank_id.acc_number:`

robodoo on (2025-01-21 10:48:04 UTC): @mathcoutant @jbw-odoo 'ci/style' failed on this reviewed PR.

jbw-odoo on (2025-01-21 10:49:29 UTC): The ""n"" is missing in l10n_ch

jbw-odoo on (2025-01-21 10:52:16 UTC): robodoo r+

robodoo on (2025-01-21 10:53:22 UTC): @mathcoutant @jbw-odoo 'ci/style' failed on this reviewed PR.

jbw-odoo on (2025-01-21 10:55:48 UTC): `walrus operator is not allowed before 16.4`
damn

mathcoutant (Issue Creator) on (2025-01-21 10:56:41 UTC): Should I use my solution and change to yours from 17.0 to master?

jbw-odoo on (2025-01-21 10:59:33 UTC): Use your solution and leave it in higher versions, it's not worth the hastle.

"
2799899689,pull_request,closed,,[FIX] pos_sale: update quotation delivered qty,"When settling a quotation (unconfirmed sale order) from the POS, the
delivered quantity was not updated in the quotation.

Steps to reproduce:
-------------------
* Make a sale order but don't confirm it
* Go to the POS and settle the quotation
> Observation: The delivered quantity is not updated in the quotation

Why the fix:
------------
If the quotation was not confirmed no move lines were created, so the
`has_valued_moves` was False and no move lines were created for the PoS
order. And because the pos order has no move lines the quotation was not
updated with the delivered quantity.

opw-4479862",robinengels,2025-01-20 16:56:09+00:00,[],2025-01-31 19:07:35+00:00,2025-01-31 19:07:35+00:00,https://github.com/odoo/odoo/pull/194420,"[('OE', 'the report is linked to a support ticket (opw-...)')]","[{'comment_id': 2602897163, 'issue_id': 2799899689, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/194420.png)](https://mergebot.odoo.com/odoo/odoo/pull/194420)', 'created_at': datetime.datetime(2025, 1, 20, 16, 56, 12, tzinfo=datetime.timezone.utc)}, {'comment_id': 2627238308, 'issue_id': 2799899689, 'author': 'caburj', 'body': 'robodoo r+', 'created_at': datetime.datetime(2025, 1, 31, 12, 51, 17, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-20 16:56:12 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/194420.png)](https://mergebot.odoo.com/odoo/odoo/pull/194420)

caburj on (2025-01-31 12:51:17 UTC): robodoo r+

"
2799896790,pull_request,closed,,[FW][FIX] web_editor: extra line added after inserting at line-break,"**Before this PR:**

Steps to reproduce:

- In an empty paragraph write something, press shift + enter
- Write something in new line break
- Select whole text in second line
- Paste any text, notice that an extra <br> is added above pasted text.

In other words,
`<p>abc<br>[def]</p> + insert('x')` becomes `<p>abc<br><br>x[]</p>` instead of `<p>abc<br>x[]</p> `.

**Desired behaviour after PR:**

Now, pasting something at line-break doesn't add an extra an extra `<br>` .

task-4231290




---
I confirm I have signed the CLA and read the PR guidelines at www.odoo.com/submit-pr

Forward-Port-Of: odoo/odoo#185854",fw-bot,2025-01-20 16:55:17+00:00,[],2025-02-04 15:54:01+00:00,2025-01-21 15:37:54+00:00,https://github.com/odoo/odoo/pull/194419,"[('RD', 'research & development, internal work'), ('forwardport', 'This PR was created by @fw-bot')]","[{'comment_id': 2602895463, 'issue_id': 2799896790, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/194419.png)](https://mergebot.odoo.com/odoo/odoo/pull/194419)', 'created_at': datetime.datetime(2025, 1, 20, 16, 55, 18, tzinfo=datetime.timezone.utc)}, {'comment_id': 2602895494, 'issue_id': 2799896790, 'author': 'fw-bot', 'body': 'This PR targets saas-18.1 and is part of the forward-port chain. Further PRs will be created up to master.\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 20, 16, 55, 19, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-20 16:55:18 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/194419.png)](https://mergebot.odoo.com/odoo/odoo/pull/194419)

fw-bot (Issue Creator) on (2025-01-20 16:55:19 UTC): This PR targets saas-18.1 and is part of the forward-port chain. Further PRs will be created up to master.

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

"
2799868266,pull_request,closed,,[FW][IMP] core: disable downloading during tours,"It's not *entirely* clear which and when, but some tours apparently trigger downloads, which by default will make a mess of the user's Downloads folder when running tests locally.

This has mostly been observed in 18.0 / master with Studio exports but there are a few others as well (e.g. a few reports). Either way, seems like a good idea to just configure chrome to block them.

Forward-Port-Of: odoo/odoo#194393",fw-bot,2025-01-20 16:47:38+00:00,[],2025-02-04 16:27:42+00:00,2025-01-21 16:10:51+00:00,https://github.com/odoo/odoo/pull/194417,"[('RD', 'research & development, internal work'), ('forwardport', 'This PR was created by @fw-bot')]","[{'comment_id': 2602880581, 'issue_id': 2799868266, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/194417.png)](https://mergebot.odoo.com/odoo/odoo/pull/194417)', 'created_at': datetime.datetime(2025, 1, 20, 16, 47, 39, tzinfo=datetime.timezone.utc)}, {'comment_id': 2602880596, 'issue_id': 2799868266, 'author': 'fw-bot', 'body': 'This PR targets 17.0 and is part of the forward-port chain. Further PRs will be created up to master.\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 20, 16, 47, 40, tzinfo=datetime.timezone.utc)}, {'comment_id': 2602967037, 'issue_id': 2799868266, 'author': 'fw-bot', 'body': '@xmo-odoo ci/runbot failed on this forward-port PR', 'created_at': datetime.datetime(2025, 1, 20, 17, 36, 45, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-20 16:47:39 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/194417.png)](https://mergebot.odoo.com/odoo/odoo/pull/194417)

fw-bot (Issue Creator) on (2025-01-20 16:47:40 UTC): This PR targets 17.0 and is part of the forward-port chain. Further PRs will be created up to master.

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

fw-bot (Issue Creator) on (2025-01-20 17:36:45 UTC): @xmo-odoo ci/runbot failed on this forward-port PR

"
2799832939,pull_request,open,,[FIX] website: translation regex match any character of the content,"Steps to reproduce:
(This are for this specific case)

1. Get website_appointment_sale and a 2nd language for our website.
2. Make sure that for the appointment we select Allow Guests.
3. Now, we go to the website and go to the appointment, until we reach the ""Add more details about you"" page.
4. Here is when we have to try to modify the translation with editor.

Issue: 
We're receiving an error as
""Cannot read properties of null (reading '2')"" which arises from the `trans` not being appropiate due to the translation regex, which will cause the match to be null when calling it on this ""defective"" `trans`.

Solution: 
The current solution will make the regex to better match anything in the translation, by modifying `(.*)` to ([\s\S]*?) we make sure that we're matching any character, including new lines.

opw-4442038
",Ephoniz,2025-01-20 16:37:54+00:00,[],2025-01-20 17:00:16+00:00,,https://github.com/odoo/odoo/pull/194416,"[('OE', 'the report is linked to a support ticket (opw-...)')]","[{'comment_id': 2602861472, 'issue_id': 2799832939, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/194416.png)](https://mergebot.odoo.com/odoo/odoo/pull/194416)', 'created_at': datetime.datetime(2025, 1, 20, 16, 37, 57, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-20 16:37:57 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/194416.png)](https://mergebot.odoo.com/odoo/odoo/pull/194416)

"
2799821961,pull_request,closed,,[FW][FIX] hr_holidays: fix activity when time off officer is not set,"Steps:
- Install the hr_holiday module
- Configure Time Off Type with validation set to `Approved by Time Off Officer` or `Both`
- Create a Time Off request without setting a Time Off Officer.

---

Description of the issue/feature this PR addresses: 
When the validation type is set to `hr` or `both` and no Time Off Officer is configured, an activity is incorrectly generated upon creating a Time Off request.

---

Fix:
This PR resolves the issue by ensuring the responsible user is set to empty when validation is `hr` or `Both` and no Time Off Officer is configured.

task-4351688

Forward-Port-Of: odoo/odoo#194278
Forward-Port-Of: odoo/odoo#190193",fw-bot,2025-01-20 16:34:57+00:00,[],2025-02-04 10:01:33+00:00,2025-01-21 10:00:21+00:00,https://github.com/odoo/odoo/pull/194415,"[('RD', 'research & development, internal work'), ('forwardport', 'This PR was created by @fw-bot'), ('18.2', None)]","[{'comment_id': 2602855466, 'issue_id': 2799821961, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/194415.png)](https://mergebot.odoo.com/odoo/odoo/pull/194415)', 'created_at': datetime.datetime(2025, 1, 20, 16, 34, 59, tzinfo=datetime.timezone.utc)}, {'comment_id': 2602855529, 'issue_id': 2799821961, 'author': 'fw-bot', 'body': '@ravb-odoo @tivisse this PR targets master and is the last of the forward-port chain containing:\n* odoo/odoo#194400\n* odoo/odoo#194386\n\nTo merge the full chain, use\n> @robodoo r+\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 20, 16, 35, tzinfo=datetime.timezone.utc)}, {'comment_id': 2603176447, 'issue_id': 2799821961, 'author': 'tivisse', 'body': '@robodoo r+', 'created_at': datetime.datetime(2025, 1, 20, 20, 18, 23, tzinfo=datetime.timezone.utc)}, {'comment_id': 2603222512, 'issue_id': 2799821961, 'author': 'robodoo', 'body': '@ravb-odoo @tivisse linked pull request(s) odoo/enterprise#77445 not ready. Linked PRs are not staged until all of them are ready.', 'created_at': datetime.datetime(2025, 1, 20, 21, 0, 17, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-20 16:34:59 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/194415.png)](https://mergebot.odoo.com/odoo/odoo/pull/194415)

fw-bot (Issue Creator) on (2025-01-20 16:35:00 UTC): @ravb-odoo @tivisse this PR targets master and is the last of the forward-port chain containing:
* odoo/odoo#194400
* odoo/odoo#194386

To merge the full chain, use

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

tivisse on (2025-01-20 20:18:23 UTC): @robodoo r+

robodoo on (2025-01-20 21:00:17 UTC): @ravb-odoo @tivisse linked pull request(s) odoo/enterprise#77445 not ready. Linked PRs are not staged until all of them are ready.

"
2799815552,pull_request,closed,,[FIX] im_livechat: pass avatar token to cors route,"Follow up of https://github.com/odoo/odoo/pull/187799

The livechat override needs to be adapted as well to provide the token.

- Login with Mitchell Admin to a database with im_livechat installed
- Open support page as guest
- The operator picture is missing

opw-4489740",seb-odoo,2025-01-20 16:33:18+00:00,['seb-odoo'],2025-01-27 16:15:12+00:00,2025-01-22 09:43:04+00:00,https://github.com/odoo/odoo/pull/194414,"[('OE', 'the report is linked to a support ticket (opw-...)'), ('Discuss', 'channels, livechat, chatter'), ('18.0', '')]","[{'comment_id': 2602852275, 'issue_id': 2799815552, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/194414.png)](https://mergebot.odoo.com/odoo/odoo/pull/194414)', 'created_at': datetime.datetime(2025, 1, 20, 16, 33, 21, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-20 16:33:21 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/194414.png)](https://mergebot.odoo.com/odoo/odoo/pull/194414)

"
2799800612,pull_request,open,,[IMP] core: add grouping set support for pivot view,,ryv-odoo,2025-01-20 16:29:33+00:00,[],2025-01-20 17:00:20+00:00,,https://github.com/odoo/odoo/pull/194413,"[('RD', 'research & development, internal work')]","[{'comment_id': 2602844744, 'issue_id': 2799800612, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/194413.png)](https://mergebot.odoo.com/odoo/odoo/pull/194413)', 'created_at': datetime.datetime(2025, 1, 20, 16, 29, 36, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-20 16:29:36 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/194413.png)](https://mergebot.odoo.com/odoo/odoo/pull/194413)

"
2799781342,pull_request,closed,,[FW][IMP] account: unified the labelling of account.move.line,"In list view and reports, the accounting entries were displayed in different manners. Sometimes in a stupid way (name of the move repeated twice).

This commit aims to give a single and unified way to display them.

ticket-4440711




---
I confirm I have signed the CLA and read the PR guidelines at www.odoo.com/submit-pr

Forward-Port-Of: odoo/odoo#193607
Forward-Port-Of: odoo/odoo#192463",fw-bot,2025-01-20 16:24:29+00:00,[],2025-02-04 17:44:47+00:00,2025-01-21 17:40:27+00:00,https://github.com/odoo/odoo/pull/194412,"[('RD', 'research & development, internal work'), ('forwardport', 'This PR was created by @fw-bot'), ('18.2', None)]","[{'comment_id': 2602834027, 'issue_id': 2799781342, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/194412.png)](https://mergebot.odoo.com/odoo/odoo/pull/194412)', 'created_at': datetime.datetime(2025, 1, 20, 16, 24, 32, tzinfo=datetime.timezone.utc)}, {'comment_id': 2602834077, 'issue_id': 2799781342, 'author': 'fw-bot', 'body': '@qdp-odoo @oco-odoo this PR targets master and is the last of the forward-port chain.\n\nTo merge the full chain, use\n> @robodoo r+\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 20, 16, 24, 33, tzinfo=datetime.timezone.utc)}, {'comment_id': 2604291986, 'issue_id': 2799781342, 'author': 'qdp-odoo', 'body': '@robodoo r+', 'created_at': datetime.datetime(2025, 1, 21, 10, 19, 4, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-20 16:24:32 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/194412.png)](https://mergebot.odoo.com/odoo/odoo/pull/194412)

fw-bot (Issue Creator) on (2025-01-20 16:24:33 UTC): @qdp-odoo @oco-odoo this PR targets master and is the last of the forward-port chain.

To merge the full chain, use

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

qdp-odoo on (2025-01-21 10:19:04 UTC): @robodoo r+

"
2799779196,pull_request,closed,,[FW][FIX] point_of_sale: handle custom one2many fields,"Before this commit, if there was a custom one2many field with the same related field as an existing one, it would cause issues in PoS when capturing an order. For example, if there was a custom field in pos.order with a related field of order_id, adding products to the order would not show them in the order summary.

opw-4462991

---
I confirm I have signed the CLA and read the PR guidelines at www.odoo.com/submit-pr

Forward-Port-Of: odoo/odoo#193966
Forward-Port-Of: odoo/odoo#193041",fw-bot,2025-01-20 16:24:01+00:00,[],2025-02-06 16:48:17+00:00,2025-01-23 16:41:16+00:00,https://github.com/odoo/odoo/pull/194411,"[('OE', 'the report is linked to a support ticket (opw-...)'), ('forwardport', 'This PR was created by @fw-bot'), ('18.2', None)]","[{'comment_id': 2602833101, 'issue_id': 2799779196, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/194411.png)](https://mergebot.odoo.com/odoo/odoo/pull/194411)', 'created_at': datetime.datetime(2025, 1, 20, 16, 24, 4, tzinfo=datetime.timezone.utc)}, {'comment_id': 2602833121, 'issue_id': 2799779196, 'author': 'fw-bot', 'body': '@pedrambiria @davidmonnom this PR targets master and is the last of the forward-port chain.\n\nTo merge the full chain, use\n> @robodoo r+\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 20, 16, 24, 4, tzinfo=datetime.timezone.utc)}, {'comment_id': 2602912233, 'issue_id': 2799779196, 'author': 'fw-bot', 'body': '@pedrambiria @davidmonnom ci/runbot failed on this forward-port PR', 'created_at': datetime.datetime(2025, 1, 20, 17, 4, 10, tzinfo=datetime.timezone.utc)}, {'comment_id': 2603476285, 'issue_id': 2799779196, 'author': 'fw-bot', 'body': '@pedrambiria @davidmonnom this forward port of odoo/odoo#193041 is awaiting action (not merged or closed).', 'created_at': datetime.datetime(2025, 1, 21, 2, 1, 29, tzinfo=datetime.timezone.utc)}, {'comment_id': 2606119606, 'issue_id': 2799779196, 'author': 'fw-bot', 'body': '@pedrambiria @davidmonnom this forward port of odoo/odoo#193041 is awaiting action (not merged or closed).', 'created_at': datetime.datetime(2025, 1, 22, 2, 1, 44, tzinfo=datetime.timezone.utc)}, {'comment_id': 2608689451, 'issue_id': 2799779196, 'author': 'fw-bot', 'body': '@pedrambiria @davidmonnom this forward port of odoo/odoo#193041 is awaiting action (not merged or closed).', 'created_at': datetime.datetime(2025, 1, 23, 2, 1, 24, tzinfo=datetime.timezone.utc)}, {'comment_id': 2609464199, 'issue_id': 2799779196, 'author': 'fw-bot', 'body': '@pedrambiria @davidmonnom this PR was modified / updated and has become a normal PR. It must be merged directly.', 'created_at': datetime.datetime(2025, 1, 23, 10, 40, 18, tzinfo=datetime.timezone.utc)}, {'comment_id': 2609657773, 'issue_id': 2799779196, 'author': 'pedrambiria', 'body': '@robodoo r+', 'created_at': datetime.datetime(2025, 1, 23, 12, 14, 7, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-20 16:24:04 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/194411.png)](https://mergebot.odoo.com/odoo/odoo/pull/194411)

fw-bot (Issue Creator) on (2025-01-20 16:24:04 UTC): @pedrambiria @davidmonnom this PR targets master and is the last of the forward-port chain.

To merge the full chain, use

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

fw-bot (Issue Creator) on (2025-01-20 17:04:10 UTC): @pedrambiria @davidmonnom ci/runbot failed on this forward-port PR

fw-bot (Issue Creator) on (2025-01-21 02:01:29 UTC): @pedrambiria @davidmonnom this forward port of odoo/odoo#193041 is awaiting action (not merged or closed).

fw-bot (Issue Creator) on (2025-01-22 02:01:44 UTC): @pedrambiria @davidmonnom this forward port of odoo/odoo#193041 is awaiting action (not merged or closed).

fw-bot (Issue Creator) on (2025-01-23 02:01:24 UTC): @pedrambiria @davidmonnom this forward port of odoo/odoo#193041 is awaiting action (not merged or closed).

fw-bot (Issue Creator) on (2025-01-23 10:40:18 UTC): @pedrambiria @davidmonnom this PR was modified / updated and has become a normal PR. It must be merged directly.

pedrambiria on (2025-01-23 12:14:07 UTC): @robodoo r+

"
2799763168,pull_request,closed,,[FW][FIX] account_peppol: key was never sent right so remove its use,"`accounting_supplier_party` was never sent right from IAP, it was always 'None'.
So, we could never log it.
But the information was in fact always useless. 
This information is already in the UBL file.




---
I confirm I have signed the CLA and read the PR guidelines at www.odoo.com/submit-pr

Forward-Port-Of: odoo/odoo#193462
Forward-Port-Of: odoo/odoo#192740",fw-bot,2025-01-20 16:19:39+00:00,[],2025-02-05 23:11:20+00:00,2025-01-22 23:04:41+00:00,https://github.com/odoo/odoo/pull/194410,"[('RD', 'research & development, internal work'), ('forwardport', 'This PR was created by @fw-bot'), ('conflict', 'There was an error while creating this forward-port PR')]","[{'comment_id': 2602824403, 'issue_id': 2799763168, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/194410.png)](https://mergebot.odoo.com/odoo/odoo/pull/194410)', 'created_at': datetime.datetime(2025, 1, 20, 16, 19, 41, tzinfo=datetime.timezone.utc)}, {'comment_id': 2602824485, 'issue_id': 2799763168, 'author': 'fw-bot', 'body': '@gawa-odoo @clbr-odoo while this was properly forward-ported, at least one co-dependent PR (odoo/enterprise#77442) did not succeed. You will need to fix it before this can be merged.\n\nBoth this PR and the others will need to be approved via `@robodoo r+` as they are all considered “in conflict”.\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 20, 16, 19, 44, tzinfo=datetime.timezone.utc)}, {'comment_id': 2603476461, 'issue_id': 2799763168, 'author': 'fw-bot', 'body': '@gawa-odoo @clbr-odoo this forward port of odoo/odoo#192740 is awaiting action (not merged or closed).', 'created_at': datetime.datetime(2025, 1, 21, 2, 1, 38, tzinfo=datetime.timezone.utc)}, {'comment_id': 2606119734, 'issue_id': 2799763168, 'author': 'fw-bot', 'body': '@gawa-odoo @clbr-odoo this forward port of odoo/odoo#192740 is awaiting action (not merged or closed).', 'created_at': datetime.datetime(2025, 1, 22, 2, 1, 51, tzinfo=datetime.timezone.utc)}, {'comment_id': 2606825634, 'issue_id': 2799763168, 'author': 'gawa-odoo', 'body': '@robodoo r+', 'created_at': datetime.datetime(2025, 1, 22, 10, 15, 38, tzinfo=datetime.timezone.utc)}, {'comment_id': 2606905803, 'issue_id': 2799763168, 'author': 'robodoo', 'body': ""@gawa-odoo @clbr-odoo 'ci/runbot' failed on this reviewed PR."", 'created_at': datetime.datetime(2025, 1, 22, 10, 50, 10, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-20 16:19:41 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/194410.png)](https://mergebot.odoo.com/odoo/odoo/pull/194410)

fw-bot (Issue Creator) on (2025-01-20 16:19:44 UTC): @gawa-odoo @clbr-odoo while this was properly forward-ported, at least one co-dependent PR (odoo/enterprise#77442) did not succeed. You will need to fix it before this can be merged.

Both this PR and the others will need to be approved via `@robodoo r+` as they are all considered “in conflict”.

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

fw-bot (Issue Creator) on (2025-01-21 02:01:38 UTC): @gawa-odoo @clbr-odoo this forward port of odoo/odoo#192740 is awaiting action (not merged or closed).

fw-bot (Issue Creator) on (2025-01-22 02:01:51 UTC): @gawa-odoo @clbr-odoo this forward port of odoo/odoo#192740 is awaiting action (not merged or closed).

gawa-odoo on (2025-01-22 10:15:38 UTC): @robodoo r+

robodoo on (2025-01-22 10:50:10 UTC): @gawa-odoo @clbr-odoo 'ci/runbot' failed on this reviewed PR.

"
2799742493,pull_request,closed,,[PERF] pos_self_order: prevent loading product images in load,"Before this commit, product images were unnecessarily loaded along with the POS data. This was redundant since the images are loaded separately. Additionally, loading the images caused excessive memory usage, leading to memory errors in certain scenarios.

opw-4494712

---
I confirm I have signed the CLA and read the PR guidelines at www.odoo.com/submit-pr
",pedrambiria,2025-01-20 16:14:16+00:00,[],2025-02-04 12:31:42+00:00,2025-01-21 12:28:25+00:00,https://github.com/odoo/odoo/pull/194409,"[('OE', 'the report is linked to a support ticket (opw-...)')]","[{'comment_id': 2602813101, 'issue_id': 2799742493, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/194409.png)](https://mergebot.odoo.com/odoo/odoo/pull/194409)', 'created_at': datetime.datetime(2025, 1, 20, 16, 14, 19, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-20 16:14:19 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/194409.png)](https://mergebot.odoo.com/odoo/odoo/pull/194409)

"
2799679519,pull_request,open,,"[IMP] im_livechat, mail: notify visitor left the conversation","This commit introduces a banner, shown when the visitor status is no more `online`, alerting the operator that the visitor might have abandoned the conversation.

![image](https://github.com/user-attachments/assets/6e164a5f-97d6-4ea1-8d1d-7af06d5c3ce3)


task-4452913
",Atovange,2025-01-20 15:57:16+00:00,[],2025-02-06 15:56:11+00:00,,https://github.com/odoo/odoo/pull/194408,"[('RD', 'research & development, internal work')]","[{'comment_id': 2602775643, 'issue_id': 2799679519, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/194408.png)](https://mergebot.odoo.com/odoo/odoo/pull/194408)', 'created_at': datetime.datetime(2025, 1, 20, 15, 57, 22, tzinfo=datetime.timezone.utc)}, {'comment_id': 2618544714, 'issue_id': 2799679519, 'author': 'seb-odoo', 'body': 'We need to merge something today (or yesterday ideally) as it is one of the most important remaining talk for live chat.', 'created_at': datetime.datetime(2025, 1, 28, 10, 6, 17, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-20 15:57:22 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/194408.png)](https://mergebot.odoo.com/odoo/odoo/pull/194408)

seb-odoo on (2025-01-28 10:06:17 UTC): We need to merge something today (or yesterday ideally) as it is one of the most important remaining talk for live chat.

"
2799675478,pull_request,closed,,[FW][CLA] Update Quartile CLA,"@qrtl

-------------------------------

I confirm I have signed the CLA and read the PR guidelines at [www.odoo.com/submit-pr](http://www.odoo.com/submit-pr)

Forward-Port-Of: odoo/odoo#194087",fw-bot,2025-01-20 15:56:10+00:00,[],2025-02-04 04:09:54+00:00,2025-01-21 03:32:25+00:00,https://github.com/odoo/odoo/pull/194407,"[('RD', 'research & development, internal work'), ('forwardport', 'This PR was created by @fw-bot'), ('18.2', None)]","[{'comment_id': 2602773026, 'issue_id': 2799675478, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/194407.png)](https://mergebot.odoo.com/odoo/odoo/pull/194407)', 'created_at': datetime.datetime(2025, 1, 20, 15, 56, 12, tzinfo=datetime.timezone.utc)}, {'comment_id': 2602773054, 'issue_id': 2799675478, 'author': 'fw-bot', 'body': '@kanda999 @mart-e this PR targets master and is the last of the forward-port chain containing:\n* odoo/odoo#194390\n* odoo/odoo#194369\n* odoo/odoo#194168\n* odoo/odoo#194148\n* odoo/odoo#194121\n\nTo merge the full chain, use\n> @robodoo r+\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 20, 15, 56, 13, tzinfo=datetime.timezone.utc)}, {'comment_id': 2602854170, 'issue_id': 2799675478, 'author': 'mart-e', 'body': '@robodoo r+', 'created_at': datetime.datetime(2025, 1, 20, 16, 34, 20, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-20 15:56:12 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/194407.png)](https://mergebot.odoo.com/odoo/odoo/pull/194407)

fw-bot (Issue Creator) on (2025-01-20 15:56:13 UTC): @kanda999 @mart-e this PR targets master and is the last of the forward-port chain containing:
* odoo/odoo#194390
* odoo/odoo#194369
* odoo/odoo#194168
* odoo/odoo#194148
* odoo/odoo#194121

To merge the full chain, use

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

mart-e on (2025-01-20 16:34:20 UTC): @robodoo r+

"
2799665362,pull_request,closed,,[FW][FIX] point_of_sale: ios: download invoice on other tab,"Check commits for description.

OPW: 4348541

Forward-Port-Of: odoo/odoo#194203",fw-bot,2025-01-20 15:53:29+00:00,[],2025-02-05 16:20:23+00:00,2025-01-22 15:58:11+00:00,https://github.com/odoo/odoo/pull/194406,"[('OE', 'the report is linked to a support ticket (opw-...)'), ('forwardport', 'This PR was created by @fw-bot'), ('conflict', 'There was an error while creating this forward-port PR')]","[{'comment_id': 2602767002, 'issue_id': 2799665362, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/194406.png)](https://mergebot.odoo.com/odoo/odoo/pull/194406)', 'created_at': datetime.datetime(2025, 1, 20, 15, 53, 31, tzinfo=datetime.timezone.utc)}, {'comment_id': 2602767042, 'issue_id': 2799665362, 'author': 'fw-bot', 'body': '@caburj @davidmonnom cherrypicking of pull request odoo/odoo#194203 failed.\n\nstdout:\n```\nCONFLICT (modify/delete): addons/point_of_sale/static/src/js/Screens/PaymentScreen/PaymentScreen.js deleted in 2d44437d5476a8f1c2e6ac6604c58957cdcba4a4 and modified in ac0d62e8aee75b31809d828b37dff5af6b597517.  Version ac0d62e8aee75b31809d828b37dff5af6b597517 of addons/point_of_sale/static/src/js/Screens/PaymentScreen/PaymentScreen.js left in tree.\nCONFLICT (modify/delete): addons/point_of_sale/static/src/js/models.js deleted in 2d44437d5476a8f1c2e6ac6604c58957cdcba4a4 and modified in ac0d62e8aee75b31809d828b37dff5af6b597517.  Version ac0d62e8aee75b31809d828b37dff5af6b597517 of addons/point_of_sale/static/src/js/models.js left in tree.\n\n```\n\nEither perform the forward-port manually (and push to this branch, proceeding as usual) or close this PR (maybe?).\n\nIn the former case, you may want to edit this PR message as well.\n\n:warning: after resolving this conflict, you will need to merge it via @robodoo.\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 20, 15, 53, 32, tzinfo=datetime.timezone.utc)}, {'comment_id': 2607275751, 'issue_id': 2799665362, 'author': 'caburj', 'body': 'robodoo r+', 'created_at': datetime.datetime(2025, 1, 22, 13, 38, 43, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-20 15:53:31 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/194406.png)](https://mergebot.odoo.com/odoo/odoo/pull/194406)

fw-bot (Issue Creator) on (2025-01-20 15:53:32 UTC): @caburj @davidmonnom cherrypicking of pull request odoo/odoo#194203 failed.

stdout:
```
CONFLICT (modify/delete): addons/point_of_sale/static/src/js/Screens/PaymentScreen/PaymentScreen.js deleted in 2d44437d5476a8f1c2e6ac6604c58957cdcba4a4 and modified in ac0d62e8aee75b31809d828b37dff5af6b597517.  Version ac0d62e8aee75b31809d828b37dff5af6b597517 of addons/point_of_sale/static/src/js/Screens/PaymentScreen/PaymentScreen.js left in tree.
CONFLICT (modify/delete): addons/point_of_sale/static/src/js/models.js deleted in 2d44437d5476a8f1c2e6ac6604c58957cdcba4a4 and modified in ac0d62e8aee75b31809d828b37dff5af6b597517.  Version ac0d62e8aee75b31809d828b37dff5af6b597517 of addons/point_of_sale/static/src/js/models.js left in tree.

```

Either perform the forward-port manually (and push to this branch, proceeding as usual) or close this PR (maybe?).

In the former case, you may want to edit this PR message as well.

:warning: after resolving this conflict, you will need to merge it via @robodoo.

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

caburj on (2025-01-22 13:38:43 UTC): robodoo r+

"
2799637947,pull_request,closed,,[FIX] packaging: ensure that requirements are not overwritten,"When building the Docker image for iot box, the iot requirements are copied to the docker build directory. Unfortunately, the regular Odoo requirements are also copied at the same place with the same name and thus overwrite the iot requirements.

With this commit, we ensure that the names are different.",d-fence,2025-01-20 15:46:14+00:00,[],2025-01-21 06:31:34+00:00,2025-01-21 01:06:38+00:00,https://github.com/odoo/odoo/pull/194405,"[('RD', 'research & development, internal work'), ('18.2', None)]","[{'comment_id': 2602750380, 'issue_id': 2799637947, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/194405.png)](https://mergebot.odoo.com/odoo/odoo/pull/194405)', 'created_at': datetime.datetime(2025, 1, 20, 15, 46, 17, tzinfo=datetime.timezone.utc)}, {'comment_id': 2602752550, 'issue_id': 2799637947, 'author': 'd-fence', 'body': 'robodoo r+', 'created_at': datetime.datetime(2025, 1, 20, 15, 47, 11, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-20 15:46:17 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/194405.png)](https://mergebot.odoo.com/odoo/odoo/pull/194405)

d-fence (Issue Creator) on (2025-01-20 15:47:11 UTC): robodoo r+

"
2799610141,pull_request,closed,,[FIX] account_check_printing: print info on checks without entry,"**Steps to reproduce:**
- Install Accounting
- Configure a Check Layout in Accounting settings
- Go to Bank journal configuration
- Make sure that ""Checks"" payment mehtod doesn't have an Outstanding Payment account
- Create a bill
- Register a Check payment for the bill
- Print the check

**Issue:**
All the data about the bill are missing from the check.

**Cause:**
These data were retrieved from the journal entry linked to the check payment.
As there is no journal entry in this case, they cannot be computed.

**Solution:**
Compute these data from the amount of the check and the linked bills.

opw-4482589




---
I confirm I have signed the CLA and read the PR guidelines at www.odoo.com/submit-pr
",kitan191,2025-01-20 15:39:04+00:00,[],2025-02-06 18:53:05+00:00,2025-01-23 18:42:24+00:00,https://github.com/odoo/odoo/pull/194404,"[('OE', 'the report is linked to a support ticket (opw-...)')]","[{'comment_id': 2602733738, 'issue_id': 2799610141, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/194404.png)](https://mergebot.odoo.com/odoo/odoo/pull/194404)', 'created_at': datetime.datetime(2025, 1, 20, 15, 39, 7, tzinfo=datetime.timezone.utc)}, {'comment_id': 2609806535, 'issue_id': 2799610141, 'author': 'william-andre', 'body': '@kitan191 What do you think about the fixup?', 'created_at': datetime.datetime(2025, 1, 23, 13, 26, 36, tzinfo=datetime.timezone.utc)}, {'comment_id': 2609856267, 'issue_id': 2799610141, 'author': 'kitan191', 'body': ""> @kitan191 What do you think about the fixup?\r\n\r\nIt's cleaner. :+1: \r\n\r\nI've also tested it functionally and all looks good. :ok_hand:"", 'created_at': datetime.datetime(2025, 1, 23, 13, 48, 21, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-20 15:39:07 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/194404.png)](https://mergebot.odoo.com/odoo/odoo/pull/194404)

william-andre on (2025-01-23 13:26:36 UTC): @kitan191 What do you think about the fixup?

kitan191 (Issue Creator) on (2025-01-23 13:48:21 UTC): It's cleaner. :+1: 

I've also tested it functionally and all looks good. :ok_hand:

"
2799609406,pull_request,closed,,[FW][FIX] web_editor: extra line added after inserting at line-break,"**Before this PR:**

Steps to reproduce:

- In an empty paragraph write something, press shift + enter
- Write something in new line break
- Select whole text in second line
- Paste any text, notice that an extra <br> is added above pasted text.

In other words,
`<p>abc<br>[def]</p> + insert('x')` becomes `<p>abc<br><br>x[]</p>` instead of `<p>abc<br>x[]</p> `.

**Desired behaviour after PR:**

Now, pasting something at line-break doesn't add an extra an extra `<br>` .

task-4231290




---
I confirm I have signed the CLA and read the PR guidelines at www.odoo.com/submit-pr

Forward-Port-Of: odoo/odoo#185854",fw-bot,2025-01-20 15:38:51+00:00,[],2025-02-04 12:31:41+00:00,2025-01-21 12:28:24+00:00,https://github.com/odoo/odoo/pull/194403,"[('RD', 'research & development, internal work'), ('forwardport', 'This PR was created by @fw-bot')]","[{'comment_id': 2602733215, 'issue_id': 2799609406, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/194403.png)](https://mergebot.odoo.com/odoo/odoo/pull/194403)', 'created_at': datetime.datetime(2025, 1, 20, 15, 38, 53, tzinfo=datetime.timezone.utc)}, {'comment_id': 2602733238, 'issue_id': 2799609406, 'author': 'fw-bot', 'body': 'This PR targets 18.0 and is part of the forward-port chain. Further PRs will be created up to master.\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 20, 15, 38, 53, tzinfo=datetime.timezone.utc)}, {'comment_id': 2603838104, 'issue_id': 2799609406, 'author': 'dmo-odoo', 'body': '@adsa-odoo Does this PR require adaptation for html_editor?', 'created_at': datetime.datetime(2025, 1, 21, 7, 21, 25, tzinfo=datetime.timezone.utc)}, {'comment_id': 2603978772, 'issue_id': 2799609406, 'author': 'adsa-odoo', 'body': '> @adsa-odoo Does this PR require adaptation for html_editor?\r\n\r\nNo, in html_editor this works fine.', 'created_at': datetime.datetime(2025, 1, 21, 8, 38, 8, tzinfo=datetime.timezone.utc)}, {'comment_id': 2604337160, 'issue_id': 2799609406, 'author': 'dmo-odoo', 'body': '@adsa-odoo Alright, thanks!\r\n@robodoo r+', 'created_at': datetime.datetime(2025, 1, 21, 10, 34, 4, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-20 15:38:53 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/194403.png)](https://mergebot.odoo.com/odoo/odoo/pull/194403)

fw-bot (Issue Creator) on (2025-01-20 15:38:53 UTC): This PR targets 18.0 and is part of the forward-port chain. Further PRs will be created up to master.

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

dmo-odoo on (2025-01-21 07:21:25 UTC): @adsa-odoo Does this PR require adaptation for html_editor?

adsa-odoo on (2025-01-21 08:38:08 UTC): No, in html_editor this works fine.

dmo-odoo on (2025-01-21 10:34:04 UTC): @adsa-odoo Alright, thanks!
@robodoo r+

"
2799604014,pull_request,closed,,"[IMP] mail, im_livechat: store chat window state in browser (back-port)","We currently have very complex code to handle sync of chat window with the server. This allows from syncing them cross tab, cross device, and cross session (log in/log out).

It feels the only real use case is cross-tab, so we should simplify the code by storing it only locally on each browser.

Added benefit: chat windows are now sync in their correct order. Non-channel threads are also sync.

Technical change: /mail/data now includes thread/data and channel/info to batch calls. The API is adapted to be more batch friendly.

As open chat windows are no longer returned by the server, they need to be requested at init by the client (from local storage data) together with the rest of the server init data.

Back-port of task-3707836 as we need this on our prod as soon as possible for the big live chat plan.
task-4457183

https://github.com/odoo/enterprise/pull/77440",seb-odoo,2025-01-20 15:37:26+00:00,['seb-odoo'],2025-01-20 21:55:45+00:00,2025-01-20 20:18:28+00:00,https://github.com/odoo/odoo/pull/194402,"[('RD', 'research & development, internal work'), ('Discuss', 'channels, livechat, chatter')]","[{'comment_id': 2602729974, 'issue_id': 2799604014, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/194402.png)](https://mergebot.odoo.com/odoo/odoo/pull/194402)', 'created_at': datetime.datetime(2025, 1, 20, 15, 37, 29, tzinfo=datetime.timezone.utc)}, {'comment_id': 2602742960, 'issue_id': 2799604014, 'author': 'seb-odoo', 'body': '@robodoo help', 'created_at': datetime.datetime(2025, 1, 20, 15, 43, 7, tzinfo=datetime.timezone.utc)}, {'comment_id': 2602743079, 'issue_id': 2799604014, 'author': 'robodoo', 'body': ""Currently available commands for @seb-odoo:\n\n|command||\n|-|-|\n|`help`|displays this help|\n|`r(eview)+`|approves the PR, if it's a forwardport also approves all non-detached parents|\n|`r(eview)=<number>`|only approves the specified parents|\n|`fw=no`|does not forward-port this PR|\n|`fw=default`|forward-ports this PR normally|\n|`fw=skipci`|does not wait for a forward-port's statuses to succeed before creating the next one|\n|`up to <branch>`|only ports this PR forward to the specified branch (included)|\n|`merge`|integrate the PR with a simple merge commit, using the PR description as message|\n|`rebase-merge`|rebases the PR on top of the target branch the integrates with a merge commit, using the PR description as message|\n|`rebase-ff`|rebases the PR on top of the target branch, then fast-forwards|\n|`squash`|squashes the PR as a single commit on the target branch, using the PR description as message|\n|`delegate+`|grants approval rights to the PR author|\n|`delegate=<...>`|grants approval rights on this PR to the specified github users|\n|`default`|stages the PR normally|\n|`priority`|tries to stage this PR first, then adds `default` PRs if the staging has room|\n|`alone`|stages this PR only with other PRs of the same priority|\n|`cancel=staging`|automatically cancels the current staging when this PR becomes ready|\n|`override=<...>`|marks overridable statuses as successful|\n|`check`|fetches or refreshes PR metadata, resets mergebot state|\n\nNote: this help text is dynamic and will change with the state of the PR."", 'created_at': datetime.datetime(2025, 1, 20, 15, 43, 10, tzinfo=datetime.timezone.utc)}, {'comment_id': 2602743403, 'issue_id': 2799604014, 'author': 'seb-odoo', 'body': '@robodoo fw=no', 'created_at': datetime.datetime(2025, 1, 20, 15, 43, 18, tzinfo=datetime.timezone.utc)}, {'comment_id': 2602743503, 'issue_id': 2799604014, 'author': 'robodoo', 'body': 'Disabled forward-porting.', 'created_at': datetime.datetime(2025, 1, 20, 15, 43, 21, tzinfo=datetime.timezone.utc)}, {'comment_id': 2602959486, 'issue_id': 2799604014, 'author': 'seb-odoo', 'body': '@robodoo r+', 'created_at': datetime.datetime(2025, 1, 20, 17, 31, 53, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-20 15:37:29 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/194402.png)](https://mergebot.odoo.com/odoo/odoo/pull/194402)

seb-odoo (Issue Creator) on (2025-01-20 15:43:07 UTC): @robodoo help

robodoo on (2025-01-20 15:43:10 UTC): Currently available commands for @seb-odoo:

|command||
|-|-|
|`help`|displays this help|
|`r(eview)+`|approves the PR, if it's a forwardport also approves all non-detached parents|
|`r(eview)=<number>`|only approves the specified parents|
|`fw=no`|does not forward-port this PR|
|`fw=default`|forward-ports this PR normally|
|`fw=skipci`|does not wait for a forward-port's statuses to succeed before creating the next one|
|`up to <branch>`|only ports this PR forward to the specified branch (included)|
|`merge`|integrate the PR with a simple merge commit, using the PR description as message|
|`rebase-merge`|rebases the PR on top of the target branch the integrates with a merge commit, using the PR description as message|
|`rebase-ff`|rebases the PR on top of the target branch, then fast-forwards|
|`squash`|squashes the PR as a single commit on the target branch, using the PR description as message|
|`delegate+`|grants approval rights to the PR author|
|`delegate=<...>`|grants approval rights on this PR to the specified github users|
|`default`|stages the PR normally|
|`priority`|tries to stage this PR first, then adds `default` PRs if the staging has room|
|`alone`|stages this PR only with other PRs of the same priority|
|`cancel=staging`|automatically cancels the current staging when this PR becomes ready|
|`override=<...>`|marks overridable statuses as successful|
|`check`|fetches or refreshes PR metadata, resets mergebot state|

Note: this help text is dynamic and will change with the state of the PR.

seb-odoo (Issue Creator) on (2025-01-20 15:43:18 UTC): @robodoo fw=no

robodoo on (2025-01-20 15:43:21 UTC): Disabled forward-porting.

seb-odoo (Issue Creator) on (2025-01-20 17:31:53 UTC): @robodoo r+

"
2799574967,pull_request,open,,[FIX] mail : Show mails from automation rules in portal view,"### Steps to reproduce:
	1. Create a portal user.
	2. Create an automation rule to send an email as a message. Example: https://drive.google.com/file/d/1mIa4R7a2Z2fnkngOMD7zN2t9Z2XHhGY7/view
	3. Now, add the portal user as a follower on a task.
	4. Change the state of a task to execute an automation rule.
	5. Email will be received by a portal user but it will not be visible on the messaging history on the portal.

### Cause:
This is happening because when running an automation rule that will send an email we set the 'mail.message' state as System notification by default which leads that this mail will be sent normally to every follower of the record but will be only shown in the chat history for internal users not portal as we are just showing 'comment', 'incoming_email' and 'outgoing_email' messages.

### Fix:
Checking if the server action that is being run is sending an email we will set the state of the 'mail.message' as 'comment'

P.S. LNA confirmed that we need to show it to the portal user.

opw-4459754",yoba-odoo,2025-01-20 15:28:34+00:00,[],2025-01-21 08:49:05+00:00,,https://github.com/odoo/odoo/pull/194401,"[('OE', 'the report is linked to a support ticket (opw-...)')]","[{'comment_id': 2602709281, 'issue_id': 2799574967, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/194401.png)](https://mergebot.odoo.com/odoo/odoo/pull/194401)', 'created_at': datetime.datetime(2025, 1, 20, 15, 28, 36, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-20 15:28:36 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/194401.png)](https://mergebot.odoo.com/odoo/odoo/pull/194401)

"
2799563874,pull_request,closed,,[FW][FIX] hr_holidays: fix activity when time off officer is not set,"Steps:
- Install the hr_holiday module
- Configure Time Off Type with validation set to `Approved by Time Off Officer` or `Both`
- Create a Time Off request without setting a Time Off Officer.

---

Description of the issue/feature this PR addresses: 
When the validation type is set to `hr` or `both` and no Time Off Officer is configured, an activity is incorrectly generated upon creating a Time Off request.

---

Fix:
This PR resolves the issue by ensuring the responsible user is set to empty when validation is `hr` or `Both` and no Time Off Officer is configured.

task-4351688

Forward-Port-Of: odoo/odoo#194278
Forward-Port-Of: odoo/odoo#190193",fw-bot,2025-01-20 15:24:35+00:00,[],2025-02-04 12:41:59+00:00,2025-01-21 12:32:52+00:00,https://github.com/odoo/odoo/pull/194400,"[('RD', 'research & development, internal work'), ('forwardport', 'This PR was created by @fw-bot')]","[{'comment_id': 2602700407, 'issue_id': 2799563874, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/194400.png)](https://mergebot.odoo.com/odoo/odoo/pull/194400)', 'created_at': datetime.datetime(2025, 1, 20, 15, 24, 37, tzinfo=datetime.timezone.utc)}, {'comment_id': 2602700455, 'issue_id': 2799563874, 'author': 'fw-bot', 'body': 'This PR targets saas-18.1 and is part of the forward-port chain. Further PRs will be created up to master.\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 20, 15, 24, 38, tzinfo=datetime.timezone.utc)}, {'comment_id': 2603222541, 'issue_id': 2799563874, 'author': 'robodoo', 'body': '@ravb-odoo @tivisse linked pull request(s) odoo/enterprise#77439 not ready. Linked PRs are not staged until all of them are ready.', 'created_at': datetime.datetime(2025, 1, 20, 21, 0, 19, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-20 15:24:37 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/194400.png)](https://mergebot.odoo.com/odoo/odoo/pull/194400)

fw-bot (Issue Creator) on (2025-01-20 15:24:38 UTC): This PR targets saas-18.1 and is part of the forward-port chain. Further PRs will be created up to master.

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

robodoo on (2025-01-20 21:00:19 UTC): @ravb-odoo @tivisse linked pull request(s) odoo/enterprise#77439 not ready. Linked PRs are not staged until all of them are ready.

"
2799548346,pull_request,open,,"[IMP] im_livechat, mail: align live chat with discuss","In 17.0, live chat was adapted to rely on discuss, enabling features like video calls and file uploads through guests. However, significant differences remain, complicating development and maintenance. Key issues include:


- Live chat bypasses discuss's store initialization, relying on fragile workarounds.
- It enforces a single chat window, but server data can open additional windows, leading to inconsistencies.
- Opening the website app from the backend creates separate chat windows for each, highlighting disjointed behavior.
- Discuss's chat hub is hidden by live chat windows.
- Temporary state saved by live chat is incomplete and prone to errors.

This PR unifies live chat and discuss codebases, cleaning up the live chat implementation. Key changes:


- Removal of saved state in live chat, replaced by `/mail/data`.
- Unification of `/im_livechat/init` and `/mail/data`.
- Full integration with discuss's chat hub.
- Cleanup of live chat and chatbot services to better handle multiple threads.

These improvements make live chat fully compliant with discuss, simplifying future development and maintenance.

task-4453573

enterprise: https://github.com/odoo/enterprise/pull/78606",tsm-odoo,2025-01-20 15:18:54+00:00,[],2025-02-06 17:24:49+00:00,,https://github.com/odoo/odoo/pull/194399,"[('RD', 'research & development, internal work')]","[{'comment_id': 2602687531, 'issue_id': 2799548346, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/194399.png)](https://mergebot.odoo.com/odoo/odoo/pull/194399)', 'created_at': datetime.datetime(2025, 1, 20, 15, 18, 57, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-20 15:18:57 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/194399.png)](https://mergebot.odoo.com/odoo/odoo/pull/194399)

"
2799517937,pull_request,closed,,[FW][IMP] mail: canned response with :: instead of :,"Before this commit, delimiter to use canned response was "":"". This puts some conflicts with emoji substitution, which has been minimized a bit by not putting the focus on the suggestion list of emojis.

However this is still bothersome, so it's worth changing it slightly. This PR minimises the impact of change by replacing it to ""::"", which is relatively close to the former "":"".

Since the discovery of the feature was only through typing "":"", we added a new item in the ""+"" button of composer to insert a new canned response, which simply adds the ""::"" in the composer to help select the canned response. This composer action only shows the shortcut to trigger canned response: it let the user learns of this feature, and in case the delimiter changes like with this PR, the user can relatively easily re-learn the new trigger thanks to this composer action.

The ""Insert a Canned response"" composer action is visible when the user can at least find a canned response. Also the canned response suggestions are focused by default, now that they do not conflict with emoji substitution.

Task-4110505

https://github.com/odoo/enterprise/pull/77184

![Jan-14-2025 16-15-44](https://github.com/user-attachments/assets/a106962b-b38e-4a4f-b99c-d1ecd2a2202a)

Forward-Port-Of: odoo/odoo#192953",fw-bot,2025-01-20 15:08:12+00:00,[],2025-01-21 18:34:03+00:00,2025-01-21 17:40:35+00:00,https://github.com/odoo/odoo/pull/194398,"[('RD', 'research & development, internal work'), ('forwardport', 'This PR was created by @fw-bot'), ('conflict', 'There was an error while creating this forward-port PR'), ('18.2', None)]","[{'comment_id': 2602663792, 'issue_id': 2799517937, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/194398.png)](https://mergebot.odoo.com/odoo/odoo/pull/194398)', 'created_at': datetime.datetime(2025, 1, 20, 15, 8, 29, tzinfo=datetime.timezone.utc)}, {'comment_id': 2602663836, 'issue_id': 2799517937, 'author': 'fw-bot', 'body': '@alexkuhn cherrypicking of pull request odoo/odoo#192953 failed.\n\nstdout:\n```\nAuto-merging addons/mail/i18n/mail.pot\nAuto-merging addons/mail/static/src/core/common/composer.js\nAuto-merging addons/test_discuss_full/tests/test_performance.py\nAuto-merging addons/web/tests/test_perf_load_menu.py\nCONFLICT (content): Merge conflict in addons/web/tests/test_perf_load_menu.py\n\n```\n\nEither perform the forward-port manually (and push to this branch, proceeding as usual) or close this PR (maybe?).\n\nIn the former case, you may want to edit this PR message as well.\n\n:warning: after resolving this conflict, you will need to merge it via @robodoo.\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 20, 15, 8, 30, tzinfo=datetime.timezone.utc)}, {'comment_id': 2603275971, 'issue_id': 2799517937, 'author': 'alexkuhn', 'body': '@robodoo r+', 'created_at': datetime.datetime(2025, 1, 20, 21, 52, 56, tzinfo=datetime.timezone.utc)}, {'comment_id': 2603732210, 'issue_id': 2799517937, 'author': 'robodoo', 'body': '@alexkuhn linked pull request(s) odoo/enterprise#77437 not ready. Linked PRs are not staged until all of them are ready.', 'created_at': datetime.datetime(2025, 1, 21, 6, 0, 10, tzinfo=datetime.timezone.utc)}, {'comment_id': 2604194968, 'issue_id': 2799517937, 'author': 'alexkuhn', 'body': '@robodoo r+', 'created_at': datetime.datetime(2025, 1, 21, 9, 47, 31, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-20 15:08:29 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/194398.png)](https://mergebot.odoo.com/odoo/odoo/pull/194398)

fw-bot (Issue Creator) on (2025-01-20 15:08:30 UTC): @alexkuhn cherrypicking of pull request odoo/odoo#192953 failed.

stdout:
```
Auto-merging addons/mail/i18n/mail.pot
Auto-merging addons/mail/static/src/core/common/composer.js
Auto-merging addons/test_discuss_full/tests/test_performance.py
Auto-merging addons/web/tests/test_perf_load_menu.py
CONFLICT (content): Merge conflict in addons/web/tests/test_perf_load_menu.py

```

Either perform the forward-port manually (and push to this branch, proceeding as usual) or close this PR (maybe?).

In the former case, you may want to edit this PR message as well.

:warning: after resolving this conflict, you will need to merge it via @robodoo.

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

alexkuhn on (2025-01-20 21:52:56 UTC): @robodoo r+

robodoo on (2025-01-21 06:00:10 UTC): @alexkuhn linked pull request(s) odoo/enterprise#77437 not ready. Linked PRs are not staged until all of them are ready.

alexkuhn on (2025-01-21 09:47:31 UTC): @robodoo r+

"
2799516631,pull_request,closed,,[FW][FIX] point_of_sale: display correct stock quantity for product variants,"Currently, for products with variants, the quantities on hand displayed in the product configurator can be incorrect.

### Steps to reproduce

* Install `point_of_sale`.
* Start the furniture shop POS session.
* Click on the Conference Chair; the steel legs are selected by default, and the system displays quantities on hand as 30.
* Switch to aluminum legs; the quantity remains 30.
* Switch back to steel legs.

You should see that the quantity on hand is now 26. This is the actual, correct quantity for steel legs. The originally displayed value of 30 was already incorrect for those legs.

### Cause

The issue arises from how the product's quantities on hand are fetched and updated:

- The `useEffect` hook is used to fetch quantities on hand whenever the product changes.
- However, the function used to retrieve these quantities (`fetchStock`) is wrapped with `useTrackedAsync`, which internally utilizes `useAsyncLockedMethod`.
- The `useAsyncLockedMethod` hook ensures that two calls to `fetchStock` cannot run simultaneously; if `fetchStock` is called while another call is still in progress, the subsequent call is ignored.

This behavior causes the problem. In the product attribute component, the `useEffect` hook is triggered twice in rapid succession when switching attributes. Since the second `fetchStock` call happens before the first completes, it is discarded due to the locking mechanism. As a result, the product changes twice, but the stock fetching process is executed only once, causing a mismatch between the selected product variant and its displayed quantities on hand.

### Fix

The `useTrackedAsync` utility was updated to allow specifying the locking mechanism. Specifically, it now supports an option to keep the last call instead of the first. This change ensures that even when multiple `fetchStock` calls are triggered in quick succession, the most recent call is executed, maintaining synchronization between the product variant and the displayed stock quantities.

opw-4421070

Forward-Port-Of: odoo/odoo#194242
Forward-Port-Of: odoo/odoo#193980",fw-bot,2025-01-20 15:07:44+00:00,[],2025-02-04 08:32:58+00:00,2025-01-21 08:32:30+00:00,https://github.com/odoo/odoo/pull/194397,"[('OE', 'the report is linked to a support ticket (opw-...)'), ('forwardport', 'This PR was created by @fw-bot'), ('18.2', None)]","[{'comment_id': 2602663713, 'issue_id': 2799516631, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/194397.png)](https://mergebot.odoo.com/odoo/odoo/pull/194397)', 'created_at': datetime.datetime(2025, 1, 20, 15, 8, 28, tzinfo=datetime.timezone.utc)}, {'comment_id': 2602663745, 'issue_id': 2799516631, 'author': 'fw-bot', 'body': '@ushyme @caburj this PR targets master and is the last of the forward-port chain.\n\nTo merge the full chain, use\n> @robodoo r+\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 20, 15, 8, 28, tzinfo=datetime.timezone.utc)}, {'comment_id': 2603475625, 'issue_id': 2799516631, 'author': 'fw-bot', 'body': '@ushyme @caburj this forward port of odoo/odoo#193980 is awaiting action (not merged or closed).', 'created_at': datetime.datetime(2025, 1, 21, 2, 0, 53, tzinfo=datetime.timezone.utc)}, {'comment_id': 2603808940, 'issue_id': 2799516631, 'author': 'ushyme', 'body': '@robodoo r+', 'created_at': datetime.datetime(2025, 1, 21, 7, 1, 19, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-20 15:08:28 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/194397.png)](https://mergebot.odoo.com/odoo/odoo/pull/194397)

fw-bot (Issue Creator) on (2025-01-20 15:08:28 UTC): @ushyme @caburj this PR targets master and is the last of the forward-port chain.

To merge the full chain, use

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

fw-bot (Issue Creator) on (2025-01-21 02:00:53 UTC): @ushyme @caburj this forward port of odoo/odoo#193980 is awaiting action (not merged or closed).

ushyme on (2025-01-21 07:01:19 UTC): @robodoo r+

"
2799516272,pull_request,closed,,[FIX] stock: unarchive parent location on location toggle active,"### Issue:

While archiving a parent location automatically archive all its children locations, unarchiving a children location do not currently unarchive its parent locations. This leads to unexpected error when the parent is used as a default value for instance in picking edition from the barcode app.

### Steps to reproduce:
- In the settings enable Warehouse > Storage Locations
- Inventory > Configuration > Warehouse Management > Locations
- Create new Location whose parent location is ""WH/Stock/Shelf 1""
- Archive ""WH/Stock/Shelf 1""
> This should automatically archive your new location
- Unarchive your child location
- Go to the barcode app
- Scan your child location
- Scan any product
####  > UncaughtPromiseError location with id=`id of parent` not found.

### Cause of the issue:

The archived location is used a default location dest when new barcode line is created:
https://github.com/odoo/enterprise/blob/0f543460039dc06ee66ccad0b075a89086afbd31/stock_barcode/static/src/models/barcode_picking_model.js#L889-L894 https://github.com/odoo/enterprise/blob/0f543460039dc06ee66ccad0b075a89086afbd31/stock_barcode/static/src/models/barcode_picking_model.js#L844-L846
However, since the location is archived it is nowhere to be found in the cache and an error is raised.

### Fix:

Even though we already have a mechanism that archives all children locations when one archives the parent location, we should also implement the complementary mechanism of unarchiving the parent locations when a child location is unarchived to avoid any setup inconsistency.

opw-4464704 and opw-4423110
---
I confirm I have signed the CLA and read the PR guidelines at www.odoo.com/submit-pr
",lase-odoo,2025-01-20 15:07:35+00:00,[],2025-01-31 09:26:24+00:00,2025-01-31 09:26:14+00:00,https://github.com/odoo/odoo/pull/194396,"[('OE', 'the report is linked to a support ticket (opw-...)')]","[{'comment_id': 2602663648, 'issue_id': 2799516272, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/194396.png)](https://mergebot.odoo.com/odoo/odoo/pull/194396)', 'created_at': datetime.datetime(2025, 1, 20, 15, 8, 26, tzinfo=datetime.timezone.utc)}, {'comment_id': 2626740973, 'issue_id': 2799516272, 'author': 'lase-odoo', 'body': 'Rejected functionally. We will rather solve the issue of the customer by also loading some of the archived records. The current issue of the customer is due to the fact that archived records will not be loaded in the lazy barcode cache if archived while they are expected to be used by the barcode app.', 'created_at': datetime.datetime(2025, 1, 31, 9, 26, 14, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-20 15:08:26 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/194396.png)](https://mergebot.odoo.com/odoo/odoo/pull/194396)

lase-odoo (Issue Creator) on (2025-01-31 09:26:14 UTC): Rejected functionally. We will rather solve the issue of the customer by also loading some of the archived records. The current issue of the customer is due to the fact that archived records will not be loaded in the lazy barcode cache if archived while they are expected to be used by the barcode app.

"
2799511034,pull_request,closed,,[FW][FIX] account: fallback on the currency_rate when calculating the rate,"### Steps to reproduce:
- In Accounting create a new tax like this: -Tax computation: percentage of price tax included -Amount: 100% -Included in Price: Ticked
- Create a new Customer Invoice in another currency
- Use the 100% tax
- Go in the tab ""Journal Entries""
- The amounts were not converted

### Cause:
The rate is calculated like this : `rate = line.amount_currency / line.balance if line.balance else 1` But with this specific tax `amount_currency` and `balance` are 0 so the rate defaults to 1 thus not converting.

### Solution:
Fallback on the rate of the line.

opw-4443522

Forward-Port-Of: odoo/odoo#193593",fw-bot,2025-01-20 15:05:49+00:00,[],2025-02-04 13:06:08+00:00,2025-01-21 12:56:07+00:00,https://github.com/odoo/odoo/pull/194395,"[('OE', 'the report is linked to a support ticket (opw-...)'), ('forwardport', 'This PR was created by @fw-bot')]","[{'comment_id': 2602657234, 'issue_id': 2799511034, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/194395.png)](https://mergebot.odoo.com/odoo/odoo/pull/194395)', 'created_at': datetime.datetime(2025, 1, 20, 15, 5, 51, tzinfo=datetime.timezone.utc)}, {'comment_id': 2602657269, 'issue_id': 2799511034, 'author': 'fw-bot', 'body': '@mathcoutant this PR targets saas-17.4 and is the last of the forward-port chain containing:\n* odoo/odoo#194383\n* odoo/odoo#194362\n\nTo merge the full chain, use\n> @robodoo r+\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 20, 15, 5, 52, tzinfo=datetime.timezone.utc)}, {'comment_id': 2602732539, 'issue_id': 2799511034, 'author': 'fw-bot', 'body': '@mathcoutant ci/runbot failed on this forward-port PR', 'created_at': datetime.datetime(2025, 1, 20, 15, 38, 36, tzinfo=datetime.timezone.utc)}, {'comment_id': 2603991726, 'issue_id': 2799511034, 'author': 'fw-bot', 'body': '@mathcoutant this PR was modified / updated and has become a normal PR. It must be merged directly.', 'created_at': datetime.datetime(2025, 1, 21, 8, 43, 35, tzinfo=datetime.timezone.utc)}, {'comment_id': 2603993125, 'issue_id': 2799511034, 'author': 'mathcoutant', 'body': '@robodoo up to saas-17.4', 'created_at': datetime.datetime(2025, 1, 21, 8, 44, 16, tzinfo=datetime.timezone.utc)}, {'comment_id': 2603993236, 'issue_id': 2799511034, 'author': 'robodoo', 'body': ""Forward-porting to 'saas-17.4'."", 'created_at': datetime.datetime(2025, 1, 21, 8, 44, 19, tzinfo=datetime.timezone.utc)}, {'comment_id': 2604380907, 'issue_id': 2799511034, 'author': 'mathcoutant', 'body': '@robodoo r+', 'created_at': datetime.datetime(2025, 1, 21, 10, 51, 36, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-20 15:05:51 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/194395.png)](https://mergebot.odoo.com/odoo/odoo/pull/194395)

fw-bot (Issue Creator) on (2025-01-20 15:05:52 UTC): @mathcoutant this PR targets saas-17.4 and is the last of the forward-port chain containing:
* odoo/odoo#194383
* odoo/odoo#194362

To merge the full chain, use

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

fw-bot (Issue Creator) on (2025-01-20 15:38:36 UTC): @mathcoutant ci/runbot failed on this forward-port PR

fw-bot (Issue Creator) on (2025-01-21 08:43:35 UTC): @mathcoutant this PR was modified / updated and has become a normal PR. It must be merged directly.

mathcoutant on (2025-01-21 08:44:16 UTC): @robodoo up to saas-17.4

robodoo on (2025-01-21 08:44:19 UTC): Forward-porting to 'saas-17.4'.

mathcoutant on (2025-01-21 10:51:36 UTC): @robodoo r+

"
2799510107,pull_request,closed,,[REF] web: notebook: remove anchors props,"This commit removes a feature that doesn't make a lot of sense and that partially works. In form views, we tried to make clicks on anchors that target an element inside a notebook page to automatically open that page. However, as explained in [1], it never worked for anchors outside the notebook (thus targetting something inside it), which is probably the only relevant usecase. What worked though, was the case where the anchor is also in a notebook page.

As this feature was only partially working, and the working part wasn't really useful, we decided to remove it completely, which simplifies a bit the code.

[1] https://github.com/odoo/odoo/pull/194223

Description of the issue/feature this PR addresses:

Current behavior before PR:

Desired behavior after PR is merged:




---
I confirm I have signed the CLA and read the PR guidelines at www.odoo.com/submit-pr
",aab-odoo,2025-01-20 15:05:32+00:00,[],2025-02-04 10:01:33+00:00,2025-01-21 10:00:17+00:00,https://github.com/odoo/odoo/pull/194394,"[('RD', 'research & development, internal work'), ('18.2', None)]","[{'comment_id': 2602656658, 'issue_id': 2799510107, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/194394.png)](https://mergebot.odoo.com/odoo/odoo/pull/194394)', 'created_at': datetime.datetime(2025, 1, 20, 15, 5, 35, tzinfo=datetime.timezone.utc)}, {'comment_id': 2603954639, 'issue_id': 2799510107, 'author': 'kebeclibre', 'body': 'robodoo r+', 'created_at': datetime.datetime(2025, 1, 21, 8, 28, 25, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-20 15:05:35 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/194394.png)](https://mergebot.odoo.com/odoo/odoo/pull/194394)

kebeclibre on (2025-01-21 08:28:25 UTC): robodoo r+

"
2799459824,pull_request,closed,,[IMP] core: disable downloading during tours,"It's not *entirely* clear which and when, but some tours apparently trigger downloads, which by default will make a mess of the user's Downloads folder when running tests locally.

This has mostly been observed in 18.0 / master with Studio exports but there are a few others as well (e.g. a few reports). Either way, seems like a good idea to just configure chrome to block them.
",xmo-odoo,2025-01-20 14:47:19+00:00,[],2025-02-03 17:25:36+00:00,2025-01-20 16:47:23+00:00,https://github.com/odoo/odoo/pull/194393,"[('RD', 'research & development, internal work')]","[{'comment_id': 2602613369, 'issue_id': 2799459824, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/194393.png)](https://mergebot.odoo.com/odoo/odoo/pull/194393)', 'created_at': datetime.datetime(2025, 1, 20, 14, 47, 22, tzinfo=datetime.timezone.utc)}, {'comment_id': 2602613706, 'issue_id': 2799459824, 'author': 'xmo-odoo', 'body': '@robodoo r+', 'created_at': datetime.datetime(2025, 1, 20, 14, 47, 30, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-20 14:47:22 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/194393.png)](https://mergebot.odoo.com/odoo/odoo/pull/194393)

xmo-odoo (Issue Creator) on (2025-01-20 14:47:30 UTC): @robodoo r+

"
2799453619,pull_request,closed,,[FW][FIX] account_peppol: key was never sent right so remove its use,"`accounting_supplier_party` was never sent right from IAP, it was always 'None'.
So, we could never log it.
But the information was in fact always useless. 
This information is already in the UBL file.




---
I confirm I have signed the CLA and read the PR guidelines at www.odoo.com/submit-pr

Forward-Port-Of: odoo/odoo#193462
Forward-Port-Of: odoo/odoo#192740",fw-bot,2025-01-20 14:44:39+00:00,[],2025-02-04 10:57:02+00:00,2025-01-21 10:54:35+00:00,https://github.com/odoo/odoo/pull/194392,"[('RD', 'research & development, internal work'), ('forwardport', 'This PR was created by @fw-bot')]","[{'comment_id': 2602607128, 'issue_id': 2799453619, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/194392.png)](https://mergebot.odoo.com/odoo/odoo/pull/194392)', 'created_at': datetime.datetime(2025, 1, 20, 14, 44, 41, tzinfo=datetime.timezone.utc)}, {'comment_id': 2602607252, 'issue_id': 2799453619, 'author': 'fw-bot', 'body': 'This PR targets 18.0 and is part of the forward-port chain. Further PRs will be created up to master.\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 20, 14, 44, 44, tzinfo=datetime.timezone.utc)}, {'comment_id': 2602824427, 'issue_id': 2799453619, 'author': 'fw-bot', 'body': '@gawa-odoo @clbr-odoo the next pull request (odoo/odoo#194410) is in conflict. You can merge the chain up to here by saying\n> @robodoo r+\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 20, 16, 19, 42, tzinfo=datetime.timezone.utc)}, {'comment_id': 2603476492, 'issue_id': 2799453619, 'author': 'fw-bot', 'body': '@gawa-odoo @clbr-odoo this forward port of odoo/odoo#192740 is awaiting action (not merged or closed).', 'created_at': datetime.datetime(2025, 1, 21, 2, 1, 40, tzinfo=datetime.timezone.utc)}, {'comment_id': 2604140934, 'issue_id': 2799453619, 'author': 'gawa-odoo', 'body': '@robodoo r+', 'created_at': datetime.datetime(2025, 1, 21, 9, 24, 40, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-20 14:44:41 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/194392.png)](https://mergebot.odoo.com/odoo/odoo/pull/194392)

fw-bot (Issue Creator) on (2025-01-20 14:44:44 UTC): This PR targets 18.0 and is part of the forward-port chain. Further PRs will be created up to master.

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

fw-bot (Issue Creator) on (2025-01-20 16:19:42 UTC): @gawa-odoo @clbr-odoo the next pull request (odoo/odoo#194410) is in conflict. You can merge the chain up to here by saying

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

fw-bot (Issue Creator) on (2025-01-21 02:01:40 UTC): @gawa-odoo @clbr-odoo this forward port of odoo/odoo#192740 is awaiting action (not merged or closed).

gawa-odoo on (2025-01-21 09:24:40 UTC): @robodoo r+

"
2799437024,pull_request,open,,"[IMP] mail, *: avoid using store.insert result","\* = account, crm_livechat, im_livechat, mail_bot, project, test_discuss_full, test_mail, test_mail_full, website_blog, website_livechat, website_project, website_slides

Using store insert result is unreliable because it might contain more data than expected. Expected data should be explicitly returned rather than guessed. Several times in the past hard to track bugs were related to this issue.

For exemple, when adding a ""main"" channel to store, it might add its parent channel or its sub-channels at the same time, leading to several channels being returned. When knowing the ""main"" channel is important, guessing which of the 3 returned channels is the correct one can lead to issues if other unexpected channels are present or if the order changed (depending on how the guess was made).

A new JS model is created for this purpose, holding request specific data. On top of fixing the potential bugs, this allows multiple requests to be batched, returning a unified store data, while each request keeps its respective data available.",seb-odoo,2025-01-20 14:37:31+00:00,['seb-odoo'],2025-01-20 15:00:14+00:00,,https://github.com/odoo/odoo/pull/194391,"[('RD', 'research & development, internal work'), ('Discuss', 'channels, livechat, chatter')]","[{'comment_id': 2602590343, 'issue_id': 2799437024, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/194391.png)](https://mergebot.odoo.com/odoo/odoo/pull/194391)', 'created_at': datetime.datetime(2025, 1, 20, 14, 37, 35, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-20 14:37:35 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/194391.png)](https://mergebot.odoo.com/odoo/odoo/pull/194391)

"
2799436507,pull_request,closed,,[FW][CLA] Update Quartile CLA,"@qrtl

-------------------------------

I confirm I have signed the CLA and read the PR guidelines at [www.odoo.com/submit-pr](http://www.odoo.com/submit-pr)

Forward-Port-Of: odoo/odoo#194087",fw-bot,2025-01-20 14:37:17+00:00,[],2025-02-03 19:24:21+00:00,2025-01-20 19:11:45+00:00,https://github.com/odoo/odoo/pull/194390,"[('RD', 'research & development, internal work'), ('forwardport', 'This PR was created by @fw-bot')]","[{'comment_id': 2602589745, 'issue_id': 2799436507, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/194390.png)](https://mergebot.odoo.com/odoo/odoo/pull/194390)', 'created_at': datetime.datetime(2025, 1, 20, 14, 37, 19, tzinfo=datetime.timezone.utc)}, {'comment_id': 2602589773, 'issue_id': 2799436507, 'author': 'fw-bot', 'body': 'This PR targets saas-18.1 and is part of the forward-port chain. Further PRs will be created up to master.\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 20, 14, 37, 19, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-20 14:37:19 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/194390.png)](https://mergebot.odoo.com/odoo/odoo/pull/194390)

fw-bot (Issue Creator) on (2025-01-20 14:37:19 UTC): This PR targets saas-18.1 and is part of the forward-port chain. Further PRs will be created up to master.

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

"
2799429236,pull_request,open,,"[FIX] account, *: wrap quantity uom in reports","*: l10n_gcc_invoice,l10n_it_stock_ddt,sale,stock,web

[1]: https://github.com/odoo/odoo/commit/344bdb1ed4cecdaef007200c011f87e58e36c87d
Issue: [Commit](https://github.com/odoo/odoo/commit/344bdb1ed4cecdaef007200c011f87e58e36c87d) introduced a `text-nowrap` on the quantity column, this unnecessarily crops the other columns if we use a long UoM.

This commit adds a max-width to the UoM column and applies the text-nowrap to the quantity only, letting the long UoM wrap if too long.

task-4478718




---
I confirm I have signed the CLA and read the PR guidelines at www.odoo.com/submit-pr
",mano-odoo,2025-01-20 14:34:10+00:00,[],2025-01-28 10:11:51+00:00,,https://github.com/odoo/odoo/pull/194389,"[('RD', 'research & development, internal work')]","[{'comment_id': 2602582306, 'issue_id': 2799429236, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/194389.png)](https://mergebot.odoo.com/odoo/odoo/pull/194389)', 'created_at': datetime.datetime(2025, 1, 20, 14, 34, 14, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-20 14:34:14 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/194389.png)](https://mergebot.odoo.com/odoo/odoo/pull/194389)

"
2799410103,pull_request,closed,,[FW][FIX] web_editor: extra line added after inserting at line-break,"**Before this PR:**

Steps to reproduce:

- In an empty paragraph write something, press shift + enter
- Write something in new line break
- Select whole text in second line
- Paste any text, notice that an extra <br> is added above pasted text.

In other words,
`<p>abc<br>[def]</p> + insert('x')` becomes `<p>abc<br><br>x[]</p>` instead of `<p>abc<br>x[]</p> `.

**Desired behaviour after PR:**

Now, pasting something at line-break doesn't add an extra an extra `<br>` .

task-4231290




---
I confirm I have signed the CLA and read the PR guidelines at www.odoo.com/submit-pr

Forward-Port-Of: odoo/odoo#185854",fw-bot,2025-01-20 14:26:06+00:00,[],2025-02-04 10:23:41+00:00,2025-01-21 10:18:23+00:00,https://github.com/odoo/odoo/pull/194388,"[('RD', 'research & development, internal work'), ('forwardport', 'This PR was created by @fw-bot')]","[{'comment_id': 2602563182, 'issue_id': 2799410103, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/194388.png)](https://mergebot.odoo.com/odoo/odoo/pull/194388)', 'created_at': datetime.datetime(2025, 1, 20, 14, 26, 7, tzinfo=datetime.timezone.utc)}, {'comment_id': 2602563205, 'issue_id': 2799410103, 'author': 'fw-bot', 'body': 'This PR targets saas-17.4 and is part of the forward-port chain. Further PRs will be created up to master.\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 20, 14, 26, 8, tzinfo=datetime.timezone.utc)}, {'comment_id': 2603837261, 'issue_id': 2799410103, 'author': 'dmo-odoo', 'body': '@robodoo reabse-ff r+', 'created_at': datetime.datetime(2025, 1, 21, 7, 20, 52, tzinfo=datetime.timezone.utc)}, {'comment_id': 2603837311, 'issue_id': 2799410103, 'author': 'robodoo', 'body': ""@dmo-odoo unknown command 'reabse-ff'.\n\nFor your own safety I've ignored *everything in your entire comment*.\n\nCurrently available commands:\n\n|command||\n|-|-|\n|`help`|displays this help|\n|`r(eview)+`|approves the PR, if it's a forwardport also approves all non-detached parents|\n|`r(eview)=<number>`|only approves the specified parents|\n|`up to <branch>`|only ports this PR forward to the specified branch (included)|\n|`close`|closes this forward-port|\n|`merge`|integrate the PR with a simple merge commit, using the PR description as message|\n|`rebase-merge`|rebases the PR on top of the target branch the integrates with a merge commit, using the PR description as message|\n|`rebase-ff`|rebases the PR on top of the target branch, then fast-forwards|\n|`squash`|squashes the PR as a single commit on the target branch, using the PR description as message|\n|`delegate+`|grants approval rights to the PR author|\n|`delegate=<...>`|grants approval rights on this PR to the specified github users|\n|`default`|stages the PR normally|\n|`priority`|tries to stage this PR first, then adds `default` PRs if the staging has room|\n|`alone`|stages this PR only with other PRs of the same priority|\n|`cancel=staging`|automatically cancels the current staging when this PR becomes ready|\n|`override=<...>`|marks overridable statuses as successful|\n|`check`|fetches or refreshes PR metadata, resets mergebot state|\n\nNote: this help text is dynamic and will change with the state of the PR."", 'created_at': datetime.datetime(2025, 1, 21, 7, 20, 54, tzinfo=datetime.timezone.utc)}, {'comment_id': 2603838491, 'issue_id': 2799410103, 'author': 'dmo-odoo', 'body': '@robodoo rebase-ff r+', 'created_at': datetime.datetime(2025, 1, 21, 7, 21, 41, tzinfo=datetime.timezone.utc)}, {'comment_id': 2603838552, 'issue_id': 2799410103, 'author': 'robodoo', 'body': 'Merge method set to rebase and fast-forward.', 'created_at': datetime.datetime(2025, 1, 21, 7, 21, 44, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-20 14:26:07 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/194388.png)](https://mergebot.odoo.com/odoo/odoo/pull/194388)

fw-bot (Issue Creator) on (2025-01-20 14:26:08 UTC): This PR targets saas-17.4 and is part of the forward-port chain. Further PRs will be created up to master.

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

dmo-odoo on (2025-01-21 07:20:52 UTC): @robodoo reabse-ff r+

robodoo on (2025-01-21 07:20:54 UTC): @dmo-odoo unknown command 'reabse-ff'.

For your own safety I've ignored *everything in your entire comment*.

Currently available commands:

|command||
|-|-|
|`help`|displays this help|
|`r(eview)+`|approves the PR, if it's a forwardport also approves all non-detached parents|
|`r(eview)=<number>`|only approves the specified parents|
|`up to <branch>`|only ports this PR forward to the specified branch (included)|
|`close`|closes this forward-port|
|`merge`|integrate the PR with a simple merge commit, using the PR description as message|
|`rebase-merge`|rebases the PR on top of the target branch the integrates with a merge commit, using the PR description as message|
|`rebase-ff`|rebases the PR on top of the target branch, then fast-forwards|
|`squash`|squashes the PR as a single commit on the target branch, using the PR description as message|
|`delegate+`|grants approval rights to the PR author|
|`delegate=<...>`|grants approval rights on this PR to the specified github users|
|`default`|stages the PR normally|
|`priority`|tries to stage this PR first, then adds `default` PRs if the staging has room|
|`alone`|stages this PR only with other PRs of the same priority|
|`cancel=staging`|automatically cancels the current staging when this PR becomes ready|
|`override=<...>`|marks overridable statuses as successful|
|`check`|fetches or refreshes PR metadata, resets mergebot state|

Note: this help text is dynamic and will change with the state of the PR.

dmo-odoo on (2025-01-21 07:21:41 UTC): @robodoo rebase-ff r+

robodoo on (2025-01-21 07:21:44 UTC): Merge method set to rebase and fast-forward.

"
2799393306,pull_request,closed,,[I18N] *: re-export pot files,"Re-exported because:
- To take into account PRs that were merged after the freeze
- A couple pot files were missing/empty (i.e. empty = deleted)
- Just in case there was anything out of date

Description of the issue/feature this PR addresses:

Current behavior before PR:

Desired behavior after PR is merged:




---
I confirm I have signed the CLA and read the PR guidelines at www.odoo.com/submit-pr
",ticodoo,2025-01-20 14:19:17+00:00,[],2025-02-04 17:05:18+00:00,2025-01-21 17:04:20+00:00,https://github.com/odoo/odoo/pull/194387,"[('RD', 'research & development, internal work')]","[{'comment_id': 2602546116, 'issue_id': 2799393306, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/194387.png)](https://mergebot.odoo.com/odoo/odoo/pull/194387)', 'created_at': datetime.datetime(2025, 1, 20, 14, 19, 20, tzinfo=datetime.timezone.utc)}, {'comment_id': 2604745131, 'issue_id': 2799393306, 'author': 'ticodoo', 'body': '@robodoo r+', 'created_at': datetime.datetime(2025, 1, 21, 13, 30, 45, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-20 14:19:20 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/194387.png)](https://mergebot.odoo.com/odoo/odoo/pull/194387)

ticodoo (Issue Creator) on (2025-01-21 13:30:45 UTC): @robodoo r+

"
2799351223,pull_request,closed,,[FW][FIX] hr_holidays: fix activity when time off officer is not set,"Steps:
- Install the hr_holiday module
- Configure Time Off Type with validation set to `Approved by Time Off Officer` or `Both`
- Create a Time Off request without setting a Time Off Officer.

---

Description of the issue/feature this PR addresses: 
When the validation type is set to `hr` or `both` and no Time Off Officer is configured, an activity is incorrectly generated upon creating a Time Off request.

---

Fix:
This PR resolves the issue by ensuring the responsible user is set to empty when validation is `hr` or `Both` and no Time Off Officer is configured.

task-4351688

Forward-Port-Of: odoo/odoo#194278
Forward-Port-Of: odoo/odoo#190193",fw-bot,2025-01-20 14:01:16+00:00,[],2025-02-04 04:09:55+00:00,2025-01-21 03:36:21+00:00,https://github.com/odoo/odoo/pull/194386,"[('RD', 'research & development, internal work'), ('forwardport', 'This PR was created by @fw-bot')]","[{'comment_id': 2602504224, 'issue_id': 2799351223, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/194386.png)](https://mergebot.odoo.com/odoo/odoo/pull/194386)', 'created_at': datetime.datetime(2025, 1, 20, 14, 1, 18, tzinfo=datetime.timezone.utc)}, {'comment_id': 2602504286, 'issue_id': 2799351223, 'author': 'fw-bot', 'body': 'This PR targets 18.0 and is part of the forward-port chain. Further PRs will be created up to master.\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 20, 14, 1, 20, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-20 14:01:18 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/194386.png)](https://mergebot.odoo.com/odoo/odoo/pull/194386)

fw-bot (Issue Creator) on (2025-01-20 14:01:20 UTC): This PR targets 18.0 and is part of the forward-port chain. Further PRs will be created up to master.

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

"
2799338703,pull_request,closed,,[FIX] web_editor: check range count when positioning toolbar,"**Problem**:
In rare edge cases, the selection can have no ranges, causing a crash when attempting to `getRangeAt(0)`.

**Solution**:
Ensure there are ranges in the selection before accessing them.

**Steps to Reproduce**:
1. Split the window, with Odoo on one side and any other application on the other.
2. Navigate to a sales order in Odoo.
3. From the sales order, navigate to the partner.
4. Maximize the window.
5. Return to the sales order.
6. Split the window again.
7. Scroll down.

opw-4279813

---
I confirm I have signed the CLA and read the PR guidelines at www.odoo.com/submit-pr
",walidsahli,2025-01-20 13:55:58+00:00,[],2025-02-04 11:46:49+00:00,2025-01-21 11:39:37+00:00,https://github.com/odoo/odoo/pull/194385,"[('OE', 'the report is linked to a support ticket (opw-...)')]","[{'comment_id': 2602492057, 'issue_id': 2799338703, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/194385.png)](https://mergebot.odoo.com/odoo/odoo/pull/194385)', 'created_at': datetime.datetime(2025, 1, 20, 13, 56, 1, tzinfo=datetime.timezone.utc)}, {'comment_id': 2604324764, 'issue_id': 2799338703, 'author': 'dmo-odoo', 'body': '@robodoo r+', 'created_at': datetime.datetime(2025, 1, 21, 10, 28, 58, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-20 13:56:01 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/194385.png)](https://mergebot.odoo.com/odoo/odoo/pull/194385)

dmo-odoo on (2025-01-21 10:28:58 UTC): @robodoo r+

"
2799309110,pull_request,open,,[ADD] l10n_tr_nilvera_edespatch: New module for Turkey e-Despatch,"This PR adds a new module for Turkey e-Despatch. It generates an XML file for individual stock transfer which can be uploaded to Nilvera to create e-Despatch records.

TaskID:4270304

---
I confirm I have signed the CLA and read the PR guidelines at www.odoo.com/submit-pr
",sham-odoo,2025-01-20 13:43:20+00:00,[],2025-02-03 10:48:32+00:00,,https://github.com/odoo/odoo/pull/194384,"[('RD', 'research & development, internal work')]","[{'comment_id': 2602463471, 'issue_id': 2799309110, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/194384.png)](https://mergebot.odoo.com/odoo/odoo/pull/194384)', 'created_at': datetime.datetime(2025, 1, 20, 13, 43, 24, tzinfo=datetime.timezone.utc)}, {'comment_id': 2620742643, 'issue_id': 2799309110, 'author': 'hamo-odoo', 'body': '@sham-odoo Make sure when you add task id to your commit message there should not be any space in between because it might refer to someone else PR in the repo\r\n```diff\r\n- TaskID: 4270304\r\n+ TaskID:4270304\r\n```', 'created_at': datetime.datetime(2025, 1, 29, 5, 20, 12, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-20 13:43:24 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/194384.png)](https://mergebot.odoo.com/odoo/odoo/pull/194384)

hamo-odoo on (2025-01-29 05:20:12 UTC): @sham-odoo Make sure when you add task id to your commit message there should not be any space in between because it might refer to someone else PR in the repo
```diff
- TaskID: 4270304
+ TaskID:4270304
```

"
2799306976,pull_request,closed,,[FW][FIX] account: fallback on the currency_rate when calculating the rate,"### Steps to reproduce:
- In Accounting create a new tax like this: -Tax computation: percentage of price tax included -Amount: 100% -Included in Price: Ticked
- Create a new Customer Invoice in another currency
- Use the 100% tax
- Go in the tab ""Journal Entries""
- The amounts were not converted

### Cause:
The rate is calculated like this : `rate = line.amount_currency / line.balance if line.balance else 1` But with this specific tax `amount_currency` and `balance` are 0 so the rate defaults to 1 thus not converting.

### Solution:
Fallback on the rate of the line.

opw-4443522

Forward-Port-Of: odoo/odoo#193593",fw-bot,2025-01-20 13:42:24+00:00,[],2025-02-03 19:00:29+00:00,2025-01-20 18:53:11+00:00,https://github.com/odoo/odoo/pull/194383,"[('OE', 'the report is linked to a support ticket (opw-...)'), ('forwardport', 'This PR was created by @fw-bot')]","[{'comment_id': 2602461268, 'issue_id': 2799306976, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/194383.png)](https://mergebot.odoo.com/odoo/odoo/pull/194383)', 'created_at': datetime.datetime(2025, 1, 20, 13, 42, 25, tzinfo=datetime.timezone.utc)}, {'comment_id': 2602461298, 'issue_id': 2799306976, 'author': 'fw-bot', 'body': 'This PR targets saas-17.2 and is part of the forward-port chain. Further PRs will be created up to master.\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 20, 13, 42, 26, tzinfo=datetime.timezone.utc)}, {'comment_id': 2602937151, 'issue_id': 2799306976, 'author': 'mathcoutant', 'body': '@robodoo r+', 'created_at': datetime.datetime(2025, 1, 20, 17, 17, 45, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-20 13:42:25 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/194383.png)](https://mergebot.odoo.com/odoo/odoo/pull/194383)

fw-bot (Issue Creator) on (2025-01-20 13:42:26 UTC): This PR targets saas-17.2 and is part of the forward-port chain. Further PRs will be created up to master.

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

mathcoutant on (2025-01-20 17:17:45 UTC): @robodoo r+

"
2799301288,pull_request,closed,,[FIX] website: carousel buttons not showing,"The image  do not have the thumbails anymore

Description of the issue/feature this PR addresses:

Current behavior before PR:

Desired behavior after PR is merged:




---
I confirm I have signed the CLA and read the PR guidelines at www.odoo.com/submit-pr
",kawkb,2025-01-20 13:39:53+00:00,[],2025-01-21 09:13:33+00:00,2025-01-21 09:13:33+00:00,https://github.com/odoo/odoo/pull/194382,"[('OE', 'the report is linked to a support ticket (opw-...)')]","[{'comment_id': 2602455876, 'issue_id': 2799301288, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/194382.png)](https://mergebot.odoo.com/odoo/odoo/pull/194382)', 'created_at': datetime.datetime(2025, 1, 20, 13, 39, 55, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-20 13:39:55 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/194382.png)](https://mergebot.odoo.com/odoo/odoo/pull/194382)

"
2799286831,pull_request,open,,[IMP] res_partner: improve contact computed fields,"**Problem**:

The following res_partner computed fields are taking a lot of time to compute for contacts with 500K+ children (+2 minutes) 
Fields:
    * total_invoiced
    * meeting_count
    * purchase_order_count
    * sale_order_count
    * supplier_invoice_count
The main issue in four of these fields is **read** function that is taking most of the time.
**Solution**:
    * Avoid read method in computation of the fields.
    * Speedup sum generator expression of total_invoiced computation by replacing list with set.

opw-4421866
",malh-odoo,2025-01-20 13:33:31+00:00,[],2025-01-22 12:06:59+00:00,,https://github.com/odoo/odoo/pull/194381,"[('OE', 'the report is linked to a support ticket (opw-...)')]","[{'comment_id': 2602441613, 'issue_id': 2799286831, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/194381.png)](https://mergebot.odoo.com/odoo/odoo/pull/194381)', 'created_at': datetime.datetime(2025, 1, 20, 13, 33, 35, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-20 13:33:35 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/194381.png)](https://mergebot.odoo.com/odoo/odoo/pull/194381)

"
2799283367,pull_request,closed,,[FIX] account: draft badge in blue,"In the account move view, since this commit:
https://github.com/odoo/odoo/commit/9b47dd1158b2819c74431f30ff137cbb13ce0d4f We made a new column that is status_in_payment but with that we removed the decoration for draft moves

task-4497735




---
I confirm I have signed the CLA and read the PR guidelines at www.odoo.com/submit-pr
",malb-odoo,2025-01-20 13:31:59+00:00,[],2025-01-27 16:20:43+00:00,2025-01-27 16:20:43+00:00,https://github.com/odoo/odoo/pull/194380,"[('RD', 'research & development, internal work')]","[{'comment_id': 2602439135, 'issue_id': 2799283367, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/194380.png)](https://mergebot.odoo.com/odoo/odoo/pull/194380)', 'created_at': datetime.datetime(2025, 1, 20, 13, 32, 27, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-20 13:32:27 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/194380.png)](https://mergebot.odoo.com/odoo/odoo/pull/194380)

"
2799266979,pull_request,closed,,[FIX] web: respect X2many field context when order is present,"Issue:
If we have a X2many that allows to have inactive records (with `context={'active_test': False}` on the field definition) and we specify a specific order for this X2many in this view, web_read won't respect the context of the field and will filter out inactive records.

This is because to apply a specific order in the web_read, we use search(), which will filter out inactive records from the `corecords` recordset.

Fix:
We fix this by forcing active_test=False before calling search and reapplying the previous context immediately after.

Closes #194311",aab-odoo,2025-01-20 13:24:58+00:00,[],2025-01-27 13:20:44+00:00,2025-01-27 13:20:44+00:00,https://github.com/odoo/odoo/pull/194379,"[('RD', 'research & development, internal work')]","[{'comment_id': 2602422936, 'issue_id': 2799266979, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/194379.png)](https://mergebot.odoo.com/odoo/odoo/pull/194379)', 'created_at': datetime.datetime(2025, 1, 20, 13, 25, 4, tzinfo=datetime.timezone.utc)}, {'comment_id': 2612621430, 'issue_id': 2799266979, 'author': 'ryv-odoo', 'body': ""Hi @aab-odoo , as discussed, I pushed my version of the fix.\r\n\r\nInstead of the context of the view, it is takes into account the context of the field, because the semantic of allowing inactive record is done by the field definition (not from the context view). @etobella, does this version solve your problem ? \r\n\r\nNote: This semantic is not great because it's complicated and limited: we can't force inactive records to be present inside a X2many from the view. This may change in the future, but it will obviously target the master branch."", 'created_at': datetime.datetime(2025, 1, 24, 14, 9, 50, tzinfo=datetime.timezone.utc)}, {'comment_id': 2614076688, 'issue_id': 2799266979, 'author': 'etobella', 'body': 'It works as expected. Thanks! @ryv-odoo', 'created_at': datetime.datetime(2025, 1, 25, 19, 36, 58, tzinfo=datetime.timezone.utc)}, {'comment_id': 2615398809, 'issue_id': 2799266979, 'author': 'ryv-odoo', 'body': '@robodoo r+\r\n\r\nThanks  @etobella for your test and to report the issue.', 'created_at': datetime.datetime(2025, 1, 27, 10, 40, 40, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-20 13:25:04 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/194379.png)](https://mergebot.odoo.com/odoo/odoo/pull/194379)

ryv-odoo on (2025-01-24 14:09:50 UTC): Hi @aab-odoo , as discussed, I pushed my version of the fix.

Instead of the context of the view, it is takes into account the context of the field, because the semantic of allowing inactive record is done by the field definition (not from the context view). @etobella, does this version solve your problem ? 

Note: This semantic is not great because it's complicated and limited: we can't force inactive records to be present inside a X2many from the view. This may change in the future, but it will obviously target the master branch.

etobella on (2025-01-25 19:36:58 UTC): It works as expected. Thanks! @ryv-odoo

ryv-odoo on (2025-01-27 10:40:40 UTC): @robodoo r+

Thanks  @etobella for your test and to report the issue.

"
2799264801,pull_request,closed,,[FW][FIX] account_peppol: key was never sent right so remove its use,"`accounting_supplier_party` was never sent right from IAP, it was always 'None'.
So, we could never log it.
But the information was in fact always useless. 
This information is already in the UBL file.




---
I confirm I have signed the CLA and read the PR guidelines at www.odoo.com/submit-pr

Forward-Port-Of: odoo/odoo#193462
Forward-Port-Of: odoo/odoo#192740",fw-bot,2025-01-20 13:24:01+00:00,[],2025-02-04 13:06:07+00:00,2025-01-21 12:55:55+00:00,https://github.com/odoo/odoo/pull/194378,"[('RD', 'research & development, internal work'), ('forwardport', 'This PR was created by @fw-bot')]","[{'comment_id': 2602420776, 'issue_id': 2799264801, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/194378.png)](https://mergebot.odoo.com/odoo/odoo/pull/194378)', 'created_at': datetime.datetime(2025, 1, 20, 13, 24, 3, tzinfo=datetime.timezone.utc)}, {'comment_id': 2602420816, 'issue_id': 2799264801, 'author': 'fw-bot', 'body': 'This PR targets saas-17.4 and is part of the forward-port chain. Further PRs will be created up to master.\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 20, 13, 24, 4, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-20 13:24:03 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/194378.png)](https://mergebot.odoo.com/odoo/odoo/pull/194378)

fw-bot (Issue Creator) on (2025-01-20 13:24:04 UTC): This PR targets saas-17.4 and is part of the forward-port chain. Further PRs will be created up to master.

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

"
2799264283,pull_request,closed,,[IMP] res_partner: improve contact computed fields,"**Problem**:

The following res_partner computed fields are taking a lot of time to compute for contacts with 500K+ children (+2 minutes) 
Fields:
    * total_invoiced
    * meeting_count
    * purchase_order_count
    * sale_order_count
    * supplier_invoice_count

**Solution**:
    * Avoid read method in computation of the fields (for the meeting_cound, it could only be avoided in the form view).
    * Speedup sum generator expression of total_invoiced computaion by replacing list with set.

opw-4421866
",malh-odoo,2025-01-20 13:23:46+00:00,[],2025-01-20 13:24:42+00:00,2025-01-20 13:24:30+00:00,https://github.com/odoo/odoo/pull/194377,[],"[{'comment_id': 2602420438, 'issue_id': 2799264283, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/194377.png)](https://mergebot.odoo.com/odoo/odoo/pull/194377)', 'created_at': datetime.datetime(2025, 1, 20, 13, 23, 54, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-20 13:23:54 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/194377.png)](https://mergebot.odoo.com/odoo/odoo/pull/194377)

"
2799261644,pull_request,closed,,[FIX] mrp: duplicate MO and change date,"Steps to reproduce:
-----

- Create a MO
- Duplicate it
- Change the scheduled date
- Confirm

Issue:
---

This [changes](https://github.com/odoo/odoo/commit/7c808beaf36853b4d9171ef0981d1ec9c4b73a44), is trying to timedelta between str and datetime leading to an error.

Fix:
---
To fix this the date_start is set as a datetime and removing the conversion later in the code.

opw-4489618


---
I confirm I have signed the CLA and read the PR guidelines at www.odoo.com/submit-pr
",jaeschwa,2025-01-20 13:22:33+00:00,[],2025-02-04 13:18:35+00:00,2025-01-21 13:18:08+00:00,https://github.com/odoo/odoo/pull/194376,"[('OE', 'the report is linked to a support ticket (opw-...)')]","[{'comment_id': 2602417756, 'issue_id': 2799261644, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/194376.png)](https://mergebot.odoo.com/odoo/odoo/pull/194376)', 'created_at': datetime.datetime(2025, 1, 20, 13, 22, 37, tzinfo=datetime.timezone.utc)}, {'comment_id': 2604330372, 'issue_id': 2799261644, 'author': 'Whenrow', 'body': 'robodoo r+\r\nThank you', 'created_at': datetime.datetime(2025, 1, 21, 10, 31, 13, tzinfo=datetime.timezone.utc)}, {'comment_id': 2606734079, 'issue_id': 2799261644, 'author': 'adwid', 'body': '@jaeschwa \r\nCan you open another PR to cover this with a test ?', 'created_at': datetime.datetime(2025, 1, 22, 9, 38, 20, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-20 13:22:37 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/194376.png)](https://mergebot.odoo.com/odoo/odoo/pull/194376)

Whenrow on (2025-01-21 10:31:13 UTC): robodoo r+
Thank you

adwid on (2025-01-22 09:38:20 UTC): @jaeschwa 
Can you open another PR to cover this with a test ?

"
2799257233,pull_request,closed,,[FW][IMP] cli: allow to bypass obfuscate confirmation (for scripts),"Description of the issue/feature this PR addresses:

Current behavior before PR:

Desired behavior after PR is merged:




---
I confirm I have signed the CLA and read the PR guidelines at www.odoo.com/submit-pr

Forward-Port-Of: odoo/odoo#194225
Forward-Port-Of: odoo/odoo#193752",fw-bot,2025-01-20 13:20:39+00:00,[],2025-02-03 22:25:08+00:00,2025-01-20 22:17:41+00:00,https://github.com/odoo/odoo/pull/194375,"[('RD', 'research & development, internal work'), ('forwardport', 'This PR was created by @fw-bot'), ('18.2', None)]","[{'comment_id': 2602413440, 'issue_id': 2799257233, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/194375.png)](https://mergebot.odoo.com/odoo/odoo/pull/194375)', 'created_at': datetime.datetime(2025, 1, 20, 13, 20, 40, tzinfo=datetime.timezone.utc)}, {'comment_id': 2602413454, 'issue_id': 2799257233, 'author': 'fw-bot', 'body': '@lade-odoo @amigrave this PR targets master and is the last of the forward-port chain.\n\nTo merge the full chain, use\n> @robodoo r+\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 20, 13, 20, 40, tzinfo=datetime.timezone.utc)}, {'comment_id': 2602556636, 'issue_id': 2799257233, 'author': 'fw-bot', 'body': '@lade-odoo @amigrave ci/runbot failed on this forward-port PR', 'created_at': datetime.datetime(2025, 1, 20, 14, 23, 17, tzinfo=datetime.timezone.utc)}, {'comment_id': 2602764009, 'issue_id': 2799257233, 'author': 'lade-odoo', 'body': '@robodoo r+', 'created_at': datetime.datetime(2025, 1, 20, 15, 52, 13, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-20 13:20:40 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/194375.png)](https://mergebot.odoo.com/odoo/odoo/pull/194375)

fw-bot (Issue Creator) on (2025-01-20 13:20:40 UTC): @lade-odoo @amigrave this PR targets master and is the last of the forward-port chain.

To merge the full chain, use

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

fw-bot (Issue Creator) on (2025-01-20 14:23:17 UTC): @lade-odoo @amigrave ci/runbot failed on this forward-port PR

lade-odoo on (2025-01-20 15:52:13 UTC): @robodoo r+

"
2799256519,pull_request,closed,,[FW][IMP] account: Raise a User error rather than assert,"Problem
---------
When you use a Invoice report with the checkbox ""Invoice report"" unselected (misconfiguration), you get a traceback.

Objective
---------
Replace it with an error message instead, saying there's no invoice report configured in the database.

Solution
---------
Turn the asserts into a if condition that raises a user error.

task-4421065

---
I confirm I have signed the CLA and read the PR guidelines at www.odoo.com/submit-pr

Forward-Port-Of: odoo/odoo#194188
Forward-Port-Of: odoo/odoo#192920",fw-bot,2025-01-20 13:20:20+00:00,[],2025-02-04 14:38:07+00:00,2025-01-21 14:13:45+00:00,https://github.com/odoo/odoo/pull/194374,"[('RD', 'research & development, internal work'), ('forwardport', 'This PR was created by @fw-bot'), ('18.2', None)]","[{'comment_id': 2602412794, 'issue_id': 2799256519, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/194374.png)](https://mergebot.odoo.com/odoo/odoo/pull/194374)', 'created_at': datetime.datetime(2025, 1, 20, 13, 20, 21, tzinfo=datetime.timezone.utc)}, {'comment_id': 2602412814, 'issue_id': 2799256519, 'author': 'fw-bot', 'body': '@aboo-odoo @clbr-odoo this PR targets master and is the last of the forward-port chain.\n\nTo merge the full chain, use\n> @robodoo r+\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 20, 13, 20, 22, tzinfo=datetime.timezone.utc)}, {'comment_id': 2602486245, 'issue_id': 2799256519, 'author': 'fw-bot', 'body': '@aboo-odoo @clbr-odoo ci/runbot failed on this forward-port PR', 'created_at': datetime.datetime(2025, 1, 20, 13, 53, 26, tzinfo=datetime.timezone.utc)}, {'comment_id': 2603476351, 'issue_id': 2799256519, 'author': 'fw-bot', 'body': '@aboo-odoo @clbr-odoo this forward port of odoo/odoo#192920 is awaiting action (not merged or closed).', 'created_at': datetime.datetime(2025, 1, 21, 2, 1, 32, tzinfo=datetime.timezone.utc)}, {'comment_id': 2604219846, 'issue_id': 2799256519, 'author': 'aboo-odoo', 'body': '@robodoo r+', 'created_at': datetime.datetime(2025, 1, 21, 9, 57, 49, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-20 13:20:21 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/194374.png)](https://mergebot.odoo.com/odoo/odoo/pull/194374)

fw-bot (Issue Creator) on (2025-01-20 13:20:22 UTC): @aboo-odoo @clbr-odoo this PR targets master and is the last of the forward-port chain.

To merge the full chain, use

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

fw-bot (Issue Creator) on (2025-01-20 13:53:26 UTC): @aboo-odoo @clbr-odoo ci/runbot failed on this forward-port PR

fw-bot (Issue Creator) on (2025-01-21 02:01:32 UTC): @aboo-odoo @clbr-odoo this forward port of odoo/odoo#192920 is awaiting action (not merged or closed).

aboo-odoo on (2025-01-21 09:57:49 UTC): @robodoo r+

"
2799255816,pull_request,closed,,[FW][FIX] pos_online_payment_self_order: runbot error 111171,"The `test_01_online_payment_with_multi_table` fails in runbot when running in ""no-demo"" mode. This is because it's not using the correct setup for testing restaurant configs.

We ensure, in this commit, that the test uses the correct setup for testing by inheriting from the pos_restaurant's TestFrontendCommon. The total amount in the tour is adjusted because the test product from the default setup has no tax.

Runbot Error: [111171](https://runbot.odoo.com/odoo/runbot.build.error/111171)

Forward-Port-Of: odoo/odoo#193957
Forward-Port-Of: odoo/odoo#193194",fw-bot,2025-01-20 13:20:01+00:00,[],2025-02-03 22:25:08+00:00,2025-01-20 22:17:45+00:00,https://github.com/odoo/odoo/pull/194373,"[('RD', 'research & development, internal work'), ('forwardport', 'This PR was created by @fw-bot'), ('18.2', None)]","[{'comment_id': 2602412104, 'issue_id': 2799255816, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/194373.png)](https://mergebot.odoo.com/odoo/odoo/pull/194373)', 'created_at': datetime.datetime(2025, 1, 20, 13, 20, 3, tzinfo=datetime.timezone.utc)}, {'comment_id': 2602412130, 'issue_id': 2799255816, 'author': 'fw-bot', 'body': '@caburj @Williambraecky this PR targets master and is the last of the forward-port chain.\n\nTo merge the full chain, use\n> @robodoo r+\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 20, 13, 20, 4, tzinfo=datetime.timezone.utc)}, {'comment_id': 2602438105, 'issue_id': 2799255816, 'author': 'Williambraecky', 'body': '@robodoo r+', 'created_at': datetime.datetime(2025, 1, 20, 13, 31, 58, tzinfo=datetime.timezone.utc)}, {'comment_id': 2602496994, 'issue_id': 2799255816, 'author': 'robodoo', 'body': ""@caburj @Williambraecky 'ci/runbot' failed on this reviewed PR."", 'created_at': datetime.datetime(2025, 1, 20, 13, 58, 11, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-20 13:20:03 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/194373.png)](https://mergebot.odoo.com/odoo/odoo/pull/194373)

fw-bot (Issue Creator) on (2025-01-20 13:20:04 UTC): @caburj @Williambraecky this PR targets master and is the last of the forward-port chain.

To merge the full chain, use

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

Williambraecky on (2025-01-20 13:31:58 UTC): @robodoo r+

robodoo on (2025-01-20 13:58:11 UTC): @caburj @Williambraecky 'ci/runbot' failed on this reviewed PR.

"
2799255180,pull_request,closed,,[FW][FIX] website_payment: remove demo dependency,"The previous fix to make the test work without demo was broken. Using write directly seems to fix the issue, also set an email on the company as it is required by the test.

Runbot Error: 108437

Forward-Port-Of: odoo/odoo#193774",fw-bot,2025-01-20 13:19:43+00:00,[],2025-02-03 20:56:01+00:00,2025-01-20 20:54:01+00:00,https://github.com/odoo/odoo/pull/194372,"[('RD', 'research & development, internal work'), ('forwardport', 'This PR was created by @fw-bot'), ('18.2', None)]","[{'comment_id': 2602411994, 'issue_id': 2799255180, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/194372.png)](https://mergebot.odoo.com/odoo/odoo/pull/194372)', 'created_at': datetime.datetime(2025, 1, 20, 13, 20, tzinfo=datetime.timezone.utc)}, {'comment_id': 2602412013, 'issue_id': 2799255180, 'author': 'fw-bot', 'body': '@Williambraecky @AntoineVDV this PR targets master and is the last of the forward-port chain.\n\nTo merge the full chain, use\n> @robodoo r+\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 20, 13, 20, 1, tzinfo=datetime.timezone.utc)}, {'comment_id': 2602437635, 'issue_id': 2799255180, 'author': 'Williambraecky', 'body': '@robodoo r+', 'created_at': datetime.datetime(2025, 1, 20, 13, 31, 44, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-20 13:20:00 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/194372.png)](https://mergebot.odoo.com/odoo/odoo/pull/194372)

fw-bot (Issue Creator) on (2025-01-20 13:20:01 UTC): @Williambraecky @AntoineVDV this PR targets master and is the last of the forward-port chain.

To merge the full chain, use

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

Williambraecky on (2025-01-20 13:31:44 UTC): @robodoo r+

"
2799254468,pull_request,closed,,[FW][FIX] core: falsy evaluation of db_replica_host,"Following the configuration refactor[1], the falsy evaluation of db_replica_host was wrong. The default is now an empty string.

This lead to situations where a readonly cursor was wrongfully used.

[1] https://github.com/odoo/odoo/commit/b1f7be518e2075c546bcedc0f4ba6dd62dff3c8f




---
I confirm I have signed the CLA and read the PR guidelines at www.odoo.com/submit-pr

Forward-Port-Of: odoo/odoo#193728",fw-bot,2025-01-20 13:19:26+00:00,[],2025-02-03 22:25:10+00:00,2025-01-20 22:17:49+00:00,https://github.com/odoo/odoo/pull/194371,"[('RD', 'research & development, internal work'), ('forwardport', 'This PR was created by @fw-bot'), ('18.2', None)]","[{'comment_id': 2602411931, 'issue_id': 2799254468, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/194371.png)](https://mergebot.odoo.com/odoo/odoo/pull/194371)', 'created_at': datetime.datetime(2025, 1, 20, 13, 19, 58, tzinfo=datetime.timezone.utc)}, {'comment_id': 2602411953, 'issue_id': 2799254468, 'author': 'fw-bot', 'body': '@johandem @nim-odoo this PR targets master and is the last of the forward-port chain.\n\nTo merge the full chain, use\n> @robodoo r+\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 20, 13, 19, 59, tzinfo=datetime.timezone.utc)}, {'comment_id': 2602612549, 'issue_id': 2799254468, 'author': 'nim-odoo', 'body': '@robodoo r+', 'created_at': datetime.datetime(2025, 1, 20, 14, 47, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-20 13:19:58 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/194371.png)](https://mergebot.odoo.com/odoo/odoo/pull/194371)

fw-bot (Issue Creator) on (2025-01-20 13:19:59 UTC): @johandem @nim-odoo this PR targets master and is the last of the forward-port chain.

To merge the full chain, use

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

nim-odoo on (2025-01-20 14:47:00 UTC): @robodoo r+

"
2799253775,pull_request,closed,,"[FW][FIX] account,l10n_it_edi: Batch Print & Send when manual sending method.","## Commit 1: 
### [FIX] account: Batch invoice sending when partner on ""Download""

Context:
In 18.0, all batch/multiple invoice sending are processed asynchronously, we never directly
download the generated PDF/XML files. The sending method that is used depends on what is
set on the partner.

Problem:
If you set your partner to ""Download"" by default, in the batch Send & Print, it
will display ""You are about to send: x invoice(s) Download"". While it's actually
not downloading, only generating. In 18.1 we changed this to ""Manual"" which is better but
doesn't go well in a sentence.

Solution:
Let's align everything to ""Manually"" in batch sending to avoid confusion.

Before:
![image](https://github.com/user-attachments/assets/9048c5bd-0e5f-4c25-a816-3c941bec7fce)

After:
![image](https://github.com/user-attachments/assets/8a4201f4-e4be-4c0d-b801-83815b337352)


opw-4315079

## Commit 2: 
###[IMP] l10n_it_edi: Add possibility to download in batch XML FatturaPA
Context:
In 18.0, when sending invoices in batch, we never download a zip of all generated
files (PDF, XML) since we always process invoices asynchronously with the partner's
sending method set on the partner's form.

Problem:
It's no longer possible to retrieve all XML Fattura PA at once.

Solution:
Add a button under the ""Print/Download"" button to download them all.

opw-4315079

## Commit 3:
### [FIX] l10n_it_edi: Fix error message display in Print & Send
The italian error dict does not comply to the default format expected
by the generic Print & Send. It displays the key of the error
instead of the message.
Before:
![it_error_msg_pre](https://github.com/user-attachments/assets/22707d0d-95b4-4b74-b31f-b4bc3ba334fd)
After:
![it_error_msg_post](https://github.com/user-attachments/assets/e32eef16-14d5-4462-96cc-c8e5ede5feb7)

task-no

Forward-Port-Of: odoo/odoo#194043
Forward-Port-Of: odoo/odoo#192473",fw-bot,2025-01-20 13:19:08+00:00,[],2025-02-03 20:56:02+00:00,2025-01-20 20:54:05+00:00,https://github.com/odoo/odoo/pull/194370,"[('OE', 'the report is linked to a support ticket (opw-...)'), ('forwardport', 'This PR was created by @fw-bot'), ('18.2', None)]","[{'comment_id': 2602411863, 'issue_id': 2799253775, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/194370.png)](https://mergebot.odoo.com/odoo/odoo/pull/194370)', 'created_at': datetime.datetime(2025, 1, 20, 13, 19, 57, tzinfo=datetime.timezone.utc)}, {'comment_id': 2602411891, 'issue_id': 2799253775, 'author': 'fw-bot', 'body': '@clbr-odoo @rugo-odoo this PR targets master and is the last of the forward-port chain.\n\nTo merge the full chain, use\n> @robodoo r+\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 20, 13, 19, 57, tzinfo=datetime.timezone.utc)}, {'comment_id': 2602428455, 'issue_id': 2799253775, 'author': 'rugo-odoo', 'body': '@robodoo r+', 'created_at': datetime.datetime(2025, 1, 20, 13, 27, 40, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-20 13:19:57 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/194370.png)](https://mergebot.odoo.com/odoo/odoo/pull/194370)

fw-bot (Issue Creator) on (2025-01-20 13:19:57 UTC): @clbr-odoo @rugo-odoo this PR targets master and is the last of the forward-port chain.

To merge the full chain, use

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

rugo-odoo on (2025-01-20 13:27:40 UTC): @robodoo r+

"
2799248638,pull_request,closed,,[FW][CLA] Update Quartile CLA,"@qrtl

-------------------------------

I confirm I have signed the CLA and read the PR guidelines at [www.odoo.com/submit-pr](http://www.odoo.com/submit-pr)

Forward-Port-Of: odoo/odoo#194087",fw-bot,2025-01-20 13:16:49+00:00,[],2025-02-03 22:25:02+00:00,2025-01-20 21:48:35+00:00,https://github.com/odoo/odoo/pull/194369,"[('RD', 'research & development, internal work'), ('forwardport', 'This PR was created by @fw-bot')]","[{'comment_id': 2602405280, 'issue_id': 2799248638, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/194369.png)](https://mergebot.odoo.com/odoo/odoo/pull/194369)', 'created_at': datetime.datetime(2025, 1, 20, 13, 16, 50, tzinfo=datetime.timezone.utc)}, {'comment_id': 2602405301, 'issue_id': 2799248638, 'author': 'fw-bot', 'body': 'This PR targets 18.0 and is part of the forward-port chain. Further PRs will be created up to master.\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 20, 13, 16, 51, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-20 13:16:50 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/194369.png)](https://mergebot.odoo.com/odoo/odoo/pull/194369)

fw-bot (Issue Creator) on (2025-01-20 13:16:51 UTC): This PR targets 18.0 and is part of the forward-port chain. Further PRs will be created up to master.

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

"
2799236727,pull_request,closed,,[FW][FIX] web_editor: extra line added after inserting at line-break,"**Before this PR:**

Steps to reproduce:

- In an empty paragraph write something, press shift + enter
- Write something in new line break
- Select whole text in second line
- Paste any text, notice that an extra <br> is added above pasted text.

In other words,
`<p>abc<br>[def]</p> + insert('x')` becomes `<p>abc<br><br>x[]</p>` instead of `<p>abc<br>x[]</p> `.

**Desired behaviour after PR:**

Now, pasting something at line-break doesn't add an extra an extra `<br>` .

task-4231290




---
I confirm I have signed the CLA and read the PR guidelines at www.odoo.com/submit-pr

Forward-Port-Of: odoo/odoo#185854",fw-bot,2025-01-20 13:11:25+00:00,[],2025-02-04 08:32:57+00:00,2025-01-21 08:30:24+00:00,https://github.com/odoo/odoo/pull/194368,"[('RD', 'research & development, internal work'), ('forwardport', 'This PR was created by @fw-bot')]","[{'comment_id': 2602393520, 'issue_id': 2799236727, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/194368.png)](https://mergebot.odoo.com/odoo/odoo/pull/194368)', 'created_at': datetime.datetime(2025, 1, 20, 13, 11, 27, tzinfo=datetime.timezone.utc)}, {'comment_id': 2602393549, 'issue_id': 2799236727, 'author': 'fw-bot', 'body': 'This PR targets saas-17.2 and is part of the forward-port chain. Further PRs will be created up to master.\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 20, 13, 11, 27, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-20 13:11:27 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/194368.png)](https://mergebot.odoo.com/odoo/odoo/pull/194368)

fw-bot (Issue Creator) on (2025-01-20 13:11:27 UTC): This PR targets saas-17.2 and is part of the forward-port chain. Further PRs will be created up to master.

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

"
2799226544,pull_request,closed,,"[IMP] pos_restaurant, point_of_sale: send dishes by course","This commit introduces the ability to sort order lines by course (e.g., starters, mains, desserts)  and trigger course notifications for the kitchen. The kitchen will know when to prepare each course to ensure that the client do not wait too much.

Task: 4444501
",stva-odoo,2025-01-20 13:06:56+00:00,[],2025-02-05 01:08:35+00:00,2025-02-05 01:08:35+00:00,https://github.com/odoo/odoo/pull/194367,"[('RD', 'research & development, internal work'), ('18.2', None)]","[{'comment_id': 2602383522, 'issue_id': 2799226544, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/194367.png)](https://mergebot.odoo.com/odoo/odoo/pull/194367)', 'created_at': datetime.datetime(2025, 1, 20, 13, 6, 59, tzinfo=datetime.timezone.utc)}, {'comment_id': 2634402987, 'issue_id': 2799226544, 'author': 'robodoo', 'body': '@stva-odoo @davidmonnom linked pull request(s) odoo/enterprise#77426 not ready. Linked PRs are not staged until all of them are ready.', 'created_at': datetime.datetime(2025, 2, 4, 16, 0, 2, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-20 13:06:59 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/194367.png)](https://mergebot.odoo.com/odoo/odoo/pull/194367)

robodoo on (2025-02-04 16:00:02 UTC): @stva-odoo @davidmonnom linked pull request(s) odoo/enterprise#77426 not ready. Linked PRs are not staged until all of them are ready.

"
2799219128,pull_request,closed,,[FW][FIX] stock: make the table take the whole width,"Commit 239e75b1385fa0 removes `colspan=""2""` to guess it from the `nolabel` attribute. This is not working because of the `string=` attribute in the `group` tag that makes the DOM having two elements instead of only one. The rule in

https://github.com/odoo/odoo/blob/0ba664bace1e6bbb256bd98570866df19d35f401/addons/web/static/src/views/form/form_controller.scss#L474

is not applied.

Description of the issue/feature this PR addresses:

Current behavior before PR:

Desired behavior after PR is merged:




---
I confirm I have signed the CLA and read the PR guidelines at www.odoo.com/submit-pr

Forward-Port-Of: odoo/odoo#194169",fw-bot,2025-01-20 13:03:40+00:00,[],2025-01-21 09:39:51+00:00,2025-01-20 20:54:09+00:00,https://github.com/odoo/odoo/pull/194366,"[('RD', 'research & development, internal work'), ('forwardport', 'This PR was created by @fw-bot'), ('18.2', None)]","[{'comment_id': 2602376532, 'issue_id': 2799219128, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/194366.png)](https://mergebot.odoo.com/odoo/odoo/pull/194366)', 'created_at': datetime.datetime(2025, 1, 20, 13, 3, 43, tzinfo=datetime.timezone.utc)}, {'comment_id': 2602376558, 'issue_id': 2799219128, 'author': 'fw-bot', 'body': '@Whenrow @adr-odoo this PR targets master and is the last of the forward-port chain containing:\n* odoo/odoo#194350\n\nTo merge the full chain, use\n> @robodoo r+\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 20, 13, 3, 44, tzinfo=datetime.timezone.utc)}, {'comment_id': 2602570305, 'issue_id': 2799219128, 'author': 'adr-odoo', 'body': '@robodoo r+', 'created_at': datetime.datetime(2025, 1, 20, 14, 29, 12, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-20 13:03:43 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/194366.png)](https://mergebot.odoo.com/odoo/odoo/pull/194366)

fw-bot (Issue Creator) on (2025-01-20 13:03:44 UTC): @Whenrow @adr-odoo this PR targets master and is the last of the forward-port chain containing:
* odoo/odoo#194350

To merge the full chain, use

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

adr-odoo on (2025-01-20 14:29:12 UTC): @robodoo r+

"
2799212838,pull_request,closed,,[FIX] web_editor: add small font sizes to the font size dropdown,"### Description of the issue/feature this PR addresses:

- Small font sizes (""8"", ""10"", ""12"") were unavailable in the font size dropdown. These options were only required in the backend and not where custom input for font sizes is provided.

### Desired behavior after PR is merged:

- The font size options ""8"", ""10"", and ""12"" are now included in the dropdown. The `d-none` class is conditionally applied to these options based on the value of `showResponsiveFontSizesBadges`.

task-3829323",adch-odoo,2025-01-20 13:00:53+00:00,[],2025-02-03 16:38:23+00:00,2025-02-03 16:38:23+00:00,https://github.com/odoo/odoo/pull/194365,"[('RD', 'research & development, internal work')]","[{'comment_id': 2602370536, 'issue_id': 2799212838, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/194365.png)](https://mergebot.odoo.com/odoo/odoo/pull/194365)', 'created_at': datetime.datetime(2025, 1, 20, 13, 0, 56, tzinfo=datetime.timezone.utc)}, {'comment_id': 2631139187, 'issue_id': 2799212838, 'author': 'dmo-odoo', 'body': '@robodoo up to saas-17.4\r\nIn 18.0 we will put back the font size input to choose any font size.', 'created_at': datetime.datetime(2025, 2, 3, 14, 21, 1, tzinfo=datetime.timezone.utc)}, {'comment_id': 2631139368, 'issue_id': 2799212838, 'author': 'robodoo', 'body': ""Forward-porting to 'saas-17.4'."", 'created_at': datetime.datetime(2025, 2, 3, 14, 21, 6, tzinfo=datetime.timezone.utc)}, {'comment_id': 2631145096, 'issue_id': 2799212838, 'author': 'dmo-odoo', 'body': '@robodoo r+', 'created_at': datetime.datetime(2025, 2, 3, 14, 23, 13, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-20 13:00:56 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/194365.png)](https://mergebot.odoo.com/odoo/odoo/pull/194365)

dmo-odoo on (2025-02-03 14:21:01 UTC): @robodoo up to saas-17.4
In 18.0 we will put back the font size input to choose any font size.

robodoo on (2025-02-03 14:21:06 UTC): Forward-porting to 'saas-17.4'.

dmo-odoo on (2025-02-03 14:23:13 UTC): @robodoo r+

"
2799201075,pull_request,closed,,"[FW][FIX] repair,sale_stock,stock_account: repair with auto FIFO component","When using an auto fifo product as part of the repair, the COGS
won't be based on the used product

To reproduce the issue:
1. Setup auto fifo product
2. Receive 1@10 and 1@20
3. Process a RO:
   - Invoice method: After repair
   - Parts:
     - Add 1 x fifo product
4. Create and post the invoice
5. Open its journal items

Error: Cogs are $20 instead of $10

When posting the invoice, we generate the COGS:
https://github.com/odoo/odoo/blob/4df156164cf1d2764ba23682beee588777457fd6/addons/stock_account/models/account_move.py#L47-L48
We therefore compute the ""anglo saxon unit price"":
https://github.com/odoo/odoo/blob/4df156164cf1d2764ba23682beee588777457fd6/addons/stock_account/models/account_move.py#L133
However, there isn't any override to handle the RO case, so it leads
to the default mechanism, i.e. the standard price of the product:
https://github.com/odoo/odoo/blob/4df156164cf1d2764ba23682beee588777457fd6/addons/stock_account/models/account_move.py#L294-L295
https://github.com/odoo/odoo/blob/4df156164cf1d2764ba23682beee588777457fd6/addons/stock_account/models/account_move.py#L294-L295
https://github.com/odoo/odoo/blob/7cd7563f6708331bb6baf0e06d07a9f9ee329e38/addons/stock_account/models/product.py#L753-L757

And, since the first product is out, its standard price is now based
on the next candidate: $20

About the `sudo`: an accountman has not any access to `repair`, so
posting such an invoice would raise an error. Since this diff is
specific to Odoo 16, the idea is not to impact any security rules
and rather minimize the changes.

Note: Indeed, `repair` does not depend on `stock_account`, so this
commit could lead to a traceback if the bridge is removed. I delegate
this issue to the error of dependencies. Anyway, removing the bridge
would lead to other bugs. Hopefully, this has been fixed on master [1].

[1] https://github.com/odoo/odoo/commit/f7dbdec11b74f8c7d969763d8c5cf09542a47f86

OPW-4166570

Forward-Port-Of: odoo/odoo#193826
Forward-Port-Of: odoo/odoo#193076",fw-bot,2025-01-20 12:55:51+00:00,[],2025-02-04 15:53:54+00:00,2025-01-21 15:35:14+00:00,https://github.com/odoo/odoo/pull/194364,"[('OE', 'the report is linked to a support ticket (opw-...)'), ('forwardport', 'This PR was created by @fw-bot'), ('18.2', None)]","[{'comment_id': 2602359456, 'issue_id': 2799201075, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/194364.png)](https://mergebot.odoo.com/odoo/odoo/pull/194364)', 'created_at': datetime.datetime(2025, 1, 20, 12, 55, 52, tzinfo=datetime.timezone.utc)}, {'comment_id': 2602359479, 'issue_id': 2799201075, 'author': 'fw-bot', 'body': '@adwid @Whenrow this PR targets master and is the last of the forward-port chain containing:\n* odoo/odoo#194351\n* odoo/odoo#193944\n\nTo merge the full chain, use\n> @robodoo r+\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 20, 12, 55, 53, tzinfo=datetime.timezone.utc)}, {'comment_id': 2603476266, 'issue_id': 2799201075, 'author': 'fw-bot', 'body': '@adwid @Whenrow this forward port of odoo/odoo#193076 is awaiting action (not merged or closed).', 'created_at': datetime.datetime(2025, 1, 21, 2, 1, 27, tzinfo=datetime.timezone.utc)}, {'comment_id': 2604187845, 'issue_id': 2799201075, 'author': 'adwid', 'body': 'robodoo r+', 'created_at': datetime.datetime(2025, 1, 21, 9, 44, 34, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-20 12:55:52 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/194364.png)](https://mergebot.odoo.com/odoo/odoo/pull/194364)

fw-bot (Issue Creator) on (2025-01-20 12:55:53 UTC): @adwid @Whenrow this PR targets master and is the last of the forward-port chain containing:
* odoo/odoo#194351
* odoo/odoo#193944

To merge the full chain, use

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

fw-bot (Issue Creator) on (2025-01-21 02:01:27 UTC): @adwid @Whenrow this forward port of odoo/odoo#193076 is awaiting action (not merged or closed).

adwid on (2025-01-21 09:44:34 UTC): robodoo r+

"
2799115303,pull_request,open,,[FIX] mail: livechat from visitor stays open in mobile [18.0],"Before this commit, when using livechat by visitor in mobile, any page reload would remove access to the livechat.

Steps to reproduce:
- access to website with livechat installed on mobile
- click on livechat button (bubble icon in bottom right)
- send a message
- reload the page

=> the livechat is not open, not even as a chat bubble.

This prevents visitor from access the livechat again, except if user finds a workaround to open the same page in non-mobile mode (e.g. landscape mode or disabling high-dpi).

This happens because livechat relies on discuss chat hub, and there's some code to prevent server-side synchronisation of chat windows and bubbles in mobile. As a reminder, conversation in mobile are shown as fullscreen chat windows.
This code was preventing the opening of chat window on livechat for visitor, leading to prevention of continuing to live chat on the device.

This commit fixes by adding fold action to chat windows in mobile specifically for livechat visitors, thus allowing to have chat bubbles in mobile. This fixes allow to show chat windows as bubbles to livechat visitors, which is the primary fix of these changes.

Due to chat windows being server-synced, we made sure to not sync chat windows in the backend. To do so, we rely on presence of livechat service to determine when the chat bubble feature should work in mobile.

opw-4423556
opw-4488830",alexkuhn,2025-01-20 12:17:50+00:00,[],2025-02-05 10:24:18+00:00,,https://github.com/odoo/odoo/pull/194363,"[('OE', 'the report is linked to a support ticket (opw-...)')]","[{'comment_id': 2602276217, 'issue_id': 2799115303, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/194363.png)](https://mergebot.odoo.com/odoo/odoo/pull/194363)', 'created_at': datetime.datetime(2025, 1, 20, 12, 17, 52, tzinfo=datetime.timezone.utc)}, {'comment_id': 2605829164, 'issue_id': 2799115303, 'author': 'alexkuhn', 'body': 'When 18.1 PR is deployed (https://github.com/odoo/odoo/pull/194356), will adapt this PR to have an equivalent semantics (while minimizing backport of new features)', 'created_at': datetime.datetime(2025, 1, 21, 22, 1, 42, tzinfo=datetime.timezone.utc)}, {'comment_id': 2633915046, 'issue_id': 2799115303, 'author': 'Dj0ulo', 'body': '@alexkuhn Any update regarding this PR?', 'created_at': datetime.datetime(2025, 2, 4, 13, 25, 15, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-20 12:17:52 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/194363.png)](https://mergebot.odoo.com/odoo/odoo/pull/194363)

alexkuhn (Issue Creator) on (2025-01-21 22:01:42 UTC): When 18.1 PR is deployed (https://github.com/odoo/odoo/pull/194356), will adapt this PR to have an equivalent semantics (while minimizing backport of new features)

Dj0ulo on (2025-02-04 13:25:15 UTC): @alexkuhn Any update regarding this PR?

"
2799105917,pull_request,closed,,[FW][FIX] account: fallback on the currency_rate when calculating the rate,"### Steps to reproduce:
- In Accounting create a new tax like this: -Tax computation: percentage of price tax included -Amount: 100% -Included in Price: Ticked
- Create a new Customer Invoice in another currency
- Use the 100% tax
- Go in the tab ""Journal Entries""
- The amounts were not converted

### Cause:
The rate is calculated like this : `rate = line.amount_currency / line.balance if line.balance else 1` But with this specific tax `amount_currency` and `balance` are 0 so the rate defaults to 1 thus not converting.

### Solution:
Fallback on the rate of the line.

opw-4443522

Forward-Port-Of: odoo/odoo#193593",fw-bot,2025-01-20 12:13:37+00:00,[],2025-02-03 19:00:24+00:00,2025-01-20 18:40:29+00:00,https://github.com/odoo/odoo/pull/194362,"[('OE', 'the report is linked to a support ticket (opw-...)'), ('forwardport', 'This PR was created by @fw-bot')]","[{'comment_id': 2602265433, 'issue_id': 2799105917, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/194362.png)](https://mergebot.odoo.com/odoo/odoo/pull/194362)', 'created_at': datetime.datetime(2025, 1, 20, 12, 13, 38, tzinfo=datetime.timezone.utc)}, {'comment_id': 2602265450, 'issue_id': 2799105917, 'author': 'fw-bot', 'body': 'This PR targets 17.0 and is part of the forward-port chain. Further PRs will be created up to master.\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 20, 12, 13, 39, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-20 12:13:38 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/194362.png)](https://mergebot.odoo.com/odoo/odoo/pull/194362)

fw-bot (Issue Creator) on (2025-01-20 12:13:39 UTC): This PR targets 17.0 and is part of the forward-port chain. Further PRs will be created up to master.

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

"
2799091164,pull_request,closed,,[FIX] l10n_es_tbai_multi_refund: fix non-bizkaia situation,"
Description of the issue/feature this PR addresses:

Applies https://github.com/odoo/odoo/pull/194130 for all TicketBAI invoices, and not only for those for Bizkaia.


Current behavior before PR:
When invoice is not for Bizkaia, it fails to render the XML.

<details>

```
2025-01-20 11:41:09,902 28 ERROR odoo odoo.http: Exception during request handling.                                       
Traceback (most recent call last):                                                                                        
  File ""/opt/odoo/custom/src/odoo/odoo/api.py"", line 997, in get                                                          
    cache_value = field_cache[record._ids[0]]                                                                             
KeyError: 55111                                                                                                           
                                                                                                                          
During handling of the above exception, another exception occurred:                                                       
                                                                                                                          
Traceback (most recent call last):                                                                                        
  File ""/opt/odoo/custom/src/odoo/odoo/fields.py"", line 1161, in __get__                                                  
    value = env.cache.get(record, self)                                                                                   
  File ""/opt/odoo/custom/src/odoo/odoo/api.py"", line 1004, in get                                                         
    raise CacheMiss(record, field)                                                                                        
odoo.exceptions.CacheMiss: 'account.edi.document(55111,).edi_content'                                                     
                                                                                                                          
During handling of the above exception, another exception occurred:                                                       
                                                                                                                          
Traceback (most recent call last):                                                                                        
  File ""/opt/odoo/custom/src/odoo/odoo/models.py"", line 5201, in ensure_one
    _id, = self._ids
ValueError: not enough values to unpack (expected 1, got 0)

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File ""<3645>"", line 580, in template_3645
  File ""<3645>"", line 175, in template_3645_content
  File ""/opt/odoo/auto/addons/l10n_es_edi_tbai/models/account_move.py"", line 130, in _get_l10n_es_tbai_sequence_and_number
    self.ensure_one()
  File ""/opt/odoo/custom/src/odoo/odoo/models.py"", line 5204, in ensure_one
    raise ValueError(""Expected singleton: %s"" % self)
ValueError: Expected singleton: account.move()

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File ""/opt/odoo/custom/src/odoo/odoo/http.py"", line 2066, in __call__
    response = request._serve_db()
  File ""/opt/odoo/custom/src/odoo/odoo/http.py"", line 1653, in _serve_db
    return service_model.retrying(self._serve_ir_http, self.env)
  File ""/opt/odoo/custom/src/odoo/odoo/service/model.py"", line 133, in retrying
    result = func()
  File ""/opt/odoo/custom/src/odoo/odoo/http.py"", line 1681, in _serve_ir_http
    response = self.dispatcher.dispatch(rule.endpoint, args)
  File ""/opt/odoo/custom/src/odoo/odoo/http.py"", line 1795, in dispatch
    return self.request.registry['ir.http']._dispatch(endpoint)
  File ""/opt/odoo/auto/addons/website/models/ir_http.py"", line 237, in _dispatch                                                
    response = super()._dispatch(endpoint)                                                                                      
  File ""/opt/odoo/custom/src/odoo/odoo/addons/base/models/ir_http.py"", line 154, in _dispatch                                   
    result = endpoint(**request.params)                                                                                         
  File ""/opt/odoo/custom/src/odoo/odoo/http.py"", line 734, in route_wrapper                                                     
    result = endpoint(self, *args, **params_ok)                                                                                 
  File ""/opt/odoo/auto/addons/web/controllers/binary.py"", line 75, in content_common                                            
    stream = request.env['ir.binary']._get_stream_from(record, field, filename, filename_field, mimetype)                       
  File ""/opt/odoo/custom/src/odoo/odoo/addons/base/models/ir_binary.py"", line 126, in _get_stream_from                          
    stream = self._record_to_stream(record, field_name)                                                                         
  File ""/opt/odoo/auto/addons/website/models/ir_binary.py"", line 41, in _record_to_stream                                       
    return super()._record_to_stream(record, field_name)                                                                        
  File ""/opt/odoo/auto/addons/documents/models/ir_binary.py"", line 13, in _record_to_stream                                     
    return super()._record_to_stream(record, field_name)                                                                        
  File ""/opt/odoo/custom/src/odoo/odoo/addons/base/models/ir_binary.py"", line 87, in _record_to_stream                          
    return Stream.from_binary_field(record, field_name)                                                                         
  File ""/opt/odoo/custom/src/odoo/odoo/http.py"", line 523, in from_binary_field                                                 
    data_b64 = record[field_name]                                                                                               
  File ""/opt/odoo/custom/src/odoo/odoo/models.py"", line 5975, in __getitem__
    return self._fields[key].__get__(self, self.env.registry[self._name])
  File ""/opt/odoo/custom/src/odoo/odoo/fields.py"", line 1210, in __get__
    self.compute_value(recs)                                                                                                    
  File ""/opt/odoo/custom/src/odoo/odoo/fields.py"", line 2360, in compute_value
    super().compute_value(records)
  File ""/opt/odoo/custom/src/odoo/odoo/fields.py"", line 1392, in compute_value
    records._compute_field_value(self)             
  File ""/opt/odoo/custom/src/odoo/odoo/models.py"", line 4259, in _compute_field_value                                     
    fields.determine(field.compute, self)
  File ""/opt/odoo/custom/src/odoo/odoo/fields.py"", line 98, in determine   
    return needle(*args)                             
  File ""/opt/odoo/auto/addons/account_edi/models/account_edi_document.py"", line 63, in _compute_edi_content
    res = base64.b64encode(move_applicability['edi_content'](move))
  File ""/opt/odoo/auto/addons/l10n_es_edi_tbai/models/account_edi_format.py"", line 251, in _l10n_es_tbai_get_invoice_content_edi
    xml_tree = self._get_l10n_es_tbai_invoice_xml(invoice, cancel)[invoice]['xml_file']
  File ""/opt/odoo/auto/addons/l10n_es_edi_tbai/models/account_edi_format.py"", line 275, in _get_l10n_es_tbai_invoice_xml
    xml_str = self.env['ir.qweb']._render(template_name, values)       
  File ""/opt/odoo/custom/src/odoo/odoo/tools/profiler.py"", line 294, in _tracked_method_render
    return method_render(self, template, values, **options)                                                                     
  File ""/opt/odoo/custom/src/odoo/odoo/addons/base/models/ir_qweb.py"", line 588, in _render
    result = ''.join(rendering)                                                                                                 
  File ""<3641>"", line 35, in template_3641
  File ""<3641>"", line 24, in template_3641_content                                                                              
  File ""<3643>"", line 287, in template_3643                                                                                     
  File ""<3643>"", line 85, in template_3643_content                                                                              
  File ""<3645>"", line 586, in template_3645                                                                                     
odoo.addons.base.models.ir_qweb.QWebException: Error while render the template
ValueError: Expected singleton: account.move()       
Template: l10n_es_edi_tbai.template_invoice_factura                                                                             
Path: /t/CabeceraFactura/t[3]/FacturasRectificadasSustituidas/IDFacturaRectificadaSustituida/SerieFactura
Node: <SerieFactura t-out=""seq_and_num[0]""/>                                                                                                                                
2025-01-20 11:41:09,903 28 INFO odoo werkzeug: 89.7.25.15 - - [20/Jan/2025 11:41:09] ""GET /web/content/account.edi.document/55111/edi_content HTTP/1.1"" 500 - 49 0.083 0.049
```

</details>

Desired behavior after PR is merged:
All invoices for TicketBAI work the same.



---
I confirm I have signed the CLA and read the PR guidelines at www.odoo.com/submit-pr
@RicGR98 @moduon MT-4966 @gelojr",yajo,2025-01-20 12:07:17+00:00,[],2025-01-28 15:37:19+00:00,2025-01-28 15:37:19+00:00,https://github.com/odoo/odoo/pull/194361,"[('Localization', 'about adapting the content to a specify country (usually chart of accounts)')]","[{'comment_id': 2602251655, 'issue_id': 2799091164, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/194361.png)](https://mergebot.odoo.com/odoo/odoo/pull/194361)', 'created_at': datetime.datetime(2025, 1, 20, 12, 7, 20, tzinfo=datetime.timezone.utc)}, {'comment_id': 2607142160, 'issue_id': 2799091164, 'author': 'yajo', 'body': 'For some reason this was not still working. Well, I found the issue. There was a bug in https://github.com/odoo/odoo/pull/194130 where I used the `<attribute value=""...""/>` instead of `<attribute>...</attribute>`. The effect was that the new view was not doing what it seemed that it was doing.\r\n\r\nI fixed that in the old and new views, and this is working now.', 'created_at': datetime.datetime(2025, 1, 22, 12, 39, tzinfo=datetime.timezone.utc)}, {'comment_id': 2607148445, 'issue_id': 2799091164, 'author': 'yajo', 'body': ""Oops, now it renders, but there's yet another failure. Hold on."", 'created_at': datetime.datetime(2025, 1, 22, 12, 42, 2, tzinfo=datetime.timezone.utc)}, {'comment_id': 2607185867, 'issue_id': 2799091164, 'author': 'yajo', 'body': ""That syntax error was hiding another problem: extra refunds were not taken into consideration when checking chain integrity. Thus, refunds made this way could never be pushed to TicketBai/Batuz because Odoo failed that prior validation. That's fixed here too now."", 'created_at': datetime.datetime(2025, 1, 22, 12, 59, 32, tzinfo=datetime.timezone.utc)}, {'comment_id': 2609685936, 'issue_id': 2799091164, 'author': 'yajo', 'body': ""Hello! Thanks for your patience.\r\n\r\nI was hitting a weird problem with vendor credit notes, and was trying to fix it here. However I realized that's a different issue and it's already happening, so I opened OPW-4509823 for that issue.\r\n\r\nThat way, this PR is more scoped.\r\n\r\nThis should be ready to merge. We tested it in production and it's giving good results."", 'created_at': datetime.datetime(2025, 1, 23, 12, 28, 25, tzinfo=datetime.timezone.utc)}, {'comment_id': 2618711636, 'issue_id': 2799091164, 'author': 'yajo', 'body': 'Pushed translation updates.', 'created_at': datetime.datetime(2025, 1, 28, 11, 19, 32, tzinfo=datetime.timezone.utc)}, {'comment_id': 2618991905, 'issue_id': 2799091164, 'author': 'robodoo', 'body': '@Yajo @RicGR98 staging failed: ci/runbot on 0a606811a782b7cfaf8525001ebfc8fdb4fd679d (view more at https://runbot.odoo.com/runbot/build/74080518)', 'created_at': datetime.datetime(2025, 1, 28, 13, 25, 20, tzinfo=datetime.timezone.utc)}, {'comment_id': 2619036009, 'issue_id': 2799091164, 'author': 'RicGR98', 'body': '@robodoo retry', 'created_at': datetime.datetime(2025, 1, 28, 13, 39, 44, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-20 12:07:20 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/194361.png)](https://mergebot.odoo.com/odoo/odoo/pull/194361)

yajo (Issue Creator) on (2025-01-22 12:39:00 UTC): For some reason this was not still working. Well, I found the issue. There was a bug in https://github.com/odoo/odoo/pull/194130 where I used the `<attribute value=""...""/>` instead of `<attribute>...</attribute>`. The effect was that the new view was not doing what it seemed that it was doing.

I fixed that in the old and new views, and this is working now.

yajo (Issue Creator) on (2025-01-22 12:42:02 UTC): Oops, now it renders, but there's yet another failure. Hold on.

yajo (Issue Creator) on (2025-01-22 12:59:32 UTC): That syntax error was hiding another problem: extra refunds were not taken into consideration when checking chain integrity. Thus, refunds made this way could never be pushed to TicketBai/Batuz because Odoo failed that prior validation. That's fixed here too now.

yajo (Issue Creator) on (2025-01-23 12:28:25 UTC): Hello! Thanks for your patience.

I was hitting a weird problem with vendor credit notes, and was trying to fix it here. However I realized that's a different issue and it's already happening, so I opened OPW-4509823 for that issue.

That way, this PR is more scoped.

This should be ready to merge. We tested it in production and it's giving good results.

yajo (Issue Creator) on (2025-01-28 11:19:32 UTC): Pushed translation updates.

robodoo on (2025-01-28 13:25:20 UTC): @Yajo @RicGR98 staging failed: ci/runbot on 0a606811a782b7cfaf8525001ebfc8fdb4fd679d (view more at https://runbot.odoo.com/runbot/build/74080518)

RicGR98 on (2025-01-28 13:39:44 UTC): @robodoo retry

"
2799088769,pull_request,open,,[FIX] event_sale: failed payment on soldout events,"versions 16, 17, 18 and master. Indeed from v17, the attendees are registered by default with no need of flag.

When there's a quotation for events registrations and the seats are limited, if the customer pays the quoutation the payment will fail when the quoutation gets confirmed.

With this change we prevent the customer from paying that event that is soldout.

Steps to reproduce:

- Limit the seats for a given event.
- Set autoconfirmation on
- Create a quotation for a ticket in that event.
- Use the customer preview link to go to the portal view.
- Pay the quotation (i.e. with demo payment method)
- The confirmation crashes as there aren't seats available.

This is an issue as well as the payment is already fulfilled at bank level, but as the system crashes the callback isn't confirmed at Odoo.

cc @Tecnativa @pedrobaeza TT54556



---
I confirm I have signed the CLA and read the PR guidelines at www.odoo.com/submit-pr
",chienandalu,2025-01-20 12:06:25+00:00,[],2025-01-23 12:54:51+00:00,,https://github.com/odoo/odoo/pull/194360,"[('Marketing', 'CRM, mail, event, livechat, mass mailing, online appointments, ...')]","[{'comment_id': 2602249890, 'issue_id': 2799088769, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/194360.png)](https://mergebot.odoo.com/odoo/odoo/pull/194360)', 'created_at': datetime.datetime(2025, 1, 20, 12, 6, 28, tzinfo=datetime.timezone.utc)}, {'comment_id': 2602925610, 'issue_id': 2799088769, 'author': 'pedrobaeza', 'body': '@Feyensv are you in charge of this part?', 'created_at': datetime.datetime(2025, 1, 20, 17, 10, 59, tzinfo=datetime.timezone.utc)}, {'comment_id': 2609659338, 'issue_id': 2799088769, 'author': 'Feyensv', 'body': ""It falls under the team led by TDE, which has been assigned as codeowner, they'll take a look (not sure they'll want to change that in stable though)."", 'created_at': datetime.datetime(2025, 1, 23, 12, 14, 52, tzinfo=datetime.timezone.utc)}, {'comment_id': 2609712903, 'issue_id': 2799088769, 'author': 'Feyensv', 'body': ""> In general you can just ping the assigned team (as if it were a user) and we'll have a look.\r\n\r\n@reth-odoo As far as I know, community people do not see internal Odoo teams and cannot ping/assign/... them either"", 'created_at': datetime.datetime(2025, 1, 23, 12, 41, 48, tzinfo=datetime.timezone.utc)}, {'comment_id': 2609730598, 'issue_id': 2799088769, 'author': 'reth-odoo', 'body': '@Feyensv ooh, unfortunate. Thanks for the info. (indeed I just checked in incognito)', 'created_at': datetime.datetime(2025, 1, 23, 12, 50, 27, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-20 12:06:28 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/194360.png)](https://mergebot.odoo.com/odoo/odoo/pull/194360)

pedrobaeza on (2025-01-20 17:10:59 UTC): @Feyensv are you in charge of this part?

Feyensv on (2025-01-23 12:14:52 UTC): It falls under the team led by TDE, which has been assigned as codeowner, they'll take a look (not sure they'll want to change that in stable though).

Feyensv on (2025-01-23 12:41:48 UTC): @reth-odoo As far as I know, community people do not see internal Odoo teams and cannot ping/assign/... them either

reth-odoo on (2025-01-23 12:50:27 UTC): @Feyensv ooh, unfortunate. Thanks for the info. (indeed I just checked in incognito)

"
2799085472,pull_request,closed,,[FIX] web_tour: restore tour_automatic unit tests,"In [1], we commented out the tour_automatic unit test file in the
manifest to merge this PR as soon as possible. In this commit,
we uncomment this file.
The solution is to not patch browser.console because it can cause big
problems in the Hoot unit test engine.",pipu-odoo,2025-01-20 12:05:01+00:00,[],2025-01-29 15:25:42+00:00,2025-01-29 15:25:42+00:00,https://github.com/odoo/odoo/pull/194359,"[('RD', 'research & development, internal work')]","[{'comment_id': 2602247016, 'issue_id': 2799085472, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/194359.png)](https://mergebot.odoo.com/odoo/odoo/pull/194359)', 'created_at': datetime.datetime(2025, 1, 20, 12, 5, 3, tzinfo=datetime.timezone.utc)}, {'comment_id': 2619008561, 'issue_id': 2799085472, 'author': 'robodoo', 'body': 'Merge method set to rebase and fast-forward.', 'created_at': datetime.datetime(2025, 1, 28, 13, 32, 10, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-20 12:05:03 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/194359.png)](https://mergebot.odoo.com/odoo/odoo/pull/194359)

robodoo on (2025-01-28 13:32:10 UTC): Merge method set to rebase and fast-forward.

"
2799083996,pull_request,closed,,[FIX] accounting: Setting reconcile false for Bank and Cash type accounts explicitly.,"Behavior Before the Commit:
Whenever you change the account type of a Cash and Bank account to a different type,
please ensure that the Reconcile option is set to True. However, if you later switch
the account type back to Cash and Bank, the Reconcile option will remain True and
will not automatically revert to False.
    
Fix: explicitly set reconcile to False for account_type 'Cash and Bank' in compute_reconcile
method.

Behavior After the commit:
Reconcile will be changed to false on changing the account type to Cash and Bank.

opw-4450088: https://www.odoo.com/odoo/my-support-tasks/4450088
---
I confirm I have signed the CLA and read the PR guidelines at www.odoo.com/submit-pr
",arih-odoo,2025-01-20 12:04:24+00:00,[],2025-02-06 16:48:17+00:00,2025-02-06 16:48:17+00:00,https://github.com/odoo/odoo/pull/194358,"[('OE', 'the report is linked to a support ticket (opw-...)')]","[{'comment_id': 2602245999, 'issue_id': 2799083996, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/194358.png)](https://mergebot.odoo.com/odoo/odoo/pull/194358)', 'created_at': datetime.datetime(2025, 1, 20, 12, 4, 34, tzinfo=datetime.timezone.utc)}, {'comment_id': 2609796691, 'issue_id': 2799083996, 'author': 'ThomasBeckers', 'body': 'Hey @h4818 :wave: could you take a look at this ? Would be nice to have it fixed this week.\r\nHaving bank account as reconcilable is causing issue during bank reconciliation :/', 'created_at': datetime.datetime(2025, 1, 23, 13, 22, 1, tzinfo=datetime.timezone.utc)}, {'comment_id': 2610428469, 'issue_id': 2799083996, 'author': 'antoine162', 'body': ""> Seems ok to me, just a small nitpick, but I think @antoine162 's intention was to avoid changing this field when it could be avoided... Why do we have special treatment for these account types? Though I agree that asset_cash should never be reconcilable.\r\n\r\nI just wanted to keep it from being recomputed for account types that can sometimes be reconcilable or not, but yeah in this case I think it would make more sense to force `reconcile=False` for `asset_cash`. Thanks for pinging me! :smile:"", 'created_at': datetime.datetime(2025, 1, 23, 17, 1, 11, tzinfo=datetime.timezone.utc)}, {'comment_id': 2640068193, 'issue_id': 2799083996, 'author': 'h4818', 'body': '@robodoo r+', 'created_at': datetime.datetime(2025, 2, 6, 15, 0, 15, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-20 12:04:34 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/194358.png)](https://mergebot.odoo.com/odoo/odoo/pull/194358)

ThomasBeckers on (2025-01-23 13:22:01 UTC): Hey @h4818 :wave: could you take a look at this ? Would be nice to have it fixed this week.
Having bank account as reconcilable is causing issue during bank reconciliation :/

antoine162 on (2025-01-23 17:01:11 UTC): I just wanted to keep it from being recomputed for account types that can sometimes be reconcilable or not, but yeah in this case I think it would make more sense to force `reconcile=False` for `asset_cash`. Thanks for pinging me! :smile:

h4818 on (2025-02-06 15:00:15 UTC): @robodoo r+

"
2799068976,pull_request,closed,,[FIX] mail: livechat from visitor stays open in mobile,"Before this commit, when using livechat by visitor in mobile, any page reload would remove access to the livechat.

Steps to reproduce:
- access to website with livechat installed on mobile
- click on livechat button (bubble icon in bottom right)
- send a message
- reload the page

=> the livechat is not open, not even as a chat bubble.

This prevents visitor from access the livechat again, except if user finds a workaround to open the same page in non-mobile mode (e.g. landscape mode or disabling high-dpi).

This happens because livechat relies on discuss chat hub, and there's some code to prevent server-side synchronisation of chat windows and bubbles in mobile. As a reminder, conversation in mobile are shown as fullscreen chat windows.
This code was preventing the opening of chat window on livechat for visitor, leading to prevention of continuing to live chat on the device.

This commit fixes by adding fold action to chat windows in mobile, thus allowing to have chat bubbles in mobile. This fixes allow to show chat windows as bubbles to livechat visitors, which is the primary fix of these changes.

opw-4423556
opw-4488830

18.0 version: https://github.com/odoo/odoo/pull/194363",alexkuhn,2025-01-20 11:57:47+00:00,[],2025-01-24 16:24:29+00:00,2025-01-24 15:33:31+00:00,https://github.com/odoo/odoo/pull/194356,"[('OE', 'the report is linked to a support ticket (opw-...)')]","[{'comment_id': 2602231626, 'issue_id': 2799068976, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/194356.png)](https://mergebot.odoo.com/odoo/odoo/pull/194356)', 'created_at': datetime.datetime(2025, 1, 20, 11, 57, 50, tzinfo=datetime.timezone.utc)}, {'comment_id': 2604992807, 'issue_id': 2799068976, 'author': 'alexkuhn', 'body': '@seb-odoo changes done', 'created_at': datetime.datetime(2025, 1, 21, 15, 8, 48, tzinfo=datetime.timezone.utc)}, {'comment_id': 2605400926, 'issue_id': 2799068976, 'author': 'robodoo', 'body': ""@alexkuhn @seb-odoo 'ci/runbot' failed on this reviewed PR."", 'created_at': datetime.datetime(2025, 1, 21, 17, 58, 33, tzinfo=datetime.timezone.utc)}, {'comment_id': 2608201422, 'issue_id': 2799068976, 'author': 'alexkuhn', 'body': ""With current changes, `open_chat_window: True` opens chat window in desktop, while it's chat bubble in mobile.\r\nCannot preserve chat hub local state due to spaghetti code in livechat_service, which can only be solved after huge code cleaning https://github.com/odoo/odoo/pull/194399\r\n\r\nIn the meantime, need to make a consistent decision regardless of chathub state. The mobile behavior feels good. The desktop one, I think this is not good to open chat window: any page reload and website navigation makes the livechat bothering.\r\n\r\nI would suggest to also force put in chat bubble. Sure there's argument that it could be annoying to re-open by hand everytime there's a page reload or new page is loaded, but considering the very limited options now, always folded is much better than always open chat window."", 'created_at': datetime.datetime(2025, 1, 22, 20, 29, 15, tzinfo=datetime.timezone.utc)}, {'comment_id': 2609482176, 'issue_id': 2799068976, 'author': 'seb-odoo', 'body': ""`open_chat_window` should be poped out of data before saving in livechat storage, as it is meant to be transactional only.\r\n\r\nEither pop in JS, or don't add the field in python and manually open chat window in get session flow instead."", 'created_at': datetime.datetime(2025, 1, 23, 10, 48, 15, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-20 11:57:50 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/194356.png)](https://mergebot.odoo.com/odoo/odoo/pull/194356)

alexkuhn (Issue Creator) on (2025-01-21 15:08:48 UTC): @seb-odoo changes done

robodoo on (2025-01-21 17:58:33 UTC): @alexkuhn @seb-odoo 'ci/runbot' failed on this reviewed PR.

alexkuhn (Issue Creator) on (2025-01-22 20:29:15 UTC): With current changes, `open_chat_window: True` opens chat window in desktop, while it's chat bubble in mobile.
Cannot preserve chat hub local state due to spaghetti code in livechat_service, which can only be solved after huge code cleaning https://github.com/odoo/odoo/pull/194399

In the meantime, need to make a consistent decision regardless of chathub state. The mobile behavior feels good. The desktop one, I think this is not good to open chat window: any page reload and website navigation makes the livechat bothering.

I would suggest to also force put in chat bubble. Sure there's argument that it could be annoying to re-open by hand everytime there's a page reload or new page is loaded, but considering the very limited options now, always folded is much better than always open chat window.

seb-odoo on (2025-01-23 10:48:15 UTC): `open_chat_window` should be poped out of data before saving in livechat storage, as it is meant to be transactional only.

Either pop in JS, or don't add the field in python and manually open chat window in get session flow instead.

"
2799050748,pull_request,closed,,[IMP] account: account analytic plans,"This commit allows the user to put multiple accounts prefix on a single analytic plan line.

So, if the user want to add the accounts 51000, 61000 and 71000, he can now add this: 51, 61, 71 in the same line.

task-4294662",igbe-odoo,2025-01-20 11:49:23+00:00,[],2025-01-29 18:21:52+00:00,2025-01-29 18:21:52+00:00,https://github.com/odoo/odoo/pull/194355,"[('RD', 'research & development, internal work')]","[{'comment_id': 2602214295, 'issue_id': 2799050748, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/194355.png)](https://mergebot.odoo.com/odoo/odoo/pull/194355)', 'created_at': datetime.datetime(2025, 1, 20, 11, 49, 26, tzinfo=datetime.timezone.utc)}, {'comment_id': 2621699383, 'issue_id': 2799050748, 'author': 'william-andre', 'body': 'There might have been some confusion with the commits, I would have wanted\r\n* one commit for the fix regarding the split on `,`/`;` + the test\r\n* one commit for the placeholder', 'created_at': datetime.datetime(2025, 1, 29, 13, 47, 46, tzinfo=datetime.timezone.utc)}, {'comment_id': 2621725249, 'issue_id': 2799050748, 'author': 'igbe-odoo', 'body': ""Aren't they both improvements? I mean the placeholder wouldn't make sense without the multiple prefix feature, so why should they belong to different commits? :thinking:"", 'created_at': datetime.datetime(2025, 1, 29, 13, 56, 5, tzinfo=datetime.timezone.utc)}, {'comment_id': 2621837236, 'issue_id': 2799050748, 'author': 'robodoo', 'body': '@william-andre you may want to rebuild or fix this PR as it has failed CI.', 'created_at': datetime.datetime(2025, 1, 29, 14, 38, 32, tzinfo=datetime.timezone.utc)}, {'comment_id': 2621837264, 'issue_id': 2799050748, 'author': 'robodoo', 'body': '@igbe-odoo @william-andre because this PR has multiple commits, I need to know how to merge it:\n\n* `merge` to merge directly, using the PR as merge commit message\n* `rebase-merge` to rebase and merge, using the PR as merge commit message\n* `rebase-ff` to rebase and fast-forward', 'created_at': datetime.datetime(2025, 1, 29, 14, 38, 32, tzinfo=datetime.timezone.utc)}, {'comment_id': 2621839025, 'issue_id': 2799050748, 'author': 'william-andre', 'body': '@robodoo rebase-ff', 'created_at': datetime.datetime(2025, 1, 29, 14, 39, 14, tzinfo=datetime.timezone.utc)}, {'comment_id': 2621839129, 'issue_id': 2799050748, 'author': 'robodoo', 'body': 'Merge method set to rebase and fast-forward.', 'created_at': datetime.datetime(2025, 1, 29, 14, 39, 17, tzinfo=datetime.timezone.utc)}, {'comment_id': 2621872954, 'issue_id': 2799050748, 'author': 'Williambraecky', 'body': 'Upgrade exception [#488](https://runbot.odoo.com/odoo/runbot.upgrade.exception/488?menu_id=405) added.\r\n\r\nWaiting the forward-port of this pr, the exception will be applied on all builds, and create an inconsistent state for migrations.\r\n**Please forward port this asap up to master without change.** Exception should be forward-ported before the end of the week.\r\n\r\nPRs adding fields/models should be merged at the beginning of the week and all the forward ports should be merged in the same week.\r\n\r\nIf you need to apply any change before it reaches master, please notify runbot team.\r\n\r\nDetails:\r\n```\r\nfield:account.analytic.applicability.account_prefix_placeholder\r\n```\r\ncc @KangOl @nseinlet @aj-fuentes', 'created_at': datetime.datetime(2025, 1, 29, 14, 51, 51, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-20 11:49:26 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/194355.png)](https://mergebot.odoo.com/odoo/odoo/pull/194355)

william-andre on (2025-01-29 13:47:46 UTC): There might have been some confusion with the commits, I would have wanted
* one commit for the fix regarding the split on `,`/`;` + the test
* one commit for the placeholder

igbe-odoo (Issue Creator) on (2025-01-29 13:56:05 UTC): Aren't they both improvements? I mean the placeholder wouldn't make sense without the multiple prefix feature, so why should they belong to different commits? :thinking:

robodoo on (2025-01-29 14:38:32 UTC): @william-andre you may want to rebuild or fix this PR as it has failed CI.

robodoo on (2025-01-29 14:38:32 UTC): @igbe-odoo @william-andre because this PR has multiple commits, I need to know how to merge it:

* `merge` to merge directly, using the PR as merge commit message
* `rebase-merge` to rebase and merge, using the PR as merge commit message
* `rebase-ff` to rebase and fast-forward

william-andre on (2025-01-29 14:39:14 UTC): @robodoo rebase-ff

robodoo on (2025-01-29 14:39:17 UTC): Merge method set to rebase and fast-forward.

Williambraecky on (2025-01-29 14:51:51 UTC): Upgrade exception [#488](https://runbot.odoo.com/odoo/runbot.upgrade.exception/488?menu_id=405) added.

Waiting the forward-port of this pr, the exception will be applied on all builds, and create an inconsistent state for migrations.
**Please forward port this asap up to master without change.** Exception should be forward-ported before the end of the week.

PRs adding fields/models should be merged at the beginning of the week and all the forward ports should be merged in the same week.

If you need to apply any change before it reaches master, please notify runbot team.

Details:
```
field:account.analytic.applicability.account_prefix_placeholder
```
cc @KangOl @nseinlet @aj-fuentes

"
2799048929,pull_request,closed,,[FW][IMP] event: clarify the Timezone field name and tooltips,"### Issue:

The current descriptions and naming of the `Date` fields (`date_begin`, `date_end`) and the `Timezone` field (`date_tz`) can be confusing in the form view of the event model. Specifically:

The timezone used for converting the form dates to the database is determined by the context and not by the `Timezone` field present on the form. However, this `Timezone` field determines the timezone used for displaying the event's date/time on the website. This change tries to clarify the situation.

opw-4323142
---
I confirm I have signed the CLA and read the PR guidelines at www.odoo.com/submit-pr

Forward-Port-Of: odoo/odoo#193587
Forward-Port-Of: odoo/odoo#190867",fw-bot,2025-01-20 11:48:30+00:00,[],2025-02-06 09:00:32+00:00,2025-01-23 08:44:01+00:00,https://github.com/odoo/odoo/pull/194354,"[('OE', 'the report is linked to a support ticket (opw-...)'), ('forwardport', 'This PR was created by @fw-bot')]","[{'comment_id': 2602212613, 'issue_id': 2799048929, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/194354.png)](https://mergebot.odoo.com/odoo/odoo/pull/194354)', 'created_at': datetime.datetime(2025, 1, 20, 11, 48, 32, tzinfo=datetime.timezone.utc)}, {'comment_id': 2602212663, 'issue_id': 2799048929, 'author': 'fw-bot', 'body': 'This PR targets 18.0 and is part of the forward-port chain. Further PRs will be created up to master.\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 20, 11, 48, 34, tzinfo=datetime.timezone.utc)}, {'comment_id': 2602316717, 'issue_id': 2799048929, 'author': 'fw-bot', 'body': '@lase-odoo @jeh-odoo ci/template failed on this forward-port PR', 'created_at': datetime.datetime(2025, 1, 20, 12, 36, 14, tzinfo=datetime.timezone.utc)}, {'comment_id': 2603476707, 'issue_id': 2799048929, 'author': 'fw-bot', 'body': '@lase-odoo @jeh-odoo this forward port of odoo/odoo#190867 is awaiting action (not merged or closed).', 'created_at': datetime.datetime(2025, 1, 21, 2, 1, 54, tzinfo=datetime.timezone.utc)}, {'comment_id': 2606119917, 'issue_id': 2799048929, 'author': 'fw-bot', 'body': '@lase-odoo @jeh-odoo this forward port of odoo/odoo#190867 is awaiting action (not merged or closed).', 'created_at': datetime.datetime(2025, 1, 22, 2, 2, tzinfo=datetime.timezone.utc)}, {'comment_id': 2607187446, 'issue_id': 2799048929, 'author': 'robodoo', 'body': '@lase-odoo @jeh-odoo linked pull request(s) odoo/documentation#11790 not ready. Linked PRs are not staged until all of them are ready.', 'created_at': datetime.datetime(2025, 1, 22, 13, 0, 19, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-20 11:48:32 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/194354.png)](https://mergebot.odoo.com/odoo/odoo/pull/194354)

fw-bot (Issue Creator) on (2025-01-20 11:48:34 UTC): This PR targets 18.0 and is part of the forward-port chain. Further PRs will be created up to master.

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

fw-bot (Issue Creator) on (2025-01-20 12:36:14 UTC): @lase-odoo @jeh-odoo ci/template failed on this forward-port PR

fw-bot (Issue Creator) on (2025-01-21 02:01:54 UTC): @lase-odoo @jeh-odoo this forward port of odoo/odoo#190867 is awaiting action (not merged or closed).

fw-bot (Issue Creator) on (2025-01-22 02:02:00 UTC): @lase-odoo @jeh-odoo this forward port of odoo/odoo#190867 is awaiting action (not merged or closed).

robodoo on (2025-01-22 13:00:19 UTC): @lase-odoo @jeh-odoo linked pull request(s) odoo/documentation#11790 not ready. Linked PRs are not staged until all of them are ready.

"
2799028180,pull_request,closed,,[FIX] spreadsheet: don't let chartjs bundle be overwritten,"Description of the issue/feature this PR addresses:

Current behavior before PR:

Desired behavior after PR is merged:




---
I confirm I have signed the CLA and read the PR guidelines at www.odoo.com/submit-pr
",LucasLefevre,2025-01-20 11:38:43+00:00,[],2025-01-21 11:48:05+00:00,2025-01-21 11:48:01+00:00,https://github.com/odoo/odoo/pull/194353,"[('RD', 'research & development, internal work')]","[{'comment_id': 2602193021, 'issue_id': 2799028180, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/194353.png)](https://mergebot.odoo.com/odoo/odoo/pull/194353)', 'created_at': datetime.datetime(2025, 1, 20, 11, 38, 46, tzinfo=datetime.timezone.utc)}, {'comment_id': 2604505954, 'issue_id': 2799028180, 'author': 'LucasLefevre', 'body': 'included in https://github.com/odoo/odoo/pull/194304', 'created_at': datetime.datetime(2025, 1, 21, 11, 48, 1, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-20 11:38:46 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/194353.png)](https://mergebot.odoo.com/odoo/odoo/pull/194353)

LucasLefevre (Issue Creator) on (2025-01-21 11:48:01 UTC): included in https://github.com/odoo/odoo/pull/194304

"
2798975249,pull_request,closed,,[FIX] account_peppol: Fix the messaged displayed on Peppol error,"When an error occurs on IAP side for Peppol we display the content of `message` while we have a more friendly-user text stored in `display_message`. Use the latter when logging in Odoo.

See: https://github.com/odoo/iap-apps/blob/5dde71627dfd6c6168935346bece0018d4701ce3/iap_services/peppol_proxy/exceptions.py#L14
task-no
",clbr-odoo,2025-01-20 11:16:38+00:00,['clbr-odoo'],2025-02-03 19:00:23+00:00,2025-01-20 18:40:25+00:00,https://github.com/odoo/odoo/pull/194352,"[('RD', 'research & development, internal work')]","[{'comment_id': 2602145499, 'issue_id': 2798975249, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/194352.png)](https://mergebot.odoo.com/odoo/odoo/pull/194352)', 'created_at': datetime.datetime(2025, 1, 20, 11, 16, 41, tzinfo=datetime.timezone.utc)}, {'comment_id': 2602827497, 'issue_id': 2798975249, 'author': 'robodoo', 'body': '@clbr-odoo @antoine162 staging failed: ci/runbot on beecb573e42ea3c86905a66b57f5e91becaedf01 (view more at https://runbot.odoo.com/runbot/build/73653284)', 'created_at': datetime.datetime(2025, 1, 20, 16, 21, 16, tzinfo=datetime.timezone.utc)}, {'comment_id': 2602862283, 'issue_id': 2798975249, 'author': 'antoine162', 'body': '@robodoo retry', 'created_at': datetime.datetime(2025, 1, 20, 16, 38, 23, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-20 11:16:41 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/194352.png)](https://mergebot.odoo.com/odoo/odoo/pull/194352)

robodoo on (2025-01-20 16:21:16 UTC): @clbr-odoo @antoine162 staging failed: ci/runbot on beecb573e42ea3c86905a66b57f5e91becaedf01 (view more at https://runbot.odoo.com/runbot/build/73653284)

antoine162 on (2025-01-20 16:38:23 UTC): @robodoo retry

"
2798973933,pull_request,closed,,"[FW][FIX] repair,sale_stock,stock_account: repair with auto FIFO component","When using an auto fifo product as part of the repair, the COGS
won't be based on the used product

To reproduce the issue:
1. Setup auto fifo product
2. Receive 1@10 and 1@20
3. Process a RO:
   - Invoice method: After repair
   - Parts:
     - Add 1 x fifo product
4. Create and post the invoice
5. Open its journal items

Error: Cogs are $20 instead of $10

When posting the invoice, we generate the COGS:
https://github.com/odoo/odoo/blob/4df156164cf1d2764ba23682beee588777457fd6/addons/stock_account/models/account_move.py#L47-L48
We therefore compute the ""anglo saxon unit price"":
https://github.com/odoo/odoo/blob/4df156164cf1d2764ba23682beee588777457fd6/addons/stock_account/models/account_move.py#L133
However, there isn't any override to handle the RO case, so it leads
to the default mechanism, i.e. the standard price of the product:
https://github.com/odoo/odoo/blob/4df156164cf1d2764ba23682beee588777457fd6/addons/stock_account/models/account_move.py#L294-L295
https://github.com/odoo/odoo/blob/4df156164cf1d2764ba23682beee588777457fd6/addons/stock_account/models/account_move.py#L294-L295
https://github.com/odoo/odoo/blob/7cd7563f6708331bb6baf0e06d07a9f9ee329e38/addons/stock_account/models/product.py#L753-L757

And, since the first product is out, its standard price is now based
on the next candidate: $20

About the `sudo`: an accountman has not any access to `repair`, so
posting such an invoice would raise an error. Since this diff is
specific to Odoo 16, the idea is not to impact any security rules
and rather minimize the changes.

Note: Indeed, `repair` does not depend on `stock_account`, so this
commit could lead to a traceback if the bridge is removed. I delegate
this issue to the error of dependencies. Anyway, removing the bridge
would lead to other bugs. Hopefully, this has been fixed on master [1].

[1] https://github.com/odoo/odoo/commit/f7dbdec11b74f8c7d969763d8c5cf09542a47f86

OPW-4166570

Forward-Port-Of: odoo/odoo#193826
Forward-Port-Of: odoo/odoo#193076",fw-bot,2025-01-20 11:16:01+00:00,[],2025-02-04 15:54:02+00:00,2025-01-21 15:37:58+00:00,https://github.com/odoo/odoo/pull/194351,"[('OE', 'the report is linked to a support ticket (opw-...)'), ('forwardport', 'This PR was created by @fw-bot')]","[{'comment_id': 2602144139, 'issue_id': 2798973933, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/194351.png)](https://mergebot.odoo.com/odoo/odoo/pull/194351)', 'created_at': datetime.datetime(2025, 1, 20, 11, 16, 3, tzinfo=datetime.timezone.utc)}, {'comment_id': 2602144168, 'issue_id': 2798973933, 'author': 'fw-bot', 'body': 'This PR targets saas-18.1 and is part of the forward-port chain. Further PRs will be created up to master.\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 20, 11, 16, 3, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-20 11:16:03 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/194351.png)](https://mergebot.odoo.com/odoo/odoo/pull/194351)

fw-bot (Issue Creator) on (2025-01-20 11:16:03 UTC): This PR targets saas-18.1 and is part of the forward-port chain. Further PRs will be created up to master.

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

"
2798967848,pull_request,closed,,[FW][FIX] stock: make the table take the whole width,"Commit 239e75b1385fa0 removes `colspan=""2""` to guess it from the `nolabel` attribute. This is not working because of the `string=` attribute in the `group` tag that makes the DOM having two elements instead of only one. The rule in

https://github.com/odoo/odoo/blob/0ba664bace1e6bbb256bd98570866df19d35f401/addons/web/static/src/views/form/form_controller.scss#L474

is not applied.

Description of the issue/feature this PR addresses:

Current behavior before PR:

Desired behavior after PR is merged:




---
I confirm I have signed the CLA and read the PR guidelines at www.odoo.com/submit-pr

Forward-Port-Of: odoo/odoo#194169",fw-bot,2025-01-20 11:13:20+00:00,[],2025-02-03 16:25:52+00:00,2025-01-20 16:24:02+00:00,https://github.com/odoo/odoo/pull/194350,"[('RD', 'research & development, internal work'), ('forwardport', 'This PR was created by @fw-bot')]","[{'comment_id': 2602138608, 'issue_id': 2798967848, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/194350.png)](https://mergebot.odoo.com/odoo/odoo/pull/194350)', 'created_at': datetime.datetime(2025, 1, 20, 11, 13, 37, tzinfo=datetime.timezone.utc)}, {'comment_id': 2602138631, 'issue_id': 2798967848, 'author': 'fw-bot', 'body': 'This PR targets saas-18.1 and is part of the forward-port chain. Further PRs will be created up to master.\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 20, 11, 13, 37, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-20 11:13:37 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/194350.png)](https://mergebot.odoo.com/odoo/odoo/pull/194350)

fw-bot (Issue Creator) on (2025-01-20 11:13:37 UTC): This PR targets saas-18.1 and is part of the forward-port chain. Further PRs will be created up to master.

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

"
2798958002,pull_request,open,,[IMP] sms: cron notify progress,"Use notify progress API and handle transactions properly.


---
I confirm I have signed the CLA and read the PR guidelines at www.odoo.com/submit-pr
",kmagusiak,2025-01-20 11:09:17+00:00,[],2025-01-20 12:00:22+00:00,,https://github.com/odoo/odoo/pull/194349,"[('RD', 'research & development, internal work')]","[{'comment_id': 2602128905, 'issue_id': 2798958002, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/194349.png)](https://mergebot.odoo.com/odoo/odoo/pull/194349)', 'created_at': datetime.datetime(2025, 1, 20, 11, 9, 20, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-20 11:09:20 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/194349.png)](https://mergebot.odoo.com/odoo/odoo/pull/194349)

"
2798942875,pull_request,open,,[POC] new dynmaic selection widget,"Description of the issue/feature this PR addresses:

Current behavior before PR:

Desired behavior after PR is merged:




---
I confirm I have signed the CLA and read the PR guidelines at www.odoo.com/submit-pr
",kebeclibre,2025-01-20 11:02:52+00:00,[],2025-01-23 10:21:44+00:00,,https://github.com/odoo/odoo/pull/194348,"[('RD', 'research & development, internal work')]","[{'comment_id': 2602113995, 'issue_id': 2798942875, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/194348.png)](https://mergebot.odoo.com/odoo/odoo/pull/194348)', 'created_at': datetime.datetime(2025, 1, 20, 11, 2, 55, tzinfo=datetime.timezone.utc)}, {'comment_id': 2603823877, 'issue_id': 2798942875, 'author': 'kebeclibre', 'body': '> Feels hacky. Couldn\'t that be done using a many2one? (with id of type ""str"")\r\n\r\nI don\'t understand . You mean creating another (Transient) model, with the id being a string) ? and having a m2o pointing to it ?', 'created_at': datetime.datetime(2025, 1, 21, 7, 11, 53, tzinfo=datetime.timezone.utc)}, {'comment_id': 2603924807, 'issue_id': 2798942875, 'author': 'kmagusiak', 'body': '> > Feels hacky. Couldn\'t that be done using a many2one? (with id of type ""str"")\r\n> \r\n> I don\'t understand . You mean creating another (Transient) model, with the id being a string) ? and having a m2o pointing to it ?\r\n\r\nYes (does not have to be transient, can be just a readonly view). And just use the default widget.', 'created_at': datetime.datetime(2025, 1, 21, 8, 13, 36, tzinfo=datetime.timezone.utc)}, {'comment_id': 2604124825, 'issue_id': 2798942875, 'author': 'kebeclibre', 'body': '> > > Feels hacky. Couldn\'t that be done using a many2one? (with id of type ""str"")\r\n> > \r\n> > \r\n> > I don\'t understand . You mean creating another (Transient) model, with the id being a string) ? and having a m2o pointing to it ?\r\n> \r\n> Yes (does not have to be transient, can be just a readonly view). And just use the default widget.\r\n\r\nThis doesn\'t seem to be supported, in python or js, is it ?\r\nAlso, it would command to populate the table at some point, and unpopulate when the view change', 'created_at': datetime.datetime(2025, 1, 21, 9, 17, 34, tzinfo=datetime.timezone.utc)}, {'comment_id': 2604194655, 'issue_id': 2798942875, 'author': 'Gorash', 'body': 'I have a bit of trouble understanding this POC.\r\n\r\nWhy, there is ""public_method_selection"". If you want to access all existing actions, a view does not contain them all, it would be all the methods of the model not prefixed with `_`.\r\n\r\nThen parsing the view seems very strange to me, especially since ir.ui.view already does the work, collects all the fields/actions to check if the view is correct (see `must_exist_action`).\r\nSomething like:\r\n```py\r\nname_manager = self.env[\'ir.ui.view\']._postprocess_view(tree, model, **options)\r\nfor action_name, node in name_manager.must_exist_actions.items():\r\n   ...\r\n```\r\n\r\nIf the button is in an accessible view/action, the javascript has all the information in the views it parses, instead of that there could be `options=""{\'selection_view\': xmlid of the view}""`. Or the model, it\'s the same. Like your python method `_get_model_buttons`, that check a view and not really the model `.', 'created_at': datetime.datetime(2025, 1, 21, 9, 47, 24, tzinfo=datetime.timezone.utc)}, {'comment_id': 2604353299, 'issue_id': 2798942875, 'author': 'kebeclibre', 'body': '> I have a bit of trouble understanding this POC.\r\n> \r\n> Why, there is ""public_method_selection"". If you want to access all existing actions, a view does not contain them all, it would be all the methods of the model not prefixed with `_`.\r\n> Then parsing the view seems very strange to me, especially since ir.ui.view already does the work, collects all the fields/actions to check if the view is correct (see `must_exist_action`).\r\n\r\nYes, but the actual executable value is stored in a char field which can be changed outside of the form view\r\nThe validation of methods from the view does one thing more than ir.ui.view: it verifies that the method only has self as arguments, limiting the errors at action\'s runtime and side effects.\r\n\r\n> If the button is in an accessible view/action, the javascript has all the information in the views it parses, instead of that there could be `options=""{\'selection_view\': xmlid of the view}""`. Or the model, it\'s the same. Like your python method `_get_model_buttons`, that check a view and not really the model `.\r\n\r\nNot really: we are in ir.actions, with a model_name which is dynamic. I don\'t know before hand what it is and can be changed.\r\nI could make a computed field which return the form view, but that would be the same, with one more step for the user\r\n\r\nThis POC is just a way for the user to select public methods from the main form view to ease creation of the ir actions server, for simplicity\'s sake, only the main one is taken (I did not want to take all form views to do this). So yes, it is partial, but better than nothing.\r\n\r\nNote that I\'m not a big fan of the spec though', 'created_at': datetime.datetime(2025, 1, 21, 10, 40, 49, tzinfo=datetime.timezone.utc)}, {'comment_id': 2604422080, 'issue_id': 2798942875, 'author': 'kmagusiak', 'body': '> > > > Feels hacky. Couldn\'t that be done using a many2one? (with id of type ""str"")\r\n> > > \r\n> > > \r\n> > > I don\'t understand . You mean creating another (Transient) model, with the id being a string) ? and having a m2o pointing to it ?\r\n> > \r\n> > \r\n> > Yes (does not have to be transient, can be just a readonly view). And just use the default widget.\r\n> \r\n> This doesn\'t seem to be supported, in python or js, is it ? Also, it would command to populate the table at some point, and unpopulate when the view change\r\n\r\nYou define it as all functions: id (which is method name), display_name, model. Use a domain to filter on the model field. And actually, it is explicitly supported to have a str id in python for some operations (read-only) #193227; otherwise, you can always use an id and have an inverse on the field that looks up the method name.', 'created_at': datetime.datetime(2025, 1, 21, 11, 9, 4, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-20 11:02:55 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/194348.png)](https://mergebot.odoo.com/odoo/odoo/pull/194348)

kebeclibre (Issue Creator) on (2025-01-21 07:11:53 UTC): I don't understand . You mean creating another (Transient) model, with the id being a string) ? and having a m2o pointing to it ?

kmagusiak on (2025-01-21 08:13:36 UTC): Yes (does not have to be transient, can be just a readonly view). And just use the default widget.

kebeclibre (Issue Creator) on (2025-01-21 09:17:34 UTC): This doesn't seem to be supported, in python or js, is it ?
Also, it would command to populate the table at some point, and unpopulate when the view change

Gorash on (2025-01-21 09:47:24 UTC): I have a bit of trouble understanding this POC.

Why, there is ""public_method_selection"". If you want to access all existing actions, a view does not contain them all, it would be all the methods of the model not prefixed with `_`.

Then parsing the view seems very strange to me, especially since ir.ui.view already does the work, collects all the fields/actions to check if the view is correct (see `must_exist_action`).
Something like:
```py
name_manager = self.env['ir.ui.view']._postprocess_view(tree, model, **options)
for action_name, node in name_manager.must_exist_actions.items():
   ...
```

If the button is in an accessible view/action, the javascript has all the information in the views it parses, instead of that there could be `options=""{'selection_view': xmlid of the view}""`. Or the model, it's the same. Like your python method `_get_model_buttons`, that check a view and not really the model `.

kebeclibre (Issue Creator) on (2025-01-21 10:40:49 UTC): Yes, but the actual executable value is stored in a char field which can be changed outside of the form view
The validation of methods from the view does one thing more than ir.ui.view: it verifies that the method only has self as arguments, limiting the errors at action's runtime and side effects.


Not really: we are in ir.actions, with a model_name which is dynamic. I don't know before hand what it is and can be changed.
I could make a computed field which return the form view, but that would be the same, with one more step for the user

This POC is just a way for the user to select public methods from the main form view to ease creation of the ir actions server, for simplicity's sake, only the main one is taken (I did not want to take all form views to do this). So yes, it is partial, but better than nothing.

Note that I'm not a big fan of the spec though

kmagusiak on (2025-01-21 11:09:04 UTC): You define it as all functions: id (which is method name), display_name, model. Use a domain to filter on the model field. And actually, it is explicitly supported to have a str id in python for some operations (read-only) #193227; otherwise, you can always use an id and have an inverse on the field that looks up the method name.

"
2798939902,pull_request,open,,[FIX] web: report wave layout logo img background,"Issue: When changing the company logo, if the image contains a white background it will mix with the header's shape color.

This is because the shape is displayed on top of the image. Adding a negative z-index ensures the image is over the shape and doesn't mix with it.

task-4471578


---
I confirm I have signed the CLA and read the PR guidelines at www.odoo.com/submit-pr
",mano-odoo,2025-01-20 11:01:48+00:00,[],2025-01-20 15:05:06+00:00,,https://github.com/odoo/odoo/pull/194347,"[('RD', 'research & development, internal work')]","[{'comment_id': 2602110861, 'issue_id': 2798939902, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/194347.png)](https://mergebot.odoo.com/odoo/odoo/pull/194347)', 'created_at': datetime.datetime(2025, 1, 20, 11, 1, 52, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-20 11:01:52 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/194347.png)](https://mergebot.odoo.com/odoo/odoo/pull/194347)

"
2798900446,pull_request,closed,,Saas 18.1 fix livechat multiple unfollow aku,,alexkuhn,2025-01-20 10:46:32+00:00,[],2025-01-21 10:10:31+00:00,2025-01-21 10:10:28+00:00,https://github.com/odoo/odoo/pull/194345,"[('RD', 'research & development, internal work')]","[{'comment_id': 2602073832, 'issue_id': 2798900446, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/194345.png)](https://mergebot.odoo.com/odoo/odoo/pull/194345)', 'created_at': datetime.datetime(2025, 1, 20, 10, 46, 37, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-20 10:46:37 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/194345.png)](https://mergebot.odoo.com/odoo/odoo/pull/194345)

"
2798890921,pull_request,open,,[IMP] account: manual payment method clean up,"**Before**

[Journals]
- inbound/outbound manual payment lines were generated for all journals

[Pay wizard / Payment form view / Batch payment form] 
- journal could be chosen and was mandatory and would decide what payment method lines were shown

**Now**

[General] 
- only one set of inbound/outbound 'Manual' payment method lines are generated, not linked to any journals

[Pay wizard / Payment form view / Batch payment form] 
- journal field is removed, now all payment method lines available are shown with their corresponding journal
- default payment method chosen is the new 'Manual' payment method line
- field positioning is readjusted

https://github.com/odoo/enterprise/pull/78405
task-4460456",aizu-odoo,2025-01-20 10:42:45+00:00,[],2025-02-07 15:48:13+00:00,,https://github.com/odoo/odoo/pull/194344,"[('RD', 'research & development, internal work')]","[{'comment_id': 2602063787, 'issue_id': 2798890921, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/194344.png)](https://mergebot.odoo.com/odoo/odoo/pull/194344)', 'created_at': datetime.datetime(2025, 1, 20, 10, 42, 48, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-20 10:42:48 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/194344.png)](https://mergebot.odoo.com/odoo/odoo/pull/194344)

"
2798880816,pull_request,closed,,"[IMP] point_of_sale, bus: ensure websocket connection","This commit ensures that the websocket connection is established when receiving a connect or initialized event.

This can happen in multitab use of Odoo.

",davidmonnom,2025-01-20 10:38:36+00:00,[],2025-02-04 10:23:41+00:00,2025-01-21 10:18:28+00:00,https://github.com/odoo/odoo/pull/194343,"[('RD', 'research & development, internal work')]","[{'comment_id': 2602053626, 'issue_id': 2798880816, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/194343.png)](https://mergebot.odoo.com/odoo/odoo/pull/194343)', 'created_at': datetime.datetime(2025, 1, 20, 10, 38, 39, tzinfo=datetime.timezone.utc)}, {'comment_id': 2603854359, 'issue_id': 2798880816, 'author': 'caburj', 'body': 'robodoo r+', 'created_at': datetime.datetime(2025, 1, 21, 7, 31, 54, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-20 10:38:39 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/194343.png)](https://mergebot.odoo.com/odoo/odoo/pull/194343)

caburj on (2025-01-21 07:31:54 UTC): robodoo r+

"
2798815480,pull_request,closed,,[FW][IMP] web: showing module_loader errors,"Before this commit, the module_loader was showing error by empty the DOM and then adding his element with the errors. The issue is, if you have an error because of custom script or after an upgrade, then you were lockout because the DOM with empty and you cannot go fix the script.

After this commit, a shorter message will be shown in the bottom-left of the screen. This message will invite the user to check the devtool to have more details about the error.


---
I confirm I have signed the CLA and read the PR guidelines at www.odoo.com/submit-pr

Forward-Port-Of: odoo/odoo#193912",fw-bot,2025-01-20 10:13:37+00:00,[],2025-02-03 20:05:23+00:00,2025-01-20 20:05:24+00:00,https://github.com/odoo/odoo/pull/194342,"[('RD', 'research & development, internal work'), ('forwardport', 'This PR was created by @fw-bot'), ('conflict', 'There was an error while creating this forward-port PR')]","[{'comment_id': 2601983630, 'issue_id': 2798815480, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/194342.png)](https://mergebot.odoo.com/odoo/odoo/pull/194342)', 'created_at': datetime.datetime(2025, 1, 20, 10, 13, 38, tzinfo=datetime.timezone.utc)}, {'comment_id': 2601983656, 'issue_id': 2798815480, 'author': 'fw-bot', 'body': '@bastien-ipb @ged-odoo cherrypicking of pull request odoo/odoo#193912 failed.\n\n* d59dab2a4077a1f7c143712b9b1271bd135eac69 <- on this commit\n* 2831cb0f8eeea8eef3333c3dadc9d7e077ceb762\n\nstdout:\n```\nAuto-merging addons/web/static/src/module_loader.js\nCONFLICT (content): Merge conflict in addons/web/static/src/module_loader.js\n\n```\n\nEither perform the forward-port manually (and push to this branch, proceeding as usual) or close this PR (maybe?).\n\nIn the former case, you may want to edit this PR message as well.\n\n:warning: after resolving this conflict, you will need to merge it via @robodoo.\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 20, 10, 13, 39, tzinfo=datetime.timezone.utc)}, {'comment_id': 2603025312, 'issue_id': 2798815480, 'author': 'bastien-ipb', 'body': '@robodoo r+', 'created_at': datetime.datetime(2025, 1, 20, 18, 16, 35, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-20 10:13:38 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/194342.png)](https://mergebot.odoo.com/odoo/odoo/pull/194342)

fw-bot (Issue Creator) on (2025-01-20 10:13:39 UTC): @bastien-ipb @ged-odoo cherrypicking of pull request odoo/odoo#193912 failed.

* d59dab2a4077a1f7c143712b9b1271bd135eac69 <- on this commit
* 2831cb0f8eeea8eef3333c3dadc9d7e077ceb762

stdout:
```
Auto-merging addons/web/static/src/module_loader.js
CONFLICT (content): Merge conflict in addons/web/static/src/module_loader.js

```

Either perform the forward-port manually (and push to this branch, proceeding as usual) or close this PR (maybe?).

In the former case, you may want to edit this PR message as well.

:warning: after resolving this conflict, you will need to merge it via @robodoo.

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

bastien-ipb on (2025-01-20 18:16:35 UTC): @robodoo r+

"
2798814685,pull_request,closed,,[FW][FIX] l10n_it_edi: Add fallback for remove_signature,"Backporting from saas-17.3 odoo/odoo#137572 because of tickets, see opws below.
The OpenSSL call started not working after `cryptography==42.0.8`

\---

Some of the invoices (i.e. those from Servizio Elettrico Nazionale, the
ex-monopoly-of-energy company) have custom signatures that rely on an
old OpenSSL implementation that breaks the current one that sees them as
malformed, so we cannot read those files. Also, we couldn't find an
alternative way to use OpenSSL to just get the same result without
getting the error.

A new fallback method has been added that reads the ASN1 file structure
and takes the encoded pkcs7-data tag content out of it, regardless of
the signature.

Being a non-optimized pure Python implementation, it takes about 2x the
time than the regular method, so it's better used as a fallback. We
didn't use an existing library not to further pollute the dependencies
space.

\---

opw-4471459
opw-4437288
opw-4417875

Forward-Port-Of: odoo/odoo#194211
Forward-Port-Of: odoo/odoo#193950",fw-bot,2025-01-20 10:13:16+00:00,[],2025-02-03 15:05:19+00:00,2025-01-20 14:50:27+00:00,https://github.com/odoo/odoo/pull/194341,"[('OE', 'the report is linked to a support ticket (opw-...)'), ('forwardport', 'This PR was created by @fw-bot')]","[{'comment_id': 2601982929, 'issue_id': 2798814685, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/194341.png)](https://mergebot.odoo.com/odoo/odoo/pull/194341)', 'created_at': datetime.datetime(2025, 1, 20, 10, 13, 22, tzinfo=datetime.timezone.utc)}, {'comment_id': 2601982970, 'issue_id': 2798814685, 'author': 'fw-bot', 'body': '@lordkrandel @jco-odoo this PR targets saas-17.2 and is the last of the forward-port chain.\n\nTo merge the full chain, use\n> @robodoo r+\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 20, 10, 13, 23, tzinfo=datetime.timezone.utc)}, {'comment_id': 2601998495, 'issue_id': 2798814685, 'author': 'lordkrandel', 'body': '@robodoo r+', 'created_at': datetime.datetime(2025, 1, 20, 10, 19, 31, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-20 10:13:22 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/194341.png)](https://mergebot.odoo.com/odoo/odoo/pull/194341)

fw-bot (Issue Creator) on (2025-01-20 10:13:23 UTC): @lordkrandel @jco-odoo this PR targets saas-17.2 and is the last of the forward-port chain.

To merge the full chain, use

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

lordkrandel on (2025-01-20 10:19:31 UTC): @robodoo r+

"
2798808988,pull_request,closed,,[FW][FIX] pos_self_order: corrected price calculation for combo product lines,"Issue:
=======
Combo product lines in the POS frontend displayed incorrect prices when order from self Order

Cause:
=======
The `price_unit` was being calculated without considering the `combo_item_id`. For example:
price_unit += pos_order_line.combo_price + price_extra_child`

Fix:
=====
The `combo_item_id` was included in the calculation to ensure accuracy: price_unit += pos_order_line.`combo_item_id`.combo_price + price_extra_child

Task-4464002

Forward-Port-Of: odoo/odoo#194182
Forward-Port-Of: odoo/odoo#193356",fw-bot,2025-01-20 10:11:08+00:00,[],2025-02-03 20:56:03+00:00,2025-01-20 20:54:14+00:00,https://github.com/odoo/odoo/pull/194340,"[('RD', 'research & development, internal work'), ('forwardport', 'This PR was created by @fw-bot'), ('18.2', None)]","[{'comment_id': 2601977255, 'issue_id': 2798808988, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/194340.png)](https://mergebot.odoo.com/odoo/odoo/pull/194340)', 'created_at': datetime.datetime(2025, 1, 20, 10, 11, 9, tzinfo=datetime.timezone.utc)}, {'comment_id': 2601977283, 'issue_id': 2798808988, 'author': 'fw-bot', 'body': '@jipr-odoo @adgu-odoo this PR targets master and is the last of the forward-port chain containing:\n* odoo/odoo#194324\n\nTo merge the full chain, use\n> @robodoo r+\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 20, 10, 11, 10, tzinfo=datetime.timezone.utc)}, {'comment_id': 2602365323, 'issue_id': 2798808988, 'author': 'jipr-odoo', 'body': '@robodoo r+', 'created_at': datetime.datetime(2025, 1, 20, 12, 58, 33, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-20 10:11:09 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/194340.png)](https://mergebot.odoo.com/odoo/odoo/pull/194340)

fw-bot (Issue Creator) on (2025-01-20 10:11:10 UTC): @jipr-odoo @adgu-odoo this PR targets master and is the last of the forward-port chain containing:
* odoo/odoo#194324

To merge the full chain, use

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

jipr-odoo on (2025-01-20 12:58:33 UTC): @robodoo r+

"
2798802869,pull_request,closed,,[FW][IMP] event: clarify the Timezone field name and tooltips,"### Issue:

The current descriptions and naming of the `Date` fields (`date_begin`, `date_end`) and the `Timezone` field (`date_tz`) can be confusing in the form view of the event model. Specifically:

The timezone used for converting the form dates to the database is determined by the context and not by the `Timezone` field present on the form. However, this `Timezone` field determines the timezone used for displaying the event's date/time on the website. This change tries to clarify the situation.

opw-4323142
---
I confirm I have signed the CLA and read the PR guidelines at www.odoo.com/submit-pr

Forward-Port-Of: odoo/odoo#193587
Forward-Port-Of: odoo/odoo#190867",fw-bot,2025-01-20 10:08:35+00:00,[],2025-02-05 14:57:52+00:00,2025-01-22 14:27:08+00:00,https://github.com/odoo/odoo/pull/194339,"[('OE', 'the report is linked to a support ticket (opw-...)'), ('forwardport', 'This PR was created by @fw-bot')]","[{'comment_id': 2601970925, 'issue_id': 2798802869, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/194339.png)](https://mergebot.odoo.com/odoo/odoo/pull/194339)', 'created_at': datetime.datetime(2025, 1, 20, 10, 8, 37, tzinfo=datetime.timezone.utc)}, {'comment_id': 2601970981, 'issue_id': 2798802869, 'author': 'fw-bot', 'body': 'This PR targets saas-17.4 and is part of the forward-port chain. Further PRs will be created up to master.\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 20, 10, 8, 39, tzinfo=datetime.timezone.utc)}, {'comment_id': 2607187415, 'issue_id': 2798802869, 'author': 'robodoo', 'body': '@lase-odoo @jeh-odoo linked pull request(s) odoo/documentation#11789 not ready. Linked PRs are not staged until all of them are ready.', 'created_at': datetime.datetime(2025, 1, 22, 13, 0, 18, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-20 10:08:37 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/194339.png)](https://mergebot.odoo.com/odoo/odoo/pull/194339)

fw-bot (Issue Creator) on (2025-01-20 10:08:39 UTC): This PR targets saas-17.4 and is part of the forward-port chain. Further PRs will be created up to master.

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

robodoo on (2025-01-22 13:00:18 UTC): @lase-odoo @jeh-odoo linked pull request(s) odoo/documentation#11789 not ready. Linked PRs are not staged until all of them are ready.

"
2798796843,pull_request,closed,,[FIX] hr: fix singleton record error,"### Description of the issue/feature this PR addresses:

- The [_get_plan_available_base_domain()](https://github.com/odoo/odoo/blob/18.0/addons/mail/wizard/mail_activity_schedule.py#L330) method is built and `self.ensure_one()` is placed in it but it is called in `_compute_plan_available_ids()` with `self` which can have multiple records

### Current behavior before PR:
- The error `ValueError: Expected singleton: mail.activity.schedule(1, 2)` occurred

### Desired behavior after PR is merged:
- The problem has been fixed.



---
I confirm I have signed the CLA and read the PR guidelines at www.odoo.com/submit-pr
",JocelynVN,2025-01-20 10:06:23+00:00,[],2025-01-22 04:07:27+00:00,2025-01-21 18:32:42+00:00,https://github.com/odoo/odoo/pull/194338,"[('HR', 'Related to Human Resources Applications')]","[{'comment_id': 2601965248, 'issue_id': 2798796843, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/194338.png)](https://mergebot.odoo.com/odoo/odoo/pull/194338)', 'created_at': datetime.datetime(2025, 1, 20, 10, 6, 26, tzinfo=datetime.timezone.utc)}, {'comment_id': 2602349337, 'issue_id': 2798796843, 'author': 'MiquelRForgeFlow', 'body': 'You should remove the `[17.0]` tag in the commit title.', 'created_at': datetime.datetime(2025, 1, 20, 12, 51, 4, tzinfo=datetime.timezone.utc)}, {'comment_id': 2603436164, 'issue_id': 2798796843, 'author': 'JocelynVN', 'body': '> You should remove the `[17.0]` tag in the commit title.\r\n\r\n@MiquelRForgeFlow thanks you! :smiley:', 'created_at': datetime.datetime(2025, 1, 21, 1, 12, 53, tzinfo=datetime.timezone.utc)}, {'comment_id': 2603485998, 'issue_id': 2798796843, 'author': 'JocelynVN', 'body': '@pyduf help me please!', 'created_at': datetime.datetime(2025, 1, 21, 2, 13, 38, tzinfo=datetime.timezone.utc)}, {'comment_id': 2603953914, 'issue_id': 2798796843, 'author': 'pyduf', 'body': 'Hello @JocelynVN , \r\n\r\nThanks for having spotted that error. \r\n\r\nThe runbot is red because of “known error” that happens randomly so if you re-push, it might be green.\r\n\r\nBy doing so, could you add a space between [FIX] and hr and also add your bug description in the commit (removing also the [17] from the commit message) ? ‘”[FIX] hr: fix singleton record error”)\r\n\r\nAlso if there is a way to reproduce the bug (an use case, I mean), it would be worth to indicate how to reproduce it in the commit. But your description is already good as it explains well what the problem is.', 'created_at': datetime.datetime(2025, 1, 21, 8, 28, 10, tzinfo=datetime.timezone.utc)}, {'comment_id': 2604064111, 'issue_id': 2798796843, 'author': 'JocelynVN', 'body': '> Hello @JocelynVN ,\r\n> \r\n> Thanks for having spotted that error.\r\n> \r\n> The runbot is red because of “known error” that happens randomly so if you re-push, it might be green.\r\n> \r\n> By doing so, could you add a space between [FIX] and hr and also add your bug description in the commit (removing also the [17] from the commit message) ? ‘”[FIX] hr: fix singleton record error”)\r\n> \r\n> Also if there is a way to reproduce the bug (an use case, I mean), it would be worth to indicate how to reproduce it in the commit. But your description is already good as it explains well what the problem is.\r\n\r\n@pyduf Thank you for helping me. I discovered this issue while building a custom module for my company, so in practice, users are unlikely to encounter this error. However, for developers like me, this could be an obstacle.', 'created_at': datetime.datetime(2025, 1, 21, 9, 1, 40, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-20 10:06:26 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/194338.png)](https://mergebot.odoo.com/odoo/odoo/pull/194338)

MiquelRForgeFlow on (2025-01-20 12:51:04 UTC): You should remove the `[17.0]` tag in the commit title.

JocelynVN (Issue Creator) on (2025-01-21 01:12:53 UTC): @MiquelRForgeFlow thanks you! :smiley:

JocelynVN (Issue Creator) on (2025-01-21 02:13:38 UTC): @pyduf help me please!

pyduf on (2025-01-21 08:28:10 UTC): Hello @JocelynVN , 

Thanks for having spotted that error. 

The runbot is red because of “known error” that happens randomly so if you re-push, it might be green.

By doing so, could you add a space between [FIX] and hr and also add your bug description in the commit (removing also the [17] from the commit message) ? ‘”[FIX] hr: fix singleton record error”)

Also if there is a way to reproduce the bug (an use case, I mean), it would be worth to indicate how to reproduce it in the commit. But your description is already good as it explains well what the problem is.

JocelynVN (Issue Creator) on (2025-01-21 09:01:40 UTC): @pyduf Thank you for helping me. I discovered this issue while building a custom module for my company, so in practice, users are unlikely to encounter this error. However, for developers like me, this could be an obstacle.

"
2798794680,pull_request,closed,,[FIX] point_of_sale: translate created journals,"In the onboarding wizard, we create a cash journal for different scenarios. However the names of these journals were not translatable.

We make them translatable in this commit.
",dylankiss,2025-01-20 10:05:43+00:00,[],2025-02-03 18:30:12+00:00,2025-01-20 18:12:59+00:00,https://github.com/odoo/odoo/pull/194337,"[('RD', 'research & development, internal work')]","[{'comment_id': 2601963592, 'issue_id': 2798794680, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/194337.png)](https://mergebot.odoo.com/odoo/odoo/pull/194337)', 'created_at': datetime.datetime(2025, 1, 20, 10, 5, 48, tzinfo=datetime.timezone.utc)}, {'comment_id': 2602392814, 'issue_id': 2798794680, 'author': 'ticodoo', 'body': '@robodoo r+', 'created_at': datetime.datetime(2025, 1, 20, 13, 11, 7, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-20 10:05:48 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/194337.png)](https://mergebot.odoo.com/odoo/odoo/pull/194337)

ticodoo on (2025-01-20 13:11:07 UTC): @robodoo r+

"
2798786321,pull_request,closed,,[FIX] web: uniformize width of buttons in control panel,"On smaller screen, the ControlPanel's buttons for CogMenu, Buttonbox,
Knowledge, Search don't have a consistent width.

This commit fixes it by giving those buttons' icon a fixed width,
independently of the character's size and adjusting the horizontal
padding for this use case.

task-4492690",pparidans,2025-01-20 10:02:12+00:00,['pparidans'],2025-02-04 18:09:32+00:00,2025-01-21 18:05:10+00:00,https://github.com/odoo/odoo/pull/194336,"[('RD', 'research & development, internal work')]","[{'comment_id': 2601954838, 'issue_id': 2798786321, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/194336.png)](https://mergebot.odoo.com/odoo/odoo/pull/194336)', 'created_at': datetime.datetime(2025, 1, 20, 10, 2, 15, tzinfo=datetime.timezone.utc)}, {'comment_id': 2602368822, 'issue_id': 2798786321, 'author': 'robodoo', 'body': '@pparidans @rfr-odoo linked pull request(s) odoo/enterprise#77412 not ready. Linked PRs are not staged until all of them are ready.', 'created_at': datetime.datetime(2025, 1, 20, 13, 0, 7, tzinfo=datetime.timezone.utc)}, {'comment_id': 2602368880, 'issue_id': 2798786321, 'author': 'robodoo', 'body': '@pparidans @rfr-odoo because this PR has multiple commits, I need to know how to merge it:\n\n* `merge` to merge directly, using the PR as merge commit message\n* `rebase-merge` to rebase and merge, using the PR as merge commit message\n* `rebase-ff` to rebase and fast-forward', 'created_at': datetime.datetime(2025, 1, 20, 13, 0, 8, tzinfo=datetime.timezone.utc)}, {'comment_id': 2602371584, 'issue_id': 2798786321, 'author': 'rfr-odoo', 'body': '@robodoo rebase-ff', 'created_at': datetime.datetime(2025, 1, 20, 13, 1, 25, tzinfo=datetime.timezone.utc)}, {'comment_id': 2602371698, 'issue_id': 2798786321, 'author': 'robodoo', 'body': 'Merge method set to rebase and fast-forward.', 'created_at': datetime.datetime(2025, 1, 20, 13, 1, 27, tzinfo=datetime.timezone.utc)}, {'comment_id': 2603379695, 'issue_id': 2798786321, 'author': 'robodoo', 'body': '@pparidans @rfr-odoo staging failed: ci/runbot on 086e9ad3378a196b7d281542bb6f61cd5a1254ef (view more at https://runbot.odoo.com/runbot/build/73686697)', 'created_at': datetime.datetime(2025, 1, 20, 23, 58, 22, tzinfo=datetime.timezone.utc)}, {'comment_id': 2605103271, 'issue_id': 2798786321, 'author': 'rfr-odoo', 'body': '@robodoo rebase-ff r+', 'created_at': datetime.datetime(2025, 1, 21, 15, 51, 3, tzinfo=datetime.timezone.utc)}, {'comment_id': 2605103385, 'issue_id': 2798786321, 'author': 'robodoo', 'body': 'Merge method set to rebase and fast-forward.', 'created_at': datetime.datetime(2025, 1, 21, 15, 51, 6, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-20 10:02:15 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/194336.png)](https://mergebot.odoo.com/odoo/odoo/pull/194336)

robodoo on (2025-01-20 13:00:07 UTC): @pparidans @rfr-odoo linked pull request(s) odoo/enterprise#77412 not ready. Linked PRs are not staged until all of them are ready.

robodoo on (2025-01-20 13:00:08 UTC): @pparidans @rfr-odoo because this PR has multiple commits, I need to know how to merge it:

* `merge` to merge directly, using the PR as merge commit message
* `rebase-merge` to rebase and merge, using the PR as merge commit message
* `rebase-ff` to rebase and fast-forward

rfr-odoo on (2025-01-20 13:01:25 UTC): @robodoo rebase-ff

robodoo on (2025-01-20 13:01:27 UTC): Merge method set to rebase and fast-forward.

robodoo on (2025-01-20 23:58:22 UTC): @pparidans @rfr-odoo staging failed: ci/runbot on 086e9ad3378a196b7d281542bb6f61cd5a1254ef (view more at https://runbot.odoo.com/runbot/build/73686697)

rfr-odoo on (2025-01-21 15:51:03 UTC): @robodoo rebase-ff r+

robodoo on (2025-01-21 15:51:06 UTC): Merge method set to rebase and fast-forward.

"
2798777641,pull_request,closed,,[FW][FIX] l10n_es_edi_tbai_multi_refund: allow selecting customer refunds,"In https://github.com/odoo/odoo/pull/193392 the reversed invoices field was exposed when reversing customer invoices.

However, the field domain forbids selection of customer invoices. Also, the field name was misleading.

![image](https://github.com/user-attachments/assets/520d0b47-a776-4354-a7d2-feaf986ad7d8)


This hotfix should make it possible to actually refund outgoing invoices.

@moduon MT-4966



---
I confirm I have signed the CLA and read the PR guidelines at www.odoo.com/submit-pr

Forward-Port-Of: odoo/odoo#194130",fw-bot,2025-01-20 09:58:48+00:00,[],2025-01-27 08:49:30+00:00,2025-01-27 08:49:29+00:00,https://github.com/odoo/odoo/pull/194335,"[('RD', 'research & development, internal work'), ('forwardport', 'This PR was created by @fw-bot'), ('conflict', 'There was an error while creating this forward-port PR')]","[{'comment_id': 2601946191, 'issue_id': 2798777641, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/194335.png)](https://mergebot.odoo.com/odoo/odoo/pull/194335)', 'created_at': datetime.datetime(2025, 1, 20, 9, 58, 50, tzinfo=datetime.timezone.utc)}, {'comment_id': 2601946226, 'issue_id': 2798777641, 'author': 'fw-bot', 'body': '@Yajo @RicGR98 cherrypicking of pull request odoo/odoo#194130 failed.\n\nstdout:\n```\nCONFLICT (modify/delete): addons/l10n_es_edi_tbai_multi_refund/i18n/l10n_es_edi_tbai_multi_refund.pot deleted in 88813dbb7d10dbd840a4276fcae187d9c243e0e8 and modified in 98093e779cbc92b48696dc9b49dbc6298512955c.  Version 98093e779cbc92b48696dc9b49dbc6298512955c of addons/l10n_es_edi_tbai_multi_refund/i18n/l10n_es_edi_tbai_multi_refund.pot left in tree.\nCONFLICT (modify/delete): addons/l10n_es_edi_tbai_multi_refund/views/account_move_view.xml deleted in 88813dbb7d10dbd840a4276fcae187d9c243e0e8 and modified in 98093e779cbc92b48696dc9b49dbc6298512955c.  Version 98093e779cbc92b48696dc9b49dbc6298512955c of addons/l10n_es_edi_tbai_multi_refund/views/account_move_view.xml left in tree.\n\n```\n\nEither perform the forward-port manually (and push to this branch, proceeding as usual) or close this PR (maybe?).\n\nIn the former case, you may want to edit this PR message as well.\n\n:warning: after resolving this conflict, you will need to merge it via @robodoo.\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 20, 9, 58, 50, tzinfo=datetime.timezone.utc)}, {'comment_id': 2611385098, 'issue_id': 2798777641, 'author': 'fw-bot', 'body': '@Yajo @RicGR98 this forward port of odoo/odoo#194130 is awaiting action (not merged or closed).', 'created_at': datetime.datetime(2025, 1, 24, 2, 0, 50, tzinfo=datetime.timezone.utc)}, {'comment_id': 2613721727, 'issue_id': 2798777641, 'author': 'fw-bot', 'body': '@Yajo @RicGR98 this forward port of odoo/odoo#194130 is awaiting action (not merged or closed).', 'created_at': datetime.datetime(2025, 1, 25, 2, 1, 3, tzinfo=datetime.timezone.utc)}, {'comment_id': 2614171987, 'issue_id': 2798777641, 'author': 'fw-bot', 'body': '@Yajo @RicGR98 this forward port of odoo/odoo#194130 is awaiting action (not merged or closed).', 'created_at': datetime.datetime(2025, 1, 26, 2, 1, 22, tzinfo=datetime.timezone.utc)}, {'comment_id': 2614722898, 'issue_id': 2798777641, 'author': 'fw-bot', 'body': '@Yajo @RicGR98 this forward port of odoo/odoo#194130 is awaiting action (not merged or closed).', 'created_at': datetime.datetime(2025, 1, 27, 2, 1, 59, tzinfo=datetime.timezone.utc)}, {'comment_id': 2615155247, 'issue_id': 2798777641, 'author': 'RicGR98', 'body': 'Done in https://github.com/odoo/odoo/pull/193376', 'created_at': datetime.datetime(2025, 1, 27, 8, 49, 29, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-20 09:58:50 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/194335.png)](https://mergebot.odoo.com/odoo/odoo/pull/194335)

fw-bot (Issue Creator) on (2025-01-20 09:58:50 UTC): @Yajo @RicGR98 cherrypicking of pull request odoo/odoo#194130 failed.

stdout:
```
CONFLICT (modify/delete): addons/l10n_es_edi_tbai_multi_refund/i18n/l10n_es_edi_tbai_multi_refund.pot deleted in 88813dbb7d10dbd840a4276fcae187d9c243e0e8 and modified in 98093e779cbc92b48696dc9b49dbc6298512955c.  Version 98093e779cbc92b48696dc9b49dbc6298512955c of addons/l10n_es_edi_tbai_multi_refund/i18n/l10n_es_edi_tbai_multi_refund.pot left in tree.
CONFLICT (modify/delete): addons/l10n_es_edi_tbai_multi_refund/views/account_move_view.xml deleted in 88813dbb7d10dbd840a4276fcae187d9c243e0e8 and modified in 98093e779cbc92b48696dc9b49dbc6298512955c.  Version 98093e779cbc92b48696dc9b49dbc6298512955c of addons/l10n_es_edi_tbai_multi_refund/views/account_move_view.xml left in tree.

```

Either perform the forward-port manually (and push to this branch, proceeding as usual) or close this PR (maybe?).

In the former case, you may want to edit this PR message as well.

:warning: after resolving this conflict, you will need to merge it via @robodoo.

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

fw-bot (Issue Creator) on (2025-01-24 02:00:50 UTC): @Yajo @RicGR98 this forward port of odoo/odoo#194130 is awaiting action (not merged or closed).

fw-bot (Issue Creator) on (2025-01-25 02:01:03 UTC): @Yajo @RicGR98 this forward port of odoo/odoo#194130 is awaiting action (not merged or closed).

fw-bot (Issue Creator) on (2025-01-26 02:01:22 UTC): @Yajo @RicGR98 this forward port of odoo/odoo#194130 is awaiting action (not merged or closed).

fw-bot (Issue Creator) on (2025-01-27 02:01:59 UTC): @Yajo @RicGR98 this forward port of odoo/odoo#194130 is awaiting action (not merged or closed).

RicGR98 on (2025-01-27 08:49:29 UTC): Done in https://github.com/odoo/odoo/pull/193376

"
2798776675,pull_request,open,,[FIX] base: some strings sohuld not get translated,![image](https://github.com/user-attachments/assets/5ddcb984-1b99-49f0-9281-e5fe4db2729b),brboi,2025-01-20 09:58:27+00:00,[],2025-01-20 10:00:13+00:00,,https://github.com/odoo/odoo/pull/194334,"[('RD', 'research & development, internal work')]","[{'comment_id': 2601945447, 'issue_id': 2798776675, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/194334.png)](https://mergebot.odoo.com/odoo/odoo/pull/194334)', 'created_at': datetime.datetime(2025, 1, 20, 9, 58, 33, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-20 09:58:33 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/194334.png)](https://mergebot.odoo.com/odoo/odoo/pull/194334)

"
2798775373,pull_request,closed,,[FW][FIX] base: no-demo for TestQwebFieldContact,"'TestQwebFieldContact' used a demo partner to work, but we want to test independent of demo data.

Forward-Port-Of: odoo/odoo#193716",fw-bot,2025-01-20 09:57:57+00:00,[],2025-02-03 17:42:54+00:00,2025-01-20 17:42:52+00:00,https://github.com/odoo/odoo/pull/194333,"[('RD', 'research & development, internal work'), ('forwardport', 'This PR was created by @fw-bot'), ('18.2', None)]","[{'comment_id': 2601944001, 'issue_id': 2798775373, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/194333.png)](https://mergebot.odoo.com/odoo/odoo/pull/194333)', 'created_at': datetime.datetime(2025, 1, 20, 9, 57, 58, tzinfo=datetime.timezone.utc)}, {'comment_id': 2601944023, 'issue_id': 2798775373, 'author': 'fw-bot', 'body': '@ryv-odoo this PR targets master and is the last of the forward-port chain containing:\n* odoo/odoo#194133\n* odoo/odoo#194120\n* odoo/odoo#194102\n* odoo/odoo#194080\n* odoo/odoo#193968\n\nTo merge the full chain, use\n> @robodoo r+\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 20, 9, 57, 59, tzinfo=datetime.timezone.utc)}, {'comment_id': 2601954836, 'issue_id': 2798775373, 'author': 'ryv-odoo', 'body': '@robodoo r+', 'created_at': datetime.datetime(2025, 1, 20, 10, 2, 15, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-20 09:57:58 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/194333.png)](https://mergebot.odoo.com/odoo/odoo/pull/194333)

fw-bot (Issue Creator) on (2025-01-20 09:57:59 UTC): @ryv-odoo this PR targets master and is the last of the forward-port chain containing:
* odoo/odoo#194133
* odoo/odoo#194120
* odoo/odoo#194102
* odoo/odoo#194080
* odoo/odoo#193968

To merge the full chain, use

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

ryv-odoo on (2025-01-20 10:02:15 UTC): @robodoo r+

"
2798773042,pull_request,closed,,[FW][FIX] l10n_lb_account: Avoid warning demo data Liban,"The install_demo is missing from the try_loading of the Libanese demo company.

runbot-109449




---
I confirm I have signed the CLA and read the PR guidelines at www.odoo.com/submit-pr

Forward-Port-Of: odoo/odoo#190879",fw-bot,2025-01-20 09:56:59+00:00,[],2025-02-03 16:17:51+00:00,2025-01-20 16:14:34+00:00,https://github.com/odoo/odoo/pull/194332,"[('RD', 'research & development, internal work'), ('forwardport', 'This PR was created by @fw-bot')]","[{'comment_id': 2601941652, 'issue_id': 2798773042, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/194332.png)](https://mergebot.odoo.com/odoo/odoo/pull/194332)', 'created_at': datetime.datetime(2025, 1, 20, 9, 57, tzinfo=datetime.timezone.utc)}, {'comment_id': 2601941683, 'issue_id': 2798773042, 'author': 'fw-bot', 'body': '@gawa-odoo @FlorianGilbert this PR targets saas-17.4 and is the last of the forward-port chain.\n\nTo merge the full chain, use\n> @robodoo r+\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 20, 9, 57, 1, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-20 09:57:00 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/194332.png)](https://mergebot.odoo.com/odoo/odoo/pull/194332)

fw-bot (Issue Creator) on (2025-01-20 09:57:01 UTC): @gawa-odoo @FlorianGilbert this PR targets saas-17.4 and is the last of the forward-port chain.

To merge the full chain, use

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

"
2798681236,pull_request,open,,[FIX] website_links: ensure correct base URL for short links,"The base URL was being retrieved incorrectly in `_compute_short_url_host()` without considering the current company.
This caused the short URL to always use the domain of the company logged into the database, rather than the domain of the selected company.

This happens because the base URL was retrieved using `get_current_website()` from the `website` module, which does not consider the company context. As a result, the short URL adapts based on the domain of the last logged-in company, leading to inconsistent URLs.


Steps to reproduce:
1. Context: The database has two companies, Company A and Company B, each with their own custom domains, Domain A and Domain B.
2. Log in to the database using Domain A.
- Post a link via social marketing for Company A. The short URL will use Domain A.
3. Switch to the Company B.
- Post the same link via social marketing for Company B. The short URL will now incorrectly use Domain A instead of B. While the short URL still redirects to the correct content, the domain in the short URL is inconsistent and depends on the last logged-in domain.

OPW-4235176



---
I confirm I have signed the CLA and read the PR guidelines at www.odoo.com/submit-pr
",elhayyany,2025-01-20 09:21:17+00:00,[],2025-02-07 17:41:07+00:00,,https://github.com/odoo/odoo/pull/194331,"[('OE', 'the report is linked to a support ticket (opw-...)')]","[{'comment_id': 2601855359, 'issue_id': 2798681236, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/194331.png)](https://mergebot.odoo.com/odoo/odoo/pull/194331)', 'created_at': datetime.datetime(2025, 1, 20, 9, 21, 20, tzinfo=datetime.timezone.utc)}, {'comment_id': 2601874710, 'issue_id': 2798681236, 'author': 'elhayyany', 'body': 'This bug was reproduced on all supported versions.', 'created_at': datetime.datetime(2025, 1, 20, 9, 29, 48, tzinfo=datetime.timezone.utc)}, {'comment_id': 2626704376, 'issue_id': 2798681236, 'author': 'reth-odoo', 'body': 'Thanks for adding tests :+1: \r\n\r\n@tde-banana-odoo I was asked to merge, yet I cannot merge :cry: \r\nThis apparently blocks some use cases in social, if you can give it a glance', 'created_at': datetime.datetime(2025, 1, 31, 9, 6, 35, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-20 09:21:20 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/194331.png)](https://mergebot.odoo.com/odoo/odoo/pull/194331)

elhayyany (Issue Creator) on (2025-01-20 09:29:48 UTC): This bug was reproduced on all supported versions.

reth-odoo on (2025-01-31 09:06:35 UTC): Thanks for adding tests :+1: 

@tde-banana-odoo I was asked to merge, yet I cannot merge :cry: 
This apparently blocks some use cases in social, if you can give it a glance

"
2798679436,pull_request,open,,"[IMP] hr_contract, hr_work_entry: improve ux for contract and work entry","This PR improves the ux and functionality for both the contract and work entry form views.

task-4334973

",ravb-odoo,2025-01-20 09:20:46+00:00,[],2025-01-20 10:00:18+00:00,,https://github.com/odoo/odoo/pull/194330,"[('RD', 'research & development, internal work')]","[{'comment_id': 2601854131, 'issue_id': 2798679436, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/194330.png)](https://mergebot.odoo.com/odoo/odoo/pull/194330)', 'created_at': datetime.datetime(2025, 1, 20, 9, 20, 49, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-20 09:20:49 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/194330.png)](https://mergebot.odoo.com/odoo/odoo/pull/194330)

"
2798661036,pull_request,closed,,[FIX] l10n_ar_withholding: use disposable data during coa update,"### Steps to reproduce the issue:

1. Create two Argentinian Companies
2. In _Accounting > Configuration > Settings_ select the following Fiscal Localization Package for both companies: _Argentina - Argentine Generic Chart of Accounts for Exempt Individuals_
2. In _Accounting > Configuration > Accounting > Chart of Accounts_, duplicate an account and change its code to 6.0.0.00.020
3. Install _Argentina - Payment Withholdings_
4. The following issue occurs:

### Explanation:

In `_l10n_ar_withholding_post_init`, for each company, we will compare a previously created dict to the existing accounts. If an account already exists, the data is removed from the dict, and since it is created before we start looping through the Companies to make the comparison, any removed data is removed for the companies that follow as well.

### Fix reasoning:

We will copy the original dict to keep a safe version of the data and only modify the copy during the comparison process.

opw-4446501",stpa-odoo,2025-01-20 09:12:33+00:00,[],2025-01-28 12:58:45+00:00,2025-01-28 12:58:45+00:00,https://github.com/odoo/odoo/pull/194329,"[('OE', 'the report is linked to a support ticket (opw-...)')]","[{'comment_id': 2601835368, 'issue_id': 2798661036, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/194329.png)](https://mergebot.odoo.com/odoo/odoo/pull/194329)', 'created_at': datetime.datetime(2025, 1, 20, 9, 12, 36, tzinfo=datetime.timezone.utc)}, {'comment_id': 2605103408, 'issue_id': 2798661036, 'author': 'yosa-odoo', 'body': 'Could you rebase your branch?', 'created_at': datetime.datetime(2025, 1, 21, 15, 51, 7, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-20 09:12:36 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/194329.png)](https://mergebot.odoo.com/odoo/odoo/pull/194329)

yosa-odoo on (2025-01-21 15:51:07 UTC): Could you rebase your branch?

"
2798659299,pull_request,open,,[FIX] hr_recruitment: prevent error when change(update) all interviewers at once,"Currently, An error occurs when trying to change(update) all interviewers at once from the (hr)'Applications' list view.

Step to produce:

- Install the `hr_recruitment` module.
- Open Recruitment / Applications / All Applications and add the Interviewers field in the list view, Select all records, and try to change or add interviewers to any of them.

`ValueError: Expected singleton: hr.applicant(800, 799, 798, 797, 819)`

The error occurs because the system attempts to access a single value from multiple records at [1].

Link [1]: https://github.com/odoo/odoo/blob/f1637a10db2f34ca3a272792079115e0192489f8/addons/hr_recruitment/models/hr_applicant.py#L384-L385

To resolve this issue, Use an iteration(for loop) to process each record one by one.

Sentry-6229305438


---
I confirm I have signed the CLA and read the PR guidelines at www.odoo.com/submit-pr
",mega-odoo,2025-01-20 09:11:46+00:00,[],2025-02-06 06:26:12+00:00,,https://github.com/odoo/odoo/pull/194328,"[('RD', 'research & development, internal work')]","[{'comment_id': 2601833503, 'issue_id': 2798659299, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/194328.png)](https://mergebot.odoo.com/odoo/odoo/pull/194328)', 'created_at': datetime.datetime(2025, 1, 20, 9, 11, 49, tzinfo=datetime.timezone.utc)}, {'comment_id': 2612471553, 'issue_id': 2798659299, 'author': 'mega-odoo', 'body': 'Hello @odoo/sentry_reviewers\r\n\r\nPlease review this PR.\r\n\r\nThanks!', 'created_at': datetime.datetime(2025, 1, 24, 12, 56, 47, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-20 09:11:49 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/194328.png)](https://mergebot.odoo.com/odoo/odoo/pull/194328)

mega-odoo (Issue Creator) on (2025-01-24 12:56:47 UTC): Hello @odoo/sentry_reviewers

Please review this PR.

Thanks!

"
2798614530,pull_request,closed,,[FW][IMP] event: clarify the Timezone field name and tooltips,"### Issue:

The current descriptions and naming of the `Date` fields (`date_begin`, `date_end`) and the `Timezone` field (`date_tz`) can be confusing in the form view of the event model. Specifically:

The timezone used for converting the form dates to the database is determined by the context and not by the `Timezone` field present on the form. However, this `Timezone` field determines the timezone used for displaying the event's date/time on the website. This change tries to clarify the situation.

opw-4323142
---
I confirm I have signed the CLA and read the PR guidelines at www.odoo.com/submit-pr

Forward-Port-Of: odoo/odoo#193587
Forward-Port-Of: odoo/odoo#190867",fw-bot,2025-01-20 08:52:56+00:00,[],2025-02-05 15:18:28+00:00,2025-01-22 15:14:39+00:00,https://github.com/odoo/odoo/pull/194326,"[('OE', 'the report is linked to a support ticket (opw-...)'), ('forwardport', 'This PR was created by @fw-bot')]","[{'comment_id': 2601790313, 'issue_id': 2798614530, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/194326.png)](https://mergebot.odoo.com/odoo/odoo/pull/194326)', 'created_at': datetime.datetime(2025, 1, 20, 8, 52, 58, tzinfo=datetime.timezone.utc)}, {'comment_id': 2601790362, 'issue_id': 2798614530, 'author': 'fw-bot', 'body': 'This PR targets saas-17.2 and is part of the forward-port chain. Further PRs will be created up to master.\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 20, 8, 52, 59, tzinfo=datetime.timezone.utc)}, {'comment_id': 2607187350, 'issue_id': 2798614530, 'author': 'robodoo', 'body': '@lase-odoo @jeh-odoo linked pull request(s) odoo/documentation#11788 not ready. Linked PRs are not staged until all of them are ready.', 'created_at': datetime.datetime(2025, 1, 22, 13, 0, 16, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-20 08:52:58 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/194326.png)](https://mergebot.odoo.com/odoo/odoo/pull/194326)

fw-bot (Issue Creator) on (2025-01-20 08:52:59 UTC): This PR targets saas-17.2 and is part of the forward-port chain. Further PRs will be created up to master.

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

robodoo on (2025-01-22 13:00:16 UTC): @lase-odoo @jeh-odoo linked pull request(s) odoo/documentation#11788 not ready. Linked PRs are not staged until all of them are ready.

"
2798612244,pull_request,closed,,[FIX] mrp: fix error unsupported operand type(s) for -: 'str' and 'datetime.timedelta',"### Before this PR
Changing the date on production this error appears
`unsupported operand type(s) for -: 'str' and 'datetime.timedelta'`

### After this PR
No error

Error caused by this commit
https://github.com/odoo/odoo/commit/7c808beaf36853b4d9171ef0981d1ec9c4b73a44
by this pr https://github.com/odoo/odoo/pull/188389

---
I confirm I have signed the CLA and read the PR guidelines at www.odoo.com/submit-pr
",micheledic,2025-01-20 08:51:51+00:00,[],2025-01-21 13:19:37+00:00,2025-01-21 11:43:45+00:00,https://github.com/odoo/odoo/pull/194325,"[('Logistics', 'about stock, mrp, delivery, purchase')]","[{'comment_id': 2601788060, 'issue_id': 2798612244, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/194325.png)](https://mergebot.odoo.com/odoo/odoo/pull/194325)', 'created_at': datetime.datetime(2025, 1, 20, 8, 51, 54, tzinfo=datetime.timezone.utc)}, {'comment_id': 2601790555, 'issue_id': 2798612244, 'author': 'micheledic', 'body': '@svs-odoo @Whenrow  i think it is urgent!', 'created_at': datetime.datetime(2025, 1, 20, 8, 53, 5, tzinfo=datetime.timezone.utc)}, {'comment_id': 2601806109, 'issue_id': 2798612244, 'author': 'Du-ma', 'body': ""Now that's a fast reaction!\r\nBut did you test to see if it would work in all cases?\r\nI mean, I know that we can use write with date objects, strings and bool to set a date.\r\n\r\n`date_start` is a required field, so maybe we can skip the bool, but does it work with objects?"", 'created_at': datetime.datetime(2025, 1, 20, 9, 0, 7, tzinfo=datetime.timezone.utc)}, {'comment_id': 2601812153, 'issue_id': 2798612244, 'author': 'micheledic', 'body': '> Now that\'s a fast reaction! But did you test to see if it would work in all cases? I mean, I know that we can use write with date objects, strings and bool to set a date.\r\n> \r\n> `date_start` is a required field, so maybe we can skip the bool, but does it work with objects?\r\n\r\nI tried on a jupyter \r\n\r\n```\r\ntest_date = ""2023-10-14 07:13:56""\r\nfields.Datetime.to_datetime(fields.Datetime.to_datetime(test_date ))\r\n\r\n```\r\n It works also with date value', 'created_at': datetime.datetime(2025, 1, 20, 9, 2, 37, tzinfo=datetime.timezone.utc)}, {'comment_id': 2602228983, 'issue_id': 2798612244, 'author': 'Du-ma', 'body': ""@mart-e\r\nHey, me and my dawg here, we noised there's a pretty big issue here, would it be possible to have this be looked at?"", 'created_at': datetime.datetime(2025, 1, 20, 11, 56, 34, tzinfo=datetime.timezone.utc)}, {'comment_id': 2602305639, 'issue_id': 2798612244, 'author': 'micheledic', 'body': 'Maybe also @amoyaux can check', 'created_at': datetime.datetime(2025, 1, 20, 12, 31, 14, tzinfo=datetime.timezone.utc)}, {'comment_id': 2603480753, 'issue_id': 2798612244, 'author': 'Elvic571', 'body': 'Hey I am not a big professional here but manufacturing for tomorrow is a mess since I am not able to set the right mfg date. Is there a walk around since I believe it will take a while to fix this bug? which probably not a bug from Odoo support standpoint.', 'created_at': datetime.datetime(2025, 1, 21, 2, 6, 52, tzinfo=datetime.timezone.utc)}, {'comment_id': 2603845160, 'issue_id': 2798612244, 'author': 'Du-ma', 'body': ""@Elvic571 \r\nThe only work-arrounds are to somehow rollback odoo version.\r\nIf you're on `odoo.sh` it's not that hard to do, it should be in the settings tab, in the `.sh` interface\r\nSwitch to the version that's before the date `2024-01-15`\r\n\r\nIf you're on your own server, you can do the same, but it will require some basic knowledge of `git`.\r\n\r\nRegarding the fix, it's honestly baffling how this isn't merged yet..."", 'created_at': datetime.datetime(2025, 1, 21, 7, 25, 47, tzinfo=datetime.timezone.utc)}, {'comment_id': 2604484712, 'issue_id': 2798612244, 'author': 'amoyaux', 'body': 'robodoo r+', 'created_at': datetime.datetime(2025, 1, 21, 11, 38, 1, tzinfo=datetime.timezone.utc)}, {'comment_id': 2604486562, 'issue_id': 2798612244, 'author': 'Elvic571', 'body': ""not sure if it is a good temporary solution but at least it worked for me. I added this code:\r\n\r\nfrom odoo import models, fields, api\r\n\r\nclass mrp_production(models.Model):\r\n    _inherit = 'mrp.production'\r\n\r\n    def write(self, vals):\r\n        if 'date_start' in vals:\r\n            vals['date_start'] = fields.Datetime.to_datetime(vals['date_start'])\r\n        return super(mrp_production, self).write(vals)"", 'created_at': datetime.datetime(2025, 1, 21, 11, 38, 52, tzinfo=datetime.timezone.utc)}, {'comment_id': 2604496608, 'issue_id': 2798612244, 'author': 'amoyaux', 'body': 'robodoo r-', 'created_at': datetime.datetime(2025, 1, 21, 11, 43, 38, tzinfo=datetime.timezone.utc)}, {'comment_id': 2604496863, 'issue_id': 2798612244, 'author': 'amoyaux', 'body': 'Fixed in https://github.com/odoo/odoo/pull/194376', 'created_at': datetime.datetime(2025, 1, 21, 11, 43, 45, tzinfo=datetime.timezone.utc)}, {'comment_id': 2604716801, 'issue_id': 2798612244, 'author': 'Du-ma', 'body': '@micheledic \r\nah well :man_shrugging:', 'created_at': datetime.datetime(2025, 1, 21, 13, 19, 36, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-20 08:51:54 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/194325.png)](https://mergebot.odoo.com/odoo/odoo/pull/194325)

micheledic (Issue Creator) on (2025-01-20 08:53:05 UTC): @svs-odoo @Whenrow  i think it is urgent!

Du-ma on (2025-01-20 09:00:07 UTC): Now that's a fast reaction!
But did you test to see if it would work in all cases?
I mean, I know that we can use write with date objects, strings and bool to set a date.

`date_start` is a required field, so maybe we can skip the bool, but does it work with objects?

micheledic (Issue Creator) on (2025-01-20 09:02:37 UTC): I tried on a jupyter 

```
test_date = ""2023-10-14 07:13:56""
fields.Datetime.to_datetime(fields.Datetime.to_datetime(test_date ))

```
 It works also with date value

Du-ma on (2025-01-20 11:56:34 UTC): @mart-e
Hey, me and my dawg here, we noised there's a pretty big issue here, would it be possible to have this be looked at?

micheledic (Issue Creator) on (2025-01-20 12:31:14 UTC): Maybe also @amoyaux can check

Elvic571 on (2025-01-21 02:06:52 UTC): Hey I am not a big professional here but manufacturing for tomorrow is a mess since I am not able to set the right mfg date. Is there a walk around since I believe it will take a while to fix this bug? which probably not a bug from Odoo support standpoint.

Du-ma on (2025-01-21 07:25:47 UTC): @Elvic571 
The only work-arrounds are to somehow rollback odoo version.
If you're on `odoo.sh` it's not that hard to do, it should be in the settings tab, in the `.sh` interface
Switch to the version that's before the date `2024-01-15`

If you're on your own server, you can do the same, but it will require some basic knowledge of `git`.

Regarding the fix, it's honestly baffling how this isn't merged yet...

amoyaux on (2025-01-21 11:38:01 UTC): robodoo r+

Elvic571 on (2025-01-21 11:38:52 UTC): not sure if it is a good temporary solution but at least it worked for me. I added this code:

from odoo import models, fields, api

class mrp_production(models.Model):
    _inherit = 'mrp.production'

    def write(self, vals):
        if 'date_start' in vals:
            vals['date_start'] = fields.Datetime.to_datetime(vals['date_start'])
        return super(mrp_production, self).write(vals)

amoyaux on (2025-01-21 11:43:38 UTC): robodoo r-

amoyaux on (2025-01-21 11:43:45 UTC): Fixed in https://github.com/odoo/odoo/pull/194376

Du-ma on (2025-01-21 13:19:36 UTC): @micheledic 
ah well :man_shrugging:

"
2798601755,pull_request,closed,,[FW][FIX] pos_self_order: corrected price calculation for combo product lines,"Issue:
=======
Combo product lines in the POS frontend displayed incorrect prices when order from self Order

Cause:
=======
The `price_unit` was being calculated without considering the `combo_item_id`. For example:
price_unit += pos_order_line.combo_price + price_extra_child`

Fix:
=====
The `combo_item_id` was included in the calculation to ensure accuracy: price_unit += pos_order_line.`combo_item_id`.combo_price + price_extra_child

Task-4464002

Forward-Port-Of: odoo/odoo#194182
Forward-Port-Of: odoo/odoo#193356",fw-bot,2025-01-20 08:47:02+00:00,[],2025-02-03 15:15:00+00:00,2025-01-20 15:08:16+00:00,https://github.com/odoo/odoo/pull/194324,"[('RD', 'research & development, internal work'), ('forwardport', 'This PR was created by @fw-bot')]","[{'comment_id': 2601777534, 'issue_id': 2798601755, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/194324.png)](https://mergebot.odoo.com/odoo/odoo/pull/194324)', 'created_at': datetime.datetime(2025, 1, 20, 8, 47, 3, tzinfo=datetime.timezone.utc)}, {'comment_id': 2601777554, 'issue_id': 2798601755, 'author': 'fw-bot', 'body': 'This PR targets saas-18.1 and is part of the forward-port chain. Further PRs will be created up to master.\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 20, 8, 47, 4, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-20 08:47:03 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/194324.png)](https://mergebot.odoo.com/odoo/odoo/pull/194324)

fw-bot (Issue Creator) on (2025-01-20 08:47:04 UTC): This PR targets saas-18.1 and is part of the forward-port chain. Further PRs will be created up to master.

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

"
2798586470,pull_request,open,,Saas 18.1 uom fixes arm,"Description of the issue/feature this PR addresses:

Current behavior before PR:

Desired behavior after PR is merged:




---
I confirm I have signed the CLA and read the PR guidelines at www.odoo.com/submit-pr
",amoyaux,2025-01-20 08:41:41+00:00,[],2025-01-29 09:07:32+00:00,,https://github.com/odoo/odoo/pull/194323,"[('RD', 'research & development, internal work')]","[{'comment_id': 2601763385, 'issue_id': 2798586470, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/194323.png)](https://mergebot.odoo.com/odoo/odoo/pull/194323)', 'created_at': datetime.datetime(2025, 1, 20, 8, 41, 44, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-20 08:41:44 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/194323.png)](https://mergebot.odoo.com/odoo/odoo/pull/194323)

"
2798545789,pull_request,open,,[FIX] portal: display template for portal invite,"Steps to reproduce:
----

- Create a portal access to a user
- Go to the email template (Portal: User Invite)
- Preview

Issue:
---

The display was based on the user itself referencing to a partner. And there was no name for the portal users.

Fix:
---

Changed the view so now the different values are based on the partner.Also added the name to this function based on the partner name.

opw-4444729

---
I confirm I have signed the CLA and read the PR guidelines at www.odoo.com/submit-pr
",jaeschwa,2025-01-20 08:22:05+00:00,[],2025-01-29 08:44:54+00:00,,https://github.com/odoo/odoo/pull/194322,"[('OE', 'the report is linked to a support ticket (opw-...)')]","[{'comment_id': 2601722566, 'issue_id': 2798545789, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/194322.png)](https://mergebot.odoo.com/odoo/odoo/pull/194322)', 'created_at': datetime.datetime(2025, 1, 20, 8, 22, 9, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-20 08:22:09 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/194322.png)](https://mergebot.odoo.com/odoo/odoo/pull/194322)

"
2798509486,pull_request,closed,,[FW][FIX] base_automation: hide domain for on_change's,"Before this commit, the base.automation form view displays the filter_domain field when on_change trigger type is selected but the code does not take into account the filter_domain value for this type of trigger.

After this commit, this field is simply hidden in that case.

Task: opw-4492554

Forward-Port-Of: odoo/odoo#194158",fw-bot,2025-01-20 08:08:07+00:00,[],2025-02-03 17:34:12+00:00,2025-01-20 17:30:47+00:00,https://github.com/odoo/odoo/pull/194321,"[('OE', 'the report is linked to a support ticket (opw-...)'), ('forwardport', 'This PR was created by @fw-bot'), ('conflict', 'There was an error while creating this forward-port PR')]","[{'comment_id': 2601693151, 'issue_id': 2798509486, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/194321.png)](https://mergebot.odoo.com/odoo/odoo/pull/194321)', 'created_at': datetime.datetime(2025, 1, 20, 8, 8, 8, tzinfo=datetime.timezone.utc)}, {'comment_id': 2601693186, 'issue_id': 2798509486, 'author': 'fw-bot', 'body': '@brboi @ryv-odoo cherrypicking of pull request odoo/odoo#194158 failed.\n\nstdout:\n```\nAuto-merging addons/base_automation/views/base_automation_views.xml\nCONFLICT (content): Merge conflict in addons/base_automation/views/base_automation_views.xml\n\n```\n\nEither perform the forward-port manually (and push to this branch, proceeding as usual) or close this PR (maybe?).\n\nIn the former case, you may want to edit this PR message as well.\n\n:warning: after resolving this conflict, you will need to merge it via @robodoo.\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 20, 8, 8, 9, tzinfo=datetime.timezone.utc)}, {'comment_id': 2602776780, 'issue_id': 2798509486, 'author': 'brboi', 'body': '@robodoo r+', 'created_at': datetime.datetime(2025, 1, 20, 15, 57, 51, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-20 08:08:08 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/194321.png)](https://mergebot.odoo.com/odoo/odoo/pull/194321)

fw-bot (Issue Creator) on (2025-01-20 08:08:09 UTC): @brboi @ryv-odoo cherrypicking of pull request odoo/odoo#194158 failed.

stdout:
```
Auto-merging addons/base_automation/views/base_automation_views.xml
CONFLICT (content): Merge conflict in addons/base_automation/views/base_automation_views.xml

```

Either perform the forward-port manually (and push to this branch, proceeding as usual) or close this PR (maybe?).

In the former case, you may want to edit this PR message as well.

:warning: after resolving this conflict, you will need to merge it via @robodoo.

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

brboi on (2025-01-20 15:57:51 UTC): @robodoo r+

"
2798495505,pull_request,closed,,[FIX] web: adapt query counters,"Following the changes in the related enterprise PR, query counters must be adapted.
Some overrides in accounting modules causes the query counter to go up.

Runbot Error: 109492
",Williambraecky,2025-01-20 08:03:21+00:00,[],2025-02-04 18:21:58+00:00,2025-01-21 18:16:10+00:00,https://github.com/odoo/odoo/pull/194320,"[('RD', 'research & development, internal work')]","[{'comment_id': 2601683542, 'issue_id': 2798495505, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/194320.png)](https://mergebot.odoo.com/odoo/odoo/pull/194320)', 'created_at': datetime.datetime(2025, 1, 20, 8, 3, 25, tzinfo=datetime.timezone.utc)}, {'comment_id': 2604649078, 'issue_id': 2798495505, 'author': 'Williambraecky', 'body': '@ryv-odoo should be good now for all runbot cases (at this moment 🫠 )', 'created_at': datetime.datetime(2025, 1, 21, 12, 50, 26, tzinfo=datetime.timezone.utc)}, {'comment_id': 2604672122, 'issue_id': 2798495505, 'author': 'ryv-odoo', 'body': '@robodoo r+\r\nSry that you have to update it several times', 'created_at': datetime.datetime(2025, 1, 21, 12, 59, 51, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-20 08:03:25 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/194320.png)](https://mergebot.odoo.com/odoo/odoo/pull/194320)

Williambraecky (Issue Creator) on (2025-01-21 12:50:26 UTC): @ryv-odoo should be good now for all runbot cases (at this moment 🫠 )

ryv-odoo on (2025-01-21 12:59:51 UTC): @robodoo r+
Sry that you have to update it several times

"
2798479588,pull_request,closed,,[FIX] cli/*: fix script converting tree to list (regression),"since the pr https://github.com/odoo/odoo/pull/189883, the file updates made are not consistent:

'list<editable=""bottom"">'.",Gorash,2025-01-20 07:57:19+00:00,[],2025-02-06 13:08:25+00:00,2025-01-23 12:58:11+00:00,https://github.com/odoo/odoo/pull/194319,"[('RD', 'research & development, internal work')]","[{'comment_id': 2601670870, 'issue_id': 2798479588, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/194319.png)](https://mergebot.odoo.com/odoo/odoo/pull/194319)', 'created_at': datetime.datetime(2025, 1, 20, 7, 57, 23, tzinfo=datetime.timezone.utc)}, {'comment_id': 2603930384, 'issue_id': 2798479588, 'author': 'robodoo', 'body': '@gorash @Julien00859 staging failed: ci/runbot on 68005c126df9def1b550b5dc8c12d52f547ada26 (view more at https://runbot.odoo.com/runbot/build/73692813)', 'created_at': datetime.datetime(2025, 1, 21, 8, 16, 34, tzinfo=datetime.timezone.utc)}, {'comment_id': 2609415724, 'issue_id': 2798479588, 'author': 'Gorash', 'body': '@robodoo retry', 'created_at': datetime.datetime(2025, 1, 23, 10, 18, 17, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-20 07:57:23 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/194319.png)](https://mergebot.odoo.com/odoo/odoo/pull/194319)

robodoo on (2025-01-21 08:16:34 UTC): @gorash @Julien00859 staging failed: ci/runbot on 68005c126df9def1b550b5dc8c12d52f547ada26 (view more at https://runbot.odoo.com/runbot/build/73692813)

Gorash (Issue Creator) on (2025-01-23 10:18:17 UTC): @robodoo retry

"
2798474847,pull_request,closed,,Master recruitment interface promenade akha,"Description of the issue/feature this PR addresses:

Current behavior before PR:

Desired behavior after PR is merged:




---
I confirm I have signed the CLA and read the PR guidelines at www.odoo.com/submit-pr
",abdelrahmankhaledg,2025-01-20 07:55:33+00:00,[],2025-01-27 08:43:25+00:00,2025-01-27 08:43:25+00:00,https://github.com/odoo/odoo/pull/194318,"[('RD', 'research & development, internal work')]","[{'comment_id': 2601667684, 'issue_id': 2798474847, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/194318.png)](https://mergebot.odoo.com/odoo/odoo/pull/194318)', 'created_at': datetime.datetime(2025, 1, 20, 7, 55, 35, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-20 07:55:35 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/194318.png)](https://mergebot.odoo.com/odoo/odoo/pull/194318)

"
2798445400,pull_request,closed,,[FW][FIX] web: buttonbox with only one item alignment on small screen,"On smaller screen, the statbuttons are grouped in a dropdown (the
""lightning"" icon) and displayed in two columns.

But when only one button is present, it leaves a weird empty cell next
to it.

This commit fixes it by adding an exception in CSS when only one button
is present to remove the useless column and center it.

Note: this change doesn't affect the empty cell when an odd number of
buttons are displayed.

task-4491705

Forward-Port-Of: odoo/odoo#194083",fw-bot,2025-01-20 07:40:36+00:00,[],2025-02-03 13:39:21+00:00,2025-01-20 13:31:59+00:00,https://github.com/odoo/odoo/pull/194317,"[('RD', 'research & development, internal work'), ('forwardport', 'This PR was created by @fw-bot'), ('18.2', None)]","[{'comment_id': 2601638175, 'issue_id': 2798445400, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/194317.png)](https://mergebot.odoo.com/odoo/odoo/pull/194317)', 'created_at': datetime.datetime(2025, 1, 20, 7, 40, 37, tzinfo=datetime.timezone.utc)}, {'comment_id': 2601638208, 'issue_id': 2798445400, 'author': 'fw-bot', 'body': '@pparidans @adr-odoo this PR targets master and is the last of the forward-port chain containing:\n* odoo/odoo#194241\n\nTo merge the full chain, use\n> @robodoo r+\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 20, 7, 40, 37, tzinfo=datetime.timezone.utc)}, {'comment_id': 2601659299, 'issue_id': 2798445400, 'author': 'adr-odoo', 'body': '@robodoo r+', 'created_at': datetime.datetime(2025, 1, 20, 7, 50, 38, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-20 07:40:37 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/194317.png)](https://mergebot.odoo.com/odoo/odoo/pull/194317)

fw-bot (Issue Creator) on (2025-01-20 07:40:37 UTC): @pparidans @adr-odoo this PR targets master and is the last of the forward-port chain containing:
* odoo/odoo#194241

To merge the full chain, use

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

adr-odoo on (2025-01-20 07:50:38 UTC): @robodoo r+

"
2798371809,pull_request,closed,,[FIX] mail: multiple action_unfollow on livechat leave,"Before this PR, leaving a livechat channel from the Discuss app would trigger multiple `action_unfollow` actions:
- One initiated by the Discuss app.
- Another triggered by the `channel/leave` notification.

This PR resolves the issue by ensuring that the `channel/leave` notification does not redundantly trigger an `action_unfollow`.

Task-4488437

Additionally, this commit addresses minor code structure issues.

---
I confirm I have signed the CLA and read the PR guidelines at www.odoo.com/submit-pr
",rapr-odoo,2025-01-20 07:04:38+00:00,[],2025-01-25 11:50:52+00:00,2025-01-24 16:58:37+00:00,https://github.com/odoo/odoo/pull/194316,"[('RD', 'research & development, internal work')]","[{'comment_id': 2601526903, 'issue_id': 2798371809, 'author': 'robodoo', 'body': 'This PR targets the un-managed branch odoo/odoo:staging.saas-18.1, it needs to be retargeted before it can be merged.', 'created_at': datetime.datetime(2025, 1, 20, 7, 4, 41, tzinfo=datetime.timezone.utc)}, {'comment_id': 2601888287, 'issue_id': 2798371809, 'author': 'robodoo', 'body': 'This PR targets the un-managed branch odoo/odoo:staging.saas-18.1, it needs to be retargeted before it can be merged.', 'created_at': datetime.datetime(2025, 1, 20, 9, 35, 35, tzinfo=datetime.timezone.utc)}, {'comment_id': 2601898536, 'issue_id': 2798371809, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/194316.png)](https://mergebot.odoo.com/odoo/odoo/pull/194316)', 'created_at': datetime.datetime(2025, 1, 20, 9, 40, 1, tzinfo=datetime.timezone.utc)}, {'comment_id': 2602077963, 'issue_id': 2798371809, 'author': 'alexkuhn', 'body': ""@rapr-odoo I was thinking of something like this: https://github.com/odoo/odoo/pull/194345\r\n(haven't checked whether tests pass, functionally is seems to work)"", 'created_at': datetime.datetime(2025, 1, 20, 10, 48, 19, tzinfo=datetime.timezone.utc)}, {'comment_id': 2602861688, 'issue_id': 2798371809, 'author': 'seb-odoo', 'body': ""Hello, there is a new spec following discussion on the task, we will just remove this notification message, it's going to be easier."", 'created_at': datetime.datetime(2025, 1, 20, 16, 38, 5, tzinfo=datetime.timezone.utc)}, {'comment_id': 2603277234, 'issue_id': 2798371809, 'author': 'alexkuhn', 'body': ""> Hello, there is a new spec following discussion on the task, we will just remove this notification message, it's going to be easier.\r\n\r\nYes this is changed, but at the very least it shouldn't rpc multiple times. The notification was a symptoms of the multiple RPCs made by mistake, which this commit fixes and this is still relevant ;)"", 'created_at': datetime.datetime(2025, 1, 20, 21, 54, 19, tzinfo=datetime.timezone.utc)}, {'comment_id': 2609221584, 'issue_id': 2798371809, 'author': 'rapr-odoo', 'body': '@alexkuhn can you please take a look?', 'created_at': datetime.datetime(2025, 1, 23, 9, 3, 33, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-20 07:04:41 UTC): This PR targets the un-managed branch odoo/odoo:staging.saas-18.1, it needs to be retargeted before it can be merged.

robodoo on (2025-01-20 09:35:35 UTC): This PR targets the un-managed branch odoo/odoo:staging.saas-18.1, it needs to be retargeted before it can be merged.

robodoo on (2025-01-20 09:40:01 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/194316.png)](https://mergebot.odoo.com/odoo/odoo/pull/194316)

alexkuhn on (2025-01-20 10:48:19 UTC): @rapr-odoo I was thinking of something like this: https://github.com/odoo/odoo/pull/194345
(haven't checked whether tests pass, functionally is seems to work)

seb-odoo on (2025-01-20 16:38:05 UTC): Hello, there is a new spec following discussion on the task, we will just remove this notification message, it's going to be easier.

alexkuhn on (2025-01-20 21:54:19 UTC): Yes this is changed, but at the very least it shouldn't rpc multiple times. The notification was a symptoms of the multiple RPCs made by mistake, which this commit fixes and this is still relevant ;)

rapr-odoo (Issue Creator) on (2025-01-23 09:03:33 UTC): @alexkuhn can you please take a look?

"
2798368415,pull_request,closed,,[FW][FIX] mail: users appearing as offline,"When a user disconnects, a message is sent on the bus. If another device is active, he will correct the user status. However, it can happen that this message is lost. For instance, when the bus table is cleared while the user is disconnected. Other parts of the code will update the user status, but the status will never be corrected.

This PR react to the user status changes to solve this issue.

opw-4484966

Description of the issue/feature this PR addresses:

Current behavior before PR:

Desired behavior after PR is merged:




---
I confirm I have signed the CLA and read the PR guidelines at www.odoo.com/submit-pr

Forward-Port-Of: odoo/odoo#194226
Forward-Port-Of: odoo/odoo#194074",fw-bot,2025-01-20 07:03:29+00:00,[],2025-01-20 12:26:34+00:00,2025-01-20 12:03:15+00:00,https://github.com/odoo/odoo/pull/194315,"[('OE', 'the report is linked to a support ticket (opw-...)'), ('forwardport', 'This PR was created by @fw-bot'), ('18.2', None)]","[{'comment_id': 2601520991, 'issue_id': 2798368415, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/194315.png)](https://mergebot.odoo.com/odoo/odoo/pull/194315)', 'created_at': datetime.datetime(2025, 1, 20, 7, 3, 30, tzinfo=datetime.timezone.utc)}, {'comment_id': 2601521114, 'issue_id': 2798368415, 'author': 'fw-bot', 'body': '@tsm-odoo @alexkuhn this PR targets master and is the last of the forward-port chain.\n\nTo merge the full chain, use\n> @robodoo r+\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 20, 7, 3, 31, tzinfo=datetime.timezone.utc)}, {'comment_id': 2601645072, 'issue_id': 2798368415, 'author': 'fw-bot', 'body': '@tsm-odoo @alexkuhn ci/runbot failed on this forward-port PR', 'created_at': datetime.datetime(2025, 1, 20, 7, 43, 43, tzinfo=datetime.timezone.utc)}, {'comment_id': 2601652692, 'issue_id': 2798368415, 'author': 'tsm-odoo', 'body': '@robodoo r+', 'created_at': datetime.datetime(2025, 1, 20, 7, 47, 24, tzinfo=datetime.timezone.utc)}, {'comment_id': 2601652773, 'issue_id': 2798368415, 'author': 'robodoo', 'body': '@tsm-odoo you may want to rebuild or fix this PR as it has failed CI.', 'created_at': datetime.datetime(2025, 1, 20, 7, 47, 26, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-20 07:03:30 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/194315.png)](https://mergebot.odoo.com/odoo/odoo/pull/194315)

fw-bot (Issue Creator) on (2025-01-20 07:03:31 UTC): @tsm-odoo @alexkuhn this PR targets master and is the last of the forward-port chain.

To merge the full chain, use

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

fw-bot (Issue Creator) on (2025-01-20 07:43:43 UTC): @tsm-odoo @alexkuhn ci/runbot failed on this forward-port PR

tsm-odoo on (2025-01-20 07:47:24 UTC): @robodoo r+

robodoo on (2025-01-20 07:47:26 UTC): @tsm-odoo you may want to rebuild or fix this PR as it has failed CI.

"
2798342041,pull_request,open,,[FIX] project: fix onboarding tour not working in all langauges,"Steps to reproduce:

- Run project tour.
- Change the language
- Proceed with the tour

Isuse:

- The tours fails.

Problem:

- It is due to the triggers using english text in :contains.

Fix:

- Replace all the :contains with concrete triggers.

task-4479518
",kthe-odoo,2025-01-20 06:48:09+00:00,[],2025-02-07 14:37:30+00:00,,https://github.com/odoo/odoo/pull/194314,"[('RD', 'research & development, internal work')]","[{'comment_id': 2601496902, 'issue_id': 2798342041, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/194314.png)](https://mergebot.odoo.com/odoo/odoo/pull/194314)', 'created_at': datetime.datetime(2025, 1, 20, 6, 48, 11, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-20 06:48:11 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/194314.png)](https://mergebot.odoo.com/odoo/odoo/pull/194314)

"
2798248530,pull_request,closed,,[FW][FIX] bus: do not show connection alert everywhere,"This is distracting for end users, restrict it to the discuss app. Also reduce its style so this feels less aggressive.

Forward-Port-Of: odoo/odoo#194256
Forward-Port-Of: odoo/odoo#194166",fw-bot,2025-01-20 05:46:49+00:00,[],2025-01-20 12:27:28+00:00,2025-01-20 12:03:19+00:00,https://github.com/odoo/odoo/pull/194313,"[('RD', 'research & development, internal work'), ('forwardport', 'This PR was created by @fw-bot'), ('18.2', None)]","[{'comment_id': 2601422162, 'issue_id': 2798248530, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/194313.png)](https://mergebot.odoo.com/odoo/odoo/pull/194313)', 'created_at': datetime.datetime(2025, 1, 20, 5, 46, 50, tzinfo=datetime.timezone.utc)}, {'comment_id': 2601422175, 'issue_id': 2798248530, 'author': 'fw-bot', 'body': '@tsm-odoo @alexkuhn this PR targets master and is the last of the forward-port chain.\n\nTo merge the full chain, use\n> @robodoo r+\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 20, 5, 46, 51, tzinfo=datetime.timezone.utc)}, {'comment_id': 2601471342, 'issue_id': 2798248530, 'author': 'fw-bot', 'body': '@tsm-odoo @alexkuhn ci/runbot failed on this forward-port PR', 'created_at': datetime.datetime(2025, 1, 20, 6, 27, 45, tzinfo=datetime.timezone.utc)}, {'comment_id': 2601640228, 'issue_id': 2798248530, 'author': 'tsm-odoo', 'body': '@robodoo r+', 'created_at': datetime.datetime(2025, 1, 20, 7, 41, 15, tzinfo=datetime.timezone.utc)}, {'comment_id': 2601640376, 'issue_id': 2798248530, 'author': 'robodoo', 'body': '@tsm-odoo you may want to rebuild or fix this PR as it has failed CI.', 'created_at': datetime.datetime(2025, 1, 20, 7, 41, 17, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-20 05:46:50 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/194313.png)](https://mergebot.odoo.com/odoo/odoo/pull/194313)

fw-bot (Issue Creator) on (2025-01-20 05:46:51 UTC): @tsm-odoo @alexkuhn this PR targets master and is the last of the forward-port chain.

To merge the full chain, use

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

fw-bot (Issue Creator) on (2025-01-20 06:27:45 UTC): @tsm-odoo @alexkuhn ci/runbot failed on this forward-port PR

tsm-odoo on (2025-01-20 07:41:15 UTC): @robodoo r+

robodoo on (2025-01-20 07:41:17 UTC): @tsm-odoo you may want to rebuild or fix this PR as it has failed CI.

"
2798188294,pull_request,closed,,[FW][FIX] mail: full composer auto-save does not affect other composers,"Before this commit, when some conversations were open in chat windows and the full composer was open in a chatter, the content of full composer message composition could be duplicated in other conversation composers.

Steps to reproduce:
- open a discuss conversation in chat window
- open a form view with chatter
- quickly perform these actions in a 5 seconds window:
  - type something in composer of discuss chat window
  - clear content in composer of discuss chat window
  - open basic composer of chatter then type something
  - open the full composer
- wait about 5 seconds, then open a new browser tab with the same URL
=> the chat window of discuss conversation contains the full composer text content

This happens because when some content is typed in the non-full composer, the text content is regularly saved in local storage so that content is not lost on page reload.

The saving is debounced 5 seconds whenever the user types something.

The full composer must also be saved & restored in chatter, as this is also a frequent point of typing long messages and content may be lost without the save & restore feature.
The code to handling it was poorly written and forgot to assume there could be more than 1 composer open at once: whenever a save content in composer is in progress, it was simply checking whether a full composer is open, and if so it was simply saving the full composer content.

This explains the problem in the scenario above: when typing in discuss conversation in chat window, the save content is triggered after 5 seconds. The opening of full composer disrupts the discuss conversation composer content saving by not saving the discuss conversation composer but instead the full composer content in it.

This commit fixes the issue by enforcing debounce saving to save the content in the current composer. The full composer was never intended to be implied in the debounced save content, only the basic composer is. The full composer saving content works differently: whenever the full composer is closed in non-discard way the save of full composer in basic composer must happen.

Task-4485021

![Jan-16-2025 12-38-38](https://github.com/user-attachments/assets/1637bebe-e3e0-41f5-8cdf-24f3264b4318)

Forward-Port-Of: odoo/odoo#194307
Forward-Port-Of: odoo/odoo#193936",fw-bot,2025-01-20 04:58:12+00:00,[],2025-01-20 15:32:50+00:00,2025-01-20 15:30:59+00:00,https://github.com/odoo/odoo/pull/194312,"[('RD', 'research & development, internal work'), ('forwardport', 'This PR was created by @fw-bot'), ('18.2', None)]","[{'comment_id': 2601368950, 'issue_id': 2798188294, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/194312.png)](https://mergebot.odoo.com/odoo/odoo/pull/194312)', 'created_at': datetime.datetime(2025, 1, 20, 4, 58, 13, tzinfo=datetime.timezone.utc)}, {'comment_id': 2601368957, 'issue_id': 2798188294, 'author': 'fw-bot', 'body': '@alexkuhn this PR targets master and is the last of the forward-port chain.\n\nTo merge the full chain, use\n> @robodoo r+\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 20, 4, 58, 14, tzinfo=datetime.timezone.utc)}, {'comment_id': 2601973395, 'issue_id': 2798188294, 'author': 'alexkuhn', 'body': '@robodoo r+', 'created_at': datetime.datetime(2025, 1, 20, 10, 9, 37, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-20 04:58:13 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/194312.png)](https://mergebot.odoo.com/odoo/odoo/pull/194312)

fw-bot (Issue Creator) on (2025-01-20 04:58:14 UTC): @alexkuhn this PR targets master and is the last of the forward-port chain.

To merge the full chain, use

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

alexkuhn on (2025-01-20 10:09:37 UTC): @robodoo r+

"
2797858968,pull_request,closed,,[FIX] web: context should be applied before order,"Otherwise, if we use a context, it is not applied when filtering

Description of the issue/feature this PR addresses:  if you create a One2Many field with context={'active_test': 1} and you use the default_order on the tree view, the context is not applied.

Current behavior before PR: Contexts are not applied

Desired behavior after PR is merged: Context is applied.




---
I confirm I have signed the CLA and read the PR guidelines at www.odoo.com/submit-pr
",etobella,2025-01-19 22:15:46+00:00,[],2025-01-27 13:20:34+00:00,2025-01-27 13:20:34+00:00,https://github.com/odoo/odoo/pull/194311,[],"[{'comment_id': 2601042608, 'issue_id': 2797858968, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/194311.png)](https://mergebot.odoo.com/odoo/odoo/pull/194311)', 'created_at': datetime.datetime(2025, 1, 19, 22, 15, 48, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-19 22:15:48 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/194311.png)](https://mergebot.odoo.com/odoo/odoo/pull/194311)

"
2797814483,pull_request,closed,,[FW][IMP] im_livechat: enable translations in live chat,"With this commit message translation will be available in livechat channels for internal users.

task-4457025

https://github.com/odoo/enterprise/pull/76936

Forward-Port-Of: odoo/odoo#193260",fw-bot,2025-01-19 20:26:20+00:00,[],2025-01-20 10:08:39+00:00,2025-01-20 03:05:46+00:00,https://github.com/odoo/odoo/pull/194310,"[('RD', 'research & development, internal work'), ('forwardport', 'This PR was created by @fw-bot'), ('18.2', None)]","[{'comment_id': 2601009419, 'issue_id': 2797814483, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/194310.png)](https://mergebot.odoo.com/odoo/odoo/pull/194310)', 'created_at': datetime.datetime(2025, 1, 19, 20, 26, 22, tzinfo=datetime.timezone.utc)}, {'comment_id': 2601009421, 'issue_id': 2797814483, 'author': 'fw-bot', 'body': '@alexkuhn this PR targets master and is the last of the forward-port chain.\n\nTo merge the full chain, use\n> @robodoo r+\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 19, 20, 26, 23, tzinfo=datetime.timezone.utc)}, {'comment_id': 2601011670, 'issue_id': 2797814483, 'author': 'alexkuhn', 'body': '@robodoo r+', 'created_at': datetime.datetime(2025, 1, 19, 20, 32, 58, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-19 20:26:22 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/194310.png)](https://mergebot.odoo.com/odoo/odoo/pull/194310)

fw-bot (Issue Creator) on (2025-01-19 20:26:23 UTC): @alexkuhn this PR targets master and is the last of the forward-port chain.

To merge the full chain, use

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

alexkuhn on (2025-01-19 20:32:58 UTC): @robodoo r+

"
2797767069,pull_request,closed,,[FW][FIX] mail: no autofocus on composer on mobile,"Before this commit, when opening a channel on mobile the composer gets automatically focused.
This is not a problem on desktop, but when on mobile it triggers the opening of the system keyboard, occupying half the screen and requiring a ""back"" command to close it.

This happens because the function that opens the chat window will put focus on the composer.
This commit fixes the issue by only focusing the composer when not on mobile.

task-4115728

Forward-Port-Of: odoo/odoo#194274
Forward-Port-Of: odoo/odoo#194122",fw-bot,2025-01-19 18:32:35+00:00,[],2025-01-19 19:23:40+00:00,2025-01-19 19:23:37+00:00,https://github.com/odoo/odoo/pull/194308,"[('RD', 'research & development, internal work'), ('forwardport', 'This PR was created by @fw-bot'), ('conflict', 'There was an error while creating this forward-port PR')]","[{'comment_id': 2600973039, 'issue_id': 2797767069, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/194308.png)](https://mergebot.odoo.com/odoo/odoo/pull/194308)', 'created_at': datetime.datetime(2025, 1, 19, 18, 32, 36, tzinfo=datetime.timezone.utc)}, {'comment_id': 2600973042, 'issue_id': 2797767069, 'author': 'fw-bot', 'body': '@Atovange @alexkuhn cherrypicking of pull request odoo/odoo#194122 failed.\n\nstdout:\n```\nCONFLICT (modify/delete): addons/mail/static/src/core/web/thread_service_patch.js deleted in ea44301837494697fdcd3f4c43871b9511d4cd84 and modified in 5f441c63d0b9f8b089b308d352e2d152ac15da5e.  Version 5f441c63d0b9f8b089b308d352e2d152ac15da5e of addons/mail/static/src/core/web/thread_service_patch.js left in tree.\n\n```\n\nEither perform the forward-port manually (and push to this branch, proceeding as usual) or close this PR (maybe?).\n\nIn the former case, you may want to edit this PR message as well.\n\n:warning: after resolving this conflict, you will need to merge it via @robodoo.\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 19, 18, 32, 37, tzinfo=datetime.timezone.utc)}, {'comment_id': 2600989458, 'issue_id': 2797767069, 'author': 'alexkuhn', 'body': 'Already fixed by https://github.com/odoo/odoo/pull/176557', 'created_at': datetime.datetime(2025, 1, 19, 19, 23, 37, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-19 18:32:36 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/194308.png)](https://mergebot.odoo.com/odoo/odoo/pull/194308)

fw-bot (Issue Creator) on (2025-01-19 18:32:37 UTC): @Atovange @alexkuhn cherrypicking of pull request odoo/odoo#194122 failed.

stdout:
```
CONFLICT (modify/delete): addons/mail/static/src/core/web/thread_service_patch.js deleted in ea44301837494697fdcd3f4c43871b9511d4cd84 and modified in 5f441c63d0b9f8b089b308d352e2d152ac15da5e.  Version 5f441c63d0b9f8b089b308d352e2d152ac15da5e of addons/mail/static/src/core/web/thread_service_patch.js left in tree.

```

Either perform the forward-port manually (and push to this branch, proceeding as usual) or close this PR (maybe?).

In the former case, you may want to edit this PR message as well.

:warning: after resolving this conflict, you will need to merge it via @robodoo.

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

alexkuhn on (2025-01-19 19:23:37 UTC): Already fixed by https://github.com/odoo/odoo/pull/176557

"
2797753137,pull_request,closed,,[FW][FIX] mail: full composer auto-save does not affect other composers,"Before this commit, when some conversations were open in chat windows and the full composer was open in a chatter, the content of full composer message composition could be duplicated in other conversation composers.

Steps to reproduce:
- open a discuss conversation in chat window
- open a form view with chatter
- quickly perform these actions in a 5 seconds window:
  - type something in composer of discuss chat window
  - clear content in composer of discuss chat window
  - open basic composer of chatter then type something
  - open the full composer
- wait about 5 seconds, then open a new browser tab with the same URL
=> the chat window of discuss conversation contains the full composer text content

This happens because when some content is typed in the non-full composer, the text content is regularly saved in local storage so that content is not lost on page reload.

The saving is debounced 5 seconds whenever the user types something.

The full composer must also be saved & restored in chatter, as this is also a frequent point of typing long messages and content may be lost without the save & restore feature.
The code to handling it was poorly written and forgot to assume there could be more than 1 composer open at once: whenever a save content in composer is in progress, it was simply checking whether a full composer is open, and if so it was simply saving the full composer content.

This explains the problem in the scenario above: when typing in discuss conversation in chat window, the save content is triggered after 5 seconds. The opening of full composer disrupts the discuss conversation composer content saving by not saving the discuss conversation composer but instead the full composer content in it.

This commit fixes the issue by enforcing debounce saving to save the content in the current composer. The full composer was never intended to be implied in the debounced save content, only the basic composer is. The full composer saving content works differently: whenever the full composer is closed in non-discard way the save of full composer in basic composer must happen.

Task-4485021

![Jan-16-2025 12-38-38](https://github.com/user-attachments/assets/1637bebe-e3e0-41f5-8cdf-24f3264b4318)

Forward-Port-Of: odoo/odoo#193936",fw-bot,2025-01-19 18:00:11+00:00,[],2025-01-20 10:09:25+00:00,2025-01-20 04:27:59+00:00,https://github.com/odoo/odoo/pull/194307,"[('RD', 'research & development, internal work'), ('forwardport', 'This PR was created by @fw-bot'), ('conflict', 'There was an error while creating this forward-port PR')]","[{'comment_id': 2600962120, 'issue_id': 2797753137, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/194307.png)](https://mergebot.odoo.com/odoo/odoo/pull/194307)', 'created_at': datetime.datetime(2025, 1, 19, 18, 0, 13, tzinfo=datetime.timezone.utc)}, {'comment_id': 2600962127, 'issue_id': 2797753137, 'author': 'fw-bot', 'body': '@alexkuhn cherrypicking of pull request odoo/odoo#193936 failed.\n\nstdout:\n```\nAuto-merging addons/mail/static/src/core/common/composer.js\nCONFLICT (content): Merge conflict in addons/mail/static/src/core/common/composer.js\n\n```\n\nEither perform the forward-port manually (and push to this branch, proceeding as usual) or close this PR (maybe?).\n\nIn the former case, you may want to edit this PR message as well.\n\n:warning: after resolving this conflict, you will need to merge it via @robodoo.\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 19, 18, 0, 14, tzinfo=datetime.timezone.utc)}, {'comment_id': 2600988994, 'issue_id': 2797753137, 'author': 'alexkuhn', 'body': '@robodoo r+', 'created_at': datetime.datetime(2025, 1, 19, 19, 22, 5, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-19 18:00:13 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/194307.png)](https://mergebot.odoo.com/odoo/odoo/pull/194307)

fw-bot (Issue Creator) on (2025-01-19 18:00:14 UTC): @alexkuhn cherrypicking of pull request odoo/odoo#193936 failed.

stdout:
```
Auto-merging addons/mail/static/src/core/common/composer.js
CONFLICT (content): Merge conflict in addons/mail/static/src/core/common/composer.js

```

Either perform the forward-port manually (and push to this branch, proceeding as usual) or close this PR (maybe?).

In the former case, you may want to edit this PR message as well.

:warning: after resolving this conflict, you will need to merge it via @robodoo.

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

alexkuhn on (2025-01-19 19:22:05 UTC): @robodoo r+

"
2797583362,pull_request,closed,,[FW][FIX] pos_restaurant: remove dead code,"Remove dead code forgotten in previous commit

Forward-Port-Of: odoo/odoo#194139
Forward-Port-Of: odoo/odoo#193995",fw-bot,2025-01-19 11:50:57+00:00,[],2025-01-29 10:14:33+00:00,2025-01-29 10:14:33+00:00,https://github.com/odoo/odoo/pull/194305,"[('RD', 'research & development, internal work'), ('forwardport', 'This PR was created by @fw-bot'), ('conflict', 'There was an error while creating this forward-port PR')]","[{'comment_id': 2600826202, 'issue_id': 2797583362, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/194305.png)](https://mergebot.odoo.com/odoo/odoo/pull/194305)', 'created_at': datetime.datetime(2025, 1, 19, 11, 50, 59, tzinfo=datetime.timezone.utc)}, {'comment_id': 2600826203, 'issue_id': 2797583362, 'author': 'fw-bot', 'body': '@davidmonnom @caburj cherrypicking of pull request odoo/odoo#193995 failed.\n\nstdout:\n```\nAuto-merging addons/pos_restaurant/static/src/app/services/pos_store.js\nCONFLICT (content): Merge conflict in addons/pos_restaurant/static/src/app/services/pos_store.js\n\n```\n\nEither perform the forward-port manually (and push to this branch, proceeding as usual) or close this PR (maybe?).\n\nIn the former case, you may want to edit this PR message as well.\n\n:warning: after resolving this conflict, you will need to merge it via @robodoo.\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 19, 11, 50, 59, tzinfo=datetime.timezone.utc)}, {'comment_id': 2603475565, 'issue_id': 2797583362, 'author': 'fw-bot', 'body': '@davidmonnom @caburj this forward port of odoo/odoo#193995 is awaiting action (not merged or closed).', 'created_at': datetime.datetime(2025, 1, 21, 2, 0, 50, tzinfo=datetime.timezone.utc)}, {'comment_id': 2606118911, 'issue_id': 2797583362, 'author': 'fw-bot', 'body': '@davidmonnom @caburj this forward port of odoo/odoo#193995 is awaiting action (not merged or closed).', 'created_at': datetime.datetime(2025, 1, 22, 2, 1, 16, tzinfo=datetime.timezone.utc)}, {'comment_id': 2608688788, 'issue_id': 2797583362, 'author': 'fw-bot', 'body': '@davidmonnom @caburj this forward port of odoo/odoo#193995 is awaiting action (not merged or closed).', 'created_at': datetime.datetime(2025, 1, 23, 2, 0, 59, tzinfo=datetime.timezone.utc)}, {'comment_id': 2611385173, 'issue_id': 2797583362, 'author': 'fw-bot', 'body': '@davidmonnom @caburj this forward port of odoo/odoo#193995 is awaiting action (not merged or closed).', 'created_at': datetime.datetime(2025, 1, 24, 2, 0, 53, tzinfo=datetime.timezone.utc)}, {'comment_id': 2613721750, 'issue_id': 2797583362, 'author': 'fw-bot', 'body': '@davidmonnom @caburj this forward port of odoo/odoo#193995 is awaiting action (not merged or closed).', 'created_at': datetime.datetime(2025, 1, 25, 2, 1, 6, tzinfo=datetime.timezone.utc)}, {'comment_id': 2614172001, 'issue_id': 2797583362, 'author': 'fw-bot', 'body': '@davidmonnom @caburj this forward port of odoo/odoo#193995 is awaiting action (not merged or closed).', 'created_at': datetime.datetime(2025, 1, 26, 2, 1, 24, tzinfo=datetime.timezone.utc)}, {'comment_id': 2614722921, 'issue_id': 2797583362, 'author': 'fw-bot', 'body': '@davidmonnom @caburj this forward port of odoo/odoo#193995 is awaiting action (not merged or closed).', 'created_at': datetime.datetime(2025, 1, 27, 2, 2, 1, tzinfo=datetime.timezone.utc)}, {'comment_id': 2620471279, 'issue_id': 2797583362, 'author': 'fw-bot', 'body': '@davidmonnom @caburj this forward port of odoo/odoo#193995 is awaiting action (not merged or closed).', 'created_at': datetime.datetime(2025, 1, 29, 2, 0, 59, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-19 11:50:59 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/194305.png)](https://mergebot.odoo.com/odoo/odoo/pull/194305)

fw-bot (Issue Creator) on (2025-01-19 11:50:59 UTC): @davidmonnom @caburj cherrypicking of pull request odoo/odoo#193995 failed.

stdout:
```
Auto-merging addons/pos_restaurant/static/src/app/services/pos_store.js
CONFLICT (content): Merge conflict in addons/pos_restaurant/static/src/app/services/pos_store.js

```

Either perform the forward-port manually (and push to this branch, proceeding as usual) or close this PR (maybe?).

In the former case, you may want to edit this PR message as well.

:warning: after resolving this conflict, you will need to merge it via @robodoo.

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

fw-bot (Issue Creator) on (2025-01-21 02:00:50 UTC): @davidmonnom @caburj this forward port of odoo/odoo#193995 is awaiting action (not merged or closed).

fw-bot (Issue Creator) on (2025-01-22 02:01:16 UTC): @davidmonnom @caburj this forward port of odoo/odoo#193995 is awaiting action (not merged or closed).

fw-bot (Issue Creator) on (2025-01-23 02:00:59 UTC): @davidmonnom @caburj this forward port of odoo/odoo#193995 is awaiting action (not merged or closed).

fw-bot (Issue Creator) on (2025-01-24 02:00:53 UTC): @davidmonnom @caburj this forward port of odoo/odoo#193995 is awaiting action (not merged or closed).

fw-bot (Issue Creator) on (2025-01-25 02:01:06 UTC): @davidmonnom @caburj this forward port of odoo/odoo#193995 is awaiting action (not merged or closed).

fw-bot (Issue Creator) on (2025-01-26 02:01:24 UTC): @davidmonnom @caburj this forward port of odoo/odoo#193995 is awaiting action (not merged or closed).

fw-bot (Issue Creator) on (2025-01-27 02:02:01 UTC): @davidmonnom @caburj this forward port of odoo/odoo#193995 is awaiting action (not merged or closed).

fw-bot (Issue Creator) on (2025-01-29 02:00:59 UTC): @davidmonnom @caburj this forward port of odoo/odoo#193995 is awaiting action (not merged or closed).

"
2797557166,pull_request,closed,,[PERF] spreadsheet: load only one bundle,"Description of the issue/feature this PR addresses:

Current behavior before PR:

Desired behavior after PR is merged:




---
I confirm I have signed the CLA and read the PR guidelines at www.odoo.com/submit-pr
",LucasLefevre,2025-01-19 10:43:27+00:00,[],2025-02-04 09:46:23+00:00,2025-01-21 09:43:24+00:00,https://github.com/odoo/odoo/pull/194304,"[('RD', 'research & development, internal work')]","[{'comment_id': 2600804763, 'issue_id': 2797557166, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/194304.png)](https://mergebot.odoo.com/odoo/odoo/pull/194304)', 'created_at': datetime.datetime(2025, 1, 19, 10, 43, 29, tzinfo=datetime.timezone.utc)}, {'comment_id': 2603813792, 'issue_id': 2797557166, 'author': 'LucasLefevre', 'body': 'robodoo check\r\n(missed retarget)', 'created_at': datetime.datetime(2025, 1, 21, 7, 4, 54, tzinfo=datetime.timezone.utc)}, {'comment_id': 2603813884, 'issue_id': 2797557166, 'author': 'robodoo', 'body': 'Updated message. No update to pr head.', 'created_at': datetime.datetime(2025, 1, 21, 7, 4, 58, tzinfo=datetime.timezone.utc)}, {'comment_id': 2603871720, 'issue_id': 2797557166, 'author': 'pro-odoo', 'body': 'robodoo rebase-ff r+', 'created_at': datetime.datetime(2025, 1, 21, 7, 43, 18, tzinfo=datetime.timezone.utc)}, {'comment_id': 2603871788, 'issue_id': 2797557166, 'author': 'robodoo', 'body': 'Merge method set to rebase and fast-forward.', 'created_at': datetime.datetime(2025, 1, 21, 7, 43, 21, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-19 10:43:29 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/194304.png)](https://mergebot.odoo.com/odoo/odoo/pull/194304)

LucasLefevre (Issue Creator) on (2025-01-21 07:04:54 UTC): robodoo check
(missed retarget)

robodoo on (2025-01-21 07:04:58 UTC): Updated message. No update to pr head.

pro-odoo on (2025-01-21 07:43:18 UTC): robodoo rebase-ff r+

robodoo on (2025-01-21 07:43:21 UTC): Merge method set to rebase and fast-forward.

"
2797429125,pull_request,closed,,[FW][FIX] account: no frequent accounts,"The name search on the account field (account.account on account move line) looks for frequently used accounts for the partner. When no search text is provided, the name search suggests accounts that were previously used. When there are no frequent accounts, the name search returns nothing.

To reproduce

- create a vendor bill
- select a partner that has never been billed
- add a line
- click the account many2one field dropdown

Since no account options are available, the dropdown flashes open and quickly disappears.

Forward-Port-Of: odoo/odoo#193999",fw-bot,2025-01-19 05:33:33+00:00,[],2025-02-06 16:31:01+00:00,2025-01-23 16:08:07+00:00,https://github.com/odoo/odoo/pull/194303,"[('RD', 'research & development, internal work'), ('forwardport', 'This PR was created by @fw-bot'), ('conflict', 'There was an error while creating this forward-port PR')]","[{'comment_id': 2600603111, 'issue_id': 2797429125, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/194303.png)](https://mergebot.odoo.com/odoo/odoo/pull/194303)', 'created_at': datetime.datetime(2025, 1, 19, 5, 33, 34, tzinfo=datetime.timezone.utc)}, {'comment_id': 2600603118, 'issue_id': 2797429125, 'author': 'fw-bot', 'body': '@h4818 @william-andre cherrypicking of pull request odoo/odoo#193999 failed.\n\nstdout:\n```\nAuto-merging addons/account/models/account_account.py\nCONFLICT (content): Merge conflict in addons/account/models/account_account.py\n\n```\n\nEither perform the forward-port manually (and push to this branch, proceeding as usual) or close this PR (maybe?).\n\nIn the former case, you may want to edit this PR message as well.\n\n:warning: after resolving this conflict, you will need to merge it via @robodoo.\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 19, 5, 33, 36, tzinfo=datetime.timezone.utc)}, {'comment_id': 2608688747, 'issue_id': 2797429125, 'author': 'fw-bot', 'body': '@h4818 @william-andre this forward port of odoo/odoo#193999 is awaiting action (not merged or closed).', 'created_at': datetime.datetime(2025, 1, 23, 2, 0, 57, tzinfo=datetime.timezone.utc)}, {'comment_id': 2609670422, 'issue_id': 2797429125, 'author': 'william-andre', 'body': '@robodoo r+', 'created_at': datetime.datetime(2025, 1, 23, 12, 20, 39, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-19 05:33:34 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/194303.png)](https://mergebot.odoo.com/odoo/odoo/pull/194303)

fw-bot (Issue Creator) on (2025-01-19 05:33:36 UTC): @h4818 @william-andre cherrypicking of pull request odoo/odoo#193999 failed.

stdout:
```
Auto-merging addons/account/models/account_account.py
CONFLICT (content): Merge conflict in addons/account/models/account_account.py

```

Either perform the forward-port manually (and push to this branch, proceeding as usual) or close this PR (maybe?).

In the former case, you may want to edit this PR message as well.

:warning: after resolving this conflict, you will need to merge it via @robodoo.

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

fw-bot (Issue Creator) on (2025-01-23 02:00:57 UTC): @h4818 @william-andre this forward port of odoo/odoo#193999 is awaiting action (not merged or closed).

william-andre on (2025-01-23 12:20:39 UTC): @robodoo r+

"
2797408767,pull_request,closed,,[FW][FIX] account: no frequent accounts,"The name search on the account field (account.account on account move line) looks for frequently used accounts for the partner. When no search text is provided, the name search suggests accounts that were previously used. When there are no frequent accounts, the name search returns nothing.

To reproduce

- create a vendor bill
- select a partner that has never been billed
- add a line
- click the account many2one field dropdown

Since no account options are available, the dropdown flashes open and quickly disappears.

Forward-Port-Of: odoo/odoo#193999",fw-bot,2025-01-19 04:20:24+00:00,[],2025-02-02 17:47:06+00:00,2025-01-19 12:29:46+00:00,https://github.com/odoo/odoo/pull/194302,"[('RD', 'research & development, internal work'), ('forwardport', 'This PR was created by @fw-bot')]","[{'comment_id': 2600588188, 'issue_id': 2797408767, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/194302.png)](https://mergebot.odoo.com/odoo/odoo/pull/194302)', 'created_at': datetime.datetime(2025, 1, 19, 4, 20, 26, tzinfo=datetime.timezone.utc)}, {'comment_id': 2600588190, 'issue_id': 2797408767, 'author': 'fw-bot', 'body': 'This PR targets saas-17.4 and is part of the forward-port chain. Further PRs will be created up to master.\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 19, 4, 20, 26, tzinfo=datetime.timezone.utc)}, {'comment_id': 2600603113, 'issue_id': 2797408767, 'author': 'fw-bot', 'body': '@h4818 @william-andre the next pull request (odoo/odoo#194303) is in conflict. You can merge the chain up to here by saying\n> @robodoo r+\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 19, 5, 33, 35, tzinfo=datetime.timezone.utc)}, {'comment_id': 2600813424, 'issue_id': 2797408767, 'author': 'william-andre', 'body': '@robodoo r+', 'created_at': datetime.datetime(2025, 1, 19, 11, 11, 42, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-19 04:20:26 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/194302.png)](https://mergebot.odoo.com/odoo/odoo/pull/194302)

fw-bot (Issue Creator) on (2025-01-19 04:20:26 UTC): This PR targets saas-17.4 and is part of the forward-port chain. Further PRs will be created up to master.

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

fw-bot (Issue Creator) on (2025-01-19 05:33:35 UTC): @h4818 @william-andre the next pull request (odoo/odoo#194303) is in conflict. You can merge the chain up to here by saying

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

william-andre on (2025-01-19 11:11:42 UTC): @robodoo r+

"
2797377997,pull_request,closed,,[FW][FIX] account: no frequent accounts,"The name search on the account field (account.account on account move line) looks for frequently used accounts for the partner. When no search text is provided, the name search suggests accounts that were previously used. When there are no frequent accounts, the name search returns nothing.

To reproduce

- create a vendor bill
- select a partner that has never been billed
- add a line
- click the account many2one field dropdown

Since no account options are available, the dropdown flashes open and quickly disappears.

Forward-Port-Of: odoo/odoo#193999",fw-bot,2025-01-19 02:59:01+00:00,[],2025-02-02 17:47:05+00:00,2025-01-19 12:17:48+00:00,https://github.com/odoo/odoo/pull/194301,"[('RD', 'research & development, internal work'), ('forwardport', 'This PR was created by @fw-bot')]","[{'comment_id': 2600531281, 'issue_id': 2797377997, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/194301.png)](https://mergebot.odoo.com/odoo/odoo/pull/194301)', 'created_at': datetime.datetime(2025, 1, 19, 2, 59, 3, tzinfo=datetime.timezone.utc)}, {'comment_id': 2600531286, 'issue_id': 2797377997, 'author': 'fw-bot', 'body': 'This PR targets saas-17.2 and is part of the forward-port chain. Further PRs will be created up to master.\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 19, 2, 59, 3, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-19 02:59:03 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/194301.png)](https://mergebot.odoo.com/odoo/odoo/pull/194301)

fw-bot (Issue Creator) on (2025-01-19 02:59:03 UTC): This PR targets saas-17.2 and is part of the forward-port chain. Further PRs will be created up to master.

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

"
2797373012,pull_request,closed,,[FIX] project_purchase: include negative bills in project profitability,"### Issue:

- The negative values in Vendor Bills are not being reflected in the Analytic Account linked to a project.
- the negative value does not reduce the project’s total cost in the Analytic Report cost calculations.

### Steps to reproduce:

1- Create a project and set an analytic account or use the ""Renovations"" project.
2- Create a vendor bill.
3- On the VB add two lines one with a positive Price and the other with a negative Price.
4- on `Analytic` of each line set the project to `Renovations` or the project you created.
5- Validate the vendor bill.
6- Go to the project app and click on the 3 dots of the project you choose and click on `Project Updates`.
7- Notice the total cost of the project is not reflecting the negative value of the vendor bill.

### Solution:

- The issue is caused by the condition ('price_subtotal', '>', 0) in the query for account.move.line.
- Removing this condition ensures both positive and negative price_subtotal values are included.

opw-[4416931](https://www.odoo.com/web#id=4416931&view_type=form&model=project.task)
---
I confirm I have signed the CLA and read the PR guidelines at www.odoo.com/submit-pr
",kawkb,2025-01-19 02:40:21+00:00,[],2025-02-06 12:24:59+00:00,2025-01-23 12:21:43+00:00,https://github.com/odoo/odoo/pull/194300,"[('OE', 'the report is linked to a support ticket (opw-...)')]","[{'comment_id': 2600527437, 'issue_id': 2797373012, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/194300.png)](https://mergebot.odoo.com/odoo/odoo/pull/194300)', 'created_at': datetime.datetime(2025, 1, 19, 2, 40, 24, tzinfo=datetime.timezone.utc)}, {'comment_id': 2602124550, 'issue_id': 2797373012, 'author': 'taqu-odoo', 'body': 'Makes sense to me', 'created_at': datetime.datetime(2025, 1, 20, 11, 7, 20, tzinfo=datetime.timezone.utc)}, {'comment_id': 2602312839, 'issue_id': 2797373012, 'author': 'xavierbol', 'body': '> Added float_round to the calculation of the total cost of the project to avoid rounding errors\r\n\r\nCan you explain? 🤔 \r\n\r\nIf there is really an issue then we should probably do it in project module and not only in project_purchase. But I would prefer to only fix the issue reported instead of adding extra stuff inside the fix.', 'created_at': datetime.datetime(2025, 1, 20, 12, 34, 32, tzinfo=datetime.timezone.utc)}, {'comment_id': 2602404987, 'issue_id': 2797373012, 'author': 'kawkb', 'body': ""Hello @xavierbol thank you for your review.\r\nwhen running the test I modified `test_bills_without_purchase_order_are_accounted_in_profitability`, this [line](https://github.com/odoo/odoo/pull/194300/files#diff-a292d73a65df299e3590e8031902fbcb168c1f0700b21016ce010aee3a4c693bL217):\r\n`costs['total']['billed'] += amount_invoiced` returns `-837.900000001`\r\n when \r\n`costs['total']['billed']` is `-98.7` and  `amount_invoiced` is `-739.2`.\r\nI think this is just a common floating-point precision problem this is why I tried rounding."", 'created_at': datetime.datetime(2025, 1, 20, 13, 16, 42, tzinfo=datetime.timezone.utc)}, {'comment_id': 2604315755, 'issue_id': 2797373012, 'author': 'xavierbol', 'body': 'Okay, I still think we should do that at the end to be sure the computations takes into account the whole numbers without any rounding. However, the JS code should format those numbers so, we should not have the issue in the UI, I think. So, maybe it should be better to use `float_compare` inside the test. 🤷🏼\u200d♂️', 'created_at': datetime.datetime(2025, 1, 21, 10, 25, 21, tzinfo=datetime.timezone.utc)}, {'comment_id': 2604517785, 'issue_id': 2797373012, 'author': 'kawkb', 'body': ""Hello @xavierbol thank you for your review,\r\nI actually didn't know the the JS code will format those numbers and we won't have the issue in the UI. since this is case there is no need for any rounding. can you please check now?"", 'created_at': datetime.datetime(2025, 1, 21, 11, 53, 28, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-19 02:40:24 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/194300.png)](https://mergebot.odoo.com/odoo/odoo/pull/194300)

taqu-odoo on (2025-01-20 11:07:20 UTC): Makes sense to me

xavierbol on (2025-01-20 12:34:32 UTC): Can you explain? 🤔 

If there is really an issue then we should probably do it in project module and not only in project_purchase. But I would prefer to only fix the issue reported instead of adding extra stuff inside the fix.

kawkb (Issue Creator) on (2025-01-20 13:16:42 UTC): Hello @xavierbol thank you for your review.
when running the test I modified `test_bills_without_purchase_order_are_accounted_in_profitability`, this [line](https://github.com/odoo/odoo/pull/194300/files#diff-a292d73a65df299e3590e8031902fbcb168c1f0700b21016ce010aee3a4c693bL217):
`costs['total']['billed'] += amount_invoiced` returns `-837.900000001`
 when 
`costs['total']['billed']` is `-98.7` and  `amount_invoiced` is `-739.2`.
I think this is just a common floating-point precision problem this is why I tried rounding.

xavierbol on (2025-01-21 10:25:21 UTC): Okay, I still think we should do that at the end to be sure the computations takes into account the whole numbers without any rounding. However, the JS code should format those numbers so, we should not have the issue in the UI, I think. So, maybe it should be better to use `float_compare` inside the test. 🤷🏼‍♂️

kawkb (Issue Creator) on (2025-01-21 11:53:28 UTC): Hello @xavierbol thank you for your review,
I actually didn't know the the JS code will format those numbers and we won't have the issue in the UI. since this is case there is no need for any rounding. can you please check now?

"
2797357168,pull_request,closed,,[FW][FIX] point_of_sale: deduct change from cash payment,"**Issue:**

when making a payment using 2 different payment methods (cash and bank), the change gets deducted from the bank payment not the cash payment in the invoice.

**Steps To Reproduce:**

On POS, for an order totaling $120.
    - Add a customer and ensure the ""Invoice"" box is checked.
    - pay using two payments methods bank 100$ Cash 50$
    - the change is $30, everything looks fine on the ticket on the pos.
    - Notice on the invoice on the db backend the $30 change is incorrectly deducted from the bank payment. As a result, the invoice displays: bank : $70 cash: $50

**Soltution:**
- In the `_create_payment_moves` method, ensure that cash payment method creates an `account.move` including the change amount.

opw-4076246

---
I confirm I have signed the CLA and read the PR guidelines at www.odoo.com/submit-pr

Forward-Port-Of: odoo/odoo#194284
Forward-Port-Of: odoo/odoo#187727",fw-bot,2025-01-19 02:09:26+00:00,[],2025-02-03 20:55:54+00:00,2025-01-20 20:07:19+00:00,https://github.com/odoo/odoo/pull/194299,"[('OE', 'the report is linked to a support ticket (opw-...)'), ('forwardport', 'This PR was created by @fw-bot'), ('conflict', 'There was an error while creating this forward-port PR')]","[{'comment_id': 2600485603, 'issue_id': 2797357168, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/194299.png)](https://mergebot.odoo.com/odoo/odoo/pull/194299)', 'created_at': datetime.datetime(2025, 1, 19, 2, 9, 27, tzinfo=datetime.timezone.utc)}, {'comment_id': 2600485607, 'issue_id': 2797357168, 'author': 'fw-bot', 'body': '@kawkb @caburj cherrypicking of pull request odoo/odoo#187727 failed.\n\nstdout:\n```\nAuto-merging addons/point_of_sale/models/account_move.py\nAuto-merging addons/point_of_sale/models/pos_payment.py\nAuto-merging addons/point_of_sale/tests/test_point_of_sale_flow.py\nCONFLICT (content): Merge conflict in addons/point_of_sale/tests/test_point_of_sale_flow.py\n\n```\n\nEither perform the forward-port manually (and push to this branch, proceeding as usual) or close this PR (maybe?).\n\nIn the former case, you may want to edit this PR message as well.\n\n:warning: after resolving this conflict, you will need to merge it via @robodoo.\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 19, 2, 9, 28, tzinfo=datetime.timezone.utc)}, {'comment_id': 2600775011, 'issue_id': 2797357168, 'author': 'kawkb', 'body': '@robodoo r+', 'created_at': datetime.datetime(2025, 1, 19, 9, 22, 7, tzinfo=datetime.timezone.utc)}, {'comment_id': 2600792854, 'issue_id': 2797357168, 'author': 'robodoo', 'body': '@kawkb @caburj staging failed: ci/runbot on 841d5df0a5f6f8148ca44dbee1eef5a3a302549b (view more at https://runbot.odoo.com/runbot/build/73598052)', 'created_at': datetime.datetime(2025, 1, 19, 10, 8, 40, tzinfo=datetime.timezone.utc)}, {'comment_id': 2600872952, 'issue_id': 2797357168, 'author': 'kawkb', 'body': '@robodoo retry', 'created_at': datetime.datetime(2025, 1, 19, 13, 58, 3, tzinfo=datetime.timezone.utc)}, {'comment_id': 2600885562, 'issue_id': 2797357168, 'author': 'robodoo', 'body': '@kawkb @caburj staging failed: ci/runbot on 92247fc12423860ef2e8bdc57abfab4de74081d1 (view more at https://runbot.odoo.com/runbot/build/73598930)', 'created_at': datetime.datetime(2025, 1, 19, 14, 30, 33, tzinfo=datetime.timezone.utc)}, {'comment_id': 2600995336, 'issue_id': 2797357168, 'author': 'kawkb', 'body': '@robodoo retry', 'created_at': datetime.datetime(2025, 1, 19, 19, 41, 36, tzinfo=datetime.timezone.utc)}, {'comment_id': 2601018325, 'issue_id': 2797357168, 'author': 'robodoo', 'body': '@kawkb @caburj staging failed: ci/runbot on b66185a3b642b89e55f830c039b3a27d0c68cbc5 (view more at https://runbot.odoo.com/runbot/build/73600939)', 'created_at': datetime.datetime(2025, 1, 19, 20, 55, 1, tzinfo=datetime.timezone.utc)}, {'comment_id': 2601874897, 'issue_id': 2797357168, 'author': 'kawkb', 'body': '@robodoo r+', 'created_at': datetime.datetime(2025, 1, 20, 9, 29, 53, tzinfo=datetime.timezone.utc)}, {'comment_id': 2603145447, 'issue_id': 2797357168, 'author': 'kawkb', 'body': '@robodoo retry', 'created_at': datetime.datetime(2025, 1, 20, 19, 52, 24, tzinfo=datetime.timezone.utc)}, {'comment_id': 2603145484, 'issue_id': 2797357168, 'author': 'robodoo', 'body': '@kawkb retry makes no sense when the PR is not in error.', 'created_at': datetime.datetime(2025, 1, 20, 19, 52, 27, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-19 02:09:27 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/194299.png)](https://mergebot.odoo.com/odoo/odoo/pull/194299)

fw-bot (Issue Creator) on (2025-01-19 02:09:28 UTC): @kawkb @caburj cherrypicking of pull request odoo/odoo#187727 failed.

stdout:
```
Auto-merging addons/point_of_sale/models/account_move.py
Auto-merging addons/point_of_sale/models/pos_payment.py
Auto-merging addons/point_of_sale/tests/test_point_of_sale_flow.py
CONFLICT (content): Merge conflict in addons/point_of_sale/tests/test_point_of_sale_flow.py

```

Either perform the forward-port manually (and push to this branch, proceeding as usual) or close this PR (maybe?).

In the former case, you may want to edit this PR message as well.

:warning: after resolving this conflict, you will need to merge it via @robodoo.

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

kawkb on (2025-01-19 09:22:07 UTC): @robodoo r+

robodoo on (2025-01-19 10:08:40 UTC): @kawkb @caburj staging failed: ci/runbot on 841d5df0a5f6f8148ca44dbee1eef5a3a302549b (view more at https://runbot.odoo.com/runbot/build/73598052)

kawkb on (2025-01-19 13:58:03 UTC): @robodoo retry

robodoo on (2025-01-19 14:30:33 UTC): @kawkb @caburj staging failed: ci/runbot on 92247fc12423860ef2e8bdc57abfab4de74081d1 (view more at https://runbot.odoo.com/runbot/build/73598930)

kawkb on (2025-01-19 19:41:36 UTC): @robodoo retry

robodoo on (2025-01-19 20:55:01 UTC): @kawkb @caburj staging failed: ci/runbot on b66185a3b642b89e55f830c039b3a27d0c68cbc5 (view more at https://runbot.odoo.com/runbot/build/73600939)

kawkb on (2025-01-20 09:29:53 UTC): @robodoo r+

kawkb on (2025-01-20 19:52:24 UTC): @robodoo retry

robodoo on (2025-01-20 19:52:27 UTC): @kawkb retry makes no sense when the PR is not in error.

"
2797332061,pull_request,closed,,[FIX] account: ensure _invoice_paid_hook is called for in payment invoices,"## Issue:
Commission RFQ is not auto-generated for journals(payment method lines) without outstanding accounts when an SO invoice is created, a payment is created for it, and it gets reconciled with a bank statement.

## steps to reproduce:
1. go to bank journal and remove the outstanding account from the manual payment method line
2. on the CRM app create a partner commission program with a percentage and attach it to a partner
3. create a sale order with the partner as a referrer and confirm it
4. create an invoice from the sale order and validate it
5. register a payment for the invoice using the manual payment method
6. create a bank statement line and reconcile the invoice with it in the bank reconciliation widget
7. check the purchase app and see that no RFQ was created

## Solution:
- Before version 18.0 (see [this PR](https://github.com/odoo/odoo/pull/180813)), automatically assigning a default outstanding account ensured that every payment created a journal entry. This journal entry was reconciled with the invoice, triggering `invoice_paid_hook` as the invoice transitioned from `not_paid` to `in_payment`. `_reconcile_pre_hook` filtered out payments already marked as `in_payment` to avoid double-triggering `invoice_paid_hook`. However, since the default outstanding account is no longer assigned automatically, `invoice_paid_hook` is not triggered when an invoice transitions from `not_paid` to `in_payment` and then to `paid` by reconciling it with a bank statement line.
- to address this issue we edited `_reconcile_pre_hook` and `_reconcile_post_hook` to handle in payment invoices in these cases.


OPW-4282724
---
I confirm I have signed the CLA and read the PR guidelines at www.odoo.com/submit-pr
",kawkb,2025-01-19 01:25:48+00:00,[],2025-02-07 17:26:27+00:00,2025-01-24 17:14:52+00:00,https://github.com/odoo/odoo/pull/194298,"[('OE', 'the report is linked to a support ticket (opw-...)')]","[{'comment_id': 2600379250, 'issue_id': 2797332061, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/194298.png)](https://mergebot.odoo.com/odoo/odoo/pull/194298)', 'created_at': datetime.datetime(2025, 1, 19, 1, 25, 51, tzinfo=datetime.timezone.utc)}, {'comment_id': 2612632627, 'issue_id': 2797332061, 'author': 'kawkb', 'body': 'hey @william-andre Looks good, I squached it, Thank you !', 'created_at': datetime.datetime(2025, 1, 24, 14, 14, 49, tzinfo=datetime.timezone.utc)}, {'comment_id': 2612710370, 'issue_id': 2797332061, 'author': 'robodoo', 'body': ""@kawkb @william-andre 'ci/runbot' failed on this reviewed PR."", 'created_at': datetime.datetime(2025, 1, 24, 14, 48, 50, tzinfo=datetime.timezone.utc)}, {'comment_id': 2612941703, 'issue_id': 2797332061, 'author': 'kawkb', 'body': 'Thank you @william-andre', 'created_at': datetime.datetime(2025, 1, 24, 16, 35, 49, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-19 01:25:51 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/194298.png)](https://mergebot.odoo.com/odoo/odoo/pull/194298)

kawkb (Issue Creator) on (2025-01-24 14:14:49 UTC): hey @william-andre Looks good, I squached it, Thank you !

robodoo on (2025-01-24 14:48:50 UTC): @kawkb @william-andre 'ci/runbot' failed on this reviewed PR.

kawkb (Issue Creator) on (2025-01-24 16:35:49 UTC): Thank you @william-andre

"
2797325467,pull_request,closed,,[FW][FIX] mail: no flicker on call video stream inset,"Before this commit, during a discuss call while sharing screen and enabling camera, the inset card (= small video stream preview in bottom right of call view of the participant, either camera or screen-sharing depending on other stream being main active) was flickering.

This happens because each rendering of the call view re-renders the inset, which leads to the perceived flickers from stream being re-rendered.

The main cause of re-render comes from `setInset()` that is invoked whenever the `visibleMainCards` getter is called with inset, which is triggered on renderings like mouse-hovering on call view to display the call actions. Even when the inset card is unchanged, `setInset()` produces another object, which forces OWL to re-render the inset component.

This commit fixes the issue by having `setInset` reusing the inset data object if the inset to render refers to the same inset session.

Task-4484908

Forward-Port-Of: odoo/odoo#194103",fw-bot,2025-01-19 01:02:14+00:00,[],2025-01-19 23:57:45+00:00,2025-01-19 22:58:33+00:00,https://github.com/odoo/odoo/pull/194297,"[('RD', 'research & development, internal work'), ('forwardport', 'This PR was created by @fw-bot'), ('18.2', None)]","[{'comment_id': 2600374413, 'issue_id': 2797325467, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/194297.png)](https://mergebot.odoo.com/odoo/odoo/pull/194297)', 'created_at': datetime.datetime(2025, 1, 19, 1, 2, 15, tzinfo=datetime.timezone.utc)}, {'comment_id': 2600374418, 'issue_id': 2797325467, 'author': 'fw-bot', 'body': '@alexkuhn this PR targets master and is the last of the forward-port chain containing:\n* odoo/odoo#194295\n* odoo/odoo#194270\n* odoo/odoo#194250\n* odoo/odoo#194232\n\nTo merge the full chain, use\n> @robodoo r+\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 19, 1, 2, 16, tzinfo=datetime.timezone.utc)}, {'comment_id': 2600387668, 'issue_id': 2797325467, 'author': 'fw-bot', 'body': '@alexkuhn ci/runbot failed on this forward-port PR', 'created_at': datetime.datetime(2025, 1, 19, 1, 38, 33, tzinfo=datetime.timezone.utc)}, {'comment_id': 2600990409, 'issue_id': 2797325467, 'author': 'fw-bot', 'body': '@alexkuhn this PR was modified / updated and has become a normal PR. It must be merged directly.', 'created_at': datetime.datetime(2025, 1, 19, 19, 26, 57, tzinfo=datetime.timezone.utc)}, {'comment_id': 2600990442, 'issue_id': 2797325467, 'author': 'alexkuhn', 'body': '@robodoo r+', 'created_at': datetime.datetime(2025, 1, 19, 19, 27, 1, tzinfo=datetime.timezone.utc)}, {'comment_id': 2601007410, 'issue_id': 2797325467, 'author': 'robodoo', 'body': ""@alexkuhn 'ci/runbot' failed on this reviewed PR."", 'created_at': datetime.datetime(2025, 1, 19, 20, 19, 21, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-19 01:02:15 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/194297.png)](https://mergebot.odoo.com/odoo/odoo/pull/194297)

fw-bot (Issue Creator) on (2025-01-19 01:02:16 UTC): @alexkuhn this PR targets master and is the last of the forward-port chain containing:
* odoo/odoo#194295
* odoo/odoo#194270
* odoo/odoo#194250
* odoo/odoo#194232

To merge the full chain, use

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

fw-bot (Issue Creator) on (2025-01-19 01:38:33 UTC): @alexkuhn ci/runbot failed on this forward-port PR

fw-bot (Issue Creator) on (2025-01-19 19:26:57 UTC): @alexkuhn this PR was modified / updated and has become a normal PR. It must be merged directly.

alexkuhn on (2025-01-19 19:27:01 UTC): @robodoo r+

robodoo on (2025-01-19 20:19:21 UTC): @alexkuhn 'ci/runbot' failed on this reviewed PR.

"
2797282769,pull_request,closed,,[FW][FIX] mail: exit full screen on discuss call leave,"Before this commit, leaving call while the call view is full screen would keep the fullscreen mode.

This commit fixes the issue by exiting the full screen when leaving the call.

Task-4476568

Forward-Port-Of: odoo/odoo#193388",fw-bot,2025-01-18 23:39:15+00:00,[],2025-01-19 23:56:58+00:00,2025-01-19 22:58:29+00:00,https://github.com/odoo/odoo/pull/194296,"[('RD', 'research & development, internal work'), ('forwardport', 'This PR was created by @fw-bot'), ('18.2', None)]","[{'comment_id': 2600287063, 'issue_id': 2797282769, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/194296.png)](https://mergebot.odoo.com/odoo/odoo/pull/194296)', 'created_at': datetime.datetime(2025, 1, 18, 23, 39, 16, tzinfo=datetime.timezone.utc)}, {'comment_id': 2600287067, 'issue_id': 2797282769, 'author': 'fw-bot', 'body': '@akap-odoo @alexkuhn this PR targets master and is the last of the forward-port chain containing:\n* odoo/odoo#194243\n\nTo merge the full chain, use\n> @robodoo r+\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 18, 23, 39, 17, tzinfo=datetime.timezone.utc)}, {'comment_id': 2600359725, 'issue_id': 2797282769, 'author': 'alexkuhn', 'body': '@robodoo r+', 'created_at': datetime.datetime(2025, 1, 19, 0, 38, 45, tzinfo=datetime.timezone.utc)}, {'comment_id': 2600488823, 'issue_id': 2797282769, 'author': 'robodoo', 'body': '@akap-odoo @alexkuhn staging failed: ci/runbot on fbbd948e7f59270fd62dd71a00874d80d7a0de69 (view more at https://runbot.odoo.com/runbot/build/73595521)', 'created_at': datetime.datetime(2025, 1, 19, 2, 21, 19, tzinfo=datetime.timezone.utc)}, {'comment_id': 2600927089, 'issue_id': 2797282769, 'author': 'fw-bot', 'body': '@akap-odoo @alexkuhn this PR was modified / updated and has become a normal PR. It must be merged directly.', 'created_at': datetime.datetime(2025, 1, 19, 16, 13, 36, tzinfo=datetime.timezone.utc)}, {'comment_id': 2600927123, 'issue_id': 2797282769, 'author': 'alexkuhn', 'body': '@robodoo r+', 'created_at': datetime.datetime(2025, 1, 19, 16, 13, 42, tzinfo=datetime.timezone.utc)}, {'comment_id': 2600985933, 'issue_id': 2797282769, 'author': 'robodoo', 'body': '@akap-odoo @alexkuhn staging failed: ci/runbot on 2e9aea43c550511ca0b8d6db0f922e0ff4b2fbc0 (view more at https://runbot.odoo.com/runbot/build/73600046)', 'created_at': datetime.datetime(2025, 1, 19, 19, 12, 38, tzinfo=datetime.timezone.utc)}, {'comment_id': 2600992438, 'issue_id': 2797282769, 'author': 'alexkuhn', 'body': '@robodoo r+', 'created_at': datetime.datetime(2025, 1, 19, 19, 32, 55, tzinfo=datetime.timezone.utc)}, {'comment_id': 2601004995, 'issue_id': 2797282769, 'author': 'robodoo', 'body': ""@akap-odoo @alexkuhn 'ci/runbot' failed on this reviewed PR."", 'created_at': datetime.datetime(2025, 1, 19, 20, 10, 38, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-18 23:39:16 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/194296.png)](https://mergebot.odoo.com/odoo/odoo/pull/194296)

fw-bot (Issue Creator) on (2025-01-18 23:39:17 UTC): @akap-odoo @alexkuhn this PR targets master and is the last of the forward-port chain containing:
* odoo/odoo#194243

To merge the full chain, use

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

alexkuhn on (2025-01-19 00:38:45 UTC): @robodoo r+

robodoo on (2025-01-19 02:21:19 UTC): @akap-odoo @alexkuhn staging failed: ci/runbot on fbbd948e7f59270fd62dd71a00874d80d7a0de69 (view more at https://runbot.odoo.com/runbot/build/73595521)

fw-bot (Issue Creator) on (2025-01-19 16:13:36 UTC): @akap-odoo @alexkuhn this PR was modified / updated and has become a normal PR. It must be merged directly.

alexkuhn on (2025-01-19 16:13:42 UTC): @robodoo r+

robodoo on (2025-01-19 19:12:38 UTC): @akap-odoo @alexkuhn staging failed: ci/runbot on 2e9aea43c550511ca0b8d6db0f922e0ff4b2fbc0 (view more at https://runbot.odoo.com/runbot/build/73600046)

alexkuhn on (2025-01-19 19:32:55 UTC): @robodoo r+

robodoo on (2025-01-19 20:10:38 UTC): @akap-odoo @alexkuhn 'ci/runbot' failed on this reviewed PR.

"
2797281978,pull_request,closed,,[FW][FIX] mail: no flicker on call video stream inset,"Before this commit, during a discuss call while sharing screen and enabling camera, the inset card (= small video stream preview in bottom right of call view of the participant, either camera or screen-sharing depending on other stream being main active) was flickering.

This happens because each rendering of the call view re-renders the inset, which leads to the perceived flickers from stream being re-rendered.

The main cause of re-render comes from `setInset()` that is invoked whenever the `visibleMainCards` getter is called with inset, which is triggered on renderings like mouse-hovering on call view to display the call actions. Even when the inset card is unchanged, `setInset()` produces another object, which forces OWL to re-render the inset component.

This commit fixes the issue by having `setInset` reusing the inset data object if the inset to render refers to the same inset session.

Task-4484908

Forward-Port-Of: odoo/odoo#194103",fw-bot,2025-01-18 23:36:37+00:00,[],2025-01-20 10:03:09+00:00,2025-01-20 01:47:23+00:00,https://github.com/odoo/odoo/pull/194295,"[('RD', 'research & development, internal work'), ('forwardport', 'This PR was created by @fw-bot')]","[{'comment_id': 2600285469, 'issue_id': 2797281978, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/194295.png)](https://mergebot.odoo.com/odoo/odoo/pull/194295)', 'created_at': datetime.datetime(2025, 1, 18, 23, 36, 38, tzinfo=datetime.timezone.utc)}, {'comment_id': 2600285499, 'issue_id': 2797281978, 'author': 'fw-bot', 'body': 'This PR targets saas-18.1 and is part of the forward-port chain. Further PRs will be created up to master.\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 18, 23, 36, 39, tzinfo=datetime.timezone.utc)}, {'comment_id': 2600990427, 'issue_id': 2797281978, 'author': 'fw-bot', 'body': ""@alexkuhn child PR odoo/odoo#194297 was modified / updated and has become a normal PR. This PR (and any of its parents) will need to be merged independently as approvals won't cross."", 'created_at': datetime.datetime(2025, 1, 19, 19, 26, 59, tzinfo=datetime.timezone.utc)}, {'comment_id': 2600990544, 'issue_id': 2797281978, 'author': 'alexkuhn', 'body': '@robodoo r+', 'created_at': datetime.datetime(2025, 1, 19, 19, 27, 22, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-18 23:36:38 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/194295.png)](https://mergebot.odoo.com/odoo/odoo/pull/194295)

fw-bot (Issue Creator) on (2025-01-18 23:36:39 UTC): This PR targets saas-18.1 and is part of the forward-port chain. Further PRs will be created up to master.

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

fw-bot (Issue Creator) on (2025-01-19 19:26:59 UTC): @alexkuhn child PR odoo/odoo#194297 was modified / updated and has become a normal PR. This PR (and any of its parents) will need to be merged independently as approvals won't cross.

alexkuhn on (2025-01-19 19:27:22 UTC): @robodoo r+

"
2797271624,pull_request,closed,,[FW][FIX] mail: draggable participant cards on mobile,"Before this commit, when dragging participant cards on mobile they will get dragged off screen.
1. Open discuss on mobile
2. Get into a call
3. Move the participant cards -> they will disappear

This happens because the `drag` function gets called without checking if the participant card is in the inset state (the state in which it can be moved around).
This commit fixes the issue by checking that the component is in that state before being able to drag it.

task-4491597

Forward-Port-Of: odoo/odoo#194075",fw-bot,2025-01-18 23:08:26+00:00,[],2025-01-19 19:20:09+00:00,2025-01-19 17:36:42+00:00,https://github.com/odoo/odoo/pull/194294,"[('RD', 'research & development, internal work'), ('forwardport', 'This PR was created by @fw-bot'), ('18.2', None)]","[{'comment_id': 2600271141, 'issue_id': 2797271624, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/194294.png)](https://mergebot.odoo.com/odoo/odoo/pull/194294)', 'created_at': datetime.datetime(2025, 1, 18, 23, 8, 28, tzinfo=datetime.timezone.utc)}, {'comment_id': 2600271143, 'issue_id': 2797271624, 'author': 'fw-bot', 'body': '@Atovange @alexkuhn this PR targets master and is the last of the forward-port chain containing:\n* odoo/odoo#194214\n\nTo merge the full chain, use\n> @robodoo r+\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 18, 23, 8, 28, tzinfo=datetime.timezone.utc)}, {'comment_id': 2600306063, 'issue_id': 2797271624, 'author': 'fw-bot', 'body': '@Atovange @alexkuhn ci/runbot failed on this forward-port PR', 'created_at': datetime.datetime(2025, 1, 18, 23, 58, 21, tzinfo=datetime.timezone.utc)}, {'comment_id': 2600928224, 'issue_id': 2797271624, 'author': 'alexkuhn', 'body': '@robodoo r+', 'created_at': datetime.datetime(2025, 1, 19, 16, 16, 51, tzinfo=datetime.timezone.utc)}, {'comment_id': 2600988106, 'issue_id': 2797271624, 'author': 'fw-bot', 'body': ""@Atovange @alexkuhn ancestor PR odoo/odoo#194214 has been updated but this PR is merged and can't be updated to match.\n\nYou may want or need to manually update any followup PR."", 'created_at': datetime.datetime(2025, 1, 19, 19, 19, 23, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-18 23:08:28 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/194294.png)](https://mergebot.odoo.com/odoo/odoo/pull/194294)

fw-bot (Issue Creator) on (2025-01-18 23:08:28 UTC): @Atovange @alexkuhn this PR targets master and is the last of the forward-port chain containing:
* odoo/odoo#194214

To merge the full chain, use

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

fw-bot (Issue Creator) on (2025-01-18 23:58:21 UTC): @Atovange @alexkuhn ci/runbot failed on this forward-port PR

alexkuhn on (2025-01-19 16:16:51 UTC): @robodoo r+

fw-bot (Issue Creator) on (2025-01-19 19:19:23 UTC): @Atovange @alexkuhn ancestor PR odoo/odoo#194214 has been updated but this PR is merged and can't be updated to match.

You may want or need to manually update any followup PR.

"
2797165193,pull_request,closed,,[FW][FIX] web: typo in mobile form view test,"This commit fixes a typo in two mobile form view's tests where ""screenLeft"" was used instead of ""scrollX"".

Note: this was detected while testing for the new Chrome's headless mode set by default on Chrome 128+.

Forward-Port-Of: odoo/odoo#194269
Forward-Port-Of: odoo/odoo#194105",fw-bot,2025-01-18 20:21:12+00:00,[],2025-02-02 23:46:48+00:00,2025-01-19 20:29:42+00:00,https://github.com/odoo/odoo/pull/194292,"[('RD', 'research & development, internal work'), ('forwardport', 'This PR was created by @fw-bot'), ('18.2', None)]","[{'comment_id': 2599864612, 'issue_id': 2797165193, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/194292.png)](https://mergebot.odoo.com/odoo/odoo/pull/194292)', 'created_at': datetime.datetime(2025, 1, 18, 20, 21, 13, tzinfo=datetime.timezone.utc)}, {'comment_id': 2599864614, 'issue_id': 2797165193, 'author': 'fw-bot', 'body': '@pparidans @rfr-odoo this PR targets master and is the last of the forward-port chain.\n\nTo merge the full chain, use\n> @robodoo r+\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 18, 20, 21, 14, tzinfo=datetime.timezone.utc)}, {'comment_id': 2599865112, 'issue_id': 2797165193, 'author': 'pparidans', 'body': '@robodoo r+', 'created_at': datetime.datetime(2025, 1, 18, 20, 23, 22, tzinfo=datetime.timezone.utc)}, {'comment_id': 2599997475, 'issue_id': 2797165193, 'author': 'robodoo', 'body': ""@pparidans @rfr-odoo 'ci/runbot' failed on this reviewed PR."", 'created_at': datetime.datetime(2025, 1, 18, 21, 25, 15, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-18 20:21:13 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/194292.png)](https://mergebot.odoo.com/odoo/odoo/pull/194292)

fw-bot (Issue Creator) on (2025-01-18 20:21:14 UTC): @pparidans @rfr-odoo this PR targets master and is the last of the forward-port chain.

To merge the full chain, use

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

pparidans on (2025-01-18 20:23:22 UTC): @robodoo r+

robodoo on (2025-01-18 21:25:15 UTC): @pparidans @rfr-odoo 'ci/runbot' failed on this reviewed PR.

"
2797135940,pull_request,closed,,[FW][FIX] mrp: finished date of unplanned work order,"Problem: When a manufacturing order with a work order that was not planned is completed, a resource.calendar.leave is created for the work order. During this process the work order’s date_finished field is recalculated. This means that this work order reserves a slot in the work center to be finished in the future even though it has already been completed.

Purpose: If the work order already has a date_finished value, then that value should be used instead of it being recalculated based on the availability of the work center. This will help ensure that completed work orders are not reserving time in a work center when it has already been completed.

Steps to Reproduce on Runbot:

1. Create a new storable product.
2. Create a BoM for this product and navigate to the Operations tab and add an operation.
3. Create a manufacturing order, confirm it, and then produce all without planning it.
4. Navigate to the completed work order and observe the finished date is in the future.
5. Navigate to the work centers working hours’ time off and find the record associated with the work order.
6. Observe that the end date is in the future.

opw-4393301

---
I confirm I have signed the CLA and read the PR guidelines at www.odoo.com/submit-pr

Forward-Port-Of: odoo/odoo#194230
Forward-Port-Of: odoo/odoo#192393",fw-bot,2025-01-18 19:04:45+00:00,[],2025-02-04 20:40:47+00:00,2025-01-21 20:37:22+00:00,https://github.com/odoo/odoo/pull/194291,"[('OE', 'the report is linked to a support ticket (opw-...)'), ('forwardport', 'This PR was created by @fw-bot'), ('conflict', 'There was an error while creating this forward-port PR'), ('18.2', None)]","[{'comment_id': 2599843444, 'issue_id': 2797135940, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/194291.png)](https://mergebot.odoo.com/odoo/odoo/pull/194291)', 'created_at': datetime.datetime(2025, 1, 18, 19, 4, 46, tzinfo=datetime.timezone.utc)}, {'comment_id': 2599843447, 'issue_id': 2797135940, 'author': 'fw-bot', 'body': '@prri-odoo @Whenrow cherrypicking of pull request odoo/odoo#192393 failed.\n\nstdout:\n```\nAuto-merging addons/mrp/tests/test_order.py\nCONFLICT (content): Merge conflict in addons/mrp/tests/test_order.py\n\n```\n\nEither perform the forward-port manually (and push to this branch, proceeding as usual) or close this PR (maybe?).\n\nIn the former case, you may want to edit this PR message as well.\n\n:warning: after resolving this conflict, you will need to merge it via @robodoo.\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 18, 19, 4, 47, tzinfo=datetime.timezone.utc)}, {'comment_id': 2600467174, 'issue_id': 2797135940, 'author': 'fw-bot', 'body': '@prri-odoo @Whenrow this forward port of odoo/odoo#192393 is awaiting action (not merged or closed).', 'created_at': datetime.datetime(2025, 1, 19, 2, 2, 6, tzinfo=datetime.timezone.utc)}, {'comment_id': 2601174036, 'issue_id': 2797135940, 'author': 'fw-bot', 'body': '@prri-odoo @Whenrow this forward port of odoo/odoo#192393 is awaiting action (not merged or closed).', 'created_at': datetime.datetime(2025, 1, 20, 2, 2, 10, tzinfo=datetime.timezone.utc)}, {'comment_id': 2603476517, 'issue_id': 2797135940, 'author': 'fw-bot', 'body': '@prri-odoo @Whenrow this forward port of odoo/odoo#192393 is awaiting action (not merged or closed).', 'created_at': datetime.datetime(2025, 1, 21, 2, 1, 41, tzinfo=datetime.timezone.utc)}, {'comment_id': 2605024316, 'issue_id': 2797135940, 'author': 'prri-odoo', 'body': 'robodoo r+', 'created_at': datetime.datetime(2025, 1, 21, 15, 20, 30, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-18 19:04:46 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/194291.png)](https://mergebot.odoo.com/odoo/odoo/pull/194291)

fw-bot (Issue Creator) on (2025-01-18 19:04:47 UTC): @prri-odoo @Whenrow cherrypicking of pull request odoo/odoo#192393 failed.

stdout:
```
Auto-merging addons/mrp/tests/test_order.py
CONFLICT (content): Merge conflict in addons/mrp/tests/test_order.py

```

Either perform the forward-port manually (and push to this branch, proceeding as usual) or close this PR (maybe?).

In the former case, you may want to edit this PR message as well.

:warning: after resolving this conflict, you will need to merge it via @robodoo.

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

fw-bot (Issue Creator) on (2025-01-19 02:02:06 UTC): @prri-odoo @Whenrow this forward port of odoo/odoo#192393 is awaiting action (not merged or closed).

fw-bot (Issue Creator) on (2025-01-20 02:02:10 UTC): @prri-odoo @Whenrow this forward port of odoo/odoo#192393 is awaiting action (not merged or closed).

fw-bot (Issue Creator) on (2025-01-21 02:01:41 UTC): @prri-odoo @Whenrow this forward port of odoo/odoo#192393 is awaiting action (not merged or closed).

prri-odoo on (2025-01-21 15:20:30 UTC): robodoo r+

"
2797135857,pull_request,closed,,[FW][FIX] web_editor: UI stuck when image crop denied,"Steps to produce:
- Drop 'Text - Image' block
- Replace image by illustration
- Try to crop image
- A notification is displayed
- Try saving

The issue is ImageCrop is still not opened and we are trying to wait for image_cropper_destroyed to trigger,
so here we check if ImageCrop is not opened.

task-4246644

Forward-Port-Of: odoo/odoo#193698
Forward-Port-Of: odoo/odoo#188577",fw-bot,2025-01-18 19:04:29+00:00,[],2025-01-21 08:56:11+00:00,2025-01-20 22:17:53+00:00,https://github.com/odoo/odoo/pull/194290,"[('RD', 'research & development, internal work'), ('forwardport', 'This PR was created by @fw-bot'), ('18.2', None)]","[{'comment_id': 2599843409, 'issue_id': 2797135857, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/194290.png)](https://mergebot.odoo.com/odoo/odoo/pull/194290)', 'created_at': datetime.datetime(2025, 1, 18, 19, 4, 37, tzinfo=datetime.timezone.utc)}, {'comment_id': 2599843411, 'issue_id': 2797135857, 'author': 'fw-bot', 'body': '@shsa-odoo @qsm-odoo this PR targets master and is the last of the forward-port chain.\n\nTo merge the full chain, use\n> @robodoo r+\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 18, 19, 4, 37, tzinfo=datetime.timezone.utc)}, {'comment_id': 2600469839, 'issue_id': 2797135857, 'author': 'fw-bot', 'body': '@shsa-odoo @qsm-odoo this forward port of odoo/odoo#188577 is awaiting action (not merged or closed).', 'created_at': datetime.datetime(2025, 1, 19, 2, 2, 25, tzinfo=datetime.timezone.utc)}, {'comment_id': 2601174475, 'issue_id': 2797135857, 'author': 'fw-bot', 'body': '@shsa-odoo @qsm-odoo this forward port of odoo/odoo#188577 is awaiting action (not merged or closed).', 'created_at': datetime.datetime(2025, 1, 20, 2, 2, 31, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-18 19:04:37 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/194290.png)](https://mergebot.odoo.com/odoo/odoo/pull/194290)

fw-bot (Issue Creator) on (2025-01-18 19:04:37 UTC): @shsa-odoo @qsm-odoo this PR targets master and is the last of the forward-port chain.

To merge the full chain, use

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

fw-bot (Issue Creator) on (2025-01-19 02:02:25 UTC): @shsa-odoo @qsm-odoo this forward port of odoo/odoo#188577 is awaiting action (not merged or closed).

fw-bot (Issue Creator) on (2025-01-20 02:02:31 UTC): @shsa-odoo @qsm-odoo this forward port of odoo/odoo#188577 is awaiting action (not merged or closed).

"
2797135759,pull_request,closed,,[FW][FIX] hw_posbox_homepage: duplicate Wi-Fi interface and Wi-Fi stability,"- Sometimes, an issue could occur displaying twice the connected Wi-Fi network, but one with the IP address of the access point (fictive 10.11.12.1).
- Once we unplugged the ethernet cable, when no Wi-Fi network was configured, there was no reconnection process (start access point mode).

Task: 4403568

Forward-Port-Of: odoo/odoo#193602",fw-bot,2025-01-18 19:04:13+00:00,[],2025-02-03 13:39:21+00:00,2025-01-20 13:32:03+00:00,https://github.com/odoo/odoo/pull/194289,"[('RD', 'research & development, internal work'), ('forwardport', 'This PR was created by @fw-bot'), ('18.2', None)]","[{'comment_id': 2599843400, 'issue_id': 2797135759, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/194289.png)](https://mergebot.odoo.com/odoo/odoo/pull/194289)', 'created_at': datetime.datetime(2025, 1, 18, 19, 4, 35, tzinfo=datetime.timezone.utc)}, {'comment_id': 2599843403, 'issue_id': 2797135759, 'author': 'fw-bot', 'body': '@loouis-t @Ysoroko this PR targets master and is the last of the forward-port chain.\n\nTo merge the full chain, use\n> @robodoo r+\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 18, 19, 4, 36, tzinfo=datetime.timezone.utc)}, {'comment_id': 2599852696, 'issue_id': 2797135759, 'author': 'fw-bot', 'body': '@loouis-t @Ysoroko ci/runbot failed on this forward-port PR', 'created_at': datetime.datetime(2025, 1, 18, 19, 39, 31, tzinfo=datetime.timezone.utc)}, {'comment_id': 2601738797, 'issue_id': 2797135759, 'author': 'Ysoroko', 'body': '@robodoo r+', 'created_at': datetime.datetime(2025, 1, 20, 8, 30, 25, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-18 19:04:35 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/194289.png)](https://mergebot.odoo.com/odoo/odoo/pull/194289)

fw-bot (Issue Creator) on (2025-01-18 19:04:36 UTC): @loouis-t @Ysoroko this PR targets master and is the last of the forward-port chain.

To merge the full chain, use

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

fw-bot (Issue Creator) on (2025-01-18 19:39:31 UTC): @loouis-t @Ysoroko ci/runbot failed on this forward-port PR

Ysoroko on (2025-01-20 08:30:25 UTC): @robodoo r+

"
2797104175,pull_request,closed,,"[FW][FIX] base, mail, *: fix issues with avatar route","\* = im_livechat, portal, web

Validating access in controllers based on generic queries is slow, so it needs to be removed.

It also grants more access than necessary, effectively making some avatars fully public depending on hard to track states or relations, when it only needs to be available in a specific context.

Access could be validated with more specific queries instead, for example for a specific thread. While that solves the biggest performance issue, it's still not the fastest, but more importantly it requires a lot of contextual info to be forwarded to the route. And having one route per thread removes the ability to cache the avatar between various context (in particular from one channel to the next). Also avatar are not always displayed in the context of threads, so it doesn't fully resolve the issue and requires to think about more conditions and more contexts.

The generic token of the target record could be used when it exists, but the token could be used to leak other information (portal, ...), and it doesn't always exist.

This commit introduces a solution resolving all issues, with almost no drawback. The access is granted through a token which is specific to displaying the avatar. The token is only given when necessary, so minimal access is granted in all cases. The token is the same in all contexts, allowing caching. Validating the token is much faster than making queries. The token has an expiration date to minimize data access in time, but it can be refreshed at any time if the user can still access the source of the token.

https://github.com/odoo/enterprise/pull/74167

Forward-Port-Of: odoo/odoo#193407
Forward-Port-Of: odoo/odoo#187799",fw-bot,2025-01-18 18:00:35+00:00,[],2025-01-27 16:15:07+00:00,2025-01-20 17:42:56+00:00,https://github.com/odoo/odoo/pull/194288,"[('RD', 'research & development, internal work'), ('forwardport', 'This PR was created by @fw-bot'), ('conflict', 'There was an error while creating this forward-port PR'), ('18.2', None)]","[{'comment_id': 2599810478, 'issue_id': 2797104175, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/194288.png)](https://mergebot.odoo.com/odoo/odoo/pull/194288)', 'created_at': datetime.datetime(2025, 1, 18, 18, 0, 38, tzinfo=datetime.timezone.utc)}, {'comment_id': 2599810487, 'issue_id': 2797104175, 'author': 'fw-bot', 'body': '@seb-odoo @tsm-odoo cherrypicking of pull request odoo/odoo#187799 failed.\n\nstdout:\n```\nAuto-merging addons/im_livechat/models/discuss_channel.py\nAuto-merging addons/mail/models/discuss/discuss_channel.py\nAuto-merging addons/mail/models/mail_message.py\nAuto-merging addons/mail/models/mail_thread.py\nAuto-merging addons/mail/models/res_partner.py\nAuto-merging addons/mail/static/tests/mock_server/mail_mock_server.js\nAuto-merging addons/portal/controllers/mail.py\nCONFLICT (content): Merge conflict in addons/portal/controllers/mail.py\nAuto-merging odoo/tools/misc.py\n\n```\n\nEither perform the forward-port manually (and push to this branch, proceeding as usual) or close this PR (maybe?).\n\nIn the former case, you may want to edit this PR message as well.\n\n:warning: after resolving this conflict, you will need to merge it via @robodoo.\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 18, 18, 0, 39, tzinfo=datetime.timezone.utc)}, {'comment_id': 2600470843, 'issue_id': 2797104175, 'author': 'fw-bot', 'body': '@seb-odoo @tsm-odoo this forward port of odoo/odoo#187799 is awaiting action (not merged or closed).', 'created_at': datetime.datetime(2025, 1, 19, 2, 2, 30, tzinfo=datetime.timezone.utc)}, {'comment_id': 2601174556, 'issue_id': 2797104175, 'author': 'fw-bot', 'body': '@seb-odoo @tsm-odoo this forward port of odoo/odoo#187799 is awaiting action (not merged or closed).', 'created_at': datetime.datetime(2025, 1, 20, 2, 2, 36, tzinfo=datetime.timezone.utc)}, {'comment_id': 2602040511, 'issue_id': 2797104175, 'author': 'robodoo', 'body': ""@seb-odoo @tsm-odoo 'ci/runbot' failed on this reviewed PR."", 'created_at': datetime.datetime(2025, 1, 20, 10, 33, 29, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-18 18:00:38 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/194288.png)](https://mergebot.odoo.com/odoo/odoo/pull/194288)

fw-bot (Issue Creator) on (2025-01-18 18:00:39 UTC): @seb-odoo @tsm-odoo cherrypicking of pull request odoo/odoo#187799 failed.

stdout:
```
Auto-merging addons/im_livechat/models/discuss_channel.py
Auto-merging addons/mail/models/discuss/discuss_channel.py
Auto-merging addons/mail/models/mail_message.py
Auto-merging addons/mail/models/mail_thread.py
Auto-merging addons/mail/models/res_partner.py
Auto-merging addons/mail/static/tests/mock_server/mail_mock_server.js
Auto-merging addons/portal/controllers/mail.py
CONFLICT (content): Merge conflict in addons/portal/controllers/mail.py
Auto-merging odoo/tools/misc.py

```

Either perform the forward-port manually (and push to this branch, proceeding as usual) or close this PR (maybe?).

In the former case, you may want to edit this PR message as well.

:warning: after resolving this conflict, you will need to merge it via @robodoo.

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

fw-bot (Issue Creator) on (2025-01-19 02:02:30 UTC): @seb-odoo @tsm-odoo this forward port of odoo/odoo#187799 is awaiting action (not merged or closed).

fw-bot (Issue Creator) on (2025-01-20 02:02:36 UTC): @seb-odoo @tsm-odoo this forward port of odoo/odoo#187799 is awaiting action (not merged or closed).

robodoo on (2025-01-20 10:33:29 UTC): @seb-odoo @tsm-odoo 'ci/runbot' failed on this reviewed PR.

"
2797085910,pull_request,closed,,[FW][FIX] html_editor: powerbox scroll and hover when document in iframe,"Have the edited document in an iframe.
Spawn the Powerbox, Scroll the powerbox.

Without letting the mouse out of the powerbox, try to hover a command

Before this commit, this did not work. It was because of a piece of code that prevents selection of commands during scrolling, probably to avoid re-renders.

After this commit, this use case works as expected.

Description of the issue/feature this PR addresses:

Current behavior before PR:

Desired behavior after PR is merged:




---
I confirm I have signed the CLA and read the PR guidelines at www.odoo.com/submit-pr

Forward-Port-Of: odoo/odoo#193521",fw-bot,2025-01-18 17:18:44+00:00,[],2025-02-03 08:09:27+00:00,2025-01-20 07:48:22+00:00,https://github.com/odoo/odoo/pull/194287,"[('RD', 'research & development, internal work'), ('forwardport', 'This PR was created by @fw-bot'), ('18.2', None)]","[{'comment_id': 2599795559, 'issue_id': 2797085910, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/194287.png)](https://mergebot.odoo.com/odoo/odoo/pull/194287)', 'created_at': datetime.datetime(2025, 1, 18, 17, 18, 45, tzinfo=datetime.timezone.utc)}, {'comment_id': 2599795562, 'issue_id': 2797085910, 'author': 'fw-bot', 'body': '@kebeclibre @FrancoisGe this PR targets master and is the last of the forward-port chain containing:\n* odoo/odoo#194286\n\nTo merge the full chain, use\n> @robodoo r+\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 18, 17, 18, 46, tzinfo=datetime.timezone.utc)}, {'comment_id': 2601485744, 'issue_id': 2797085910, 'author': 'kebeclibre', 'body': '@robodoo r+', 'created_at': datetime.datetime(2025, 1, 20, 6, 39, 23, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-18 17:18:45 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/194287.png)](https://mergebot.odoo.com/odoo/odoo/pull/194287)

fw-bot (Issue Creator) on (2025-01-18 17:18:46 UTC): @kebeclibre @FrancoisGe this PR targets master and is the last of the forward-port chain containing:
* odoo/odoo#194286

To merge the full chain, use

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

kebeclibre on (2025-01-20 06:39:23 UTC): @robodoo r+

"
2797057462,pull_request,closed,,[FW][FIX] html_editor: powerbox scroll and hover when document in iframe,"Have the edited document in an iframe.
Spawn the Powerbox, Scroll the powerbox.

Without letting the mouse out of the powerbox, try to hover a command

Before this commit, this did not work. It was because of a piece of code that prevents selection of commands during scrolling, probably to avoid re-renders.

After this commit, this use case works as expected.

Description of the issue/feature this PR addresses:

Current behavior before PR:

Desired behavior after PR is merged:




---
I confirm I have signed the CLA and read the PR guidelines at www.odoo.com/submit-pr

Forward-Port-Of: odoo/odoo#193521",fw-bot,2025-01-18 16:16:19+00:00,[],2025-02-03 11:38:35+00:00,2025-01-20 11:20:00+00:00,https://github.com/odoo/odoo/pull/194286,"[('RD', 'research & development, internal work'), ('forwardport', 'This PR was created by @fw-bot')]","[{'comment_id': 2599773655, 'issue_id': 2797057462, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/194286.png)](https://mergebot.odoo.com/odoo/odoo/pull/194286)', 'created_at': datetime.datetime(2025, 1, 18, 16, 16, 20, tzinfo=datetime.timezone.utc)}, {'comment_id': 2599773657, 'issue_id': 2797057462, 'author': 'fw-bot', 'body': 'This PR targets saas-18.1 and is part of the forward-port chain. Further PRs will be created up to master.\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 18, 16, 16, 21, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-18 16:16:20 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/194286.png)](https://mergebot.odoo.com/odoo/odoo/pull/194286)

fw-bot (Issue Creator) on (2025-01-18 16:16:21 UTC): This PR targets saas-18.1 and is part of the forward-port chain. Further PRs will be created up to master.

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

"
2796900483,pull_request,closed,,[FW][FIX] hw_posbox_homepage: allow windows access to update dialog,"Since odoo/odoo#191886, ""download handlers"" is available through ""Update"" page. As Windows IoT Boxes have no access to this page, the feature was unreachable. This commit fixes this behaviour by allowing access to Update page and disabling Linux specific tools on it.

Forward-Port-Of: odoo/odoo#194145",fw-bot,2025-01-18 10:18:55+00:00,[],2025-02-01 23:47:24+00:00,2025-01-18 23:44:50+00:00,https://github.com/odoo/odoo/pull/194285,"[('RD', 'research & development, internal work'), ('forwardport', 'This PR was created by @fw-bot'), ('18.2', None)]","[{'comment_id': 2599659110, 'issue_id': 2796900483, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/194285.png)](https://mergebot.odoo.com/odoo/odoo/pull/194285)', 'created_at': datetime.datetime(2025, 1, 18, 10, 18, 57, tzinfo=datetime.timezone.utc)}, {'comment_id': 2599659116, 'issue_id': 2796900483, 'author': 'fw-bot', 'body': '@loouis-t @Ysoroko this PR targets master and is the last of the forward-port chain containing:\n* odoo/odoo#194283\n* odoo/odoo#194281\n* odoo/odoo#194280\n* odoo/odoo#194279\n\nTo merge the full chain, use\n> @robodoo r+\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 18, 10, 18, 57, tzinfo=datetime.timezone.utc)}, {'comment_id': 2599863685, 'issue_id': 2796900483, 'author': 'loouis-t', 'body': '@robodoo r+', 'created_at': datetime.datetime(2025, 1, 18, 20, 17, 24, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-18 10:18:57 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/194285.png)](https://mergebot.odoo.com/odoo/odoo/pull/194285)

fw-bot (Issue Creator) on (2025-01-18 10:18:57 UTC): @loouis-t @Ysoroko this PR targets master and is the last of the forward-port chain containing:
* odoo/odoo#194283
* odoo/odoo#194281
* odoo/odoo#194280
* odoo/odoo#194279

To merge the full chain, use

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

loouis-t on (2025-01-18 20:17:24 UTC): @robodoo r+

"
2796883401,pull_request,closed,,[FW][FIX] point_of_sale: deduct change from cash payment,"**Issue:**

when making a payment using 2 different payment methods (cash and bank), the change gets deducted from the bank payment not the cash payment in the invoice.

**Steps To Reproduce:**

On POS, for an order totaling $120.
    - Add a customer and ensure the ""Invoice"" box is checked.
    - pay using two payments methods bank 100$ Cash 50$
    - the change is $30, everything looks fine on the ticket on the pos.
    - Notice on the invoice on the db backend the $30 change is incorrectly deducted from the bank payment. As a result, the invoice displays: bank : $70 cash: $50

**Soltution:**
- In the `_create_payment_moves` method, ensure that cash payment method creates an `account.move` including the change amount.

opw-4076246

---
I confirm I have signed the CLA and read the PR guidelines at www.odoo.com/submit-pr

Forward-Port-Of: odoo/odoo#194097
Forward-Port-Of: odoo/odoo#187727",fw-bot,2025-01-18 09:37:38+00:00,[],2025-02-02 05:47:08+00:00,2025-01-19 02:09:08+00:00,https://github.com/odoo/odoo/pull/194284,"[('OE', 'the report is linked to a support ticket (opw-...)'), ('forwardport', 'This PR was created by @fw-bot'), ('conflict', 'There was an error while creating this forward-port PR')]","[{'comment_id': 2599648050, 'issue_id': 2796883401, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/194284.png)](https://mergebot.odoo.com/odoo/odoo/pull/194284)', 'created_at': datetime.datetime(2025, 1, 18, 9, 37, 39, tzinfo=datetime.timezone.utc)}, {'comment_id': 2599648071, 'issue_id': 2796883401, 'author': 'fw-bot', 'body': '@kawkb @caburj cherrypicking of pull request odoo/odoo#187727 failed.\n\nstdout:\n```\nAuto-merging addons/point_of_sale/models/pos_payment.py\nCONFLICT (content): Merge conflict in addons/point_of_sale/models/pos_payment.py\nAuto-merging addons/point_of_sale/tests/test_point_of_sale_flow.py\nCONFLICT (content): Merge conflict in addons/point_of_sale/tests/test_point_of_sale_flow.py\n\n```\n\nEither perform the forward-port manually (and push to this branch, proceeding as usual) or close this PR (maybe?).\n\nIn the former case, you may want to edit this PR message as well.\n\n:warning: after resolving this conflict, you will need to merge it via @robodoo.\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 18, 9, 37, 41, tzinfo=datetime.timezone.utc)}, {'comment_id': 2600372008, 'issue_id': 2796883401, 'author': 'kawkb', 'body': '@robodoo r+', 'created_at': datetime.datetime(2025, 1, 19, 0, 50, 55, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-18 09:37:39 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/194284.png)](https://mergebot.odoo.com/odoo/odoo/pull/194284)

fw-bot (Issue Creator) on (2025-01-18 09:37:41 UTC): @kawkb @caburj cherrypicking of pull request odoo/odoo#187727 failed.

stdout:
```
Auto-merging addons/point_of_sale/models/pos_payment.py
CONFLICT (content): Merge conflict in addons/point_of_sale/models/pos_payment.py
Auto-merging addons/point_of_sale/tests/test_point_of_sale_flow.py
CONFLICT (content): Merge conflict in addons/point_of_sale/tests/test_point_of_sale_flow.py

```

Either perform the forward-port manually (and push to this branch, proceeding as usual) or close this PR (maybe?).

In the former case, you may want to edit this PR message as well.

:warning: after resolving this conflict, you will need to merge it via @robodoo.

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

kawkb on (2025-01-19 00:50:55 UTC): @robodoo r+

"
2796870770,pull_request,closed,,[FW][FIX] hw_posbox_homepage: allow windows access to update dialog,"Since odoo/odoo#191886, ""download handlers"" is available through ""Update"" page. As Windows IoT Boxes have no access to this page, the feature was unreachable. This commit fixes this behaviour by allowing access to Update page and disabling Linux specific tools on it.

Forward-Port-Of: odoo/odoo#194145",fw-bot,2025-01-18 09:13:11+00:00,[],2025-02-01 23:47:22+00:00,2025-01-18 21:50:48+00:00,https://github.com/odoo/odoo/pull/194283,"[('RD', 'research & development, internal work'), ('forwardport', 'This PR was created by @fw-bot')]","[{'comment_id': 2599641333, 'issue_id': 2796870770, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/194283.png)](https://mergebot.odoo.com/odoo/odoo/pull/194283)', 'created_at': datetime.datetime(2025, 1, 18, 9, 13, 12, tzinfo=datetime.timezone.utc)}, {'comment_id': 2599641338, 'issue_id': 2796870770, 'author': 'fw-bot', 'body': 'This PR targets saas-18.1 and is part of the forward-port chain. Further PRs will be created up to master.\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 18, 9, 13, 13, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-18 09:13:12 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/194283.png)](https://mergebot.odoo.com/odoo/odoo/pull/194283)

fw-bot (Issue Creator) on (2025-01-18 09:13:13 UTC): This PR targets saas-18.1 and is part of the forward-port chain. Further PRs will be created up to master.

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

"
2796852150,pull_request,closed,,[FW][FIX] point_of_sale: deduct change from cash payment,"**Issue:**

when making a payment using 2 different payment methods (cash and bank), the change gets deducted from the bank payment not the cash payment in the invoice.

**Steps To Reproduce:**

On POS, for an order totaling $120.
    - Add a customer and ensure the ""Invoice"" box is checked.
    - pay using two payments methods bank 100$ Cash 50$
    - the change is $30, everything looks fine on the ticket on the pos.
    - Notice on the invoice on the db backend the $30 change is incorrectly deducted from the bank payment. As a result, the invoice displays: bank : $70 cash: $50

**Soltution:**
- In the `_create_payment_moves` method, ensure that cash payment method creates an `account.move` including the change amount.

opw-4076246

---
I confirm I have signed the CLA and read the PR guidelines at www.odoo.com/submit-pr

Forward-Port-Of: odoo/odoo#194097
Forward-Port-Of: odoo/odoo#187727",fw-bot,2025-01-18 08:22:28+00:00,[],2025-02-01 23:47:22+00:00,2025-01-18 20:44:17+00:00,https://github.com/odoo/odoo/pull/194282,"[('OE', 'the report is linked to a support ticket (opw-...)'), ('forwardport', 'This PR was created by @fw-bot')]","[{'comment_id': 2599627485, 'issue_id': 2796852150, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/194282.png)](https://mergebot.odoo.com/odoo/odoo/pull/194282)', 'created_at': datetime.datetime(2025, 1, 18, 8, 22, 29, tzinfo=datetime.timezone.utc)}, {'comment_id': 2599627490, 'issue_id': 2796852150, 'author': 'fw-bot', 'body': 'This PR targets saas-17.2 and is part of the forward-port chain. Further PRs will be created up to master.\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 18, 8, 22, 30, tzinfo=datetime.timezone.utc)}, {'comment_id': 2599648056, 'issue_id': 2796852150, 'author': 'fw-bot', 'body': '@kawkb @caburj the next pull request (odoo/odoo#194284) is in conflict. You can merge the chain up to here by saying\n> @robodoo r+\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 18, 9, 37, 40, tzinfo=datetime.timezone.utc)}, {'comment_id': 2599848721, 'issue_id': 2796852150, 'author': 'kawkb', 'body': '@robodoo r+', 'created_at': datetime.datetime(2025, 1, 18, 19, 25, 1, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-18 08:22:29 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/194282.png)](https://mergebot.odoo.com/odoo/odoo/pull/194282)

fw-bot (Issue Creator) on (2025-01-18 08:22:30 UTC): This PR targets saas-17.2 and is part of the forward-port chain. Further PRs will be created up to master.

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

fw-bot (Issue Creator) on (2025-01-18 09:37:40 UTC): @kawkb @caburj the next pull request (odoo/odoo#194284) is in conflict. You can merge the chain up to here by saying

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

kawkb on (2025-01-18 19:25:01 UTC): @robodoo r+

"
2796840922,pull_request,closed,,[FW][FIX] hw_posbox_homepage: allow windows access to update dialog,"Since odoo/odoo#191886, ""download handlers"" is available through ""Update"" page. As Windows IoT Boxes have no access to this page, the feature was unreachable. This commit fixes this behaviour by allowing access to Update page and disabling Linux specific tools on it.

Forward-Port-Of: odoo/odoo#194145",fw-bot,2025-01-18 08:07:57+00:00,[],2025-02-02 17:47:07+00:00,2025-01-19 13:04:33+00:00,https://github.com/odoo/odoo/pull/194281,"[('RD', 'research & development, internal work'), ('forwardport', 'This PR was created by @fw-bot')]","[{'comment_id': 2599603488, 'issue_id': 2796840922, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/194281.png)](https://mergebot.odoo.com/odoo/odoo/pull/194281)', 'created_at': datetime.datetime(2025, 1, 18, 8, 7, 58, tzinfo=datetime.timezone.utc)}, {'comment_id': 2599603492, 'issue_id': 2796840922, 'author': 'fw-bot', 'body': 'This PR targets 18.0 and is part of the forward-port chain. Further PRs will be created up to master.\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 18, 8, 7, 59, tzinfo=datetime.timezone.utc)}, {'comment_id': 2599919719, 'issue_id': 2796840922, 'author': 'robodoo', 'body': '@loouis-t @Ysoroko staging failed: ci/runbot on b5b06536563ae6947101ce7ab22646cbac72b809 (view more at https://runbot.odoo.com/runbot/build/73570453)', 'created_at': datetime.datetime(2025, 1, 18, 20, 57, 29, tzinfo=datetime.timezone.utc)}, {'comment_id': 2600755936, 'issue_id': 2796840922, 'author': 'loouis-t', 'body': '@robodoo r+', 'created_at': datetime.datetime(2025, 1, 19, 8, 27, 7, tzinfo=datetime.timezone.utc)}, {'comment_id': 2600755946, 'issue_id': 2796840922, 'author': 'robodoo', 'body': ""This PR is already reviewed, it's in error, you might want to `retry` it instead (if you have already confirmed the error is not legitimate)."", 'created_at': datetime.datetime(2025, 1, 19, 8, 27, 9, tzinfo=datetime.timezone.utc)}, {'comment_id': 2600756146, 'issue_id': 2796840922, 'author': 'loouis-t', 'body': '@robodoo retry', 'created_at': datetime.datetime(2025, 1, 19, 8, 27, 51, tzinfo=datetime.timezone.utc)}, {'comment_id': 2600776898, 'issue_id': 2796840922, 'author': 'robodoo', 'body': '@loouis-t @Ysoroko staging failed: ci/runbot on db9b42d880f06d76f5de2438a1e1fe17a83dbed0 (view more at https://runbot.odoo.com/runbot/build/73597980)', 'created_at': datetime.datetime(2025, 1, 19, 9, 27, 28, tzinfo=datetime.timezone.utc)}, {'comment_id': 2600823511, 'issue_id': 2796840922, 'author': 'loouis-t', 'body': '@robodoo retry', 'created_at': datetime.datetime(2025, 1, 19, 11, 42, 40, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-18 08:07:58 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/194281.png)](https://mergebot.odoo.com/odoo/odoo/pull/194281)

fw-bot (Issue Creator) on (2025-01-18 08:07:59 UTC): This PR targets 18.0 and is part of the forward-port chain. Further PRs will be created up to master.

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

robodoo on (2025-01-18 20:57:29 UTC): @loouis-t @Ysoroko staging failed: ci/runbot on b5b06536563ae6947101ce7ab22646cbac72b809 (view more at https://runbot.odoo.com/runbot/build/73570453)

loouis-t on (2025-01-19 08:27:07 UTC): @robodoo r+

robodoo on (2025-01-19 08:27:09 UTC): This PR is already reviewed, it's in error, you might want to `retry` it instead (if you have already confirmed the error is not legitimate).

loouis-t on (2025-01-19 08:27:51 UTC): @robodoo retry

robodoo on (2025-01-19 09:27:28 UTC): @loouis-t @Ysoroko staging failed: ci/runbot on db9b42d880f06d76f5de2438a1e1fe17a83dbed0 (view more at https://runbot.odoo.com/runbot/build/73597980)

loouis-t on (2025-01-19 11:42:40 UTC): @robodoo retry

"
2796806500,pull_request,closed,,[FW][FIX] hw_posbox_homepage: allow windows access to update dialog,"Since odoo/odoo#191886, ""download handlers"" is available through ""Update"" page. As Windows IoT Boxes have no access to this page, the feature was unreachable. This commit fixes this behaviour by allowing access to Update page and disabling Linux specific tools on it.

Forward-Port-Of: odoo/odoo#194145",fw-bot,2025-01-18 06:54:47+00:00,[],2025-02-01 23:47:24+00:00,2025-01-18 22:41:33+00:00,https://github.com/odoo/odoo/pull/194280,"[('RD', 'research & development, internal work'), ('forwardport', 'This PR was created by @fw-bot')]","[{'comment_id': 2599583391, 'issue_id': 2796806500, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/194280.png)](https://mergebot.odoo.com/odoo/odoo/pull/194280)', 'created_at': datetime.datetime(2025, 1, 18, 6, 54, 49, tzinfo=datetime.timezone.utc)}, {'comment_id': 2599583394, 'issue_id': 2796806500, 'author': 'fw-bot', 'body': 'This PR targets saas-17.4 and is part of the forward-port chain. Further PRs will be created up to master.\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 18, 6, 54, 50, tzinfo=datetime.timezone.utc)}, {'comment_id': 2599926075, 'issue_id': 2796806500, 'author': 'robodoo', 'body': '@loouis-t @Ysoroko staging failed: ci/runbot on ab0758002c48644236772027c75cf4d75ca5b6bc (view more at https://runbot.odoo.com/runbot/build/73570477)', 'created_at': datetime.datetime(2025, 1, 18, 20, 59, 36, tzinfo=datetime.timezone.utc)}, {'comment_id': 2599974346, 'issue_id': 2796806500, 'author': 'loouis-t', 'body': '@robodoo retry', 'created_at': datetime.datetime(2025, 1, 18, 21, 17, 19, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-18 06:54:49 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/194280.png)](https://mergebot.odoo.com/odoo/odoo/pull/194280)

fw-bot (Issue Creator) on (2025-01-18 06:54:50 UTC): This PR targets saas-17.4 and is part of the forward-port chain. Further PRs will be created up to master.

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

robodoo on (2025-01-18 20:59:36 UTC): @loouis-t @Ysoroko staging failed: ci/runbot on ab0758002c48644236772027c75cf4d75ca5b6bc (view more at https://runbot.odoo.com/runbot/build/73570477)

loouis-t on (2025-01-18 21:17:19 UTC): @robodoo retry

"
2796778204,pull_request,closed,,[FW][FIX] hw_posbox_homepage: allow windows access to update dialog,"Since odoo/odoo#191886, ""download handlers"" is available through ""Update"" page. As Windows IoT Boxes have no access to this page, the feature was unreachable. This commit fixes this behaviour by allowing access to Update page and disabling Linux specific tools on it.

Forward-Port-Of: odoo/odoo#194145",fw-bot,2025-01-18 05:47:40+00:00,[],2025-02-01 23:47:23+00:00,2025-01-18 22:13:05+00:00,https://github.com/odoo/odoo/pull/194279,"[('RD', 'research & development, internal work'), ('forwardport', 'This PR was created by @fw-bot')]","[{'comment_id': 2599566310, 'issue_id': 2796778204, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/194279.png)](https://mergebot.odoo.com/odoo/odoo/pull/194279)', 'created_at': datetime.datetime(2025, 1, 18, 5, 47, 41, tzinfo=datetime.timezone.utc)}, {'comment_id': 2599566312, 'issue_id': 2796778204, 'author': 'fw-bot', 'body': 'This PR targets saas-17.2 and is part of the forward-port chain. Further PRs will be created up to master.\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 18, 5, 47, 42, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-18 05:47:41 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/194279.png)](https://mergebot.odoo.com/odoo/odoo/pull/194279)

fw-bot (Issue Creator) on (2025-01-18 05:47:42 UTC): This PR targets saas-17.2 and is part of the forward-port chain. Further PRs will be created up to master.

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

"
2796764810,pull_request,closed,,[FW][FIX] hr_holidays: fix activity when time off officer is not set,"Steps:
- Install the hr_holiday module
- Configure Time Off Type with validation set to `Approved by Time Off Officer` or `Both`
- Create a Time Off request without setting a Time Off Officer.

---

Description of the issue/feature this PR addresses: 
When the validation type is set to `hr` or `both` and no Time Off Officer is configured, an activity is incorrectly generated upon creating a Time Off request.

---

Fix:
This PR resolves the issue by ensuring the responsible user is set to empty when validation is `hr` or `Both` and no Time Off Officer is configured.

task-4351688

Forward-Port-Of: odoo/odoo#190193",fw-bot,2025-01-18 05:31:03+00:00,[],2025-02-03 14:06:05+00:00,2025-01-20 14:00:51+00:00,https://github.com/odoo/odoo/pull/194278,"[('RD', 'research & development, internal work'), ('forwardport', 'This PR was created by @fw-bot'), ('conflict', 'There was an error while creating this forward-port PR')]","[{'comment_id': 2599544208, 'issue_id': 2796764810, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/194278.png)](https://mergebot.odoo.com/odoo/odoo/pull/194278)', 'created_at': datetime.datetime(2025, 1, 18, 5, 31, 5, tzinfo=datetime.timezone.utc)}, {'comment_id': 2599544269, 'issue_id': 2796764810, 'author': 'fw-bot', 'body': '@ravb-odoo @tivisse cherrypicking of pull request odoo/odoo#190193 failed.\n\nstdout:\n```\nAuto-merging addons/hr_holidays/models/hr_leave.py\nCONFLICT (content): Merge conflict in addons/hr_holidays/models/hr_leave.py\nAuto-merging addons/hr_holidays/tests/test_company_leave.py\nAuto-merging addons/hr_holidays/tests/test_leave_requests.py\n\n```\n\nEither perform the forward-port manually (and push to this branch, proceeding as usual) or close this PR (maybe?).\n\nIn the former case, you may want to edit this PR message as well.\n\n:warning: after resolving this conflict, you will need to merge it via @robodoo.\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 18, 5, 31, 7, tzinfo=datetime.timezone.utc)}, {'comment_id': 2601796004, 'issue_id': 2796764810, 'author': 'tivisse', 'body': '@robodoo r+', 'created_at': datetime.datetime(2025, 1, 20, 8, 55, 32, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-18 05:31:05 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/194278.png)](https://mergebot.odoo.com/odoo/odoo/pull/194278)

fw-bot (Issue Creator) on (2025-01-18 05:31:07 UTC): @ravb-odoo @tivisse cherrypicking of pull request odoo/odoo#190193 failed.

stdout:
```
Auto-merging addons/hr_holidays/models/hr_leave.py
CONFLICT (content): Merge conflict in addons/hr_holidays/models/hr_leave.py
Auto-merging addons/hr_holidays/tests/test_company_leave.py
Auto-merging addons/hr_holidays/tests/test_leave_requests.py

```

Either perform the forward-port manually (and push to this branch, proceeding as usual) or close this PR (maybe?).

In the former case, you may want to edit this PR message as well.

:warning: after resolving this conflict, you will need to merge it via @robodoo.

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

tivisse on (2025-01-20 08:55:32 UTC): @robodoo r+

"
2796762151,pull_request,closed,,[FW][FIX] portal: invoice layout issue,"This PR addresses the layout issue in the sidebar of the portal, where a preview of the customer's invoice is displayed.

Before this PR, users encountered a broken layout for large invoice amounts, making it difficult to read the total.

This issue is resolved in this PR by adding a rules for the `h2` and `span` fields ensuring proper wrapping for better readability.


Steps to reproduce:

- Login as admin.
- Go to Website app.
- Navigate to ""My account"" at my/home url.
- Click on ""My invoices"" or navigate to my/invoices url.
- Click on one invoice in order to see its preview.
- Via the browser tools, edit the amount of on the left sidebar and insert a very big number.

task-4435472

---
I confirm I have signed the CLA and read the PR guidelines at www.odoo.com/submit-pr

Forward-Port-Of: odoo/odoo#192769",fw-bot,2025-01-18 05:29:28+00:00,[],2025-01-24 10:37:02+00:00,2025-01-23 15:26:34+00:00,https://github.com/odoo/odoo/pull/194277,"[('RD', 'research & development, internal work'), ('forwardport', 'This PR was created by @fw-bot'), ('conflict', 'There was an error while creating this forward-port PR')]","[{'comment_id': 2599541122, 'issue_id': 2796762151, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/194277.png)](https://mergebot.odoo.com/odoo/odoo/pull/194277)', 'created_at': datetime.datetime(2025, 1, 18, 5, 29, 29, tzinfo=datetime.timezone.utc)}, {'comment_id': 2599541133, 'issue_id': 2796762151, 'author': 'fw-bot', 'body': '@fres-sudo @qsm-odoo cherrypicking of pull request odoo/odoo#192769 failed.\n\nstdout:\n```\nAuto-merging addons/portal/static/src/scss/portal.scss\nCONFLICT (content): Merge conflict in addons/portal/static/src/scss/portal.scss\n\n```\n\nEither perform the forward-port manually (and push to this branch, proceeding as usual) or close this PR (maybe?).\n\nIn the former case, you may want to edit this PR message as well.\n\n:warning: after resolving this conflict, you will need to merge it via @robodoo.\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 18, 5, 29, 31, tzinfo=datetime.timezone.utc)}, {'comment_id': 2606119696, 'issue_id': 2796762151, 'author': 'fw-bot', 'body': '@fres-sudo @qsm-odoo this forward port of odoo/odoo#192769 is awaiting action (not merged or closed).', 'created_at': datetime.datetime(2025, 1, 22, 2, 1, 49, tzinfo=datetime.timezone.utc)}, {'comment_id': 2608689507, 'issue_id': 2796762151, 'author': 'fw-bot', 'body': '@fres-sudo @qsm-odoo this forward port of odoo/odoo#192769 is awaiting action (not merged or closed).', 'created_at': datetime.datetime(2025, 1, 23, 2, 1, 27, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-18 05:29:29 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/194277.png)](https://mergebot.odoo.com/odoo/odoo/pull/194277)

fw-bot (Issue Creator) on (2025-01-18 05:29:31 UTC): @fres-sudo @qsm-odoo cherrypicking of pull request odoo/odoo#192769 failed.

stdout:
```
Auto-merging addons/portal/static/src/scss/portal.scss
CONFLICT (content): Merge conflict in addons/portal/static/src/scss/portal.scss

```

Either perform the forward-port manually (and push to this branch, proceeding as usual) or close this PR (maybe?).

In the former case, you may want to edit this PR message as well.

:warning: after resolving this conflict, you will need to merge it via @robodoo.

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

fw-bot (Issue Creator) on (2025-01-22 02:01:49 UTC): @fres-sudo @qsm-odoo this forward port of odoo/odoo#192769 is awaiting action (not merged or closed).

fw-bot (Issue Creator) on (2025-01-23 02:01:27 UTC): @fres-sudo @qsm-odoo this forward port of odoo/odoo#192769 is awaiting action (not merged or closed).

"
2796659510,pull_request,closed,,[FW][FIX] hr_holidays: fix activity when time off officer is not set,"Steps:
- Install the hr_holiday module
- Configure Time Off Type with validation set to `Approved by Time Off Officer` or `Both`
- Create a Time Off request without setting a Time Off Officer.

---

Description of the issue/feature this PR addresses: 
When the validation type is set to `hr` or `both` and no Time Off Officer is configured, an activity is incorrectly generated upon creating a Time Off request.

---

Fix:
This PR resolves the issue by ensuring the responsible user is set to empty when validation is `hr` or `Both` and no Time Off Officer is configured.

task-4351688

Forward-Port-Of: odoo/odoo#190193",fw-bot,2025-01-18 04:18:58+00:00,[],2025-02-03 13:39:17+00:00,2025-01-20 13:23:41+00:00,https://github.com/odoo/odoo/pull/194276,"[('RD', 'research & development, internal work'), ('forwardport', 'This PR was created by @fw-bot')]","[{'comment_id': 2599518453, 'issue_id': 2796659510, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/194276.png)](https://mergebot.odoo.com/odoo/odoo/pull/194276)', 'created_at': datetime.datetime(2025, 1, 18, 4, 19, tzinfo=datetime.timezone.utc)}, {'comment_id': 2599518461, 'issue_id': 2796659510, 'author': 'fw-bot', 'body': 'This PR targets saas-17.2 and is part of the forward-port chain. Further PRs will be created up to master.\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 18, 4, 19, 1, tzinfo=datetime.timezone.utc)}, {'comment_id': 2599544218, 'issue_id': 2796659510, 'author': 'fw-bot', 'body': '@ravb-odoo @tivisse the next pull request (odoo/odoo#194278) is in conflict. You can merge the chain up to here by saying\n> @robodoo r+\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 18, 5, 31, 6, tzinfo=datetime.timezone.utc)}, {'comment_id': 2601782096, 'issue_id': 2796659510, 'author': 'tivisse', 'body': '@robodoo r+', 'created_at': datetime.datetime(2025, 1, 20, 8, 49, 12, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-18 04:19:00 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/194276.png)](https://mergebot.odoo.com/odoo/odoo/pull/194276)

fw-bot (Issue Creator) on (2025-01-18 04:19:01 UTC): This PR targets saas-17.2 and is part of the forward-port chain. Further PRs will be created up to master.

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

fw-bot (Issue Creator) on (2025-01-18 05:31:06 UTC): @ravb-odoo @tivisse the next pull request (odoo/odoo#194278) is in conflict. You can merge the chain up to here by saying

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

tivisse on (2025-01-20 08:49:12 UTC): @robodoo r+

"
2796659059,pull_request,closed,,[FW][FIX] portal: invoice layout issue,"This PR addresses the layout issue in the sidebar of the portal, where a preview of the customer's invoice is displayed.

Before this PR, users encountered a broken layout for large invoice amounts, making it difficult to read the total.

This issue is resolved in this PR by adding a rules for the `h2` and `span` fields ensuring proper wrapping for better readability.


Steps to reproduce:

- Login as admin.
- Go to Website app.
- Navigate to ""My account"" at my/home url.
- Click on ""My invoices"" or navigate to my/invoices url.
- Click on one invoice in order to see its preview.
- Via the browser tools, edit the amount of on the left sidebar and insert a very big number.

task-4435472

---
I confirm I have signed the CLA and read the PR guidelines at www.odoo.com/submit-pr

Forward-Port-Of: odoo/odoo#192769",fw-bot,2025-01-18 04:18:35+00:00,[],2025-01-20 17:45:14+00:00,2025-01-20 17:37:49+00:00,https://github.com/odoo/odoo/pull/194275,"[('RD', 'research & development, internal work'), ('forwardport', 'This PR was created by @fw-bot')]","[{'comment_id': 2599518346, 'issue_id': 2796659059, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/194275.png)](https://mergebot.odoo.com/odoo/odoo/pull/194275)', 'created_at': datetime.datetime(2025, 1, 18, 4, 18, 36, tzinfo=datetime.timezone.utc)}, {'comment_id': 2599518349, 'issue_id': 2796659059, 'author': 'fw-bot', 'body': 'This PR targets saas-17.2 and is part of the forward-port chain. Further PRs will be created up to master.\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 18, 4, 18, 36, tzinfo=datetime.timezone.utc)}, {'comment_id': 2599541124, 'issue_id': 2796659059, 'author': 'fw-bot', 'body': '@fres-sudo @qsm-odoo the next pull request (odoo/odoo#194277) is in conflict. You can merge the chain up to here by saying\n> @robodoo r+\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 18, 5, 29, 30, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-18 04:18:36 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/194275.png)](https://mergebot.odoo.com/odoo/odoo/pull/194275)

fw-bot (Issue Creator) on (2025-01-18 04:18:36 UTC): This PR targets saas-17.2 and is part of the forward-port chain. Further PRs will be created up to master.

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

fw-bot (Issue Creator) on (2025-01-18 05:29:30 UTC): @fres-sudo @qsm-odoo the next pull request (odoo/odoo#194277) is in conflict. You can merge the chain up to here by saying

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

"
2796599499,pull_request,closed,,[FW][FIX] mail: no autofocus on composer on mobile,"Before this commit, when opening a channel on mobile the composer gets automatically focused.
This is not a problem on desktop, but when on mobile it triggers the opening of the system keyboard, occupying half the screen and requiring a ""back"" command to close it.

This happens because the function that opens the chat window will put focus on the composer.
This commit fixes the issue by only focusing the composer when not on mobile.

task-4115728

Forward-Port-Of: odoo/odoo#194122",fw-bot,2025-01-18 02:51:00+00:00,[],2025-01-19 19:22:12+00:00,2025-01-19 18:32:18+00:00,https://github.com/odoo/odoo/pull/194274,"[('RD', 'research & development, internal work'), ('forwardport', 'This PR was created by @fw-bot'), ('conflict', 'There was an error while creating this forward-port PR')]","[{'comment_id': 2599486346, 'issue_id': 2796599499, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/194274.png)](https://mergebot.odoo.com/odoo/odoo/pull/194274)', 'created_at': datetime.datetime(2025, 1, 18, 2, 51, 1, tzinfo=datetime.timezone.utc)}, {'comment_id': 2599486349, 'issue_id': 2796599499, 'author': 'fw-bot', 'body': '@Atovange @alexkuhn cherrypicking of pull request odoo/odoo#194122 failed.\n\nstdout:\n```\nAuto-merging addons/mail/static/src/core/web/thread_service_patch.js\nCONFLICT (content): Merge conflict in addons/mail/static/src/core/web/thread_service_patch.js\n\n```\n\nEither perform the forward-port manually (and push to this branch, proceeding as usual) or close this PR (maybe?).\n\nIn the former case, you may want to edit this PR message as well.\n\n:warning: after resolving this conflict, you will need to merge it via @robodoo.\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 18, 2, 51, 2, tzinfo=datetime.timezone.utc)}, {'comment_id': 2600932044, 'issue_id': 2796599499, 'author': 'alexkuhn', 'body': '@robodoo r+', 'created_at': datetime.datetime(2025, 1, 19, 16, 28, 23, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-18 02:51:01 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/194274.png)](https://mergebot.odoo.com/odoo/odoo/pull/194274)

fw-bot (Issue Creator) on (2025-01-18 02:51:02 UTC): @Atovange @alexkuhn cherrypicking of pull request odoo/odoo#194122 failed.

stdout:
```
Auto-merging addons/mail/static/src/core/web/thread_service_patch.js
CONFLICT (content): Merge conflict in addons/mail/static/src/core/web/thread_service_patch.js

```

Either perform the forward-port manually (and push to this branch, proceeding as usual) or close this PR (maybe?).

In the former case, you may want to edit this PR message as well.

:warning: after resolving this conflict, you will need to merge it via @robodoo.

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

alexkuhn on (2025-01-19 16:28:23 UTC): @robodoo r+

"
2796590450,pull_request,closed,,[FW][IMP] point_of_sale: improve price clarity in cards,"- Improve product price inside `product_info_popup` and `prodcut_info_banner`.

task-id: 4477205

Description of the issue/feature this PR addresses:

Current behavior before PR:

Desired behavior after PR is merged:




---
I confirm I have signed the CLA and read the PR guidelines at www.odoo.com/submit-pr

Forward-Port-Of: odoo/odoo#193702",fw-bot,2025-01-18 02:25:13+00:00,[],2025-02-04 01:53:12+00:00,2025-01-21 01:06:44+00:00,https://github.com/odoo/odoo/pull/194273,"[('RD', 'research & development, internal work'), ('forwardport', 'This PR was created by @fw-bot'), ('conflict', 'There was an error while creating this forward-port PR'), ('18.2', None)]","[{'comment_id': 2599477866, 'issue_id': 2796590450, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/194273.png)](https://mergebot.odoo.com/odoo/odoo/pull/194273)', 'created_at': datetime.datetime(2025, 1, 18, 2, 25, 14, tzinfo=datetime.timezone.utc)}, {'comment_id': 2599477870, 'issue_id': 2796590450, 'author': 'fw-bot', 'body': '@manv-afk @caburj cherrypicking of pull request odoo/odoo#193702 failed.\n\nstdout:\n```\nAuto-merging addons/point_of_sale/static/src/app/components/popups/product_info_popup/product_info_popup.xml\nCONFLICT (content): Merge conflict in addons/point_of_sale/static/src/app/components/popups/product_info_popup/product_info_popup.xml\n\n```\n\nEither perform the forward-port manually (and push to this branch, proceeding as usual) or close this PR (maybe?).\n\nIn the former case, you may want to edit this PR message as well.\n\n:warning: after resolving this conflict, you will need to merge it via @robodoo.\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 18, 2, 25, 14, tzinfo=datetime.timezone.utc)}, {'comment_id': 2602872506, 'issue_id': 2796590450, 'author': 'manv-afk', 'body': '@robodoo r+', 'created_at': datetime.datetime(2025, 1, 20, 16, 43, 28, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-18 02:25:14 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/194273.png)](https://mergebot.odoo.com/odoo/odoo/pull/194273)

fw-bot (Issue Creator) on (2025-01-18 02:25:14 UTC): @manv-afk @caburj cherrypicking of pull request odoo/odoo#193702 failed.

stdout:
```
Auto-merging addons/point_of_sale/static/src/app/components/popups/product_info_popup/product_info_popup.xml
CONFLICT (content): Merge conflict in addons/point_of_sale/static/src/app/components/popups/product_info_popup/product_info_popup.xml

```

Either perform the forward-port manually (and push to this branch, proceeding as usual) or close this PR (maybe?).

In the former case, you may want to edit this PR message as well.

:warning: after resolving this conflict, you will need to merge it via @robodoo.

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

manv-afk on (2025-01-20 16:43:28 UTC): @robodoo r+

"
2796457867,pull_request,closed,,[FW][FIX] purchase: Fix taxes in the purchase order portal view,"From saas-17.4, the ""description"" field on ""account.tax"" has been changed from Char to Html. However, the portal view for the purchase order does not correctly render HTML fields in the taxes column.

As a result, the taxes are displayed using only the ""name"" field in the portal purchase order view.

opw-4439126

---
I confirm I have signed the CLA and read the PR guidelines at www.odoo.com/submit-pr

Forward-Port-Of: odoo/odoo#193677",fw-bot,2025-01-17 23:15:53+00:00,[],2025-02-08 00:24:13+00:00,2025-01-25 00:08:40+00:00,https://github.com/odoo/odoo/pull/194272,"[('OE', 'the report is linked to a support ticket (opw-...)'), ('forwardport', 'This PR was created by @fw-bot'), ('conflict', 'There was an error while creating this forward-port PR')]","[{'comment_id': 2599358997, 'issue_id': 2796457867, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/194272.png)](https://mergebot.odoo.com/odoo/odoo/pull/194272)', 'created_at': datetime.datetime(2025, 1, 17, 23, 15, 54, tzinfo=datetime.timezone.utc)}, {'comment_id': 2599359010, 'issue_id': 2796457867, 'author': 'fw-bot', 'body': '@jrbr-odoo @clesgow cherrypicking of pull request odoo/odoo#193677 failed.\n\nstdout:\n```\nAuto-merging addons/purchase/views/portal_templates.xml\nCONFLICT (content): Merge conflict in addons/purchase/views/portal_templates.xml\n\n```\n\nEither perform the forward-port manually (and push to this branch, proceeding as usual) or close this PR (maybe?).\n\nIn the former case, you may want to edit this PR message as well.\n\n:warning: after resolving this conflict, you will need to merge it via @robodoo.\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 17, 23, 15, 55, tzinfo=datetime.timezone.utc)}, {'comment_id': 2603475980, 'issue_id': 2796457867, 'author': 'fw-bot', 'body': '@jrbr-odoo @clesgow this forward port of odoo/odoo#193677 is awaiting action (not merged or closed).', 'created_at': datetime.datetime(2025, 1, 21, 2, 1, 12, tzinfo=datetime.timezone.utc)}, {'comment_id': 2606119167, 'issue_id': 2796457867, 'author': 'fw-bot', 'body': '@jrbr-odoo @clesgow this forward port of odoo/odoo#193677 is awaiting action (not merged or closed).', 'created_at': datetime.datetime(2025, 1, 22, 2, 1, 27, tzinfo=datetime.timezone.utc)}, {'comment_id': 2607599627, 'issue_id': 2796457867, 'author': 'jrbr-odoo', 'body': 'working on resolving merge conflicts', 'created_at': datetime.datetime(2025, 1, 22, 15, 46, 37, tzinfo=datetime.timezone.utc)}, {'comment_id': 2608689112, 'issue_id': 2796457867, 'author': 'fw-bot', 'body': '@jrbr-odoo @clesgow this forward port of odoo/odoo#193677 is awaiting action (not merged or closed).', 'created_at': datetime.datetime(2025, 1, 23, 2, 1, 8, tzinfo=datetime.timezone.utc)}, {'comment_id': 2611385383, 'issue_id': 2796457867, 'author': 'fw-bot', 'body': '@jrbr-odoo @clesgow this forward port of odoo/odoo#193677 is awaiting action (not merged or closed).', 'created_at': datetime.datetime(2025, 1, 24, 2, 1, 4, tzinfo=datetime.timezone.utc)}, {'comment_id': 2613403335, 'issue_id': 2796457867, 'author': 'jrbr-odoo', 'body': '@robodoo r+', 'created_at': datetime.datetime(2025, 1, 24, 21, 24, 24, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-17 23:15:54 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/194272.png)](https://mergebot.odoo.com/odoo/odoo/pull/194272)

fw-bot (Issue Creator) on (2025-01-17 23:15:55 UTC): @jrbr-odoo @clesgow cherrypicking of pull request odoo/odoo#193677 failed.

stdout:
```
Auto-merging addons/purchase/views/portal_templates.xml
CONFLICT (content): Merge conflict in addons/purchase/views/portal_templates.xml

```

Either perform the forward-port manually (and push to this branch, proceeding as usual) or close this PR (maybe?).

In the former case, you may want to edit this PR message as well.

:warning: after resolving this conflict, you will need to merge it via @robodoo.

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

fw-bot (Issue Creator) on (2025-01-21 02:01:12 UTC): @jrbr-odoo @clesgow this forward port of odoo/odoo#193677 is awaiting action (not merged or closed).

fw-bot (Issue Creator) on (2025-01-22 02:01:27 UTC): @jrbr-odoo @clesgow this forward port of odoo/odoo#193677 is awaiting action (not merged or closed).

jrbr-odoo on (2025-01-22 15:46:37 UTC): working on resolving merge conflicts

fw-bot (Issue Creator) on (2025-01-23 02:01:08 UTC): @jrbr-odoo @clesgow this forward port of odoo/odoo#193677 is awaiting action (not merged or closed).

fw-bot (Issue Creator) on (2025-01-24 02:01:04 UTC): @jrbr-odoo @clesgow this forward port of odoo/odoo#193677 is awaiting action (not merged or closed).

jrbr-odoo on (2025-01-24 21:24:24 UTC): @robodoo r+

"
2796434663,pull_request,closed,,[FW][IMP] l10n_be: improve/add deductible taxes,"For Belgium, combination of taxes and their deductibility are many. While our system of Distribution lines can be used in many cases, it's not easy or intuitive to configure, even for advanced accountants.

This commit aims at making sure:
- The most useful taxes are active by default
- We provide a few examples of the most commonly used Deductible taxes as well as examples of specific cases (Deductible IntraCom taxes).

task-id 4417039

Forward-Port-Of: odoo/odoo#194183
Forward-Port-Of: odoo/odoo#191350",fw-bot,2025-01-17 22:52:14+00:00,[],2025-02-03 16:01:25+00:00,2025-01-20 15:31:06+00:00,https://github.com/odoo/odoo/pull/194271,"[('RD', 'research & development, internal work'), ('forwardport', 'This PR was created by @fw-bot'), ('18.2', None)]","[{'comment_id': 2599338052, 'issue_id': 2796434663, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/194271.png)](https://mergebot.odoo.com/odoo/odoo/pull/194271)', 'created_at': datetime.datetime(2025, 1, 17, 22, 52, 15, tzinfo=datetime.timezone.utc)}, {'comment_id': 2599338057, 'issue_id': 2796434663, 'author': 'fw-bot', 'body': '@RicGR98 @h4818 this PR targets master and is the last of the forward-port chain containing:\n* odoo/odoo#194257\n\nTo merge the full chain, use\n> @robodoo r+\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 17, 22, 52, 16, tzinfo=datetime.timezone.utc)}, {'comment_id': 2599373737, 'issue_id': 2796434663, 'author': 'fw-bot', 'body': '@RicGR98 @h4818 ci/runbot failed on this forward-port PR', 'created_at': datetime.datetime(2025, 1, 17, 23, 35, 8, tzinfo=datetime.timezone.utc)}, {'comment_id': 2600467726, 'issue_id': 2796434663, 'author': 'fw-bot', 'body': '@RicGR98 @h4818 this forward port of odoo/odoo#191350 is awaiting action (not merged or closed).', 'created_at': datetime.datetime(2025, 1, 19, 2, 2, 9, tzinfo=datetime.timezone.utc)}, {'comment_id': 2601174211, 'issue_id': 2796434663, 'author': 'fw-bot', 'body': '@RicGR98 @h4818 this forward port of odoo/odoo#191350 is awaiting action (not merged or closed).', 'created_at': datetime.datetime(2025, 1, 20, 2, 2, 17, tzinfo=datetime.timezone.utc)}, {'comment_id': 2601886375, 'issue_id': 2796434663, 'author': 'RicGR98', 'body': '@robodoo r+', 'created_at': datetime.datetime(2025, 1, 20, 9, 34, 48, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-17 22:52:15 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/194271.png)](https://mergebot.odoo.com/odoo/odoo/pull/194271)

fw-bot (Issue Creator) on (2025-01-17 22:52:16 UTC): @RicGR98 @h4818 this PR targets master and is the last of the forward-port chain containing:
* odoo/odoo#194257

To merge the full chain, use

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

fw-bot (Issue Creator) on (2025-01-17 23:35:08 UTC): @RicGR98 @h4818 ci/runbot failed on this forward-port PR

fw-bot (Issue Creator) on (2025-01-19 02:02:09 UTC): @RicGR98 @h4818 this forward port of odoo/odoo#191350 is awaiting action (not merged or closed).

fw-bot (Issue Creator) on (2025-01-20 02:02:17 UTC): @RicGR98 @h4818 this forward port of odoo/odoo#191350 is awaiting action (not merged or closed).

RicGR98 on (2025-01-20 09:34:48 UTC): @robodoo r+

"
2796394585,pull_request,closed,,[FW][FIX] mail: no flicker on call video stream inset,"Before this commit, during a discuss call while sharing screen and enabling camera, the inset card (= small video stream preview in bottom right of call view of the participant, either camera or screen-sharing depending on other stream being main active) was flickering.

This happens because each rendering of the call view re-renders the inset, which leads to the perceived flickers from stream being re-rendered.

The main cause of re-render comes from `setInset()` that is invoked whenever the `visibleMainCards` getter is called with inset, which is triggered on renderings like mouse-hovering on call view to display the call actions. Even when the inset card is unchanged, `setInset()` produces another object, which forces OWL to re-render the inset component.

This commit fixes the issue by having `setInset` reusing the inset data object if the inset to render refers to the same inset session.

Task-4484908

Forward-Port-Of: odoo/odoo#194103",fw-bot,2025-01-17 22:16:52+00:00,[],2025-01-20 10:02:15+00:00,2025-01-20 01:35:51+00:00,https://github.com/odoo/odoo/pull/194270,"[('RD', 'research & development, internal work'), ('forwardport', 'This PR was created by @fw-bot')]","[{'comment_id': 2599302953, 'issue_id': 2796394585, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/194270.png)](https://mergebot.odoo.com/odoo/odoo/pull/194270)', 'created_at': datetime.datetime(2025, 1, 17, 22, 16, 53, tzinfo=datetime.timezone.utc)}, {'comment_id': 2599302962, 'issue_id': 2796394585, 'author': 'fw-bot', 'body': 'This PR targets 18.0 and is part of the forward-port chain. Further PRs will be created up to master.\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 17, 22, 16, 54, tzinfo=datetime.timezone.utc)}, {'comment_id': 2599354964, 'issue_id': 2796394585, 'author': 'fw-bot', 'body': '@alexkuhn ci/runbot failed on this forward-port PR', 'created_at': datetime.datetime(2025, 1, 17, 23, 11, 5, tzinfo=datetime.timezone.utc)}, {'comment_id': 2601009647, 'issue_id': 2796394585, 'author': 'robodoo', 'body': '@alexkuhn staging failed: ci/runbot on 26c9790cbd8315d8f3adb6fafd38af94f9940285 (view more at https://runbot.odoo.com/runbot/build/73600521)', 'created_at': datetime.datetime(2025, 1, 19, 20, 27, 5, tzinfo=datetime.timezone.utc)}, {'comment_id': 2601011831, 'issue_id': 2796394585, 'author': 'alexkuhn', 'body': '@robodoo retry', 'created_at': datetime.datetime(2025, 1, 19, 20, 33, 38, tzinfo=datetime.timezone.utc)}, {'comment_id': 2601025288, 'issue_id': 2796394585, 'author': 'robodoo', 'body': '@alexkuhn staging failed: ci/runbot on 46f37e530443bef54278ba55c52f44815ce19b1b (view more at https://runbot.odoo.com/runbot/build/73627158)', 'created_at': datetime.datetime(2025, 1, 19, 21, 18, 22, tzinfo=datetime.timezone.utc)}, {'comment_id': 2601031178, 'issue_id': 2796394585, 'author': 'alexkuhn', 'body': '@robodoo retry', 'created_at': datetime.datetime(2025, 1, 19, 21, 38, 29, tzinfo=datetime.timezone.utc)}, {'comment_id': 2601040259, 'issue_id': 2796394585, 'author': 'robodoo', 'body': '@alexkuhn staging failed: ci/runbot on d2a7cb0bb70d4ae2e409243f65249696663fa673 (view more at https://runbot.odoo.com/runbot/build/73627552)', 'created_at': datetime.datetime(2025, 1, 19, 22, 8, 20, tzinfo=datetime.timezone.utc)}, {'comment_id': 2601048016, 'issue_id': 2796394585, 'author': 'alexkuhn', 'body': '@robodoo retry', 'created_at': datetime.datetime(2025, 1, 19, 22, 32, 54, tzinfo=datetime.timezone.utc)}, {'comment_id': 2601061849, 'issue_id': 2796394585, 'author': 'robodoo', 'body': '@alexkuhn staging failed: ci/runbot on ae60a50bbd6c1174b0bb298c3a745415e7bd0fa5 (view more at https://runbot.odoo.com/runbot/build/73627828)', 'created_at': datetime.datetime(2025, 1, 19, 23, 16, 9, tzinfo=datetime.timezone.utc)}, {'comment_id': 2601078111, 'issue_id': 2796394585, 'author': 'alexkuhn', 'body': '@robodoo retry', 'created_at': datetime.datetime(2025, 1, 19, 23, 56, 52, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-17 22:16:53 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/194270.png)](https://mergebot.odoo.com/odoo/odoo/pull/194270)

fw-bot (Issue Creator) on (2025-01-17 22:16:54 UTC): This PR targets 18.0 and is part of the forward-port chain. Further PRs will be created up to master.

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

fw-bot (Issue Creator) on (2025-01-17 23:11:05 UTC): @alexkuhn ci/runbot failed on this forward-port PR

robodoo on (2025-01-19 20:27:05 UTC): @alexkuhn staging failed: ci/runbot on 26c9790cbd8315d8f3adb6fafd38af94f9940285 (view more at https://runbot.odoo.com/runbot/build/73600521)

alexkuhn on (2025-01-19 20:33:38 UTC): @robodoo retry

robodoo on (2025-01-19 21:18:22 UTC): @alexkuhn staging failed: ci/runbot on 46f37e530443bef54278ba55c52f44815ce19b1b (view more at https://runbot.odoo.com/runbot/build/73627158)

alexkuhn on (2025-01-19 21:38:29 UTC): @robodoo retry

robodoo on (2025-01-19 22:08:20 UTC): @alexkuhn staging failed: ci/runbot on d2a7cb0bb70d4ae2e409243f65249696663fa673 (view more at https://runbot.odoo.com/runbot/build/73627552)

alexkuhn on (2025-01-19 22:32:54 UTC): @robodoo retry

robodoo on (2025-01-19 23:16:09 UTC): @alexkuhn staging failed: ci/runbot on ae60a50bbd6c1174b0bb298c3a745415e7bd0fa5 (view more at https://runbot.odoo.com/runbot/build/73627828)

alexkuhn on (2025-01-19 23:56:52 UTC): @robodoo retry

"
2796390387,pull_request,closed,,[FW][FIX] web: typo in mobile form view test,"This commit fixes a typo in two mobile form view's tests where ""screenLeft"" was used instead of ""scrollX"".

Note: this was detected while testing for the new Chrome's headless mode set by default on Chrome 128+.

Forward-Port-Of: odoo/odoo#194105",fw-bot,2025-01-17 22:13:28+00:00,[],2025-02-01 23:47:21+00:00,2025-01-18 20:21:01+00:00,https://github.com/odoo/odoo/pull/194269,"[('RD', 'research & development, internal work'), ('forwardport', 'This PR was created by @fw-bot'), ('conflict', 'There was an error while creating this forward-port PR')]","[{'comment_id': 2599298859, 'issue_id': 2796390387, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/194269.png)](https://mergebot.odoo.com/odoo/odoo/pull/194269)', 'created_at': datetime.datetime(2025, 1, 17, 22, 13, 29, tzinfo=datetime.timezone.utc)}, {'comment_id': 2599298897, 'issue_id': 2796390387, 'author': 'fw-bot', 'body': '@pparidans @rfr-odoo cherrypicking of pull request odoo/odoo#194105 failed.\n\nstdout:\n```\nCONFLICT (modify/delete): addons/web/static/tests/mobile/views/form_view_tests.js deleted in 32a1e2b0a45bcb5e9b1d8d747674339483cb8cfb and modified in d2a4eac45fd89766aa56685420bcd095dfe0b4a5.  Version d2a4eac45fd89766aa56685420bcd095dfe0b4a5 of addons/web/static/tests/mobile/views/form_view_tests.js left in tree.\n\n```\n\nEither perform the forward-port manually (and push to this branch, proceeding as usual) or close this PR (maybe?).\n\nIn the former case, you may want to edit this PR message as well.\n\n:warning: after resolving this conflict, you will need to merge it via @robodoo.\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 17, 22, 13, 31, tzinfo=datetime.timezone.utc)}, {'comment_id': 2599812301, 'issue_id': 2796390387, 'author': 'pparidans', 'body': '@robodoo r+', 'created_at': datetime.datetime(2025, 1, 18, 18, 5, 48, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-17 22:13:29 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/194269.png)](https://mergebot.odoo.com/odoo/odoo/pull/194269)

fw-bot (Issue Creator) on (2025-01-17 22:13:31 UTC): @pparidans @rfr-odoo cherrypicking of pull request odoo/odoo#194105 failed.

stdout:
```
CONFLICT (modify/delete): addons/web/static/tests/mobile/views/form_view_tests.js deleted in 32a1e2b0a45bcb5e9b1d8d747674339483cb8cfb and modified in d2a4eac45fd89766aa56685420bcd095dfe0b4a5.  Version d2a4eac45fd89766aa56685420bcd095dfe0b4a5 of addons/web/static/tests/mobile/views/form_view_tests.js left in tree.

```

Either perform the forward-port manually (and push to this branch, proceeding as usual) or close this PR (maybe?).

In the former case, you may want to edit this PR message as well.

:warning: after resolving this conflict, you will need to merge it via @robodoo.

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

pparidans on (2025-01-18 18:05:48 UTC): @robodoo r+

"
2796389680,pull_request,closed,,"[FW][IMP] point_of_sale, pos_self_order: handle preset in self","Added the possibility of having a customer on the order.
This will make it possible to manage deliveries and order collection.

Once the user has placed an order and added his information.
This information will be kept in the cache so that it can be reused.

The order cache system is no longer managed by the localStorage but by
the indexedDB.

taskId: 4423621

Forward-Port-Of: odoo/odoo#191814",fw-bot,2025-01-17 22:12:44+00:00,[],2025-02-03 22:25:11+00:00,2025-01-20 22:17:58+00:00,https://github.com/odoo/odoo/pull/194268,"[('RD', 'research & development, internal work'), ('forwardport', 'This PR was created by @fw-bot'), ('conflict', 'There was an error while creating this forward-port PR'), ('18.2', None)]","[{'comment_id': 2599298084, 'issue_id': 2796389680, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/194268.png)](https://mergebot.odoo.com/odoo/odoo/pull/194268)', 'created_at': datetime.datetime(2025, 1, 17, 22, 12, 45, tzinfo=datetime.timezone.utc)}, {'comment_id': 2599298093, 'issue_id': 2796389680, 'author': 'fw-bot', 'body': '@davidmonnom @caburj cherrypicking of pull request odoo/odoo#191814 failed.\n\nstdout:\n```\nAuto-merging addons/point_of_sale/static/src/app/models/pos_order.js\nAuto-merging addons/point_of_sale/static/src/app/models/pos_preset.js\nAuto-merging addons/point_of_sale/static/src/app/screens/payment_screen/payment_screen.js\nCONFLICT (modify/delete): addons/pos_self_order/static/src/app/components/slots_popup/slots_popup.xml deleted in 2b06c0cb0693d3e187ee7d53df0858f9133b5f89 and modified in 4f4d89299b3a69e01d074863f6f132e64f8458af.  Version 4f4d89299b3a69e01d074863f6f132e64f8458af of addons/pos_self_order/static/src/app/components/slots_popup/slots_popup.xml left in tree.\nAuto-merging addons/pos_self_order/static/src/app/pages/confirmation_page/confirmation_page.js\nAuto-merging addons/pos_self_order/static/src/app/pages/order_history_page/order_history_page.js\nCONFLICT (content): Merge conflict in addons/pos_self_order/static/src/app/pages/order_history_page/order_history_page.js\nAuto-merging addons/pos_self_order/static/src/app/pages/order_history_page/order_history_page.xml\nCONFLICT (content): Merge conflict in addons/pos_self_order/static/src/app/pages/order_history_page/order_history_page.xml\nAuto-merging addons/pos_self_order/static/src/app/services/self_order_service.js\nCONFLICT (content): Merge conflict in addons/pos_self_order/static/src/app/services/self_order_service.js\n\n```\n\nEither perform the forward-port manually (and push to this branch, proceeding as usual) or close this PR (maybe?).\n\nIn the former case, you may want to edit this PR message as well.\n\n:warning: after resolving this conflict, you will need to merge it via @robodoo.\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 17, 22, 12, 45, tzinfo=datetime.timezone.utc)}, {'comment_id': 2602836465, 'issue_id': 2796389680, 'author': 'davidmonnom', 'body': '@robodoo r+', 'created_at': datetime.datetime(2025, 1, 20, 16, 25, 45, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-17 22:12:45 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/194268.png)](https://mergebot.odoo.com/odoo/odoo/pull/194268)

fw-bot (Issue Creator) on (2025-01-17 22:12:45 UTC): @davidmonnom @caburj cherrypicking of pull request odoo/odoo#191814 failed.

stdout:
```
Auto-merging addons/point_of_sale/static/src/app/models/pos_order.js
Auto-merging addons/point_of_sale/static/src/app/models/pos_preset.js
Auto-merging addons/point_of_sale/static/src/app/screens/payment_screen/payment_screen.js
CONFLICT (modify/delete): addons/pos_self_order/static/src/app/components/slots_popup/slots_popup.xml deleted in 2b06c0cb0693d3e187ee7d53df0858f9133b5f89 and modified in 4f4d89299b3a69e01d074863f6f132e64f8458af.  Version 4f4d89299b3a69e01d074863f6f132e64f8458af of addons/pos_self_order/static/src/app/components/slots_popup/slots_popup.xml left in tree.
Auto-merging addons/pos_self_order/static/src/app/pages/confirmation_page/confirmation_page.js
Auto-merging addons/pos_self_order/static/src/app/pages/order_history_page/order_history_page.js
CONFLICT (content): Merge conflict in addons/pos_self_order/static/src/app/pages/order_history_page/order_history_page.js
Auto-merging addons/pos_self_order/static/src/app/pages/order_history_page/order_history_page.xml
CONFLICT (content): Merge conflict in addons/pos_self_order/static/src/app/pages/order_history_page/order_history_page.xml
Auto-merging addons/pos_self_order/static/src/app/services/self_order_service.js
CONFLICT (content): Merge conflict in addons/pos_self_order/static/src/app/services/self_order_service.js

```

Either perform the forward-port manually (and push to this branch, proceeding as usual) or close this PR (maybe?).

In the former case, you may want to edit this PR message as well.

:warning: after resolving this conflict, you will need to merge it via @robodoo.

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

davidmonnom on (2025-01-20 16:25:45 UTC): @robodoo r+

"
2796389393,pull_request,closed,,[FW][FIX] point_of_sale: redesign categories shown,"Currently when users have too many categories in their pos, their are not able to see the products and cannot scroll.

Steps to reproduce:
-------------------
* Add categories to the pos `> 100`
* Open pos shop
> Observation: We cannot see all categories, cannot scroll through them,
and cannot see/select products

Why the fix:
------------

This issue is the same as the one in this commit: https://github.com/odoo/odoo/commit/dd14967a037a93346123265ed489a0b4ce5f8218

But this time we expend the scope of the fix because the issue can also appear on other size screens.

The number of rows of category displayed depends of the size of the screen.

opw-4457772

Forward-Port-Of: odoo/odoo#193959
Forward-Port-Of: odoo/odoo#193164",fw-bot,2025-01-17 22:12:27+00:00,[],2025-02-03 12:14:10+00:00,2025-01-20 12:03:24+00:00,https://github.com/odoo/odoo/pull/194267,"[('OE', 'the report is linked to a support ticket (opw-...)'), ('forwardport', 'This PR was created by @fw-bot'), ('18.2', None)]","[{'comment_id': 2599297807, 'issue_id': 2796389393, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/194267.png)](https://mergebot.odoo.com/odoo/odoo/pull/194267)', 'created_at': datetime.datetime(2025, 1, 17, 22, 12, 28, tzinfo=datetime.timezone.utc)}, {'comment_id': 2599297818, 'issue_id': 2796389393, 'author': 'fw-bot', 'body': '@sbel-odoo @caburj this PR targets master and is the last of the forward-port chain.\n\nTo merge the full chain, use\n> @robodoo r+\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 17, 22, 12, 29, tzinfo=datetime.timezone.utc)}, {'comment_id': 2601173540, 'issue_id': 2796389393, 'author': 'fw-bot', 'body': '@sbel-odoo @caburj this forward port of odoo/odoo#193164 is awaiting action (not merged or closed).', 'created_at': datetime.datetime(2025, 1, 20, 2, 1, 48, tzinfo=datetime.timezone.utc)}, {'comment_id': 2601658792, 'issue_id': 2796389393, 'author': 'sbel-odoo', 'body': '@robodoo r+', 'created_at': datetime.datetime(2025, 1, 20, 7, 50, 19, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-17 22:12:28 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/194267.png)](https://mergebot.odoo.com/odoo/odoo/pull/194267)

fw-bot (Issue Creator) on (2025-01-17 22:12:29 UTC): @sbel-odoo @caburj this PR targets master and is the last of the forward-port chain.

To merge the full chain, use

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

fw-bot (Issue Creator) on (2025-01-20 02:01:48 UTC): @sbel-odoo @caburj this forward port of odoo/odoo#193164 is awaiting action (not merged or closed).

sbel-odoo on (2025-01-20 07:50:19 UTC): @robodoo r+

"
2796388977,pull_request,closed,,[FW][FIX] web: remove error notification when loading an image,"There is already a placeholder image displayed when an image fails to load.

opw-4419565

Forward-Port-Of: odoo/odoo#194011
Forward-Port-Of: odoo/odoo#193825",fw-bot,2025-01-17 22:12:11+00:00,[],2025-01-27 15:56:03+00:00,2025-01-27 15:56:03+00:00,https://github.com/odoo/odoo/pull/194266,"[('OE', 'the report is linked to a support ticket (opw-...)'), ('forwardport', 'This PR was created by @fw-bot')]","[{'comment_id': 2599297542, 'issue_id': 2796388977, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/194266.png)](https://mergebot.odoo.com/odoo/odoo/pull/194266)', 'created_at': datetime.datetime(2025, 1, 17, 22, 12, 12, tzinfo=datetime.timezone.utc)}, {'comment_id': 2599297558, 'issue_id': 2796388977, 'author': 'fw-bot', 'body': 'This PR targets saas-18.1 and is part of the forward-port chain. Further PRs will be created up to master.\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 17, 22, 12, 13, tzinfo=datetime.timezone.utc)}, {'comment_id': 2599371872, 'issue_id': 2796388977, 'author': 'fw-bot', 'body': '@hubvd @aab-odoo ci/runbot failed on this forward-port PR', 'created_at': datetime.datetime(2025, 1, 17, 23, 32, 31, tzinfo=datetime.timezone.utc)}, {'comment_id': 2601172893, 'issue_id': 2796388977, 'author': 'fw-bot', 'body': '@hubvd @aab-odoo this forward port of odoo/odoo#193825 is awaiting action (not merged or closed).', 'created_at': datetime.datetime(2025, 1, 20, 2, 1, 15, tzinfo=datetime.timezone.utc)}, {'comment_id': 2603475794, 'issue_id': 2796388977, 'author': 'fw-bot', 'body': '@hubvd @aab-odoo this forward port of odoo/odoo#193825 is awaiting action (not merged or closed).', 'created_at': datetime.datetime(2025, 1, 21, 2, 1, 2, tzinfo=datetime.timezone.utc)}, {'comment_id': 2606119057, 'issue_id': 2796388977, 'author': 'fw-bot', 'body': '@hubvd @aab-odoo this forward port of odoo/odoo#193825 is awaiting action (not merged or closed).', 'created_at': datetime.datetime(2025, 1, 22, 2, 1, 23, tzinfo=datetime.timezone.utc)}, {'comment_id': 2608688988, 'issue_id': 2796388977, 'author': 'fw-bot', 'body': '@hubvd @aab-odoo this forward port of odoo/odoo#193825 is awaiting action (not merged or closed).', 'created_at': datetime.datetime(2025, 1, 23, 2, 1, 4, tzinfo=datetime.timezone.utc)}, {'comment_id': 2611385279, 'issue_id': 2796388977, 'author': 'fw-bot', 'body': '@hubvd @aab-odoo this forward port of odoo/odoo#193825 is awaiting action (not merged or closed).', 'created_at': datetime.datetime(2025, 1, 24, 2, 0, 58, tzinfo=datetime.timezone.utc)}, {'comment_id': 2613721783, 'issue_id': 2796388977, 'author': 'fw-bot', 'body': '@hubvd @aab-odoo this forward port of odoo/odoo#193825 is awaiting action (not merged or closed).', 'created_at': datetime.datetime(2025, 1, 25, 2, 1, 11, tzinfo=datetime.timezone.utc)}, {'comment_id': 2614172044, 'issue_id': 2796388977, 'author': 'fw-bot', 'body': '@hubvd @aab-odoo this forward port of odoo/odoo#193825 is awaiting action (not merged or closed).', 'created_at': datetime.datetime(2025, 1, 26, 2, 1, 28, tzinfo=datetime.timezone.utc)}, {'comment_id': 2615567566, 'issue_id': 2796388977, 'author': 'fw-bot', 'body': '@hubvd @aab-odoo this PR was modified / updated and has become a normal PR. It must be merged directly.', 'created_at': datetime.datetime(2025, 1, 27, 11, 59, 16, tzinfo=datetime.timezone.utc)}, {'comment_id': 2615837711, 'issue_id': 2796388977, 'author': 'hubvd', 'body': '@robodoo r+', 'created_at': datetime.datetime(2025, 1, 27, 13, 59, 14, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-17 22:12:12 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/194266.png)](https://mergebot.odoo.com/odoo/odoo/pull/194266)

fw-bot (Issue Creator) on (2025-01-17 22:12:13 UTC): This PR targets saas-18.1 and is part of the forward-port chain. Further PRs will be created up to master.

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

fw-bot (Issue Creator) on (2025-01-17 23:32:31 UTC): @hubvd @aab-odoo ci/runbot failed on this forward-port PR

fw-bot (Issue Creator) on (2025-01-20 02:01:15 UTC): @hubvd @aab-odoo this forward port of odoo/odoo#193825 is awaiting action (not merged or closed).

fw-bot (Issue Creator) on (2025-01-21 02:01:02 UTC): @hubvd @aab-odoo this forward port of odoo/odoo#193825 is awaiting action (not merged or closed).

fw-bot (Issue Creator) on (2025-01-22 02:01:23 UTC): @hubvd @aab-odoo this forward port of odoo/odoo#193825 is awaiting action (not merged or closed).

fw-bot (Issue Creator) on (2025-01-23 02:01:04 UTC): @hubvd @aab-odoo this forward port of odoo/odoo#193825 is awaiting action (not merged or closed).

fw-bot (Issue Creator) on (2025-01-24 02:00:58 UTC): @hubvd @aab-odoo this forward port of odoo/odoo#193825 is awaiting action (not merged or closed).

fw-bot (Issue Creator) on (2025-01-25 02:01:11 UTC): @hubvd @aab-odoo this forward port of odoo/odoo#193825 is awaiting action (not merged or closed).

fw-bot (Issue Creator) on (2025-01-26 02:01:28 UTC): @hubvd @aab-odoo this forward port of odoo/odoo#193825 is awaiting action (not merged or closed).

fw-bot (Issue Creator) on (2025-01-27 11:59:16 UTC): @hubvd @aab-odoo this PR was modified / updated and has become a normal PR. It must be merged directly.

hubvd on (2025-01-27 13:59:14 UTC): @robodoo r+

"
2796387195,pull_request,closed,,[FW][FIX] web_editor: prevent adding videos for html_field from studio,"**Problem**:
Enabling the addition of videos from Studio is not supported. This
option should be removed.

**Steps to Reproduce**:
1. In Studio, focus on any HTML field.
2. Under ""Properties,"" there should be no ""videos"" option.

opw-4405801
---
I confirm I have signed the CLA and read the PR guidelines at www.odoo.com/submit-pr

Forward-Port-Of: odoo/odoo#191183",fw-bot,2025-01-17 22:10:39+00:00,[],2025-02-03 11:38:36+00:00,2025-01-20 11:38:30+00:00,https://github.com/odoo/odoo/pull/194265,"[('OE', 'the report is linked to a support ticket (opw-...)'), ('forwardport', 'This PR was created by @fw-bot')]","[{'comment_id': 2599296030, 'issue_id': 2796387195, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/194265.png)](https://mergebot.odoo.com/odoo/odoo/pull/194265)', 'created_at': datetime.datetime(2025, 1, 17, 22, 10, 40, tzinfo=datetime.timezone.utc)}, {'comment_id': 2599296039, 'issue_id': 2796387195, 'author': 'fw-bot', 'body': '@walidsahli @dmo-odoo this PR targets saas-17.4 and is the last of the forward-port chain containing:\n* odoo/odoo#194251\n\nTo merge the full chain, use\n> @robodoo r+\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 17, 22, 10, 41, tzinfo=datetime.timezone.utc)}, {'comment_id': 2601477707, 'issue_id': 2796387195, 'author': 'walidsahli', 'body': '@robodoo r+', 'created_at': datetime.datetime(2025, 1, 20, 6, 32, 46, tzinfo=datetime.timezone.utc)}, {'comment_id': 2601748692, 'issue_id': 2796387195, 'author': 'robodoo', 'body': '@walidsahli @dmo-odoo staging failed: timed out (>120 minutes)', 'created_at': datetime.datetime(2025, 1, 20, 8, 35, 15, tzinfo=datetime.timezone.utc)}, {'comment_id': 2601757476, 'issue_id': 2796387195, 'author': 'walidsahli', 'body': '@robodoo retry', 'created_at': datetime.datetime(2025, 1, 20, 8, 38, 45, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-17 22:10:40 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/194265.png)](https://mergebot.odoo.com/odoo/odoo/pull/194265)

fw-bot (Issue Creator) on (2025-01-17 22:10:41 UTC): @walidsahli @dmo-odoo this PR targets saas-17.4 and is the last of the forward-port chain containing:
* odoo/odoo#194251

To merge the full chain, use

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

walidsahli on (2025-01-20 06:32:46 UTC): @robodoo r+

robodoo on (2025-01-20 08:35:15 UTC): @walidsahli @dmo-odoo staging failed: timed out (>120 minutes)

walidsahli on (2025-01-20 08:38:45 UTC): @robodoo retry

"
2796374556,pull_request,closed,,[FW][FIX] website: Fix hreflang website test,"The Issue:
Prior to this commit, invoking _get_frontend resulted in the get_current_website function returning a different website than the one specified in the MockRequest.

The Fix:
To resolve this, we ensure the function selects the correct website by explicitly passing it in the context.

runbot-64729

Forward-Port-Of: odoo/odoo#189705",fw-bot,2025-01-17 21:59:18+00:00,[],2025-02-06 11:46:48+00:00,2025-01-23 11:39:57+00:00,https://github.com/odoo/odoo/pull/194264,"[('RD', 'research & development, internal work'), ('forwardport', 'This PR was created by @fw-bot')]","[{'comment_id': 2599283282, 'issue_id': 2796374556, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/194264.png)](https://mergebot.odoo.com/odoo/odoo/pull/194264)', 'created_at': datetime.datetime(2025, 1, 17, 21, 59, 20, tzinfo=datetime.timezone.utc)}, {'comment_id': 2599283291, 'issue_id': 2796374556, 'author': 'fw-bot', 'body': 'This PR targets saas-18.1 and is part of the forward-port chain. Further PRs will be created up to master.\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 17, 21, 59, 20, tzinfo=datetime.timezone.utc)}, {'comment_id': 2599333099, 'issue_id': 2796374556, 'author': 'fw-bot', 'body': '@amay-odoo @qsm-odoo ci/runbot failed on this forward-port PR', 'created_at': datetime.datetime(2025, 1, 17, 22, 46, 43, tzinfo=datetime.timezone.utc)}, {'comment_id': 2603476868, 'issue_id': 2796374556, 'author': 'fw-bot', 'body': '@amay-odoo @qsm-odoo this forward port of odoo/odoo#189705 is awaiting action (not merged or closed).', 'created_at': datetime.datetime(2025, 1, 21, 2, 2, 3, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-17 21:59:20 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/194264.png)](https://mergebot.odoo.com/odoo/odoo/pull/194264)

fw-bot (Issue Creator) on (2025-01-17 21:59:20 UTC): This PR targets saas-18.1 and is part of the forward-port chain. Further PRs will be created up to master.

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

fw-bot (Issue Creator) on (2025-01-17 22:46:43 UTC): @amay-odoo @qsm-odoo ci/runbot failed on this forward-port PR

fw-bot (Issue Creator) on (2025-01-21 02:02:03 UTC): @amay-odoo @qsm-odoo this forward port of odoo/odoo#189705 is awaiting action (not merged or closed).

"
2796361557,pull_request,closed,,[FW][FIX] hr_attendance : fix `get_base_url` ref,"Issue: when the website has a domain `get_base_url` return the domain if the record calling it has a company set on it

- call the function with an empty object to get the database url instead

Task: 3903743



---
I confirm I have signed the CLA and read the PR guidelines at www.odoo.com/submit-pr

Forward-Port-Of: odoo/odoo#193951
Forward-Port-Of: odoo/odoo#193182",fw-bot,2025-01-17 21:47:58+00:00,[],2025-02-03 08:09:26+00:00,2025-01-20 07:48:15+00:00,https://github.com/odoo/odoo/pull/194263,"[('RD', 'research & development, internal work'), ('forwardport', 'This PR was created by @fw-bot'), ('18.2', None)]","[{'comment_id': 2599270369, 'issue_id': 2796361557, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/194263.png)](https://mergebot.odoo.com/odoo/odoo/pull/194263)', 'created_at': datetime.datetime(2025, 1, 17, 21, 48, tzinfo=datetime.timezone.utc)}, {'comment_id': 2599270400, 'issue_id': 2796361557, 'author': 'fw-bot', 'body': '@amah-odoo @Bertrand2 this PR targets master and is the last of the forward-port chain containing:\n* odoo/odoo#194236\n\nTo merge the full chain, use\n> @robodoo r+\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 17, 21, 48, 1, tzinfo=datetime.timezone.utc)}, {'comment_id': 2601173504, 'issue_id': 2796361557, 'author': 'fw-bot', 'body': '@amah-odoo @Bertrand2 this forward port of odoo/odoo#193182 is awaiting action (not merged or closed).', 'created_at': datetime.datetime(2025, 1, 20, 2, 1, 46, tzinfo=datetime.timezone.utc)}, {'comment_id': 2601448702, 'issue_id': 2796361557, 'author': 'amah-odoo', 'body': '@robodoo r+', 'created_at': datetime.datetime(2025, 1, 20, 6, 9, 19, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-17 21:48:00 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/194263.png)](https://mergebot.odoo.com/odoo/odoo/pull/194263)

fw-bot (Issue Creator) on (2025-01-17 21:48:01 UTC): @amah-odoo @Bertrand2 this PR targets master and is the last of the forward-port chain containing:
* odoo/odoo#194236

To merge the full chain, use

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

fw-bot (Issue Creator) on (2025-01-20 02:01:46 UTC): @amah-odoo @Bertrand2 this forward port of odoo/odoo#193182 is awaiting action (not merged or closed).

amah-odoo on (2025-01-20 06:09:19 UTC): @robodoo r+

"
2796356412,pull_request,closed,,[FW][FIX] account: draft bill entries in partner ledger,"### Before
When creating a new vendor bill through Vendors > 'Example Vendor 1'> Vendor Bills (magic button), if the vendor was changed to 'Example Vendor 2' and the draft saved then it would show up under the 'Example Vendor 1' in the Partner Ledger instead of under the correct 'Example Vendor 2'. 

This is due to the partner_id being defined in the context when going through the 'Example Vendor 1' view. 

### Now
During the creation of the account move lines we use a context without the default_partner_id.

The Partner Ledger now shows the draft bill entry under the right vendor.

opw-4407709

Forward-Port-Of: odoo/odoo#194052
Forward-Port-Of: odoo/odoo#192567",fw-bot,2025-01-17 21:43:51+00:00,[],2025-02-01 09:54:25+00:00,2025-01-18 09:38:36+00:00,https://github.com/odoo/odoo/pull/194262,"[('OE', 'the report is linked to a support ticket (opw-...)'), ('forwardport', 'This PR was created by @fw-bot'), ('18.2', None)]","[{'comment_id': 2599265421, 'issue_id': 2796356412, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/194262.png)](https://mergebot.odoo.com/odoo/odoo/pull/194262)', 'created_at': datetime.datetime(2025, 1, 17, 21, 43, 53, tzinfo=datetime.timezone.utc)}, {'comment_id': 2599265438, 'issue_id': 2796356412, 'author': 'fw-bot', 'body': '@aizu-odoo @william-andre this PR targets master and is the last of the forward-port chain containing:\n* odoo/odoo#194246\n\nTo merge the full chain, use\n> @robodoo r+\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 17, 21, 43, 53, tzinfo=datetime.timezone.utc)}, {'comment_id': 2599468782, 'issue_id': 2796356412, 'author': 'fw-bot', 'body': '@aizu-odoo @william-andre this forward port of odoo/odoo#192567 is awaiting action (not merged or closed).', 'created_at': datetime.datetime(2025, 1, 18, 2, 1, 12, tzinfo=datetime.timezone.utc)}, {'comment_id': 2599481870, 'issue_id': 2796356412, 'author': 'william-andre', 'body': '@robodoo r+', 'created_at': datetime.datetime(2025, 1, 18, 2, 36, 9, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-17 21:43:53 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/194262.png)](https://mergebot.odoo.com/odoo/odoo/pull/194262)

fw-bot (Issue Creator) on (2025-01-17 21:43:53 UTC): @aizu-odoo @william-andre this PR targets master and is the last of the forward-port chain containing:
* odoo/odoo#194246

To merge the full chain, use

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

fw-bot (Issue Creator) on (2025-01-18 02:01:12 UTC): @aizu-odoo @william-andre this forward port of odoo/odoo#192567 is awaiting action (not merged or closed).

william-andre on (2025-01-18 02:36:09 UTC): @robodoo r+

"
2796346813,pull_request,closed,,[FW][IMP] website: allow to bypass the website domain redirection,"When we go to the website preview in the Odoo backend, if the current domain used (to access the backend) is not the same as the one of the previewed website, we redirect the user, and he might have to reconnect. The same is done when using the website switcher.
Note: in the first case, the user is warned. We should probably do the same for the second case (?).

This is a problem for the Odoo support team. When they connect to a customer database upon user request, the <customer_db_name>.odoo.com address is used. But as soon as they are using the website app, they are redirected to the real website domains... where they are disconnected and cannot connect themselves.
To fix this issue, we allow setting up a session info parameter to bypass those website redirections. This is not to be done by real users: this will come with bugs (for the support team). Indeed, we are normally redirecting for a reason: many flows rely on using the right domain when visiting a specific website. Depending on what users have in their page, this could also simply make the website preview iframe crash.

task-4069779

Forward-Port-Of: odoo/odoo#194109
Forward-Port-Of: odoo/odoo#193122",fw-bot,2025-01-17 21:37:09+00:00,[],2025-01-21 08:56:28+00:00,2025-01-20 22:18:05+00:00,https://github.com/odoo/odoo/pull/194261,"[('RD', 'research & development, internal work'), ('forwardport', 'This PR was created by @fw-bot'), ('18.2', None)]","[{'comment_id': 2599257138, 'issue_id': 2796346813, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/194261.png)](https://mergebot.odoo.com/odoo/odoo/pull/194261)', 'created_at': datetime.datetime(2025, 1, 17, 21, 37, 11, tzinfo=datetime.timezone.utc)}, {'comment_id': 2599257151, 'issue_id': 2796346813, 'author': 'fw-bot', 'body': '@qsm-odoo this PR targets master and is the last of the forward-port chain containing:\n* odoo/odoo#194244\n\nTo merge the full chain, use\n> @robodoo r+\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 17, 21, 37, 11, tzinfo=datetime.timezone.utc)}, {'comment_id': 2599468667, 'issue_id': 2796346813, 'author': 'fw-bot', 'body': '@qsm-odoo this forward port of odoo/odoo#193122 is awaiting action (not merged or closed).', 'created_at': datetime.datetime(2025, 1, 18, 2, 0, 59, tzinfo=datetime.timezone.utc)}, {'comment_id': 2600464758, 'issue_id': 2796346813, 'author': 'fw-bot', 'body': '@qsm-odoo this forward port of odoo/odoo#193122 is awaiting action (not merged or closed).', 'created_at': datetime.datetime(2025, 1, 19, 2, 1, 47, tzinfo=datetime.timezone.utc)}, {'comment_id': 2601173574, 'issue_id': 2796346813, 'author': 'fw-bot', 'body': '@qsm-odoo this forward port of odoo/odoo#193122 is awaiting action (not merged or closed).', 'created_at': datetime.datetime(2025, 1, 20, 2, 1, 49, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-17 21:37:11 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/194261.png)](https://mergebot.odoo.com/odoo/odoo/pull/194261)

fw-bot (Issue Creator) on (2025-01-17 21:37:11 UTC): @qsm-odoo this PR targets master and is the last of the forward-port chain containing:
* odoo/odoo#194244

To merge the full chain, use

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

fw-bot (Issue Creator) on (2025-01-18 02:00:59 UTC): @qsm-odoo this forward port of odoo/odoo#193122 is awaiting action (not merged or closed).

fw-bot (Issue Creator) on (2025-01-19 02:01:47 UTC): @qsm-odoo this forward port of odoo/odoo#193122 is awaiting action (not merged or closed).

fw-bot (Issue Creator) on (2025-01-20 02:01:49 UTC): @qsm-odoo this forward port of odoo/odoo#193122 is awaiting action (not merged or closed).

"
2796346440,pull_request,closed,,[FW][FIX] point_of_sale: iOS downoad invoice popup,"When downloading an invoice from the POS on iOS the PoS would be
reloaded after closing the download popup.

Steps to reproduce:
-------------------
* Open PoS on iOS
* Make an order and invoice it
> Observation: After closing the invoice you are back on the product
screen

Why the fix:
------------
We open the download invoice popup in a new tab so that the PoS is not
reloaded after closing the popup.

opw-4471713

Forward-Port-Of: odoo/odoo#194000",fw-bot,2025-01-17 21:36:53+00:00,[],2025-01-20 10:37:12+00:00,2025-01-20 10:36:37+00:00,https://github.com/odoo/odoo/pull/194260,"[('OE', 'the report is linked to a support ticket (opw-...)'), ('forwardport', 'This PR was created by @fw-bot')]","[{'comment_id': 2599256826, 'issue_id': 2796346440, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/194260.png)](https://mergebot.odoo.com/odoo/odoo/pull/194260)', 'created_at': datetime.datetime(2025, 1, 17, 21, 36, 54, tzinfo=datetime.timezone.utc)}, {'comment_id': 2599256849, 'issue_id': 2796346440, 'author': 'fw-bot', 'body': '@robinengels @caburj this PR targets master and is the last of the forward-port chain containing:\n* odoo/odoo#194239\n\nTo merge the full chain, use\n> @robodoo r+\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 17, 21, 36, 55, tzinfo=datetime.timezone.utc)}, {'comment_id': 2602048032, 'issue_id': 2796346440, 'author': 'robinengels', 'body': 'We made a cleaner fix for master here : https://github.com/odoo/odoo/pull/194010', 'created_at': datetime.datetime(2025, 1, 20, 10, 36, 32, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-17 21:36:54 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/194260.png)](https://mergebot.odoo.com/odoo/odoo/pull/194260)

fw-bot (Issue Creator) on (2025-01-17 21:36:55 UTC): @robinengels @caburj this PR targets master and is the last of the forward-port chain containing:
* odoo/odoo#194239

To merge the full chain, use

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

robinengels on (2025-01-20 10:36:32 UTC): We made a cleaner fix for master here : https://github.com/odoo/odoo/pull/194010

"
2796345141,pull_request,closed,,[FW][FIX] hr_payroll: fix paperformat in document layout,"In the document layout configurator, the paper format A4 would not be there if the module l10n_be_hr_payroll is installed.

This is because in Belgium, some reports need A4 but in the configurator, we only get paperformat not linked to any report.

The solution is to remove the domain for this field in the configurator.

Since there will be more paper formats, I renamed the newly created formats in the Belgian payroll to differentiate them.

Forward-Port-Of: odoo/odoo#183134",fw-bot,2025-01-17 21:35:55+00:00,[],2025-01-21 08:21:19+00:00,2025-01-20 22:18:09+00:00,https://github.com/odoo/odoo/pull/194259,"[('RD', 'research & development, internal work'), ('forwardport', 'This PR was created by @fw-bot'), ('18.2', None)]","[{'comment_id': 2599255555, 'issue_id': 2796345141, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/194259.png)](https://mergebot.odoo.com/odoo/odoo/pull/194259)', 'created_at': datetime.datetime(2025, 1, 17, 21, 35, 57, tzinfo=datetime.timezone.utc)}, {'comment_id': 2599255590, 'issue_id': 2796345141, 'author': 'fw-bot', 'body': '@arpi-odoo @tivisse this PR targets master and is the last of the forward-port chain containing:\n* odoo/odoo#194238\n\nTo merge the full chain, use\n> @robodoo r+\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 17, 21, 35, 58, tzinfo=datetime.timezone.utc)}, {'comment_id': 2599305814, 'issue_id': 2796345141, 'author': 'fw-bot', 'body': '@arpi-odoo @tivisse ci/runbot failed on this forward-port PR', 'created_at': datetime.datetime(2025, 1, 17, 22, 19, 33, tzinfo=datetime.timezone.utc)}, {'comment_id': 2602729205, 'issue_id': 2796345141, 'author': 'tivisse', 'body': '@robodoo r+', 'created_at': datetime.datetime(2025, 1, 20, 15, 37, 10, tzinfo=datetime.timezone.utc)}, {'comment_id': 2602729314, 'issue_id': 2796345141, 'author': 'robodoo', 'body': '@tivisse you may want to rebuild or fix this PR as it has failed CI.', 'created_at': datetime.datetime(2025, 1, 20, 15, 37, 13, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-17 21:35:57 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/194259.png)](https://mergebot.odoo.com/odoo/odoo/pull/194259)

fw-bot (Issue Creator) on (2025-01-17 21:35:58 UTC): @arpi-odoo @tivisse this PR targets master and is the last of the forward-port chain containing:
* odoo/odoo#194238

To merge the full chain, use

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

fw-bot (Issue Creator) on (2025-01-17 22:19:33 UTC): @arpi-odoo @tivisse ci/runbot failed on this forward-port PR

tivisse on (2025-01-20 15:37:10 UTC): @robodoo r+

robodoo on (2025-01-20 15:37:13 UTC): @tivisse you may want to rebuild or fix this PR as it has failed CI.

"
2796343363,pull_request,closed,,[FW][FIX] sale_pdf_quote_builder: use correct datetime format,"Versions
--------
- saas-17.4+

Steps
-----
1. Create a new quotation template;
2. add a header which uses the `date_order` field;
3. configure the mapping from this form field to the record field;
4. print the quotation template.

Issue
-----
The datetime is formatted as ""Jan 16, 2025, 5:59:26 PM"", which is different from how dates are formatted, or how datetimes are usually formatted elsewhere in Odoo.

Additionally, it may also be too long to fit in the form field.

Cause
-----
The `format_datetime` function is used without a `dt_format` specified, falling back on the default `'medium'`: https://github.com/odoo/odoo/blob/cbd5531697954ec62d79e0eec2c00bd61cd8b0e4/odoo/tools/misc.py#L1399

Solution
--------
In order to get the format defined for the relevant locale in Odoo, `dt_format=False` should be specified in the `format_datetime` call: https://github.com/odoo/odoo/blob/cbd5531697954ec62d79e0eec2c00bd61cd8b0e4/odoo/tools/misc.py#L1427-L1430

opw-4414688

Forward-Port-Of: odoo/odoo#194113
Forward-Port-Of: odoo/odoo#194016",fw-bot,2025-01-17 21:34:42+00:00,[],2025-02-03 13:39:23+00:00,2025-01-20 13:32:10+00:00,https://github.com/odoo/odoo/pull/194258,"[('OE', 'the report is linked to a support ticket (opw-...)'), ('forwardport', 'This PR was created by @fw-bot'), ('18.2', None)]","[{'comment_id': 2599253948, 'issue_id': 2796343363, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/194258.png)](https://mergebot.odoo.com/odoo/odoo/pull/194258)', 'created_at': datetime.datetime(2025, 1, 17, 21, 34, 43, tzinfo=datetime.timezone.utc)}, {'comment_id': 2599253959, 'issue_id': 2796343363, 'author': 'fw-bot', 'body': '@lvsz @Demesmaeker this PR targets master and is the last of the forward-port chain containing:\n* odoo/odoo#194237\n\nTo merge the full chain, use\n> @robodoo r+\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 17, 21, 34, 43, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-17 21:34:43 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/194258.png)](https://mergebot.odoo.com/odoo/odoo/pull/194258)

fw-bot (Issue Creator) on (2025-01-17 21:34:43 UTC): @lvsz @Demesmaeker this PR targets master and is the last of the forward-port chain containing:
* odoo/odoo#194237

To merge the full chain, use

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

"
2796336981,pull_request,closed,,[FW][IMP] l10n_be: improve/add deductible taxes,"For Belgium, combination of taxes and their deductibility are many. While our system of Distribution lines can be used in many cases, it's not easy or intuitive to configure, even for advanced accountants.

This commit aims at making sure:
- The most useful taxes are active by default
- We provide a few examples of the most commonly used Deductible taxes as well as examples of specific cases (Deductible IntraCom taxes).

task-id 4417039

Forward-Port-Of: odoo/odoo#194183
Forward-Port-Of: odoo/odoo#191350",fw-bot,2025-01-17 21:30:03+00:00,[],2025-02-03 13:39:10+00:00,2025-01-20 13:19:13+00:00,https://github.com/odoo/odoo/pull/194257,"[('RD', 'research & development, internal work'), ('forwardport', 'This PR was created by @fw-bot')]","[{'comment_id': 2599248245, 'issue_id': 2796336981, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/194257.png)](https://mergebot.odoo.com/odoo/odoo/pull/194257)', 'created_at': datetime.datetime(2025, 1, 17, 21, 30, 6, tzinfo=datetime.timezone.utc)}, {'comment_id': 2599248258, 'issue_id': 2796336981, 'author': 'fw-bot', 'body': 'This PR targets saas-18.1 and is part of the forward-port chain. Further PRs will be created up to master.\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 17, 21, 30, 6, tzinfo=datetime.timezone.utc)}, {'comment_id': 2601718817, 'issue_id': 2796336981, 'author': 'RicGR98', 'body': '@robodoo r+', 'created_at': datetime.datetime(2025, 1, 20, 8, 20, 9, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-17 21:30:06 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/194257.png)](https://mergebot.odoo.com/odoo/odoo/pull/194257)

fw-bot (Issue Creator) on (2025-01-17 21:30:06 UTC): This PR targets saas-18.1 and is part of the forward-port chain. Further PRs will be created up to master.

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

RicGR98 on (2025-01-20 08:20:09 UTC): @robodoo r+

"
2796336300,pull_request,closed,,[FW][FIX] bus: do not show connection alert everywhere,"This is distracting for end users, restrict it to the discuss app. Also reduce its style so this feels less aggressive.

Forward-Port-Of: odoo/odoo#194166",fw-bot,2025-01-17 21:29:37+00:00,[],2025-01-20 10:09:44+00:00,2025-01-20 05:46:36+00:00,https://github.com/odoo/odoo/pull/194256,"[('RD', 'research & development, internal work'), ('forwardport', 'This PR was created by @fw-bot'), ('conflict', 'There was an error while creating this forward-port PR')]","[{'comment_id': 2599248199, 'issue_id': 2796336300, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/194256.png)](https://mergebot.odoo.com/odoo/odoo/pull/194256)', 'created_at': datetime.datetime(2025, 1, 17, 21, 30, 3, tzinfo=datetime.timezone.utc)}, {'comment_id': 2599248214, 'issue_id': 2796336300, 'author': 'fw-bot', 'body': '@tsm-odoo @alexkuhn cherrypicking of pull request odoo/odoo#194166 failed.\n\nstdout:\n```\nAuto-merging addons/bus/static/tests/bus_monitoring_service.test.js\nCONFLICT (content): Merge conflict in addons/bus/static/tests/bus_monitoring_service.test.js\nAuto-merging addons/mail/static/src/discuss/core/public_web/bus_connection_alert.js\nCONFLICT (content): Merge conflict in addons/mail/static/src/discuss/core/public_web/bus_connection_alert.js\nCONFLICT (modify/delete): addons/mail/static/src/discuss/web/bus_connection_alert_patch.js deleted in 3e9f8517cfc81a642a22141e2848bdb217b84a1f and modified in 06ddd353f71494cc8c8148bcfd55577e5bc9c9b4.  Version 06ddd353f71494cc8c8148bcfd55577e5bc9c9b4 of addons/mail/static/src/discuss/web/bus_connection_alert_patch.js left in tree.\nAuto-merging addons/mail/static/tests/discuss_app/bus_connection_alert.test.js\nAuto-merging addons/project/__manifest__.py\n\n```\n\nEither perform the forward-port manually (and push to this branch, proceeding as usual) or close this PR (maybe?).\n\nIn the former case, you may want to edit this PR message as well.\n\n:warning: after resolving this conflict, you will need to merge it via @robodoo.\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 17, 21, 30, 4, tzinfo=datetime.timezone.utc)}, {'comment_id': 2600935503, 'issue_id': 2796336300, 'author': 'alexkuhn', 'body': '@robodoo r+', 'created_at': datetime.datetime(2025, 1, 19, 16, 38, 31, tzinfo=datetime.timezone.utc)}, {'comment_id': 2600942882, 'issue_id': 2796336300, 'author': 'robodoo', 'body': ""@tsm-odoo @alexkuhn 'ci/runbot' failed on this reviewed PR."", 'created_at': datetime.datetime(2025, 1, 19, 17, 0, 7, tzinfo=datetime.timezone.utc)}, {'comment_id': 2600988147, 'issue_id': 2796336300, 'author': 'alexkuhn', 'body': '@robodoo r+', 'created_at': datetime.datetime(2025, 1, 19, 19, 19, 30, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-17 21:30:03 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/194256.png)](https://mergebot.odoo.com/odoo/odoo/pull/194256)

fw-bot (Issue Creator) on (2025-01-17 21:30:04 UTC): @tsm-odoo @alexkuhn cherrypicking of pull request odoo/odoo#194166 failed.

stdout:
```
Auto-merging addons/bus/static/tests/bus_monitoring_service.test.js
CONFLICT (content): Merge conflict in addons/bus/static/tests/bus_monitoring_service.test.js
Auto-merging addons/mail/static/src/discuss/core/public_web/bus_connection_alert.js
CONFLICT (content): Merge conflict in addons/mail/static/src/discuss/core/public_web/bus_connection_alert.js
CONFLICT (modify/delete): addons/mail/static/src/discuss/web/bus_connection_alert_patch.js deleted in 3e9f8517cfc81a642a22141e2848bdb217b84a1f and modified in 06ddd353f71494cc8c8148bcfd55577e5bc9c9b4.  Version 06ddd353f71494cc8c8148bcfd55577e5bc9c9b4 of addons/mail/static/src/discuss/web/bus_connection_alert_patch.js left in tree.
Auto-merging addons/mail/static/tests/discuss_app/bus_connection_alert.test.js
Auto-merging addons/project/__manifest__.py

```

Either perform the forward-port manually (and push to this branch, proceeding as usual) or close this PR (maybe?).

In the former case, you may want to edit this PR message as well.

:warning: after resolving this conflict, you will need to merge it via @robodoo.

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

alexkuhn on (2025-01-19 16:38:31 UTC): @robodoo r+

robodoo on (2025-01-19 17:00:07 UTC): @tsm-odoo @alexkuhn 'ci/runbot' failed on this reviewed PR.

alexkuhn on (2025-01-19 19:19:30 UTC): @robodoo r+

"
2796334679,pull_request,closed,,[FW][FIX] website: prevent crash with empty links in the mega menu,"Steps to reproduce:

- Open the ""Menu Editor"" dialog.
- Add a ""Mega Menu Item"".
- Save the ""Menu Editor"" dialog.
- Enter ""Edit Mode"".
- Open the ""Mega Menu"".
- Select ""Images Subtitles"" as the ""Mega Menu"" template option.
- Click on the largest image on the right side of the ""Mega Menu"".
- Click the ""Create Link"" button in the image options.
- Leave the input URL empty for this new link.
- Save the page.
- A link without an ""href"" attribute is now present in the ""Mega Menu"".
- Edit the browser URL to redirect to a page that is not present in the menu; for example, add ""/test"" to the current URL. It does not matter whether the page exists or not.
- Bug: A traceback occurs.

The bug occurred because the function ""_updateActiveMenuLinks"" (introduced by this commit [1]) called ""new URL"" on an empty string, as it attempted to process a link without an href attribute.

[1]: https://github.com/odoo/odoo/commit/5be12800a59e912997fff39cec57ab70914f2485

opw-4480958

Forward-Port-Of: odoo/odoo#194089",fw-bot,2025-01-17 21:28:11+00:00,[],2025-02-04 15:53:54+00:00,2025-01-21 15:35:19+00:00,https://github.com/odoo/odoo/pull/194255,"[('OE', 'the report is linked to a support ticket (opw-...)'), ('forwardport', 'This PR was created by @fw-bot'), ('18.2', None)]","[{'comment_id': 2599245969, 'issue_id': 2796334679, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/194255.png)](https://mergebot.odoo.com/odoo/odoo/pull/194255)', 'created_at': datetime.datetime(2025, 1, 17, 21, 28, 12, tzinfo=datetime.timezone.utc)}, {'comment_id': 2599245986, 'issue_id': 2796334679, 'author': 'fw-bot', 'body': '@bvr-odoo @SergeBayet this PR targets master and is the last of the forward-port chain containing:\n* odoo/odoo#194240\n\nTo merge the full chain, use\n> @robodoo r+\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 17, 21, 28, 13, tzinfo=datetime.timezone.utc)}, {'comment_id': 2603475504, 'issue_id': 2796334679, 'author': 'fw-bot', 'body': '@bvr-odoo @SergeBayet this forward port of odoo/odoo#194089 is awaiting action (not merged or closed).', 'created_at': datetime.datetime(2025, 1, 21, 2, 0, 47, tzinfo=datetime.timezone.utc)}, {'comment_id': 2604124368, 'issue_id': 2796334679, 'author': 'bvr-odoo', 'body': '@robodoo r+', 'created_at': datetime.datetime(2025, 1, 21, 9, 17, 22, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-17 21:28:12 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/194255.png)](https://mergebot.odoo.com/odoo/odoo/pull/194255)

fw-bot (Issue Creator) on (2025-01-17 21:28:13 UTC): @bvr-odoo @SergeBayet this PR targets master and is the last of the forward-port chain containing:
* odoo/odoo#194240

To merge the full chain, use

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

fw-bot (Issue Creator) on (2025-01-21 02:00:47 UTC): @bvr-odoo @SergeBayet this forward port of odoo/odoo#194089 is awaiting action (not merged or closed).

bvr-odoo on (2025-01-21 09:17:22 UTC): @robodoo r+

"
2796303972,pull_request,closed,,[FW][FIX] analytic: force analytic distribution title display nowrap,"**Steps to reproduce:**
- Configure `Analytic Accounting` via `Accounting` module's settings;
- Go to `Analytic Plans` through `Accounting / Configuration / Analytic Accounting`:
    - Select any record and change its name for a really long one;

![Capture d’écran 2025-01-02 à 15 21 40](https://github.com/user-attachments/assets/365a7089-9bb4-4215-8b7d-59ac85abc952)

- Go to `Expenses` app:
    - Select any expense in the list;
    - Open the `Analytic Distribution` widget.

___
**Issue:**
Long `Analytic Plans` names are wrapped and may lead to unreadable texts.

![Capture d’écran 2025-01-02 à 15 22 28](https://github.com/user-attachments/assets/b5ddbd88-1209-4640-a0ce-bf9396871038)

*(from the ticket - Odoo 17)*

![imagem](https://github.com/user-attachments/assets/2f3f0543-b08b-4f16-a4a0-4547369eb478)

___
**Expected:**
A smooth UI should display `Analytic Plans` as when accessed through an invoice line from `Accounting` app.

![Capture d’écran 2025-01-02 à 15 23 16](https://github.com/user-attachments/assets/ef0aa2fd-e8c5-47ba-8c39-ce4538b85380)

___
**Cause:**
The `Analytic Distribution` widget style of the invoice view inherits from the list renderer, forcing a `nowrap` style while the expense view of the same widget does not.

___
**Fix:**
Force a `nowrap` style for that specific widget.

![Capture d’écran 2025-01-02 à 15 22 55](https://github.com/user-attachments/assets/2af26b22-63e2-43fc-b636-f739a0aa094d)

___
opw-4357324

---
I confirm I have signed the CLA and read the PR guidelines at www.odoo.com/submit-pr

Forward-Port-Of: odoo/odoo#194162
Forward-Port-Of: odoo/odoo#192203",fw-bot,2025-01-17 21:06:38+00:00,[],2025-02-01 09:54:25+00:00,2025-01-18 09:38:32+00:00,https://github.com/odoo/odoo/pull/194253,"[('OE', 'the report is linked to a support ticket (opw-...)'), ('forwardport', 'This PR was created by @fw-bot'), ('18.2', None)]","[{'comment_id': 2599215587, 'issue_id': 2796303972, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/194253.png)](https://mergebot.odoo.com/odoo/odoo/pull/194253)', 'created_at': datetime.datetime(2025, 1, 17, 21, 6, 40, tzinfo=datetime.timezone.utc)}, {'comment_id': 2599215604, 'issue_id': 2796303972, 'author': 'fw-bot', 'body': '@barracudapps @jbw-odoo this PR targets master and is the last of the forward-port chain containing:\n* odoo/odoo#194235\n* odoo/odoo#194224\n\nTo merge the full chain, use\n> @robodoo r+\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 17, 21, 6, 40, tzinfo=datetime.timezone.utc)}, {'comment_id': 2599217482, 'issue_id': 2796303972, 'author': 'barracudapps', 'body': '@robodoo r+', 'created_at': datetime.datetime(2025, 1, 17, 21, 7, 41, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-17 21:06:40 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/194253.png)](https://mergebot.odoo.com/odoo/odoo/pull/194253)

fw-bot (Issue Creator) on (2025-01-17 21:06:40 UTC): @barracudapps @jbw-odoo this PR targets master and is the last of the forward-port chain containing:
* odoo/odoo#194235
* odoo/odoo#194224

To merge the full chain, use

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

barracudapps on (2025-01-17 21:07:41 UTC): @robodoo r+

"
2796283026,pull_request,closed,,[FW][FIX] web: remove error notification when loading an image,"There is already a placeholder image displayed when an image fails to load.

opw-4419565

Forward-Port-Of: odoo/odoo#194011
Forward-Port-Of: odoo/odoo#193825",fw-bot,2025-01-17 20:57:12+00:00,[],2025-01-27 18:24:39+00:00,2025-01-27 18:24:39+00:00,https://github.com/odoo/odoo/pull/194252,"[('OE', 'the report is linked to a support ticket (opw-...)'), ('forwardport', 'This PR was created by @fw-bot')]","[{'comment_id': 2599186450, 'issue_id': 2796283026, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/194252.png)](https://mergebot.odoo.com/odoo/odoo/pull/194252)', 'created_at': datetime.datetime(2025, 1, 17, 20, 57, 13, tzinfo=datetime.timezone.utc)}, {'comment_id': 2599186467, 'issue_id': 2796283026, 'author': 'fw-bot', 'body': 'This PR targets 18.0 and is part of the forward-port chain. Further PRs will be created up to master.\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 17, 20, 57, 13, tzinfo=datetime.timezone.utc)}, {'comment_id': 2615567628, 'issue_id': 2796283026, 'author': 'fw-bot', 'body': ""@hubvd @aab-odoo child PR odoo/odoo#194266 was modified / updated and has become a normal PR. This PR (and any of its parents) will need to be merged independently as approvals won't cross."", 'created_at': datetime.datetime(2025, 1, 27, 11, 59, 18, tzinfo=datetime.timezone.utc)}, {'comment_id': 2615978032, 'issue_id': 2796283026, 'author': 'hubvd', 'body': '@robodoo r+', 'created_at': datetime.datetime(2025, 1, 27, 14, 53, 48, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-17 20:57:13 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/194252.png)](https://mergebot.odoo.com/odoo/odoo/pull/194252)

fw-bot (Issue Creator) on (2025-01-17 20:57:13 UTC): This PR targets 18.0 and is part of the forward-port chain. Further PRs will be created up to master.

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

fw-bot (Issue Creator) on (2025-01-27 11:59:18 UTC): @hubvd @aab-odoo child PR odoo/odoo#194266 was modified / updated and has become a normal PR. This PR (and any of its parents) will need to be merged independently as approvals won't cross.

hubvd on (2025-01-27 14:53:48 UTC): @robodoo r+

"
2796275883,pull_request,closed,,[FW][FIX] web_editor: prevent adding videos for html_field from studio,"**Problem**:
Enabling the addition of videos from Studio is not supported. This
option should be removed.

**Steps to Reproduce**:
1. In Studio, focus on any HTML field.
2. Under ""Properties,"" there should be no ""videos"" option.

opw-4405801
---
I confirm I have signed the CLA and read the PR guidelines at www.odoo.com/submit-pr

Forward-Port-Of: odoo/odoo#191183",fw-bot,2025-01-17 20:53:54+00:00,[],2025-02-03 12:14:12+00:00,2025-01-20 12:05:53+00:00,https://github.com/odoo/odoo/pull/194251,"[('OE', 'the report is linked to a support ticket (opw-...)'), ('forwardport', 'This PR was created by @fw-bot')]","[{'comment_id': 2599173916, 'issue_id': 2796275883, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/194251.png)](https://mergebot.odoo.com/odoo/odoo/pull/194251)', 'created_at': datetime.datetime(2025, 1, 17, 20, 53, 55, tzinfo=datetime.timezone.utc)}, {'comment_id': 2599174028, 'issue_id': 2796275883, 'author': 'fw-bot', 'body': 'This PR targets saas-17.2 and is part of the forward-port chain. Further PRs will be created up to master.\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 17, 20, 53, 56, tzinfo=datetime.timezone.utc)}, {'comment_id': 2601748326, 'issue_id': 2796275883, 'author': 'robodoo', 'body': '@walidsahli @dmo-odoo staging failed: timed out (>120 minutes)', 'created_at': datetime.datetime(2025, 1, 20, 8, 35, 8, tzinfo=datetime.timezone.utc)}, {'comment_id': 2601757063, 'issue_id': 2796275883, 'author': 'walidsahli', 'body': '@robodoo retry', 'created_at': datetime.datetime(2025, 1, 20, 8, 38, 32, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-17 20:53:55 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/194251.png)](https://mergebot.odoo.com/odoo/odoo/pull/194251)

fw-bot (Issue Creator) on (2025-01-17 20:53:56 UTC): This PR targets saas-17.2 and is part of the forward-port chain. Further PRs will be created up to master.

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

robodoo on (2025-01-20 08:35:08 UTC): @walidsahli @dmo-odoo staging failed: timed out (>120 minutes)

walidsahli on (2025-01-20 08:38:32 UTC): @robodoo retry

"
2796271934,pull_request,closed,,[FW][FIX] mail: no flicker on call video stream inset,"Before this commit, during a discuss call while sharing screen and enabling camera, the inset card (= small video stream preview in bottom right of call view of the participant, either camera or screen-sharing depending on other stream being main active) was flickering.

This happens because each rendering of the call view re-renders the inset, which leads to the perceived flickers from stream being re-rendered.

The main cause of re-render comes from `setInset()` that is invoked whenever the `visibleMainCards` getter is called with inset, which is triggered on renderings like mouse-hovering on call view to display the call actions. Even when the inset card is unchanged, `setInset()` produces another object, which forces OWL to re-render the inset component.

This commit fixes the issue by having `setInset` reusing the inset data object if the inset to render refers to the same inset session.

Task-4484908

Forward-Port-Of: odoo/odoo#194103",fw-bot,2025-01-17 20:52:04+00:00,[],2025-01-19 22:32:27+00:00,2025-01-19 21:47:45+00:00,https://github.com/odoo/odoo/pull/194250,"[('RD', 'research & development, internal work'), ('forwardport', 'This PR was created by @fw-bot')]","[{'comment_id': 2599168366, 'issue_id': 2796271934, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/194250.png)](https://mergebot.odoo.com/odoo/odoo/pull/194250)', 'created_at': datetime.datetime(2025, 1, 17, 20, 52, 5, tzinfo=datetime.timezone.utc)}, {'comment_id': 2599168389, 'issue_id': 2796271934, 'author': 'fw-bot', 'body': 'This PR targets saas-17.4 and is part of the forward-port chain. Further PRs will be created up to master.\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 17, 20, 52, 6, tzinfo=datetime.timezone.utc)}, {'comment_id': 2601006616, 'issue_id': 2796271934, 'author': 'robodoo', 'body': '@alexkuhn staging failed: ci/runbot on 58cb0f8daf2f5a9551e0e2865d5d052d7e8ad2b3 (view more at https://runbot.odoo.com/runbot/build/73600538)', 'created_at': datetime.datetime(2025, 1, 19, 20, 16, 21, tzinfo=datetime.timezone.utc)}, {'comment_id': 2601007481, 'issue_id': 2796271934, 'author': 'alexkuhn', 'body': '@robodoo retry', 'created_at': datetime.datetime(2025, 1, 19, 20, 19, 40, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-17 20:52:05 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/194250.png)](https://mergebot.odoo.com/odoo/odoo/pull/194250)

fw-bot (Issue Creator) on (2025-01-17 20:52:06 UTC): This PR targets saas-17.4 and is part of the forward-port chain. Further PRs will be created up to master.

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

robodoo on (2025-01-19 20:16:21 UTC): @alexkuhn staging failed: ci/runbot on 58cb0f8daf2f5a9551e0e2865d5d052d7e8ad2b3 (view more at https://runbot.odoo.com/runbot/build/73600538)

alexkuhn on (2025-01-19 20:19:40 UTC): @robodoo retry

"
2796251566,pull_request,closed,,[FW][FIX] pos_restaurant: fix split order and release table,"Fonctionnal changes:
- Add a `Clear cache` button in debug mode to allow Android and IOS
devices to clear the cache easily.
- Ensure that the splitting and transferring of orders works correctly
when the order is sent to the server.

Technical changes:
- Ensure that change quantities are numbers (technical change).
- Do not send items that wasn't sent to the preparation display when
reaching the receipt screen.
- When deleting all orderlines with backspace on the product_screen and
clicking on release table, cancel the order if it was sent to the server

Forward-Port-Of: odoo/odoo#193963
Forward-Port-Of: odoo/odoo#193024",fw-bot,2025-01-17 20:35:32+00:00,[],2025-02-03 17:42:56+00:00,2025-01-20 17:43:03+00:00,https://github.com/odoo/odoo/pull/194249,"[('RD', 'research & development, internal work'), ('forwardport', 'This PR was created by @fw-bot'), ('conflict', 'There was an error while creating this forward-port PR'), ('18.2', None)]","[{'comment_id': 2599147497, 'issue_id': 2796251566, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/194249.png)](https://mergebot.odoo.com/odoo/odoo/pull/194249)', 'created_at': datetime.datetime(2025, 1, 17, 20, 35, 35, tzinfo=datetime.timezone.utc)}, {'comment_id': 2599147526, 'issue_id': 2796251566, 'author': 'fw-bot', 'body': '@davidmonnom @adgu-odoo cherrypicking of pull request odoo/odoo#193024 failed.\n\nstdout:\n```\nAuto-merging addons/point_of_sale/static/src/app/models/pos_order.js\nAuto-merging addons/point_of_sale/static/src/app/services/data_service.js\nAuto-merging addons/point_of_sale/static/src/app/services/pos_store.js\nCONFLICT (content): Merge conflict in addons/point_of_sale/static/src/app/services/pos_store.js\nAuto-merging addons/pos_restaurant/static/src/app/screens/floor_screen/floor_screen.js\nAuto-merging addons/pos_restaurant/static/src/app/screens/split_bill_screen/split_bill_screen.js\nAuto-merging addons/pos_restaurant/static/src/app/services/pos_store.js\nCONFLICT (content): Merge conflict in addons/pos_restaurant/static/src/app/services/pos_store.js\n\n```\n\nEither perform the forward-port manually (and push to this branch, proceeding as usual) or close this PR (maybe?).\n\nIn the former case, you may want to edit this PR message as well.\n\n:warning: after resolving this conflict, you will need to merge it via @robodoo.\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 17, 20, 35, 36, tzinfo=datetime.timezone.utc)}, {'comment_id': 2599468722, 'issue_id': 2796251566, 'author': 'fw-bot', 'body': '@davidmonnom @adgu-odoo this forward port of odoo/odoo#193024 is awaiting action (not merged or closed).', 'created_at': datetime.datetime(2025, 1, 18, 2, 1, 5, tzinfo=datetime.timezone.utc)}, {'comment_id': 2600465363, 'issue_id': 2796251566, 'author': 'fw-bot', 'body': '@davidmonnom @adgu-odoo this forward port of odoo/odoo#193024 is awaiting action (not merged or closed).', 'created_at': datetime.datetime(2025, 1, 19, 2, 1, 54, tzinfo=datetime.timezone.utc)}, {'comment_id': 2601173714, 'issue_id': 2796251566, 'author': 'fw-bot', 'body': '@davidmonnom @adgu-odoo this forward port of odoo/odoo#193024 is awaiting action (not merged or closed).', 'created_at': datetime.datetime(2025, 1, 20, 2, 1, 56, tzinfo=datetime.timezone.utc)}, {'comment_id': 2602180839, 'issue_id': 2796251566, 'author': 'davidmonnom', 'body': '@robodoo r+', 'created_at': datetime.datetime(2025, 1, 20, 11, 33, 1, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-17 20:35:35 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/194249.png)](https://mergebot.odoo.com/odoo/odoo/pull/194249)

fw-bot (Issue Creator) on (2025-01-17 20:35:36 UTC): @davidmonnom @adgu-odoo cherrypicking of pull request odoo/odoo#193024 failed.

stdout:
```
Auto-merging addons/point_of_sale/static/src/app/models/pos_order.js
Auto-merging addons/point_of_sale/static/src/app/services/data_service.js
Auto-merging addons/point_of_sale/static/src/app/services/pos_store.js
CONFLICT (content): Merge conflict in addons/point_of_sale/static/src/app/services/pos_store.js
Auto-merging addons/pos_restaurant/static/src/app/screens/floor_screen/floor_screen.js
Auto-merging addons/pos_restaurant/static/src/app/screens/split_bill_screen/split_bill_screen.js
Auto-merging addons/pos_restaurant/static/src/app/services/pos_store.js
CONFLICT (content): Merge conflict in addons/pos_restaurant/static/src/app/services/pos_store.js

```

Either perform the forward-port manually (and push to this branch, proceeding as usual) or close this PR (maybe?).

In the former case, you may want to edit this PR message as well.

:warning: after resolving this conflict, you will need to merge it via @robodoo.

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

fw-bot (Issue Creator) on (2025-01-18 02:01:05 UTC): @davidmonnom @adgu-odoo this forward port of odoo/odoo#193024 is awaiting action (not merged or closed).

fw-bot (Issue Creator) on (2025-01-19 02:01:54 UTC): @davidmonnom @adgu-odoo this forward port of odoo/odoo#193024 is awaiting action (not merged or closed).

fw-bot (Issue Creator) on (2025-01-20 02:01:56 UTC): @davidmonnom @adgu-odoo this forward port of odoo/odoo#193024 is awaiting action (not merged or closed).

davidmonnom on (2025-01-20 11:33:01 UTC): @robodoo r+

"
2796251041,pull_request,closed,,[FW][IMP] point_of_sale: remove iot patch loop from build,"In odoo/odoo#192449, we removed the only code patch we had on the IoT Box. We can then remove the patching logic.

Forward-Port-Of: odoo/odoo#194085
Forward-Port-Of: odoo/odoo#193935",fw-bot,2025-01-17 20:35:08+00:00,[],2025-02-01 09:54:26+00:00,2025-01-18 09:38:41+00:00,https://github.com/odoo/odoo/pull/194248,"[('RD', 'research & development, internal work'), ('forwardport', 'This PR was created by @fw-bot'), ('18.2', None)]","[{'comment_id': 2599146974, 'issue_id': 2796251041, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/194248.png)](https://mergebot.odoo.com/odoo/odoo/pull/194248)', 'created_at': datetime.datetime(2025, 1, 17, 20, 35, 9, tzinfo=datetime.timezone.utc)}, {'comment_id': 2599146987, 'issue_id': 2796251041, 'author': 'fw-bot', 'body': '@loouis-t @Ysoroko this PR targets master and is the last of the forward-port chain.\n\nTo merge the full chain, use\n> @robodoo r+\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 17, 20, 35, 10, tzinfo=datetime.timezone.utc)}, {'comment_id': 2599565228, 'issue_id': 2796251041, 'author': 'loouis-t', 'body': '@robodoo r+', 'created_at': datetime.datetime(2025, 1, 18, 5, 44, 1, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-17 20:35:09 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/194248.png)](https://mergebot.odoo.com/odoo/odoo/pull/194248)

fw-bot (Issue Creator) on (2025-01-17 20:35:10 UTC): @loouis-t @Ysoroko this PR targets master and is the last of the forward-port chain.

To merge the full chain, use

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

loouis-t on (2025-01-18 05:44:01 UTC): @robodoo r+

"
2796248608,pull_request,closed,,[FW][FIX] website: Fix hreflang website test,"The Issue:
Prior to this commit, invoking _get_frontend resulted in the get_current_website function returning a different website than the one specified in the MockRequest.

The Fix:
To resolve this, we ensure the function selects the correct website by explicitly passing it in the context.

runbot-64729

Forward-Port-Of: odoo/odoo#189705",fw-bot,2025-01-17 20:33:09+00:00,[],2025-02-06 05:11:29+00:00,2025-01-23 04:24:21+00:00,https://github.com/odoo/odoo/pull/194247,"[('RD', 'research & development, internal work'), ('forwardport', 'This PR was created by @fw-bot')]","[{'comment_id': 2599144557, 'issue_id': 2796248608, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/194247.png)](https://mergebot.odoo.com/odoo/odoo/pull/194247)', 'created_at': datetime.datetime(2025, 1, 17, 20, 33, 11, tzinfo=datetime.timezone.utc)}, {'comment_id': 2599144570, 'issue_id': 2796248608, 'author': 'fw-bot', 'body': 'This PR targets 18.0 and is part of the forward-port chain. Further PRs will be created up to master.\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 17, 20, 33, 11, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-17 20:33:11 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/194247.png)](https://mergebot.odoo.com/odoo/odoo/pull/194247)

fw-bot (Issue Creator) on (2025-01-17 20:33:11 UTC): This PR targets 18.0 and is part of the forward-port chain. Further PRs will be created up to master.

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

"
2796247880,pull_request,closed,,[FW][FIX] account: draft bill entries in partner ledger,"### Before
When creating a new vendor bill through Vendors > 'Example Vendor 1'> Vendor Bills (magic button), if the vendor was changed to 'Example Vendor 2' and the draft saved then it would show up under the 'Example Vendor 1' in the Partner Ledger instead of under the correct 'Example Vendor 2'. 

This is due to the partner_id being defined in the context when going through the 'Example Vendor 1' view. 

### Now
During the creation of the account move lines we use a context without the default_partner_id.

The Partner Ledger now shows the draft bill entry under the right vendor.

opw-4407709

Forward-Port-Of: odoo/odoo#194052
Forward-Port-Of: odoo/odoo#192567",fw-bot,2025-01-17 20:32:35+00:00,[],2025-02-01 19:34:24+00:00,2025-01-18 19:04:30+00:00,https://github.com/odoo/odoo/pull/194246,"[('OE', 'the report is linked to a support ticket (opw-...)'), ('forwardport', 'This PR was created by @fw-bot')]","[{'comment_id': 2599143869, 'issue_id': 2796247880, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/194246.png)](https://mergebot.odoo.com/odoo/odoo/pull/194246)', 'created_at': datetime.datetime(2025, 1, 17, 20, 32, 36, tzinfo=datetime.timezone.utc)}, {'comment_id': 2599143885, 'issue_id': 2796247880, 'author': 'fw-bot', 'body': 'This PR targets saas-18.1 and is part of the forward-port chain. Further PRs will be created up to master.\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 17, 20, 32, 36, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-17 20:32:36 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/194246.png)](https://mergebot.odoo.com/odoo/odoo/pull/194246)

fw-bot (Issue Creator) on (2025-01-17 20:32:36 UTC): This PR targets saas-18.1 and is part of the forward-port chain. Further PRs will be created up to master.

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

"
2796247507,pull_request,closed,,[FW][IMP] html_editor: revamp file upload,"This PR changes the behavior of the /file powerbox command in the following aspects:
- it no longer opens the media dialog, and skips it directly to the system's file selector
- the resulting download box has gone through visual changes, mainly:
  - it no longer takes the whole width of the screen, and multiple file boxes can be placed on the same line
  - it has blue color an the looks of a bootstrap alert-info banner
- the same command is also available as a powerbutton.

This PR also allows the user to upload a file (also skipping the media dialog) from the link popover, thus creating a link to the created attachment.
 
https://github.com/odoo/enterprise/pull/75045

task-3522395

Forward-Port-Of: odoo/odoo#189203",fw-bot,2025-01-17 20:32:17+00:00,[],2025-02-04 17:05:20+00:00,2025-01-21 17:04:28+00:00,https://github.com/odoo/odoo/pull/194245,"[('RD', 'research & development, internal work'), ('forwardport', 'This PR was created by @fw-bot'), ('conflict', 'There was an error while creating this forward-port PR')]","[{'comment_id': 2599143540, 'issue_id': 2796247507, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/194245.png)](https://mergebot.odoo.com/odoo/odoo/pull/194245)', 'created_at': datetime.datetime(2025, 1, 17, 20, 32, 20, tzinfo=datetime.timezone.utc)}, {'comment_id': 2599143578, 'issue_id': 2796247507, 'author': 'fw-bot', 'body': '@cammarosano @dmo-odoo cherrypicking of pull request odoo/odoo#189203 failed.\n\n* 8e938e65823365aec965b59d0df5489b413dca3e\n* e8ef24429a63e908c32a17c81052deb4d91f9363\n* 39a6b62a0f450ebf9bca6a29821a01c94db5d0e1\n* 6f98c7b585def3e8d7259f08a05441f92761a583 <- on this commit\n* 4821595b1d14fc2e3d12ec344cfc3b9aa068fe3c\n* 9a1d7fd48cb9fa06c0d28c6f552cab4b2e819948\n* 5efc8dc14acd255ffd40a109f13b9364a946f5cd\n* f8f7d05872a55ab92674bd2a8fc0ebcee284be7e\n* 896f15c6234217aea654c3516ee53c2128f7c76d\n* d6d4c5b28422a5952817935dda0fc5424aee77bf\n* 7021ad79dabf7cf2113c8db4d5d369964dc3f8e7\n* b92898f418a93d155779f98a7db0fceebace7760\n* ddaa7178c10124350e926e47de67673e6270c9af\n* 731509763fb8e18776019c618e751017dfeffffa\n* 18d6eb5db816e16f0bb896d02b203913d1a7d1ba\n\nstdout:\n```\nAuto-merging addons/html_editor/static/src/main/link/link_plugin.js\nAuto-merging addons/html_editor/static/src/main/link/link_popover.xml\nCONFLICT (content): Merge conflict in addons/html_editor/static/src/main/link/link_popover.xml\n\n```\n\nEither perform the forward-port manually (and push to this branch, proceeding as usual) or close this PR (maybe?).\n\nIn the former case, you may want to edit this PR message as well.\n\n:warning: after resolving this conflict, you will need to merge it via @robodoo.\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 17, 20, 32, 21, tzinfo=datetime.timezone.utc)}, {'comment_id': 2603476921, 'issue_id': 2796247507, 'author': 'fw-bot', 'body': '@cammarosano @dmo-odoo this forward port of odoo/odoo#189203 is awaiting action (not merged or closed).', 'created_at': datetime.datetime(2025, 1, 21, 2, 2, 6, tzinfo=datetime.timezone.utc)}, {'comment_id': 2604760330, 'issue_id': 2796247507, 'author': 'dmo-odoo', 'body': '@robodoo rebase-merge r+', 'created_at': datetime.datetime(2025, 1, 21, 13, 36, 58, tzinfo=datetime.timezone.utc)}, {'comment_id': 2604760454, 'issue_id': 2796247507, 'author': 'robodoo', 'body': 'Merge method set to rebase and merge, using the PR as merge commit message.', 'created_at': datetime.datetime(2025, 1, 21, 13, 37, 1, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-17 20:32:20 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/194245.png)](https://mergebot.odoo.com/odoo/odoo/pull/194245)

fw-bot (Issue Creator) on (2025-01-17 20:32:21 UTC): @cammarosano @dmo-odoo cherrypicking of pull request odoo/odoo#189203 failed.

* 8e938e65823365aec965b59d0df5489b413dca3e
* e8ef24429a63e908c32a17c81052deb4d91f9363
* 39a6b62a0f450ebf9bca6a29821a01c94db5d0e1
* 6f98c7b585def3e8d7259f08a05441f92761a583 <- on this commit
* 4821595b1d14fc2e3d12ec344cfc3b9aa068fe3c
* 9a1d7fd48cb9fa06c0d28c6f552cab4b2e819948
* 5efc8dc14acd255ffd40a109f13b9364a946f5cd
* f8f7d05872a55ab92674bd2a8fc0ebcee284be7e
* 896f15c6234217aea654c3516ee53c2128f7c76d
* d6d4c5b28422a5952817935dda0fc5424aee77bf
* 7021ad79dabf7cf2113c8db4d5d369964dc3f8e7
* b92898f418a93d155779f98a7db0fceebace7760
* ddaa7178c10124350e926e47de67673e6270c9af
* 731509763fb8e18776019c618e751017dfeffffa
* 18d6eb5db816e16f0bb896d02b203913d1a7d1ba

stdout:
```
Auto-merging addons/html_editor/static/src/main/link/link_plugin.js
Auto-merging addons/html_editor/static/src/main/link/link_popover.xml
CONFLICT (content): Merge conflict in addons/html_editor/static/src/main/link/link_popover.xml

```

Either perform the forward-port manually (and push to this branch, proceeding as usual) or close this PR (maybe?).

In the former case, you may want to edit this PR message as well.

:warning: after resolving this conflict, you will need to merge it via @robodoo.

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

fw-bot (Issue Creator) on (2025-01-21 02:02:06 UTC): @cammarosano @dmo-odoo this forward port of odoo/odoo#189203 is awaiting action (not merged or closed).

dmo-odoo on (2025-01-21 13:36:58 UTC): @robodoo rebase-merge r+

robodoo on (2025-01-21 13:37:01 UTC): Merge method set to rebase and merge, using the PR as merge commit message.

"
2796224859,pull_request,closed,,[FW][IMP] website: allow to bypass the website domain redirection,"When we go to the website preview in the Odoo backend, if the current domain used (to access the backend) is not the same as the one of the previewed website, we redirect the user, and he might have to reconnect. The same is done when using the website switcher.
Note: in the first case, the user is warned. We should probably do the same for the second case (?).

This is a problem for the Odoo support team. When they connect to a customer database upon user request, the <customer_db_name>.odoo.com address is used. But as soon as they are using the website app, they are redirected to the real website domains... where they are disconnected and cannot connect themselves.
To fix this issue, we allow setting up a session info parameter to bypass those website redirections. This is not to be done by real users: this will come with bugs (for the support team). Indeed, we are normally redirecting for a reason: many flows rely on using the right domain when visiting a specific website. Depending on what users have in their page, this could also simply make the website preview iframe crash.

task-4069779

Forward-Port-Of: odoo/odoo#194109
Forward-Port-Of: odoo/odoo#193122",fw-bot,2025-01-17 20:15:28+00:00,[],2025-02-03 17:46:21+00:00,2025-01-20 17:45:00+00:00,https://github.com/odoo/odoo/pull/194244,"[('RD', 'research & development, internal work'), ('forwardport', 'This PR was created by @fw-bot')]","[{'comment_id': 2599120993, 'issue_id': 2796224859, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/194244.png)](https://mergebot.odoo.com/odoo/odoo/pull/194244)', 'created_at': datetime.datetime(2025, 1, 17, 20, 15, 30, tzinfo=datetime.timezone.utc)}, {'comment_id': 2599121005, 'issue_id': 2796224859, 'author': 'fw-bot', 'body': 'This PR targets saas-18.1 and is part of the forward-port chain. Further PRs will be created up to master.\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 17, 20, 15, 31, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-17 20:15:30 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/194244.png)](https://mergebot.odoo.com/odoo/odoo/pull/194244)

fw-bot (Issue Creator) on (2025-01-17 20:15:31 UTC): This PR targets saas-18.1 and is part of the forward-port chain. Further PRs will be created up to master.

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

"
2796224494,pull_request,closed,,[FW][FIX] mail: exit full screen on discuss call leave,"Before this commit, leaving call while the call view is full screen would keep the fullscreen mode.

This commit fixes the issue by exiting the full screen when leaving the call.

Task-4476568

Forward-Port-Of: odoo/odoo#193388",fw-bot,2025-01-17 20:15:11+00:00,[],2025-01-19 19:25:16+00:00,2025-01-19 18:45:19+00:00,https://github.com/odoo/odoo/pull/194243,"[('RD', 'research & development, internal work'), ('forwardport', 'This PR was created by @fw-bot')]","[{'comment_id': 2599120639, 'issue_id': 2796224494, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/194243.png)](https://mergebot.odoo.com/odoo/odoo/pull/194243)', 'created_at': datetime.datetime(2025, 1, 17, 20, 15, 12, tzinfo=datetime.timezone.utc)}, {'comment_id': 2599120662, 'issue_id': 2796224494, 'author': 'fw-bot', 'body': 'This PR targets saas-18.1 and is part of the forward-port chain. Further PRs will be created up to master.\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 17, 20, 15, 13, tzinfo=datetime.timezone.utc)}, {'comment_id': 2599164241, 'issue_id': 2796224494, 'author': 'fw-bot', 'body': '@akap-odoo @alexkuhn ci/runbot failed on this forward-port PR', 'created_at': datetime.datetime(2025, 1, 17, 20, 48, 50, tzinfo=datetime.timezone.utc)}, {'comment_id': 2600375493, 'issue_id': 2796224494, 'author': 'robodoo', 'body': '@akap-odoo @alexkuhn staging failed: ci/runbot on 25eed0b6d0284ae08a565c0e8dbc50888ab2d302 (view more at https://runbot.odoo.com/runbot/build/73595183)', 'created_at': datetime.datetime(2025, 1, 19, 1, 7, 20, tzinfo=datetime.timezone.utc)}, {'comment_id': 2600927102, 'issue_id': 2796224494, 'author': 'fw-bot', 'body': ""@akap-odoo @alexkuhn child PR odoo/odoo#194296 was modified / updated and has become a normal PR. This PR (and any of its parents) will need to be merged independently as approvals won't cross."", 'created_at': datetime.datetime(2025, 1, 19, 16, 13, 38, tzinfo=datetime.timezone.utc)}, {'comment_id': 2600927391, 'issue_id': 2796224494, 'author': 'fw-bot', 'body': '@akap-odoo @alexkuhn this PR was modified / updated and has become a normal PR. It must be merged directly.', 'created_at': datetime.datetime(2025, 1, 19, 16, 14, 30, tzinfo=datetime.timezone.utc)}, {'comment_id': 2600927416, 'issue_id': 2796224494, 'author': 'alexkuhn', 'body': '@robodoo r+', 'created_at': datetime.datetime(2025, 1, 19, 16, 14, 34, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-17 20:15:12 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/194243.png)](https://mergebot.odoo.com/odoo/odoo/pull/194243)

fw-bot (Issue Creator) on (2025-01-17 20:15:13 UTC): This PR targets saas-18.1 and is part of the forward-port chain. Further PRs will be created up to master.

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

fw-bot (Issue Creator) on (2025-01-17 20:48:50 UTC): @akap-odoo @alexkuhn ci/runbot failed on this forward-port PR

robodoo on (2025-01-19 01:07:20 UTC): @akap-odoo @alexkuhn staging failed: ci/runbot on 25eed0b6d0284ae08a565c0e8dbc50888ab2d302 (view more at https://runbot.odoo.com/runbot/build/73595183)

fw-bot (Issue Creator) on (2025-01-19 16:13:38 UTC): @akap-odoo @alexkuhn child PR odoo/odoo#194296 was modified / updated and has become a normal PR. This PR (and any of its parents) will need to be merged independently as approvals won't cross.

fw-bot (Issue Creator) on (2025-01-19 16:14:30 UTC): @akap-odoo @alexkuhn this PR was modified / updated and has become a normal PR. It must be merged directly.

alexkuhn on (2025-01-19 16:14:34 UTC): @robodoo r+

"
2796224130,pull_request,closed,,[FW][FIX] point_of_sale: display correct stock quantity for product variants,"Currently, for products with variants, the quantities on hand displayed in the product configurator can be incorrect.

### Steps to reproduce

* Install `point_of_sale`.
* Start the furniture shop POS session.
* Click on the Conference Chair; the steel legs are selected by default, and the system displays quantities on hand as 30.
* Switch to aluminum legs; the quantity remains 30.
* Switch back to steel legs.

You should see that the quantity on hand is now 26. This is the actual, correct quantity for steel legs. The originally displayed value of 30 was already incorrect for those legs.

### Cause

The issue arises from how the product's quantities on hand are fetched and updated:

- The `useEffect` hook is used to fetch quantities on hand whenever the product changes.
- However, the function used to retrieve these quantities (`fetchStock`) is wrapped with `useTrackedAsync`, which internally utilizes `useAsyncLockedMethod`.
- The `useAsyncLockedMethod` hook ensures that two calls to `fetchStock` cannot run simultaneously; if `fetchStock` is called while another call is still in progress, the subsequent call is ignored.

This behavior causes the problem. In the product attribute component, the `useEffect` hook is triggered twice in rapid succession when switching attributes. Since the second `fetchStock` call happens before the first completes, it is discarded due to the locking mechanism. As a result, the product changes twice, but the stock fetching process is executed only once, causing a mismatch between the selected product variant and its displayed quantities on hand.

### Fix

The `useTrackedAsync` utility was updated to allow specifying the locking mechanism. Specifically, it now supports an option to keep the last call instead of the first. This change ensures that even when multiple `fetchStock` calls are triggered in quick succession, the most recent call is executed, maintaining synchronization between the product variant and the displayed stock quantities.

opw-4421070

Forward-Port-Of: odoo/odoo#193980",fw-bot,2025-01-17 20:14:53+00:00,[],2025-02-03 15:14:55+00:00,2025-01-20 15:07:44+00:00,https://github.com/odoo/odoo/pull/194242,"[('OE', 'the report is linked to a support ticket (opw-...)'), ('forwardport', 'This PR was created by @fw-bot'), ('conflict', 'There was an error while creating this forward-port PR')]","[{'comment_id': 2599120228, 'issue_id': 2796224130, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/194242.png)](https://mergebot.odoo.com/odoo/odoo/pull/194242)', 'created_at': datetime.datetime(2025, 1, 17, 20, 14, 54, tzinfo=datetime.timezone.utc)}, {'comment_id': 2599120249, 'issue_id': 2796224130, 'author': 'fw-bot', 'body': '@ushyme @caburj cherrypicking of pull request odoo/odoo#193980 failed.\n\nstdout:\n```\nAuto-merging addons/point_of_sale/static/src/app/components/product_info_banner/product_info_banner.js\nCONFLICT (content): Merge conflict in addons/point_of_sale/static/src/app/components/product_info_banner/product_info_banner.js\nAuto-merging addons/point_of_sale/static/src/app/hooks/hooks.js\n\n```\n\nEither perform the forward-port manually (and push to this branch, proceeding as usual) or close this PR (maybe?).\n\nIn the former case, you may want to edit this PR message as well.\n\n:warning: after resolving this conflict, you will need to merge it via @robodoo.\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 17, 20, 14, 55, tzinfo=datetime.timezone.utc)}, {'comment_id': 2601975272, 'issue_id': 2796224130, 'author': 'ushyme', 'body': '@robodoo  r+', 'created_at': datetime.datetime(2025, 1, 20, 10, 10, 23, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-17 20:14:54 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/194242.png)](https://mergebot.odoo.com/odoo/odoo/pull/194242)

fw-bot (Issue Creator) on (2025-01-17 20:14:55 UTC): @ushyme @caburj cherrypicking of pull request odoo/odoo#193980 failed.

stdout:
```
Auto-merging addons/point_of_sale/static/src/app/components/product_info_banner/product_info_banner.js
CONFLICT (content): Merge conflict in addons/point_of_sale/static/src/app/components/product_info_banner/product_info_banner.js
Auto-merging addons/point_of_sale/static/src/app/hooks/hooks.js

```

Either perform the forward-port manually (and push to this branch, proceeding as usual) or close this PR (maybe?).

In the former case, you may want to edit this PR message as well.

:warning: after resolving this conflict, you will need to merge it via @robodoo.

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

ushyme on (2025-01-20 10:10:23 UTC): @robodoo  r+

"
2796223711,pull_request,closed,,[FW][FIX] web: buttonbox with only one item alignment on small screen,"On smaller screen, the statbuttons are grouped in a dropdown (the
""lightning"" icon) and displayed in two columns.

But when only one button is present, it leaves a weird empty cell next
to it.

This commit fixes it by adding an exception in CSS when only one button
is present to remove the useless column and center it.

Note: this change doesn't affect the empty cell when an odd number of
buttons are displayed.

task-4491705

Forward-Port-Of: odoo/odoo#194083",fw-bot,2025-01-17 20:14:36+00:00,[],2025-02-03 13:39:09+00:00,2025-01-20 13:19:06+00:00,https://github.com/odoo/odoo/pull/194241,"[('RD', 'research & development, internal work'), ('forwardport', 'This PR was created by @fw-bot')]","[{'comment_id': 2599119834, 'issue_id': 2796223711, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/194241.png)](https://mergebot.odoo.com/odoo/odoo/pull/194241)', 'created_at': datetime.datetime(2025, 1, 17, 20, 14, 37, tzinfo=datetime.timezone.utc)}, {'comment_id': 2599119851, 'issue_id': 2796223711, 'author': 'fw-bot', 'body': 'This PR targets saas-18.1 and is part of the forward-port chain. Further PRs will be created up to master.\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 17, 20, 14, 37, tzinfo=datetime.timezone.utc)}, {'comment_id': 2599164139, 'issue_id': 2796223711, 'author': 'fw-bot', 'body': '@pparidans @adr-odoo ci/runbot failed on this forward-port PR', 'created_at': datetime.datetime(2025, 1, 17, 20, 48, 45, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-17 20:14:37 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/194241.png)](https://mergebot.odoo.com/odoo/odoo/pull/194241)

fw-bot (Issue Creator) on (2025-01-17 20:14:37 UTC): This PR targets saas-18.1 and is part of the forward-port chain. Further PRs will be created up to master.

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

fw-bot (Issue Creator) on (2025-01-17 20:48:45 UTC): @pparidans @adr-odoo ci/runbot failed on this forward-port PR

"
2796223353,pull_request,closed,,[FW][FIX] website: prevent crash with empty links in the mega menu,"Steps to reproduce:

- Open the ""Menu Editor"" dialog.
- Add a ""Mega Menu Item"".
- Save the ""Menu Editor"" dialog.
- Enter ""Edit Mode"".
- Open the ""Mega Menu"".
- Select ""Images Subtitles"" as the ""Mega Menu"" template option.
- Click on the largest image on the right side of the ""Mega Menu"".
- Click the ""Create Link"" button in the image options.
- Leave the input URL empty for this new link.
- Save the page.
- A link without an ""href"" attribute is now present in the ""Mega Menu"".
- Edit the browser URL to redirect to a page that is not present in the menu; for example, add ""/test"" to the current URL. It does not matter whether the page exists or not.
- Bug: A traceback occurs.

The bug occurred because the function ""_updateActiveMenuLinks"" (introduced by this commit [1]) called ""new URL"" on an empty string, as it attempted to process a link without an href attribute.

[1]: https://github.com/odoo/odoo/commit/5be12800a59e912997fff39cec57ab70914f2485

opw-4480958

Forward-Port-Of: odoo/odoo#194089",fw-bot,2025-01-17 20:14:19+00:00,[],2025-02-04 14:11:29+00:00,2025-01-21 13:55:43+00:00,https://github.com/odoo/odoo/pull/194240,"[('OE', 'the report is linked to a support ticket (opw-...)'), ('forwardport', 'This PR was created by @fw-bot')]","[{'comment_id': 2599119446, 'issue_id': 2796223353, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/194240.png)](https://mergebot.odoo.com/odoo/odoo/pull/194240)', 'created_at': datetime.datetime(2025, 1, 17, 20, 14, 20, tzinfo=datetime.timezone.utc)}, {'comment_id': 2599119464, 'issue_id': 2796223353, 'author': 'fw-bot', 'body': 'This PR targets saas-18.1 and is part of the forward-port chain. Further PRs will be created up to master.\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 17, 20, 14, 21, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-17 20:14:20 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/194240.png)](https://mergebot.odoo.com/odoo/odoo/pull/194240)

fw-bot (Issue Creator) on (2025-01-17 20:14:21 UTC): This PR targets saas-18.1 and is part of the forward-port chain. Further PRs will be created up to master.

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

"
