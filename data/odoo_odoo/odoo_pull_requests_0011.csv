id,type,state,state_reason,title,body,author,created_at,assignees,updated_at,closed_at,url,labels,comments_list,comment_thread
2777369140,pull_request,closed,,[FW][FIX] event: can't go back to event when in registration desk,"* STEP TO REPRODUCE: install event (only CE code), go to Registration
Desk then hit button < to go back -> The system warning there are no
gantt view
* Solution: using existing action `action_event_view` with
`clearBreacrumbs` which will help display the menu correctly

Description of the issue/feature this PR addresses:

Current behavior before PR:

Desired behavior after PR is merged:




---
I confirm I have signed the CLA and read the PR guidelines at www.odoo.com/submit-pr

Forward-Port-Of: odoo/odoo#191376
Forward-Port-Of: odoo/odoo#191295",fw-bot,2025-01-09 10:00:47+00:00,[],2025-01-23 19:10:11+00:00,2025-01-09 19:01:35+00:00,https://github.com/odoo/odoo/pull/193025,"[('RD', 'research & development, internal work'), ('forwardport', 'This PR was created by @fw-bot')]","[{'comment_id': 2579650554, 'issue_id': 2777369140, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/193025.png)](https://mergebot.odoo.com/odoo/odoo/pull/193025)', 'created_at': datetime.datetime(2025, 1, 9, 10, 0, 49, tzinfo=datetime.timezone.utc)}, {'comment_id': 2579650573, 'issue_id': 2777369140, 'author': 'fw-bot', 'body': 'This PR targets 18.0 and is part of the forward-port chain. Further PRs will be created up to master.\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 9, 10, 0, 49, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-09 10:00:49 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/193025.png)](https://mergebot.odoo.com/odoo/odoo/pull/193025)

fw-bot (Issue Creator) on (2025-01-09 10:00:49 UTC): This PR targets 18.0 and is part of the forward-port chain. Further PRs will be created up to master.

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

"
2777366211,pull_request,closed,,[FIX] pos_restaurant: fix split order and release table,"Fonctionnal changes:
- Add a `Clear cache` button in debug mode to allow Android and IOS
devices to clear the cache easily.
- Ensure that the splitting and transferring of orders works correctly
when the order is sent to the server.

Technical changes:
- Ensure that change quantities are numbers (technical change).
- Do not send items that wasn't sent to the preparation display when
reaching the receipt screen.
- When deleting all orderlines with backspace on the product_screen and
clicking on release table, cancel the order if it was sent to the server",davidmonnom,2025-01-09 09:59:33+00:00,[],2025-01-28 15:37:08+00:00,2025-01-14 15:23:46+00:00,https://github.com/odoo/odoo/pull/193024,"[('RD', 'research & development, internal work')]","[{'comment_id': 2579648076, 'issue_id': 2777366211, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/193024.png)](https://mergebot.odoo.com/odoo/odoo/pull/193024)', 'created_at': datetime.datetime(2025, 1, 9, 9, 59, 37, tzinfo=datetime.timezone.utc)}, {'comment_id': 2589361276, 'issue_id': 2777366211, 'author': 'adgu-odoo', 'body': 'robodoo r+', 'created_at': datetime.datetime(2025, 1, 14, 8, 59, 22, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-09 09:59:37 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/193024.png)](https://mergebot.odoo.com/odoo/odoo/pull/193024)

adgu-odoo on (2025-01-14 08:59:22 UTC): robodoo r+

"
2777357346,pull_request,closed,,[FW][FIX] l10n_vn: correcting wrong revert code,"The post-migration script _fix_accounts_type attempted to use the field 
company_id, which no longer exists in the account.account model in the 18 
version. This caused a traceback ValueError: Invalid field during the database
upgrade process.

The original fix was introduced here: https://github.com/odoo/odoo/pull/190187, 
but it was accidentally reverted by  
this pull request: https://github.com/odoo/odoo/pull/191324

[reference](https://github.com/odoo/odoo/commit/854c3b2#diff-19ef5a530c506fdee93fe0d113e61946b87fae7dd2d360558da69c0014f766b2R102)

tbg-1602
upg-2406964






---
I confirm I have signed the CLA and read the PR guidelines at www.odoo.com/submit-pr

Forward-Port-Of: odoo/odoo#192688",fw-bot,2025-01-09 09:56:13+00:00,[],2025-01-09 10:58:54+00:00,2025-01-09 10:58:53+00:00,https://github.com/odoo/odoo/pull/193023,"[('RD', 'research & development, internal work'), ('forwardport', 'This PR was created by @fw-bot'), ('conflict', 'There was an error while creating this forward-port PR')]","[{'comment_id': 2579641061, 'issue_id': 2777357346, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/193023.png)](https://mergebot.odoo.com/odoo/odoo/pull/193023)', 'created_at': datetime.datetime(2025, 1, 9, 9, 56, 16, tzinfo=datetime.timezone.utc)}, {'comment_id': 2579641081, 'issue_id': 2777357346, 'author': 'fw-bot', 'body': '@bda-odoo @h4818 cherrypicking of pull request odoo/odoo#192688 failed.\n\nstdout:\n```\nYou are currently cherry-picking commit 45b197f40fee2e98415d3bc022d220bec5ab8712.\n```\n\nstderr:\n```\nThe previous cherry-pick is now empty, possibly due to conflict resolution.\n```\n\nEither perform the forward-port manually (and push to this branch, proceeding as usual) or close this PR (maybe?).\n\nIn the former case, you may want to edit this PR message as well.\n\n:warning: after resolving this conflict, you will need to merge it via @robodoo.\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 9, 9, 56, 16, tzinfo=datetime.timezone.utc)}, {'comment_id': 2579841165, 'issue_id': 2777357346, 'author': 'bda-odoo', 'body': '[My patch](https://github.com/odoo/odoo/pull/190187) fix was introduced in forward-port [saas-18.1](https://github.com/odoo/odoo/blob/saas-18.1/addons/l10n_vn/migrations/17.0.2.0.2/post-migration.py) and [master](https://github.com/odoo/odoo/blob/master/addons/l10n_vn/migrations/17.0.2.0.2/post-migration.py). Therefore, I am closing this forward-port PR.', 'created_at': datetime.datetime(2025, 1, 9, 10, 58, 53, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-09 09:56:16 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/193023.png)](https://mergebot.odoo.com/odoo/odoo/pull/193023)

fw-bot (Issue Creator) on (2025-01-09 09:56:16 UTC): @bda-odoo @h4818 cherrypicking of pull request odoo/odoo#192688 failed.

stdout:
```
You are currently cherry-picking commit 45b197f40fee2e98415d3bc022d220bec5ab8712.
```

stderr:
```
The previous cherry-pick is now empty, possibly due to conflict resolution.
```

Either perform the forward-port manually (and push to this branch, proceeding as usual) or close this PR (maybe?).

In the former case, you may want to edit this PR message as well.

:warning: after resolving this conflict, you will need to merge it via @robodoo.

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

bda-odoo on (2025-01-09 10:58:53 UTC): [My patch](https://github.com/odoo/odoo/pull/190187) fix was introduced in forward-port [saas-18.1](https://github.com/odoo/odoo/blob/saas-18.1/addons/l10n_vn/migrations/17.0.2.0.2/post-migration.py) and [master](https://github.com/odoo/odoo/blob/master/addons/l10n_vn/migrations/17.0.2.0.2/post-migration.py). Therefore, I am closing this forward-port PR.

"
2777325035,pull_request,closed,,[FIX] account: add bottom margin to payment alert,"Currently the alert specifying that a payment is potentially a duplicate is touching the form. This commit adds a bottom margin to ensure consistency with the rest of the UI.

Task ID: 4255207",SaddemAmine,2025-01-09 09:44:00+00:00,[],2025-01-24 19:16:55+00:00,2025-01-10 19:07:01+00:00,https://github.com/odoo/odoo/pull/193022,"[('RD', 'research & development, internal work'), ('18.2', None)]","[{'comment_id': 2579604753, 'issue_id': 2777325035, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/193022.png)](https://mergebot.odoo.com/odoo/odoo/pull/193022)', 'created_at': datetime.datetime(2025, 1, 9, 9, 44, 7, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-09 09:44:07 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/193022.png)](https://mergebot.odoo.com/odoo/odoo/pull/193022)

"
2777286624,pull_request,closed,,[IMP] mass_mailing_sms: remove unnecessary ´<group>´,"Description of the issue/feature this PR addresses:

Current behavior before PR:

Desired behavior after PR is merged:




---
I confirm I have signed the CLA and read the PR guidelines at www.odoo.com/submit-pr
",adr-odoo,2025-01-09 09:28:43+00:00,['adr-odoo'],2025-01-09 13:15:01+00:00,2025-01-09 12:59:33+00:00,https://github.com/odoo/odoo/pull/193021,"[('RD', 'research & development, internal work'), ('18.2', None)]","[{'comment_id': 2579572305, 'issue_id': 2777286624, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/193021.png)](https://mergebot.odoo.com/odoo/odoo/pull/193021)', 'created_at': datetime.datetime(2025, 1, 9, 9, 28, 47, tzinfo=datetime.timezone.utc)}, {'comment_id': 2579843731, 'issue_id': 2777286624, 'author': 'robodoo', 'body': '@adr-odoo @rfr-odoo linked pull request(s) odoo/enterprise#76790 not ready. Linked PRs are not staged until all of them are ready.', 'created_at': datetime.datetime(2025, 1, 9, 11, 0, 4, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-09 09:28:47 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/193021.png)](https://mergebot.odoo.com/odoo/odoo/pull/193021)

robodoo on (2025-01-09 11:00:04 UTC): @adr-odoo @rfr-odoo linked pull request(s) odoo/enterprise#76790 not ready. Linked PRs are not staged until all of them are ready.

"
2777277210,pull_request,closed,,[FIX] stock: allow validation of MO if no access to vendor,"Currently a manufactury worker cannot validate a MO if one of the products has to be purchased and he does not have access to the contact.

Steps to reproduce:
-------------------
* Create a contact and add a tag 'vendor'
* Create a product 1:
  * Storable, routes: buy, purchase: the contact created
  * Inventory O
* Create a reordering route for product 1:
  * Min 0, max 0, qty to order 1
* Create a product 2:
  * Storable, route: manufacture
* Create a bom for product 2, requires 1 product 1
* Go to the record rules, find `res.partner.rule.private`
* Modify the current domain. Keep initial plus add `& tags not vendor`
* Your current user should not see the contact anymore
* Make a manufacturing order for product 2, confirm it
> Observation: Access error, Mitchell Admin does not have 'read' access
to contact 'x'

This is a simplified workflow but it could simulate a setup where we have multiple groups of internal users, 'sales', 'manufacture', '...' and they have restrictions on the types of contact they can access to.

Manufactury workers should still be able to confirm the MO, which would create a PO. It would then be up to the sales users to confirm the PO.

Why the fix:
------------
The access error is triggered when computing the procurement date here: https://github.com/odoo/odoo/blob/775c5c95cf763c14715fd0e82e88ff841371d212/addons/stock/models/stock_orderpoint.py#L552

https://github.com/odoo/odoo/blob/775c5c95cf763c14715fd0e82e88ff841371d212/addons/stock/models/stock_orderpoint.py#L612-L613

And more specially it is `self.lead_days_date` which triggers it because it is a computed field which depends on the `seller_id`.

https://github.com/odoo/odoo/blob/775c5c95cf763c14715fd0e82e88ff841371d212/addons/stock/models/stock_orderpoint.py#L117-L118

opw-4321965",sbel-odoo,2025-01-09 09:25:06+00:00,[],2025-01-22 14:11:13+00:00,2025-01-22 14:11:13+00:00,https://github.com/odoo/odoo/pull/193020,"[('OE', 'the report is linked to a support ticket (opw-...)')]","[{'comment_id': 2579564397, 'issue_id': 2777277210, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/193020.png)](https://mergebot.odoo.com/odoo/odoo/pull/193020)', 'created_at': datetime.datetime(2025, 1, 9, 9, 25, 9, tzinfo=datetime.timezone.utc)}, {'comment_id': 2604325035, 'issue_id': 2777277210, 'author': 'adwid', 'body': 'To me, the use case is not legit\r\nI mean, you can probably create a lot of rules that will break flows\r\nIf a customer creates a rule that goes against Odoo mechanism, to me, the problem is then on his side, not ours', 'created_at': datetime.datetime(2025, 1, 21, 10, 29, 5, tzinfo=datetime.timezone.utc)}, {'comment_id': 2607353699, 'issue_id': 2777277210, 'author': 'sbel-odoo', 'body': 'See comment above about use case not being legit.', 'created_at': datetime.datetime(2025, 1, 22, 14, 11, 13, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-09 09:25:09 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/193020.png)](https://mergebot.odoo.com/odoo/odoo/pull/193020)

adwid on (2025-01-21 10:29:05 UTC): To me, the use case is not legit
I mean, you can probably create a lot of rules that will break flows
If a customer creates a rule that goes against Odoo mechanism, to me, the problem is then on his side, not ours

sbel-odoo (Issue Creator) on (2025-01-22 14:11:13 UTC): See comment above about use case not being legit.

"
2777270570,pull_request,closed,,[FIX] website: snippet_translation tour,"In this commit, we fix the tour snippet_translation_changing_lang. The problem is that we don't wait for the DOM to be re-rendered before clicking on the dropdown to open the editing dropdown. So, if we click before the DOM is re-rendered, it also re-renders the dropdown menu and it disappears.
So depending on the execution speed of the tour, it may fail. This commit fixes this behavior.

Description of the issue/feature this PR addresses:

Current behavior before PR:

Desired behavior after PR is merged:




---
I confirm I have signed the CLA and read the PR guidelines at www.odoo.com/submit-pr
",pipu-odoo,2025-01-09 09:21:46+00:00,[],2025-01-23 12:58:16+00:00,2025-01-09 12:49:25+00:00,https://github.com/odoo/odoo/pull/193019,"[('RD', 'research & development, internal work')]","[{'comment_id': 2579557510, 'issue_id': 2777270570, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/193019.png)](https://mergebot.odoo.com/odoo/odoo/pull/193019)', 'created_at': datetime.datetime(2025, 1, 9, 9, 21, 50, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-09 09:21:50 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/193019.png)](https://mergebot.odoo.com/odoo/odoo/pull/193019)

"
2777260819,pull_request,closed,,[FW][FIX] web: prevent crash with empty calendar color attribute,"Steps to reproduce
==================

- Install industry_fsm,web_studio
- Go to Field Service
- Switch to the calendar view
- Open studio
- Unset the color

=> fields[fieldMapping.color] is undefined

Cause of the issue
==================

We have a field that has the color attribute with a value of color.

```xml
<field name=""worksheet_template_id"" attrs=""{'invisible': [('worksheet_template_id', '=', False)]}"" filters=""1"" color=""color""/>
```

`shouldFetchColor` checks if the filter color is the same one as the calendar record color.

Solution
========

Since it's possible to have a color filter without a record color, we should fetch the filter colors in that case.

opw-4443497

Forward-Port-Of: odoo/odoo#192841
Forward-Port-Of: odoo/odoo#192334",fw-bot,2025-01-09 09:16:59+00:00,[],2025-01-27 10:49:37+00:00,2025-01-13 10:48:12+00:00,https://github.com/odoo/odoo/pull/193018,"[('OE', 'the report is linked to a support ticket (opw-...)'), ('forwardport', 'This PR was created by @fw-bot'), ('conflict', 'There was an error while creating this forward-port PR')]","[{'comment_id': 2579547833, 'issue_id': 2777260819, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/193018.png)](https://mergebot.odoo.com/odoo/odoo/pull/193018)', 'created_at': datetime.datetime(2025, 1, 9, 9, 17, 1, tzinfo=datetime.timezone.utc)}, {'comment_id': 2579547931, 'issue_id': 2777260819, 'author': 'fw-bot', 'body': '@hubvd @mcm-odoo cherrypicking of pull request odoo/odoo#192334 failed.\n\nstdout:\n```\nAuto-merging addons/web/static/src/views/calendar/calendar_model.js\nCONFLICT (modify/delete): addons/web/static/tests/views/calendar/calendar_view_tests.js deleted in 7c64ea071562b7d6abbc12795fd317c5f15d0495 and modified in d7ad496890eac7abf931c5434882fde5fd8c92cc.  Version d7ad496890eac7abf931c5434882fde5fd8c92cc of addons/web/static/tests/views/calendar/calendar_view_tests.js left in tree.\n\n```\n\nEither perform the forward-port manually (and push to this branch, proceeding as usual) or close this PR (maybe?).\n\nIn the former case, you may want to edit this PR message as well.\n\n:warning: after resolving this conflict, you will need to merge it via @robodoo.\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 9, 9, 17, 4, tzinfo=datetime.timezone.utc)}, {'comment_id': 2585541773, 'issue_id': 2777260819, 'author': 'fw-bot', 'body': '@hubvd @mcm-odoo this forward port of odoo/odoo#192334 is awaiting action (not merged or closed).', 'created_at': datetime.datetime(2025, 1, 12, 2, 1, 32, tzinfo=datetime.timezone.utc)}, {'comment_id': 2586046417, 'issue_id': 2777260819, 'author': 'fw-bot', 'body': '@hubvd @mcm-odoo this forward port of odoo/odoo#192334 is awaiting action (not merged or closed).', 'created_at': datetime.datetime(2025, 1, 13, 2, 1, 52, tzinfo=datetime.timezone.utc)}, {'comment_id': 2586551296, 'issue_id': 2777260819, 'author': 'hubvd', 'body': '@robodoo r+', 'created_at': datetime.datetime(2025, 1, 13, 9, 7, 17, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-09 09:17:01 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/193018.png)](https://mergebot.odoo.com/odoo/odoo/pull/193018)

fw-bot (Issue Creator) on (2025-01-09 09:17:04 UTC): @hubvd @mcm-odoo cherrypicking of pull request odoo/odoo#192334 failed.

stdout:
```
Auto-merging addons/web/static/src/views/calendar/calendar_model.js
CONFLICT (modify/delete): addons/web/static/tests/views/calendar/calendar_view_tests.js deleted in 7c64ea071562b7d6abbc12795fd317c5f15d0495 and modified in d7ad496890eac7abf931c5434882fde5fd8c92cc.  Version d7ad496890eac7abf931c5434882fde5fd8c92cc of addons/web/static/tests/views/calendar/calendar_view_tests.js left in tree.

```

Either perform the forward-port manually (and push to this branch, proceeding as usual) or close this PR (maybe?).

In the former case, you may want to edit this PR message as well.

:warning: after resolving this conflict, you will need to merge it via @robodoo.

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

fw-bot (Issue Creator) on (2025-01-12 02:01:32 UTC): @hubvd @mcm-odoo this forward port of odoo/odoo#192334 is awaiting action (not merged or closed).

fw-bot (Issue Creator) on (2025-01-13 02:01:52 UTC): @hubvd @mcm-odoo this forward port of odoo/odoo#192334 is awaiting action (not merged or closed).

hubvd on (2025-01-13 09:07:17 UTC): @robodoo r+

"
2777255931,pull_request,open,,[IMP] pos_viva_wallet: refund from PoS terminal,"In this commit:
=========
- We are introducing a Viva wallet payment refund from the PoS terminal. Now a user can refund the payment from the Viva wallet terminal itself.

task-4464622",paan-odoo,2025-01-09 09:14:43+00:00,[],2025-02-03 10:09:28+00:00,,https://github.com/odoo/odoo/pull/193017,"[('RD', 'research & development, internal work')]","[{'comment_id': 2579543183, 'issue_id': 2777255931, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/193017.png)](https://mergebot.odoo.com/odoo/odoo/pull/193017)', 'created_at': datetime.datetime(2025, 1, 9, 9, 14, 46, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-09 09:14:46 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/193017.png)](https://mergebot.odoo.com/odoo/odoo/pull/193017)

"
2777249140,pull_request,closed,,[FIX] web_editor: position buttons under cropper,"**Problem**:
The cropper buttons are positioned at the end of the page instead of directly under the image being cropped.

**Solution**:
Remove `position: fixed` from the buttons container, allowing it to be positioned just below the image being cropped/edited.

**Steps to Reproduce**:
1. Navigate to Email Marketing > Start from scratch.
2. Add ""Blocks"" > ""Body"" > ""Columns"".
3. Open the cropping tool on the first image.
4. Observe that the cropping buttons appear at the end of the page, requiring scrolling to access them.

opw-4461565

---
I confirm I have signed the CLA and read the PR guidelines at www.odoo.com/submit-pr
",walidsahli,2025-01-09 09:11:42+00:00,[],2025-02-05 11:19:44+00:00,2025-01-22 11:18:56+00:00,https://github.com/odoo/odoo/pull/193016,"[('OE', 'the report is linked to a support ticket (opw-...)')]","[{'comment_id': 2579536951, 'issue_id': 2777249140, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/193016.png)](https://mergebot.odoo.com/odoo/odoo/pull/193016)', 'created_at': datetime.datetime(2025, 1, 9, 9, 11, 45, tzinfo=datetime.timezone.utc)}, {'comment_id': 2606707534, 'issue_id': 2777249140, 'author': 'dmo-odoo', 'body': '@robodoo r+', 'created_at': datetime.datetime(2025, 1, 22, 9, 26, 33, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-09 09:11:45 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/193016.png)](https://mergebot.odoo.com/odoo/odoo/pull/193016)

dmo-odoo on (2025-01-22 09:26:33 UTC): @robodoo r+

"
2777231544,pull_request,closed,,[FW][FIX] point_of_sale: keep manually set price,"After modifying the price of an order line, going to floorplans, selecting the previous table and setting a customer now keep the price previously manually set.

As the attribute `order_line.price_manually_set` is not saved in backend, when loading an order from the backend its value is always False. Now we recompute this attribute by comparing the default price of the product and the unit price of the orderline.

opw: 4393328

Description of the issue/feature this PR addresses:

Current behavior before PR:

Desired behavior after PR is merged:




---
I confirm I have signed the CLA and read the PR guidelines at www.odoo.com/submit-pr

Forward-Port-Of: odoo/odoo#191053",fw-bot,2025-01-09 09:04:01+00:00,[],2025-01-27 12:12:45+00:00,2025-01-13 12:05:28+00:00,https://github.com/odoo/odoo/pull/193015,"[('OE', 'the report is linked to a support ticket (opw-...)'), ('forwardport', 'This PR was created by @fw-bot'), ('conflict', 'There was an error while creating this forward-port PR')]","[{'comment_id': 2579516514, 'issue_id': 2777231544, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/193015.png)](https://mergebot.odoo.com/odoo/odoo/pull/193015)', 'created_at': datetime.datetime(2025, 1, 9, 9, 4, 3, tzinfo=datetime.timezone.utc)}, {'comment_id': 2579516559, 'issue_id': 2777231544, 'author': 'fw-bot', 'body': '@manv-afk @adgu-odoo cherrypicking of pull request odoo/odoo#191053 failed.\n\nstdout:\n```\nCONFLICT (modify/delete): addons/point_of_sale/static/src/js/models.js deleted in a2657d18e61fa22619702b35a56376991d18cf80 and modified in a8b326798b8ef10937a24e6c130569f241b481c8.  Version a8b326798b8ef10937a24e6c130569f241b481c8 of addons/point_of_sale/static/src/js/models.js left in tree.\n\n```\n\nEither perform the forward-port manually (and push to this branch, proceeding as usual) or close this PR (maybe?).\n\nIn the former case, you may want to edit this PR message as well.\n\n:warning: after resolving this conflict, you will need to merge it via @robodoo.\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 9, 9, 4, 3, tzinfo=datetime.timezone.utc)}, {'comment_id': 2586047238, 'issue_id': 2777231544, 'author': 'fw-bot', 'body': '@manv-afk @adgu-odoo this forward port of odoo/odoo#191053 is awaiting action (not merged or closed).', 'created_at': datetime.datetime(2025, 1, 13, 2, 2, 33, tzinfo=datetime.timezone.utc)}, {'comment_id': 2586437152, 'issue_id': 2777231544, 'author': 'manv-afk', 'body': '@robodoo r+', 'created_at': datetime.datetime(2025, 1, 13, 8, 3, 59, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-09 09:04:03 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/193015.png)](https://mergebot.odoo.com/odoo/odoo/pull/193015)

fw-bot (Issue Creator) on (2025-01-09 09:04:03 UTC): @manv-afk @adgu-odoo cherrypicking of pull request odoo/odoo#191053 failed.

stdout:
```
CONFLICT (modify/delete): addons/point_of_sale/static/src/js/models.js deleted in a2657d18e61fa22619702b35a56376991d18cf80 and modified in a8b326798b8ef10937a24e6c130569f241b481c8.  Version a8b326798b8ef10937a24e6c130569f241b481c8 of addons/point_of_sale/static/src/js/models.js left in tree.

```

Either perform the forward-port manually (and push to this branch, proceeding as usual) or close this PR (maybe?).

In the former case, you may want to edit this PR message as well.

:warning: after resolving this conflict, you will need to merge it via @robodoo.

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

fw-bot (Issue Creator) on (2025-01-13 02:02:33 UTC): @manv-afk @adgu-odoo this forward port of odoo/odoo#191053 is awaiting action (not merged or closed).

manv-afk on (2025-01-13 08:03:59 UTC): @robodoo r+

"
2777231289,pull_request,closed,,"[IMP] {website,im}livechat: end multi line step if there is no new input","task-4433289

",maki-odoo,2025-01-09 09:03:53+00:00,[],2025-01-15 10:05:54+00:00,2025-01-14 18:22:25+00:00,https://github.com/odoo/odoo/pull/193014,"[('RD', 'research & development, internal work')]","[{'comment_id': 2579516007, 'issue_id': 2777231289, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/193014.png)](https://mergebot.odoo.com/odoo/odoo/pull/193014)', 'created_at': datetime.datetime(2025, 1, 9, 9, 3, 56, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-09 09:03:56 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/193014.png)](https://mergebot.odoo.com/odoo/odoo/pull/193014)

"
2777210234,pull_request,closed,,[FIX] l10n_*: load taxes for only root companies,"To reproduce:
1) install localization of any of the below modules. 
2) Make branch companies in that localization.
3) install one of the modules below.

we get this
error:https://github.com/odoo/odoo/blob/17.0/addons/account/models/account_tax.py#L200, `Tax names must be unique`, so only load taxes for root companies.

and for tax_group we get this error:

```
The operation cannot be completed:
- Create/update: a mandatory field is not set.
- Delete: another model requires the record being deleted. If possible, archive it instead.

Model: Tax Group (account.tax.group)
Field: Name (name)
```

Description of the issue/feature this PR addresses:

Current behavior before PR:

Desired behavior after PR is merged:




---
I confirm I have signed the CLA and read the PR guidelines at www.odoo.com/submit-pr
",asno-odoo,2025-01-09 08:54:47+00:00,[],2025-01-27 13:20:55+00:00,2025-01-27 13:20:55+00:00,https://github.com/odoo/odoo/pull/193013,"[('RD', 'research & development, internal work')]","[{'comment_id': 2579489210, 'issue_id': 2777210234, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/193013.png)](https://mergebot.odoo.com/odoo/odoo/pull/193013)', 'created_at': datetime.datetime(2025, 1, 9, 8, 54, 49, tzinfo=datetime.timezone.utc)}, {'comment_id': 2615394400, 'issue_id': 2777210234, 'author': 'clbr-odoo', 'body': 'Thank you very much !\r\n@robodoo r+', 'created_at': datetime.datetime(2025, 1, 27, 10, 38, 41, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-09 08:54:49 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/193013.png)](https://mergebot.odoo.com/odoo/odoo/pull/193013)

clbr-odoo on (2025-01-27 10:38:41 UTC): Thank you very much !
@robodoo r+

"
2777197689,pull_request,open,,"[IMP] stock, mrp, repair: forecast widget + MO form UX","UX revamp of the MO form view, in particular the components tab.
UX revamp of the forecast widget.

task-4441085

---
I confirm I have signed the CLA and read the PR guidelines at www.odoo.com/submit-pr
",R1D1CUL0US,2025-01-09 08:48:50+00:00,[],2025-01-29 08:15:15+00:00,,https://github.com/odoo/odoo/pull/193012,"[('RD', 'research & development, internal work')]","[{'comment_id': 2579471278, 'issue_id': 2777197689, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/193012.png)](https://mergebot.odoo.com/odoo/odoo/pull/193012)', 'created_at': datetime.datetime(2025, 1, 9, 8, 48, 53, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-09 08:48:53 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/193012.png)](https://mergebot.odoo.com/odoo/odoo/pull/193012)

"
2777167985,pull_request,open,,[FIX] web_editor: custom selection for separator,"**Current behavior before PR:**

- Selecting a separator didn’t apply any visual highlight, unlike text which was
highlighted upon selection.

- When copying and pasting a separator along with text, only the text was pasted.

**Desired behavior after PR is merged:**

- A custom highlight is now applied when a separator is selected, ensuring it
behaves like a text selection.

- Now, when copying and pasting a separator with text, both the separator and the
text are pasted correctly.

task:3332560

",dhba-odoo,2025-01-09 08:35:07+00:00,[],2025-01-09 09:00:13+00:00,,https://github.com/odoo/odoo/pull/193011,"[('RD', 'research & development, internal work')]","[{'comment_id': 2579442795, 'issue_id': 2777167985, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/193011.png)](https://mergebot.odoo.com/odoo/odoo/pull/193011)', 'created_at': datetime.datetime(2025, 1, 9, 8, 35, 11, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-09 08:35:11 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/193011.png)](https://mergebot.odoo.com/odoo/odoo/pull/193011)

"
2777166572,pull_request,open,,[FIX] website_livechat: fix runbot build error,"Runbot Build Error: https://runbot.odoo.com/odoo/runbot.build.error/111747





---
I confirm I have signed the CLA and read the PR guidelines at www.odoo.com/submit-pr
",maad-odoo,2025-01-09 08:34:20+00:00,[],2025-01-09 09:30:28+00:00,,https://github.com/odoo/odoo/pull/193010,"[('RD', 'research & development, internal work')]","[{'comment_id': 2579441365, 'issue_id': 2777166572, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/193010.png)](https://mergebot.odoo.com/odoo/odoo/pull/193010)', 'created_at': datetime.datetime(2025, 1, 9, 8, 34, 24, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-09 08:34:24 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/193010.png)](https://mergebot.odoo.com/odoo/odoo/pull/193010)

"
2777158919,pull_request,closed,,[IMP] point_of_sale: image configuration for camera drivers,"As we updated the camera interface's logic, we need to add the new library to the IoT Box image. We also removed the python lib patching part, as it was only used by the old camera detection logic.

Enterprise PR: [https://github.com/odoo/enterprise/pull/76786](https://github.com/odoo/enterprise/pull/76786)
Task: 4432584",loouis-t,2025-01-09 08:30:14+00:00,[],2025-01-29 11:06:42+00:00,2025-01-15 10:45:40+00:00,https://github.com/odoo/odoo/pull/193009,"[('RD', 'research & development, internal work')]","[{'comment_id': 2579434227, 'issue_id': 2777158919, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/193009.png)](https://mergebot.odoo.com/odoo/odoo/pull/193009)', 'created_at': datetime.datetime(2025, 1, 9, 8, 30, 17, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-09 08:30:17 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/193009.png)](https://mergebot.odoo.com/odoo/odoo/pull/193009)

"
2777155275,pull_request,closed,,[FIX] website: Resolve padding issue inside large boxes,"Previously, adjusting the width of a form field within a large box resulted in excessive padding being applied above and below the form field. This commit refines the CSS rules,
ensuring the padding is applied only to the outer large box and not to the inner elements.

task-4370763",dery-odoo,2025-01-09 08:28:07+00:00,[],2025-02-04 14:38:13+00:00,2025-02-04 14:38:13+00:00,https://github.com/odoo/odoo/pull/193008,"[('RD', 'research & development, internal work')]","[{'comment_id': 2579430732, 'issue_id': 2777155275, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/193008.png)](https://mergebot.odoo.com/odoo/odoo/pull/193008)', 'created_at': datetime.datetime(2025, 1, 9, 8, 28, 10, tzinfo=datetime.timezone.utc)}, {'comment_id': 2633945997, 'issue_id': 2777155275, 'author': 'bso-odoo', 'body': '@robodoo delegate=bvr-odoo', 'created_at': datetime.datetime(2025, 2, 4, 13, 31, 33, tzinfo=datetime.timezone.utc)}, {'comment_id': 2633948219, 'issue_id': 2777155275, 'author': 'bvr-odoo', 'body': '@robodoo rebase-ff r+', 'created_at': datetime.datetime(2025, 2, 4, 13, 31, 56, tzinfo=datetime.timezone.utc)}, {'comment_id': 2633948334, 'issue_id': 2777155275, 'author': 'robodoo', 'body': 'Merge method set to rebase and fast-forward.', 'created_at': datetime.datetime(2025, 2, 4, 13, 31, 59, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-09 08:28:10 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/193008.png)](https://mergebot.odoo.com/odoo/odoo/pull/193008)

bso-odoo on (2025-02-04 13:31:33 UTC): @robodoo delegate=bvr-odoo

bvr-odoo on (2025-02-04 13:31:56 UTC): @robodoo rebase-ff r+

robodoo on (2025-02-04 13:31:59 UTC): Merge method set to rebase and fast-forward.

"
2777112114,pull_request,open,,[FIX] survey: create question at the end of survey,"Currently when a survey has more than 1 page of questions, creating questions from the last page, last line, will add the question at the correct page but all other questions created further from the 'same' wizard will be added at the end of page 1 (beginning of page 2).

Steps to reproduce:
-------------------
* Open any survey and duplicate any question to have more than 50 questions.
* Navigate to the second page
* Select **""Add a question""**
* Add a title and seleect **Save & new** (repeat a couple times)
* Close the wizard
> Observation: The first question is added at the end of the survey. The
rest is added at the beginning of page 2

Why the fix:
------------
Since this commit was introduced https://github.com/odoo/odoo/commit/b1d185624599b9e4a5457399a99525a04de9d9bb the survey is saved each time a question is added. Globally speaking, when a form containing a list is saved, the list is refreshed back to page 1.

In our case, when we select **'Add a question'**, the list in the background is on page 2 and the last line will be used for the sequence of the new question. When selecting **save & New**, we can see in the background that the list is refreshed back to page 1 and the last line of page 1 will now be used for the sequence. So technically the questions are added at the end of page 1, and because page 1 is already full, they show at the beginning of page 2.

Now we systematically add the questions at the end of the survey by loading the last page of the list renderer after each save.

opw-4352543
",sbel-odoo,2025-01-09 08:06:30+00:00,[],2025-02-04 14:39:36+00:00,,https://github.com/odoo/odoo/pull/193007,"[('OE', 'the report is linked to a support ticket (opw-...)')]","[{'comment_id': 2579394300, 'issue_id': 2777112114, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/193007.png)](https://mergebot.odoo.com/odoo/odoo/pull/193007)', 'created_at': datetime.datetime(2025, 1, 9, 8, 6, 33, tzinfo=datetime.timezone.utc)}, {'comment_id': 2619281041, 'issue_id': 2777112114, 'author': 'pyduf', 'body': 'Hello @sbel-odoo , \r\n\r\nThanks for trying to solve that problem.\r\n\r\nWhile I was testing with limit = 3 locally, I was every 3 items added redirected to a page without records. Did you experienced that ?\r\n\r\nAnother problem (not related to what you did), I think is that when adding a question, it is not always added at the end because the default sequence is 10 and if you have moved some record, some might have bigger sequence number. Can you test that to confirm ? (add some record move some of them after some others and then add a record)', 'created_at': datetime.datetime(2025, 1, 28, 15, 10, 25, tzinfo=datetime.timezone.utc)}, {'comment_id': 2620875184, 'issue_id': 2777112114, 'author': 'sbel-odoo', 'body': ""> Hello @sbel-odoo ,\r\n> \r\n> Thanks for trying to solve that problem.\r\n> \r\n> While I was testing with limit = 3 locally, I was every 3 items added redirected to a page without records. Did you experienced that ?\r\n> \r\n> Another problem (not related to what you did), I think is that when adding a question, it is not always added at the end because the default sequence is 10 and if you have moved some record, some might have bigger sequence number. Can you test that to confirm ? (add some record move some of them after some others and then add a record)\r\n\r\nHello @pyduf,\r\n\r\nThank you for the review.\r\n\r\nRegarding the first point I'll check that. It should just be the offset not being totally correct. I had tested on 12 and 20 limit but I don't think I created enough to test that sort of case.\r\n\r\nFor the second point I think I tested that but I'll check again. I'll come back to you after I test this.\r\n\r\nAlso, I'm regularly speaking to FLCH about this. Currently I still need to make it so that if you add a question from the first page it will also go at the end. Currently it will go at the end of page 1, then the rest will be at the end of the survey. I'm currently debating with myself o the best approach. \r\n\r\nOn one side, I have access to the list count but with the default sequence of 10, plus the fact that some questions might have been deleted means I can't use that number to set the sequence.\r\n\r\nOn the other side I could load the last item of the list to retrieve its sequence and use that + 1 before calling the super method to save the record but this looks too hacky. That means we load the list 3 times it total, 1 before the same, 1 at the save (like all lists) and 1 after to fall back on the last page.\r\n\r\nOr I could bring back the python part I had in the beginning and it would be much more simple and would mean your second point is never a problem:\r\nhttps://github.com/odoo/odoo/commit/4b8ce558b75a679d22c70d963d5a11f914f0abd5\r\n\r\nDo you have something to share on the matter, maybe another idea to do this a bit more clean?\r\n\r\nThanks again."", 'created_at': datetime.datetime(2025, 1, 29, 7, 16, 13, tzinfo=datetime.timezone.utc)}, {'comment_id': 2633830593, 'issue_id': 2777112114, 'author': 'sbel-odoo', 'body': 'Hello @pyduf , @flch-odoo ,\r\n\r\nCan I get your insight regarding the last comment ? Thank you !', 'created_at': datetime.datetime(2025, 2, 4, 12, 57, 14, tzinfo=datetime.timezone.utc)}, {'comment_id': 2633856996, 'issue_id': 2777112114, 'author': 'flch-odoo', 'body': 'Hello @sbel-odoo, could we imagine making the widget view the last page on the X2many widget *before* opening the new question modal? Would that solve everything?', 'created_at': datetime.datetime(2025, 2, 4, 13, 8, 50, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-09 08:06:33 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/193007.png)](https://mergebot.odoo.com/odoo/odoo/pull/193007)

pyduf on (2025-01-28 15:10:25 UTC): Hello @sbel-odoo , 

Thanks for trying to solve that problem.

While I was testing with limit = 3 locally, I was every 3 items added redirected to a page without records. Did you experienced that ?

Another problem (not related to what you did), I think is that when adding a question, it is not always added at the end because the default sequence is 10 and if you have moved some record, some might have bigger sequence number. Can you test that to confirm ? (add some record move some of them after some others and then add a record)

sbel-odoo (Issue Creator) on (2025-01-29 07:16:13 UTC): Hello @pyduf,

Thank you for the review.

Regarding the first point I'll check that. It should just be the offset not being totally correct. I had tested on 12 and 20 limit but I don't think I created enough to test that sort of case.

For the second point I think I tested that but I'll check again. I'll come back to you after I test this.

Also, I'm regularly speaking to FLCH about this. Currently I still need to make it so that if you add a question from the first page it will also go at the end. Currently it will go at the end of page 1, then the rest will be at the end of the survey. I'm currently debating with myself o the best approach. 

On one side, I have access to the list count but with the default sequence of 10, plus the fact that some questions might have been deleted means I can't use that number to set the sequence.

On the other side I could load the last item of the list to retrieve its sequence and use that + 1 before calling the super method to save the record but this looks too hacky. That means we load the list 3 times it total, 1 before the same, 1 at the save (like all lists) and 1 after to fall back on the last page.

Or I could bring back the python part I had in the beginning and it would be much more simple and would mean your second point is never a problem:
https://github.com/odoo/odoo/commit/4b8ce558b75a679d22c70d963d5a11f914f0abd5

Do you have something to share on the matter, maybe another idea to do this a bit more clean?

Thanks again.

sbel-odoo (Issue Creator) on (2025-02-04 12:57:14 UTC): Hello @pyduf , @flch-odoo ,

Can I get your insight regarding the last comment ? Thank you !

flch-odoo on (2025-02-04 13:08:50 UTC): Hello @sbel-odoo, could we imagine making the widget view the last page on the X2many widget *before* opening the new question modal? Would that solve everything?

"
2777103468,pull_request,closed,,[FW][FIX] web: prevent crash with empty calendar color attribute,"Steps to reproduce
==================

- Install industry_fsm,web_studio
- Go to Field Service
- Switch to the calendar view
- Open studio
- Unset the color

=> fields[fieldMapping.color] is undefined

Cause of the issue
==================

We have a field that has the color attribute with a value of color.

```xml
<field name=""worksheet_template_id"" attrs=""{'invisible': [('worksheet_template_id', '=', False)]}"" filters=""1"" color=""color""/>
```

`shouldFetchColor` checks if the filter color is the same one as the calendar record color.

Solution
========

Since it's possible to have a color filter without a record color, we should fetch the filter colors in that case.

opw-4443497

Forward-Port-Of: odoo/odoo#192841
Forward-Port-Of: odoo/odoo#192334",fw-bot,2025-01-09 08:02:09+00:00,[],2025-01-23 13:38:36+00:00,2025-01-09 13:30:10+00:00,https://github.com/odoo/odoo/pull/193006,"[('OE', 'the report is linked to a support ticket (opw-...)'), ('forwardport', 'This PR was created by @fw-bot')]","[{'comment_id': 2579387127, 'issue_id': 2777103468, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/193006.png)](https://mergebot.odoo.com/odoo/odoo/pull/193006)', 'created_at': datetime.datetime(2025, 1, 9, 8, 2, 13, tzinfo=datetime.timezone.utc)}, {'comment_id': 2579387170, 'issue_id': 2777103468, 'author': 'fw-bot', 'body': 'This PR targets saas-17.2 and is part of the forward-port chain. Further PRs will be created up to master.\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 9, 8, 2, 14, tzinfo=datetime.timezone.utc)}, {'comment_id': 2579547857, 'issue_id': 2777103468, 'author': 'fw-bot', 'body': '@hubvd @mcm-odoo the next pull request (odoo/odoo#193018) is in conflict. You can merge the chain up to here by saying\n> @robodoo r+\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 9, 9, 17, 2, tzinfo=datetime.timezone.utc)}, {'comment_id': 2579580987, 'issue_id': 2777103468, 'author': 'hubvd', 'body': '@robodoo r+', 'created_at': datetime.datetime(2025, 1, 9, 9, 32, 46, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-09 08:02:13 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/193006.png)](https://mergebot.odoo.com/odoo/odoo/pull/193006)

fw-bot (Issue Creator) on (2025-01-09 08:02:14 UTC): This PR targets saas-17.2 and is part of the forward-port chain. Further PRs will be created up to master.

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

fw-bot (Issue Creator) on (2025-01-09 09:17:02 UTC): @hubvd @mcm-odoo the next pull request (odoo/odoo#193018) is in conflict. You can merge the chain up to here by saying

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

hubvd on (2025-01-09 09:32:46 UTC): @robodoo r+

"
2777045171,pull_request,open,,[FIX] purchase_stock: use supplier info currency,"When the vendor price is set in a different currency than main one in product's form, the PO triggered by the procurement is created in main currency.

Steps to reproduce:
- Activate foreign currency
- Activate Route MTO
- Have a product [PROD] configured with
  - [General Info tab] Product Type: Storable Product
  - [Purchase tab] Set a Vendor, a price, and foreign currency
  - [Inventory Tab] Routes Buy, MTO
- Create a Sales Order with [PROD] and confirm it
- Open the created Purchase order

Issue: currency is in company currency and not the currency set in the product configuration

opw-4398597

",agr-odoo,2025-01-09 07:33:04+00:00,[],2025-02-07 17:02:49+00:00,,https://github.com/odoo/odoo/pull/193005,"[('OE', 'the report is linked to a support ticket (opw-...)')]","[{'comment_id': 2579344644, 'issue_id': 2777045171, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/193005.png)](https://mergebot.odoo.com/odoo/odoo/pull/193005)', 'created_at': datetime.datetime(2025, 1, 9, 7, 33, 7, tzinfo=datetime.timezone.utc)}, {'comment_id': 2602496387, 'issue_id': 2777045171, 'author': 'agr-odoo', 'body': '@ticodoo', 'created_at': datetime.datetime(2025, 1, 20, 13, 57, 54, tzinfo=datetime.timezone.utc)}, {'comment_id': 2616053586, 'issue_id': 2777045171, 'author': 'agr-odoo', 'body': ""> do we need to worry about the case of multiple currencies for sellers of the same product? \r\n\r\nNice catch, we should. I've added a currency convert in the price sorting, so that we get the real cheapest price"", 'created_at': datetime.datetime(2025, 1, 27, 15, 22, 7, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-09 07:33:07 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/193005.png)](https://mergebot.odoo.com/odoo/odoo/pull/193005)

agr-odoo (Issue Creator) on (2025-01-20 13:57:54 UTC): @ticodoo

agr-odoo (Issue Creator) on (2025-01-27 15:22:07 UTC): Nice catch, we should. I've added a currency convert in the price sorting, so that we get the real cheapest price

"
2776983636,pull_request,open,,[FIX] product: setting display uom,"Issue Before This Commit:
-----------------------------------------------
- In General Settings, the radio button for Weight is displayed horizontally, while the radio button for Volume is displayed vertically. Both units of measure need to be displayed in the same manner.

With this commit:
-----------------------------------------------
- Both Weight and Volume radio buttons are now displayed vertically to ensure a consistent and uniform layout.
- Added symbols as well, e.g., kg, lb (for weight), and m³, ft³ (for volume).

Task-id: 4438804",chha-odoo,2025-01-09 07:01:05+00:00,[],2025-01-09 08:00:12+00:00,,https://github.com/odoo/odoo/pull/193004,"[('RD', 'research & development, internal work')]","[{'comment_id': 2579305670, 'issue_id': 2776983636, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/193004.png)](https://mergebot.odoo.com/odoo/odoo/pull/193004)', 'created_at': datetime.datetime(2025, 1, 9, 7, 1, 9, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-09 07:01:09 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/193004.png)](https://mergebot.odoo.com/odoo/odoo/pull/193004)

"
2776923880,pull_request,open,,[IMP] hr_attendance: show presence indicator on kiosk,"- Show the presence indicator on Kanban cards in the kiosk upon manual login. 
- It will display ""On site"" when present and ""Absent"" otherwise.

task-4458507",dhka-odoo,2025-01-09 06:17:10+00:00,[],2025-01-09 07:00:11+00:00,,https://github.com/odoo/odoo/pull/193003,"[('RD', 'research & development, internal work')]","[{'comment_id': 2579258680, 'issue_id': 2776923880, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/193003.png)](https://mergebot.odoo.com/odoo/odoo/pull/193003)', 'created_at': datetime.datetime(2025, 1, 9, 6, 17, 13, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-09 06:17:13 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/193003.png)](https://mergebot.odoo.com/odoo/odoo/pull/193003)

"
2776915921,pull_request,open,,"[IMP] website, *: add tooltip on shared block","*= website_blog, website_crm_partner_assign, website_customer, website_event, website_event_meet, website_event_track, website_membership, website_partner, website_sale, website_slides

With  this commit, We introduces the `o_page_shared_blocks` class to dropzones that contain content accessible throughout all pages. The addition of this class enables the display of a `shared block` tooltip for these dropzones.

task-4430496
",visp-odoo,2025-01-09 06:10:46+00:00,[],2025-02-04 12:38:15+00:00,,https://github.com/odoo/odoo/pull/193002,"[('RD', 'research & development, internal work')]","[{'comment_id': 2579252134, 'issue_id': 2776915921, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/193002.png)](https://mergebot.odoo.com/odoo/odoo/pull/193002)', 'created_at': datetime.datetime(2025, 1, 9, 6, 10, 49, tzinfo=datetime.timezone.utc)}, {'comment_id': 2604663813, 'issue_id': 2776915921, 'author': 'divy-odoo', 'body': ""I found something, :smile:  the current task mentioned the specs for only `/shop:product` page only. as mentioned in this [task](https://www.odoo.com/odoo/project.task/project.task/4430461) the same functionalities should be implemented for the all such a place. So here we have to adapt the solution such we can implement the same for the other pages as well with small changes.\r\n\r\nThere are few question to have before we implement this task,\r\n\r\n1. Is there any flag or way, we can identify the shared block? If No, if we'll have to identify the shared block manually by the id and add a tooltip. which doesn't seems feasible to me.\r\n2. Is it feasible to introduce & add new flag to all the shared template?\r\n \r\n Need to discuss few things & prepare POC before we go with the solution. \r\n \r\n Thanks : )"", 'created_at': datetime.datetime(2025, 1, 21, 12, 56, 18, tzinfo=datetime.timezone.utc)}, {'comment_id': 2606306584, 'issue_id': 2776915921, 'author': 'msh-odoo', 'body': ""> I found something, 😄 the current task mentioned the specs for only `/shop:product` page only. as mentioned in this [task](https://www.odoo.com/odoo/project.task/project.task/4430461) the same functionalities should be implemented for the all such a place. So here we have to adapt the solution such we can implement the same for the other pages as well with small changes.\r\n> \r\n> There are few question to have before we implement this task,\r\n> \r\n> 1. Is there any flag or way, we can identify the shared block? If No, if we'll have to identify the shared block manually by the id and add a tooltip. which doesn't seems feasible to me.\r\n> 2. Is it feasible to introduce & add new flag to all the shared template?\r\n> \r\n> Need to discuss few things & prepare POC before we go with the solution.\r\n> \r\n> Thanks : )\r\n\r\nI do agree, solution should be generic, such a way that we can add one class on shared blocks and editor will identify that class and will add tooltip."", 'created_at': datetime.datetime(2025, 1, 22, 5, 6, 36, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-09 06:10:49 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/193002.png)](https://mergebot.odoo.com/odoo/odoo/pull/193002)

divy-odoo on (2025-01-21 12:56:18 UTC): I found something, :smile:  the current task mentioned the specs for only `/shop:product` page only. as mentioned in this [task](https://www.odoo.com/odoo/project.task/project.task/4430461) the same functionalities should be implemented for the all such a place. So here we have to adapt the solution such we can implement the same for the other pages as well with small changes.

There are few question to have before we implement this task,

1. Is there any flag or way, we can identify the shared block? If No, if we'll have to identify the shared block manually by the id and add a tooltip. which doesn't seems feasible to me.
2. Is it feasible to introduce & add new flag to all the shared template?
 
 Need to discuss few things & prepare POC before we go with the solution. 
 
 Thanks : )

msh-odoo on (2025-01-22 05:06:36 UTC): I do agree, solution should be generic, such a way that we can add one class on shared blocks and editor will identify that class and will add tooltip.

"
2776888607,pull_request,closed,,[FIX] point_of_sale: handle selection of a deleted orders,"Resolved an issue where selecting a deleted order behaves correctly on the product screen but fails on the payment screen.

**Steps to reproduce:**

1. create an order (order 1)
2. add product
3. go to payment screen
4. create another draft order (order 2)
5. go to Orders in the dropdown of the navbar (TicketScreen)
6. delete order 1
7. select the order you deleted from the navbar draft orders

This will result in a traceback

A fix was introduced in 18.1: https://github.com/odoo/odoo/commit/acb11c422ebf2b4811804a14ae12f849817f229a
That commit in 18.1 can't just be backported because it changes the API of some related_models methods.

This PR redirects you to Order 2 because order 1 is already Deleted
If there isn't any other draft orders created, it redirects you to a new draft order.


---
I confirm I have signed the CLA and read the PR guidelines at www.odoo.com/submit-pr
",nesma-neha,2025-01-09 05:47:15+00:00,[],2025-02-03 22:24:57+00:00,2025-01-20 21:48:32+00:00,https://github.com/odoo/odoo/pull/193001,"[('RD', 'research & development, internal work')]","[{'comment_id': 2579228458, 'issue_id': 2776888607, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/193001.png)](https://mergebot.odoo.com/odoo/odoo/pull/193001)', 'created_at': datetime.datetime(2025, 1, 9, 5, 47, 18, tzinfo=datetime.timezone.utc)}, {'comment_id': 2582783646, 'issue_id': 2776888607, 'author': 'davidmonnom', 'body': 'Hey, can you write how to reproduce the bug ?', 'created_at': datetime.datetime(2025, 1, 10, 14, 4, 49, tzinfo=datetime.timezone.utc)}, {'comment_id': 2582817047, 'issue_id': 2776888607, 'author': 'nesma-neha', 'body': '> Hey, can you write how to reproduce the bug ?\r\n\r\n@davidmonnom I updated the PR and the commit message', 'created_at': datetime.datetime(2025, 1, 10, 14, 18, 33, tzinfo=datetime.timezone.utc)}, {'comment_id': 2582848724, 'issue_id': 2776888607, 'author': 'davidmonnom', 'body': ""I think the deleted orders should not be displayed in the navbar, that the main issue, isn't?"", 'created_at': datetime.datetime(2025, 1, 10, 14, 34, 16, tzinfo=datetime.timezone.utc)}, {'comment_id': 2582914935, 'issue_id': 2776888607, 'author': 'nesma-neha', 'body': ""Didn't think it was an issue, because even if you click on it it removes it and auto selects another. :thinking:"", 'created_at': datetime.datetime(2025, 1, 10, 15, 5, 29, tzinfo=datetime.timezone.utc)}, {'comment_id': 2587068286, 'issue_id': 2776888607, 'author': 'davidmonnom', 'body': ""Yes, but if you select an order and it automatically selects another, you shouldn't be able to select it at first.  It seems to be a bad user experience. \r\n\r\nI think it's because of the reactivity. This command probably has a paid state that doesn't trigger responsiveness on the navigation bar. We should check how floating commands are implemented."", 'created_at': datetime.datetime(2025, 1, 13, 13, 11, 12, tzinfo=datetime.timezone.utc)}, {'comment_id': 2602650284, 'issue_id': 2776888607, 'author': 'davidmonnom', 'body': '@fw-bot up to 18.0', 'created_at': datetime.datetime(2025, 1, 20, 15, 2, 48, tzinfo=datetime.timezone.utc)}, {'comment_id': 2602652128, 'issue_id': 2776888607, 'author': 'caburj', 'body': 'robodoo fw=no', 'created_at': datetime.datetime(2025, 1, 20, 15, 3, 38, tzinfo=datetime.timezone.utc)}, {'comment_id': 2602652261, 'issue_id': 2776888607, 'author': 'robodoo', 'body': 'Disabled forward-porting.', 'created_at': datetime.datetime(2025, 1, 20, 15, 3, 41, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-09 05:47:18 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/193001.png)](https://mergebot.odoo.com/odoo/odoo/pull/193001)

davidmonnom on (2025-01-10 14:04:49 UTC): Hey, can you write how to reproduce the bug ?

nesma-neha (Issue Creator) on (2025-01-10 14:18:33 UTC): @davidmonnom I updated the PR and the commit message

davidmonnom on (2025-01-10 14:34:16 UTC): I think the deleted orders should not be displayed in the navbar, that the main issue, isn't?

nesma-neha (Issue Creator) on (2025-01-10 15:05:29 UTC): Didn't think it was an issue, because even if you click on it it removes it and auto selects another. :thinking:

davidmonnom on (2025-01-13 13:11:12 UTC): Yes, but if you select an order and it automatically selects another, you shouldn't be able to select it at first.  It seems to be a bad user experience. 

I think it's because of the reactivity. This command probably has a paid state that doesn't trigger responsiveness on the navigation bar. We should check how floating commands are implemented.

davidmonnom on (2025-01-20 15:02:48 UTC): @fw-bot up to 18.0

caburj on (2025-01-20 15:03:38 UTC): robodoo fw=no

robodoo on (2025-01-20 15:03:41 UTC): Disabled forward-porting.

"
2776707598,pull_request,closed,,[FIX] l10n_my_*: Enable invoicing foreign customers.,"The current logic is not working when trying to invoice foreign customers. A few fields that could be useful are hidden, and we don't add the id information in the xml file which causes it to fail.

In practice, it is valid to invoice a foreign customer and use a generic TIN if they don't have a malaysian one when reporting to the tax authorities. This change will allow just that; we add the id information to the xml which allow to correctly issue a valid invoice for a foreign customer (tested on pre- production)

opw-4438259

---
I confirm I have signed the CLA and read the PR guidelines at www.odoo.com/submit-pr
",vin-odoo,2025-01-09 02:37:22+00:00,[],2025-01-23 14:09:10+00:00,2025-01-09 14:08:20+00:00,https://github.com/odoo/odoo/pull/193000,"[('OE', 'the report is linked to a support ticket (opw-...)')]","[{'comment_id': 2579061211, 'issue_id': 2776707598, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/193000.png)](https://mergebot.odoo.com/odoo/odoo/pull/193000)', 'created_at': datetime.datetime(2025, 1, 9, 2, 37, 25, tzinfo=datetime.timezone.utc)}, {'comment_id': 2579807425, 'issue_id': 2776707598, 'author': 'vin-odoo', 'body': '@antoine162 Thank you, updated :)', 'created_at': datetime.datetime(2025, 1, 9, 10, 44, 13, tzinfo=datetime.timezone.utc)}, {'comment_id': 2580003540, 'issue_id': 2776707598, 'author': 'antoine162', 'body': '@robodoo r+', 'created_at': datetime.datetime(2025, 1, 9, 12, 10, 36, tzinfo=datetime.timezone.utc)}, {'comment_id': 2580003666, 'issue_id': 2776707598, 'author': 'robodoo', 'body': '@vin-odoo @antoine162 because this PR has multiple commits, I need to know how to merge it:\n\n* `merge` to merge directly, using the PR as merge commit message\n* `rebase-merge` to rebase and merge, using the PR as merge commit message\n* `rebase-ff` to rebase and fast-forward', 'created_at': datetime.datetime(2025, 1, 9, 12, 10, 41, tzinfo=datetime.timezone.utc)}, {'comment_id': 2580010477, 'issue_id': 2776707598, 'author': 'antoine162', 'body': '@robodoo rebase-ff', 'created_at': datetime.datetime(2025, 1, 9, 12, 14, 22, tzinfo=datetime.timezone.utc)}, {'comment_id': 2580010620, 'issue_id': 2776707598, 'author': 'robodoo', 'body': 'Merge method set to rebase and fast-forward.', 'created_at': datetime.datetime(2025, 1, 9, 12, 14, 25, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-09 02:37:25 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/193000.png)](https://mergebot.odoo.com/odoo/odoo/pull/193000)

vin-odoo (Issue Creator) on (2025-01-09 10:44:13 UTC): @antoine162 Thank you, updated :)

antoine162 on (2025-01-09 12:10:36 UTC): @robodoo r+

robodoo on (2025-01-09 12:10:41 UTC): @vin-odoo @antoine162 because this PR has multiple commits, I need to know how to merge it:

* `merge` to merge directly, using the PR as merge commit message
* `rebase-merge` to rebase and merge, using the PR as merge commit message
* `rebase-ff` to rebase and fast-forward

antoine162 on (2025-01-09 12:14:22 UTC): @robodoo rebase-ff

robodoo on (2025-01-09 12:14:25 UTC): Merge method set to rebase and fast-forward.

"
2776699113,pull_request,closed,,[FW][IMP] point_of_sale: image configuration for camera drivers,"As we updated the camera interface's logic, we need to add the new library to the IoT Box image. We also removed the python lib patching part, as it was only used by the old camera detection logic.

Enterprise PR: [https://github.com/odoo/enterprise/pull/76511](https://github.com/odoo/enterprise/pull/76511)
Task: 4432584

Forward-Port-Of: odoo/odoo#192449",fw-bot,2025-01-09 02:29:40+00:00,[],2025-01-23 14:21:46+00:00,2025-01-09 14:18:28+00:00,https://github.com/odoo/odoo/pull/192999,"[('RD', 'research & development, internal work'), ('forwardport', 'This PR was created by @fw-bot'), ('conflict', 'There was an error while creating this forward-port PR')]","[{'comment_id': 2579053346, 'issue_id': 2776699113, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/192999.png)](https://mergebot.odoo.com/odoo/odoo/pull/192999)', 'created_at': datetime.datetime(2025, 1, 9, 2, 29, 43, tzinfo=datetime.timezone.utc)}, {'comment_id': 2579053374, 'issue_id': 2776699113, 'author': 'fw-bot', 'body': '@loouis-t @Ysoroko cherrypicking of pull request odoo/odoo#192449 failed.\n\nstdout:\n```\nAuto-merging addons/iot_box_image/configuration/checkout.sh\nCONFLICT (content): Merge conflict in addons/iot_box_image/configuration/checkout.sh\nCONFLICT (rename/delete): addons/point_of_sale/tools/posbox/overwrite_after_init/usr/local/lib/python3.11/dist-packages/v4l2.py.iotpatch renamed to addons/iot_box_image/overwrite_after_init/usr/local/lib/python3.11/dist-packages/v4l2.py.iotpatch in 29015d4c0eb1a0ac173588bcc88c7612d374d760, but deleted in 3da7c6f5b74f80a894c0d36d17de04659d7e8efa.\nAuto-merging addons/iot_box_image/overwrite_before_init/etc/init_image.sh\nAuto-merging addons/iot_box_image/overwrite_before_init/etc/systemd/system/odoo.service\nCONFLICT (content): Merge conflict in addons/iot_box_image/overwrite_before_init/etc/systemd/system/odoo.service\n\n```\n\nEither perform the forward-port manually (and push to this branch, proceeding as usual) or close this PR (maybe?).\n\nIn the former case, you may want to edit this PR message as well.\n\n:warning: after resolving this conflict, you will need to merge it via @robodoo.\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 9, 2, 29, 45, tzinfo=datetime.timezone.utc)}, {'comment_id': 2579413422, 'issue_id': 2776699113, 'author': 'loouis-t', 'body': '@robodoo r+', 'created_at': datetime.datetime(2025, 1, 9, 8, 18, 35, tzinfo=datetime.timezone.utc)}, {'comment_id': 2579648874, 'issue_id': 2776699113, 'author': 'robodoo', 'body': '@loouis-t @Ysoroko linked pull request(s) odoo/enterprise#76780 not ready. Linked PRs are not staged until all of them are ready.', 'created_at': datetime.datetime(2025, 1, 9, 10, 0, 1, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-09 02:29:43 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/192999.png)](https://mergebot.odoo.com/odoo/odoo/pull/192999)

fw-bot (Issue Creator) on (2025-01-09 02:29:45 UTC): @loouis-t @Ysoroko cherrypicking of pull request odoo/odoo#192449 failed.

stdout:
```
Auto-merging addons/iot_box_image/configuration/checkout.sh
CONFLICT (content): Merge conflict in addons/iot_box_image/configuration/checkout.sh
CONFLICT (rename/delete): addons/point_of_sale/tools/posbox/overwrite_after_init/usr/local/lib/python3.11/dist-packages/v4l2.py.iotpatch renamed to addons/iot_box_image/overwrite_after_init/usr/local/lib/python3.11/dist-packages/v4l2.py.iotpatch in 29015d4c0eb1a0ac173588bcc88c7612d374d760, but deleted in 3da7c6f5b74f80a894c0d36d17de04659d7e8efa.
Auto-merging addons/iot_box_image/overwrite_before_init/etc/init_image.sh
Auto-merging addons/iot_box_image/overwrite_before_init/etc/systemd/system/odoo.service
CONFLICT (content): Merge conflict in addons/iot_box_image/overwrite_before_init/etc/systemd/system/odoo.service

```

Either perform the forward-port manually (and push to this branch, proceeding as usual) or close this PR (maybe?).

In the former case, you may want to edit this PR message as well.

:warning: after resolving this conflict, you will need to merge it via @robodoo.

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

loouis-t on (2025-01-09 08:18:35 UTC): @robodoo r+

robodoo on (2025-01-09 10:00:01 UTC): @loouis-t @Ysoroko linked pull request(s) odoo/enterprise#76780 not ready. Linked PRs are not staged until all of them are ready.

"
2776689577,pull_request,closed,,[FW][FIX] account: allow accountants to create products,"**Issue:**
Accountants cannot create products through Customer Invoice or Vendor Bill product lines.

![image](https://github.com/user-attachments/assets/fde7d8de-354f-46fa-861d-bfe55dcabfbd)

**Expected:**
Accountants should be allowed to manage the products database.

**Steps to reproduce:**
- Activate Invoicing app;
- Configure a branch to the company;
- Create a user with an accounting `Accountant` role and set the branch company as only entry in Allowed Companies and as Default Company;

![Capture d’écran 2024-12-10 à 18 04 55](https://github.com/user-attachments/assets/bc0fae3f-cff4-4e73-9eb9-f86d5285ba6d)

- Log in as that new user;
- Try create a new product through a Customer Invoice or a Vendor Bill.

**Cause:**
The `Accountant` role itself has no right on products.

**Fix:**
Reset a previously removed (february 2023 (saas-16.2) odoo/odoo@512574861691f425ec6a17f20fe4b586bb88a299) access right on `product_template` for group `group_account_manager`.

![Capture d’écran 2024-12-10 à 18 14 38](https://github.com/user-attachments/assets/8902ceee-6b97-4522-8505-3f72a0260226)

**Note:**
This PR replaces https://github.com/odoo/enterprise/pull/75453 after discussion with reviewer.


opw-4293151

---
I confirm I have signed the CLA and read the PR guidelines at www.odoo.com/submit-pr

Forward-Port-Of: odoo/odoo#192445
Forward-Port-Of: odoo/odoo#190360",fw-bot,2025-01-09 02:19:20+00:00,[],2025-01-23 09:21:59+00:00,2025-01-09 09:09:24+00:00,https://github.com/odoo/odoo/pull/192998,"[('OE', 'the report is linked to a support ticket (opw-...)'), ('forwardport', 'This PR was created by @fw-bot'), ('18.2', None)]","[{'comment_id': 2579044663, 'issue_id': 2776689577, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/192998.png)](https://mergebot.odoo.com/odoo/odoo/pull/192998)', 'created_at': datetime.datetime(2025, 1, 9, 2, 19, 21, tzinfo=datetime.timezone.utc)}, {'comment_id': 2579044669, 'issue_id': 2776689577, 'author': 'fw-bot', 'body': '@barracudapps @william-andre this PR targets master and is the last of the forward-port chain containing:\n* odoo/odoo#192997\n* odoo/odoo#192991\n\nTo merge the full chain, use\n> @robodoo r+\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 9, 2, 19, 22, tzinfo=datetime.timezone.utc)}, {'comment_id': 2579315088, 'issue_id': 2776689577, 'author': 'barracudapps', 'body': '@robodoo r+', 'created_at': datetime.datetime(2025, 1, 9, 7, 8, 54, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-09 02:19:21 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/192998.png)](https://mergebot.odoo.com/odoo/odoo/pull/192998)

fw-bot (Issue Creator) on (2025-01-09 02:19:22 UTC): @barracudapps @william-andre this PR targets master and is the last of the forward-port chain containing:
* odoo/odoo#192997
* odoo/odoo#192991

To merge the full chain, use

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

barracudapps on (2025-01-09 07:08:54 UTC): @robodoo r+

"
2776616157,pull_request,closed,,[FW][FIX] account: allow accountants to create products,"**Issue:**
Accountants cannot create products through Customer Invoice or Vendor Bill product lines.

![image](https://github.com/user-attachments/assets/fde7d8de-354f-46fa-861d-bfe55dcabfbd)

**Expected:**
Accountants should be allowed to manage the products database.

**Steps to reproduce:**
- Activate Invoicing app;
- Configure a branch to the company;
- Create a user with an accounting `Accountant` role and set the branch company as only entry in Allowed Companies and as Default Company;

![Capture d’écran 2024-12-10 à 18 04 55](https://github.com/user-attachments/assets/bc0fae3f-cff4-4e73-9eb9-f86d5285ba6d)

- Log in as that new user;
- Try create a new product through a Customer Invoice or a Vendor Bill.

**Cause:**
The `Accountant` role itself has no right on products.

**Fix:**
Reset a previously removed (february 2023 (saas-16.2) odoo/odoo@512574861691f425ec6a17f20fe4b586bb88a299) access right on `product_template` for group `group_account_manager`.

![Capture d’écran 2024-12-10 à 18 14 38](https://github.com/user-attachments/assets/8902ceee-6b97-4522-8505-3f72a0260226)

**Note:**
This PR replaces https://github.com/odoo/enterprise/pull/75453 after discussion with reviewer.


opw-4293151

---
I confirm I have signed the CLA and read the PR guidelines at www.odoo.com/submit-pr

Forward-Port-Of: odoo/odoo#192445
Forward-Port-Of: odoo/odoo#190360",fw-bot,2025-01-09 00:39:03+00:00,[],2025-01-23 08:44:03+00:00,2025-01-09 08:39:25+00:00,https://github.com/odoo/odoo/pull/192997,"[('OE', 'the report is linked to a support ticket (opw-...)'), ('forwardport', 'This PR was created by @fw-bot')]","[{'comment_id': 2578958301, 'issue_id': 2776616157, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/192997.png)](https://mergebot.odoo.com/odoo/odoo/pull/192997)', 'created_at': datetime.datetime(2025, 1, 9, 0, 39, 4, tzinfo=datetime.timezone.utc)}, {'comment_id': 2578958314, 'issue_id': 2776616157, 'author': 'fw-bot', 'body': 'This PR targets saas-18.1 and is part of the forward-port chain. Further PRs will be created up to master.\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 9, 0, 39, 5, tzinfo=datetime.timezone.utc)}, {'comment_id': 2579019047, 'issue_id': 2776616157, 'author': 'fw-bot', 'body': '@barracudapps @william-andre this forward port of odoo/odoo#190360 is awaiting action (not merged or closed).', 'created_at': datetime.datetime(2025, 1, 9, 2, 1, 42, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-09 00:39:04 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/192997.png)](https://mergebot.odoo.com/odoo/odoo/pull/192997)

fw-bot (Issue Creator) on (2025-01-09 00:39:05 UTC): This PR targets saas-18.1 and is part of the forward-port chain. Further PRs will be created up to master.

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

fw-bot (Issue Creator) on (2025-01-09 02:01:42 UTC): @barracudapps @william-andre this forward port of odoo/odoo#190360 is awaiting action (not merged or closed).

"
2776581566,pull_request,closed,,[FW][FIX] account: Fix group by internal group on journal items,"In journal items, when grouping by 'Internal Group', a traceback appears due to referencing a non-existent table `account_account` as it has been joined with `account_move_line`.

This commit ensures the referenced table is correctly updated in the case of joins.

opw-4405281

---
I confirm I have signed the CLA and read the PR guidelines at www.odoo.com/submit-pr

Forward-Port-Of: odoo/odoo#192954
Forward-Port-Of: odoo/odoo#192489",fw-bot,2025-01-09 00:13:47+00:00,[],2025-01-23 12:49:11+00:00,2025-01-09 12:49:15+00:00,https://github.com/odoo/odoo/pull/192994,"[('OE', 'the report is linked to a support ticket (opw-...)'), ('forwardport', 'This PR was created by @fw-bot'), ('conflict', 'There was an error while creating this forward-port PR')]","[{'comment_id': 2578928620, 'issue_id': 2776581566, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/192994.png)](https://mergebot.odoo.com/odoo/odoo/pull/192994)', 'created_at': datetime.datetime(2025, 1, 9, 0, 13, 48, tzinfo=datetime.timezone.utc)}, {'comment_id': 2578928630, 'issue_id': 2776581566, 'author': 'fw-bot', 'body': '@seifgneedy @william-andre cherrypicking of pull request odoo/odoo#192489 failed.\n\nstdout:\n```\nAuto-merging addons/account/models/account_account.py\nCONFLICT (content): Merge conflict in addons/account/models/account_account.py\n\n```\n\nEither perform the forward-port manually (and push to this branch, proceeding as usual) or close this PR (maybe?).\n\nIn the former case, you may want to edit this PR message as well.\n\n:warning: after resolving this conflict, you will need to merge it via @robodoo.\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 9, 0, 13, 48, tzinfo=datetime.timezone.utc)}, {'comment_id': 2579595515, 'issue_id': 2776581566, 'author': 'seifgneedy', 'body': '@robodoo r+', 'created_at': datetime.datetime(2025, 1, 9, 9, 39, 37, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-09 00:13:48 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/192994.png)](https://mergebot.odoo.com/odoo/odoo/pull/192994)

fw-bot (Issue Creator) on (2025-01-09 00:13:48 UTC): @seifgneedy @william-andre cherrypicking of pull request odoo/odoo#192489 failed.

stdout:
```
Auto-merging addons/account/models/account_account.py
CONFLICT (content): Merge conflict in addons/account/models/account_account.py

```

Either perform the forward-port manually (and push to this branch, proceeding as usual) or close this PR (maybe?).

In the former case, you may want to edit this PR message as well.

:warning: after resolving this conflict, you will need to merge it via @robodoo.

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

seifgneedy on (2025-01-09 09:39:37 UTC): @robodoo r+

"
2776557379,pull_request,closed,,[FW][IMP] point_of_sale: image configuration for camera drivers,"As we updated the camera interface's logic, we need to add the new library to the IoT Box image. We also removed the python lib patching part, as it was only used by the old camera detection logic.

Enterprise PR: [https://github.com/odoo/enterprise/pull/76511](https://github.com/odoo/enterprise/pull/76511)
Task: 4432584

Forward-Port-Of: odoo/odoo#192449",fw-bot,2025-01-08 23:53:45+00:00,[],2025-01-23 09:58:52+00:00,2025-01-09 09:55:55+00:00,https://github.com/odoo/odoo/pull/192993,"[('RD', 'research & development, internal work'), ('forwardport', 'This PR was created by @fw-bot')]","[{'comment_id': 2578900782, 'issue_id': 2776557379, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/192993.png)](https://mergebot.odoo.com/odoo/odoo/pull/192993)', 'created_at': datetime.datetime(2025, 1, 8, 23, 53, 47, tzinfo=datetime.timezone.utc)}, {'comment_id': 2578900802, 'issue_id': 2776557379, 'author': 'fw-bot', 'body': 'This PR targets 18.0 and is part of the forward-port chain. Further PRs will be created up to master.\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 8, 23, 53, 48, tzinfo=datetime.timezone.utc)}, {'comment_id': 2579053356, 'issue_id': 2776557379, 'author': 'fw-bot', 'body': '@loouis-t @Ysoroko the next pull request (odoo/odoo#192999) is in conflict. You can merge the chain up to here by saying\n> @robodoo r+\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 9, 2, 29, 43, tzinfo=datetime.timezone.utc)}, {'comment_id': 2579329519, 'issue_id': 2776557379, 'author': 'loouis-t', 'body': '@robodoo r+', 'created_at': datetime.datetime(2025, 1, 9, 7, 20, 57, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-08 23:53:47 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/192993.png)](https://mergebot.odoo.com/odoo/odoo/pull/192993)

fw-bot (Issue Creator) on (2025-01-08 23:53:48 UTC): This PR targets 18.0 and is part of the forward-port chain. Further PRs will be created up to master.

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

fw-bot (Issue Creator) on (2025-01-09 02:29:43 UTC): @loouis-t @Ysoroko the next pull request (odoo/odoo#192999) is in conflict. You can merge the chain up to here by saying

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

loouis-t on (2025-01-09 07:20:57 UTC): @robodoo r+

"
2776541905,pull_request,closed,,[FW][FIX] account: matching rules appliance on branches,"The bank reconciliation widget shouldn't be allowed to work/match more than what's possible through the UI.

Steps to reproduce the bug
* create child company CHILD 1, with an invoice $100
* Create child company CHILD 2 with same parent company, a bank journal and a matching rule to fetch bills/invoices of same amount regardless of any other critera (for simplicity)
* make sure the matching rule is applied 1st, create a bank transacation of $100 in CHILD 2 bank journal
* click reconcile from the dashboard, on CHILD 2 bank journal => you get an access error because Odoo is trying to match invoice from CHILD 1 and bank transaction from CHILD 2

ticket-4384481


---
I confirm I have signed the CLA and read the PR guidelines at www.odoo.com/submit-pr

Forward-Port-Of: odoo/odoo#192507",fw-bot,2025-01-08 23:36:42+00:00,[],2025-01-24 12:11:27+00:00,2025-01-10 12:01:27+00:00,https://github.com/odoo/odoo/pull/192992,"[('RD', 'research & development, internal work'), ('forwardport', 'This PR was created by @fw-bot'), ('conflict', 'There was an error while creating this forward-port PR')]","[{'comment_id': 2578881750, 'issue_id': 2776541905, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/192992.png)](https://mergebot.odoo.com/odoo/odoo/pull/192992)', 'created_at': datetime.datetime(2025, 1, 8, 23, 36, 44, tzinfo=datetime.timezone.utc)}, {'comment_id': 2578881787, 'issue_id': 2776541905, 'author': 'fw-bot', 'body': '@qdp-odoo @epictete cherrypicking of pull request odoo/odoo#192507 failed.\n\nstdout:\n```\nAuto-merging addons/account/models/account_bank_statement_line.py\nCONFLICT (content): Merge conflict in addons/account/models/account_bank_statement_line.py\n\n```\n\nEither perform the forward-port manually (and push to this branch, proceeding as usual) or close this PR (maybe?).\n\nIn the former case, you may want to edit this PR message as well.\n\n:warning: after resolving this conflict, you will need to merge it via @robodoo.\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 8, 23, 36, 46, tzinfo=datetime.timezone.utc)}, {'comment_id': 2582097717, 'issue_id': 2776541905, 'author': 'qdp-odoo', 'body': '@robodoo r+', 'created_at': datetime.datetime(2025, 1, 10, 8, 56, 22, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-08 23:36:44 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/192992.png)](https://mergebot.odoo.com/odoo/odoo/pull/192992)

fw-bot (Issue Creator) on (2025-01-08 23:36:46 UTC): @qdp-odoo @epictete cherrypicking of pull request odoo/odoo#192507 failed.

stdout:
```
Auto-merging addons/account/models/account_bank_statement_line.py
CONFLICT (content): Merge conflict in addons/account/models/account_bank_statement_line.py

```

Either perform the forward-port manually (and push to this branch, proceeding as usual) or close this PR (maybe?).

In the former case, you may want to edit this PR message as well.

:warning: after resolving this conflict, you will need to merge it via @robodoo.

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

qdp-odoo on (2025-01-10 08:56:22 UTC): @robodoo r+

"
2776515388,pull_request,closed,,[FW][FIX] account: allow accountants to create products,"**Issue:**
Accountants cannot create products through Customer Invoice or Vendor Bill product lines.

![image](https://github.com/user-attachments/assets/fde7d8de-354f-46fa-861d-bfe55dcabfbd)

**Expected:**
Accountants should be allowed to manage the products database.

**Steps to reproduce:**
- Activate Invoicing app;
- Configure a branch to the company;
- Create a user with an accounting `Accountant` role and set the branch company as only entry in Allowed Companies and as Default Company;

![Capture d’écran 2024-12-10 à 18 04 55](https://github.com/user-attachments/assets/bc0fae3f-cff4-4e73-9eb9-f86d5285ba6d)

- Log in as that new user;
- Try create a new product through a Customer Invoice or a Vendor Bill.

**Cause:**
The `Accountant` role itself has no right on products.

**Fix:**
Reset a previously removed (february 2023 (saas-16.2) odoo/odoo@512574861691f425ec6a17f20fe4b586bb88a299) access right on `product_template` for group `group_account_manager`.

![Capture d’écran 2024-12-10 à 18 14 38](https://github.com/user-attachments/assets/8902ceee-6b97-4522-8505-3f72a0260226)

**Note:**
This PR replaces https://github.com/odoo/enterprise/pull/75453 after discussion with reviewer.


opw-4293151

---
I confirm I have signed the CLA and read the PR guidelines at www.odoo.com/submit-pr

Forward-Port-Of: odoo/odoo#192445
Forward-Port-Of: odoo/odoo#190360",fw-bot,2025-01-08 23:12:26+00:00,[],2025-01-23 08:37:55+00:00,2025-01-09 08:36:35+00:00,https://github.com/odoo/odoo/pull/192991,"[('OE', 'the report is linked to a support ticket (opw-...)'), ('forwardport', 'This PR was created by @fw-bot')]","[{'comment_id': 2578856254, 'issue_id': 2776515388, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/192991.png)](https://mergebot.odoo.com/odoo/odoo/pull/192991)', 'created_at': datetime.datetime(2025, 1, 8, 23, 12, 28, tzinfo=datetime.timezone.utc)}, {'comment_id': 2578856266, 'issue_id': 2776515388, 'author': 'fw-bot', 'body': 'This PR targets 18.0 and is part of the forward-port chain. Further PRs will be created up to master.\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 8, 23, 12, 28, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-08 23:12:28 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/192991.png)](https://mergebot.odoo.com/odoo/odoo/pull/192991)

fw-bot (Issue Creator) on (2025-01-08 23:12:28 UTC): This PR targets 18.0 and is part of the forward-port chain. Further PRs will be created up to master.

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

"
2776452052,pull_request,closed,,[FW][IMP] point_of_sale: image configuration for camera drivers,"As we updated the camera interface's logic, we need to add the new library to the IoT Box image. We also removed the python lib patching part, as it was only used by the old camera detection logic.

Enterprise PR: [https://github.com/odoo/enterprise/pull/76511](https://github.com/odoo/enterprise/pull/76511)
Task: 4432584

Forward-Port-Of: odoo/odoo#192449",fw-bot,2025-01-08 22:17:31+00:00,[],2025-01-23 08:37:54+00:00,2025-01-09 08:36:32+00:00,https://github.com/odoo/odoo/pull/192990,"[('RD', 'research & development, internal work'), ('forwardport', 'This PR was created by @fw-bot')]","[{'comment_id': 2578778841, 'issue_id': 2776452052, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/192990.png)](https://mergebot.odoo.com/odoo/odoo/pull/192990)', 'created_at': datetime.datetime(2025, 1, 8, 22, 17, 33, tzinfo=datetime.timezone.utc)}, {'comment_id': 2578778874, 'issue_id': 2776452052, 'author': 'fw-bot', 'body': 'This PR targets saas-17.4 and is part of the forward-port chain. Further PRs will be created up to master.\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 8, 22, 17, 34, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-08 22:17:33 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/192990.png)](https://mergebot.odoo.com/odoo/odoo/pull/192990)

fw-bot (Issue Creator) on (2025-01-08 22:17:34 UTC): This PR targets saas-17.4 and is part of the forward-port chain. Further PRs will be created up to master.

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

"
2776443718,pull_request,closed,,[FW][FIX] web: clear changes on urgent save,"Versions
--------
- 17.0+

Steps
-----
1. Download a VoIP provider like Skype or Linphone to open tel:* urls;
2. use a browser that supports this (FireFox works for me, but Chrome doesn't);
3. with Studio, edit the Sales Order form to add the customer phone;
4. create a new Sales Order with one order line;
5. save the form;
6. add a second line;
7. click on the phone number to start the VoIP app;
8. save the Sales Order form.

Issue
-----
The 2nd line is duplicated.

Cause
-----
Starting VoIP initiates an ""urgent"" web save, saving the first time. Usually this only happens when leaving the page, so it doesn't clear the changes to be saved.

In this scenario however, we remain on the page, and the changes are saved again when clicking the save button.

Solution
--------
Clear the saved changes if the urgent save succeeded.

opw-4308954

Forward-Port-Of: odoo/odoo#192517",fw-bot,2025-01-08 22:10:36+00:00,[],2025-01-23 17:09:05+00:00,2025-01-09 17:08:17+00:00,https://github.com/odoo/odoo/pull/192989,"[('OE', 'the report is linked to a support ticket (opw-...)'), ('forwardport', 'This PR was created by @fw-bot'), ('conflict', 'There was an error while creating this forward-port PR')]","[{'comment_id': 2578769946, 'issue_id': 2776443718, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/192989.png)](https://mergebot.odoo.com/odoo/odoo/pull/192989)', 'created_at': datetime.datetime(2025, 1, 8, 22, 10, 38, tzinfo=datetime.timezone.utc)}, {'comment_id': 2578770000, 'issue_id': 2776443718, 'author': 'fw-bot', 'body': '@lvsz @aab-odoo cherrypicking of pull request odoo/odoo#192517 failed.\n\nstdout:\n```\nAuto-merging addons/web/static/src/model/relational_model/record.js\nCONFLICT (modify/delete): addons/web/static/tests/views/form/form_view_tests.js deleted in efed9583f33072fbb483e3f719880abab67be63e and modified in ccca38dc4bfecb42650e026beb2ebeee2d477e56.  Version ccca38dc4bfecb42650e026beb2ebeee2d477e56 of addons/web/static/tests/views/form/form_view_tests.js left in tree.\n\n```\n\nEither perform the forward-port manually (and push to this branch, proceeding as usual) or close this PR (maybe?).\n\nIn the former case, you may want to edit this PR message as well.\n\n:warning: after resolving this conflict, you will need to merge it via @robodoo.\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 8, 22, 10, 40, tzinfo=datetime.timezone.utc)}, {'comment_id': 2580183161, 'issue_id': 2776443718, 'author': 'lvsz', 'body': 'robodoo r+', 'created_at': datetime.datetime(2025, 1, 9, 13, 37, 23, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-08 22:10:38 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/192989.png)](https://mergebot.odoo.com/odoo/odoo/pull/192989)

fw-bot (Issue Creator) on (2025-01-08 22:10:40 UTC): @lvsz @aab-odoo cherrypicking of pull request odoo/odoo#192517 failed.

stdout:
```
Auto-merging addons/web/static/src/model/relational_model/record.js
CONFLICT (modify/delete): addons/web/static/tests/views/form/form_view_tests.js deleted in efed9583f33072fbb483e3f719880abab67be63e and modified in ccca38dc4bfecb42650e026beb2ebeee2d477e56.  Version ccca38dc4bfecb42650e026beb2ebeee2d477e56 of addons/web/static/tests/views/form/form_view_tests.js left in tree.

```

Either perform the forward-port manually (and push to this branch, proceeding as usual) or close this PR (maybe?).

In the former case, you may want to edit this PR message as well.

:warning: after resolving this conflict, you will need to merge it via @robodoo.

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

lvsz on (2025-01-09 13:37:23 UTC): robodoo r+

"
2776434287,pull_request,closed,,[FW][FIX] account: matching rules appliance on branches,"The bank reconciliation widget shouldn't be allowed to work/match more than what's possible through the UI.

Steps to reproduce the bug
* create child company CHILD 1, with an invoice $100
* Create child company CHILD 2 with same parent company, a bank journal and a matching rule to fetch bills/invoices of same amount regardless of any other critera (for simplicity)
* make sure the matching rule is applied 1st, create a bank transacation of $100 in CHILD 2 bank journal
* click reconcile from the dashboard, on CHILD 2 bank journal => you get an access error because Odoo is trying to match invoice from CHILD 1 and bank transaction from CHILD 2

ticket-4384481


---
I confirm I have signed the CLA and read the PR guidelines at www.odoo.com/submit-pr

Forward-Port-Of: odoo/odoo#192507",fw-bot,2025-01-08 22:03:15+00:00,[],2025-01-24 10:43:55+00:00,2025-01-10 10:39:52+00:00,https://github.com/odoo/odoo/pull/192988,"[('RD', 'research & development, internal work'), ('forwardport', 'This PR was created by @fw-bot')]","[{'comment_id': 2578754312, 'issue_id': 2776434287, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/192988.png)](https://mergebot.odoo.com/odoo/odoo/pull/192988)', 'created_at': datetime.datetime(2025, 1, 8, 22, 3, 16, tzinfo=datetime.timezone.utc)}, {'comment_id': 2578754351, 'issue_id': 2776434287, 'author': 'fw-bot', 'body': 'This PR targets 18.0 and is part of the forward-port chain. Further PRs will be created up to master.\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 8, 22, 3, 17, tzinfo=datetime.timezone.utc)}, {'comment_id': 2578881764, 'issue_id': 2776434287, 'author': 'fw-bot', 'body': '@qdp-odoo @epictete the next pull request (odoo/odoo#192992) is in conflict. You can merge the chain up to here by saying\n> @robodoo r+\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 8, 23, 36, 44, tzinfo=datetime.timezone.utc)}, {'comment_id': 2582063009, 'issue_id': 2776434287, 'author': 'qdp-odoo', 'body': '@robodoo r+', 'created_at': datetime.datetime(2025, 1, 10, 8, 38, 4, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-08 22:03:16 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/192988.png)](https://mergebot.odoo.com/odoo/odoo/pull/192988)

fw-bot (Issue Creator) on (2025-01-08 22:03:17 UTC): This PR targets 18.0 and is part of the forward-port chain. Further PRs will be created up to master.

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

fw-bot (Issue Creator) on (2025-01-08 23:36:44 UTC): @qdp-odoo @epictete the next pull request (odoo/odoo#192992) is in conflict. You can merge the chain up to here by saying

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

qdp-odoo on (2025-01-10 08:38:04 UTC): @robodoo r+

"
2776431568,pull_request,open,,[POC] contextual translations,,Polymorphe57,2025-01-08 22:01:19+00:00,[],2025-01-16 08:49:07+00:00,,https://github.com/odoo/odoo/pull/192987,"[('RD', 'research & development, internal work')]","[{'comment_id': 2578749805, 'issue_id': 2776431568, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/192987.png)](https://mergebot.odoo.com/odoo/odoo/pull/192987)', 'created_at': datetime.datetime(2025, 1, 8, 22, 1, 22, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-08 22:01:22 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/192987.png)](https://mergebot.odoo.com/odoo/odoo/pull/192987)

"
2776392644,pull_request,closed,,[FW][FIX] point_of_sale: add default logs location fallback to IoT log do…,"…wnload

Current behavior before PR:
 When using the ""Download logs"" button, from the IoT box form view, an Internal Server Error is raised every time.
```py
Internal Server Error : Log file configuration is not set
```

Description of the issue/feature this PR addresses:
New IoT Box images are missing the default `logfile` parameter in their config. This parameter is required for log downloading, and cannot be left empty.

The `logfile` parameter has been removed from the `odoo.conf` config file in PR #169633. However, it is still explicitly mentioned as `/var/log/odoo/odoo-server.log` in two other files: https://github.com/odoo/odoo/blob/451a956a22015034b8c35bd0d9a860b78442af7f/addons/hw_posbox_homepage/controllers/homepage.py#L74 and
https://github.com/odoo/odoo/blob/451a956a22015034b8c35bd0d9a860b78442af7f/addons/point_of_sale/tools/posbox/overwrite_before_init/etc/init_posbox_image.sh#L28 As such, a fallback to the default `/var/log/odoo/odoo-server.log` is added.

Desired behavior after PR is merged:
The Logs can be downloaded from the IoT box form view without receiving an Internal Server Error.

opw-4443593

---
I confirm I have signed the CLA and read the PR guidelines at www.odoo.com/submit-pr

Forward-Port-Of: odoo/odoo#192922
Forward-Port-Of: odoo/odoo#192867",fw-bot,2025-01-08 21:34:31+00:00,[],2025-01-31 12:57:40+00:00,2025-01-17 12:55:46+00:00,https://github.com/odoo/odoo/pull/192986,"[('OE', 'the report is linked to a support ticket (opw-...)'), ('forwardport', 'This PR was created by @fw-bot')]","[{'comment_id': 2578711750, 'issue_id': 2776392644, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/192986.png)](https://mergebot.odoo.com/odoo/odoo/pull/192986)', 'created_at': datetime.datetime(2025, 1, 8, 21, 34, 33, tzinfo=datetime.timezone.utc)}, {'comment_id': 2578711764, 'issue_id': 2776392644, 'author': 'fw-bot', 'body': 'This PR targets 18.0 and is part of the forward-port chain. Further PRs will be created up to master.\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 8, 21, 34, 33, tzinfo=datetime.timezone.utc)}, {'comment_id': 2578779148, 'issue_id': 2776392644, 'author': 'fw-bot', 'body': '@vise-odoo @Ysoroko ci/runbot failed on this forward-port PR', 'created_at': datetime.datetime(2025, 1, 8, 22, 17, 47, tzinfo=datetime.timezone.utc)}, {'comment_id': 2585541700, 'issue_id': 2776392644, 'author': 'fw-bot', 'body': '@vise-odoo @Ysoroko this forward port of odoo/odoo#192867 is awaiting action (not merged or closed).', 'created_at': datetime.datetime(2025, 1, 12, 2, 1, 15, tzinfo=datetime.timezone.utc)}, {'comment_id': 2586046030, 'issue_id': 2776392644, 'author': 'fw-bot', 'body': '@vise-odoo @Ysoroko this forward port of odoo/odoo#192867 is awaiting action (not merged or closed).', 'created_at': datetime.datetime(2025, 1, 13, 2, 1, 27, tzinfo=datetime.timezone.utc)}, {'comment_id': 2588618527, 'issue_id': 2776392644, 'author': 'fw-bot', 'body': '@vise-odoo @Ysoroko this forward port of odoo/odoo#192867 is awaiting action (not merged or closed).', 'created_at': datetime.datetime(2025, 1, 14, 2, 1, 8, tzinfo=datetime.timezone.utc)}, {'comment_id': 2591478120, 'issue_id': 2776392644, 'author': 'fw-bot', 'body': '@vise-odoo @Ysoroko this forward port of odoo/odoo#192867 is awaiting action (not merged or closed).', 'created_at': datetime.datetime(2025, 1, 15, 2, 1, 20, tzinfo=datetime.timezone.utc)}, {'comment_id': 2592469565, 'issue_id': 2776392644, 'author': 'fw-bot', 'body': '@vise-odoo @Ysoroko ci/runbot failed on this forward-port PR', 'created_at': datetime.datetime(2025, 1, 15, 11, 37, 9, tzinfo=datetime.timezone.utc)}, {'comment_id': 2592563640, 'issue_id': 2776392644, 'author': 'Ysoroko', 'body': '@vise-odoo could you rebase and repush this please?', 'created_at': datetime.datetime(2025, 1, 15, 12, 0, 37, tzinfo=datetime.timezone.utc)}, {'comment_id': 2592579886, 'issue_id': 2776392644, 'author': 'fw-bot', 'body': '@vise-odoo @Ysoroko this PR was modified / updated and has become a normal PR. It must be merged directly.', 'created_at': datetime.datetime(2025, 1, 15, 12, 3, 31, tzinfo=datetime.timezone.utc)}, {'comment_id': 2594312976, 'issue_id': 2776392644, 'author': 'fw-bot', 'body': '@vise-odoo @Ysoroko this forward port of odoo/odoo#192867 is awaiting action (not merged or closed).', 'created_at': datetime.datetime(2025, 1, 16, 2, 1, 1, tzinfo=datetime.timezone.utc)}, {'comment_id': 2597277992, 'issue_id': 2776392644, 'author': 'fw-bot', 'body': '@vise-odoo @Ysoroko this forward port of odoo/odoo#192867 is awaiting action (not merged or closed).', 'created_at': datetime.datetime(2025, 1, 17, 2, 0, 57, tzinfo=datetime.timezone.utc)}, {'comment_id': 2597912907, 'issue_id': 2776392644, 'author': 'Ysoroko', 'body': '@robodoo r+', 'created_at': datetime.datetime(2025, 1, 17, 10, 24, 24, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-08 21:34:33 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/192986.png)](https://mergebot.odoo.com/odoo/odoo/pull/192986)

fw-bot (Issue Creator) on (2025-01-08 21:34:33 UTC): This PR targets 18.0 and is part of the forward-port chain. Further PRs will be created up to master.

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

fw-bot (Issue Creator) on (2025-01-08 22:17:47 UTC): @vise-odoo @Ysoroko ci/runbot failed on this forward-port PR

fw-bot (Issue Creator) on (2025-01-12 02:01:15 UTC): @vise-odoo @Ysoroko this forward port of odoo/odoo#192867 is awaiting action (not merged or closed).

fw-bot (Issue Creator) on (2025-01-13 02:01:27 UTC): @vise-odoo @Ysoroko this forward port of odoo/odoo#192867 is awaiting action (not merged or closed).

fw-bot (Issue Creator) on (2025-01-14 02:01:08 UTC): @vise-odoo @Ysoroko this forward port of odoo/odoo#192867 is awaiting action (not merged or closed).

fw-bot (Issue Creator) on (2025-01-15 02:01:20 UTC): @vise-odoo @Ysoroko this forward port of odoo/odoo#192867 is awaiting action (not merged or closed).

fw-bot (Issue Creator) on (2025-01-15 11:37:09 UTC): @vise-odoo @Ysoroko ci/runbot failed on this forward-port PR

Ysoroko on (2025-01-15 12:00:37 UTC): @vise-odoo could you rebase and repush this please?

fw-bot (Issue Creator) on (2025-01-15 12:03:31 UTC): @vise-odoo @Ysoroko this PR was modified / updated and has become a normal PR. It must be merged directly.

fw-bot (Issue Creator) on (2025-01-16 02:01:01 UTC): @vise-odoo @Ysoroko this forward port of odoo/odoo#192867 is awaiting action (not merged or closed).

fw-bot (Issue Creator) on (2025-01-17 02:00:57 UTC): @vise-odoo @Ysoroko this forward port of odoo/odoo#192867 is awaiting action (not merged or closed).

Ysoroko on (2025-01-17 10:24:24 UTC): @robodoo r+

"
2776391714,pull_request,closed,,[FW][FIX] purchase_requisition: remove existing currency rate in tests,"This commit removes the existing currency rate before creating the new ones as there is a unicity constrains on the currency rate date.

runbot-error: 111437

Description of the issue/feature this PR addresses:

Current behavior before PR:

Desired behavior after PR is merged:




---
I confirm I have signed the CLA and read the PR guidelines at www.odoo.com/submit-pr

Forward-Port-Of: odoo/odoo#192831",fw-bot,2025-01-08 21:33:56+00:00,[],2025-01-24 13:57:13+00:00,2025-01-10 13:54:44+00:00,https://github.com/odoo/odoo/pull/192985,"[('RD', 'research & development, internal work'), ('forwardport', 'This PR was created by @fw-bot'), ('18.2', None)]","[{'comment_id': 2578710926, 'issue_id': 2776391714, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/192985.png)](https://mergebot.odoo.com/odoo/odoo/pull/192985)', 'created_at': datetime.datetime(2025, 1, 8, 21, 33, 57, tzinfo=datetime.timezone.utc)}, {'comment_id': 2578710948, 'issue_id': 2776391714, 'author': 'fw-bot', 'body': '@Whenrow @amoyaux this PR targets master and is the last of the forward-port chain containing:\n* odoo/odoo#192978\n* odoo/odoo#192966\n* odoo/odoo#192956\n* odoo/odoo#192937\n* odoo/odoo#192902\n\nTo merge the full chain, use\n> @robodoo r+\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 8, 21, 33, 58, tzinfo=datetime.timezone.utc)}, {'comment_id': 2578782614, 'issue_id': 2776391714, 'author': 'fw-bot', 'body': '@Whenrow @amoyaux ci/runbot failed on this forward-port PR', 'created_at': datetime.datetime(2025, 1, 8, 22, 20, 33, tzinfo=datetime.timezone.utc)}, {'comment_id': 2582314810, 'issue_id': 2776391714, 'author': 'Whenrow', 'body': 'robodoo r+', 'created_at': datetime.datetime(2025, 1, 10, 10, 29, 16, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-08 21:33:57 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/192985.png)](https://mergebot.odoo.com/odoo/odoo/pull/192985)

fw-bot (Issue Creator) on (2025-01-08 21:33:58 UTC): @Whenrow @amoyaux this PR targets master and is the last of the forward-port chain containing:
* odoo/odoo#192978
* odoo/odoo#192966
* odoo/odoo#192956
* odoo/odoo#192937
* odoo/odoo#192902

To merge the full chain, use

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

fw-bot (Issue Creator) on (2025-01-08 22:20:33 UTC): @Whenrow @amoyaux ci/runbot failed on this forward-port PR

Whenrow on (2025-01-10 10:29:16 UTC): robodoo r+

"
2776382986,pull_request,closed,,"[FW][FIX] account,l10n_sa_edi: tax values filter overwrite","When exporting a SA E-invoice file, the system needs to collect
invoice line without downpayment lines. However, when collecting tax
values, because of an error correction mechanism, the tax amount will
still include the amount of the downpayment tax line

Steps to reproduce (with SA localization installed and SA company):
- Create a SO of 1000$ with 15% tax
- Make a downpayment of 100$ with 15% tax and confirm
- Make the final invoice with downpayment deducted
- Confirm and send e-invoice for validation

Issue: The invoice is validated, but a warning is logged
```
Invoice was Accepted by ZATCA (with Warnings)
The invoice was accepted by ZATCA, but returned warnings. Please, check the response below:

BR-CO-17: VAT category tax amount (BT-117) = VAT category taxable amount (BT-116) x (VAT category rate (BT-119) / 100), rounded to two decimals.
BR-S-09: The VAT category tax amount (BT-117) in a VAT breakdown (BG-23) where VAT category code (BT-118) is Standard rated shall equal the VAT category taxable amount (BT-116) multiplied by the VAT category rate (BT-119).
```

As the warning states the is an issue with the tax computation.
When collecting amounts from the final invoice, we should
filter out downpayment amounts, but due to the error correction
mechanism introduced to account for manual modification of the journal
items, the filter is ignored, so we will have the filtered base amount
(1000) and the unfiltered tax amount (135 instead of 150)

A possible solution is to avoid the error correction when we know we
need to filter invoice lines

opw-4380798

Forward-Port-Of: odoo/odoo#192596
Forward-Port-Of: odoo/odoo#191867",fw-bot,2025-01-08 21:28:11+00:00,[],2025-02-03 22:25:00+00:00,2025-01-20 21:48:34+00:00,https://github.com/odoo/odoo/pull/192984,"[('OE', 'the report is linked to a support ticket (opw-...)'), ('forwardport', 'This PR was created by @fw-bot'), ('conflict', 'There was an error while creating this forward-port PR')]","[{'comment_id': 2578702796, 'issue_id': 2776382986, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/192984.png)](https://mergebot.odoo.com/odoo/odoo/pull/192984)', 'created_at': datetime.datetime(2025, 1, 8, 21, 28, 12, tzinfo=datetime.timezone.utc)}, {'comment_id': 2578702841, 'issue_id': 2776382986, 'author': 'fw-bot', 'body': '@agr-odoo @jco-odoo cherrypicking of pull request odoo/odoo#191867 failed.\n\nstdout:\n```\nAuto-merging addons/account/models/account_move.py\nCONFLICT (content): Merge conflict in addons/account/models/account_move.py\nAuto-merging addons/l10n_sa_edi/models/account_move.py\nAuto-merging addons/l10n_sa_edi/tests/test_edi_zatca.py\n\n```\n\nEither perform the forward-port manually (and push to this branch, proceeding as usual) or close this PR (maybe?).\n\nIn the former case, you may want to edit this PR message as well.\n\n:warning: after resolving this conflict, you will need to merge it via @robodoo.\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 8, 21, 28, 14, tzinfo=datetime.timezone.utc)}, {'comment_id': 2581587516, 'issue_id': 2776382986, 'author': 'fw-bot', 'body': '@agr-odoo @jco-odoo this forward port of odoo/odoo#191867 is awaiting action (not merged or closed).', 'created_at': datetime.datetime(2025, 1, 10, 2, 1, 40, tzinfo=datetime.timezone.utc)}, {'comment_id': 2582136666, 'issue_id': 2776382986, 'author': 'agr-odoo', 'body': '@jco-odoo \r\nThis PR was adapted to the new methods in `account.move`\r\nCould you please double check it?', 'created_at': datetime.datetime(2025, 1, 10, 9, 13, 59, tzinfo=datetime.timezone.utc)}, {'comment_id': 2585000369, 'issue_id': 2776382986, 'author': 'fw-bot', 'body': '@agr-odoo @jco-odoo this forward port of odoo/odoo#191867 is awaiting action (not merged or closed).', 'created_at': datetime.datetime(2025, 1, 11, 2, 1, 22, tzinfo=datetime.timezone.utc)}, {'comment_id': 2585541829, 'issue_id': 2776382986, 'author': 'fw-bot', 'body': '@agr-odoo @jco-odoo this forward port of odoo/odoo#191867 is awaiting action (not merged or closed).', 'created_at': datetime.datetime(2025, 1, 12, 2, 1, 44, tzinfo=datetime.timezone.utc)}, {'comment_id': 2586046798, 'issue_id': 2776382986, 'author': 'fw-bot', 'body': '@agr-odoo @jco-odoo this forward port of odoo/odoo#191867 is awaiting action (not merged or closed).', 'created_at': datetime.datetime(2025, 1, 13, 2, 2, 11, tzinfo=datetime.timezone.utc)}, {'comment_id': 2588619206, 'issue_id': 2776382986, 'author': 'fw-bot', 'body': '@agr-odoo @jco-odoo this forward port of odoo/odoo#191867 is awaiting action (not merged or closed).', 'created_at': datetime.datetime(2025, 1, 14, 2, 1, 40, tzinfo=datetime.timezone.utc)}, {'comment_id': 2591478601, 'issue_id': 2776382986, 'author': 'fw-bot', 'body': '@agr-odoo @jco-odoo this forward port of odoo/odoo#191867 is awaiting action (not merged or closed).', 'created_at': datetime.datetime(2025, 1, 15, 2, 1, 44, tzinfo=datetime.timezone.utc)}, {'comment_id': 2594313361, 'issue_id': 2776382986, 'author': 'fw-bot', 'body': '@agr-odoo @jco-odoo this forward port of odoo/odoo#191867 is awaiting action (not merged or closed).', 'created_at': datetime.datetime(2025, 1, 16, 2, 1, 18, tzinfo=datetime.timezone.utc)}, {'comment_id': 2599468837, 'issue_id': 2776382986, 'author': 'fw-bot', 'body': '@agr-odoo @jco-odoo this forward port of odoo/odoo#191867 is awaiting action (not merged or closed).', 'created_at': datetime.datetime(2025, 1, 18, 2, 1, 19, tzinfo=datetime.timezone.utc)}, {'comment_id': 2602413980, 'issue_id': 2776382986, 'author': 'agr-odoo', 'body': '@jco-odoo \r\nPing, Could you please double this fw port?', 'created_at': datetime.datetime(2025, 1, 20, 13, 20, 56, tzinfo=datetime.timezone.utc)}, {'comment_id': 2602642728, 'issue_id': 2776382986, 'author': 'jco-odoo', 'body': '@agr-odoo It looks good to me.  It should do the same as when there is no rounding adaptation.  The only thing is that the rounding will be different for the invoice with downpayment line, but that was the case in the previous versions as well.', 'created_at': datetime.datetime(2025, 1, 20, 14, 59, 43, tzinfo=datetime.timezone.utc)}, {'comment_id': 2602695043, 'issue_id': 2776382986, 'author': 'agr-odoo', 'body': '@robodoo r+', 'created_at': datetime.datetime(2025, 1, 20, 15, 22, 11, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-08 21:28:12 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/192984.png)](https://mergebot.odoo.com/odoo/odoo/pull/192984)

fw-bot (Issue Creator) on (2025-01-08 21:28:14 UTC): @agr-odoo @jco-odoo cherrypicking of pull request odoo/odoo#191867 failed.

stdout:
```
Auto-merging addons/account/models/account_move.py
CONFLICT (content): Merge conflict in addons/account/models/account_move.py
Auto-merging addons/l10n_sa_edi/models/account_move.py
Auto-merging addons/l10n_sa_edi/tests/test_edi_zatca.py

```

Either perform the forward-port manually (and push to this branch, proceeding as usual) or close this PR (maybe?).

In the former case, you may want to edit this PR message as well.

:warning: after resolving this conflict, you will need to merge it via @robodoo.

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

fw-bot (Issue Creator) on (2025-01-10 02:01:40 UTC): @agr-odoo @jco-odoo this forward port of odoo/odoo#191867 is awaiting action (not merged or closed).

agr-odoo on (2025-01-10 09:13:59 UTC): @jco-odoo 
This PR was adapted to the new methods in `account.move`
Could you please double check it?

fw-bot (Issue Creator) on (2025-01-11 02:01:22 UTC): @agr-odoo @jco-odoo this forward port of odoo/odoo#191867 is awaiting action (not merged or closed).

fw-bot (Issue Creator) on (2025-01-12 02:01:44 UTC): @agr-odoo @jco-odoo this forward port of odoo/odoo#191867 is awaiting action (not merged or closed).

fw-bot (Issue Creator) on (2025-01-13 02:02:11 UTC): @agr-odoo @jco-odoo this forward port of odoo/odoo#191867 is awaiting action (not merged or closed).

fw-bot (Issue Creator) on (2025-01-14 02:01:40 UTC): @agr-odoo @jco-odoo this forward port of odoo/odoo#191867 is awaiting action (not merged or closed).

fw-bot (Issue Creator) on (2025-01-15 02:01:44 UTC): @agr-odoo @jco-odoo this forward port of odoo/odoo#191867 is awaiting action (not merged or closed).

fw-bot (Issue Creator) on (2025-01-16 02:01:18 UTC): @agr-odoo @jco-odoo this forward port of odoo/odoo#191867 is awaiting action (not merged or closed).

fw-bot (Issue Creator) on (2025-01-18 02:01:19 UTC): @agr-odoo @jco-odoo this forward port of odoo/odoo#191867 is awaiting action (not merged or closed).

agr-odoo on (2025-01-20 13:20:56 UTC): @jco-odoo 
Ping, Could you please double this fw port?

jco-odoo on (2025-01-20 14:59:43 UTC): @agr-odoo It looks good to me.  It should do the same as when there is no rounding adaptation.  The only thing is that the rounding will be different for the invoice with downpayment line, but that was the case in the previous versions as well.

agr-odoo on (2025-01-20 15:22:11 UTC): @robodoo r+

"
2776336530,pull_request,closed,,[FW][FIX] account: Fix quick encoding with reverse charge tax,"Suppose a tax 15% +100 -100.
Use the quick encoding with an amount of 100.0.
=> The base of the created invoice line is 86.96 and the created tax lines are +13.04 -26.08. That's wrong. Both have to produce the same amount.

In 17.0, we get a base of 100 and +15 -15 as tax amounts. In 18.0, we changed the management of reverse charge so the total excluded amount is computed as 100 / 1.15 ~= 86.96.
It produces tax lines computed on 86.96. 86.96 * 0.15 ~= 13.04. But at the end, the quick encoding algorithmn ""fixes"" the tax amount. It expect a total of 100 and it has a missing amount of 100 - 86.96 - 13.04 + 13.04 = 13.04 to reach the objective. So it adds 13.04 in the biggest tax line.

opw-4428842

---
I confirm I have signed the CLA and read the PR guidelines at www.odoo.com/submit-pr

Forward-Port-Of: odoo/odoo#192949",fw-bot,2025-01-08 20:58:03+00:00,[],2025-01-23 13:03:28+00:00,2025-01-09 12:59:05+00:00,https://github.com/odoo/odoo/pull/192983,"[('OE', 'the report is linked to a support ticket (opw-...)'), ('forwardport', 'This PR was created by @fw-bot'), ('18.2', None)]","[{'comment_id': 2578652929, 'issue_id': 2776336530, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/192983.png)](https://mergebot.odoo.com/odoo/odoo/pull/192983)', 'created_at': datetime.datetime(2025, 1, 8, 20, 58, 4, tzinfo=datetime.timezone.utc)}, {'comment_id': 2578652952, 'issue_id': 2776336530, 'author': 'fw-bot', 'body': '@smetl @oco-odoo this PR targets master and is the last of the forward-port chain containing:\n* odoo/odoo#192974\n\nTo merge the full chain, use\n> @robodoo r+\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 8, 20, 58, 5, tzinfo=datetime.timezone.utc)}, {'comment_id': 2579675979, 'issue_id': 2776336530, 'author': 'smetl', 'body': '@robodoo r+', 'created_at': datetime.datetime(2025, 1, 9, 10, 9, 35, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-08 20:58:04 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/192983.png)](https://mergebot.odoo.com/odoo/odoo/pull/192983)

fw-bot (Issue Creator) on (2025-01-08 20:58:05 UTC): @smetl @oco-odoo this PR targets master and is the last of the forward-port chain containing:
* odoo/odoo#192974

To merge the full chain, use

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

smetl on (2025-01-09 10:09:35 UTC): @robodoo r+

"
2776325325,pull_request,closed,,[FW][FIX] base: fix access error to currencies when in child company,"Steps to reproduce (db with Accounting installed):
- create a child company
- give a user (e.g. Marc Demo) access to the child company, set
their ""Accounting"" rights to ""Accountant"" and ""Administration"" to None.
- log as this user and select only the child company in the company
selector.
- try to access ""Accounting/Configuration/Accounting/Currencies""
-> Access Error

It is happening as in the `res.currency` model, several methods try to
access the root company, but there's only the child company in
`allowed_company_ids` from the context.

The fix here is to:
1) When accessing the root company in order the get its currency, just
access the currency of the child company, as it is the same.
2) Use sudo when accessing other fields from the root company.

opw-4352595

Forward-Port-Of: odoo/odoo#192632",fw-bot,2025-01-08 20:51:09+00:00,[],2025-01-28 17:05:28+00:00,2025-01-14 16:41:24+00:00,https://github.com/odoo/odoo/pull/192982,"[('OE', 'the report is linked to a support ticket (opw-...)'), ('forwardport', 'This PR was created by @fw-bot'), ('conflict', 'There was an error while creating this forward-port PR')]","[{'comment_id': 2578640896, 'issue_id': 2776325325, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/192982.png)](https://mergebot.odoo.com/odoo/odoo/pull/192982)', 'created_at': datetime.datetime(2025, 1, 8, 20, 51, 10, tzinfo=datetime.timezone.utc)}, {'comment_id': 2578640968, 'issue_id': 2776325325, 'author': 'fw-bot', 'body': '@Arnaud-Sibille @william-andre cherrypicking of pull request odoo/odoo#192632 failed.\n\nstdout:\n```\nAuto-merging odoo/addons/base/models/res_currency.py\nCONFLICT (content): Merge conflict in odoo/addons/base/models/res_currency.py\n\n```\n\nEither perform the forward-port manually (and push to this branch, proceeding as usual) or close this PR (maybe?).\n\nIn the former case, you may want to edit this PR message as well.\n\n:warning: after resolving this conflict, you will need to merge it via @robodoo.\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 8, 20, 51, 12, tzinfo=datetime.timezone.utc)}, {'comment_id': 2585541721, 'issue_id': 2776325325, 'author': 'fw-bot', 'body': '@Arnaud-Sibille @william-andre this forward port of odoo/odoo#192632 is awaiting action (not merged or closed).', 'created_at': datetime.datetime(2025, 1, 12, 2, 1, 20, tzinfo=datetime.timezone.utc)}, {'comment_id': 2586046112, 'issue_id': 2776325325, 'author': 'fw-bot', 'body': '@Arnaud-Sibille @william-andre this forward port of odoo/odoo#192632 is awaiting action (not merged or closed).', 'created_at': datetime.datetime(2025, 1, 13, 2, 1, 33, tzinfo=datetime.timezone.utc)}, {'comment_id': 2587667481, 'issue_id': 2776325325, 'author': 'william-andre', 'body': '@robodoo r+', 'created_at': datetime.datetime(2025, 1, 13, 16, 57, tzinfo=datetime.timezone.utc)}, {'comment_id': 2587734918, 'issue_id': 2776325325, 'author': 'robodoo', 'body': ""@Arnaud-Sibille @william-andre 'ci/runbot' failed on this reviewed PR."", 'created_at': datetime.datetime(2025, 1, 13, 17, 25, 49, tzinfo=datetime.timezone.utc)}, {'comment_id': 2587740422, 'issue_id': 2776325325, 'author': 'robodoo', 'body': ""@Arnaud-Sibille @william-andre 'ci/upgrade_enterprise' failed on this reviewed PR."", 'created_at': datetime.datetime(2025, 1, 13, 17, 28, 14, tzinfo=datetime.timezone.utc)}, {'comment_id': 2588618684, 'issue_id': 2776325325, 'author': 'fw-bot', 'body': '@Arnaud-Sibille @william-andre this forward port of odoo/odoo#192632 is awaiting action (not merged or closed).', 'created_at': datetime.datetime(2025, 1, 14, 2, 1, 16, tzinfo=datetime.timezone.utc)}, {'comment_id': 2589514156, 'issue_id': 2776325325, 'author': 'william-andre', 'body': '@robodoo r+', 'created_at': datetime.datetime(2025, 1, 14, 10, 12, 47, tzinfo=datetime.timezone.utc)}, {'comment_id': 2589952001, 'issue_id': 2776325325, 'author': 'robodoo', 'body': '@Arnaud-Sibille @william-andre staging failed: ci/upgrade_enterprise on 192e6c63253edddd6b9ca510540233a44f4dfc2d (view more at https://runbot.odoo.com/runbot/build/73332654)', 'created_at': datetime.datetime(2025, 1, 14, 13, 46, 10, tzinfo=datetime.timezone.utc)}, {'comment_id': 2589984125, 'issue_id': 2776325325, 'author': 'william-andre', 'body': '@robodoo r+', 'created_at': datetime.datetime(2025, 1, 14, 13, 54, 56, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-08 20:51:10 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/192982.png)](https://mergebot.odoo.com/odoo/odoo/pull/192982)

fw-bot (Issue Creator) on (2025-01-08 20:51:12 UTC): @Arnaud-Sibille @william-andre cherrypicking of pull request odoo/odoo#192632 failed.

stdout:
```
Auto-merging odoo/addons/base/models/res_currency.py
CONFLICT (content): Merge conflict in odoo/addons/base/models/res_currency.py

```

Either perform the forward-port manually (and push to this branch, proceeding as usual) or close this PR (maybe?).

In the former case, you may want to edit this PR message as well.

:warning: after resolving this conflict, you will need to merge it via @robodoo.

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

fw-bot (Issue Creator) on (2025-01-12 02:01:20 UTC): @Arnaud-Sibille @william-andre this forward port of odoo/odoo#192632 is awaiting action (not merged or closed).

fw-bot (Issue Creator) on (2025-01-13 02:01:33 UTC): @Arnaud-Sibille @william-andre this forward port of odoo/odoo#192632 is awaiting action (not merged or closed).

william-andre on (2025-01-13 16:57:00 UTC): @robodoo r+

robodoo on (2025-01-13 17:25:49 UTC): @Arnaud-Sibille @william-andre 'ci/runbot' failed on this reviewed PR.

robodoo on (2025-01-13 17:28:14 UTC): @Arnaud-Sibille @william-andre 'ci/upgrade_enterprise' failed on this reviewed PR.

fw-bot (Issue Creator) on (2025-01-14 02:01:16 UTC): @Arnaud-Sibille @william-andre this forward port of odoo/odoo#192632 is awaiting action (not merged or closed).

william-andre on (2025-01-14 10:12:47 UTC): @robodoo r+

robodoo on (2025-01-14 13:46:10 UTC): @Arnaud-Sibille @william-andre staging failed: ci/upgrade_enterprise on 192e6c63253edddd6b9ca510540233a44f4dfc2d (view more at https://runbot.odoo.com/runbot/build/73332654)

william-andre on (2025-01-14 13:54:56 UTC): @robodoo r+

"
2776319955,pull_request,closed,,[FW][FIX] web: clear changes on urgent save,"Versions
--------
- 17.0+

Steps
-----
1. Download a VoIP provider like Skype or Linphone to open tel:* urls;
2. use a browser that supports this (FireFox works for me, but Chrome doesn't);
3. with Studio, edit the Sales Order form to add the customer phone;
4. create a new Sales Order with one order line;
5. save the form;
6. add a second line;
7. click on the phone number to start the VoIP app;
8. save the Sales Order form.

Issue
-----
The 2nd line is duplicated.

Cause
-----
Starting VoIP initiates an ""urgent"" web save, saving the first time. Usually this only happens when leaving the page, so it doesn't clear the changes to be saved.

In this scenario however, we remain on the page, and the changes are saved again when clicking the save button.

Solution
--------
Clear the saved changes if the urgent save succeeded.

opw-4308954

Forward-Port-Of: odoo/odoo#192517",fw-bot,2025-01-08 20:47:54+00:00,[],2025-01-23 02:30:01+00:00,2025-01-09 02:15:56+00:00,https://github.com/odoo/odoo/pull/192981,"[('OE', 'the report is linked to a support ticket (opw-...)'), ('forwardport', 'This PR was created by @fw-bot')]","[{'comment_id': 2578635341, 'issue_id': 2776319955, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/192981.png)](https://mergebot.odoo.com/odoo/odoo/pull/192981)', 'created_at': datetime.datetime(2025, 1, 8, 20, 47, 55, tzinfo=datetime.timezone.utc)}, {'comment_id': 2578635359, 'issue_id': 2776319955, 'author': 'fw-bot', 'body': 'This PR targets saas-17.2 and is part of the forward-port chain. Further PRs will be created up to master.\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 8, 20, 47, 56, tzinfo=datetime.timezone.utc)}, {'comment_id': 2578769960, 'issue_id': 2776319955, 'author': 'fw-bot', 'body': '@lvsz @aab-odoo the next pull request (odoo/odoo#192989) is in conflict. You can merge the chain up to here by saying\n> @robodoo r+\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 8, 22, 10, 38, tzinfo=datetime.timezone.utc)}, {'comment_id': 2578899226, 'issue_id': 2776319955, 'author': 'lvsz', 'body': '@robodoo r+', 'created_at': datetime.datetime(2025, 1, 8, 23, 52, 14, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-08 20:47:55 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/192981.png)](https://mergebot.odoo.com/odoo/odoo/pull/192981)

fw-bot (Issue Creator) on (2025-01-08 20:47:56 UTC): This PR targets saas-17.2 and is part of the forward-port chain. Further PRs will be created up to master.

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

fw-bot (Issue Creator) on (2025-01-08 22:10:38 UTC): @lvsz @aab-odoo the next pull request (odoo/odoo#192989) is in conflict. You can merge the chain up to here by saying

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

lvsz on (2025-01-08 23:52:14 UTC): @robodoo r+

"
2776319518,pull_request,closed,,[FW][IMP] point_of_sale: image configuration for camera drivers,"As we updated the camera interface's logic, we need to add the new library to the IoT Box image. We also removed the python lib patching part, as it was only used by the old camera detection logic.

Enterprise PR: [https://github.com/odoo/enterprise/pull/76511](https://github.com/odoo/enterprise/pull/76511)
Task: 4432584

Forward-Port-Of: odoo/odoo#192449",fw-bot,2025-01-08 20:47:36+00:00,[],2025-01-23 08:37:53+00:00,2025-01-09 08:34:19+00:00,https://github.com/odoo/odoo/pull/192980,"[('RD', 'research & development, internal work'), ('forwardport', 'This PR was created by @fw-bot')]","[{'comment_id': 2578634927, 'issue_id': 2776319518, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/192980.png)](https://mergebot.odoo.com/odoo/odoo/pull/192980)', 'created_at': datetime.datetime(2025, 1, 8, 20, 47, 39, tzinfo=datetime.timezone.utc)}, {'comment_id': 2578634959, 'issue_id': 2776319518, 'author': 'fw-bot', 'body': 'This PR targets saas-17.2 and is part of the forward-port chain. Further PRs will be created up to master.\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 8, 20, 47, 40, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-08 20:47:39 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/192980.png)](https://mergebot.odoo.com/odoo/odoo/pull/192980)

fw-bot (Issue Creator) on (2025-01-08 20:47:40 UTC): This PR targets saas-17.2 and is part of the forward-port chain. Further PRs will be created up to master.

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

"
2776302237,pull_request,closed,,[FW][FIX] account: matching rules appliance on branches,"The bank reconciliation widget shouldn't be allowed to work/match more than what's possible through the UI.

Steps to reproduce the bug
* create child company CHILD 1, with an invoice $100
* Create child company CHILD 2 with same parent company, a bank journal and a matching rule to fetch bills/invoices of same amount regardless of any other critera (for simplicity)
* make sure the matching rule is applied 1st, create a bank transacation of $100 in CHILD 2 bank journal
* click reconcile from the dashboard, on CHILD 2 bank journal => you get an access error because Odoo is trying to match invoice from CHILD 1 and bank transaction from CHILD 2

ticket-4384481


---
I confirm I have signed the CLA and read the PR guidelines at www.odoo.com/submit-pr

Forward-Port-Of: odoo/odoo#192507",fw-bot,2025-01-08 20:38:31+00:00,[],2025-01-24 12:11:17+00:00,2025-01-10 11:53:13+00:00,https://github.com/odoo/odoo/pull/192979,"[('RD', 'research & development, internal work'), ('forwardport', 'This PR was created by @fw-bot')]","[{'comment_id': 2578616083, 'issue_id': 2776302237, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/192979.png)](https://mergebot.odoo.com/odoo/odoo/pull/192979)', 'created_at': datetime.datetime(2025, 1, 8, 20, 38, 32, tzinfo=datetime.timezone.utc)}, {'comment_id': 2578616102, 'issue_id': 2776302237, 'author': 'fw-bot', 'body': 'This PR targets saas-17.4 and is part of the forward-port chain. Further PRs will be created up to master.\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 8, 20, 38, 32, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-08 20:38:32 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/192979.png)](https://mergebot.odoo.com/odoo/odoo/pull/192979)

fw-bot (Issue Creator) on (2025-01-08 20:38:32 UTC): This PR targets saas-17.4 and is part of the forward-port chain. Further PRs will be created up to master.

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

"
2776245175,pull_request,closed,,[FW][FIX] purchase_requisition: remove existing currency rate in tests,"This commit removes the existing currency rate before creating the new ones as there is a unicity constrains on the currency rate date.

runbot-error: 111437

Description of the issue/feature this PR addresses:

Current behavior before PR:

Desired behavior after PR is merged:




---
I confirm I have signed the CLA and read the PR guidelines at www.odoo.com/submit-pr

Forward-Port-Of: odoo/odoo#192831",fw-bot,2025-01-08 20:11:40+00:00,[],2025-01-24 12:11:30+00:00,2025-01-10 12:01:48+00:00,https://github.com/odoo/odoo/pull/192978,"[('RD', 'research & development, internal work'), ('forwardport', 'This PR was created by @fw-bot')]","[{'comment_id': 2578557554, 'issue_id': 2776245175, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/192978.png)](https://mergebot.odoo.com/odoo/odoo/pull/192978)', 'created_at': datetime.datetime(2025, 1, 8, 20, 11, 41, tzinfo=datetime.timezone.utc)}, {'comment_id': 2578557675, 'issue_id': 2776245175, 'author': 'fw-bot', 'body': 'This PR targets saas-18.1 and is part of the forward-port chain. Further PRs will be created up to master.\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 8, 20, 11, 42, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-08 20:11:41 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/192978.png)](https://mergebot.odoo.com/odoo/odoo/pull/192978)

fw-bot (Issue Creator) on (2025-01-08 20:11:42 UTC): This PR targets saas-18.1 and is part of the forward-port chain. Further PRs will be created up to master.

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

"
2776241840,pull_request,closed,,[FW][FIX] point_of_sale: kitchen receipt long name,"When printing long product names with long variants, the lines were overlapping.

Steps to reproduce:
-------------------
* Create a product with some long variant names
* Setup a kitchen printer
* Add the order to a PoS order
* Print the order on the kitchen printer
> Observation: The product name and variant name are overlapping

Before:
![before](https://github.com/user-attachments/assets/d16022b0-4f87-48aa-adc4-1c246b173431)


After:
![after](https://github.com/user-attachments/assets/495632de-e4d2-424c-b19d-fb386a3eb356)


opw-4414311

Forward-Port-Of: odoo/odoo#192810
Forward-Port-Of: odoo/odoo#192544",fw-bot,2025-01-08 20:09:43+00:00,[],2025-01-23 13:03:28+00:00,2025-01-09 12:59:01+00:00,https://github.com/odoo/odoo/pull/192977,"[('OE', 'the report is linked to a support ticket (opw-...)'), ('forwardport', 'This PR was created by @fw-bot'), ('18.2', None)]","[{'comment_id': 2578553817, 'issue_id': 2776241840, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/192977.png)](https://mergebot.odoo.com/odoo/odoo/pull/192977)', 'created_at': datetime.datetime(2025, 1, 8, 20, 9, 44, tzinfo=datetime.timezone.utc)}, {'comment_id': 2578553837, 'issue_id': 2776241840, 'author': 'fw-bot', 'body': '@robinengels @adgu-odoo this PR targets master and is the last of the forward-port chain.\n\nTo merge the full chain, use\n> @robodoo r+\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 8, 20, 9, 45, tzinfo=datetime.timezone.utc)}, {'comment_id': 2579641193, 'issue_id': 2776241840, 'author': 'robinengels', 'body': '@robodoo r+', 'created_at': datetime.datetime(2025, 1, 9, 9, 56, 20, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-08 20:09:44 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/192977.png)](https://mergebot.odoo.com/odoo/odoo/pull/192977)

fw-bot (Issue Creator) on (2025-01-08 20:09:45 UTC): @robinengels @adgu-odoo this PR targets master and is the last of the forward-port chain.

To merge the full chain, use

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

robinengels on (2025-01-09 09:56:20 UTC): @robodoo r+

"
2776240559,pull_request,closed,,[FW][FIX] point_of_sale: add default logs location fallback to IoT log do…,"…wnload

Current behavior before PR:
 When using the ""Download logs"" button, from the IoT box form view, an Internal Server Error is raised every time.
```py
Internal Server Error : Log file configuration is not set
```

Description of the issue/feature this PR addresses:
New IoT Box images are missing the default `logfile` parameter in their config. This parameter is required for log downloading, and cannot be left empty.

The `logfile` parameter has been removed from the `odoo.conf` config file in PR #169633. However, it is still explicitly mentioned as `/var/log/odoo/odoo-server.log` in two other files: https://github.com/odoo/odoo/blob/451a956a22015034b8c35bd0d9a860b78442af7f/addons/hw_posbox_homepage/controllers/homepage.py#L74 and
https://github.com/odoo/odoo/blob/451a956a22015034b8c35bd0d9a860b78442af7f/addons/point_of_sale/tools/posbox/overwrite_before_init/etc/init_posbox_image.sh#L28 As such, a fallback to the default `/var/log/odoo/odoo-server.log` is added.

Desired behavior after PR is merged:
The Logs can be downloaded from the IoT box form view without receiving an Internal Server Error.

opw-4443593

---
I confirm I have signed the CLA and read the PR guidelines at www.odoo.com/submit-pr

Forward-Port-Of: odoo/odoo#192922
Forward-Port-Of: odoo/odoo#192867",fw-bot,2025-01-08 20:08:54+00:00,[],2025-01-30 11:01:02+00:00,2025-01-16 10:32:00+00:00,https://github.com/odoo/odoo/pull/192976,"[('OE', 'the report is linked to a support ticket (opw-...)'), ('forwardport', 'This PR was created by @fw-bot')]","[{'comment_id': 2578552123, 'issue_id': 2776240559, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/192976.png)](https://mergebot.odoo.com/odoo/odoo/pull/192976)', 'created_at': datetime.datetime(2025, 1, 8, 20, 8, 56, tzinfo=datetime.timezone.utc)}, {'comment_id': 2578552166, 'issue_id': 2776240559, 'author': 'fw-bot', 'body': 'This PR targets saas-17.4 and is part of the forward-port chain. Further PRs will be created up to master.\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 8, 20, 8, 56, tzinfo=datetime.timezone.utc)}, {'comment_id': 2592580095, 'issue_id': 2776240559, 'author': 'fw-bot', 'body': ""@vise-odoo @Ysoroko child PR odoo/odoo#192986 was modified / updated and has become a normal PR. This PR (and any of its parents) will need to be merged independently as approvals won't cross."", 'created_at': datetime.datetime(2025, 1, 15, 12, 3, 33, tzinfo=datetime.timezone.utc)}, {'comment_id': 2594312952, 'issue_id': 2776240559, 'author': 'fw-bot', 'body': '@vise-odoo @Ysoroko this forward port of odoo/odoo#192867 is awaiting action (not merged or closed).', 'created_at': datetime.datetime(2025, 1, 16, 2, 0, 59, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-08 20:08:56 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/192976.png)](https://mergebot.odoo.com/odoo/odoo/pull/192976)

fw-bot (Issue Creator) on (2025-01-08 20:08:56 UTC): This PR targets saas-17.4 and is part of the forward-port chain. Further PRs will be created up to master.

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

fw-bot (Issue Creator) on (2025-01-15 12:03:33 UTC): @vise-odoo @Ysoroko child PR odoo/odoo#192986 was modified / updated and has become a normal PR. This PR (and any of its parents) will need to be merged independently as approvals won't cross.

fw-bot (Issue Creator) on (2025-01-16 02:00:59 UTC): @vise-odoo @Ysoroko this forward port of odoo/odoo#192867 is awaiting action (not merged or closed).

"
2776240116,pull_request,closed,,"[FW][FIX] account,l10n_sa_edi: tax values filter overwrite","When exporting a SA E-invoice file, the system needs to collect
invoice line without downpayment lines. However, when collecting tax
values, because of an error correction mechanism, the tax amount will
still include the amount of the downpayment tax line

Steps to reproduce (with SA localization installed and SA company):
- Create a SO of 1000$ with 15% tax
- Make a downpayment of 100$ with 15% tax and confirm
- Make the final invoice with downpayment deducted
- Confirm and send e-invoice for validation

Issue: The invoice is validated, but a warning is logged
```
Invoice was Accepted by ZATCA (with Warnings)
The invoice was accepted by ZATCA, but returned warnings. Please, check the response below:

BR-CO-17: VAT category tax amount (BT-117) = VAT category taxable amount (BT-116) x (VAT category rate (BT-119) / 100), rounded to two decimals.
BR-S-09: The VAT category tax amount (BT-117) in a VAT breakdown (BG-23) where VAT category code (BT-118) is Standard rated shall equal the VAT category taxable amount (BT-116) multiplied by the VAT category rate (BT-119).
```

As the warning states the is an issue with the tax computation.
When collecting amounts from the final invoice, we should
filter out downpayment amounts, but due to the error correction
mechanism introduced to account for manual modification of the journal
items, the filter is ignored, so we will have the filtered base amount
(1000) and the unfiltered tax amount (135 instead of 150)

A possible solution is to avoid the error correction when we know we
need to filter invoice lines

opw-4380798

Forward-Port-Of: odoo/odoo#192596
Forward-Port-Of: odoo/odoo#191867",fw-bot,2025-01-08 20:08:37+00:00,[],2025-01-24 12:11:20+00:00,2025-01-10 11:53:29+00:00,https://github.com/odoo/odoo/pull/192975,"[('OE', 'the report is linked to a support ticket (opw-...)'), ('forwardport', 'This PR was created by @fw-bot')]","[{'comment_id': 2578550902, 'issue_id': 2776240116, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/192975.png)](https://mergebot.odoo.com/odoo/odoo/pull/192975)', 'created_at': datetime.datetime(2025, 1, 8, 20, 8, 38, tzinfo=datetime.timezone.utc)}, {'comment_id': 2578550930, 'issue_id': 2776240116, 'author': 'fw-bot', 'body': 'This PR targets saas-17.4 and is part of the forward-port chain. Further PRs will be created up to master.\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 8, 20, 8, 39, tzinfo=datetime.timezone.utc)}, {'comment_id': 2578702807, 'issue_id': 2776240116, 'author': 'fw-bot', 'body': '@agr-odoo @jco-odoo the next pull request (odoo/odoo#192984) is in conflict. You can merge the chain up to here by saying\n> @robodoo r+\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 8, 21, 28, 13, tzinfo=datetime.timezone.utc)}, {'comment_id': 2580064737, 'issue_id': 2776240116, 'author': 'fw-bot', 'body': '@agr-odoo @jco-odoo this PR was modified / updated and has become a normal PR. It must be merged directly.', 'created_at': datetime.datetime(2025, 1, 9, 12, 43, 36, tzinfo=datetime.timezone.utc)}, {'comment_id': 2580067105, 'issue_id': 2776240116, 'author': 'agr-odoo', 'body': 'Fixed `testInvoiceWithDownpayment` (silently) failing', 'created_at': datetime.datetime(2025, 1, 9, 12, 44, 51, tzinfo=datetime.timezone.utc)}, {'comment_id': 2581587444, 'issue_id': 2776240116, 'author': 'fw-bot', 'body': '@agr-odoo @jco-odoo this forward port of odoo/odoo#191867 is awaiting action (not merged or closed).', 'created_at': datetime.datetime(2025, 1, 10, 2, 1, 39, tzinfo=datetime.timezone.utc)}, {'comment_id': 2582115664, 'issue_id': 2776240116, 'author': 'agr-odoo', 'body': '@robodoo r+', 'created_at': datetime.datetime(2025, 1, 10, 9, 4, 53, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-08 20:08:38 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/192975.png)](https://mergebot.odoo.com/odoo/odoo/pull/192975)

fw-bot (Issue Creator) on (2025-01-08 20:08:39 UTC): This PR targets saas-17.4 and is part of the forward-port chain. Further PRs will be created up to master.

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

fw-bot (Issue Creator) on (2025-01-08 21:28:13 UTC): @agr-odoo @jco-odoo the next pull request (odoo/odoo#192984) is in conflict. You can merge the chain up to here by saying

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

fw-bot (Issue Creator) on (2025-01-09 12:43:36 UTC): @agr-odoo @jco-odoo this PR was modified / updated and has become a normal PR. It must be merged directly.

agr-odoo on (2025-01-09 12:44:51 UTC): Fixed `testInvoiceWithDownpayment` (silently) failing

fw-bot (Issue Creator) on (2025-01-10 02:01:39 UTC): @agr-odoo @jco-odoo this forward port of odoo/odoo#191867 is awaiting action (not merged or closed).

agr-odoo on (2025-01-10 09:04:53 UTC): @robodoo r+

"
2776165269,pull_request,closed,,[FW][FIX] account: Fix quick encoding with reverse charge tax,"Suppose a tax 15% +100 -100.
Use the quick encoding with an amount of 100.0.
=> The base of the created invoice line is 86.96 and the created tax lines are +13.04 -26.08. That's wrong. Both have to produce the same amount.

In 17.0, we get a base of 100 and +15 -15 as tax amounts. In 18.0, we changed the management of reverse charge so the total excluded amount is computed as 100 / 1.15 ~= 86.96.
It produces tax lines computed on 86.96. 86.96 * 0.15 ~= 13.04. But at the end, the quick encoding algorithmn ""fixes"" the tax amount. It expect a total of 100 and it has a missing amount of 100 - 86.96 - 13.04 + 13.04 = 13.04 to reach the objective. So it adds 13.04 in the biggest tax line.

opw-4428842

---
I confirm I have signed the CLA and read the PR guidelines at www.odoo.com/submit-pr

Forward-Port-Of: odoo/odoo#192949",fw-bot,2025-01-08 19:32:16+00:00,[],2025-01-23 12:49:09+00:00,2025-01-09 12:49:01+00:00,https://github.com/odoo/odoo/pull/192974,"[('OE', 'the report is linked to a support ticket (opw-...)'), ('forwardport', 'This PR was created by @fw-bot')]","[{'comment_id': 2578474570, 'issue_id': 2776165269, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/192974.png)](https://mergebot.odoo.com/odoo/odoo/pull/192974)', 'created_at': datetime.datetime(2025, 1, 8, 19, 32, 18, tzinfo=datetime.timezone.utc)}, {'comment_id': 2578474586, 'issue_id': 2776165269, 'author': 'fw-bot', 'body': 'This PR targets saas-18.1 and is part of the forward-port chain. Further PRs will be created up to master.\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 8, 19, 32, 18, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-08 19:32:18 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/192974.png)](https://mergebot.odoo.com/odoo/odoo/pull/192974)

fw-bot (Issue Creator) on (2025-01-08 19:32:18 UTC): This PR targets saas-18.1 and is part of the forward-port chain. Further PRs will be created up to master.

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

"
2776164844,pull_request,closed,,[FW][IMP] l10n_*: demo data,"Set the field ""is_company"" to True on each loca demo companies.

Backport of https://github.com/odoo/odoo/pull/190699

task-4310530

Forward-Port-Of: odoo/odoo#192741",fw-bot,2025-01-08 19:31:59+00:00,[],2025-01-09 07:22:39+00:00,2025-01-09 07:22:39+00:00,https://github.com/odoo/odoo/pull/192973,"[('RD', 'research & development, internal work'), ('forwardport', 'This PR was created by @fw-bot'), ('conflict', 'There was an error while creating this forward-port PR')]","[{'comment_id': 2578474036, 'issue_id': 2776164844, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/192973.png)](https://mergebot.odoo.com/odoo/odoo/pull/192973)', 'created_at': datetime.datetime(2025, 1, 8, 19, 32, tzinfo=datetime.timezone.utc)}, {'comment_id': 2578474065, 'issue_id': 2776164844, 'author': 'fw-bot', 'body': '@igbe-odoo @epictete cherrypicking of pull request odoo/odoo#192741 failed.\n\n* dfc0413afd2d05938c780ea8b25931fb1bb14f85 <- on this commit\n* 8e760ee6ad4eeb0c4032ed2126399afdff4b09b0\n\nstdout:\n```\nAuto-merging addons/l10n_eg/demo/demo_company.xml\nCONFLICT (content): Merge conflict in addons/l10n_eg/demo/demo_company.xml\nAuto-merging addons/l10n_fr/demo/demo_company.xml\n\n```\n\nEither perform the forward-port manually (and push to this branch, proceeding as usual) or close this PR (maybe?).\n\nIn the former case, you may want to edit this PR message as well.\n\n:warning: after resolving this conflict, you will need to merge it via @robodoo.\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 8, 19, 32, 1, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-08 19:32:00 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/192973.png)](https://mergebot.odoo.com/odoo/odoo/pull/192973)

fw-bot (Issue Creator) on (2025-01-08 19:32:01 UTC): @igbe-odoo @epictete cherrypicking of pull request odoo/odoo#192741 failed.

* dfc0413afd2d05938c780ea8b25931fb1bb14f85 <- on this commit
* 8e760ee6ad4eeb0c4032ed2126399afdff4b09b0

stdout:
```
Auto-merging addons/l10n_eg/demo/demo_company.xml
CONFLICT (content): Merge conflict in addons/l10n_eg/demo/demo_company.xml
Auto-merging addons/l10n_fr/demo/demo_company.xml

```

Either perform the forward-port manually (and push to this branch, proceeding as usual) or close this PR (maybe?).

In the former case, you may want to edit this PR message as well.

:warning: after resolving this conflict, you will need to merge it via @robodoo.

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

"
2776164364,pull_request,closed,,[FW][FIX] mail: volume of ptt on/off sound effects are too loud,"Before this commit, when using push-to-talk during discuss call, the sound effect from press and release of ptt was too loud.

This commit reduces the volume drastically, so this can still be heard but it's low enough to not be distracting.

Before
https://github.com/user-attachments/assets/af330e28-4351-44ab-a1df-46730b658379


After
https://github.com/user-attachments/assets/77e34eec-6099-4172-b1b5-f407122bd1ca

Forward-Port-Of: odoo/odoo#192919",fw-bot,2025-01-08 19:31:42+00:00,[],2025-01-09 20:23:41+00:00,2025-01-09 17:17:36+00:00,https://github.com/odoo/odoo/pull/192972,"[('RD', 'research & development, internal work'), ('forwardport', 'This PR was created by @fw-bot'), ('conflict', 'There was an error while creating this forward-port PR')]","[{'comment_id': 2578473502, 'issue_id': 2776164364, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/192972.png)](https://mergebot.odoo.com/odoo/odoo/pull/192972)', 'created_at': datetime.datetime(2025, 1, 8, 19, 31, 43, tzinfo=datetime.timezone.utc)}, {'comment_id': 2578473535, 'issue_id': 2776164364, 'author': 'fw-bot', 'body': '@alexkuhn @seb-odoo cherrypicking of pull request odoo/odoo#192919 failed.\n\nstdout:\n```\nAuto-merging addons/mail/static/src/core/common/sound_effects_service.js\nCONFLICT (content): Merge conflict in addons/mail/static/src/core/common/sound_effects_service.js\nAuto-merging addons/mail/static/src/discuss/call/common/rtc_service.js\nCONFLICT (content): Merge conflict in addons/mail/static/src/discuss/call/common/rtc_service.js\n\n```\n\nEither perform the forward-port manually (and push to this branch, proceeding as usual) or close this PR (maybe?).\n\nIn the former case, you may want to edit this PR message as well.\n\n:warning: after resolving this conflict, you will need to merge it via @robodoo.\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 8, 19, 31, 44, tzinfo=datetime.timezone.utc)}, {'comment_id': 2580154170, 'issue_id': 2776164364, 'author': 'alexkuhn', 'body': '@robodoo r+', 'created_at': datetime.datetime(2025, 1, 9, 13, 27, 38, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-08 19:31:43 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/192972.png)](https://mergebot.odoo.com/odoo/odoo/pull/192972)

fw-bot (Issue Creator) on (2025-01-08 19:31:44 UTC): @alexkuhn @seb-odoo cherrypicking of pull request odoo/odoo#192919 failed.

stdout:
```
Auto-merging addons/mail/static/src/core/common/sound_effects_service.js
CONFLICT (content): Merge conflict in addons/mail/static/src/core/common/sound_effects_service.js
Auto-merging addons/mail/static/src/discuss/call/common/rtc_service.js
CONFLICT (content): Merge conflict in addons/mail/static/src/discuss/call/common/rtc_service.js

```

Either perform the forward-port manually (and push to this branch, proceeding as usual) or close this PR (maybe?).

In the former case, you may want to edit this PR message as well.

:warning: after resolving this conflict, you will need to merge it via @robodoo.

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

alexkuhn on (2025-01-09 13:27:38 UTC): @robodoo r+

"
2776163220,pull_request,closed,,[FW][FIX] im_livechat: fix chatbot question selection,"The question_selection steps of the chatbot suffer from several issues. In [1], a fix was made to make the chatbot work with answers containing ampersands, but this fix broke other special characters such as ""'"".

This step also does not handle well answers containing a subset of words, such as ""X""/""not X"". This occurs because the client code tries to guess which answer was selected after posting the answer.

This PR updates the flow to  save the answer when the message is posted. As a result, there is no need to guess which answer was selected anymore, and all these issues are fixed.

[1]: https://github.com/odoo/odoo/pull/189313

opw-4369966,4436567.

Forward-Port-Of: odoo/odoo#192076",fw-bot,2025-01-08 19:31:07+00:00,[],2025-01-13 12:44:03+00:00,2025-01-13 11:48:44+00:00,https://github.com/odoo/odoo/pull/192971,"[('OE', 'the report is linked to a support ticket (opw-...)'), ('forwardport', 'This PR was created by @fw-bot'), ('conflict', 'There was an error while creating this forward-port PR')]","[{'comment_id': 2578472713, 'issue_id': 2776163220, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/192971.png)](https://mergebot.odoo.com/odoo/odoo/pull/192971)', 'created_at': datetime.datetime(2025, 1, 8, 19, 31, 15, tzinfo=datetime.timezone.utc)}, {'comment_id': 2578472737, 'issue_id': 2776163220, 'author': 'fw-bot', 'body': '@tsm-odoo @alexkuhn cherrypicking of pull request odoo/odoo#192076 failed.\n\n* e9f34e5c0ca6d10ae632a913a221a01e0431fa27 <- on this commit\n* db71d7e9bb574035924ead62099ab3d56d318e6f\n\nstdout:\n```\nAuto-merging addons/im_livechat/static/src/embed/common/chatbot/chatbot_service.js\nAuto-merging addons/im_livechat/static/src/embed/common/thread_model_patch.js\nAuto-merging addons/mail/static/src/core/common/thread_model.js\nCONFLICT (content): Merge conflict in addons/mail/static/src/core/common/thread_model.js\n\n```\n\nEither perform the forward-port manually (and push to this branch, proceeding as usual) or close this PR (maybe?).\n\nIn the former case, you may want to edit this PR message as well.\n\n:warning: after resolving this conflict, you will need to merge it via @robodoo.\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 8, 19, 31, 16, tzinfo=datetime.timezone.utc)}, {'comment_id': 2585541800, 'issue_id': 2776163220, 'author': 'fw-bot', 'body': '@tsm-odoo @alexkuhn this forward port of odoo/odoo#192076 is awaiting action (not merged or closed).', 'created_at': datetime.datetime(2025, 1, 12, 2, 1, 38, tzinfo=datetime.timezone.utc)}, {'comment_id': 2586046591, 'issue_id': 2776163220, 'author': 'fw-bot', 'body': '@tsm-odoo @alexkuhn this forward port of odoo/odoo#192076 is awaiting action (not merged or closed).', 'created_at': datetime.datetime(2025, 1, 13, 2, 2, tzinfo=datetime.timezone.utc)}, {'comment_id': 2586670775, 'issue_id': 2776163220, 'author': 'seb-odoo', 'body': 'Fix from https://github.com/odoo/odoo/pull/193044 should be included', 'created_at': datetime.datetime(2025, 1, 13, 10, 3, 15, tzinfo=datetime.timezone.utc)}, {'comment_id': 2586674520, 'issue_id': 2776163220, 'author': 'seb-odoo', 'body': '@robodoo r-', 'created_at': datetime.datetime(2025, 1, 13, 10, 4, 41, tzinfo=datetime.timezone.utc)}, {'comment_id': 2586676411, 'issue_id': 2776163220, 'author': 'seb-odoo', 'body': 'Ok it was added already actually\r\n\r\n@robodoo r+', 'created_at': datetime.datetime(2025, 1, 13, 10, 5, 32, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-08 19:31:15 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/192971.png)](https://mergebot.odoo.com/odoo/odoo/pull/192971)

fw-bot (Issue Creator) on (2025-01-08 19:31:16 UTC): @tsm-odoo @alexkuhn cherrypicking of pull request odoo/odoo#192076 failed.

* e9f34e5c0ca6d10ae632a913a221a01e0431fa27 <- on this commit
* db71d7e9bb574035924ead62099ab3d56d318e6f

stdout:
```
Auto-merging addons/im_livechat/static/src/embed/common/chatbot/chatbot_service.js
Auto-merging addons/im_livechat/static/src/embed/common/thread_model_patch.js
Auto-merging addons/mail/static/src/core/common/thread_model.js
CONFLICT (content): Merge conflict in addons/mail/static/src/core/common/thread_model.js

```

Either perform the forward-port manually (and push to this branch, proceeding as usual) or close this PR (maybe?).

In the former case, you may want to edit this PR message as well.

:warning: after resolving this conflict, you will need to merge it via @robodoo.

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

fw-bot (Issue Creator) on (2025-01-12 02:01:38 UTC): @tsm-odoo @alexkuhn this forward port of odoo/odoo#192076 is awaiting action (not merged or closed).

fw-bot (Issue Creator) on (2025-01-13 02:02:00 UTC): @tsm-odoo @alexkuhn this forward port of odoo/odoo#192076 is awaiting action (not merged or closed).

seb-odoo on (2025-01-13 10:03:15 UTC): Fix from https://github.com/odoo/odoo/pull/193044 should be included

seb-odoo on (2025-01-13 10:04:41 UTC): @robodoo r-

seb-odoo on (2025-01-13 10:05:32 UTC): Ok it was added already actually

@robodoo r+

"
2776161643,pull_request,closed,,[FW][FIX] base: fix access error to currencies when in child company,"Steps to reproduce (db with Accounting installed):
- create a child company
- give a user (e.g. Marc Demo) access to the child company, set
their ""Accounting"" rights to ""Accountant"" and ""Administration"" to None.
- log as this user and select only the child company in the company
selector.
- try to access ""Accounting/Configuration/Accounting/Currencies""
-> Access Error

It is happening as in the `res.currency` model, several methods try to
access the root company, but there's only the child company in
`allowed_company_ids` from the context.

The fix here is to:
1) When accessing the root company in order the get its currency, just
access the currency of the child company, as it is the same.
2) Use sudo when accessing other fields from the root company.

opw-4352595

Forward-Port-Of: odoo/odoo#192632",fw-bot,2025-01-08 19:30:04+00:00,[],2025-01-27 12:20:43+00:00,2025-01-13 12:14:00+00:00,https://github.com/odoo/odoo/pull/192970,"[('OE', 'the report is linked to a support ticket (opw-...)'), ('forwardport', 'This PR was created by @fw-bot')]","[{'comment_id': 2578470612, 'issue_id': 2776161643, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/192970.png)](https://mergebot.odoo.com/odoo/odoo/pull/192970)', 'created_at': datetime.datetime(2025, 1, 8, 19, 30, 6, tzinfo=datetime.timezone.utc)}, {'comment_id': 2578470636, 'issue_id': 2776161643, 'author': 'fw-bot', 'body': 'This PR targets saas-17.4 and is part of the forward-port chain. Further PRs will be created up to master.\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 8, 19, 30, 6, tzinfo=datetime.timezone.utc)}, {'comment_id': 2578640913, 'issue_id': 2776161643, 'author': 'fw-bot', 'body': '@Arnaud-Sibille @william-andre the next pull request (odoo/odoo#192982) is in conflict. You can merge the chain up to here by saying\n> @robodoo r+\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 8, 20, 51, 11, tzinfo=datetime.timezone.utc)}, {'comment_id': 2578945776, 'issue_id': 2776161643, 'author': 'william-andre', 'body': '@robodoo r+', 'created_at': datetime.datetime(2025, 1, 9, 0, 29, 32, tzinfo=datetime.timezone.utc)}, {'comment_id': 2579003922, 'issue_id': 2776161643, 'author': 'robodoo', 'body': '@Arnaud-Sibille @william-andre staging failed: ci/runbot on e590d23c52912c92fc595b8e44929ce38e8ee01e (view more at https://runbot.odoo.com/runbot/build/73075010)', 'created_at': datetime.datetime(2025, 1, 9, 1, 16, 42, tzinfo=datetime.timezone.utc)}, {'comment_id': 2585541727, 'issue_id': 2776161643, 'author': 'fw-bot', 'body': '@Arnaud-Sibille @william-andre this forward port of odoo/odoo#192632 is awaiting action (not merged or closed).', 'created_at': datetime.datetime(2025, 1, 12, 2, 1, 21, tzinfo=datetime.timezone.utc)}, {'comment_id': 2586046132, 'issue_id': 2776161643, 'author': 'fw-bot', 'body': '@Arnaud-Sibille @william-andre this forward port of odoo/odoo#192632 is awaiting action (not merged or closed).', 'created_at': datetime.datetime(2025, 1, 13, 2, 1, 35, tzinfo=datetime.timezone.utc)}, {'comment_id': 2586609903, 'issue_id': 2776161643, 'author': 'Arnaud-Sibille', 'body': '@robodoo r+', 'created_at': datetime.datetime(2025, 1, 13, 9, 35, 10, tzinfo=datetime.timezone.utc)}, {'comment_id': 2586610006, 'issue_id': 2776161643, 'author': 'robodoo', 'body': ""This PR is already reviewed, it's in error, you might want to `retry` it instead (if you have already confirmed the error is not legitimate)."", 'created_at': datetime.datetime(2025, 1, 13, 9, 35, 13, tzinfo=datetime.timezone.utc)}, {'comment_id': 2586656999, 'issue_id': 2776161643, 'author': 'william-andre', 'body': '@robodoo retry', 'created_at': datetime.datetime(2025, 1, 13, 9, 57, 24, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-08 19:30:06 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/192970.png)](https://mergebot.odoo.com/odoo/odoo/pull/192970)

fw-bot (Issue Creator) on (2025-01-08 19:30:06 UTC): This PR targets saas-17.4 and is part of the forward-port chain. Further PRs will be created up to master.

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

fw-bot (Issue Creator) on (2025-01-08 20:51:11 UTC): @Arnaud-Sibille @william-andre the next pull request (odoo/odoo#192982) is in conflict. You can merge the chain up to here by saying

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

william-andre on (2025-01-09 00:29:32 UTC): @robodoo r+

robodoo on (2025-01-09 01:16:42 UTC): @Arnaud-Sibille @william-andre staging failed: ci/runbot on e590d23c52912c92fc595b8e44929ce38e8ee01e (view more at https://runbot.odoo.com/runbot/build/73075010)

fw-bot (Issue Creator) on (2025-01-12 02:01:21 UTC): @Arnaud-Sibille @william-andre this forward port of odoo/odoo#192632 is awaiting action (not merged or closed).

fw-bot (Issue Creator) on (2025-01-13 02:01:35 UTC): @Arnaud-Sibille @william-andre this forward port of odoo/odoo#192632 is awaiting action (not merged or closed).

Arnaud-Sibille on (2025-01-13 09:35:10 UTC): @robodoo r+

robodoo on (2025-01-13 09:35:13 UTC): This PR is already reviewed, it's in error, you might want to `retry` it instead (if you have already confirmed the error is not legitimate).

william-andre on (2025-01-13 09:57:24 UTC): @robodoo retry

"
2776154452,pull_request,closed,,[FW][IMP] l10n_it: Split Periodic & Annual Tax Reports,"Description of the issue this commit addresses:

The Italian tax report lacks clarity and can be improved both in readabilty and
usability by splitting the monthly and the annual reports.

---

Desired behavior after this commit is merged:

The Italian tax report is now split in a monthly and an annual report.
The report uses the sections mechanism to be split in the different parts it is
made from and clean the UI by not having everything on the same sreen.

---

Enterprise PR: https://github.com/odoo/enterprise/pull/62405
Task-3479785

---

I confirm I have signed the CLA and read the PR guidelines at www.odoo.com/submit-pr

Forward-Port-Of: odoo/odoo#164064",fw-bot,2025-01-08 19:26:03+00:00,[],2025-01-28 12:58:39+00:00,2025-01-14 12:25:37+00:00,https://github.com/odoo/odoo/pull/192969,"[('RD', 'research & development, internal work'), ('forwardport', 'This PR was created by @fw-bot')]","[{'comment_id': 2578462259, 'issue_id': 2776154452, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/192969.png)](https://mergebot.odoo.com/odoo/odoo/pull/192969)', 'created_at': datetime.datetime(2025, 1, 8, 19, 26, 6, tzinfo=datetime.timezone.utc)}, {'comment_id': 2578462287, 'issue_id': 2776154452, 'author': 'fw-bot', 'body': 'This PR targets saas-17.2 and is part of the forward-port chain. Further PRs will be created up to master.\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 8, 19, 26, 7, tzinfo=datetime.timezone.utc)}, {'comment_id': 2579535456, 'issue_id': 2776154452, 'author': 'fw-bot', 'body': '@muab-odoo @william-andre this PR was modified / updated and has become a normal PR. It must be merged directly.', 'created_at': datetime.datetime(2025, 1, 9, 9, 11, 1, tzinfo=datetime.timezone.utc)}, {'comment_id': 2585541965, 'issue_id': 2776154452, 'author': 'fw-bot', 'body': '@muab-odoo @william-andre this forward port of odoo/odoo#164064 is awaiting action (not merged or closed).', 'created_at': datetime.datetime(2025, 1, 12, 2, 2, 20, tzinfo=datetime.timezone.utc)}, {'comment_id': 2586047807, 'issue_id': 2776154452, 'author': 'fw-bot', 'body': '@muab-odoo @william-andre this forward port of odoo/odoo#164064 is awaiting action (not merged or closed).', 'created_at': datetime.datetime(2025, 1, 13, 2, 3, 1, tzinfo=datetime.timezone.utc)}, {'comment_id': 2588621311, 'issue_id': 2776154452, 'author': 'fw-bot', 'body': '@muab-odoo @william-andre this forward port of odoo/odoo#164064 is awaiting action (not merged or closed).', 'created_at': datetime.datetime(2025, 1, 14, 2, 2, 19, tzinfo=datetime.timezone.utc)}, {'comment_id': 2589529356, 'issue_id': 2776154452, 'author': 'william-andre', 'body': '@robodoo r+', 'created_at': datetime.datetime(2025, 1, 14, 10, 19, 56, tzinfo=datetime.timezone.utc)}, {'comment_id': 2589988048, 'issue_id': 2776154452, 'author': 'aj-fuentes', 'body': 'It seems we are missing an upgrade script for this fw port:\r\n`odoo.upgrade.util:37 :boom: It looks like you forgot to call util.remove_model on the following models: l10n_it.report.handler`\r\n\r\nThis will fail in upgrades to 18 (or 17.4, still active).', 'created_at': datetime.datetime(2025, 1, 14, 13, 56, 41, tzinfo=datetime.timezone.utc)}, {'comment_id': 2589991733, 'issue_id': 2776154452, 'author': 'william-andre', 'body': ""@aj-fuentes it is here, I thought it wouldn't be an issue thanks to the exception :facepalm: (until removed)\r\nhttps://github.com/odoo/upgrade/pull/7048"", 'created_at': datetime.datetime(2025, 1, 14, 13, 58, 19, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-08 19:26:06 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/192969.png)](https://mergebot.odoo.com/odoo/odoo/pull/192969)

fw-bot (Issue Creator) on (2025-01-08 19:26:07 UTC): This PR targets saas-17.2 and is part of the forward-port chain. Further PRs will be created up to master.

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

fw-bot (Issue Creator) on (2025-01-09 09:11:01 UTC): @muab-odoo @william-andre this PR was modified / updated and has become a normal PR. It must be merged directly.

fw-bot (Issue Creator) on (2025-01-12 02:02:20 UTC): @muab-odoo @william-andre this forward port of odoo/odoo#164064 is awaiting action (not merged or closed).

fw-bot (Issue Creator) on (2025-01-13 02:03:01 UTC): @muab-odoo @william-andre this forward port of odoo/odoo#164064 is awaiting action (not merged or closed).

fw-bot (Issue Creator) on (2025-01-14 02:02:19 UTC): @muab-odoo @william-andre this forward port of odoo/odoo#164064 is awaiting action (not merged or closed).

william-andre on (2025-01-14 10:19:56 UTC): @robodoo r+

aj-fuentes on (2025-01-14 13:56:41 UTC): It seems we are missing an upgrade script for this fw port:
`odoo.upgrade.util:37 :boom: It looks like you forgot to call util.remove_model on the following models: l10n_it.report.handler`

This will fail in upgrades to 18 (or 17.4, still active).

william-andre on (2025-01-14 13:58:19 UTC): @aj-fuentes it is here, I thought it wouldn't be an issue thanks to the exception :facepalm: (until removed)
https://github.com/odoo/upgrade/pull/7048

"
2776153854,pull_request,closed,,[FW][FIX] account: matching rules appliance on branches,"The bank reconciliation widget shouldn't be allowed to work/match more than what's possible through the UI.

Steps to reproduce the bug
* create child company CHILD 1, with an invoice $100
* Create child company CHILD 2 with same parent company, a bank journal and a matching rule to fetch bills/invoices of same amount regardless of any other critera (for simplicity)
* make sure the matching rule is applied 1st, create a bank transacation of $100 in CHILD 2 bank journal
* click reconcile from the dashboard, on CHILD 2 bank journal => you get an access error because Odoo is trying to match invoice from CHILD 1 and bank transaction from CHILD 2

ticket-4384481


---
I confirm I have signed the CLA and read the PR guidelines at www.odoo.com/submit-pr

Forward-Port-Of: odoo/odoo#192507",fw-bot,2025-01-08 19:25:38+00:00,[],2025-01-24 10:43:52+00:00,2025-01-10 10:27:54+00:00,https://github.com/odoo/odoo/pull/192968,"[('RD', 'research & development, internal work'), ('forwardport', 'This PR was created by @fw-bot')]","[{'comment_id': 2578461649, 'issue_id': 2776153854, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/192968.png)](https://mergebot.odoo.com/odoo/odoo/pull/192968)', 'created_at': datetime.datetime(2025, 1, 8, 19, 25, 40, tzinfo=datetime.timezone.utc)}, {'comment_id': 2578461667, 'issue_id': 2776153854, 'author': 'fw-bot', 'body': 'This PR targets saas-17.2 and is part of the forward-port chain. Further PRs will be created up to master.\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 8, 19, 25, 40, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-08 19:25:40 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/192968.png)](https://mergebot.odoo.com/odoo/odoo/pull/192968)

fw-bot (Issue Creator) on (2025-01-08 19:25:40 UTC): This PR targets saas-17.2 and is part of the forward-port chain. Further PRs will be created up to master.

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

"
2776108078,pull_request,closed,,[FW][FIX] mail: screen share after rejoining,"Current behavior before PR:

If a user shares their screen during a call, leaves, and then rejoins the call, attempting to share their screen again results in a black screen being shared.

Desired behavior after PR is merged:

Screen sharing functions correctly even after rejoining a call.

task-id:[4441751](https://www.odoo.com/odoo/my-tasks/4441751)

---
I confirm I have signed the CLA and read the PR guidelines at www.odoo.com/submit-pr

Forward-Port-Of: odoo/odoo#192149",fw-bot,2025-01-08 18:59:42+00:00,[],2025-01-09 12:34:58+00:00,2025-01-09 10:58:14+00:00,https://github.com/odoo/odoo/pull/192967,"[('RD', 'research & development, internal work'), ('forwardport', 'This PR was created by @fw-bot'), ('18.2', None)]","[{'comment_id': 2578409664, 'issue_id': 2776108078, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/192967.png)](https://mergebot.odoo.com/odoo/odoo/pull/192967)', 'created_at': datetime.datetime(2025, 1, 8, 18, 59, 43, tzinfo=datetime.timezone.utc)}, {'comment_id': 2578409693, 'issue_id': 2776108078, 'author': 'fw-bot', 'body': '@akap-odoo @alexkuhn this PR targets master and is the last of the forward-port chain containing:\n* odoo/odoo#192951\n\nTo merge the full chain, use\n> @robodoo r+\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 8, 18, 59, 44, tzinfo=datetime.timezone.utc)}, {'comment_id': 2579498928, 'issue_id': 2776108078, 'author': 'akap-odoo', 'body': '@robodoo r+', 'created_at': datetime.datetime(2025, 1, 9, 8, 59, 52, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-08 18:59:43 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/192967.png)](https://mergebot.odoo.com/odoo/odoo/pull/192967)

fw-bot (Issue Creator) on (2025-01-08 18:59:44 UTC): @akap-odoo @alexkuhn this PR targets master and is the last of the forward-port chain containing:
* odoo/odoo#192951

To merge the full chain, use

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

akap-odoo on (2025-01-09 08:59:52 UTC): @robodoo r+

"
2776084436,pull_request,closed,,[FW][FIX] purchase_requisition: remove existing currency rate in tests,"This commit removes the existing currency rate before creating the new ones as there is a unicity constrains on the currency rate date.

runbot-error: 111437

Description of the issue/feature this PR addresses:

Current behavior before PR:

Desired behavior after PR is merged:




---
I confirm I have signed the CLA and read the PR guidelines at www.odoo.com/submit-pr

Forward-Port-Of: odoo/odoo#192831",fw-bot,2025-01-08 18:49:17+00:00,[],2025-01-24 12:11:35+00:00,2025-01-10 12:08:08+00:00,https://github.com/odoo/odoo/pull/192966,"[('RD', 'research & development, internal work'), ('forwardport', 'This PR was created by @fw-bot')]","[{'comment_id': 2578383261, 'issue_id': 2776084436, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/192966.png)](https://mergebot.odoo.com/odoo/odoo/pull/192966)', 'created_at': datetime.datetime(2025, 1, 8, 18, 49, 18, tzinfo=datetime.timezone.utc)}, {'comment_id': 2578383284, 'issue_id': 2776084436, 'author': 'fw-bot', 'body': 'This PR targets 18.0 and is part of the forward-port chain. Further PRs will be created up to master.\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 8, 18, 49, 19, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-08 18:49:18 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/192966.png)](https://mergebot.odoo.com/odoo/odoo/pull/192966)

fw-bot (Issue Creator) on (2025-01-08 18:49:19 UTC): This PR targets 18.0 and is part of the forward-port chain. Further PRs will be created up to master.

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

"
2776076676,pull_request,closed,,[FW][IMP] hw_drivers: print IoT status via ZPL,"Before this commit, the IoT box would only
automatically print its status using Epson or
STAR printers. This commit adds status printing
support for ZPL (Zebra) printers.

task-4460563

---
I confirm I have signed the CLA and read the PR guidelines at www.odoo.com/submit-pr

Forward-Port-Of: odoo/odoo#192880",fw-bot,2025-01-08 18:44:29+00:00,[],2025-01-23 11:11:00+00:00,2025-01-09 10:57:50+00:00,https://github.com/odoo/odoo/pull/192965,"[('RD', 'research & development, internal work'), ('forwardport', 'This PR was created by @fw-bot'), ('18.2', None)]","[{'comment_id': 2578375312, 'issue_id': 2776076676, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/192965.png)](https://mergebot.odoo.com/odoo/odoo/pull/192965)', 'created_at': datetime.datetime(2025, 1, 8, 18, 44, 30, tzinfo=datetime.timezone.utc)}, {'comment_id': 2578375337, 'issue_id': 2776076676, 'author': 'fw-bot', 'body': '@maxthewhale @Ysoroko this PR targets master and is the last of the forward-port chain.\n\nTo merge the full chain, use\n> @robodoo r+\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 8, 18, 44, 31, tzinfo=datetime.timezone.utc)}, {'comment_id': 2579389815, 'issue_id': 2776076676, 'author': 'MaxTheWhale', 'body': '@robodoo r+', 'created_at': datetime.datetime(2025, 1, 9, 8, 3, 55, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-08 18:44:30 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/192965.png)](https://mergebot.odoo.com/odoo/odoo/pull/192965)

fw-bot (Issue Creator) on (2025-01-08 18:44:31 UTC): @maxthewhale @Ysoroko this PR targets master and is the last of the forward-port chain.

To merge the full chain, use

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

MaxTheWhale on (2025-01-09 08:03:55 UTC): @robodoo r+

"
2776048290,pull_request,closed,,[FW][FIX] l10n_jo_edi: Fixed unit tests dependencies,"The unit tests were having a dependency from account_reports module which is not a dependency of the l10n_jo_edi module nor even a community module. This commit removes this dependency.



---
I confirm I have signed the CLA and read the PR guidelines at www.odoo.com/submit-pr

Forward-Port-Of: odoo/odoo#192893",fw-bot,2025-01-08 18:28:43+00:00,[],2025-01-23 11:32:18+00:00,2025-01-09 11:24:35+00:00,https://github.com/odoo/odoo/pull/192964,"[('RD', 'research & development, internal work'), ('forwardport', 'This PR was created by @fw-bot'), ('conflict', 'There was an error while creating this forward-port PR')]","[{'comment_id': 2578347947, 'issue_id': 2776048290, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/192964.png)](https://mergebot.odoo.com/odoo/odoo/pull/192964)', 'created_at': datetime.datetime(2025, 1, 8, 18, 28, 44, tzinfo=datetime.timezone.utc)}, {'comment_id': 2578347965, 'issue_id': 2776048290, 'author': 'fw-bot', 'body': '@hsal-odoo @jco-odoo cherrypicking of pull request odoo/odoo#192893 failed.\n\nstdout:\n```\nAuto-merging addons/l10n_jo_edi/tests/jo_edi_common.py\nCONFLICT (content): Merge conflict in addons/l10n_jo_edi/tests/jo_edi_common.py\n\n```\n\nEither perform the forward-port manually (and push to this branch, proceeding as usual) or close this PR (maybe?).\n\nIn the former case, you may want to edit this PR message as well.\n\n:warning: after resolving this conflict, you will need to merge it via @robodoo.\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 8, 18, 28, 45, tzinfo=datetime.timezone.utc)}, {'comment_id': 2578577173, 'issue_id': 2776048290, 'author': 'hsal-odoo', 'body': '@robodoo r+', 'created_at': datetime.datetime(2025, 1, 8, 20, 19, 2, tzinfo=datetime.timezone.utc)}, {'comment_id': 2578636224, 'issue_id': 2776048290, 'author': 'robodoo', 'body': '@hsal-odoo @jco-odoo staging failed: ci/runbot on fdd14852dc182c950fca1cf13fff0e84b1a1db87 (view more at https://runbot.odoo.com/runbot/build/73046767)', 'created_at': datetime.datetime(2025, 1, 8, 20, 48, 31, tzinfo=datetime.timezone.utc)}, {'comment_id': 2579513253, 'issue_id': 2776048290, 'author': 'hsal-odoo', 'body': '@robodoo retry', 'created_at': datetime.datetime(2025, 1, 9, 9, 3, 16, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-08 18:28:44 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/192964.png)](https://mergebot.odoo.com/odoo/odoo/pull/192964)

fw-bot (Issue Creator) on (2025-01-08 18:28:45 UTC): @hsal-odoo @jco-odoo cherrypicking of pull request odoo/odoo#192893 failed.

stdout:
```
Auto-merging addons/l10n_jo_edi/tests/jo_edi_common.py
CONFLICT (content): Merge conflict in addons/l10n_jo_edi/tests/jo_edi_common.py

```

Either perform the forward-port manually (and push to this branch, proceeding as usual) or close this PR (maybe?).

In the former case, you may want to edit this PR message as well.

:warning: after resolving this conflict, you will need to merge it via @robodoo.

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

hsal-odoo on (2025-01-08 20:19:02 UTC): @robodoo r+

robodoo on (2025-01-08 20:48:31 UTC): @hsal-odoo @jco-odoo staging failed: ci/runbot on fdd14852dc182c950fca1cf13fff0e84b1a1db87 (view more at https://runbot.odoo.com/runbot/build/73046767)

hsal-odoo on (2025-01-09 09:03:16 UTC): @robodoo retry

"
2776046187,pull_request,closed,,[FIX] website: remove irrelevant tooltip for google fonts,"Steps to reproduce:
1. Open website app
2. Click edit
3. Click on ""Font Family""
4. Click on ""Add a Custom Font""
5. Click on the question mark tooltip showing next to ""Serve font from Google servers""

- Removed the tooltip since the form is only accessible internally and not relevant to all users. This was only added in v18+

---
I confirm I have signed the CLA and read the PR guidelines at www.odoo.com/submit-pr",elct-odoo,2025-01-08 18:27:26+00:00,['elct-odoo'],2025-01-29 15:12:56+00:00,2025-01-29 15:12:56+00:00,https://github.com/odoo/odoo/pull/192963,"[('OE', 'the report is linked to a support ticket (opw-...)')]","[{'comment_id': 2578345945, 'issue_id': 2776046187, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/192963.png)](https://mergebot.odoo.com/odoo/odoo/pull/192963)', 'created_at': datetime.datetime(2025, 1, 8, 18, 27, 31, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-08 18:27:31 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/192963.png)](https://mergebot.odoo.com/odoo/odoo/pull/192963)

"
2776022830,pull_request,closed,,[FW][FIX] mail: can dismiss 'Turn on notifications' in messaging menu,"This commit adds a ""X"" next to ""Turn on notifications"" to quickly dismiss the suggestion to enable push notifications.

Note that this keeps the push permission to ""Ask"", as it cannot be changed programmatically. So if the user wants to change the push permissions, it should be manually changed to ""Allow"" or ""Denied"" from browser settings or should clear the local storage content in order to display ""Turn on notifications"" in messaging menu again.

Task-4446924

Before
![Screenshot 2025-01-03 at 14 39 22](https://github.com/user-attachments/assets/154f86f7-fa74-4c1f-b4db-71d2c1693bee)

After
![Screenshot 2025-01-03 at 14 37 44](https://github.com/user-attachments/assets/93a51e2c-bc9e-4cc3-9f5b-d2ea538be1ef)

Forward-Port-Of: odoo/odoo#192336",fw-bot,2025-01-08 18:13:41+00:00,[],2025-01-13 10:09:53+00:00,2025-01-13 01:31:57+00:00,https://github.com/odoo/odoo/pull/192962,"[('RD', 'research & development, internal work'), ('forwardport', 'This PR was created by @fw-bot'), ('conflict', 'There was an error while creating this forward-port PR')]","[{'comment_id': 2578322311, 'issue_id': 2776022830, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/192962.png)](https://mergebot.odoo.com/odoo/odoo/pull/192962)', 'created_at': datetime.datetime(2025, 1, 8, 18, 13, 42, tzinfo=datetime.timezone.utc)}, {'comment_id': 2578322326, 'issue_id': 2776022830, 'author': 'fw-bot', 'body': '@alexkuhn cherrypicking of pull request odoo/odoo#192336 failed.\n\nstdout:\n```\nAuto-merging addons/mail/static/src/core/common/store_service.js\nCONFLICT (content): Merge conflict in addons/mail/static/src/core/common/store_service.js\nAuto-merging addons/mail/static/src/core/web/messaging_menu_patch.js\nAuto-merging addons/mail/static/src/core/web/messaging_menu_patch.xml\nAuto-merging addons/mail/static/tests/messaging_menu/messaging_menu.test.js\n\n```\n\nEither perform the forward-port manually (and push to this branch, proceeding as usual) or close this PR (maybe?).\n\nIn the former case, you may want to edit this PR message as well.\n\n:warning: after resolving this conflict, you will need to merge it via @robodoo.\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 8, 18, 13, 43, tzinfo=datetime.timezone.utc)}, {'comment_id': 2585541770, 'issue_id': 2776022830, 'author': 'fw-bot', 'body': '@alexkuhn this forward port of odoo/odoo#192336 is awaiting action (not merged or closed).', 'created_at': datetime.datetime(2025, 1, 12, 2, 1, 30, tzinfo=datetime.timezone.utc)}, {'comment_id': 2585965947, 'issue_id': 2776022830, 'author': 'alexkuhn', 'body': '@robodoo r+', 'created_at': datetime.datetime(2025, 1, 12, 23, 37, 28, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-08 18:13:42 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/192962.png)](https://mergebot.odoo.com/odoo/odoo/pull/192962)

fw-bot (Issue Creator) on (2025-01-08 18:13:43 UTC): @alexkuhn cherrypicking of pull request odoo/odoo#192336 failed.

stdout:
```
Auto-merging addons/mail/static/src/core/common/store_service.js
CONFLICT (content): Merge conflict in addons/mail/static/src/core/common/store_service.js
Auto-merging addons/mail/static/src/core/web/messaging_menu_patch.js
Auto-merging addons/mail/static/src/core/web/messaging_menu_patch.xml
Auto-merging addons/mail/static/tests/messaging_menu/messaging_menu.test.js

```

Either perform the forward-port manually (and push to this branch, proceeding as usual) or close this PR (maybe?).

In the former case, you may want to edit this PR message as well.

:warning: after resolving this conflict, you will need to merge it via @robodoo.

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

fw-bot (Issue Creator) on (2025-01-12 02:01:30 UTC): @alexkuhn this forward port of odoo/odoo#192336 is awaiting action (not merged or closed).

alexkuhn on (2025-01-12 23:37:28 UTC): @robodoo r+

"
2776022169,pull_request,closed,,[FW][FIX] stock_account: compute SVL vals using only current company records,"Steps to reproduce the bug:
- Log in as Company A
- Create a branch company: Branch 1.
- Create a storable product P1 with the following configuration::
    - Costing method: AVCO

- Create a receipt for 1 unit of P1:
    - Unit Price: $300.
- Confirm the receipt:
- The standard price of P1 is updated to $300.

- Log in as Branch 1
- The standard price of P1 is $0.
- Create a receipt for 1 unit of P1:
    - Unit Price: $100.
- Confirm the reception

Problem:
The standard price of P1 is incorrectly updated to $225 → ((300 + 100) / 2) instead of $100. This happens because the stock valuation layer computation values includes records from the parent company instead of only the current company:

https://github.com/odoo/odoo/blob/989a78b3fc04e7b5b79e165fda8539be5f091b8c/addons/stock_account/models/stock_move.py#L306-L307

https://github.com/odoo/odoo/blob/41a234890c91e9b0c9771a2b0fe50d4b525079f3/addons/stock_account/models/product.py#L123-L126

https://github.com/odoo/odoo/blob/989a78b3fc04e7b5b79e165fda8539be5f091b8c/addons/stock_account/models/stock_move.py#L323-L324


This issue occurs because the search considers both the current company
and its parent companies. This happens because `self` refers to the
`product.product` model which has
""_check_company_domain = models.check_company_domain_parent_of"",
On the other hand, `self.env['stock.valuation.layer']` is a model that
is limited to the current company:

https://github.com/odoo/odoo/blob/8189f053fb4bf219093279c18eebdad01c305385/addons/product/models/product_product.py#L21

opw-4417559

Forward-Port-Of: odoo/odoo#192521",fw-bot,2025-01-08 18:13:16+00:00,[],2025-01-23 17:23:49+00:00,2025-01-09 17:17:48+00:00,https://github.com/odoo/odoo/pull/192961,"[('OE', 'the report is linked to a support ticket (opw-...)'), ('forwardport', 'This PR was created by @fw-bot'), ('conflict', 'There was an error while creating this forward-port PR')]","[{'comment_id': 2578321534, 'issue_id': 2776022169, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/192961.png)](https://mergebot.odoo.com/odoo/odoo/pull/192961)', 'created_at': datetime.datetime(2025, 1, 8, 18, 13, 18, tzinfo=datetime.timezone.utc)}, {'comment_id': 2578321567, 'issue_id': 2776022169, 'author': 'fw-bot', 'body': '@DjamelTouati @Whenrow cherrypicking of pull request odoo/odoo#192521 failed.\n\nstdout:\n```\nAuto-merging addons/stock_account/models/product.py\nAuto-merging addons/stock_account/tests/test_stockvaluation.py\nCONFLICT (content): Merge conflict in addons/stock_account/tests/test_stockvaluation.py\n\n```\n\nEither perform the forward-port manually (and push to this branch, proceeding as usual) or close this PR (maybe?).\n\nIn the former case, you may want to edit this PR message as well.\n\n:warning: after resolving this conflict, you will need to merge it via @robodoo.\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 8, 18, 13, 19, tzinfo=datetime.timezone.utc)}, {'comment_id': 2580568636, 'issue_id': 2776022169, 'author': 'DjamelTouati', 'body': 'robodoo r+', 'created_at': datetime.datetime(2025, 1, 9, 15, 29, 35, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-08 18:13:18 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/192961.png)](https://mergebot.odoo.com/odoo/odoo/pull/192961)

fw-bot (Issue Creator) on (2025-01-08 18:13:19 UTC): @DjamelTouati @Whenrow cherrypicking of pull request odoo/odoo#192521 failed.

stdout:
```
Auto-merging addons/stock_account/models/product.py
Auto-merging addons/stock_account/tests/test_stockvaluation.py
CONFLICT (content): Merge conflict in addons/stock_account/tests/test_stockvaluation.py

```

Either perform the forward-port manually (and push to this branch, proceeding as usual) or close this PR (maybe?).

In the former case, you may want to edit this PR message as well.

:warning: after resolving this conflict, you will need to merge it via @robodoo.

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

DjamelTouati on (2025-01-09 15:29:35 UTC): robodoo r+

"
2776013757,pull_request,closed,,"[FW][FIX] mail: correct h-padding for ""record created"" message","Before this commit, the ""Record created"" message, shown as the very 1st message of chatter, had some horizontal start padding in text content. This was unaligned with header and looks off.

This was happening because the message looks like a logged note, but it didn't have the `.o-note` modifier class to put the appropriate padding for the body of message with such a look. Due to the missing `.o-note` classname, this was assuming the style was the one with a bubble around, which needs extra padding, hence the problematic padding.

This commit fixes the issue by adding `.o-note` in classname of such message notification that looks like a logged note, so that the padding matches the one with logged note.

task-4291913

Before / After
<img width=""245"" alt=""Screenshot 2025-01-08 at 12 51 17"" src=""https://github.com/user-attachments/assets/8e388a88-705f-4c19-a6ec-d2168f1e6e56"" /> <img width=""243"" alt=""Screenshot 2025-01-08 at 12 50 48"" src=""https://github.com/user-attachments/assets/092b1508-d663-4336-900a-b55875437c05"" />

Forward-Port-Of: odoo/odoo#192860",fw-bot,2025-01-08 18:09:00+00:00,[],2025-01-09 10:20:43+00:00,2025-01-08 20:54:23+00:00,https://github.com/odoo/odoo/pull/192960,"[('RD', 'research & development, internal work'), ('forwardport', 'This PR was created by @fw-bot'), ('18.2', None)]","[{'comment_id': 2578313260, 'issue_id': 2776013757, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/192960.png)](https://mergebot.odoo.com/odoo/odoo/pull/192960)', 'created_at': datetime.datetime(2025, 1, 8, 18, 9, 1, tzinfo=datetime.timezone.utc)}, {'comment_id': 2578313277, 'issue_id': 2776013757, 'author': 'fw-bot', 'body': '@alexkuhn this PR targets master and is the last of the forward-port chain containing:\n* odoo/odoo#192950\n\nTo merge the full chain, use\n> @robodoo r+\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 8, 18, 9, 2, tzinfo=datetime.timezone.utc)}, {'comment_id': 2578339494, 'issue_id': 2776013757, 'author': 'alexkuhn', 'body': '@robodoo r+', 'created_at': datetime.datetime(2025, 1, 8, 18, 23, 42, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-08 18:09:01 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/192960.png)](https://mergebot.odoo.com/odoo/odoo/pull/192960)

fw-bot (Issue Creator) on (2025-01-08 18:09:02 UTC): @alexkuhn this PR targets master and is the last of the forward-port chain containing:
* odoo/odoo#192950

To merge the full chain, use

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

alexkuhn on (2025-01-08 18:23:42 UTC): @robodoo r+

"
2776011584,pull_request,closed,,[FW][FIX] base: fix access error to currencies when in child company,"Steps to reproduce (db with Accounting installed):
- create a child company
- give a user (e.g. Marc Demo) access to the child company, set
their ""Accounting"" rights to ""Accountant"" and ""Administration"" to None.
- log as this user and select only the child company in the company
selector.
- try to access ""Accounting/Configuration/Accounting/Currencies""
-> Access Error

It is happening as in the `res.currency` model, several methods try to
access the root company, but there's only the child company in
`allowed_company_ids` from the context.

The fix here is to:
1) When accessing the root company in order the get its currency, just
access the currency of the child company, as it is the same.
2) Use sudo when accessing other fields from the root company.

opw-4352595

Forward-Port-Of: odoo/odoo#192632",fw-bot,2025-01-08 18:07:58+00:00,[],2025-01-23 02:30:02+00:00,2025-01-09 02:16:01+00:00,https://github.com/odoo/odoo/pull/192959,"[('OE', 'the report is linked to a support ticket (opw-...)'), ('forwardport', 'This PR was created by @fw-bot')]","[{'comment_id': 2578311424, 'issue_id': 2776011584, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/192959.png)](https://mergebot.odoo.com/odoo/odoo/pull/192959)', 'created_at': datetime.datetime(2025, 1, 8, 18, 7, 59, tzinfo=datetime.timezone.utc)}, {'comment_id': 2578311445, 'issue_id': 2776011584, 'author': 'fw-bot', 'body': 'This PR targets saas-17.2 and is part of the forward-port chain. Further PRs will be created up to master.\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 8, 18, 8, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-08 18:07:59 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/192959.png)](https://mergebot.odoo.com/odoo/odoo/pull/192959)

fw-bot (Issue Creator) on (2025-01-08 18:08:00 UTC): This PR targets saas-17.2 and is part of the forward-port chain. Further PRs will be created up to master.

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

"
2775979344,pull_request,closed,,[FW][I18N] update translations,"opw-4409456

Forward-Port-Of: odoo/odoo#192863",fw-bot,2025-01-08 17:50:00+00:00,[],2025-01-15 13:27:21+00:00,2025-01-13 21:37:30+00:00,https://github.com/odoo/odoo/pull/192958,"[('OE', 'the report is linked to a support ticket (opw-...)'), ('forwardport', 'This PR was created by @fw-bot'), ('18.2', None)]","[{'comment_id': 2578278645, 'issue_id': 2775979344, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/192958.png)](https://mergebot.odoo.com/odoo/odoo/pull/192958)', 'created_at': datetime.datetime(2025, 1, 8, 17, 50, 1, tzinfo=datetime.timezone.utc)}, {'comment_id': 2578278683, 'issue_id': 2775979344, 'author': 'fw-bot', 'body': '@oomsveta this PR targets master and is the last of the forward-port chain containing:\n* odoo/odoo#192945\n* odoo/odoo#192916\n\nTo merge the full chain, use\n> @robodoo r+\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 8, 17, 50, 2, tzinfo=datetime.timezone.utc)}, {'comment_id': 2585541706, 'issue_id': 2775979344, 'author': 'fw-bot', 'body': '@oomsveta this forward port of odoo/odoo#192863 is awaiting action (not merged or closed).', 'created_at': datetime.datetime(2025, 1, 12, 2, 1, 17, tzinfo=datetime.timezone.utc)}, {'comment_id': 2586046050, 'issue_id': 2775979344, 'author': 'fw-bot', 'body': '@oomsveta this forward port of odoo/odoo#192863 is awaiting action (not merged or closed).', 'created_at': datetime.datetime(2025, 1, 13, 2, 1, 29, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-08 17:50:01 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/192958.png)](https://mergebot.odoo.com/odoo/odoo/pull/192958)

fw-bot (Issue Creator) on (2025-01-08 17:50:02 UTC): @oomsveta this PR targets master and is the last of the forward-port chain containing:
* odoo/odoo#192945
* odoo/odoo#192916

To merge the full chain, use

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

fw-bot (Issue Creator) on (2025-01-12 02:01:17 UTC): @oomsveta this forward port of odoo/odoo#192863 is awaiting action (not merged or closed).

fw-bot (Issue Creator) on (2025-01-13 02:01:29 UTC): @oomsveta this forward port of odoo/odoo#192863 is awaiting action (not merged or closed).

"
2775963618,pull_request,closed,,[FW][FIX] web_editor: font-size not computed correctly,"**Behaviour before PR:**

In website, in some snippets font-size of paragraph like elements is not displayed correctly in toolbar. This issue happens because in `getFontSizeDisplayValue` method if there is no font-size class applied to element then it will set the value of `--font-size-base` css variable which is `16px`.

**Behaviour after PR is merged:**

Now, `getFontSizeDisplayValue` method will set font-size using `getComputedStyle` if there is no font related class is applied to that element.

task-4420329




---
I confirm I have signed the CLA and read the PR guidelines at www.odoo.com/submit-pr

Forward-Port-Of: odoo/odoo#191577",fw-bot,2025-01-08 17:42:31+00:00,[],2025-02-06 12:07:34+00:00,2025-01-23 12:03:38+00:00,https://github.com/odoo/odoo/pull/192957,"[('RD', 'research & development, internal work'), ('forwardport', 'This PR was created by @fw-bot'), ('18.2', None)]","[{'comment_id': 2578256611, 'issue_id': 2775963618, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/192957.png)](https://mergebot.odoo.com/odoo/odoo/pull/192957)', 'created_at': datetime.datetime(2025, 1, 8, 17, 42, 32, tzinfo=datetime.timezone.utc)}, {'comment_id': 2578256638, 'issue_id': 2775963618, 'author': 'fw-bot', 'body': '@adsa-odoo @dmo-odoo this PR targets master and is the last of the forward-port chain containing:\n* odoo/odoo#192941\n* odoo/odoo#192903\n* odoo/odoo#192888\n* odoo/odoo#192873\n\nTo merge the full chain, use\n> @robodoo r+\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 8, 17, 42, 33, tzinfo=datetime.timezone.utc)}, {'comment_id': 2585541847, 'issue_id': 2775963618, 'author': 'fw-bot', 'body': '@adsa-odoo @dmo-odoo this forward port of odoo/odoo#191577 is awaiting action (not merged or closed).', 'created_at': datetime.datetime(2025, 1, 12, 2, 1, 48, tzinfo=datetime.timezone.utc)}, {'comment_id': 2586046851, 'issue_id': 2775963618, 'author': 'fw-bot', 'body': '@adsa-odoo @dmo-odoo this forward port of odoo/odoo#191577 is awaiting action (not merged or closed).', 'created_at': datetime.datetime(2025, 1, 13, 2, 2, 14, tzinfo=datetime.timezone.utc)}, {'comment_id': 2588619253, 'issue_id': 2775963618, 'author': 'fw-bot', 'body': '@adsa-odoo @dmo-odoo this forward port of odoo/odoo#191577 is awaiting action (not merged or closed).', 'created_at': datetime.datetime(2025, 1, 14, 2, 1, 43, tzinfo=datetime.timezone.utc)}, {'comment_id': 2591478621, 'issue_id': 2775963618, 'author': 'fw-bot', 'body': '@adsa-odoo @dmo-odoo this forward port of odoo/odoo#191577 is awaiting action (not merged or closed).', 'created_at': datetime.datetime(2025, 1, 15, 2, 1, 46, tzinfo=datetime.timezone.utc)}, {'comment_id': 2594313390, 'issue_id': 2775963618, 'author': 'fw-bot', 'body': '@adsa-odoo @dmo-odoo this forward port of odoo/odoo#191577 is awaiting action (not merged or closed).', 'created_at': datetime.datetime(2025, 1, 16, 2, 1, 20, tzinfo=datetime.timezone.utc)}, {'comment_id': 2597278236, 'issue_id': 2775963618, 'author': 'fw-bot', 'body': '@adsa-odoo @dmo-odoo this forward port of odoo/odoo#191577 is awaiting action (not merged or closed).', 'created_at': datetime.datetime(2025, 1, 17, 2, 1, 10, tzinfo=datetime.timezone.utc)}, {'comment_id': 2599468849, 'issue_id': 2775963618, 'author': 'fw-bot', 'body': '@adsa-odoo @dmo-odoo this forward port of odoo/odoo#191577 is awaiting action (not merged or closed).', 'created_at': datetime.datetime(2025, 1, 18, 2, 1, 21, tzinfo=datetime.timezone.utc)}, {'comment_id': 2601174181, 'issue_id': 2775963618, 'author': 'fw-bot', 'body': '@adsa-odoo @dmo-odoo this forward port of odoo/odoo#191577 is awaiting action (not merged or closed).', 'created_at': datetime.datetime(2025, 1, 20, 2, 2, 16, tzinfo=datetime.timezone.utc)}, {'comment_id': 2606986607, 'issue_id': 2775963618, 'author': 'dmo-odoo', 'body': '@robodoo rebase-ff +', 'created_at': datetime.datetime(2025, 1, 22, 11, 27, 4, tzinfo=datetime.timezone.utc)}, {'comment_id': 2606986694, 'issue_id': 2775963618, 'author': 'robodoo', 'body': ""@dmo-odoo unknown command '+'.\n\nFor your own safety I've ignored *everything in your entire comment*.\n\nCurrently available commands:\n\n|command||\n|-|-|\n|`help`|displays this help|\n|`r(eview)+`|approves the PR, if it's a forwardport also approves all non-detached parents|\n|`r(eview)=<number>`|only approves the specified parents|\n|`up to <branch>`|only ports this PR forward to the specified branch (included)|\n|`close`|closes this forward-port|\n|`merge`|integrate the PR with a simple merge commit, using the PR description as message|\n|`rebase-merge`|rebases the PR on top of the target branch the integrates with a merge commit, using the PR description as message|\n|`rebase-ff`|rebases the PR on top of the target branch, then fast-forwards|\n|`squash`|squashes the PR as a single commit on the target branch, using the PR description as message|\n|`delegate+`|grants approval rights to the PR author|\n|`delegate=<...>`|grants approval rights on this PR to the specified github users|\n|`default`|stages the PR normally|\n|`priority`|tries to stage this PR first, then adds `default` PRs if the staging has room|\n|`alone`|stages this PR only with other PRs of the same priority|\n|`cancel=staging`|automatically cancels the current staging when this PR becomes ready|\n|`override=<...>`|marks overridable statuses as successful|\n|`check`|fetches or refreshes PR metadata, resets mergebot state|\n\nNote: this help text is dynamic and will change with the state of the PR."", 'created_at': datetime.datetime(2025, 1, 22, 11, 27, 7, tzinfo=datetime.timezone.utc)}, {'comment_id': 2606986747, 'issue_id': 2775963618, 'author': 'dmo-odoo', 'body': '@robodoo rebase-ff r+', 'created_at': datetime.datetime(2025, 1, 22, 11, 27, 8, tzinfo=datetime.timezone.utc)}, {'comment_id': 2606986850, 'issue_id': 2775963618, 'author': 'robodoo', 'body': 'Merge method set to rebase and fast-forward.', 'created_at': datetime.datetime(2025, 1, 22, 11, 27, 12, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-08 17:42:32 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/192957.png)](https://mergebot.odoo.com/odoo/odoo/pull/192957)

fw-bot (Issue Creator) on (2025-01-08 17:42:33 UTC): @adsa-odoo @dmo-odoo this PR targets master and is the last of the forward-port chain containing:
* odoo/odoo#192941
* odoo/odoo#192903
* odoo/odoo#192888
* odoo/odoo#192873

To merge the full chain, use

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

fw-bot (Issue Creator) on (2025-01-12 02:01:48 UTC): @adsa-odoo @dmo-odoo this forward port of odoo/odoo#191577 is awaiting action (not merged or closed).

fw-bot (Issue Creator) on (2025-01-13 02:02:14 UTC): @adsa-odoo @dmo-odoo this forward port of odoo/odoo#191577 is awaiting action (not merged or closed).

fw-bot (Issue Creator) on (2025-01-14 02:01:43 UTC): @adsa-odoo @dmo-odoo this forward port of odoo/odoo#191577 is awaiting action (not merged or closed).

fw-bot (Issue Creator) on (2025-01-15 02:01:46 UTC): @adsa-odoo @dmo-odoo this forward port of odoo/odoo#191577 is awaiting action (not merged or closed).

fw-bot (Issue Creator) on (2025-01-16 02:01:20 UTC): @adsa-odoo @dmo-odoo this forward port of odoo/odoo#191577 is awaiting action (not merged or closed).

fw-bot (Issue Creator) on (2025-01-17 02:01:10 UTC): @adsa-odoo @dmo-odoo this forward port of odoo/odoo#191577 is awaiting action (not merged or closed).

fw-bot (Issue Creator) on (2025-01-18 02:01:21 UTC): @adsa-odoo @dmo-odoo this forward port of odoo/odoo#191577 is awaiting action (not merged or closed).

fw-bot (Issue Creator) on (2025-01-20 02:02:16 UTC): @adsa-odoo @dmo-odoo this forward port of odoo/odoo#191577 is awaiting action (not merged or closed).

dmo-odoo on (2025-01-22 11:27:04 UTC): @robodoo rebase-ff +

robodoo on (2025-01-22 11:27:07 UTC): @dmo-odoo unknown command '+'.

For your own safety I've ignored *everything in your entire comment*.

Currently available commands:

|command||
|-|-|
|`help`|displays this help|
|`r(eview)+`|approves the PR, if it's a forwardport also approves all non-detached parents|
|`r(eview)=<number>`|only approves the specified parents|
|`up to <branch>`|only ports this PR forward to the specified branch (included)|
|`close`|closes this forward-port|
|`merge`|integrate the PR with a simple merge commit, using the PR description as message|
|`rebase-merge`|rebases the PR on top of the target branch the integrates with a merge commit, using the PR description as message|
|`rebase-ff`|rebases the PR on top of the target branch, then fast-forwards|
|`squash`|squashes the PR as a single commit on the target branch, using the PR description as message|
|`delegate+`|grants approval rights to the PR author|
|`delegate=<...>`|grants approval rights on this PR to the specified github users|
|`default`|stages the PR normally|
|`priority`|tries to stage this PR first, then adds `default` PRs if the staging has room|
|`alone`|stages this PR only with other PRs of the same priority|
|`cancel=staging`|automatically cancels the current staging when this PR becomes ready|
|`override=<...>`|marks overridable statuses as successful|
|`check`|fetches or refreshes PR metadata, resets mergebot state|

Note: this help text is dynamic and will change with the state of the PR.

dmo-odoo on (2025-01-22 11:27:08 UTC): @robodoo rebase-ff r+

robodoo on (2025-01-22 11:27:12 UTC): Merge method set to rebase and fast-forward.

"
2775957992,pull_request,closed,,[FW][FIX] purchase_requisition: remove existing currency rate in tests,"This commit removes the existing currency rate before creating the new ones as there is a unicity constrains on the currency rate date.

runbot-error: 111437

Description of the issue/feature this PR addresses:

Current behavior before PR:

Desired behavior after PR is merged:




---
I confirm I have signed the CLA and read the PR guidelines at www.odoo.com/submit-pr

Forward-Port-Of: odoo/odoo#192831",fw-bot,2025-01-08 17:39:47+00:00,[],2025-01-24 12:11:23+00:00,2025-01-10 11:53:49+00:00,https://github.com/odoo/odoo/pull/192956,"[('RD', 'research & development, internal work'), ('forwardport', 'This PR was created by @fw-bot')]","[{'comment_id': 2578251363, 'issue_id': 2775957992, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/192956.png)](https://mergebot.odoo.com/odoo/odoo/pull/192956)', 'created_at': datetime.datetime(2025, 1, 8, 17, 39, 48, tzinfo=datetime.timezone.utc)}, {'comment_id': 2578251379, 'issue_id': 2775957992, 'author': 'fw-bot', 'body': 'This PR targets saas-17.4 and is part of the forward-port chain. Further PRs will be created up to master.\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 8, 17, 39, 48, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-08 17:39:48 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/192956.png)](https://mergebot.odoo.com/odoo/odoo/pull/192956)

fw-bot (Issue Creator) on (2025-01-08 17:39:48 UTC): This PR targets saas-17.4 and is part of the forward-port chain. Further PRs will be created up to master.

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

"
2775921083,pull_request,closed,,[FW][FIX] project: project grouped by stages now respects the pagination,"Steps to reproduce
==================

- Open any project
- Create many project stages (80+)
- Switch to the list view
- Group by stage
- Switch to to next page => The pager keeps increasing

Cause of the issue
==================

`stage_id` has a group_expand: `_read_group_stage_ids`

This method is used to include empty stages in the result for the kanban view, so that we can drag tasks to an empty stage.

Solution
========

Add a context key `project_kanban` and only add empty stages in that case.

opw-4408061

Forward-Port-Of: odoo/odoo#192492",fw-bot,2025-01-08 17:20:38+00:00,[],2025-01-27 20:38:02+00:00,2025-01-13 20:21:55+00:00,https://github.com/odoo/odoo/pull/192955,"[('OE', 'the report is linked to a support ticket (opw-...)'), ('forwardport', 'This PR was created by @fw-bot'), ('conflict', 'There was an error while creating this forward-port PR')]","[{'comment_id': 2578213386, 'issue_id': 2775921083, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/192955.png)](https://mergebot.odoo.com/odoo/odoo/pull/192955)', 'created_at': datetime.datetime(2025, 1, 8, 17, 20, 40, tzinfo=datetime.timezone.utc)}, {'comment_id': 2578213440, 'issue_id': 2775921083, 'author': 'fw-bot', 'body': '@hubvd @xavierbol cherrypicking of pull request odoo/odoo#192492 failed.\n\nstdout:\n```\nCONFLICT (modify/delete): addons/project/models/project.py deleted in d5f5eb5208fa5b3680a82f2758b303c69033038e and modified in 08550b706b27b1c383be740867f5614e9a0bcca4.  Version 08550b706b27b1c383be740867f5614e9a0bcca4 of addons/project/models/project.py left in tree.\nCONFLICT (modify/delete): addons/project/static/src/views/project_task_kanban/project_task_kanban_dynamic_group_list.js deleted in d5f5eb5208fa5b3680a82f2758b303c69033038e and modified in 08550b706b27b1c383be740867f5614e9a0bcca4.  Version 08550b706b27b1c383be740867f5614e9a0bcca4 of addons/project/static/src/views/project_task_kanban/project_task_kanban_dynamic_group_list.js left in tree.\n\n```\n\nEither perform the forward-port manually (and push to this branch, proceeding as usual) or close this PR (maybe?).\n\nIn the former case, you may want to edit this PR message as well.\n\n:warning: after resolving this conflict, you will need to merge it via @robodoo.\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 8, 17, 20, 41, tzinfo=datetime.timezone.utc)}, {'comment_id': 2585541740, 'issue_id': 2775921083, 'author': 'fw-bot', 'body': '@hubvd @xavierbol this forward port of odoo/odoo#192492 is awaiting action (not merged or closed).', 'created_at': datetime.datetime(2025, 1, 12, 2, 1, 24, tzinfo=datetime.timezone.utc)}, {'comment_id': 2586046175, 'issue_id': 2775921083, 'author': 'fw-bot', 'body': '@hubvd @xavierbol this forward port of odoo/odoo#192492 is awaiting action (not merged or closed).', 'created_at': datetime.datetime(2025, 1, 13, 2, 1, 38, tzinfo=datetime.timezone.utc)}, {'comment_id': 2587407810, 'issue_id': 2775921083, 'author': 'robodoo', 'body': '@xavierbol you may want to rebuild or fix this PR as it has failed CI.', 'created_at': datetime.datetime(2025, 1, 13, 15, 21, 32, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-08 17:20:40 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/192955.png)](https://mergebot.odoo.com/odoo/odoo/pull/192955)

fw-bot (Issue Creator) on (2025-01-08 17:20:41 UTC): @hubvd @xavierbol cherrypicking of pull request odoo/odoo#192492 failed.

stdout:
```
CONFLICT (modify/delete): addons/project/models/project.py deleted in d5f5eb5208fa5b3680a82f2758b303c69033038e and modified in 08550b706b27b1c383be740867f5614e9a0bcca4.  Version 08550b706b27b1c383be740867f5614e9a0bcca4 of addons/project/models/project.py left in tree.
CONFLICT (modify/delete): addons/project/static/src/views/project_task_kanban/project_task_kanban_dynamic_group_list.js deleted in d5f5eb5208fa5b3680a82f2758b303c69033038e and modified in 08550b706b27b1c383be740867f5614e9a0bcca4.  Version 08550b706b27b1c383be740867f5614e9a0bcca4 of addons/project/static/src/views/project_task_kanban/project_task_kanban_dynamic_group_list.js left in tree.

```

Either perform the forward-port manually (and push to this branch, proceeding as usual) or close this PR (maybe?).

In the former case, you may want to edit this PR message as well.

:warning: after resolving this conflict, you will need to merge it via @robodoo.

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

fw-bot (Issue Creator) on (2025-01-12 02:01:24 UTC): @hubvd @xavierbol this forward port of odoo/odoo#192492 is awaiting action (not merged or closed).

fw-bot (Issue Creator) on (2025-01-13 02:01:38 UTC): @hubvd @xavierbol this forward port of odoo/odoo#192492 is awaiting action (not merged or closed).

robodoo on (2025-01-13 15:21:32 UTC): @xavierbol you may want to rebuild or fix this PR as it has failed CI.

"
2775908563,pull_request,closed,,[FW][FIX] account: Fix group by internal group on journal items,"In journal items, when grouping by 'Internal Group', a traceback appears due to referencing a non-existent table `account_account` as it has been joined with `account_move_line`.

This commit ensures the referenced table is correctly updated in the case of joins.

opw-4405281

---
I confirm I have signed the CLA and read the PR guidelines at www.odoo.com/submit-pr

Forward-Port-Of: odoo/odoo#192489",fw-bot,2025-01-08 17:13:53+00:00,[],2025-01-23 01:29:01+00:00,2025-01-09 00:13:32+00:00,https://github.com/odoo/odoo/pull/192954,"[('OE', 'the report is linked to a support ticket (opw-...)'), ('forwardport', 'This PR was created by @fw-bot'), ('conflict', 'There was an error while creating this forward-port PR')]","[{'comment_id': 2578200403, 'issue_id': 2775908563, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/192954.png)](https://mergebot.odoo.com/odoo/odoo/pull/192954)', 'created_at': datetime.datetime(2025, 1, 8, 17, 13, 54, tzinfo=datetime.timezone.utc)}, {'comment_id': 2578200476, 'issue_id': 2775908563, 'author': 'fw-bot', 'body': '@seifgneedy @william-andre cherrypicking of pull request odoo/odoo#192489 failed.\n\nstdout:\n```\nAuto-merging addons/account/models/account_account.py\nCONFLICT (content): Merge conflict in addons/account/models/account_account.py\n\n```\n\nEither perform the forward-port manually (and push to this branch, proceeding as usual) or close this PR (maybe?).\n\nIn the former case, you may want to edit this PR message as well.\n\n:warning: after resolving this conflict, you will need to merge it via @robodoo.\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 8, 17, 13, 56, tzinfo=datetime.timezone.utc)}, {'comment_id': 2578322269, 'issue_id': 2775908563, 'author': 'william-andre', 'body': '@robodoo r+', 'created_at': datetime.datetime(2025, 1, 8, 18, 13, 41, tzinfo=datetime.timezone.utc)}, {'comment_id': 2578541431, 'issue_id': 2775908563, 'author': 'robodoo', 'body': '@seifgneedy @william-andre staging failed: ci/runbot on a1254b1670b30858f7fb0312e9afdb2299836552 (view more at https://runbot.odoo.com/runbot/build/73045975)', 'created_at': datetime.datetime(2025, 1, 8, 20, 4, 55, tzinfo=datetime.timezone.utc)}, {'comment_id': 2578790430, 'issue_id': 2775908563, 'author': 'william-andre', 'body': '@robodoo retry', 'created_at': datetime.datetime(2025, 1, 8, 22, 26, 10, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-08 17:13:54 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/192954.png)](https://mergebot.odoo.com/odoo/odoo/pull/192954)

fw-bot (Issue Creator) on (2025-01-08 17:13:56 UTC): @seifgneedy @william-andre cherrypicking of pull request odoo/odoo#192489 failed.

stdout:
```
Auto-merging addons/account/models/account_account.py
CONFLICT (content): Merge conflict in addons/account/models/account_account.py

```

Either perform the forward-port manually (and push to this branch, proceeding as usual) or close this PR (maybe?).

In the former case, you may want to edit this PR message as well.

:warning: after resolving this conflict, you will need to merge it via @robodoo.

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

william-andre on (2025-01-08 18:13:41 UTC): @robodoo r+

robodoo on (2025-01-08 20:04:55 UTC): @seifgneedy @william-andre staging failed: ci/runbot on a1254b1670b30858f7fb0312e9afdb2299836552 (view more at https://runbot.odoo.com/runbot/build/73045975)

william-andre on (2025-01-08 22:26:10 UTC): @robodoo retry

"
2775907144,pull_request,closed,,[IMP] mail: canned response with :: instead of :,"Before this commit, delimiter to use canned response was "":"". This puts some conflicts with emoji substitution, which has been minimized a bit by not putting the focus on the suggestion list of emojis.

However this is still bothersome, so it's worth changing it slightly. This PR minimises the impact of change by replacing it to ""::"", which is relatively close to the former "":"".

Since the discovery of the feature was only through typing "":"", we added a new item in the ""+"" button of composer to insert a new canned response, which simply adds the ""::"" in the composer to help select the canned response. This composer action only shows the shortcut to trigger canned response: it let the user learns of this feature, and in case the delimiter changes like with this PR, the user can relatively easily re-learn the new trigger thanks to this composer action.

The ""Insert a Canned response"" composer action is visible when the user can at least find a canned response. Also the canned response suggestions are focused by default, now that they do not conflict with emoji substitution.

Task-4110505

https://github.com/odoo/enterprise/pull/77184

![Jan-14-2025 16-15-44](https://github.com/user-attachments/assets/a106962b-b38e-4a4f-b99c-d1ecd2a2202a)
",alexkuhn,2025-01-08 17:13:05+00:00,[],2025-01-20 15:23:19+00:00,2025-01-20 15:08:21+00:00,https://github.com/odoo/odoo/pull/192953,"[('RD', 'research & development, internal work')]","[{'comment_id': 2578198971, 'issue_id': 2775907144, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/192953.png)](https://mergebot.odoo.com/odoo/odoo/pull/192953)', 'created_at': datetime.datetime(2025, 1, 8, 17, 13, 8, tzinfo=datetime.timezone.utc)}, {'comment_id': 2600940160, 'issue_id': 2775907144, 'author': 'alexkuhn', 'body': '@robodoo r+', 'created_at': datetime.datetime(2025, 1, 19, 16, 52, 5, tzinfo=datetime.timezone.utc)}, {'comment_id': 2600942868, 'issue_id': 2775907144, 'author': 'robodoo', 'body': '@alexkuhn linked pull request(s) odoo/enterprise#77184 not ready. Linked PRs are not staged until all of them are ready.', 'created_at': datetime.datetime(2025, 1, 19, 17, 0, 4, tzinfo=datetime.timezone.utc)}, {'comment_id': 2602390553, 'issue_id': 2775907144, 'author': 'alexkuhn', 'body': '@robodoo r+', 'created_at': datetime.datetime(2025, 1, 20, 13, 10, 3, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-08 17:13:08 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/192953.png)](https://mergebot.odoo.com/odoo/odoo/pull/192953)

alexkuhn (Issue Creator) on (2025-01-19 16:52:05 UTC): @robodoo r+

robodoo on (2025-01-19 17:00:04 UTC): @alexkuhn linked pull request(s) odoo/enterprise#77184 not ready. Linked PRs are not staged until all of them are ready.

alexkuhn (Issue Creator) on (2025-01-20 13:10:03 UTC): @robodoo r+

"
2775887691,pull_request,closed,,[FIX] mrp: find all child MO,"Steps to reproduce the bug:
- Create a storable product “C1”:
     - MTO + Manufacture
     - BoM:
        - Component: 1 unit of C2
- Create a storable product “P1”
    - Component: 1 unit of C1

- Create a MO to produce one unit of P1:
    - Confirm
- A child MO with one unit of C1 is created
- Update the qty producing of P1 to 2
- A new MO to produce one unit of C1 is created

Problem:
The MO of P1 is linked only to the last MO of C1.
This occurs because the “created_production_id” field in the stock move of C1 (associated with the MO of P1) is updated to reference the most recent MO of C1. Additionally, since the following fix:
https://github.com/odoo/odoo/commit/c5b3f41fbd442def9e97acb023a00862e7d03eb3#diff-6d86bc8c3e9aa22586656b702849c5bbbb00c9b97ffd08bc0842e0e68f8948f9R74
Each new MO has its own procurement group.
As a result, when using the _get_children method:
- The method retrieves stock moves linked to the current procurement group.
- It uses their created_production_id to fetch the associated procurement group and then retrieves the related production_id.
However, since the two child MOs of C1 belong to different procurement groups, only the latest MO is returned.

opw-4450210
",DjamelTouati,2025-01-08 17:02:33+00:00,[],2025-01-29 18:06:45+00:00,2025-01-15 17:48:50+00:00,https://github.com/odoo/odoo/pull/192952,"[('OE', 'the report is linked to a support ticket (opw-...)')]","[{'comment_id': 2578177697, 'issue_id': 2775887691, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/192952.png)](https://mergebot.odoo.com/odoo/odoo/pull/192952)', 'created_at': datetime.datetime(2025, 1, 8, 17, 2, 36, tzinfo=datetime.timezone.utc)}, {'comment_id': 2593328457, 'issue_id': 2775887691, 'author': 'Whenrow', 'body': 'robodoo r+\r\nthank you', 'created_at': datetime.datetime(2025, 1, 15, 16, 3, 55, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-08 17:02:36 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/192952.png)](https://mergebot.odoo.com/odoo/odoo/pull/192952)

Whenrow on (2025-01-15 16:03:55 UTC): robodoo r+
thank you

"
2775879212,pull_request,closed,,[FW][FIX] mail: screen share after rejoining,"Current behavior before PR:

If a user shares their screen during a call, leaves, and then rejoins the call, attempting to share their screen again results in a black screen being shared.

Desired behavior after PR is merged:

Screen sharing functions correctly even after rejoining a call.

task-id:[4441751](https://www.odoo.com/odoo/my-tasks/4441751)

---
I confirm I have signed the CLA and read the PR guidelines at www.odoo.com/submit-pr

Forward-Port-Of: odoo/odoo#192149",fw-bot,2025-01-08 16:58:17+00:00,[],2025-01-09 12:35:40+00:00,2025-01-09 11:34:15+00:00,https://github.com/odoo/odoo/pull/192951,"[('RD', 'research & development, internal work'), ('forwardport', 'This PR was created by @fw-bot')]","[{'comment_id': 2578168760, 'issue_id': 2775879212, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/192951.png)](https://mergebot.odoo.com/odoo/odoo/pull/192951)', 'created_at': datetime.datetime(2025, 1, 8, 16, 58, 19, tzinfo=datetime.timezone.utc)}, {'comment_id': 2578168782, 'issue_id': 2775879212, 'author': 'fw-bot', 'body': 'This PR targets saas-18.1 and is part of the forward-port chain. Further PRs will be created up to master.\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 8, 16, 58, 19, tzinfo=datetime.timezone.utc)}, {'comment_id': 2578227573, 'issue_id': 2775879212, 'author': 'fw-bot', 'body': '@akap-odoo @alexkuhn ci/runbot failed on this forward-port PR', 'created_at': datetime.datetime(2025, 1, 8, 17, 27, 36, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-08 16:58:19 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/192951.png)](https://mergebot.odoo.com/odoo/odoo/pull/192951)

fw-bot (Issue Creator) on (2025-01-08 16:58:19 UTC): This PR targets saas-18.1 and is part of the forward-port chain. Further PRs will be created up to master.

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

fw-bot (Issue Creator) on (2025-01-08 17:27:36 UTC): @akap-odoo @alexkuhn ci/runbot failed on this forward-port PR

"
2775878203,pull_request,closed,,"[FW][FIX] mail: correct h-padding for ""record created"" message","Before this commit, the ""Record created"" message, shown as the very 1st message of chatter, had some horizontal start padding in text content. This was unaligned with header and looks off.

This was happening because the message looks like a logged note, but it didn't have the `.o-note` modifier class to put the appropriate padding for the body of message with such a look. Due to the missing `.o-note` classname, this was assuming the style was the one with a bubble around, which needs extra padding, hence the problematic padding.

This commit fixes the issue by adding `.o-note` in classname of such message notification that looks like a logged note, so that the padding matches the one with logged note.

task-4291913

Before / After
<img width=""245"" alt=""Screenshot 2025-01-08 at 12 51 17"" src=""https://github.com/user-attachments/assets/8e388a88-705f-4c19-a6ec-d2168f1e6e56"" /> <img width=""243"" alt=""Screenshot 2025-01-08 at 12 50 48"" src=""https://github.com/user-attachments/assets/092b1508-d663-4336-900a-b55875437c05"" />

Forward-Port-Of: odoo/odoo#192860",fw-bot,2025-01-08 16:57:49+00:00,[],2025-01-22 20:31:52+00:00,2025-01-08 20:09:35+00:00,https://github.com/odoo/odoo/pull/192950,"[('RD', 'research & development, internal work'), ('forwardport', 'This PR was created by @fw-bot')]","[{'comment_id': 2578167820, 'issue_id': 2775878203, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/192950.png)](https://mergebot.odoo.com/odoo/odoo/pull/192950)', 'created_at': datetime.datetime(2025, 1, 8, 16, 57, 51, tzinfo=datetime.timezone.utc)}, {'comment_id': 2578167845, 'issue_id': 2775878203, 'author': 'fw-bot', 'body': 'This PR targets saas-18.1 and is part of the forward-port chain. Further PRs will be created up to master.\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 8, 16, 57, 51, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-08 16:57:51 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/192950.png)](https://mergebot.odoo.com/odoo/odoo/pull/192950)

fw-bot (Issue Creator) on (2025-01-08 16:57:51 UTC): This PR targets saas-18.1 and is part of the forward-port chain. Further PRs will be created up to master.

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

"
2775842283,pull_request,closed,,[FIX] account: Fix quick encoding with reverse charge tax,"Suppose a tax 15% +100 -100.
Use the quick encoding with an amount of 100.0.
=> The base of the created invoice line is 86.96 and the created tax lines are +13.04 -26.08. That's wrong. Both have to produce the same amount.

In 17.0, we get a base of 100 and +15 -15 as tax amounts. In 18.0, we changed the management of reverse charge so the total excluded amount is computed as 100 / 1.15 ~= 86.96.
It produces tax lines computed on 86.96. 86.96 * 0.15 ~= 13.04. But at the end, the quick encoding algorithmn ""fixes"" the tax amount. It expect a total of 100 and it has a missing amount of 100 - 86.96 - 13.04 + 13.04 = 13.04 to reach the objective. So it adds 13.04 in the biggest tax line.

opw-4428842

---
I confirm I have signed the CLA and read the PR guidelines at www.odoo.com/submit-pr
",smetl,2025-01-08 16:40:24+00:00,[],2025-01-22 20:31:45+00:00,2025-01-08 19:30:34+00:00,https://github.com/odoo/odoo/pull/192949,"[('OE', 'the report is linked to a support ticket (opw-...)')]","[{'comment_id': 2578129889, 'issue_id': 2775842283, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/192949.png)](https://mergebot.odoo.com/odoo/odoo/pull/192949)', 'created_at': datetime.datetime(2025, 1, 8, 16, 40, 34, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-08 16:40:34 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/192949.png)](https://mergebot.odoo.com/odoo/odoo/pull/192949)

"
2775840003,pull_request,closed,,[FW][I18N] l10n_ar{_website_sale}: update translations,"Related to https://github.com/odoo/enterprise/pull/73927

Forward-Port-Of: odoo/odoo#189047
Forward-Port-Of: odoo/odoo#187430",fw-bot,2025-01-08 16:39:11+00:00,[],2025-01-23 11:11:06+00:00,2025-01-09 10:58:19+00:00,https://github.com/odoo/odoo/pull/192948,"[('RD', 'research & development, internal work'), ('forwardport', 'This PR was created by @fw-bot'), ('18.2', None)]","[{'comment_id': 2578126895, 'issue_id': 2775840003, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/192948.png)](https://mergebot.odoo.com/odoo/odoo/pull/192948)', 'created_at': datetime.datetime(2025, 1, 8, 16, 39, 14, tzinfo=datetime.timezone.utc)}, {'comment_id': 2578126956, 'issue_id': 2775840003, 'author': 'fw-bot', 'body': '@dylankiss @ticodoo this PR targets master and is the last of the forward-port chain containing:\n* odoo/odoo#192914\n\nTo merge the full chain, use\n> @robodoo r+\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 8, 16, 39, 15, tzinfo=datetime.timezone.utc)}, {'comment_id': 2579501348, 'issue_id': 2775840003, 'author': 'dylankiss', 'body': '@robodoo r+', 'created_at': datetime.datetime(2025, 1, 9, 9, 0, 30, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-08 16:39:14 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/192948.png)](https://mergebot.odoo.com/odoo/odoo/pull/192948)

fw-bot (Issue Creator) on (2025-01-08 16:39:15 UTC): @dylankiss @ticodoo this PR targets master and is the last of the forward-port chain containing:
* odoo/odoo#192914

To merge the full chain, use

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

dylankiss on (2025-01-09 09:00:30 UTC): @robodoo r+

"
2775829295,pull_request,closed,,[FIX] discuss: prevents peer to peer notifications when the call is off,"Before this commit, a race condition could allow attempts to send peer notification to go through despite not having a call. This could happen if a `_busNotify()` call follows a promise that is resolved after the end of a call.

This commit fixes this issue by ensuring that notifications can only be sent when a call is active.

",ThanhDodeurOdoo,2025-01-08 16:33:51+00:00,[],2025-01-09 20:34:11+00:00,2025-01-09 19:01:38+00:00,https://github.com/odoo/odoo/pull/192947,"[('RD', 'research & development, internal work')]","[{'comment_id': 2578115199, 'issue_id': 2775829295, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/192947.png)](https://mergebot.odoo.com/odoo/odoo/pull/192947)', 'created_at': datetime.datetime(2025, 1, 8, 16, 33, 54, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-08 16:33:54 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/192947.png)](https://mergebot.odoo.com/odoo/odoo/pull/192947)

"
2775827814,pull_request,closed,,[FIX] calendar: remove end_type ambiguity in sql query,"__Current behavior before commit:__
In [`a27afdb`][1], the field `end_type` from the model `calendar.event` became computed and therefore not stored anymore.
Databases that upgraded from an anterior version still have the column `end_type` in their table `calendar_event`.

In [`f6df418`][2], a reference to `end_type` from the table `calendar_recurrence` has been added in the SQL query. If the field `end_type` is still in the table `calendar_event` it is ambiguous which one this query should use.

Ultimately leading to this error:
```
psycopg2.errors.AmbiguousColumn: column reference ""end_type"" is ambiguous
LINE 22: ...                          WHEN cal.recurrency AND end_type =...
```

__Description of the fix:__
Remove the ambiguity by explicitly specifying `rrule`, the alias of the `calendar_recurrence` table.

opw-4406814

[1]: https://github.com/odoo/odoo/commit/a27afdb
[2]: https://github.com/odoo/odoo/commit/f6df418",Dj0ulo,2025-01-08 16:33:04+00:00,[],2025-01-23 15:42:21+00:00,2025-01-09 15:30:25+00:00,https://github.com/odoo/odoo/pull/192946,"[('OE', 'the report is linked to a support ticket (opw-...)')]","[{'comment_id': 2578113677, 'issue_id': 2775827814, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/192946.png)](https://mergebot.odoo.com/odoo/odoo/pull/192946)', 'created_at': datetime.datetime(2025, 1, 8, 16, 33, 7, tzinfo=datetime.timezone.utc)}, {'comment_id': 2580165257, 'issue_id': 2775827814, 'author': 'arj-odoo', 'body': '@robodoo r+', 'created_at': datetime.datetime(2025, 1, 9, 13, 32, 53, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-08 16:33:07 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/192946.png)](https://mergebot.odoo.com/odoo/odoo/pull/192946)

arj-odoo on (2025-01-09 13:32:53 UTC): @robodoo r+

"
2775826329,pull_request,closed,,[FW][I18N] update translations,"opw-4409456

Forward-Port-Of: odoo/odoo#192863",fw-bot,2025-01-08 16:32:19+00:00,[],2025-01-27 17:06:14+00:00,2025-01-13 16:49:05+00:00,https://github.com/odoo/odoo/pull/192945,"[('OE', 'the report is linked to a support ticket (opw-...)'), ('forwardport', 'This PR was created by @fw-bot')]","[{'comment_id': 2578112082, 'issue_id': 2775826329, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/192945.png)](https://mergebot.odoo.com/odoo/odoo/pull/192945)', 'created_at': datetime.datetime(2025, 1, 8, 16, 32, 20, tzinfo=datetime.timezone.utc)}, {'comment_id': 2578112117, 'issue_id': 2775826329, 'author': 'fw-bot', 'body': 'This PR targets saas-18.1 and is part of the forward-port chain. Further PRs will be created up to master.\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 8, 16, 32, 21, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-08 16:32:20 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/192945.png)](https://mergebot.odoo.com/odoo/odoo/pull/192945)

fw-bot (Issue Creator) on (2025-01-08 16:32:21 UTC): This PR targets saas-18.1 and is part of the forward-port chain. Further PRs will be created up to master.

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

"
2775818362,pull_request,closed,,[FW][FIX] web: close popover even if not mounted,"Currently, ff a popover uses a component that needs to load data, click away before the component is mounted will not make the popover close. Here we fix that by adding the listeners at setup (and removing them at destroy).

Forward-Port-Of: odoo/odoo#192674
Forward-Port-Of: odoo/odoo#191135",fw-bot,2025-01-08 16:29:07+00:00,[],2025-01-23 17:09:04+00:00,2025-01-09 17:02:15+00:00,https://github.com/odoo/odoo/pull/192944,"[('RD', 'research & development, internal work'), ('forwardport', 'This PR was created by @fw-bot'), ('18.2', None)]","[{'comment_id': 2578104672, 'issue_id': 2775818362, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/192944.png)](https://mergebot.odoo.com/odoo/odoo/pull/192944)', 'created_at': datetime.datetime(2025, 1, 8, 16, 29, 9, tzinfo=datetime.timezone.utc)}, {'comment_id': 2578104682, 'issue_id': 2775818362, 'author': 'fw-bot', 'body': '@polymorphe57 @aab-odoo this PR targets master and is the last of the forward-port chain containing:\n* odoo/odoo#192910\n\nTo merge the full chain, use\n> @robodoo r+\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 8, 16, 29, 9, tzinfo=datetime.timezone.utc)}, {'comment_id': 2579826022, 'issue_id': 2775818362, 'author': 'Polymorphe57', 'body': '@robodoo r+', 'created_at': datetime.datetime(2025, 1, 9, 10, 52, 34, tzinfo=datetime.timezone.utc)}, {'comment_id': 2579910789, 'issue_id': 2775818362, 'author': 'BastienFafchamps', 'body': '@robodoo r-', 'created_at': datetime.datetime(2025, 1, 9, 11, 27, 43, tzinfo=datetime.timezone.utc)}, {'comment_id': 2579910904, 'issue_id': 2775818362, 'author': 'robodoo', 'body': 'Note that only this forward-port has been unapproved, sibling forward ports may have to be unapproved individually.', 'created_at': datetime.datetime(2025, 1, 9, 11, 27, 46, tzinfo=datetime.timezone.utc)}, {'comment_id': 2579929199, 'issue_id': 2775818362, 'author': 'fw-bot', 'body': '@polymorphe57 @aab-odoo this PR was modified / updated and has become a normal PR. It must be merged directly.', 'created_at': datetime.datetime(2025, 1, 9, 11, 34, 38, tzinfo=datetime.timezone.utc)}, {'comment_id': 2580138411, 'issue_id': 2775818362, 'author': 'BastienFafchamps', 'body': '@robodoo r+', 'created_at': datetime.datetime(2025, 1, 9, 13, 20, 6, tzinfo=datetime.timezone.utc)}, {'comment_id': 2580138645, 'issue_id': 2775818362, 'author': 'robodoo', 'body': '@polymorphe57 @aab-odoo @BastienFafchamps because this PR has multiple commits, I need to know how to merge it:\n\n* `merge` to merge directly, using the PR as merge commit message\n* `rebase-merge` to rebase and merge, using the PR as merge commit message\n* `rebase-ff` to rebase and fast-forward', 'created_at': datetime.datetime(2025, 1, 9, 13, 20, 13, tzinfo=datetime.timezone.utc)}, {'comment_id': 2580251713, 'issue_id': 2775818362, 'author': 'Polymorphe57', 'body': '@robodoo rebase-ff', 'created_at': datetime.datetime(2025, 1, 9, 13, 55, 34, tzinfo=datetime.timezone.utc)}, {'comment_id': 2580251880, 'issue_id': 2775818362, 'author': 'robodoo', 'body': 'Merge method set to rebase and fast-forward.', 'created_at': datetime.datetime(2025, 1, 9, 13, 55, 37, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-08 16:29:09 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/192944.png)](https://mergebot.odoo.com/odoo/odoo/pull/192944)

fw-bot (Issue Creator) on (2025-01-08 16:29:09 UTC): @polymorphe57 @aab-odoo this PR targets master and is the last of the forward-port chain containing:
* odoo/odoo#192910

To merge the full chain, use

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

Polymorphe57 on (2025-01-09 10:52:34 UTC): @robodoo r+

BastienFafchamps on (2025-01-09 11:27:43 UTC): @robodoo r-

robodoo on (2025-01-09 11:27:46 UTC): Note that only this forward-port has been unapproved, sibling forward ports may have to be unapproved individually.

fw-bot (Issue Creator) on (2025-01-09 11:34:38 UTC): @polymorphe57 @aab-odoo this PR was modified / updated and has become a normal PR. It must be merged directly.

BastienFafchamps on (2025-01-09 13:20:06 UTC): @robodoo r+

robodoo on (2025-01-09 13:20:13 UTC): @polymorphe57 @aab-odoo @BastienFafchamps because this PR has multiple commits, I need to know how to merge it:

* `merge` to merge directly, using the PR as merge commit message
* `rebase-merge` to rebase and merge, using the PR as merge commit message
* `rebase-ff` to rebase and fast-forward

Polymorphe57 on (2025-01-09 13:55:34 UTC): @robodoo rebase-ff

robodoo on (2025-01-09 13:55:37 UTC): Merge method set to rebase and fast-forward.

"
2775817814,pull_request,closed,,"[FW][FIX] sale,website_sale: pricelist valid dates not applied","If you create a pricelist rule with a discount that has a valid date range, that discount is only applied if the SO was created in that range. Even if it is confirmed within the valid date range.

Fix:
For website_sale orders we consider the date to be the current time when computing the price.

opw-4375643


---
I confirm I have signed the CLA and read the PR guidelines at www.odoo.com/submit-pr

Forward-Port-Of: odoo/odoo#192858
Forward-Port-Of: odoo/odoo#191538",fw-bot,2025-01-08 16:28:51+00:00,[],2025-01-31 12:11:58+00:00,2025-01-17 12:07:02+00:00,https://github.com/odoo/odoo/pull/192943,"[('OE', 'the report is linked to a support ticket (opw-...)'), ('forwardport', 'This PR was created by @fw-bot'), ('conflict', 'There was an error while creating this forward-port PR')]","[{'comment_id': 2578104122, 'issue_id': 2775817814, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/192943.png)](https://mergebot.odoo.com/odoo/odoo/pull/192943)', 'created_at': datetime.datetime(2025, 1, 8, 16, 28, 52, tzinfo=datetime.timezone.utc)}, {'comment_id': 2578104214, 'issue_id': 2775817814, 'author': 'fw-bot', 'body': '@livaios cherrypicking of pull request odoo/odoo#191538 failed.\n\nstdout:\n```\nAuto-merging addons/sale/models/sale_order_line.py\nCONFLICT (content): Merge conflict in addons/sale/models/sale_order_line.py\nAuto-merging addons/website_sale/models/sale_order_line.py\nAuto-merging addons/website_sale/tests/test_website_sale_pricelist.py\n\n```\n\nEither perform the forward-port manually (and push to this branch, proceeding as usual) or close this PR (maybe?).\n\nIn the former case, you may want to edit this PR message as well.\n\n:warning: after resolving this conflict, you will need to merge it via @robodoo.\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 8, 16, 28, 55, tzinfo=datetime.timezone.utc)}, {'comment_id': 2580542296, 'issue_id': 2775817814, 'author': 'livaios', 'body': '@robodoo r+', 'created_at': datetime.datetime(2025, 1, 9, 15, 18, 28, tzinfo=datetime.timezone.utc)}, {'comment_id': 2580611337, 'issue_id': 2775817814, 'author': 'robodoo', 'body': ""@livaios 'ci/runbot' failed on this reviewed PR."", 'created_at': datetime.datetime(2025, 1, 9, 15, 45, 44, tzinfo=datetime.timezone.utc)}, {'comment_id': 2581587593, 'issue_id': 2775817814, 'author': 'fw-bot', 'body': '@livaios this forward port of odoo/odoo#191538 is awaiting action (not merged or closed).', 'created_at': datetime.datetime(2025, 1, 10, 2, 1, 42, tzinfo=datetime.timezone.utc)}, {'comment_id': 2585000402, 'issue_id': 2775817814, 'author': 'fw-bot', 'body': '@livaios this forward port of odoo/odoo#191538 is awaiting action (not merged or closed).', 'created_at': datetime.datetime(2025, 1, 11, 2, 1, 25, tzinfo=datetime.timezone.utc)}, {'comment_id': 2585541865, 'issue_id': 2775817814, 'author': 'fw-bot', 'body': '@livaios this forward port of odoo/odoo#191538 is awaiting action (not merged or closed).', 'created_at': datetime.datetime(2025, 1, 12, 2, 1, 51, tzinfo=datetime.timezone.utc)}, {'comment_id': 2586046914, 'issue_id': 2775817814, 'author': 'fw-bot', 'body': '@livaios this forward port of odoo/odoo#191538 is awaiting action (not merged or closed).', 'created_at': datetime.datetime(2025, 1, 13, 2, 2, 17, tzinfo=datetime.timezone.utc)}, {'comment_id': 2588619304, 'issue_id': 2775817814, 'author': 'fw-bot', 'body': '@livaios this forward port of odoo/odoo#191538 is awaiting action (not merged or closed).', 'created_at': datetime.datetime(2025, 1, 14, 2, 1, 46, tzinfo=datetime.timezone.utc)}, {'comment_id': 2591478658, 'issue_id': 2775817814, 'author': 'fw-bot', 'body': '@livaios this forward port of odoo/odoo#191538 is awaiting action (not merged or closed).', 'created_at': datetime.datetime(2025, 1, 15, 2, 1, 47, tzinfo=datetime.timezone.utc)}, {'comment_id': 2594313419, 'issue_id': 2775817814, 'author': 'fw-bot', 'body': '@livaios this forward port of odoo/odoo#191538 is awaiting action (not merged or closed).', 'created_at': datetime.datetime(2025, 1, 16, 2, 1, 21, tzinfo=datetime.timezone.utc)}, {'comment_id': 2597749971, 'issue_id': 2775817814, 'author': 'livaios', 'body': '@robodoo r+', 'created_at': datetime.datetime(2025, 1, 17, 9, 3, 7, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-08 16:28:52 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/192943.png)](https://mergebot.odoo.com/odoo/odoo/pull/192943)

fw-bot (Issue Creator) on (2025-01-08 16:28:55 UTC): @livaios cherrypicking of pull request odoo/odoo#191538 failed.

stdout:
```
Auto-merging addons/sale/models/sale_order_line.py
CONFLICT (content): Merge conflict in addons/sale/models/sale_order_line.py
Auto-merging addons/website_sale/models/sale_order_line.py
Auto-merging addons/website_sale/tests/test_website_sale_pricelist.py

```

Either perform the forward-port manually (and push to this branch, proceeding as usual) or close this PR (maybe?).

In the former case, you may want to edit this PR message as well.

:warning: after resolving this conflict, you will need to merge it via @robodoo.

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

livaios on (2025-01-09 15:18:28 UTC): @robodoo r+

robodoo on (2025-01-09 15:45:44 UTC): @livaios 'ci/runbot' failed on this reviewed PR.

fw-bot (Issue Creator) on (2025-01-10 02:01:42 UTC): @livaios this forward port of odoo/odoo#191538 is awaiting action (not merged or closed).

fw-bot (Issue Creator) on (2025-01-11 02:01:25 UTC): @livaios this forward port of odoo/odoo#191538 is awaiting action (not merged or closed).

fw-bot (Issue Creator) on (2025-01-12 02:01:51 UTC): @livaios this forward port of odoo/odoo#191538 is awaiting action (not merged or closed).

fw-bot (Issue Creator) on (2025-01-13 02:02:17 UTC): @livaios this forward port of odoo/odoo#191538 is awaiting action (not merged or closed).

fw-bot (Issue Creator) on (2025-01-14 02:01:46 UTC): @livaios this forward port of odoo/odoo#191538 is awaiting action (not merged or closed).

fw-bot (Issue Creator) on (2025-01-15 02:01:47 UTC): @livaios this forward port of odoo/odoo#191538 is awaiting action (not merged or closed).

fw-bot (Issue Creator) on (2025-01-16 02:01:21 UTC): @livaios this forward port of odoo/odoo#191538 is awaiting action (not merged or closed).

livaios on (2025-01-17 09:03:07 UTC): @robodoo r+

"
2775814983,pull_request,closed,,[FW][FIX] html_editor: fix traceback in html external link preview,"Currently, a traceback occurs when the user tries to preview an external link.

Steps to produce:

1) Create an email template and add any text in content.
2) Convert text to a URL with a random URL like 'test'
3) error will occur in log

Error:- 
```
TypeError: 'bool' object is not subscriptable
  File ""odoo/http.py"", line 2366, in __call__
    response = request._serve_db()
  File ""odoo/http.py"", line 1894, in _serve_db
    return self._transactioning(
  File ""odoo/http.py"", line 1957, in _transactioning
    return service_model.retrying(func, env=self.env)
  File ""odoo/service/model.py"", line 137, in retrying
    result = func()
  File ""odoo/http.py"", line 1924, in _serve_ir_http
    response = self.dispatcher.dispatch(rule.endpoint, args)
  File ""odoo/http.py"", line 2171, in dispatch
    result = self.request.registry['ir.http']._dispatch(endpoint)
  File ""odoo/addons/base/models/ir_http.py"", line 329, in _dispatch
    result = endpoint(**request.params)
  File ""odoo/http.py"", line 727, in route_wrapper
    result = endpoint(self, *args, **params_ok)
  File ""addons/html_editor/controllers/main.py"", line 564, in link_preview_metadata
    if link_preview_data['og_description']:
```

This error occurs in the following lines when the link_preview_data value is False, leading to the traceback:

https://github.com/odoo/odoo/blob/36e4b6f93bf2123557947e910e1be651c5357319/addons/html_editor/controllers/main.py#L563-L564

The get_link_preview_from_url method may return False from multiple places.

https://github.com/odoo/odoo/blob/36e4b6f93bf2123557947e910e1be651c5357319/addons/mail/tools/link_preview.py#L30-L35

Therefore, an additional check is needed to verify the value of `link_preview_data` before accessing its value.

Adding this extra check will make the code more robust and prevent the 
unnecessary tracebacks from occurring.

sentry-6199384889

Forward-Port-Of: odoo/odoo#192635",fw-bot,2025-01-08 16:27:35+00:00,[],2025-01-23 07:50:15+00:00,2025-01-09 07:48:31+00:00,https://github.com/odoo/odoo/pull/192942,"[('RD', 'research & development, internal work'), ('forwardport', 'This PR was created by @fw-bot'), ('18.2', None)]","[{'comment_id': 2578100881, 'issue_id': 2775814983, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/192942.png)](https://mergebot.odoo.com/odoo/odoo/pull/192942)', 'created_at': datetime.datetime(2025, 1, 8, 16, 27, 37, tzinfo=datetime.timezone.utc)}, {'comment_id': 2578100910, 'issue_id': 2775814983, 'author': 'fw-bot', 'body': '@alsh-odoo @dmo-odoo this PR targets master and is the last of the forward-port chain containing:\n* odoo/odoo#192913\n\nTo merge the full chain, use\n> @robodoo r+\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 8, 16, 27, 38, tzinfo=datetime.timezone.utc)}, {'comment_id': 2579197220, 'issue_id': 2775814983, 'author': 'alsh-odoo', 'body': '@robodoo r+', 'created_at': datetime.datetime(2025, 1, 9, 5, 14, 44, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-08 16:27:37 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/192942.png)](https://mergebot.odoo.com/odoo/odoo/pull/192942)

fw-bot (Issue Creator) on (2025-01-08 16:27:38 UTC): @alsh-odoo @dmo-odoo this PR targets master and is the last of the forward-port chain containing:
* odoo/odoo#192913

To merge the full chain, use

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

alsh-odoo on (2025-01-09 05:14:44 UTC): @robodoo r+

"
2775810882,pull_request,open,,[FW][FIX] web_editor: font-size not computed correctly,"**Behaviour before PR:**

In website, in some snippets font-size of paragraph like elements is not displayed correctly in toolbar. This issue happens because in `getFontSizeDisplayValue` method if there is no font-size class applied to element then it will set the value of `--font-size-base` css variable which is `16px`.

**Behaviour after PR is merged:**

Now, `getFontSizeDisplayValue` method will set font-size using `getComputedStyle` if there is no font related class is applied to that element.

task-4420329




---
I confirm I have signed the CLA and read the PR guidelines at www.odoo.com/submit-pr

Forward-Port-Of: odoo/odoo#191577",fw-bot,2025-01-08 16:25:35+00:00,[],2025-01-22 11:27:15+00:00,,https://github.com/odoo/odoo/pull/192941,"[('RD', 'research & development, internal work'), ('forwardport', 'This PR was created by @fw-bot')]","[{'comment_id': 2578096434, 'issue_id': 2775810882, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/192941.png)](https://mergebot.odoo.com/odoo/odoo/pull/192941)', 'created_at': datetime.datetime(2025, 1, 8, 16, 25, 36, tzinfo=datetime.timezone.utc)}, {'comment_id': 2578096458, 'issue_id': 2775810882, 'author': 'fw-bot', 'body': 'This PR targets saas-18.1 and is part of the forward-port chain. Further PRs will be created up to master.\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 8, 16, 25, 37, tzinfo=datetime.timezone.utc)}, {'comment_id': 2592734722, 'issue_id': 2775810882, 'author': 'fw-bot', 'body': '@adsa-odoo @dmo-odoo ci/runbot failed on this forward-port PR', 'created_at': datetime.datetime(2025, 1, 15, 12, 40, 29, tzinfo=datetime.timezone.utc)}, {'comment_id': 2606986876, 'issue_id': 2775810882, 'author': 'robodoo', 'body': '@adsa-odoo @dmo-odoo because this PR has multiple commits, I need to know how to merge it:\n\n* `merge` to merge directly, using the PR as merge commit message\n* `rebase-merge` to rebase and merge, using the PR as merge commit message\n* `rebase-ff` to rebase and fast-forward', 'created_at': datetime.datetime(2025, 1, 22, 11, 27, 13, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-08 16:25:36 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/192941.png)](https://mergebot.odoo.com/odoo/odoo/pull/192941)

fw-bot (Issue Creator) on (2025-01-08 16:25:37 UTC): This PR targets saas-18.1 and is part of the forward-port chain. Further PRs will be created up to master.

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

fw-bot (Issue Creator) on (2025-01-15 12:40:29 UTC): @adsa-odoo @dmo-odoo ci/runbot failed on this forward-port PR

robodoo on (2025-01-22 11:27:13 UTC): @adsa-odoo @dmo-odoo because this PR has multiple commits, I need to know how to merge it:

* `merge` to merge directly, using the PR as merge commit message
* `rebase-merge` to rebase and merge, using the PR as merge commit message
* `rebase-ff` to rebase and fast-forward

"
2775810191,pull_request,closed,,[FW][IMP] l10n_in_pos: move HSN field after the product field,"In this commit:
===
- Move `l10n_in_hsn_code` field in the order lines view to appear after the `product_id` field.

task-4432432

Forward-Port-Of: odoo/odoo#191861",fw-bot,2025-01-08 16:25:14+00:00,[],2025-01-23 09:21:57+00:00,2025-01-09 09:09:06+00:00,https://github.com/odoo/odoo/pull/192940,"[('RD', 'research & development, internal work'), ('forwardport', 'This PR was created by @fw-bot'), ('18.2', None)]","[{'comment_id': 2578095594, 'issue_id': 2775810191, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/192940.png)](https://mergebot.odoo.com/odoo/odoo/pull/192940)', 'created_at': datetime.datetime(2025, 1, 8, 16, 25, 15, tzinfo=datetime.timezone.utc)}, {'comment_id': 2578095625, 'issue_id': 2775810191, 'author': 'fw-bot', 'body': '@meji-odoo @adgu-odoo this PR targets master and is the last of the forward-port chain containing:\n* odoo/odoo#192912\n\nTo merge the full chain, use\n> @robodoo r+\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 8, 16, 25, 16, tzinfo=datetime.timezone.utc)}, {'comment_id': 2579177449, 'issue_id': 2775810191, 'author': 'fw-bot', 'body': '@meji-odoo @adgu-odoo this PR was modified / updated and has become a normal PR. It must be merged directly.', 'created_at': datetime.datetime(2025, 1, 9, 4, 52, 1, tzinfo=datetime.timezone.utc)}, {'comment_id': 2579266496, 'issue_id': 2775810191, 'author': 'meji-odoo', 'body': '@robodoo r+', 'created_at': datetime.datetime(2025, 1, 9, 6, 24, 40, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-08 16:25:15 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/192940.png)](https://mergebot.odoo.com/odoo/odoo/pull/192940)

fw-bot (Issue Creator) on (2025-01-08 16:25:16 UTC): @meji-odoo @adgu-odoo this PR targets master and is the last of the forward-port chain containing:
* odoo/odoo#192912

To merge the full chain, use

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

fw-bot (Issue Creator) on (2025-01-09 04:52:01 UTC): @meji-odoo @adgu-odoo this PR was modified / updated and has become a normal PR. It must be merged directly.

meji-odoo on (2025-01-09 06:24:40 UTC): @robodoo r+

"
2775809131,pull_request,closed,,[FW][FIX] html_editor: icon search with uppercase input,"Description of the issue this PR addresses:

Current behavior before PR:

Searching for icon names in uppercase was not working.

Desired behavior after PR is merged:

Icon search now works correctly when names are entered in uppercase.

task-4452824

---
I confirm I have signed the CLA and read the PR guidelines at www.odoo.com/submit-pr

Forward-Port-Of: odoo/odoo#192637",fw-bot,2025-01-08 16:24:48+00:00,[],2025-01-23 06:42:22+00:00,2025-01-09 06:24:32+00:00,https://github.com/odoo/odoo/pull/192939,"[('RD', 'research & development, internal work'), ('forwardport', 'This PR was created by @fw-bot'), ('18.2', None)]","[{'comment_id': 2578094500, 'issue_id': 2775809131, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/192939.png)](https://mergebot.odoo.com/odoo/odoo/pull/192939)', 'created_at': datetime.datetime(2025, 1, 8, 16, 24, 49, tzinfo=datetime.timezone.utc)}, {'comment_id': 2578094540, 'issue_id': 2775809131, 'author': 'fw-bot', 'body': '@deso-odoo @dmo-odoo this PR targets master and is the last of the forward-port chain containing:\n* odoo/odoo#192907\n\nTo merge the full chain, use\n> @robodoo r+\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 8, 16, 24, 50, tzinfo=datetime.timezone.utc)}, {'comment_id': 2579184403, 'issue_id': 2775809131, 'author': 'deso-odoo', 'body': '@robodoo r+', 'created_at': datetime.datetime(2025, 1, 9, 5, 1, 1, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-08 16:24:49 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/192939.png)](https://mergebot.odoo.com/odoo/odoo/pull/192939)

fw-bot (Issue Creator) on (2025-01-08 16:24:50 UTC): @deso-odoo @dmo-odoo this PR targets master and is the last of the forward-port chain containing:
* odoo/odoo#192907

To merge the full chain, use

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

deso-odoo on (2025-01-09 05:01:01 UTC): @robodoo r+

"
2775808249,pull_request,closed,,[FW][FIX] web_editor: selection fails on link when applying style,"**Current behaviour before PR:**

In website, when trying to apply color or any style on a link from toolbar whole link gets selected. This happens because in `wysiwyg.js` `destroyLinkTools` method gets called when user clicks on toolbar to apply color.

**Behaviour after PR:**

Now, any style can be applied on a link without selecting whole link.

task-4072867




---
I confirm I have signed the CLA and read the PR guidelines at www.odoo.com/submit-pr

Forward-Port-Of: odoo/odoo#192760
Forward-Port-Of: odoo/odoo#180616",fw-bot,2025-01-08 16:24:26+00:00,[],2025-01-29 11:06:37+00:00,2025-01-15 10:45:12+00:00,https://github.com/odoo/odoo/pull/192938,"[('RD', 'research & development, internal work'), ('forwardport', 'This PR was created by @fw-bot'), ('18.2', None)]","[{'comment_id': 2578093583, 'issue_id': 2775808249, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/192938.png)](https://mergebot.odoo.com/odoo/odoo/pull/192938)', 'created_at': datetime.datetime(2025, 1, 8, 16, 24, 27, tzinfo=datetime.timezone.utc)}, {'comment_id': 2578093613, 'issue_id': 2775808249, 'author': 'fw-bot', 'body': '@adsa-odoo @dmo-odoo this PR targets master and is the last of the forward-port chain containing:\n* odoo/odoo#192908\n\nTo merge the full chain, use\n> @robodoo r+\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 8, 16, 24, 28, tzinfo=datetime.timezone.utc)}, {'comment_id': 2578155311, 'issue_id': 2775808249, 'author': 'fw-bot', 'body': '@adsa-odoo @dmo-odoo ci/runbot failed on this forward-port PR', 'created_at': datetime.datetime(2025, 1, 8, 16, 51, 46, tzinfo=datetime.timezone.utc)}, {'comment_id': 2591880616, 'issue_id': 2775808249, 'author': 'dmo-odoo', 'body': '@robodoo r+', 'created_at': datetime.datetime(2025, 1, 15, 8, 3, 27, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-08 16:24:27 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/192938.png)](https://mergebot.odoo.com/odoo/odoo/pull/192938)

fw-bot (Issue Creator) on (2025-01-08 16:24:28 UTC): @adsa-odoo @dmo-odoo this PR targets master and is the last of the forward-port chain containing:
* odoo/odoo#192908

To merge the full chain, use

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

fw-bot (Issue Creator) on (2025-01-08 16:51:46 UTC): @adsa-odoo @dmo-odoo ci/runbot failed on this forward-port PR

dmo-odoo on (2025-01-15 08:03:27 UTC): @robodoo r+

"
2775805480,pull_request,closed,,[FW][FIX] purchase_requisition: remove existing currency rate in tests,"This commit removes the existing currency rate before creating the new ones as there is a unicity constrains on the currency rate date.

runbot-error: 111437

Description of the issue/feature this PR addresses:

Current behavior before PR:

Desired behavior after PR is merged:




---
I confirm I have signed the CLA and read the PR guidelines at www.odoo.com/submit-pr

Forward-Port-Of: odoo/odoo#192831",fw-bot,2025-01-08 16:23:02+00:00,[],2025-01-24 13:35:43+00:00,2025-01-10 13:10:48+00:00,https://github.com/odoo/odoo/pull/192937,"[('RD', 'research & development, internal work'), ('forwardport', 'This PR was created by @fw-bot')]","[{'comment_id': 2578090403, 'issue_id': 2775805480, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/192937.png)](https://mergebot.odoo.com/odoo/odoo/pull/192937)', 'created_at': datetime.datetime(2025, 1, 8, 16, 23, 3, tzinfo=datetime.timezone.utc)}, {'comment_id': 2578090448, 'issue_id': 2775805480, 'author': 'fw-bot', 'body': 'This PR targets saas-17.2 and is part of the forward-port chain. Further PRs will be created up to master.\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 8, 16, 23, 4, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-08 16:23:03 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/192937.png)](https://mergebot.odoo.com/odoo/odoo/pull/192937)

fw-bot (Issue Creator) on (2025-01-08 16:23:04 UTC): This PR targets saas-17.2 and is part of the forward-port chain. Further PRs will be created up to master.

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

"
2775803158,pull_request,closed,,[FW][FIX] l10n_in_withholding: fix account tax reload chart template data,"# Description
When we reload the chart of accounts parsed CSV data is altered after iterating
the first company because we are Only updating the tags of existing taxes 

For existing tax, we are mapping repartition lines here https://github.com/odoo/odoo/blob/a4c14fab299ed98024b7d7148d89bf17e914ccd1/addons/account/models/chart_template.py#L359

So that data_list has been altered after for the next company 
for the next iterator company, it has been eligible for obsolete here https://github.com/odoo/odoo/blob/a4c14fab299ed98024b7d7148d89bf17e914ccd1/addons/account/models/chart_template.py#L400

So, it is better to keep parsing data as it is while reloading the chart accounts for each company

TBG: [Traceback Group-1421](https://upgrade.odoo.com/web#id=1421&cids=1&menu_id=107&model=upgrade.request.traceback.group&view_type=form) 
OPWS:
- [4391978](https://www.odoo.com/odoo/project/70/tasks/4391978)
- [4402365](https://www.odoo.com/odoo/70/tasks/4402365)

```py
2024-12-26 10:21:46,303 16 INFO higo_2397155_18.0 odoo.addons.base.models.ir_module: module l10n_in_withholding: no translation for language en_IN 
2024-12-26 10:21:47,426 16 INFO higo_2397155_18.0 odoo.addons.l10n_in_withholding: Company Repose Foods Private Limited already has the Indian localization installed, updating... 
> /home/odoo/src/odoo/18.0/addons/account/models/chart_template.py(322)_pre_reload_data()
-> for model_name, records in data.items():
(Pdb) len([i for i in data['account.tax'].values() if i.get('name')])
163
(Pdb) c
> /home/odoo/src/odoo/18.0/addons/account/models/chart_template.py(397)_pre_reload_data()
-> if obsolete_xmlid:
(Pdb) len([i for i in data['account.tax'].values() if i.get('name')])
75
(Pdb) c
2024-12-26 10:22:14,417 16 INFO higo_2397155_18.0 odoo.addons.l10n_in_withholding: Company M/S Repose already has the Indian localization installed, updating... 
> /home/odoo/src/odoo/18.0/addons/account/models/chart_template.py(322)_pre_reload_data()
-> for model_name, records in data.items():
(Pdb) len([i for i in data['account.tax'].values() if i.get('name')])
75
(Pdb) c
> /home/odoo/src/odoo/18.0/addons/account/models/chart_template.py(397)_pre_reload_data()
-> if obsolete_xmlid:
(Pdb) l
392  	                        skip_update.add((model_name, xmlid))
393  	
394  	        for skip_model, skip_xmlid in skip_update:
395  	            data[skip_model].pop(skip_xmlid, None)
396  	        import pdb; pdb.set_trace()
397  ->	        if obsolete_xmlid:
398  	            self.env['ir.model.data'].search([
399  	                ('name', 'in', [f""{company.id}_{xmlid}"" for xmlid in obsolete_xmlid]),
400  	                ('module', '=', 'account'),
401  	            ]).unlink()
402  	
(Pdb) len(obsolete_xmlid)
88
(Pdb) c
2024-12-26 10:22:56,209 16 INFO higo_2397155_18.0 odoo.models.unlink: User #1 deleted ir.model.data records with IDs: [48827, 48804, 48815, 48813, 48823, 48828, 48811, 48809, 48807, 48821, 48817, 48819, 48805, 48812, 48816, 48814, 48806, 48810, 48808, 48822, 48818, 48820, 48824, 48826, 48825, 48887, 48888, 48829, 48831, 48833, 48835, 48843, 48848, 48856, 48862, 48865, 48867, 48869, 48871, 48873, 48877, 48889, 48839, 48858, 48885, 48890, 48830, 48832, 48834, 48836, 48841, 48844, 48846, 48847, 48849, 48850, 48852, 48854, 48857, 48859, 48861, 48863, 48866, 48868, 48870, 48876, 48872, 48874, 48881, 48884, 48886, 48878, 48840, 48855, 48864, 48882, 48837, 48838, 48879, 48891, 48842, 48845, 48851, 48853, 48860, 48875, 48880, 48883] 
2024-12-26 10:22:56,738 16 ERROR higo_2397155_18.0 odoo.sql_db: bad query: b'INSERT INTO ""account_tax"" (""active"", ""amount"", ""amount_type"", ""company_id"", ""country_id"", ""create_date"", ""create_uid"", ""description"", ""formula"", ""include_base_amount"", ""invoice_label"", ""is_base_affected"", ""l10n_in_section_id"", ""l10n_in_tds_tax_type"", ""name"", ""sequence"", ""tax_exigibility"", ""tax_group_id"", ""tax_scope"", ""type_tax_use"", ""write_date"", ""write_uid"") ...
```


**Traceback**
```py
2024-12-26 06:49:10,588 26 INFO higo_2403300_18.0 odoo.addons.l10n_in_withholding: Company Sah Estates already has the Indian localization installed, updating...
2024-12-26 07:14:31,217 26 INFO higo_2403300_18.0 odoo.addons.l10n_in_withholding: Company sahaccounts already has the Indian localization installed, updating...
2024-12-26 07:16:43,050 26 INFO higo_2403300_18.0 odoo.models.unlink: User #1 deleted ir.model.data records with IDs: [26281, 26258, 26269, 26267, 26277, 26282, 26265, 26263, 26261, 26275, 26271, 26273, 26259, 26266, 26270, 26268, 26260, 26264, 26262, 26276, 26272, 26274, 26278, 26280, 26279, 26341, 26342, 26283, 26285, 26287, 26289, 26297, 26302, 26310, 26316, 26319, 26321, 26323, 26325, 26327, 26331, 26343, 26293, 26312, 26339, 26344, 26284, 26286, 26288, 26290, 26295, 26298, 26300, 26301, 26303, 26304, 26306, 26308, 26311, 26313, 26315, 26317, 26320, 26322, 26324, 26330, 26326, 26328, 26335, 26338, 26340, 26332, 26294, 26309, 26318, 26336, 26291, 26292, 26333, 26345, 26296, 26299, 26305, 26307, 26314, 26329, 26334, 26337] 

2024-12-26 07:35:03,359 28 ERROR higo_2397155_18.0 odoo.modules.registry: Failed to load registry
2024-12-26 07:35:03,359 28 CRITICAL higo_2397155_18.0 odoo.service.server: Failed to initialize database `higo_2397155_18.0`.
Traceback (most recent call last):
  File ""/home/odoo/src/odoo/18.0/odoo/service/server.py"", line 1306, in preload_registries
    registry = Registry.new(dbname, update_module=update_module)
  File ""<decorator-gen-13>"", line 2, in new
  File ""/home/odoo/src/odoo/18.0/odoo/tools/func.py"", line 97, in locked
    return func(inst, *args, **kwargs)
  File ""/home/odoo/src/odoo/18.0/odoo/modules/registry.py"", line 127, in new
    odoo.modules.load_modules(registry, force_demo, status, update_module)
  File ""/home/odoo/src/odoo/18.0/odoo/modules/loading.py"", line 480, in load_modules
    processed_modules += load_marked_modules(env, graph,
  File ""/home/odoo/src/odoo/18.0/odoo/modules/loading.py"", line 364, in load_marked_modules
    loaded, processed = load_module_graph(
  File ""/home/odoo/src/odoo/18.0/odoo/modules/loading.py"", line 245, in load_module_graph
    getattr(py_module, post_init)(env)
  File ""/home/odoo/src/odoo/18.0/addons/l10n_in_withholding/__init__.py"", line 26, in _l10n_in_withholding_post_init
    ChartTemplate._load_data(data)
  File ""/tmp/tmpqk9sqppy/migrations/account/0.0.0/pre-ensure-deferred-accounts.py"", line 36, in _load_data
    return super()._load_data(data, *args, **kwargs)
  File ""/home/odoo/src/odoo/18.0/addons/account/models/chart_template.py"", line 635, in _load_data
    created_records[model] = self.with_context(lang='en_US').env[model]._load_records(all_records_vals, ignore_duplicates=ignore_duplicates)
  File ""/home/odoo/src/odoo/18.0/odoo/models.py"", line 5467, in _load_records
    records = self._load_records_create([data['values'] for data in to_create])
  File ""/home/odoo/src/odoo/18.0/odoo/models.py"", line 5371, in _load_records_create
    records = self.create(vals_list)
  File ""<decorator-gen-228>"", line 2, in create
  File ""/home/odoo/src/odoo/18.0/odoo/api.py"", line 480, in _model_create_multi
    return create(self, arg)
  File ""/home/odoo/src/odoo/18.0/addons/account/models/account_tax.py"", line 599, in create
    taxes = super(AccountTax, self.with_context(context)).create([self._sanitize_vals(vals) for vals in vals_list])
  File ""<decorator-gen-140>"", line 2, in create
  File ""/home/odoo/src/odoo/18.0/odoo/api.py"", line 480, in _model_create_multi
    return create(self, arg)
  File ""/home/odoo/src/odoo/18.0/addons/mail/models/mail_thread.py"", line 268, in create
    threads = super(MailThread, self).create(vals_list)
  File ""<decorator-gen-120>"", line 2, in create
  File ""/home/odoo/src/odoo/18.0/odoo/api.py"", line 480, in _model_create_multi
    return create(self, arg)
  File ""/tmp/tmpqk9sqppy/migrations/util/orm.py"", line 244, in wrapper
    return f(*args, **kwargs)
  File ""/tmp/tmpqk9sqppy/migrations/base/0.0.0/pre-models-match_uniq.py"", line 96, in create
    records = super().create([vals_list[idx] for idx in create_idx_list])
  File ""<decorator-gen-31>"", line 2, in create
  File ""/home/odoo/src/odoo/18.0/odoo/api.py"", line 480, in _model_create_multi
    return create(self, arg)
  File ""/home/odoo/src/odoo/18.0/odoo/models.py"", line 4975, in create
    records = self._create(data_list)
  File ""/home/odoo/src/odoo/18.0/odoo/models.py"", line 5159, in _create
    cr.execute(SQL(
  File ""/home/odoo/src/odoo/18.0/odoo/sql_db.py"", line 354, in execute
    res = self._obj.execute(query, params)
psycopg2.errors.NotNullViolation: null value in column ""name"" of relation ""account_tax"" violates not-null constraint
DETAIL:  Failing row contains (1941, 18, 1, 12, null, 104, 1, 1, sale, null, percent, on_invoice, null, null, null, 0.0000, t, f, t, null, 2024-12-26 07:34:58.528488, 2024-12-26 07:34:58.528488, price_unit * 0.10, null, null, null, null, null).
```

Description of the issue/feature this PR addresses:

Current behavior before PR:

Desired behavior after PR is merged:

---
I confirm I have signed the CLA and read the PR guidelines at www.odoo.com/submit-pr

Forward-Port-Of: odoo/odoo#191770",fw-bot,2025-01-08 16:22:10+00:00,[],2025-01-22 21:53:25+00:00,2025-01-08 20:54:14+00:00,https://github.com/odoo/odoo/pull/192936,"[('OE', 'the report is linked to a support ticket (opw-...)'), ('forwardport', 'This PR was created by @fw-bot'), ('18.2', None)]","[{'comment_id': 2578087997, 'issue_id': 2775803158, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/192936.png)](https://mergebot.odoo.com/odoo/odoo/pull/192936)', 'created_at': datetime.datetime(2025, 1, 8, 16, 22, 11, tzinfo=datetime.timezone.utc)}, {'comment_id': 2578088041, 'issue_id': 2775803158, 'author': 'fw-bot', 'body': '@higo-odoo @william-andre this PR targets master and is the last of the forward-port chain containing:\n* odoo/odoo#192906\n\nTo merge the full chain, use\n> @robodoo r+\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 8, 16, 22, 12, tzinfo=datetime.timezone.utc)}, {'comment_id': 2578105424, 'issue_id': 2775803158, 'author': 'william-andre', 'body': '@robodoo r+', 'created_at': datetime.datetime(2025, 1, 8, 16, 29, 30, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-08 16:22:11 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/192936.png)](https://mergebot.odoo.com/odoo/odoo/pull/192936)

fw-bot (Issue Creator) on (2025-01-08 16:22:12 UTC): @higo-odoo @william-andre this PR targets master and is the last of the forward-port chain containing:
* odoo/odoo#192906

To merge the full chain, use

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

william-andre on (2025-01-08 16:29:30 UTC): @robodoo r+

"
2775801324,pull_request,closed,,[FW][FIX] point_of_sale: Fix show selected partner on top,"Steps to reproduce:
1.Install ``point_of_sale`` in odoo 18.0
2.Open point of sale session and left side there is customer button select the customer.
3.selected partner will show at the top of all partner in chrome but in firefox browser selected partner is not showing at top

For fixing it
 making sorting(compartor) more acurate.

opw-4408218

---
I confirm I have signed the CLA and read the PR guidelines at www.odoo.com/submit-pr

Forward-Port-Of: odoo/odoo#191317",fw-bot,2025-01-08 16:21:16+00:00,[],2025-01-23 07:50:16+00:00,2025-01-09 07:48:35+00:00,https://github.com/odoo/odoo/pull/192935,"[('OE', 'the report is linked to a support ticket (opw-...)'), ('forwardport', 'This PR was created by @fw-bot'), ('18.2', None)]","[{'comment_id': 2578086141, 'issue_id': 2775801324, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/192935.png)](https://mergebot.odoo.com/odoo/odoo/pull/192935)', 'created_at': datetime.datetime(2025, 1, 8, 16, 21, 18, tzinfo=datetime.timezone.utc)}, {'comment_id': 2578086197, 'issue_id': 2775801324, 'author': 'fw-bot', 'body': '@sagu-odoo @caburj this PR targets master and is the last of the forward-port chain containing:\n* odoo/odoo#192911\n\nTo merge the full chain, use\n> @robodoo r+\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 8, 16, 21, 19, tzinfo=datetime.timezone.utc)}, {'comment_id': 2579202400, 'issue_id': 2775801324, 'author': 'sagu-odoo', 'body': '@robodoo r+', 'created_at': datetime.datetime(2025, 1, 9, 5, 20, 32, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-08 16:21:18 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/192935.png)](https://mergebot.odoo.com/odoo/odoo/pull/192935)

fw-bot (Issue Creator) on (2025-01-08 16:21:19 UTC): @sagu-odoo @caburj this PR targets master and is the last of the forward-port chain containing:
* odoo/odoo#192911

To merge the full chain, use

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

sagu-odoo on (2025-01-09 05:20:32 UTC): @robodoo r+

"
2775799069,pull_request,open,,[DRAFT][FIX] crm: fix team assignation on lead quick create,"How to reproduce:
==============
- ​Have Marc Demo work in another sales team that yours.
- ​Go to a kanban view of leads, grouped by salesperson.
- ​Quick create a new lead.

Current behavior:
=============
​It gets assigned to your team, probably because
the default value is not properly updated.

Expected behavior:
==============
- ​The lead belongs to Marc and should be linked to his team.
- ​It works fine if you do it from the form view.

task-4438021

---
I confirm I have signed the CLA and read the PR guidelines at www.odoo.com/submit-pr
",lm4649,2025-01-08 16:20:07+00:00,[],2025-01-30 10:15:43+00:00,,https://github.com/odoo/odoo/pull/192934,"[('RD', 'research & development, internal work')]","[{'comment_id': 2578083854, 'issue_id': 2775799069, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/192934.png)](https://mergebot.odoo.com/odoo/odoo/pull/192934)', 'created_at': datetime.datetime(2025, 1, 8, 16, 20, 13, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-08 16:20:13 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/192934.png)](https://mergebot.odoo.com/odoo/odoo/pull/192934)

"
2775791952,pull_request,open,,[IMP] l10n_latam_invoice_document: simplify the thing,"Description of the issue/feature this PR addresses:

Current behavior before PR:

Desired behavior after PR is merged:




---
I confirm I have signed the CLA and read the PR guidelines at www.odoo.com/submit-pr
",jco-odoo,2025-01-08 16:16:31+00:00,[],2025-01-08 17:00:33+00:00,,https://github.com/odoo/odoo/pull/192933,"[('RD', 'research & development, internal work')]","[{'comment_id': 2578076095, 'issue_id': 2775791952, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/192933.png)](https://mergebot.odoo.com/odoo/odoo/pull/192933)', 'created_at': datetime.datetime(2025, 1, 8, 16, 16, 36, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-08 16:16:36 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/192933.png)](https://mergebot.odoo.com/odoo/odoo/pull/192933)

"
2775771979,pull_request,closed,,[FIX] mrp: bypass set_qty_producing on lot creation for MO,"### Steps to reproduce:

- Create a product tracked by LOT (not SN)
- Create a BOM for that product and a BOM line with a tracked product
- Put a an SN for your component in STOCK.
- Create an MO for 1 unit of your product and confirm.
> The SN should be set on your component line.
- Set an LOT on the finished product with the create option but without clicking on the [+]
#### > The quantity of the component line was updated to 0 and the SN of the comp was removed.

### Cause of the issue:

Changing the lot on the MO form will trigger the `_onchange_producing` which will in turn `_set_qty_producing`:
https://github.com/odoo/odoo/blob/83445d91a588958417fef8a04d1187974d4b3d9a/addons/mrp/models/mrp_production.py#L797-L799 In case the product is tracked by SN this `_set_qty_producing` will set a qty_producing of 1 and the move raws will reserve a quantity accordingly but if the product is tracked by lot or not tracked at all the quantities of the move raw will just be adapted to match the `qty_producing` (that was at 0 from the start):
https://github.com/odoo/odoo/blob/83445d91a588958417fef8a04d1187974d4b3d9a/addons/mrp/models/mrp_production.py#L1217-L1227

opw-4418809
---
I confirm I have signed the CLA and read the PR guidelines at www.odoo.com/submit-pr
",lase-odoo,2025-01-08 16:07:25+00:00,[],2025-02-06 12:52:05+00:00,2025-01-23 12:49:15+00:00,https://github.com/odoo/odoo/pull/192932,"[('OE', 'the report is linked to a support ticket (opw-...)')]","[{'comment_id': 2578054824, 'issue_id': 2775771979, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/192932.png)](https://mergebot.odoo.com/odoo/odoo/pull/192932)', 'created_at': datetime.datetime(2025, 1, 8, 16, 7, 29, tzinfo=datetime.timezone.utc)}, {'comment_id': 2609439656, 'issue_id': 2775771979, 'author': 'svs-odoo', 'body': 'robodoo r+', 'created_at': datetime.datetime(2025, 1, 23, 10, 29, 4, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-08 16:07:29 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/192932.png)](https://mergebot.odoo.com/odoo/odoo/pull/192932)

svs-odoo on (2025-01-23 10:29:04 UTC): robodoo r+

"
2775770470,pull_request,closed,,[FIX] web_editor: extract link from HTML,"**Problem**:
When a link is copied with HTML content, `handlePasteText` is called after `handlePasteHtml`, and the content type is `text/html`.

**Solution**:
Extract the pasted content as text inside `handlePasteHtml` and check if it is a single valid link. If so, skip further processing.

**Steps to Reproduce**:
1. Copy a link from Visual Studio Code.
2. Paste the link into the editor.
3. Observe that the link is not created.

opw-4460599

---
I confirm I have signed the CLA and read the PR guidelines at www.odoo.com/submit-pr
",walidsahli,2025-01-08 16:06:44+00:00,[],2025-02-03 17:46:18+00:00,2025-02-03 17:46:18+00:00,https://github.com/odoo/odoo/pull/192931,"[('OE', 'the report is linked to a support ticket (opw-...)')]","[{'comment_id': 2578053183, 'issue_id': 2775770470, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/192931.png)](https://mergebot.odoo.com/odoo/odoo/pull/192931)', 'created_at': datetime.datetime(2025, 1, 8, 16, 6, 47, tzinfo=datetime.timezone.utc)}, {'comment_id': 2631079295, 'issue_id': 2775770470, 'author': 'dmo-odoo', 'body': '@walidsahli Thanks!\r\n@robodoo r+', 'created_at': datetime.datetime(2025, 2, 3, 13, 57, 33, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-08 16:06:47 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/192931.png)](https://mergebot.odoo.com/odoo/odoo/pull/192931)

dmo-odoo on (2025-02-03 13:57:33 UTC): @walidsahli Thanks!
@robodoo r+

"
2775754024,pull_request,closed,,[FW][FIX] l10n_es: missing lines for agricultural fiscal position,"Two lines that were missing from the ""REAGYP - Agricultura"" Fiscal Position Tax Mapping have been added.

task-4342206

Forward-Port-Of: odoo/odoo#192359",fw-bot,2025-01-08 15:59:19+00:00,[],2025-01-23 18:23:53+00:00,2025-01-09 18:13:52+00:00,https://github.com/odoo/odoo/pull/192930,"[('RD', 'research & development, internal work'), ('forwardport', 'This PR was created by @fw-bot'), ('conflict', 'There was an error while creating this forward-port PR')]","[{'comment_id': 2578035185, 'issue_id': 2775754024, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/192930.png)](https://mergebot.odoo.com/odoo/odoo/pull/192930)', 'created_at': datetime.datetime(2025, 1, 8, 15, 59, 21, tzinfo=datetime.timezone.utc)}, {'comment_id': 2578035219, 'issue_id': 2775754024, 'author': 'fw-bot', 'body': '@aizu-odoo @jco-odoo cherrypicking of pull request odoo/odoo#192359 failed.\n\nstdout:\n```\nCONFLICT (modify/delete): addons/l10n_es/data/account_fiscal_position_template_data.xml deleted in d5cd561336a45d67cd8d562410c49942ad744bbc and modified in 41402791a6ea5a1c065550732227964cf6e2d47e.  Version 41402791a6ea5a1c065550732227964cf6e2d47e of addons/l10n_es/data/account_fiscal_position_template_data.xml left in tree.\n\n```\n\nEither perform the forward-port manually (and push to this branch, proceeding as usual) or close this PR (maybe?).\n\nIn the former case, you may want to edit this PR message as well.\n\n:warning: after resolving this conflict, you will need to merge it via @robodoo.\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 8, 15, 59, 21, tzinfo=datetime.timezone.utc)}, {'comment_id': 2580621843, 'issue_id': 2775754024, 'author': 'aizu-odoo', 'body': '@robodoo r+', 'created_at': datetime.datetime(2025, 1, 9, 15, 50, 13, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-08 15:59:21 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/192930.png)](https://mergebot.odoo.com/odoo/odoo/pull/192930)

fw-bot (Issue Creator) on (2025-01-08 15:59:21 UTC): @aizu-odoo @jco-odoo cherrypicking of pull request odoo/odoo#192359 failed.

stdout:
```
CONFLICT (modify/delete): addons/l10n_es/data/account_fiscal_position_template_data.xml deleted in d5cd561336a45d67cd8d562410c49942ad744bbc and modified in 41402791a6ea5a1c065550732227964cf6e2d47e.  Version 41402791a6ea5a1c065550732227964cf6e2d47e of addons/l10n_es/data/account_fiscal_position_template_data.xml left in tree.

```

Either perform the forward-port manually (and push to this branch, proceeding as usual) or close this PR (maybe?).

In the former case, you may want to edit this PR message as well.

:warning: after resolving this conflict, you will need to merge it via @robodoo.

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

aizu-odoo on (2025-01-09 15:50:13 UTC): @robodoo r+

"
2775753364,pull_request,closed,,[FW][IMP] hw_posbox_homepage: ui while access point mode,"Since the refactor to use OWL instead of jinja, we do not display a specific page when the IoT Box is in access point mode.
We added more conditions to display less elements on the homepage for the user to know that he needs to configure a Wi-Fi network on the IoT Box.

Task: 4403617

![image](https://github.com/user-attachments/assets/ceee99bc-1d68-4631-8c3d-2d246b59112a)
![image](https://github.com/user-attachments/assets/0e8769fb-1c5a-4aca-999d-5e753f327951)

Forward-Port-Of: odoo/odoo#192843",fw-bot,2025-01-08 15:59:02+00:00,[],2025-01-22 21:53:24+00:00,2025-01-08 20:54:09+00:00,https://github.com/odoo/odoo/pull/192929,"[('RD', 'research & development, internal work'), ('forwardport', 'This PR was created by @fw-bot'), ('18.2', None)]","[{'comment_id': 2578034518, 'issue_id': 2775753364, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/192929.png)](https://mergebot.odoo.com/odoo/odoo/pull/192929)', 'created_at': datetime.datetime(2025, 1, 8, 15, 59, 4, tzinfo=datetime.timezone.utc)}, {'comment_id': 2578034545, 'issue_id': 2775753364, 'author': 'fw-bot', 'body': '@loouis-t @Ysoroko this PR targets master and is the last of the forward-port chain.\n\nTo merge the full chain, use\n> @robodoo r+\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 8, 15, 59, 4, tzinfo=datetime.timezone.utc)}, {'comment_id': 2578062453, 'issue_id': 2775753364, 'author': 'loouis-t', 'body': '@robodoo r+', 'created_at': datetime.datetime(2025, 1, 8, 16, 10, 45, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-08 15:59:04 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/192929.png)](https://mergebot.odoo.com/odoo/odoo/pull/192929)

fw-bot (Issue Creator) on (2025-01-08 15:59:04 UTC): @loouis-t @Ysoroko this PR targets master and is the last of the forward-port chain.

To merge the full chain, use

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

loouis-t on (2025-01-08 16:10:45 UTC): @robodoo r+

"
2775752794,pull_request,closed,,[FW][FIX] html_editor: outdent list item with empty nodes,"[FIX] html_editor: space removal by  wrapInlinesInBlocks <- fix required for the following one
[FIX] html_editor: outdent list item with empty nodes

task-4398327

Forward-Port-Of: odoo/odoo#192791
Forward-Port-Of: odoo/odoo#190484",fw-bot,2025-01-08 15:58:46+00:00,[],2025-01-27 10:18:07+00:00,2025-01-13 10:17:43+00:00,https://github.com/odoo/odoo/pull/192928,"[('RD', 'research & development, internal work'), ('forwardport', 'This PR was created by @fw-bot'), ('conflict', 'There was an error while creating this forward-port PR'), ('18.2', None)]","[{'comment_id': 2578033843, 'issue_id': 2775752794, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/192928.png)](https://mergebot.odoo.com/odoo/odoo/pull/192928)', 'created_at': datetime.datetime(2025, 1, 8, 15, 58, 47, tzinfo=datetime.timezone.utc)}, {'comment_id': 2578033870, 'issue_id': 2775752794, 'author': 'fw-bot', 'body': '@cammarosano @dmo-odoo cherrypicking of pull request odoo/odoo#190484 failed.\n\n* 6e53b964412bd3af71ce1896efa8656ec032da5d\n* b3327ccfb508eeebd92eadb80d391cd1222e1279 <- on this commit\n\nstdout:\n```\nAuto-merging addons/html_editor/static/src/main/list/list_plugin.js\nCONFLICT (content): Merge conflict in addons/html_editor/static/src/main/list/list_plugin.js\n\n```\n\nEither perform the forward-port manually (and push to this branch, proceeding as usual) or close this PR (maybe?).\n\nIn the former case, you may want to edit this PR message as well.\n\n:warning: after resolving this conflict, you will need to merge it via @robodoo.\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 8, 15, 58, 48, tzinfo=datetime.timezone.utc)}, {'comment_id': 2583022873, 'issue_id': 2775752794, 'author': 'cammarosano', 'body': '@dmo-odoo Other the solving conflicts with a slight refactor (2nd commit), I have added an extra commit with a fix of an issue I found along the way.', 'created_at': datetime.datetime(2025, 1, 10, 15, 51, 23, tzinfo=datetime.timezone.utc)}, {'comment_id': 2585000527, 'issue_id': 2775752794, 'author': 'fw-bot', 'body': '@cammarosano @dmo-odoo this forward port of odoo/odoo#190484 is awaiting action (not merged or closed).', 'created_at': datetime.datetime(2025, 1, 11, 2, 1, 34, tzinfo=datetime.timezone.utc)}, {'comment_id': 2585541909, 'issue_id': 2775752794, 'author': 'fw-bot', 'body': '@cammarosano @dmo-odoo this forward port of odoo/odoo#190484 is awaiting action (not merged or closed).', 'created_at': datetime.datetime(2025, 1, 12, 2, 2, 2, tzinfo=datetime.timezone.utc)}, {'comment_id': 2586047299, 'issue_id': 2775752794, 'author': 'fw-bot', 'body': '@cammarosano @dmo-odoo this forward port of odoo/odoo#190484 is awaiting action (not merged or closed).', 'created_at': datetime.datetime(2025, 1, 13, 2, 2, 36, tzinfo=datetime.timezone.utc)}, {'comment_id': 2586480917, 'issue_id': 2775752794, 'author': 'dmo-odoo', 'body': '@cammarosano Thanks!\r\n@robodoo rebase-ff r+', 'created_at': datetime.datetime(2025, 1, 13, 8, 29, 58, tzinfo=datetime.timezone.utc)}, {'comment_id': 2586480985, 'issue_id': 2775752794, 'author': 'robodoo', 'body': 'Merge method set to rebase and fast-forward.', 'created_at': datetime.datetime(2025, 1, 13, 8, 30, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-08 15:58:47 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/192928.png)](https://mergebot.odoo.com/odoo/odoo/pull/192928)

fw-bot (Issue Creator) on (2025-01-08 15:58:48 UTC): @cammarosano @dmo-odoo cherrypicking of pull request odoo/odoo#190484 failed.

* 6e53b964412bd3af71ce1896efa8656ec032da5d
* b3327ccfb508eeebd92eadb80d391cd1222e1279 <- on this commit

stdout:
```
Auto-merging addons/html_editor/static/src/main/list/list_plugin.js
CONFLICT (content): Merge conflict in addons/html_editor/static/src/main/list/list_plugin.js

```

Either perform the forward-port manually (and push to this branch, proceeding as usual) or close this PR (maybe?).

In the former case, you may want to edit this PR message as well.

:warning: after resolving this conflict, you will need to merge it via @robodoo.

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

cammarosano on (2025-01-10 15:51:23 UTC): @dmo-odoo Other the solving conflicts with a slight refactor (2nd commit), I have added an extra commit with a fix of an issue I found along the way.

fw-bot (Issue Creator) on (2025-01-11 02:01:34 UTC): @cammarosano @dmo-odoo this forward port of odoo/odoo#190484 is awaiting action (not merged or closed).

fw-bot (Issue Creator) on (2025-01-12 02:02:02 UTC): @cammarosano @dmo-odoo this forward port of odoo/odoo#190484 is awaiting action (not merged or closed).

fw-bot (Issue Creator) on (2025-01-13 02:02:36 UTC): @cammarosano @dmo-odoo this forward port of odoo/odoo#190484 is awaiting action (not merged or closed).

dmo-odoo on (2025-01-13 08:29:58 UTC): @cammarosano Thanks!
@robodoo rebase-ff r+

robodoo on (2025-01-13 08:30:00 UTC): Merge method set to rebase and fast-forward.

"
2775751879,pull_request,closed,,[FW][FIX] *: basic receipt print,"*: point_of_sale, l10n_fr_pos_cert, pos_loyalty

Before this commit:
==========
- When the basic receipt option is enabled in the configuration, only basic receipts are printed, even when the full receipt option is selected. Additionally, the receipt screen displays only basic receipts.
- Customer details were not visible on the receipt.

After this commit:
==========
- The basic receipt functionality has been refined for a seamless experience. Both printing and screen display behaviors now align with the expected workflow.
- Customer details are now correctly displayed on the receipt.

task-4430207

Forward-Port-Of: odoo/odoo#191598",fw-bot,2025-01-08 15:58:21+00:00,[],2025-01-23 06:42:20+00:00,2025-01-09 06:24:21+00:00,https://github.com/odoo/odoo/pull/192927,"[('RD', 'research & development, internal work'), ('forwardport', 'This PR was created by @fw-bot'), ('18.2', None)]","[{'comment_id': 2578032964, 'issue_id': 2775751879, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/192927.png)](https://mergebot.odoo.com/odoo/odoo/pull/192927)', 'created_at': datetime.datetime(2025, 1, 8, 15, 58, 25, tzinfo=datetime.timezone.utc)}, {'comment_id': 2578032985, 'issue_id': 2775751879, 'author': 'fw-bot', 'body': '@paan-odoo @davidmonnom this PR targets master and is the last of the forward-port chain.\n\nTo merge the full chain, use\n> @robodoo r+\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 8, 15, 58, 26, tzinfo=datetime.timezone.utc)}, {'comment_id': 2579165124, 'issue_id': 2775751879, 'author': 'paan-odoo', 'body': '@robodoo r+', 'created_at': datetime.datetime(2025, 1, 9, 4, 36, 54, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-08 15:58:25 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/192927.png)](https://mergebot.odoo.com/odoo/odoo/pull/192927)

fw-bot (Issue Creator) on (2025-01-08 15:58:26 UTC): @paan-odoo @davidmonnom this PR targets master and is the last of the forward-port chain.

To merge the full chain, use

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

paan-odoo on (2025-01-09 04:36:54 UTC): @robodoo r+

"
2775722405,pull_request,open,,[IMP] core: too much invalidation of one2many,"We invalidated all one2many even after calling _update_inverse which is mostly ineffcient.

",ryv-odoo,2025-01-08 15:45:31+00:00,[],2025-01-08 16:00:15+00:00,,https://github.com/odoo/odoo/pull/192925,"[('RD', 'research & development, internal work')]","[{'comment_id': 2578000915, 'issue_id': 2775722405, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/192925.png)](https://mergebot.odoo.com/odoo/odoo/pull/192925)', 'created_at': datetime.datetime(2025, 1, 8, 15, 45, 34, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-08 15:45:34 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/192925.png)](https://mergebot.odoo.com/odoo/odoo/pull/192925)

"
2775720635,pull_request,closed,,[FW][FIX] account: Fix group by internal group on journal items,"In journal items, when grouping by 'Internal Group', a traceback appears due to referencing a non-existent table `account_account` as it has been joined with `account_move_line`.

This commit ensures the referenced table is correctly updated in the case of joins.

opw-4405281

---
I confirm I have signed the CLA and read the PR guidelines at www.odoo.com/submit-pr

Forward-Port-Of: odoo/odoo#192489",fw-bot,2025-01-08 15:44:41+00:00,[],2025-01-22 21:53:23+00:00,2025-01-08 20:53:22+00:00,https://github.com/odoo/odoo/pull/192924,"[('OE', 'the report is linked to a support ticket (opw-...)'), ('forwardport', 'This PR was created by @fw-bot')]","[{'comment_id': 2577998773, 'issue_id': 2775720635, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/192924.png)](https://mergebot.odoo.com/odoo/odoo/pull/192924)', 'created_at': datetime.datetime(2025, 1, 8, 15, 44, 42, tzinfo=datetime.timezone.utc)}, {'comment_id': 2577998801, 'issue_id': 2775720635, 'author': 'fw-bot', 'body': 'This PR targets saas-17.4 and is part of the forward-port chain. Further PRs will be created up to master.\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 8, 15, 44, 43, tzinfo=datetime.timezone.utc)}, {'comment_id': 2578200429, 'issue_id': 2775720635, 'author': 'fw-bot', 'body': '@seifgneedy @william-andre the next pull request (odoo/odoo#192954) is in conflict. You can merge the chain up to here by saying\n> @robodoo r+\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 8, 17, 13, 55, tzinfo=datetime.timezone.utc)}, {'comment_id': 2578305903, 'issue_id': 2775720635, 'author': 'william-andre', 'body': '@robodoo r+', 'created_at': datetime.datetime(2025, 1, 8, 18, 4, 50, tzinfo=datetime.timezone.utc)}, {'comment_id': 2578322687, 'issue_id': 2775720635, 'author': 'william-andre', 'body': '@robodoo r-', 'created_at': datetime.datetime(2025, 1, 8, 18, 13, 56, tzinfo=datetime.timezone.utc)}, {'comment_id': 2578322730, 'issue_id': 2775720635, 'author': 'robodoo', 'body': 'Note that only this forward-port has been unapproved, sibling forward ports may have to be unapproved individually.', 'created_at': datetime.datetime(2025, 1, 8, 18, 13, 58, tzinfo=datetime.timezone.utc)}, {'comment_id': 2578326073, 'issue_id': 2775720635, 'author': 'fw-bot', 'body': '@seifgneedy @william-andre this PR was modified / updated and has become a normal PR. It must be merged directly.', 'created_at': datetime.datetime(2025, 1, 8, 18, 15, 58, tzinfo=datetime.timezone.utc)}, {'comment_id': 2578327094, 'issue_id': 2775720635, 'author': 'william-andre', 'body': '@robodoo r+', 'created_at': datetime.datetime(2025, 1, 8, 18, 16, 33, tzinfo=datetime.timezone.utc)}, {'comment_id': 2578392639, 'issue_id': 2775720635, 'author': 'robodoo', 'body': ""@seifgneedy @william-andre 'ci/runbot' failed on this reviewed PR."", 'created_at': datetime.datetime(2025, 1, 8, 18, 54, 39, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-08 15:44:42 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/192924.png)](https://mergebot.odoo.com/odoo/odoo/pull/192924)

fw-bot (Issue Creator) on (2025-01-08 15:44:43 UTC): This PR targets saas-17.4 and is part of the forward-port chain. Further PRs will be created up to master.

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

fw-bot (Issue Creator) on (2025-01-08 17:13:55 UTC): @seifgneedy @william-andre the next pull request (odoo/odoo#192954) is in conflict. You can merge the chain up to here by saying

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

william-andre on (2025-01-08 18:04:50 UTC): @robodoo r+

william-andre on (2025-01-08 18:13:56 UTC): @robodoo r-

robodoo on (2025-01-08 18:13:58 UTC): Note that only this forward-port has been unapproved, sibling forward ports may have to be unapproved individually.

fw-bot (Issue Creator) on (2025-01-08 18:15:58 UTC): @seifgneedy @william-andre this PR was modified / updated and has become a normal PR. It must be merged directly.

william-andre on (2025-01-08 18:16:33 UTC): @robodoo r+

robodoo on (2025-01-08 18:54:39 UTC): @seifgneedy @william-andre 'ci/runbot' failed on this reviewed PR.

"
2775714280,pull_request,closed,,[FIX] web_editor: extract link from HTML,"**Problem**:
When a link is copied with HTML content, the `_onPaste` method does not recognize it as a link because the content type is `text/html`.

**Solution**:
Extract the pasted content as text and check if it is a single link. If so, treat it as a link instead of HTML.

**Steps to Reproduce**:
1. Copy a link from Visual Studio Code.
2. Paste the link into the editor.
3. Observe that the link is not created.

opw-4460599

---
I confirm I have signed the CLA and read the PR guidelines at www.odoo.com/submit-pr
",walidsahli,2025-01-08 15:41:50+00:00,[],2025-01-08 16:06:32+00:00,2025-01-08 16:06:28+00:00,https://github.com/odoo/odoo/pull/192923,"[('OE', 'the report is linked to a support ticket (opw-...)')]","[{'comment_id': 2577992044, 'issue_id': 2775714280, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/192923.png)](https://mergebot.odoo.com/odoo/odoo/pull/192923)', 'created_at': datetime.datetime(2025, 1, 8, 15, 41, 52, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-08 15:41:52 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/192923.png)](https://mergebot.odoo.com/odoo/odoo/pull/192923)

"
2775713203,pull_request,closed,,[FW][FIX] hw_drivers: add default logs location fallback to IoT log do…,"…wnload

Current behavior before PR:
 When using the ""Download logs"" button, from the IoT box form view, an Internal Server Error is raised every time.
```py
Internal Server Error : Log file configuration is not set
```

Description of the issue/feature this PR addresses:
New IoT Box images are missing the default `logfile` parameter in their config. This parameter is required for log downloading, and cannot be left empty.

The `logfile` parameter has been removed from the `odoo.conf` config file in PR #169633. However, it is still explicitly mentioned as `/var/log/odoo/odoo-server.log` in two other files: https://github.com/odoo/odoo/blob/451a956a22015034b8c35bd0d9a860b78442af7f/addons/hw_posbox_homepage/controllers/homepage.py#L74 and
https://github.com/odoo/odoo/blob/451a956a22015034b8c35bd0d9a860b78442af7f/addons/point_of_sale/tools/posbox/overwrite_before_init/etc/init_posbox_image.sh#L28 As such, a fallback to the default `/var/log/odoo/odoo-server.log` is added.

Desired behavior after PR is merged:
The Logs can be downloaded from the IoT box form view without receiving an Internal Server Error.

opw-4443593

---
I confirm I have signed the CLA and read the PR guidelines at www.odoo.com/submit-pr

Forward-Port-Of: odoo/odoo#192867",fw-bot,2025-01-08 15:41:21+00:00,[],2025-01-22 20:31:50+00:00,2025-01-08 20:08:29+00:00,https://github.com/odoo/odoo/pull/192922,"[('OE', 'the report is linked to a support ticket (opw-...)'), ('forwardport', 'This PR was created by @fw-bot')]","[{'comment_id': 2577990836, 'issue_id': 2775713203, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/192922.png)](https://mergebot.odoo.com/odoo/odoo/pull/192922)', 'created_at': datetime.datetime(2025, 1, 8, 15, 41, 22, tzinfo=datetime.timezone.utc)}, {'comment_id': 2577990863, 'issue_id': 2775713203, 'author': 'fw-bot', 'body': 'This PR targets saas-17.2 and is part of the forward-port chain. Further PRs will be created up to master.\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 8, 15, 41, 23, tzinfo=datetime.timezone.utc)}, {'comment_id': 2577998599, 'issue_id': 2775713203, 'author': 'fw-bot', 'body': '@vise-odoo @Ysoroko this PR was modified / updated and has become a normal PR. It must be merged directly.', 'created_at': datetime.datetime(2025, 1, 8, 15, 44, 37, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-08 15:41:22 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/192922.png)](https://mergebot.odoo.com/odoo/odoo/pull/192922)

fw-bot (Issue Creator) on (2025-01-08 15:41:23 UTC): This PR targets saas-17.2 and is part of the forward-port chain. Further PRs will be created up to master.

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

fw-bot (Issue Creator) on (2025-01-08 15:44:37 UTC): @vise-odoo @Ysoroko this PR was modified / updated and has become a normal PR. It must be merged directly.

"
2775697878,pull_request,closed,,[IMP] website_sale: Improve address page's UX,"In 0750eb6, the decision to hide the cart summary on the address page was intended to focus customers on the address form. However, this disrupted the checkout design and caused potential confusion.

This commit applies the `checkout_layout` (introduced in 0750eb6) to the address page to ensure consistency across checkout steps, improving clarity and user reassurance. Additionally, minor styling adjustments were made to the warning message about editing an address used for both billing and delivery.

task-4461752
",chevalierv,2025-01-08 15:34:52+00:00,[],2025-01-23 13:03:29+00:00,2025-01-09 12:59:10+00:00,https://github.com/odoo/odoo/pull/192921,"[('RD', 'research & development, internal work'), ('18.2', None)]","[{'comment_id': 2577974671, 'issue_id': 2775697878, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/192921.png)](https://mergebot.odoo.com/odoo/odoo/pull/192921)', 'created_at': datetime.datetime(2025, 1, 8, 15, 34, 56, tzinfo=datetime.timezone.utc)}, {'comment_id': 2579679807, 'issue_id': 2775697878, 'author': 'chevalierv', 'body': 'robodoo r+', 'created_at': datetime.datetime(2025, 1, 9, 10, 10, 34, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-08 15:34:56 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/192921.png)](https://mergebot.odoo.com/odoo/odoo/pull/192921)

chevalierv (Issue Creator) on (2025-01-09 10:10:34 UTC): robodoo r+

"
2775694378,pull_request,closed,,[IMP] account: Raise a User error rather than assert,"Problem
---------
When you use a Invoice report with the checkbox ""Invoice report"" unselected (misconfiguration), you get a traceback.

Objective
---------
Replace it with an error message instead, saying there's no invoice report configured in the database.

Solution
---------
Turn the asserts into a if condition that raises a user error.

task-4421065

---
I confirm I have signed the CLA and read the PR guidelines at www.odoo.com/submit-pr
",aboo-odoo,2025-01-08 15:33:17+00:00,[],2025-01-31 15:52:54+00:00,2025-01-17 15:40:38+00:00,https://github.com/odoo/odoo/pull/192920,"[('RD', 'research & development, internal work')]","[{'comment_id': 2577970490, 'issue_id': 2775694378, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/192920.png)](https://mergebot.odoo.com/odoo/odoo/pull/192920)', 'created_at': datetime.datetime(2025, 1, 8, 15, 33, 21, tzinfo=datetime.timezone.utc)}, {'comment_id': 2597900327, 'issue_id': 2775694378, 'author': 'aboo-odoo', 'body': '@clbr-odoo I have changed it, is this what you suggested ?', 'created_at': datetime.datetime(2025, 1, 17, 10, 17, 55, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-08 15:33:21 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/192920.png)](https://mergebot.odoo.com/odoo/odoo/pull/192920)

aboo-odoo (Issue Creator) on (2025-01-17 10:17:55 UTC): @clbr-odoo I have changed it, is this what you suggested ?

"
2775689327,pull_request,closed,,[FIX] mail: volume of ptt on/off sound effects are too loud,"Before this commit, when using push-to-talk during discuss call, the sound effect from press and release of ptt was too loud.

This commit reduces the volume drastically, so this can still be heard but it's low enough to not be distracting.

Before
https://github.com/user-attachments/assets/af330e28-4351-44ab-a1df-46730b658379


After
https://github.com/user-attachments/assets/77e34eec-6099-4172-b1b5-f407122bd1ca


",alexkuhn,2025-01-08 15:30:59+00:00,[],2025-01-09 16:52:52+00:00,2025-01-08 19:30:32+00:00,https://github.com/odoo/odoo/pull/192919,"[('RD', 'research & development, internal work')]","[{'comment_id': 2577964869, 'issue_id': 2775689327, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/192919.png)](https://mergebot.odoo.com/odoo/odoo/pull/192919)', 'created_at': datetime.datetime(2025, 1, 8, 15, 31, 1, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-08 15:31:01 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/192919.png)](https://mergebot.odoo.com/odoo/odoo/pull/192919)

"
2775663105,pull_request,closed,,[FW][FIX] purchase: set_vendor_price_po_company,"The issue:
When a vendor has multiple prices for two companies (A and B), and the purchase order's company is set to B (while the user's main company is A), the price incorrectly defaults to the main company A's price.

How to reproduce the issue:
1) Create a new product with 2 vendor pricelist records that have different ""Unit Prices"" under the ""Purchase"" tab of the product -> each pricelist record should belong to a different company 

2) Create an RFQ for this product with both of these companies active

3) Change the ""Company"" on the PO under the ""Other Information"" tab to the company that is NOT shown in the top right-hand corner, but is still selected 

4) Add the product to the RFQ order line
- The ""Unit Price"" will be pulled from the main company shown in the top-right hand corner, thereby ignoring the ""Company"" selected for the PO.

After this commit, the price from the purchase order's company (B) is prioritized over the main company (A).

opw-4347134


---
I confirm I have signed the CLA and read the PR guidelines at www.odoo.com/submit-pr

Forward-Port-Of: odoo/odoo#189272",fw-bot,2025-01-08 15:19:40+00:00,[],2025-01-27 10:18:01+00:00,2025-01-13 10:07:50+00:00,https://github.com/odoo/odoo/pull/192918,"[('OE', 'the report is linked to a support ticket (opw-...)'), ('forwardport', 'This PR was created by @fw-bot'), ('conflict', 'There was an error while creating this forward-port PR')]","[{'comment_id': 2577936354, 'issue_id': 2775663105, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/192918.png)](https://mergebot.odoo.com/odoo/odoo/pull/192918)', 'created_at': datetime.datetime(2025, 1, 8, 15, 19, 41, tzinfo=datetime.timezone.utc)}, {'comment_id': 2577936434, 'issue_id': 2775663105, 'author': 'fw-bot', 'body': '@gteboul @Whenrow cherrypicking of pull request odoo/odoo#189272 failed.\n\nstdout:\n```\nAuto-merging addons/product/models/product_product.py\nAuto-merging addons/purchase/models/product.py\nAuto-merging addons/purchase/models/purchase_order_line.py\nAuto-merging addons/purchase/tests/test_purchase.py\nCONFLICT (content): Merge conflict in addons/purchase/tests/test_purchase.py\n\n```\n\nEither perform the forward-port manually (and push to this branch, proceeding as usual) or close this PR (maybe?).\n\nIn the former case, you may want to edit this PR message as well.\n\n:warning: after resolving this conflict, you will need to merge it via @robodoo.\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 8, 15, 19, 44, tzinfo=datetime.timezone.utc)}, {'comment_id': 2585541921, 'issue_id': 2775663105, 'author': 'fw-bot', 'body': '@gteboul @Whenrow this forward port of odoo/odoo#189272 is awaiting action (not merged or closed).', 'created_at': datetime.datetime(2025, 1, 12, 2, 2, 7, tzinfo=datetime.timezone.utc)}, {'comment_id': 2586047499, 'issue_id': 2775663105, 'author': 'fw-bot', 'body': '@gteboul @Whenrow this forward port of odoo/odoo#189272 is awaiting action (not merged or closed).', 'created_at': datetime.datetime(2025, 1, 13, 2, 2, 44, tzinfo=datetime.timezone.utc)}, {'comment_id': 2586373287, 'issue_id': 2775663105, 'author': 'gteboul', 'body': '@robodoo r+', 'created_at': datetime.datetime(2025, 1, 13, 7, 28, 11, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-08 15:19:41 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/192918.png)](https://mergebot.odoo.com/odoo/odoo/pull/192918)

fw-bot (Issue Creator) on (2025-01-08 15:19:44 UTC): @gteboul @Whenrow cherrypicking of pull request odoo/odoo#189272 failed.

stdout:
```
Auto-merging addons/product/models/product_product.py
Auto-merging addons/purchase/models/product.py
Auto-merging addons/purchase/models/purchase_order_line.py
Auto-merging addons/purchase/tests/test_purchase.py
CONFLICT (content): Merge conflict in addons/purchase/tests/test_purchase.py

```

Either perform the forward-port manually (and push to this branch, proceeding as usual) or close this PR (maybe?).

In the former case, you may want to edit this PR message as well.

:warning: after resolving this conflict, you will need to merge it via @robodoo.

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

fw-bot (Issue Creator) on (2025-01-12 02:02:07 UTC): @gteboul @Whenrow this forward port of odoo/odoo#189272 is awaiting action (not merged or closed).

fw-bot (Issue Creator) on (2025-01-13 02:02:44 UTC): @gteboul @Whenrow this forward port of odoo/odoo#189272 is awaiting action (not merged or closed).

gteboul on (2025-01-13 07:28:11 UTC): @robodoo r+

"
2775636332,pull_request,open,,[16.0][FIX] mail_group: apply the replacement of local links when notifying members,"In order for the images to properly show.


---
I confirm I have signed the CLA and read the PR guidelines at www.odoo.com/submit-pr
",JordiBForgeFlow,2025-01-08 15:08:29+00:00,[],2025-01-08 16:10:15+00:00,,https://github.com/odoo/odoo/pull/192917,[],"[{'comment_id': 2577906841, 'issue_id': 2775636332, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/192917.png)](https://mergebot.odoo.com/odoo/odoo/pull/192917)', 'created_at': datetime.datetime(2025, 1, 8, 15, 8, 32, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-08 15:08:32 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/192917.png)](https://mergebot.odoo.com/odoo/odoo/pull/192917)

"
2775635300,pull_request,closed,,[FW][I18N] update translations,"opw-4409456

Forward-Port-Of: odoo/odoo#192863",fw-bot,2025-01-08 15:08:02+00:00,[],2025-01-27 17:38:52+00:00,2025-01-13 17:29:15+00:00,https://github.com/odoo/odoo/pull/192916,"[('OE', 'the report is linked to a support ticket (opw-...)'), ('forwardport', 'This PR was created by @fw-bot')]","[{'comment_id': 2577905555, 'issue_id': 2775635300, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/192916.png)](https://mergebot.odoo.com/odoo/odoo/pull/192916)', 'created_at': datetime.datetime(2025, 1, 8, 15, 8, 3, tzinfo=datetime.timezone.utc)}, {'comment_id': 2577905590, 'issue_id': 2775635300, 'author': 'fw-bot', 'body': 'This PR targets 18.0 and is part of the forward-port chain. Further PRs will be created up to master.\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 8, 15, 8, 4, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-08 15:08:03 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/192916.png)](https://mergebot.odoo.com/odoo/odoo/pull/192916)

fw-bot (Issue Creator) on (2025-01-08 15:08:04 UTC): This PR targets 18.0 and is part of the forward-port chain. Further PRs will be created up to master.

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

"
2775634717,pull_request,closed,,"[FW][FIX] sale,website_sale: pricelist valid dates not applied","If you create a pricelist rule with a discount that has a valid date range, that discount is only applied if the SO was created in that range. Even if it is confirmed within the valid date range.

Fix:
For website_sale orders we consider the date to be the current time when computing the price.

opw-4375643


---
I confirm I have signed the CLA and read the PR guidelines at www.odoo.com/submit-pr

Forward-Port-Of: odoo/odoo#192858
Forward-Port-Of: odoo/odoo#191538",fw-bot,2025-01-08 15:07:46+00:00,[],2025-01-23 19:10:09+00:00,2025-01-09 19:01:34+00:00,https://github.com/odoo/odoo/pull/192915,"[('OE', 'the report is linked to a support ticket (opw-...)'), ('forwardport', 'This PR was created by @fw-bot')]","[{'comment_id': 2577904770, 'issue_id': 2775634717, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/192915.png)](https://mergebot.odoo.com/odoo/odoo/pull/192915)', 'created_at': datetime.datetime(2025, 1, 8, 15, 7, 48, tzinfo=datetime.timezone.utc)}, {'comment_id': 2577904791, 'issue_id': 2775634717, 'author': 'fw-bot', 'body': 'This PR targets 18.0 and is part of the forward-port chain. Further PRs will be created up to master.\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 8, 15, 7, 48, tzinfo=datetime.timezone.utc)}, {'comment_id': 2578104159, 'issue_id': 2775634717, 'author': 'fw-bot', 'body': '@livaios the next pull request (odoo/odoo#192943) is in conflict. You can merge the chain up to here by saying\n> @robodoo r+\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 8, 16, 28, 53, tzinfo=datetime.timezone.utc)}, {'comment_id': 2580546909, 'issue_id': 2775634717, 'author': 'livaios', 'body': '@robodoo r+', 'created_at': datetime.datetime(2025, 1, 9, 15, 20, 27, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-08 15:07:48 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/192915.png)](https://mergebot.odoo.com/odoo/odoo/pull/192915)

fw-bot (Issue Creator) on (2025-01-08 15:07:48 UTC): This PR targets 18.0 and is part of the forward-port chain. Further PRs will be created up to master.

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

fw-bot (Issue Creator) on (2025-01-08 16:28:53 UTC): @livaios the next pull request (odoo/odoo#192943) is in conflict. You can merge the chain up to here by saying

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

livaios on (2025-01-09 15:20:27 UTC): @robodoo r+

"
2775634094,pull_request,closed,,[FW][I18N] l10n_ar{_website_sale}: update translations,"Related to https://github.com/odoo/enterprise/pull/73927

Forward-Port-Of: odoo/odoo#189047
Forward-Port-Of: odoo/odoo#187430",fw-bot,2025-01-08 15:07:30+00:00,[],2025-01-23 11:40:01+00:00,2025-01-09 11:34:19+00:00,https://github.com/odoo/odoo/pull/192914,"[('RD', 'research & development, internal work'), ('forwardport', 'This PR was created by @fw-bot')]","[{'comment_id': 2577904118, 'issue_id': 2775634094, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/192914.png)](https://mergebot.odoo.com/odoo/odoo/pull/192914)', 'created_at': datetime.datetime(2025, 1, 8, 15, 7, 32, tzinfo=datetime.timezone.utc)}, {'comment_id': 2577904177, 'issue_id': 2775634094, 'author': 'fw-bot', 'body': 'This PR targets saas-18.1 and is part of the forward-port chain. Further PRs will be created up to master.\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 8, 15, 7, 34, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-08 15:07:32 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/192914.png)](https://mergebot.odoo.com/odoo/odoo/pull/192914)

fw-bot (Issue Creator) on (2025-01-08 15:07:34 UTC): This PR targets saas-18.1 and is part of the forward-port chain. Further PRs will be created up to master.

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

"
2775633120,pull_request,closed,,[FW][FIX] html_editor: fix traceback in html external link preview,"Currently, a traceback occurs when the user tries to preview an external link.

Steps to produce:

1) Create an email template and add any text in content.
2) Convert text to a URL with a random URL like 'test'
3) error will occur in log

Error:- 
```
TypeError: 'bool' object is not subscriptable
  File ""odoo/http.py"", line 2366, in __call__
    response = request._serve_db()
  File ""odoo/http.py"", line 1894, in _serve_db
    return self._transactioning(
  File ""odoo/http.py"", line 1957, in _transactioning
    return service_model.retrying(func, env=self.env)
  File ""odoo/service/model.py"", line 137, in retrying
    result = func()
  File ""odoo/http.py"", line 1924, in _serve_ir_http
    response = self.dispatcher.dispatch(rule.endpoint, args)
  File ""odoo/http.py"", line 2171, in dispatch
    result = self.request.registry['ir.http']._dispatch(endpoint)
  File ""odoo/addons/base/models/ir_http.py"", line 329, in _dispatch
    result = endpoint(**request.params)
  File ""odoo/http.py"", line 727, in route_wrapper
    result = endpoint(self, *args, **params_ok)
  File ""addons/html_editor/controllers/main.py"", line 564, in link_preview_metadata
    if link_preview_data['og_description']:
```

This error occurs in the following lines when the link_preview_data value is False, leading to the traceback:

https://github.com/odoo/odoo/blob/36e4b6f93bf2123557947e910e1be651c5357319/addons/html_editor/controllers/main.py#L563-L564

The get_link_preview_from_url method may return False from multiple places.

https://github.com/odoo/odoo/blob/36e4b6f93bf2123557947e910e1be651c5357319/addons/mail/tools/link_preview.py#L30-L35

Therefore, an additional check is needed to verify the value of `link_preview_data` before accessing its value.

Adding this extra check will make the code more robust and prevent the 
unnecessary tracebacks from occurring.

sentry-6199384889

Forward-Port-Of: odoo/odoo#192635",fw-bot,2025-01-08 15:07:06+00:00,[],2025-01-23 07:31:08+00:00,2025-01-09 07:22:55+00:00,https://github.com/odoo/odoo/pull/192913,"[('RD', 'research & development, internal work'), ('forwardport', 'This PR was created by @fw-bot')]","[{'comment_id': 2577903038, 'issue_id': 2775633120, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/192913.png)](https://mergebot.odoo.com/odoo/odoo/pull/192913)', 'created_at': datetime.datetime(2025, 1, 8, 15, 7, 7, tzinfo=datetime.timezone.utc)}, {'comment_id': 2577903073, 'issue_id': 2775633120, 'author': 'fw-bot', 'body': 'This PR targets saas-18.1 and is part of the forward-port chain. Further PRs will be created up to master.\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 8, 15, 7, 8, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-08 15:07:07 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/192913.png)](https://mergebot.odoo.com/odoo/odoo/pull/192913)

fw-bot (Issue Creator) on (2025-01-08 15:07:08 UTC): This PR targets saas-18.1 and is part of the forward-port chain. Further PRs will be created up to master.

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

"
2775615238,pull_request,closed,,[FW][IMP] l10n_in_pos: move HSN field after the product field,"In this commit:
===
- Move `l10n_in_hsn_code` field in the order lines view to appear after the `product_id` field.

task-4432432

Forward-Port-Of: odoo/odoo#191861",fw-bot,2025-01-08 15:00:15+00:00,[],2025-01-23 06:16:00+00:00,2025-01-09 06:12:54+00:00,https://github.com/odoo/odoo/pull/192912,"[('RD', 'research & development, internal work'), ('forwardport', 'This PR was created by @fw-bot')]","[{'comment_id': 2577884746, 'issue_id': 2775615238, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/192912.png)](https://mergebot.odoo.com/odoo/odoo/pull/192912)', 'created_at': datetime.datetime(2025, 1, 8, 15, 0, 16, tzinfo=datetime.timezone.utc)}, {'comment_id': 2577884772, 'issue_id': 2775615238, 'author': 'fw-bot', 'body': 'This PR targets saas-18.1 and is part of the forward-port chain. Further PRs will be created up to master.\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 8, 15, 0, 17, tzinfo=datetime.timezone.utc)}, {'comment_id': 2579177474, 'issue_id': 2775615238, 'author': 'fw-bot', 'body': ""@meji-odoo @adgu-odoo child PR odoo/odoo#192940 was modified / updated and has become a normal PR. This PR (and any of its parents) will need to be merged independently as approvals won't cross."", 'created_at': datetime.datetime(2025, 1, 9, 4, 52, 3, tzinfo=datetime.timezone.utc)}, {'comment_id': 2579179810, 'issue_id': 2775615238, 'author': 'meji-odoo', 'body': '@robodoo r+', 'created_at': datetime.datetime(2025, 1, 9, 4, 55, 8, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-08 15:00:16 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/192912.png)](https://mergebot.odoo.com/odoo/odoo/pull/192912)

fw-bot (Issue Creator) on (2025-01-08 15:00:17 UTC): This PR targets saas-18.1 and is part of the forward-port chain. Further PRs will be created up to master.

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

fw-bot (Issue Creator) on (2025-01-09 04:52:03 UTC): @meji-odoo @adgu-odoo child PR odoo/odoo#192940 was modified / updated and has become a normal PR. This PR (and any of its parents) will need to be merged independently as approvals won't cross.

meji-odoo on (2025-01-09 04:55:08 UTC): @robodoo r+

"
2775614531,pull_request,closed,,[FW][FIX] point_of_sale: Fix show selected partner on top,"Steps to reproduce:
1.Install ``point_of_sale`` in odoo 18.0
2.Open point of sale session and left side there is customer button select the customer.
3.selected partner will show at the top of all partner in chrome but in firefox browser selected partner is not showing at top

For fixing it
 making sorting(compartor) more acurate.

opw-4408218

---
I confirm I have signed the CLA and read the PR guidelines at www.odoo.com/submit-pr

Forward-Port-Of: odoo/odoo#191317",fw-bot,2025-01-08 14:59:57+00:00,[],2025-01-23 07:31:08+00:00,2025-01-09 07:23:00+00:00,https://github.com/odoo/odoo/pull/192911,"[('OE', 'the report is linked to a support ticket (opw-...)'), ('forwardport', 'This PR was created by @fw-bot')]","[{'comment_id': 2577884088, 'issue_id': 2775614531, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/192911.png)](https://mergebot.odoo.com/odoo/odoo/pull/192911)', 'created_at': datetime.datetime(2025, 1, 8, 14, 59, 59, tzinfo=datetime.timezone.utc)}, {'comment_id': 2577884109, 'issue_id': 2775614531, 'author': 'fw-bot', 'body': 'This PR targets saas-18.1 and is part of the forward-port chain. Further PRs will be created up to master.\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 8, 14, 59, 59, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-08 14:59:59 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/192911.png)](https://mergebot.odoo.com/odoo/odoo/pull/192911)

fw-bot (Issue Creator) on (2025-01-08 14:59:59 UTC): This PR targets saas-18.1 and is part of the forward-port chain. Further PRs will be created up to master.

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

"
2775613882,pull_request,closed,,[FW][FIX] web: close popover even if not mounted,"Currently, ff a popover uses a component that needs to load data, click away before the component is mounted will not make the popover close. Here we fix that by adding the listeners at setup (and removing them at destroy).

Forward-Port-Of: odoo/odoo#192674
Forward-Port-Of: odoo/odoo#191135",fw-bot,2025-01-08 14:59:41+00:00,[],2025-01-23 12:49:09+00:00,2025-01-09 12:49:06+00:00,https://github.com/odoo/odoo/pull/192910,"[('RD', 'research & development, internal work'), ('forwardport', 'This PR was created by @fw-bot')]","[{'comment_id': 2577883470, 'issue_id': 2775613882, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/192910.png)](https://mergebot.odoo.com/odoo/odoo/pull/192910)', 'created_at': datetime.datetime(2025, 1, 8, 14, 59, 42, tzinfo=datetime.timezone.utc)}, {'comment_id': 2577883494, 'issue_id': 2775613882, 'author': 'fw-bot', 'body': 'This PR targets saas-18.1 and is part of the forward-port chain. Further PRs will be created up to master.\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 8, 14, 59, 42, tzinfo=datetime.timezone.utc)}, {'comment_id': 2579780864, 'issue_id': 2775613882, 'author': 'BastienFafchamps', 'body': '@robodoo r+', 'created_at': datetime.datetime(2025, 1, 9, 10, 37, 38, tzinfo=datetime.timezone.utc)}, {'comment_id': 2579929292, 'issue_id': 2775613882, 'author': 'fw-bot', 'body': ""@polymorphe57 @aab-odoo @BastienFafchamps child PR odoo/odoo#192944 was modified / updated and has become a normal PR. This PR (and any of its parents) will need to be merged independently as approvals won't cross."", 'created_at': datetime.datetime(2025, 1, 9, 11, 34, 39, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-08 14:59:42 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/192910.png)](https://mergebot.odoo.com/odoo/odoo/pull/192910)

fw-bot (Issue Creator) on (2025-01-08 14:59:42 UTC): This PR targets saas-18.1 and is part of the forward-port chain. Further PRs will be created up to master.

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

BastienFafchamps on (2025-01-09 10:37:38 UTC): @robodoo r+

fw-bot (Issue Creator) on (2025-01-09 11:34:39 UTC): @polymorphe57 @aab-odoo @BastienFafchamps child PR odoo/odoo#192944 was modified / updated and has become a normal PR. This PR (and any of its parents) will need to be merged independently as approvals won't cross.

"
2775613312,pull_request,closed,,[FW][FIX] discuss: ensures that volume settings are used,"Since https://github.com/odoo/odoo/pull/169691, the user volumes were not correctly searched from the settings, this commit fixes this issue.

Forward-Port-Of: odoo/odoo#192675
Forward-Port-Of: odoo/odoo#192456",fw-bot,2025-01-08 14:59:25+00:00,[],2025-01-09 12:35:35+00:00,2025-01-09 11:34:10+00:00,https://github.com/odoo/odoo/pull/192909,"[('RD', 'research & development, internal work'), ('forwardport', 'This PR was created by @fw-bot'), ('conflict', 'There was an error while creating this forward-port PR')]","[{'comment_id': 2577882851, 'issue_id': 2775613312, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/192909.png)](https://mergebot.odoo.com/odoo/odoo/pull/192909)', 'created_at': datetime.datetime(2025, 1, 8, 14, 59, 27, tzinfo=datetime.timezone.utc)}, {'comment_id': 2577882888, 'issue_id': 2775613312, 'author': 'fw-bot', 'body': '@thanhdodeurodoo @phenix-factory cherrypicking of pull request odoo/odoo#192456 failed.\n\nstdout:\n```\nAuto-merging addons/mail/static/src/discuss/call/common/call_context_menu.xml\nAuto-merging addons/mail/static/tests/discuss/call/call.test.js\nCONFLICT (content): Merge conflict in addons/mail/static/tests/discuss/call/call.test.js\n\n```\n\nEither perform the forward-port manually (and push to this branch, proceeding as usual) or close this PR (maybe?).\n\nIn the former case, you may want to edit this PR message as well.\n\n:warning: after resolving this conflict, you will need to merge it via @robodoo.\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 8, 14, 59, 27, tzinfo=datetime.timezone.utc)}, {'comment_id': 2579400350, 'issue_id': 2775613312, 'author': 'ThanhDodeurOdoo', 'body': '@robodoo r+', 'created_at': datetime.datetime(2025, 1, 9, 8, 10, 26, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-08 14:59:27 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/192909.png)](https://mergebot.odoo.com/odoo/odoo/pull/192909)

fw-bot (Issue Creator) on (2025-01-08 14:59:27 UTC): @thanhdodeurodoo @phenix-factory cherrypicking of pull request odoo/odoo#192456 failed.

stdout:
```
Auto-merging addons/mail/static/src/discuss/call/common/call_context_menu.xml
Auto-merging addons/mail/static/tests/discuss/call/call.test.js
CONFLICT (content): Merge conflict in addons/mail/static/tests/discuss/call/call.test.js

```

Either perform the forward-port manually (and push to this branch, proceeding as usual) or close this PR (maybe?).

In the former case, you may want to edit this PR message as well.

:warning: after resolving this conflict, you will need to merge it via @robodoo.

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

ThanhDodeurOdoo on (2025-01-09 08:10:26 UTC): @robodoo r+

"
2775612738,pull_request,closed,,[FW][FIX] web_editor: selection fails on link when applying style,"**Current behaviour before PR:**

In website, when trying to apply color or any style on a link from toolbar whole link gets selected. This happens because in `wysiwyg.js` `destroyLinkTools` method gets called when user clicks on toolbar to apply color.

**Behaviour after PR:**

Now, any style can be applied on a link without selecting whole link.

task-4072867




---
I confirm I have signed the CLA and read the PR guidelines at www.odoo.com/submit-pr

Forward-Port-Of: odoo/odoo#192760
Forward-Port-Of: odoo/odoo#180616",fw-bot,2025-01-08 14:59:11+00:00,[],2025-01-29 15:08:58+00:00,2025-01-15 15:06:58+00:00,https://github.com/odoo/odoo/pull/192908,"[('RD', 'research & development, internal work'), ('forwardport', 'This PR was created by @fw-bot')]","[{'comment_id': 2577882446, 'issue_id': 2775612738, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/192908.png)](https://mergebot.odoo.com/odoo/odoo/pull/192908)', 'created_at': datetime.datetime(2025, 1, 8, 14, 59, 16, tzinfo=datetime.timezone.utc)}, {'comment_id': 2577882462, 'issue_id': 2775612738, 'author': 'fw-bot', 'body': 'This PR targets saas-18.1 and is part of the forward-port chain. Further PRs will be created up to master.\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 8, 14, 59, 16, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-08 14:59:16 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/192908.png)](https://mergebot.odoo.com/odoo/odoo/pull/192908)

fw-bot (Issue Creator) on (2025-01-08 14:59:16 UTC): This PR targets saas-18.1 and is part of the forward-port chain. Further PRs will be created up to master.

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

"
2775612176,pull_request,closed,,[FW][FIX] html_editor: icon search with uppercase input,"Description of the issue this PR addresses:

Current behavior before PR:

Searching for icon names in uppercase was not working.

Desired behavior after PR is merged:

Icon search now works correctly when names are entered in uppercase.

task-4452824

---
I confirm I have signed the CLA and read the PR guidelines at www.odoo.com/submit-pr

Forward-Port-Of: odoo/odoo#192637",fw-bot,2025-01-08 14:58:56+00:00,[],2025-01-23 07:31:07+00:00,2025-01-09 07:22:51+00:00,https://github.com/odoo/odoo/pull/192907,"[('RD', 'research & development, internal work'), ('forwardport', 'This PR was created by @fw-bot')]","[{'comment_id': 2577882396, 'issue_id': 2775612176, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/192907.png)](https://mergebot.odoo.com/odoo/odoo/pull/192907)', 'created_at': datetime.datetime(2025, 1, 8, 14, 59, 14, tzinfo=datetime.timezone.utc)}, {'comment_id': 2577882413, 'issue_id': 2775612176, 'author': 'fw-bot', 'body': 'This PR targets saas-18.1 and is part of the forward-port chain. Further PRs will be created up to master.\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 8, 14, 59, 15, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-08 14:59:14 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/192907.png)](https://mergebot.odoo.com/odoo/odoo/pull/192907)

fw-bot (Issue Creator) on (2025-01-08 14:59:15 UTC): This PR targets saas-18.1 and is part of the forward-port chain. Further PRs will be created up to master.

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

"
2775611541,pull_request,closed,,[FW][FIX] l10n_in_withholding: fix account tax reload chart template data,"# Description
When we reload the chart of accounts parsed CSV data is altered after iterating
the first company because we are Only updating the tags of existing taxes 

For existing tax, we are mapping repartition lines here https://github.com/odoo/odoo/blob/a4c14fab299ed98024b7d7148d89bf17e914ccd1/addons/account/models/chart_template.py#L359

So that data_list has been altered after for the next company 
for the next iterator company, it has been eligible for obsolete here https://github.com/odoo/odoo/blob/a4c14fab299ed98024b7d7148d89bf17e914ccd1/addons/account/models/chart_template.py#L400

So, it is better to keep parsing data as it is while reloading the chart accounts for each company

TBG: [Traceback Group-1421](https://upgrade.odoo.com/web#id=1421&cids=1&menu_id=107&model=upgrade.request.traceback.group&view_type=form) 
OPWS:
- [4391978](https://www.odoo.com/odoo/project/70/tasks/4391978)
- [4402365](https://www.odoo.com/odoo/70/tasks/4402365)

```py
2024-12-26 10:21:46,303 16 INFO higo_2397155_18.0 odoo.addons.base.models.ir_module: module l10n_in_withholding: no translation for language en_IN 
2024-12-26 10:21:47,426 16 INFO higo_2397155_18.0 odoo.addons.l10n_in_withholding: Company Repose Foods Private Limited already has the Indian localization installed, updating... 
> /home/odoo/src/odoo/18.0/addons/account/models/chart_template.py(322)_pre_reload_data()
-> for model_name, records in data.items():
(Pdb) len([i for i in data['account.tax'].values() if i.get('name')])
163
(Pdb) c
> /home/odoo/src/odoo/18.0/addons/account/models/chart_template.py(397)_pre_reload_data()
-> if obsolete_xmlid:
(Pdb) len([i for i in data['account.tax'].values() if i.get('name')])
75
(Pdb) c
2024-12-26 10:22:14,417 16 INFO higo_2397155_18.0 odoo.addons.l10n_in_withholding: Company M/S Repose already has the Indian localization installed, updating... 
> /home/odoo/src/odoo/18.0/addons/account/models/chart_template.py(322)_pre_reload_data()
-> for model_name, records in data.items():
(Pdb) len([i for i in data['account.tax'].values() if i.get('name')])
75
(Pdb) c
> /home/odoo/src/odoo/18.0/addons/account/models/chart_template.py(397)_pre_reload_data()
-> if obsolete_xmlid:
(Pdb) l
392  	                        skip_update.add((model_name, xmlid))
393  	
394  	        for skip_model, skip_xmlid in skip_update:
395  	            data[skip_model].pop(skip_xmlid, None)
396  	        import pdb; pdb.set_trace()
397  ->	        if obsolete_xmlid:
398  	            self.env['ir.model.data'].search([
399  	                ('name', 'in', [f""{company.id}_{xmlid}"" for xmlid in obsolete_xmlid]),
400  	                ('module', '=', 'account'),
401  	            ]).unlink()
402  	
(Pdb) len(obsolete_xmlid)
88
(Pdb) c
2024-12-26 10:22:56,209 16 INFO higo_2397155_18.0 odoo.models.unlink: User #1 deleted ir.model.data records with IDs: [48827, 48804, 48815, 48813, 48823, 48828, 48811, 48809, 48807, 48821, 48817, 48819, 48805, 48812, 48816, 48814, 48806, 48810, 48808, 48822, 48818, 48820, 48824, 48826, 48825, 48887, 48888, 48829, 48831, 48833, 48835, 48843, 48848, 48856, 48862, 48865, 48867, 48869, 48871, 48873, 48877, 48889, 48839, 48858, 48885, 48890, 48830, 48832, 48834, 48836, 48841, 48844, 48846, 48847, 48849, 48850, 48852, 48854, 48857, 48859, 48861, 48863, 48866, 48868, 48870, 48876, 48872, 48874, 48881, 48884, 48886, 48878, 48840, 48855, 48864, 48882, 48837, 48838, 48879, 48891, 48842, 48845, 48851, 48853, 48860, 48875, 48880, 48883] 
2024-12-26 10:22:56,738 16 ERROR higo_2397155_18.0 odoo.sql_db: bad query: b'INSERT INTO ""account_tax"" (""active"", ""amount"", ""amount_type"", ""company_id"", ""country_id"", ""create_date"", ""create_uid"", ""description"", ""formula"", ""include_base_amount"", ""invoice_label"", ""is_base_affected"", ""l10n_in_section_id"", ""l10n_in_tds_tax_type"", ""name"", ""sequence"", ""tax_exigibility"", ""tax_group_id"", ""tax_scope"", ""type_tax_use"", ""write_date"", ""write_uid"") ...
```


**Traceback**
```py
2024-12-26 06:49:10,588 26 INFO higo_2403300_18.0 odoo.addons.l10n_in_withholding: Company Sah Estates already has the Indian localization installed, updating...
2024-12-26 07:14:31,217 26 INFO higo_2403300_18.0 odoo.addons.l10n_in_withholding: Company sahaccounts already has the Indian localization installed, updating...
2024-12-26 07:16:43,050 26 INFO higo_2403300_18.0 odoo.models.unlink: User #1 deleted ir.model.data records with IDs: [26281, 26258, 26269, 26267, 26277, 26282, 26265, 26263, 26261, 26275, 26271, 26273, 26259, 26266, 26270, 26268, 26260, 26264, 26262, 26276, 26272, 26274, 26278, 26280, 26279, 26341, 26342, 26283, 26285, 26287, 26289, 26297, 26302, 26310, 26316, 26319, 26321, 26323, 26325, 26327, 26331, 26343, 26293, 26312, 26339, 26344, 26284, 26286, 26288, 26290, 26295, 26298, 26300, 26301, 26303, 26304, 26306, 26308, 26311, 26313, 26315, 26317, 26320, 26322, 26324, 26330, 26326, 26328, 26335, 26338, 26340, 26332, 26294, 26309, 26318, 26336, 26291, 26292, 26333, 26345, 26296, 26299, 26305, 26307, 26314, 26329, 26334, 26337] 

2024-12-26 07:35:03,359 28 ERROR higo_2397155_18.0 odoo.modules.registry: Failed to load registry
2024-12-26 07:35:03,359 28 CRITICAL higo_2397155_18.0 odoo.service.server: Failed to initialize database `higo_2397155_18.0`.
Traceback (most recent call last):
  File ""/home/odoo/src/odoo/18.0/odoo/service/server.py"", line 1306, in preload_registries
    registry = Registry.new(dbname, update_module=update_module)
  File ""<decorator-gen-13>"", line 2, in new
  File ""/home/odoo/src/odoo/18.0/odoo/tools/func.py"", line 97, in locked
    return func(inst, *args, **kwargs)
  File ""/home/odoo/src/odoo/18.0/odoo/modules/registry.py"", line 127, in new
    odoo.modules.load_modules(registry, force_demo, status, update_module)
  File ""/home/odoo/src/odoo/18.0/odoo/modules/loading.py"", line 480, in load_modules
    processed_modules += load_marked_modules(env, graph,
  File ""/home/odoo/src/odoo/18.0/odoo/modules/loading.py"", line 364, in load_marked_modules
    loaded, processed = load_module_graph(
  File ""/home/odoo/src/odoo/18.0/odoo/modules/loading.py"", line 245, in load_module_graph
    getattr(py_module, post_init)(env)
  File ""/home/odoo/src/odoo/18.0/addons/l10n_in_withholding/__init__.py"", line 26, in _l10n_in_withholding_post_init
    ChartTemplate._load_data(data)
  File ""/tmp/tmpqk9sqppy/migrations/account/0.0.0/pre-ensure-deferred-accounts.py"", line 36, in _load_data
    return super()._load_data(data, *args, **kwargs)
  File ""/home/odoo/src/odoo/18.0/addons/account/models/chart_template.py"", line 635, in _load_data
    created_records[model] = self.with_context(lang='en_US').env[model]._load_records(all_records_vals, ignore_duplicates=ignore_duplicates)
  File ""/home/odoo/src/odoo/18.0/odoo/models.py"", line 5467, in _load_records
    records = self._load_records_create([data['values'] for data in to_create])
  File ""/home/odoo/src/odoo/18.0/odoo/models.py"", line 5371, in _load_records_create
    records = self.create(vals_list)
  File ""<decorator-gen-228>"", line 2, in create
  File ""/home/odoo/src/odoo/18.0/odoo/api.py"", line 480, in _model_create_multi
    return create(self, arg)
  File ""/home/odoo/src/odoo/18.0/addons/account/models/account_tax.py"", line 599, in create
    taxes = super(AccountTax, self.with_context(context)).create([self._sanitize_vals(vals) for vals in vals_list])
  File ""<decorator-gen-140>"", line 2, in create
  File ""/home/odoo/src/odoo/18.0/odoo/api.py"", line 480, in _model_create_multi
    return create(self, arg)
  File ""/home/odoo/src/odoo/18.0/addons/mail/models/mail_thread.py"", line 268, in create
    threads = super(MailThread, self).create(vals_list)
  File ""<decorator-gen-120>"", line 2, in create
  File ""/home/odoo/src/odoo/18.0/odoo/api.py"", line 480, in _model_create_multi
    return create(self, arg)
  File ""/tmp/tmpqk9sqppy/migrations/util/orm.py"", line 244, in wrapper
    return f(*args, **kwargs)
  File ""/tmp/tmpqk9sqppy/migrations/base/0.0.0/pre-models-match_uniq.py"", line 96, in create
    records = super().create([vals_list[idx] for idx in create_idx_list])
  File ""<decorator-gen-31>"", line 2, in create
  File ""/home/odoo/src/odoo/18.0/odoo/api.py"", line 480, in _model_create_multi
    return create(self, arg)
  File ""/home/odoo/src/odoo/18.0/odoo/models.py"", line 4975, in create
    records = self._create(data_list)
  File ""/home/odoo/src/odoo/18.0/odoo/models.py"", line 5159, in _create
    cr.execute(SQL(
  File ""/home/odoo/src/odoo/18.0/odoo/sql_db.py"", line 354, in execute
    res = self._obj.execute(query, params)
psycopg2.errors.NotNullViolation: null value in column ""name"" of relation ""account_tax"" violates not-null constraint
DETAIL:  Failing row contains (1941, 18, 1, 12, null, 104, 1, 1, sale, null, percent, on_invoice, null, null, null, 0.0000, t, f, t, null, 2024-12-26 07:34:58.528488, 2024-12-26 07:34:58.528488, price_unit * 0.10, null, null, null, null, null).
```

Description of the issue/feature this PR addresses:

Current behavior before PR:

Desired behavior after PR is merged:

---
I confirm I have signed the CLA and read the PR guidelines at www.odoo.com/submit-pr

Forward-Port-Of: odoo/odoo#191770",fw-bot,2025-01-08 14:58:41+00:00,[],2025-01-22 20:31:32+00:00,2025-01-08 18:44:18+00:00,https://github.com/odoo/odoo/pull/192906,"[('OE', 'the report is linked to a support ticket (opw-...)'), ('forwardport', 'This PR was created by @fw-bot')]","[{'comment_id': 2577882329, 'issue_id': 2775611541, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/192906.png)](https://mergebot.odoo.com/odoo/odoo/pull/192906)', 'created_at': datetime.datetime(2025, 1, 8, 14, 59, 13, tzinfo=datetime.timezone.utc)}, {'comment_id': 2577882359, 'issue_id': 2775611541, 'author': 'fw-bot', 'body': 'This PR targets saas-18.1 and is part of the forward-port chain. Further PRs will be created up to master.\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 8, 14, 59, 13, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-08 14:59:13 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/192906.png)](https://mergebot.odoo.com/odoo/odoo/pull/192906)

fw-bot (Issue Creator) on (2025-01-08 14:59:13 UTC): This PR targets saas-18.1 and is part of the forward-port chain. Further PRs will be created up to master.

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

"
2775610739,pull_request,closed,,"[FW][FIX] website_sale, delivery: add missing terms in `location_selector`","There are some terms that are defined in `delivery` module but are not translated when you see them on the website. This happens because these strings are defined in the `delivery` module, which is not a frontend module. This commit redefines those strings in the `website_sale` module, which is a frontend module.

Task-4328208
OPW-4403072
OPW-4326840

Forward-Port-Of: odoo/odoo#192600
Forward-Port-Of: odoo/odoo#192102",fw-bot,2025-01-08 14:58:27+00:00,[],2025-01-10 09:23:34+00:00,2025-01-09 14:18:24+00:00,https://github.com/odoo/odoo/pull/192905,"[('OE', 'the report is linked to a support ticket (opw-...)'), ('forwardport', 'This PR was created by @fw-bot'), ('conflict', 'There was an error while creating this forward-port PR')]","[{'comment_id': 2577882254, 'issue_id': 2775610739, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/192905.png)](https://mergebot.odoo.com/odoo/odoo/pull/192905)', 'created_at': datetime.datetime(2025, 1, 8, 14, 59, 11, tzinfo=datetime.timezone.utc)}, {'comment_id': 2577882276, 'issue_id': 2775610739, 'author': 'fw-bot', 'body': '@MohammedBasioni @chevalierv cherrypicking of pull request odoo/odoo#192102 failed.\n\nstdout:\n```\nAuto-merging addons/delivery/static/src/js/location_selector/location/location.js\nAuto-merging addons/delivery/static/src/js/location_selector/location_selector_dialog/location_selector_dialog.js\nAuto-merging addons/delivery/static/src/js/location_selector/map_container/map_container.js\nAuto-merging addons/website_sale/i18n/website_sale.pot\nCONFLICT (content): Merge conflict in addons/website_sale/i18n/website_sale.pot\nAuto-merging addons/website_sale/static/src/js/location_selector/location_selector_dialog/location_selector_dialog.js\n\n```\n\nEither perform the forward-port manually (and push to this branch, proceeding as usual) or close this PR (maybe?).\n\nIn the former case, you may want to edit this PR message as well.\n\n:warning: after resolving this conflict, you will need to merge it via @robodoo.\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 8, 14, 59, 11, tzinfo=datetime.timezone.utc)}, {'comment_id': 2580049875, 'issue_id': 2775610739, 'author': 'MohammedBasioni', 'body': 'robodoo r+', 'created_at': datetime.datetime(2025, 1, 9, 12, 35, 17, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-08 14:59:11 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/192905.png)](https://mergebot.odoo.com/odoo/odoo/pull/192905)

fw-bot (Issue Creator) on (2025-01-08 14:59:11 UTC): @MohammedBasioni @chevalierv cherrypicking of pull request odoo/odoo#192102 failed.

stdout:
```
Auto-merging addons/delivery/static/src/js/location_selector/location/location.js
Auto-merging addons/delivery/static/src/js/location_selector/location_selector_dialog/location_selector_dialog.js
Auto-merging addons/delivery/static/src/js/location_selector/map_container/map_container.js
Auto-merging addons/website_sale/i18n/website_sale.pot
CONFLICT (content): Merge conflict in addons/website_sale/i18n/website_sale.pot
Auto-merging addons/website_sale/static/src/js/location_selector/location_selector_dialog/location_selector_dialog.js

```

Either perform the forward-port manually (and push to this branch, proceeding as usual) or close this PR (maybe?).

In the former case, you may want to edit this PR message as well.

:warning: after resolving this conflict, you will need to merge it via @robodoo.

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

MohammedBasioni on (2025-01-09 12:35:17 UTC): robodoo r+

"
2775603719,pull_request,closed,,[FW][FIX] hr_recruitment: fixed the preview of attachments,"If we upload the attachments on the application or candidate, We need to refresh to see the preview of the attachments.

In this PR, we've added the reload_on_attachment attribute to the chatter, which helps us preview the attachments.

Task-4414529

Forward-Port-Of: odoo/odoo#191499",fw-bot,2025-01-08 14:55:26+00:00,[],2025-01-23 11:11:03+00:00,2025-01-09 10:58:03+00:00,https://github.com/odoo/odoo/pull/192904,"[('RD', 'research & development, internal work'), ('forwardport', 'This PR was created by @fw-bot'), ('18.2', None)]","[{'comment_id': 2577873190, 'issue_id': 2775603719, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/192904.png)](https://mergebot.odoo.com/odoo/odoo/pull/192904)', 'created_at': datetime.datetime(2025, 1, 8, 14, 55, 27, tzinfo=datetime.timezone.utc)}, {'comment_id': 2577873217, 'issue_id': 2775603719, 'author': 'fw-bot', 'body': '@yava-odoo @Bertrand2 this PR targets master and is the last of the forward-port chain containing:\n* odoo/odoo#192884\n\nTo merge the full chain, use\n> @robodoo r+\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 8, 14, 55, 28, tzinfo=datetime.timezone.utc)}, {'comment_id': 2579482616, 'issue_id': 2775603719, 'author': 'tivisse', 'body': '@robodoo r+', 'created_at': datetime.datetime(2025, 1, 9, 8, 51, 59, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-08 14:55:27 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/192904.png)](https://mergebot.odoo.com/odoo/odoo/pull/192904)

fw-bot (Issue Creator) on (2025-01-08 14:55:28 UTC): @yava-odoo @Bertrand2 this PR targets master and is the last of the forward-port chain containing:
* odoo/odoo#192884

To merge the full chain, use

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

tivisse on (2025-01-09 08:51:59 UTC): @robodoo r+

"
2775601051,pull_request,closed,,"[FW][FIX] web_editor, html_editor: font-size not computed correctly","**Behaviour before PR:**

In website, in some snippets font-size of paragraph like elements is not displayed correctly in toolbar. This issue happens because in `getFontSizeDisplayValue` method if there is no font-size class applied to element then it will set the value of `--font-size-base` css variable which is `16px`.

**Behaviour after PR is merged:**

Now, `getFontSizeDisplayValue` method will set font-size using `getComputedStyle` if there is no font related class is applied to that element.

task-4420329




---
I confirm I have signed the CLA and read the PR guidelines at www.odoo.com/submit-pr

Forward-Port-Of: odoo/odoo#191577",fw-bot,2025-01-08 14:54:15+00:00,[],2025-01-30 18:09:17+00:00,2025-01-16 18:02:41+00:00,https://github.com/odoo/odoo/pull/192903,"[('RD', 'research & development, internal work'), ('forwardport', 'This PR was created by @fw-bot')]","[{'comment_id': 2577870307, 'issue_id': 2775601051, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/192903.png)](https://mergebot.odoo.com/odoo/odoo/pull/192903)', 'created_at': datetime.datetime(2025, 1, 8, 14, 54, 16, tzinfo=datetime.timezone.utc)}, {'comment_id': 2577870331, 'issue_id': 2775601051, 'author': 'fw-bot', 'body': 'This PR targets 18.0 and is part of the forward-port chain. Further PRs will be created up to master.\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 8, 14, 54, 17, tzinfo=datetime.timezone.utc)}, {'comment_id': 2579516433, 'issue_id': 2775601051, 'author': 'dmo-odoo', 'body': '@adsa-odoo Is the issue also in html_editor?', 'created_at': datetime.datetime(2025, 1, 9, 9, 4, 1, tzinfo=datetime.timezone.utc)}, {'comment_id': 2579850289, 'issue_id': 2775601051, 'author': 'adsa-odoo', 'body': ""> @adsa-odoo Is the issue also in html_editor?\r\n\r\nThe issue occurs only in website and it doesn't use html_editor as for now. But similar method is being used in html_editor `getFontSizeDisplayValue` in formatting.js . Do you think we should apply fix there too?"", 'created_at': datetime.datetime(2025, 1, 9, 11, 2, 39, tzinfo=datetime.timezone.utc)}, {'comment_id': 2591870444, 'issue_id': 2775601051, 'author': 'dmo-odoo', 'body': '@adsa-odoo If you apply the same class manually, is the font size correctly computed? If not, then I would say to fix it in html_editor as well.', 'created_at': datetime.datetime(2025, 1, 15, 7, 57, 25, tzinfo=datetime.timezone.utc)}, {'comment_id': 2592587402, 'issue_id': 2775601051, 'author': 'fw-bot', 'body': '@adsa-odoo @dmo-odoo this PR was modified / updated and has become a normal PR. It must be merged directly.', 'created_at': datetime.datetime(2025, 1, 15, 12, 4, 49, tzinfo=datetime.timezone.utc)}, {'comment_id': 2594688270, 'issue_id': 2775601051, 'author': 'adsa-odoo', 'body': '@dmo-odoo Done changes!', 'created_at': datetime.datetime(2025, 1, 16, 7, 9, 42, tzinfo=datetime.timezone.utc)}, {'comment_id': 2595473396, 'issue_id': 2775601051, 'author': 'dmo-odoo', 'body': '@adsa-odoo Thanks!\r\n@robodoo rebase-ff r+', 'created_at': datetime.datetime(2025, 1, 16, 12, 32, 28, tzinfo=datetime.timezone.utc)}, {'comment_id': 2595473668, 'issue_id': 2775601051, 'author': 'robodoo', 'body': 'Merge method set to rebase and fast-forward.', 'created_at': datetime.datetime(2025, 1, 16, 12, 32, 31, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-08 14:54:16 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/192903.png)](https://mergebot.odoo.com/odoo/odoo/pull/192903)

fw-bot (Issue Creator) on (2025-01-08 14:54:17 UTC): This PR targets 18.0 and is part of the forward-port chain. Further PRs will be created up to master.

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

dmo-odoo on (2025-01-09 09:04:01 UTC): @adsa-odoo Is the issue also in html_editor?

adsa-odoo on (2025-01-09 11:02:39 UTC): The issue occurs only in website and it doesn't use html_editor as for now. But similar method is being used in html_editor `getFontSizeDisplayValue` in formatting.js . Do you think we should apply fix there too?

dmo-odoo on (2025-01-15 07:57:25 UTC): @adsa-odoo If you apply the same class manually, is the font size correctly computed? If not, then I would say to fix it in html_editor as well.

fw-bot (Issue Creator) on (2025-01-15 12:04:49 UTC): @adsa-odoo @dmo-odoo this PR was modified / updated and has become a normal PR. It must be merged directly.

adsa-odoo on (2025-01-16 07:09:42 UTC): @dmo-odoo Done changes!

dmo-odoo on (2025-01-16 12:32:28 UTC): @adsa-odoo Thanks!
@robodoo rebase-ff r+

robodoo on (2025-01-16 12:32:31 UTC): Merge method set to rebase and fast-forward.

"
2775594602,pull_request,closed,,[FW][FIX] purchase_requisition: remove existing currency rate in tests,"This commit removes the existing currency rate before creating the new ones as there is a unicity constrains on the currency rate date.

runbot-error: 111437

Description of the issue/feature this PR addresses:

Current behavior before PR:

Desired behavior after PR is merged:




---
I confirm I have signed the CLA and read the PR guidelines at www.odoo.com/submit-pr

Forward-Port-Of: odoo/odoo#192831",fw-bot,2025-01-08 14:51:38+00:00,[],2025-01-24 12:25:23+00:00,2025-01-10 12:18:38+00:00,https://github.com/odoo/odoo/pull/192902,"[('RD', 'research & development, internal work'), ('forwardport', 'This PR was created by @fw-bot')]","[{'comment_id': 2577864139, 'issue_id': 2775594602, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/192902.png)](https://mergebot.odoo.com/odoo/odoo/pull/192902)', 'created_at': datetime.datetime(2025, 1, 8, 14, 51, 39, tzinfo=datetime.timezone.utc)}, {'comment_id': 2577864165, 'issue_id': 2775594602, 'author': 'fw-bot', 'body': 'This PR targets 17.0 and is part of the forward-port chain. Further PRs will be created up to master.\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 8, 14, 51, 40, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-08 14:51:39 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/192902.png)](https://mergebot.odoo.com/odoo/odoo/pull/192902)

fw-bot (Issue Creator) on (2025-01-08 14:51:40 UTC): This PR targets 17.0 and is part of the forward-port chain. Further PRs will be created up to master.

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

"
2775584308,pull_request,open,,[FIX] web: fix tour,FIX TOUR,nikj-odoo,2025-01-08 14:47:13+00:00,[],2025-01-08 15:00:22+00:00,,https://github.com/odoo/odoo/pull/192901,"[('RD', 'research & development, internal work')]","[{'comment_id': 2577854116, 'issue_id': 2775584308, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/192901.png)](https://mergebot.odoo.com/odoo/odoo/pull/192901)', 'created_at': datetime.datetime(2025, 1, 8, 14, 47, 16, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-08 14:47:16 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/192901.png)](https://mergebot.odoo.com/odoo/odoo/pull/192901)

"
2775551419,pull_request,closed,,[FW][IMP] product: strengthen combo constraints,"By design, nested combos aren't supported (i.e. products of type `combo` can't be used as combo items). However, since we used a python constraint to enforce this, it was still possible to change the type of a product to `combo` after using it as a combo item. To prevent this, we changed the python constraint to an SQL constraint.

Forward-Port-Of: odoo/odoo#192416
Forward-Port-Of: odoo/odoo#192172",fw-bot,2025-01-08 14:33:22+00:00,[],2025-01-22 20:31:45+00:00,2025-01-08 19:37:42+00:00,https://github.com/odoo/odoo/pull/192900,"[('RD', 'research & development, internal work'), ('forwardport', 'This PR was created by @fw-bot'), ('18.2', None)]","[{'comment_id': 2577821250, 'issue_id': 2775551419, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/192900.png)](https://mergebot.odoo.com/odoo/odoo/pull/192900)', 'created_at': datetime.datetime(2025, 1, 8, 14, 33, 40, tzinfo=datetime.timezone.utc)}, {'comment_id': 2577821273, 'issue_id': 2775551419, 'author': 'fw-bot', 'body': '@ltinel this PR targets master and is the last of the forward-port chain.\n\nTo merge the full chain, use\n> @robodoo r+\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 8, 14, 33, 41, tzinfo=datetime.timezone.utc)}, {'comment_id': 2577824534, 'issue_id': 2775551419, 'author': 'ltinel', 'body': '@robodoo r+', 'created_at': datetime.datetime(2025, 1, 8, 14, 35, 4, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-08 14:33:40 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/192900.png)](https://mergebot.odoo.com/odoo/odoo/pull/192900)

fw-bot (Issue Creator) on (2025-01-08 14:33:41 UTC): @ltinel this PR targets master and is the last of the forward-port chain.

To merge the full chain, use

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

ltinel on (2025-01-08 14:35:04 UTC): @robodoo r+

"
2775550881,pull_request,closed,,[FW][FIX] point_of_sale: correct sorting of orderlines by category,"Before this commit:
====================
The ""sort by category"" functionality in POS was not working as intended. Orderlines were not being sorted by their assigned categories, failing to meet the expected behaviour.

After this commit:
===================
The ""sort by category"" functionality now works as expected, properly sorting orderlines based on their categories in the POS interface.

Task-4440339

Forward-Port-Of: odoo/odoo#192287",fw-bot,2025-01-08 14:33:08+00:00,[],2025-01-23 09:21:57+00:00,2025-01-09 09:09:13+00:00,https://github.com/odoo/odoo/pull/192899,"[('RD', 'research & development, internal work'), ('forwardport', 'This PR was created by @fw-bot'), ('conflict', 'There was an error while creating this forward-port PR'), ('18.2', None)]","[{'comment_id': 2577821169, 'issue_id': 2775550881, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/192899.png)](https://mergebot.odoo.com/odoo/odoo/pull/192899)', 'created_at': datetime.datetime(2025, 1, 8, 14, 33, 39, tzinfo=datetime.timezone.utc)}, {'comment_id': 2577821200, 'issue_id': 2775550881, 'author': 'fw-bot', 'body': '@jipr-odoo @caburj cherrypicking of pull request odoo/odoo#192287 failed.\n\nstdout:\n```\nAuto-merging addons/point_of_sale/static/tests/pos/tours/utils/product_screen_util.js\nAuto-merging addons/point_of_sale/tests/test_frontend.py\nCONFLICT (content): Merge conflict in addons/point_of_sale/tests/test_frontend.py\n\n```\n\nEither perform the forward-port manually (and push to this branch, proceeding as usual) or close this PR (maybe?).\n\nIn the former case, you may want to edit this PR message as well.\n\n:warning: after resolving this conflict, you will need to merge it via @robodoo.\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 8, 14, 33, 39, tzinfo=datetime.timezone.utc)}, {'comment_id': 2579304154, 'issue_id': 2775550881, 'author': 'jipr-odoo', 'body': '@robodoo r+', 'created_at': datetime.datetime(2025, 1, 9, 6, 59, 50, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-08 14:33:39 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/192899.png)](https://mergebot.odoo.com/odoo/odoo/pull/192899)

fw-bot (Issue Creator) on (2025-01-08 14:33:39 UTC): @jipr-odoo @caburj cherrypicking of pull request odoo/odoo#192287 failed.

stdout:
```
Auto-merging addons/point_of_sale/static/tests/pos/tours/utils/product_screen_util.js
Auto-merging addons/point_of_sale/tests/test_frontend.py
CONFLICT (content): Merge conflict in addons/point_of_sale/tests/test_frontend.py

```

Either perform the forward-port manually (and push to this branch, proceeding as usual) or close this PR (maybe?).

In the former case, you may want to edit this PR message as well.

:warning: after resolving this conflict, you will need to merge it via @robodoo.

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

jipr-odoo on (2025-01-09 06:59:50 UTC): @robodoo r+

"
2775550003,pull_request,closed,,[FW][FIX] account_peppol: Fix external calls from tests,"Context:
In Peppol, we have multiple EDI mode:
- `production` that will call the real Peppol infrastructure,
- `test` that will call the sandbox Peppol,
- `demo` that makes no call at all, everything is mocked.

By default, runbots and demo data are set to `demo`. In tests, the value is therefore also `demo`, which is what we want: No call to external services.

Before this commit, we were doing some weird and useless override in the handling of demo functions, which is useless: if you want to test Odoo in a particular mode, just set it (this is what we do in Peppol tests' `setUpClass`), for all other tests, keeping the default demo mode should be preferred.

This was a problem because tests ran by other modules with Peppol installed were trying to make external calls.

task-no

Forward-Port-Of: odoo/odoo#192794
Forward-Port-Of: odoo/odoo#192560",fw-bot,2025-01-08 14:32:45+00:00,[],2025-01-22 20:31:46+00:00,2025-01-08 19:37:46+00:00,https://github.com/odoo/odoo/pull/192898,"[('RD', 'research & development, internal work'), ('forwardport', 'This PR was created by @fw-bot'), ('18.2', None)]","[{'comment_id': 2577821076, 'issue_id': 2775550003, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/192898.png)](https://mergebot.odoo.com/odoo/odoo/pull/192898)', 'created_at': datetime.datetime(2025, 1, 8, 14, 33, 36, tzinfo=datetime.timezone.utc)}, {'comment_id': 2577821100, 'issue_id': 2775550003, 'author': 'fw-bot', 'body': '@clbr-odoo @william-andre this PR targets master and is the last of the forward-port chain.\n\nTo merge the full chain, use\n> @robodoo r+\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 8, 14, 33, 37, tzinfo=datetime.timezone.utc)}, {'comment_id': 2577822681, 'issue_id': 2775550003, 'author': 'william-andre', 'body': '@robodoo r+', 'created_at': datetime.datetime(2025, 1, 8, 14, 34, 16, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-08 14:33:36 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/192898.png)](https://mergebot.odoo.com/odoo/odoo/pull/192898)

fw-bot (Issue Creator) on (2025-01-08 14:33:37 UTC): @clbr-odoo @william-andre this PR targets master and is the last of the forward-port chain.

To merge the full chain, use

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

william-andre on (2025-01-08 14:34:16 UTC): @robodoo r+

"
2775541183,pull_request,open,,[FIX] stock: Reintroduce global visibility_days for reordering rules,"Backport of odoo/odoo#190450

Odoo 18 introduced a new horizon concept for reordering rules, but it lacks persistence and usability. The horizon value resets when navigating away from the replenishment dashboard, affecting both usability and automatic reordering functionality:

1. Users must manually reset the horizon after consulting other views, disrupting workflows.
2. The horizon fails as a replacement for the old `visibility_days` parameter, rendering automatic reordering unreliable.

This commit reintroduces the `stock.visibility_days` system parameter:
- Acts as the default horizon when no custom value is set or after navigating away.
- Ensures consistency for automatic reordering rules in the back-end.
- Defaults to 0, aligning with prior behavior.

This approach prevents arbitrary horizon changes by users from persisting globally, while maintaining a manageable and reliable workflow for all use cases.

Task 4346100

---
I confirm I have signed the CLA and read the PR guidelines at www.odoo.com/submit-pr
",mama-odoo,2025-01-08 14:28:53+00:00,[],2025-02-07 13:32:41+00:00,,https://github.com/odoo/odoo/pull/192897,"[('RD', 'research & development, internal work')]","[{'comment_id': 2577810204, 'issue_id': 2775541183, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/192897.png)](https://mergebot.odoo.com/odoo/odoo/pull/192897)', 'created_at': datetime.datetime(2025, 1, 8, 14, 28, 57, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-08 14:28:57 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/192897.png)](https://mergebot.odoo.com/odoo/odoo/pull/192897)

"
2775513650,pull_request,open,,[IMP] stock: use removal date to decide if stock is not expired,"Since [1], any lots that are past their expiration date have no longer been considered as available quantity.
However, we now change this to use the removal date instead, as this is the date when they should no longer be in stock.

[1] https://github.com/odoo/odoo/pull/117138

task-4040821

---
I confirm I have signed the CLA and read the PR guidelines at www.odoo.com/submit-pr",R1D1CUL0US,2025-01-08 14:16:56+00:00,[],2025-01-29 09:13:13+00:00,,https://github.com/odoo/odoo/pull/192896,"[('RD', 'research & development, internal work')]","[{'comment_id': 2577782450, 'issue_id': 2775513650, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/192896.png)](https://mergebot.odoo.com/odoo/odoo/pull/192896)', 'created_at': datetime.datetime(2025, 1, 8, 14, 16, 59, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-08 14:16:59 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/192896.png)](https://mergebot.odoo.com/odoo/odoo/pull/192896)

"
2775505530,pull_request,closed,,[FIX] web_tour: checkForUndeterminisms must throw error,"The function checkForUndeterminisms in the TourStepAutomatic class throws an error in the case where an indeterminism is found. However, in the TourAutomatic class, we used this.throwError which throws the error but does not stop the macro (Does not go through the stop method of the Macro class). As a result, the observable is not disconnected and the macro is not stopped properly.
In this commit, we make sure that the macro is stopped properly.

Description of the issue/feature this PR addresses:

Current behavior before PR:

Desired behavior after PR is merged:




---
I confirm I have signed the CLA and read the PR guidelines at www.odoo.com/submit-pr
",pipu-odoo,2025-01-08 14:13:22+00:00,[],2025-01-27 13:20:37+00:00,2025-01-13 13:10:03+00:00,https://github.com/odoo/odoo/pull/192895,"[('RD', 'research & development, internal work')]","[{'comment_id': 2577774303, 'issue_id': 2775505530, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/192895.png)](https://mergebot.odoo.com/odoo/odoo/pull/192895)', 'created_at': datetime.datetime(2025, 1, 8, 14, 13, 26, tzinfo=datetime.timezone.utc)}, {'comment_id': 2579709349, 'issue_id': 2775505530, 'author': 'BastienFafchamps', 'body': '@robodoo r+', 'created_at': datetime.datetime(2025, 1, 9, 10, 18, 32, tzinfo=datetime.timezone.utc)}, {'comment_id': 2580852916, 'issue_id': 2775505530, 'author': 'robodoo', 'body': '@pipu-odoo @BastienFafchamps staging failed: ci/l10n on 412c57955076158ecbd26855ae1d70a4e3c8a0fa (view more at https://runbot.odoo.com/runbot/build/73105174)', 'created_at': datetime.datetime(2025, 1, 9, 17, 15, 50, tzinfo=datetime.timezone.utc)}, {'comment_id': 2586767534, 'issue_id': 2775505530, 'author': 'pipu-odoo', 'body': '@robodoo retry', 'created_at': datetime.datetime(2025, 1, 13, 10, 47, 35, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-08 14:13:26 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/192895.png)](https://mergebot.odoo.com/odoo/odoo/pull/192895)

BastienFafchamps on (2025-01-09 10:18:32 UTC): @robodoo r+

robodoo on (2025-01-09 17:15:50 UTC): @pipu-odoo @BastienFafchamps staging failed: ci/l10n on 412c57955076158ecbd26855ae1d70a4e3c8a0fa (view more at https://runbot.odoo.com/runbot/build/73105174)

pipu-odoo (Issue Creator) on (2025-01-13 10:47:35 UTC): @robodoo retry

"
2775499486,pull_request,closed,,"[FW][FIX] hr_holidays, mail: im_status fa - plane not consistent","**Current behavior before PR:**

prior to this PR fa-plane icon does not displayed after user comes online/offline/away while on leave without any reload.

**Desired behavior after PR is merged:**

now fa-plane icon is displayed with respective color of im_status without any reload

task-4237384

---
I confirm I have signed the CLA and read the PR guidelines at www.odoo.com/submit-pr

Forward-Port-Of: odoo/odoo#184471",fw-bot,2025-01-08 14:10:42+00:00,[],2025-01-09 20:24:29+00:00,2025-01-09 17:27:00+00:00,https://github.com/odoo/odoo/pull/192894,"[('RD', 'research & development, internal work'), ('forwardport', 'This PR was created by @fw-bot'), ('conflict', 'There was an error while creating this forward-port PR')]","[{'comment_id': 2577767961, 'issue_id': 2775499486, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/192894.png)](https://mergebot.odoo.com/odoo/odoo/pull/192894)', 'created_at': datetime.datetime(2025, 1, 8, 14, 10, 44, tzinfo=datetime.timezone.utc)}, {'comment_id': 2577767992, 'issue_id': 2775499486, 'author': 'fw-bot', 'body': '@jayp-odoo @alexkuhn cherrypicking of pull request odoo/odoo#184471 failed.\n\nstdout:\n```\nAuto-merging addons/hr_holidays/static/src/thread_icon.patch.xml\nCONFLICT (content): Merge conflict in addons/hr_holidays/static/src/thread_icon.patch.xml\nCONFLICT (modify/delete): addons/hr_holidays/static/tests/helpers/mock_server/models/res_partner.js deleted in ccdda54b365e13d24bf819b981d7ced9edde6efe and modified in b203e617a2d6dd2ce0cd5a95ef85db381e77deda.  Version b203e617a2d6dd2ce0cd5a95ef85db381e77deda of addons/hr_holidays/static/tests/helpers/mock_server/models/res_partner.js left in tree.\nCONFLICT (modify/delete): addons/hr_holidays/static/tests/helpers/model_definitions_setup.js deleted in ccdda54b365e13d24bf819b981d7ced9edde6efe and modified in b203e617a2d6dd2ce0cd5a95ef85db381e77deda.  Version b203e617a2d6dd2ce0cd5a95ef85db381e77deda of addons/hr_holidays/static/tests/helpers/model_definitions_setup.js left in tree.\nAuto-merging addons/mail/static/src/core/common/persona_model.js\nCONFLICT (content): Merge conflict in addons/mail/static/src/core/common/persona_model.js\nAuto-merging addons/mail/static/tests/legacy/helpers/mock_server/models/res_partner.js\n\n```\n\nEither perform the forward-port manually (and push to this branch, proceeding as usual) or close this PR (maybe?).\n\nIn the former case, you may want to edit this PR message as well.\n\n:warning: after resolving this conflict, you will need to merge it via @robodoo.\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 8, 14, 10, 45, tzinfo=datetime.timezone.utc)}, {'comment_id': 2579466963, 'issue_id': 2775499486, 'author': 'jayp-odoo', 'body': '@alexkuhn i have updated the mock model and tests to hoot, \r\n> LGTM please have a quick look, thanks.', 'created_at': datetime.datetime(2025, 1, 9, 8, 47, 39, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-08 14:10:44 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/192894.png)](https://mergebot.odoo.com/odoo/odoo/pull/192894)

fw-bot (Issue Creator) on (2025-01-08 14:10:45 UTC): @jayp-odoo @alexkuhn cherrypicking of pull request odoo/odoo#184471 failed.

stdout:
```
Auto-merging addons/hr_holidays/static/src/thread_icon.patch.xml
CONFLICT (content): Merge conflict in addons/hr_holidays/static/src/thread_icon.patch.xml
CONFLICT (modify/delete): addons/hr_holidays/static/tests/helpers/mock_server/models/res_partner.js deleted in ccdda54b365e13d24bf819b981d7ced9edde6efe and modified in b203e617a2d6dd2ce0cd5a95ef85db381e77deda.  Version b203e617a2d6dd2ce0cd5a95ef85db381e77deda of addons/hr_holidays/static/tests/helpers/mock_server/models/res_partner.js left in tree.
CONFLICT (modify/delete): addons/hr_holidays/static/tests/helpers/model_definitions_setup.js deleted in ccdda54b365e13d24bf819b981d7ced9edde6efe and modified in b203e617a2d6dd2ce0cd5a95ef85db381e77deda.  Version b203e617a2d6dd2ce0cd5a95ef85db381e77deda of addons/hr_holidays/static/tests/helpers/model_definitions_setup.js left in tree.
Auto-merging addons/mail/static/src/core/common/persona_model.js
CONFLICT (content): Merge conflict in addons/mail/static/src/core/common/persona_model.js
Auto-merging addons/mail/static/tests/legacy/helpers/mock_server/models/res_partner.js

```

Either perform the forward-port manually (and push to this branch, proceeding as usual) or close this PR (maybe?).

In the former case, you may want to edit this PR message as well.

:warning: after resolving this conflict, you will need to merge it via @robodoo.

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

jayp-odoo on (2025-01-09 08:47:39 UTC): @alexkuhn i have updated the mock model and tests to hoot,

"
2775483339,pull_request,closed,,[FIX] l10n_jo_edi: Fixed unit tests dependencies,"The unit tests were having a dependency from account_reports module which is not a dependency of the l10n_jo_edi module nor even a community module. This commit removes this dependency.



---
I confirm I have signed the CLA and read the PR guidelines at www.odoo.com/submit-pr
",hsal-odoo,2025-01-08 14:04:02+00:00,[],2025-01-22 18:29:02+00:00,2025-01-08 17:58:19+00:00,https://github.com/odoo/odoo/pull/192893,"[('RD', 'research & development, internal work')]","[{'comment_id': 2577752399, 'issue_id': 2775483339, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/192893.png)](https://mergebot.odoo.com/odoo/odoo/pull/192893)', 'created_at': datetime.datetime(2025, 1, 8, 14, 4, 6, tzinfo=datetime.timezone.utc)}, {'comment_id': 2577808905, 'issue_id': 2775483339, 'author': 'jco-odoo', 'body': '@robodoo r+', 'created_at': datetime.datetime(2025, 1, 8, 14, 28, 24, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-08 14:04:06 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/192893.png)](https://mergebot.odoo.com/odoo/odoo/pull/192893)

jco-odoo on (2025-01-08 14:28:24 UTC): @robodoo r+

"
2775473279,pull_request,closed,,[FIX] web: graph: prevent rendering too many datasets,"Chart.js can be really slow when rendering a large number of datasets.
So this commit limits the amount of datasets displayed by default on the graph.
However a button is present to display all datasets even if it can take a moment to render them.

task-4351783",mcm-odoo,2025-01-08 13:59:51+00:00,[],2025-01-29 16:40:50+00:00,2025-01-15 16:39:54+00:00,https://github.com/odoo/odoo/pull/192892,"[('RD', 'research & development, internal work')]","[{'comment_id': 2577742152, 'issue_id': 2775473279, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/192892.png)](https://mergebot.odoo.com/odoo/odoo/pull/192892)', 'created_at': datetime.datetime(2025, 1, 8, 13, 59, 56, tzinfo=datetime.timezone.utc)}, {'comment_id': 2593003042, 'issue_id': 2775473279, 'author': 'Polymorphe57', 'body': '@robodoo r+', 'created_at': datetime.datetime(2025, 1, 15, 14, 25, 33, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-08 13:59:56 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/192892.png)](https://mergebot.odoo.com/odoo/odoo/pull/192892)

Polymorphe57 on (2025-01-15 14:25:33 UTC): @robodoo r+

"
2775470433,pull_request,open,,[FIX] web_tour: drop inside an iframe,"Before this commit, only pointerup was listened and was on the global document. Now, the event is listened on the ownerDocument of the element.

Like that, if the element is inside an iframe, it will be correctly listened. The ""drop"" is also added to the listened events, because sign doesn't use the draggable hook of owl, instead it uses the vanilla drag and drop system of javascript.

The dropzone shown during an onboarding tour is also fixed and takes into account the offset of the iframe in the top document.


---
I confirm I have signed the CLA and read the PR guidelines at www.odoo.com/submit-pr
",bastien-ipb,2025-01-08 13:58:45+00:00,[],2025-01-08 14:00:41+00:00,,https://github.com/odoo/odoo/pull/192891,"[('RD', 'research & development, internal work')]","[{'comment_id': 2577739384, 'issue_id': 2775470433, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/192891.png)](https://mergebot.odoo.com/odoo/odoo/pull/192891)', 'created_at': datetime.datetime(2025, 1, 8, 13, 58, 48, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-08 13:58:48 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/192891.png)](https://mergebot.odoo.com/odoo/odoo/pull/192891)

"
2775462899,pull_request,open,,[FIX] mrp_account: fix missing company context for _compute_average_p…,"…rice

__Current behavior before commit:__

If _compute_average_price is triggered by Odoobot through any scheduled action (ex: run_scheduler) cost will always be company_id=1 dependant even in other companies

__Reason:__
Because the env company context is being lost during the recomputation

__Fix:__
Added `with_company(self.env.company)` to the compute .

__Steps:__
1. Create a server action to compute purchase_price for SOLs.
2. Run Server Action from Odoobot

opw-4222976

Description of the issue/feature this PR addresses:

Current behavior before PR:

Desired behavior after PR is merged:




---
I confirm I have signed the CLA and read the PR guidelines at www.odoo.com/submit-pr
",hmd-odoo,2025-01-08 13:55:39+00:00,[],2025-01-22 13:41:26+00:00,,https://github.com/odoo/odoo/pull/192890,"[('OE', 'the report is linked to a support ticket (opw-...)')]","[{'comment_id': 2577731557, 'issue_id': 2775462899, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/192890.png)](https://mergebot.odoo.com/odoo/odoo/pull/192890)', 'created_at': datetime.datetime(2025, 1, 8, 13, 55, 42, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-08 13:55:42 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/192890.png)](https://mergebot.odoo.com/odoo/odoo/pull/192890)

"
2775455032,pull_request,closed,,[FW][FIX] purchase: set_vendor_price_po_company,"The issue:
When a vendor has multiple prices for two companies (A and B), and the purchase order's company is set to B (while the user's main company is A), the price incorrectly defaults to the main company A's price.

How to reproduce the issue:
1) Create a new product with 2 vendor pricelist records that have different ""Unit Prices"" under the ""Purchase"" tab of the product -> each pricelist record should belong to a different company 

2) Create an RFQ for this product with both of these companies active

3) Change the ""Company"" on the PO under the ""Other Information"" tab to the company that is NOT shown in the top right-hand corner, but is still selected 

4) Add the product to the RFQ order line
- The ""Unit Price"" will be pulled from the main company shown in the top-right hand corner, thereby ignoring the ""Company"" selected for the PO.

After this commit, the price from the purchase order's company (B) is prioritized over the main company (A).

opw-4347134


---
I confirm I have signed the CLA and read the PR guidelines at www.odoo.com/submit-pr

Forward-Port-Of: odoo/odoo#189272",fw-bot,2025-01-08 13:52:16+00:00,[],2025-01-27 17:52:34+00:00,2025-01-13 17:52:13+00:00,https://github.com/odoo/odoo/pull/192889,"[('OE', 'the report is linked to a support ticket (opw-...)'), ('forwardport', 'This PR was created by @fw-bot')]","[{'comment_id': 2577724356, 'issue_id': 2775455032, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/192889.png)](https://mergebot.odoo.com/odoo/odoo/pull/192889)', 'created_at': datetime.datetime(2025, 1, 8, 13, 52, 17, tzinfo=datetime.timezone.utc)}, {'comment_id': 2577724379, 'issue_id': 2775455032, 'author': 'fw-bot', 'body': 'This PR targets saas-17.4 and is part of the forward-port chain. Further PRs will be created up to master.\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 8, 13, 52, 18, tzinfo=datetime.timezone.utc)}, {'comment_id': 2577936375, 'issue_id': 2775455032, 'author': 'fw-bot', 'body': '@gteboul @Whenrow the next pull request (odoo/odoo#192918) is in conflict. You can merge the chain up to here by saying\n> @robodoo r+\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 8, 15, 19, 42, tzinfo=datetime.timezone.utc)}, {'comment_id': 2585541925, 'issue_id': 2775455032, 'author': 'fw-bot', 'body': '@gteboul @Whenrow this forward port of odoo/odoo#189272 is awaiting action (not merged or closed).', 'created_at': datetime.datetime(2025, 1, 12, 2, 2, 9, tzinfo=datetime.timezone.utc)}, {'comment_id': 2586047531, 'issue_id': 2775455032, 'author': 'fw-bot', 'body': '@gteboul @Whenrow this forward port of odoo/odoo#189272 is awaiting action (not merged or closed).', 'created_at': datetime.datetime(2025, 1, 13, 2, 2, 45, tzinfo=datetime.timezone.utc)}, {'comment_id': 2587369900, 'issue_id': 2775455032, 'author': 'gteboul', 'body': '@robodoo r+', 'created_at': datetime.datetime(2025, 1, 13, 15, 10, 37, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-08 13:52:17 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/192889.png)](https://mergebot.odoo.com/odoo/odoo/pull/192889)

fw-bot (Issue Creator) on (2025-01-08 13:52:18 UTC): This PR targets saas-17.4 and is part of the forward-port chain. Further PRs will be created up to master.

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

fw-bot (Issue Creator) on (2025-01-08 15:19:42 UTC): @gteboul @Whenrow the next pull request (odoo/odoo#192918) is in conflict. You can merge the chain up to here by saying

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

fw-bot (Issue Creator) on (2025-01-12 02:02:09 UTC): @gteboul @Whenrow this forward port of odoo/odoo#189272 is awaiting action (not merged or closed).

fw-bot (Issue Creator) on (2025-01-13 02:02:45 UTC): @gteboul @Whenrow this forward port of odoo/odoo#189272 is awaiting action (not merged or closed).

gteboul on (2025-01-13 15:10:37 UTC): @robodoo r+

"
2775419565,pull_request,closed,,[FW][FIX] web_editor: font-size not computed correctly,"**Behaviour before PR:**

In website, in some snippets font-size of paragraph like elements is not displayed correctly in toolbar. This issue happens because in `getFontSizeDisplayValue` method if there is no font-size class applied to element then it will set the value of `--font-size-base` css variable which is `16px`.

**Behaviour after PR is merged:**

Now, `getFontSizeDisplayValue` method will set font-size using `getComputedStyle` if there is no font related class is applied to that element.

task-4420329




---
I confirm I have signed the CLA and read the PR guidelines at www.odoo.com/submit-pr

Forward-Port-Of: odoo/odoo#191577",fw-bot,2025-01-08 13:37:31+00:00,[],2025-01-23 11:32:23+00:00,2025-01-09 11:31:19+00:00,https://github.com/odoo/odoo/pull/192888,"[('RD', 'research & development, internal work'), ('forwardport', 'This PR was created by @fw-bot')]","[{'comment_id': 2577692788, 'issue_id': 2775419565, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/192888.png)](https://mergebot.odoo.com/odoo/odoo/pull/192888)', 'created_at': datetime.datetime(2025, 1, 8, 13, 37, 32, tzinfo=datetime.timezone.utc)}, {'comment_id': 2577692810, 'issue_id': 2775419565, 'author': 'fw-bot', 'body': 'This PR targets saas-17.4 and is part of the forward-port chain. Further PRs will be created up to master.\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 8, 13, 37, 33, tzinfo=datetime.timezone.utc)}, {'comment_id': 2579514803, 'issue_id': 2775419565, 'author': 'dmo-odoo', 'body': '@robodoo r+', 'created_at': datetime.datetime(2025, 1, 9, 9, 3, 39, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-08 13:37:32 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/192888.png)](https://mergebot.odoo.com/odoo/odoo/pull/192888)

fw-bot (Issue Creator) on (2025-01-08 13:37:33 UTC): This PR targets saas-17.4 and is part of the forward-port chain. Further PRs will be created up to master.

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

dmo-odoo on (2025-01-09 09:03:39 UTC): @robodoo r+

"
2775416456,pull_request,closed,,[REF] spreadsheet: rename copyForSheetId method,"Adapt code after the method was renamed in o-spreadsheet

The difference between both methods copyForSheetId and copyInSheetId has always been confusing to me.

This commits attemps to make it clearer by renaming one of the method.

Task: 4447450




---
I confirm I have signed the CLA and read the PR guidelines at www.odoo.com/submit-pr
",LucasLefevre,2025-01-08 13:36:04+00:00,[],2025-01-16 08:10:22+00:00,2025-01-16 08:10:21+00:00,https://github.com/odoo/odoo/pull/192887,"[('RD', 'research & development, internal work')]","[{'comment_id': 2577689956, 'issue_id': 2775416456, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/192887.png)](https://mergebot.odoo.com/odoo/odoo/pull/192887)', 'created_at': datetime.datetime(2025, 1, 8, 13, 36, 8, tzinfo=datetime.timezone.utc)}, {'comment_id': 2594782315, 'issue_id': 2775416456, 'author': 'rrahir', 'body': 'Added in https://github.com/odoo/odoo/pull/193691', 'created_at': datetime.datetime(2025, 1, 16, 8, 10, 21, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-08 13:36:08 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/192887.png)](https://mergebot.odoo.com/odoo/odoo/pull/192887)

rrahir on (2025-01-16 08:10:21 UTC): Added in https://github.com/odoo/odoo/pull/193691

"
2775413860,pull_request,closed,,[FW][FIX] account_edi_ubl_cii: remove BR-DE-1 constraint for credit notes,"Those constraints are blocking the flow for no good reason as we
- don't find them in the official documentation
- they don't really make sense in the context of a credit note
Therefore we decide to remove them for credit notes.
They don't seem to be required for the facturx validity.

task-4454115

Forward-Port-Of: odoo/odoo#192495",fw-bot,2025-01-08 13:34:52+00:00,[],2025-01-22 18:29:09+00:00,2025-01-08 18:23:54+00:00,https://github.com/odoo/odoo/pull/192886,"[('RD', 'research & development, internal work'), ('forwardport', 'This PR was created by @fw-bot'), ('18.2', None)]","[{'comment_id': 2577687439, 'issue_id': 2775413860, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/192886.png)](https://mergebot.odoo.com/odoo/odoo/pull/192886)', 'created_at': datetime.datetime(2025, 1, 8, 13, 34, 54, tzinfo=datetime.timezone.utc)}, {'comment_id': 2577687464, 'issue_id': 2775413860, 'author': 'fw-bot', 'body': '@clbr-odoo @smetl this PR targets master and is the last of the forward-port chain containing:\n* odoo/odoo#192866\n* odoo/odoo#192853\n* odoo/odoo#192840\n* odoo/odoo#192830\n* odoo/odoo#192772\n\nTo merge the full chain, use\n> @robodoo r+\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 8, 13, 34, 54, tzinfo=datetime.timezone.utc)}, {'comment_id': 2577751167, 'issue_id': 2775413860, 'author': 'clbr-odoo', 'body': '@robodoo r+', 'created_at': datetime.datetime(2025, 1, 8, 14, 3, 32, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-08 13:34:54 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/192886.png)](https://mergebot.odoo.com/odoo/odoo/pull/192886)

fw-bot (Issue Creator) on (2025-01-08 13:34:54 UTC): @clbr-odoo @smetl this PR targets master and is the last of the forward-port chain containing:
* odoo/odoo#192866
* odoo/odoo#192853
* odoo/odoo#192840
* odoo/odoo#192830
* odoo/odoo#192772

To merge the full chain, use

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

clbr-odoo on (2025-01-08 14:03:32 UTC): @robodoo r+

"
2775410497,pull_request,open,,[FW][17.0][IMP] hr_holidays_attendance: remove dead code,"during refactoring of `hr_holidays` for 17.0 (commit https://github.com/odoo/odoo/commit/8f87e102a95412aa7dd1b0ce07365d9d3bbdba6a), the `_get_days_request` function has been removed in the `hr_holidays` module, but it is still overridden in `hr_holidays_attendance`

Forward-Port-Of: odoo/odoo#190472",fw-bot,2025-01-08 13:33:21+00:00,[],2025-01-30 10:22:12+00:00,,https://github.com/odoo/odoo/pull/192885,"[('RD', 'research & development, internal work'), ('forwardport', 'This PR was created by @fw-bot'), ('conflict', 'There was an error while creating this forward-port PR')]","[{'comment_id': 2577684152, 'issue_id': 2775410497, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/192885.png)](https://mergebot.odoo.com/odoo/odoo/pull/192885)', 'created_at': datetime.datetime(2025, 1, 8, 13, 33, 22, tzinfo=datetime.timezone.utc)}, {'comment_id': 2577684219, 'issue_id': 2775410497, 'author': 'fw-bot', 'body': '@xaviedoanhduy @Bertrand2 cherrypicking of pull request odoo/odoo#190472 failed.\n\nstdout:\n```\nAuto-merging addons/hr_holidays_attendance/models/hr_leave_type.py\nCONFLICT (content): Merge conflict in addons/hr_holidays_attendance/models/hr_leave_type.py\n\n```\n\nEither perform the forward-port manually (and push to this branch, proceeding as usual) or close this PR (maybe?).\n\nIn the former case, you may want to edit this PR message as well.\n\n:warning: after resolving this conflict, you will need to merge it via @robodoo.\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 8, 13, 33, 25, tzinfo=datetime.timezone.utc)}, {'comment_id': 2585541918, 'issue_id': 2775410497, 'author': 'fw-bot', 'body': '@xaviedoanhduy @Bertrand2 this forward port of odoo/odoo#190472 is awaiting action (not merged or closed).', 'created_at': datetime.datetime(2025, 1, 12, 2, 2, 5, tzinfo=datetime.timezone.utc)}, {'comment_id': 2586047370, 'issue_id': 2775410497, 'author': 'fw-bot', 'body': '@xaviedoanhduy @Bertrand2 this forward port of odoo/odoo#190472 is awaiting action (not merged or closed).', 'created_at': datetime.datetime(2025, 1, 13, 2, 2, 39, tzinfo=datetime.timezone.utc)}, {'comment_id': 2588620145, 'issue_id': 2775410497, 'author': 'fw-bot', 'body': '@xaviedoanhduy @Bertrand2 this forward port of odoo/odoo#190472 is awaiting action (not merged or closed).', 'created_at': datetime.datetime(2025, 1, 14, 2, 2, 3, tzinfo=datetime.timezone.utc)}, {'comment_id': 2591478902, 'issue_id': 2775410497, 'author': 'fw-bot', 'body': '@xaviedoanhduy @Bertrand2 this forward port of odoo/odoo#190472 is awaiting action (not merged or closed).', 'created_at': datetime.datetime(2025, 1, 15, 2, 2, 1, tzinfo=datetime.timezone.utc)}, {'comment_id': 2594313672, 'issue_id': 2775410497, 'author': 'fw-bot', 'body': '@xaviedoanhduy @Bertrand2 this forward port of odoo/odoo#190472 is awaiting action (not merged or closed).', 'created_at': datetime.datetime(2025, 1, 16, 2, 1, 32, tzinfo=datetime.timezone.utc)}, {'comment_id': 2597278505, 'issue_id': 2775410497, 'author': 'fw-bot', 'body': '@xaviedoanhduy @Bertrand2 this forward port of odoo/odoo#190472 is awaiting action (not merged or closed).', 'created_at': datetime.datetime(2025, 1, 17, 2, 1, 26, tzinfo=datetime.timezone.utc)}, {'comment_id': 2599468932, 'issue_id': 2775410497, 'author': 'fw-bot', 'body': '@xaviedoanhduy @Bertrand2 this forward port of odoo/odoo#190472 is awaiting action (not merged or closed).', 'created_at': datetime.datetime(2025, 1, 18, 2, 1, 32, tzinfo=datetime.timezone.utc)}, {'comment_id': 2601174356, 'issue_id': 2775410497, 'author': 'fw-bot', 'body': '@xaviedoanhduy @Bertrand2 this forward port of odoo/odoo#190472 is awaiting action (not merged or closed).', 'created_at': datetime.datetime(2025, 1, 20, 2, 2, 25, tzinfo=datetime.timezone.utc)}, {'comment_id': 2617543287, 'issue_id': 2775410497, 'author': 'fw-bot', 'body': '@xaviedoanhduy @Bertrand2 this forward port of odoo/odoo#190472 is awaiting action (not merged or closed).', 'created_at': datetime.datetime(2025, 1, 28, 2, 1, 56, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-08 13:33:22 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/192885.png)](https://mergebot.odoo.com/odoo/odoo/pull/192885)

fw-bot (Issue Creator) on (2025-01-08 13:33:25 UTC): @xaviedoanhduy @Bertrand2 cherrypicking of pull request odoo/odoo#190472 failed.

stdout:
```
Auto-merging addons/hr_holidays_attendance/models/hr_leave_type.py
CONFLICT (content): Merge conflict in addons/hr_holidays_attendance/models/hr_leave_type.py

```

Either perform the forward-port manually (and push to this branch, proceeding as usual) or close this PR (maybe?).

In the former case, you may want to edit this PR message as well.

:warning: after resolving this conflict, you will need to merge it via @robodoo.

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

fw-bot (Issue Creator) on (2025-01-12 02:02:05 UTC): @xaviedoanhduy @Bertrand2 this forward port of odoo/odoo#190472 is awaiting action (not merged or closed).

fw-bot (Issue Creator) on (2025-01-13 02:02:39 UTC): @xaviedoanhduy @Bertrand2 this forward port of odoo/odoo#190472 is awaiting action (not merged or closed).

fw-bot (Issue Creator) on (2025-01-14 02:02:03 UTC): @xaviedoanhduy @Bertrand2 this forward port of odoo/odoo#190472 is awaiting action (not merged or closed).

fw-bot (Issue Creator) on (2025-01-15 02:02:01 UTC): @xaviedoanhduy @Bertrand2 this forward port of odoo/odoo#190472 is awaiting action (not merged or closed).

fw-bot (Issue Creator) on (2025-01-16 02:01:32 UTC): @xaviedoanhduy @Bertrand2 this forward port of odoo/odoo#190472 is awaiting action (not merged or closed).

fw-bot (Issue Creator) on (2025-01-17 02:01:26 UTC): @xaviedoanhduy @Bertrand2 this forward port of odoo/odoo#190472 is awaiting action (not merged or closed).

fw-bot (Issue Creator) on (2025-01-18 02:01:32 UTC): @xaviedoanhduy @Bertrand2 this forward port of odoo/odoo#190472 is awaiting action (not merged or closed).

fw-bot (Issue Creator) on (2025-01-20 02:02:25 UTC): @xaviedoanhduy @Bertrand2 this forward port of odoo/odoo#190472 is awaiting action (not merged or closed).

fw-bot (Issue Creator) on (2025-01-28 02:01:56 UTC): @xaviedoanhduy @Bertrand2 this forward port of odoo/odoo#190472 is awaiting action (not merged or closed).

"
2775393445,pull_request,closed,,[FW][FIX] hr_recruitment: fixed the preview of attachments,"If we upload the attachments on the application or candidate, We need to refresh to see the preview of the attachments.

In this PR, we've added the reload_on_attachment attribute to the chatter, which helps us preview the attachments.

Task-4414529

Forward-Port-Of: odoo/odoo#191499",fw-bot,2025-01-08 13:25:34+00:00,[],2025-01-23 11:39:57+00:00,2025-01-09 11:34:03+00:00,https://github.com/odoo/odoo/pull/192884,"[('RD', 'research & development, internal work'), ('forwardport', 'This PR was created by @fw-bot')]","[{'comment_id': 2577668256, 'issue_id': 2775393445, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/192884.png)](https://mergebot.odoo.com/odoo/odoo/pull/192884)', 'created_at': datetime.datetime(2025, 1, 8, 13, 25, 36, tzinfo=datetime.timezone.utc)}, {'comment_id': 2577668289, 'issue_id': 2775393445, 'author': 'fw-bot', 'body': 'This PR targets saas-18.1 and is part of the forward-port chain. Further PRs will be created up to master.\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 8, 13, 25, 37, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-08 13:25:36 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/192884.png)](https://mergebot.odoo.com/odoo/odoo/pull/192884)

fw-bot (Issue Creator) on (2025-01-08 13:25:37 UTC): This PR targets saas-18.1 and is part of the forward-port chain. Further PRs will be created up to master.

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

"
2775373588,pull_request,closed,,[IMP] hw_posbox_homepage: wifi UX improvements,"When connecting an IoT box to a Wi-Fi network,
the user is left on an infinite loading spinner
due to the fact that the IoT box disables the
hotspot before the user receives a response.

This commit instead displays a blocking message
to the user explaining that the IoT box is now
connected to the desired network.

task-4456765

---
I confirm I have signed the CLA and read the PR guidelines at www.odoo.com/submit-pr
",MaxTheWhale,2025-01-08 13:16:21+00:00,[],2025-01-25 05:41:06+00:00,2025-01-11 05:17:24+00:00,https://github.com/odoo/odoo/pull/192883,"[('RD', 'research & development, internal work')]","[{'comment_id': 2577649306, 'issue_id': 2775373588, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/192883.png)](https://mergebot.odoo.com/odoo/odoo/pull/192883)', 'created_at': datetime.datetime(2025, 1, 8, 13, 16, 24, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-08 13:16:24 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/192883.png)](https://mergebot.odoo.com/odoo/odoo/pull/192883)

"
2775373389,pull_request,closed,,[FW][FIX] web: prevent tl locale to be converted to fil,"Filipino is a standardized version of Tagalog that was created to be the national language of the Philippines.

In Odoo, we use the ""tl"" locale to refer to Filipino, but this locale is considered ""legacy"" by standards bodies such as the Unicode Consortium. This is the reason why some APIs, such as the Intl API in the browser, treat ""tl"" as ""fil"" and even implicitly replace the former with the latter.

This is a problem in Odoo, since the locale we use on the server side is still tl_PH, which leads to crashes when a converted Filipino locale (fil_PH) is sent to the server.

While waiting for a better solution, this commit forces the tl locale on the client side.

opw-4426799

Forward-Port-Of: odoo/odoo#192532",fw-bot,2025-01-08 13:16:16+00:00,[],2025-01-16 15:57:29+00:00,2025-01-16 12:29:23+00:00,https://github.com/odoo/odoo/pull/192882,"[('OE', 'the report is linked to a support ticket (opw-...)'), ('forwardport', 'This PR was created by @fw-bot'), ('18.2', None)]","[{'comment_id': 2577649065, 'issue_id': 2775373389, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/192882.png)](https://mergebot.odoo.com/odoo/odoo/pull/192882)', 'created_at': datetime.datetime(2025, 1, 8, 13, 16, 17, tzinfo=datetime.timezone.utc)}, {'comment_id': 2577649079, 'issue_id': 2775373389, 'author': 'fw-bot', 'body': '@oomsveta @ticodoo this PR targets master and is the last of the forward-port chain containing:\n* odoo/odoo#192861\n\nTo merge the full chain, use\n> @robodoo r+\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 8, 13, 16, 17, tzinfo=datetime.timezone.utc)}, {'comment_id': 2585541733, 'issue_id': 2775373389, 'author': 'fw-bot', 'body': '@oomsveta @ticodoo this forward port of odoo/odoo#192532 is awaiting action (not merged or closed).', 'created_at': datetime.datetime(2025, 1, 12, 2, 1, 23, tzinfo=datetime.timezone.utc)}, {'comment_id': 2586046154, 'issue_id': 2775373389, 'author': 'fw-bot', 'body': '@oomsveta @ticodoo this forward port of odoo/odoo#192532 is awaiting action (not merged or closed).', 'created_at': datetime.datetime(2025, 1, 13, 2, 1, 37, tzinfo=datetime.timezone.utc)}, {'comment_id': 2588618716, 'issue_id': 2775373389, 'author': 'fw-bot', 'body': '@oomsveta @ticodoo this forward port of odoo/odoo#192532 is awaiting action (not merged or closed).', 'created_at': datetime.datetime(2025, 1, 14, 2, 1, 17, tzinfo=datetime.timezone.utc)}, {'comment_id': 2591478295, 'issue_id': 2775373389, 'author': 'fw-bot', 'body': '@oomsveta @ticodoo this forward port of odoo/odoo#192532 is awaiting action (not merged or closed).', 'created_at': datetime.datetime(2025, 1, 15, 2, 1, 30, tzinfo=datetime.timezone.utc)}, {'comment_id': 2594313186, 'issue_id': 2775373389, 'author': 'fw-bot', 'body': '@oomsveta @ticodoo this forward port of odoo/odoo#192532 is awaiting action (not merged or closed).', 'created_at': datetime.datetime(2025, 1, 16, 2, 1, 10, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-08 13:16:17 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/192882.png)](https://mergebot.odoo.com/odoo/odoo/pull/192882)

fw-bot (Issue Creator) on (2025-01-08 13:16:17 UTC): @oomsveta @ticodoo this PR targets master and is the last of the forward-port chain containing:
* odoo/odoo#192861

To merge the full chain, use

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

fw-bot (Issue Creator) on (2025-01-12 02:01:23 UTC): @oomsveta @ticodoo this forward port of odoo/odoo#192532 is awaiting action (not merged or closed).

fw-bot (Issue Creator) on (2025-01-13 02:01:37 UTC): @oomsveta @ticodoo this forward port of odoo/odoo#192532 is awaiting action (not merged or closed).

fw-bot (Issue Creator) on (2025-01-14 02:01:17 UTC): @oomsveta @ticodoo this forward port of odoo/odoo#192532 is awaiting action (not merged or closed).

fw-bot (Issue Creator) on (2025-01-15 02:01:30 UTC): @oomsveta @ticodoo this forward port of odoo/odoo#192532 is awaiting action (not merged or closed).

fw-bot (Issue Creator) on (2025-01-16 02:01:10 UTC): @oomsveta @ticodoo this forward port of odoo/odoo#192532 is awaiting action (not merged or closed).

"
2775352570,pull_request,open,,[WIP][ADD] marketing_card: Dynamic Dimension,"As a user, I want to be able to generate more cards type. Like business card, story, thumbnail.
As a user, I want to be able to download generated card/image for personal/specific usage

Task: 4460521",GaetanVandenBergh,2025-01-08 13:06:15+00:00,[],2025-01-13 08:23:15+00:00,,https://github.com/odoo/odoo/pull/192881,"[('RD', 'research & development, internal work')]","[{'comment_id': 2577628945, 'issue_id': 2775352570, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/192881.png)](https://mergebot.odoo.com/odoo/odoo/pull/192881)', 'created_at': datetime.datetime(2025, 1, 8, 13, 6, 18, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-08 13:06:18 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/192881.png)](https://mergebot.odoo.com/odoo/odoo/pull/192881)

"
2775349215,pull_request,closed,,[IMP] hw_drivers: print IoT status via ZPL,"Before this commit, the IoT box would only
automatically print its status using Epson or
STAR printers. This commit adds status printing
support for ZPL (Zebra) printers.

task-4460563

---
I confirm I have signed the CLA and read the PR guidelines at www.odoo.com/submit-pr
",MaxTheWhale,2025-01-08 13:04:40+00:00,[],2025-01-22 20:31:32+00:00,2025-01-08 18:44:23+00:00,https://github.com/odoo/odoo/pull/192880,"[('RD', 'research & development, internal work')]","[{'comment_id': 2577625780, 'issue_id': 2775349215, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/192880.png)](https://mergebot.odoo.com/odoo/odoo/pull/192880)', 'created_at': datetime.datetime(2025, 1, 8, 13, 4, 47, tzinfo=datetime.timezone.utc)}, {'comment_id': 2578162637, 'issue_id': 2775349215, 'author': 'Ysoroko', 'body': '@robodoo r+', 'created_at': datetime.datetime(2025, 1, 8, 16, 55, 20, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-08 13:04:47 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/192880.png)](https://mergebot.odoo.com/odoo/odoo/pull/192880)

Ysoroko on (2025-01-08 16:55:20 UTC): @robodoo r+

"
2775348173,pull_request,closed,,[FW][FIX] account_peppol: fix demo mode,"With previous refactor, we simplified the demo mode by trying to mock the fewer methods possible.
In particular, we are aligning all calls to proxy to go through the `_call_peppol_proxy(...)`. This should simplify future refactoring work to get rid of account_edi_x models.

Some calls to make_request were still existing, since it's no longer mocked in demo mode, an error is raised. Replace all those calls to use the `_call_peppol_proxy` method.

task-no

Forward-Port-Of: odoo/odoo#192774
Forward-Port-Of: odoo/odoo#192649",fw-bot,2025-01-08 13:04:07+00:00,[],2025-01-22 16:50:45+00:00,2025-01-08 16:40:31+00:00,https://github.com/odoo/odoo/pull/192879,"[('RD', 'research & development, internal work'), ('forwardport', 'This PR was created by @fw-bot'), ('18.2', None)]","[{'comment_id': 2577625722, 'issue_id': 2775348173, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/192879.png)](https://mergebot.odoo.com/odoo/odoo/pull/192879)', 'created_at': datetime.datetime(2025, 1, 8, 13, 4, 46, tzinfo=datetime.timezone.utc)}, {'comment_id': 2577625744, 'issue_id': 2775348173, 'author': 'fw-bot', 'body': '@clbr-odoo @Xavier-Do this PR targets master and is the last of the forward-port chain.\n\nTo merge the full chain, use\n> @robodoo r+\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 8, 13, 4, 46, tzinfo=datetime.timezone.utc)}, {'comment_id': 2577637946, 'issue_id': 2775348173, 'author': 'clbr-odoo', 'body': '@robodoo r+', 'created_at': datetime.datetime(2025, 1, 8, 13, 10, 52, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-08 13:04:46 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/192879.png)](https://mergebot.odoo.com/odoo/odoo/pull/192879)

fw-bot (Issue Creator) on (2025-01-08 13:04:46 UTC): @clbr-odoo @Xavier-Do this PR targets master and is the last of the forward-port chain.

To merge the full chain, use

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

clbr-odoo on (2025-01-08 13:10:52 UTC): @robodoo r+

"
2775347612,pull_request,closed,,[FW][FIX] pos_loyalty: Ensure loyalty post-process occurs after order sync,"Before this commit, if you validated an order while offline and then synced the order when back online, the post-process loyalty actions would not occur, resulting in data not being updated on the server.

opw-4290171

---
I confirm I have signed the CLA and read the PR guidelines at www.odoo.com/submit-pr

Forward-Port-Of: odoo/odoo#192716
Forward-Port-Of: odoo/odoo#187238",fw-bot,2025-01-08 13:03:50+00:00,[],2025-01-23 11:11:01+00:00,2025-01-09 10:57:55+00:00,https://github.com/odoo/odoo/pull/192878,"[('OE', 'the report is linked to a support ticket (opw-...)'), ('forwardport', 'This PR was created by @fw-bot'), ('18.2', None)]","[{'comment_id': 2577625666, 'issue_id': 2775347612, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/192878.png)](https://mergebot.odoo.com/odoo/odoo/pull/192878)', 'created_at': datetime.datetime(2025, 1, 8, 13, 4, 44, tzinfo=datetime.timezone.utc)}, {'comment_id': 2577625697, 'issue_id': 2775347612, 'author': 'fw-bot', 'body': '@pedrambiria @davidmonnom this PR targets master and is the last of the forward-port chain.\n\nTo merge the full chain, use\n> @robodoo r+\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 8, 13, 4, 45, tzinfo=datetime.timezone.utc)}, {'comment_id': 2579395675, 'issue_id': 2775347612, 'author': 'pedrambiria', 'body': '@robodoo r+', 'created_at': datetime.datetime(2025, 1, 9, 8, 7, 23, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-08 13:04:44 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/192878.png)](https://mergebot.odoo.com/odoo/odoo/pull/192878)

fw-bot (Issue Creator) on (2025-01-08 13:04:45 UTC): @pedrambiria @davidmonnom this PR targets master and is the last of the forward-port chain.

To merge the full chain, use

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

pedrambiria on (2025-01-09 08:07:23 UTC): @robodoo r+

"
2775331065,pull_request,closed,,[FIX] pos_loyalty: mitigate race condition,"During tours a race condition can occur when loyalty rewards are being calculated, the race condition happens within the following lines:

https://github.com/odoo/odoo/blob/16.0/addons/pos_loyalty/static/src/js/Loyalty.js#L648-L680

If the method is called again between the computing of `changesPerProgram` and `await this._couponForProgram` changes to `couponPointChanges` are committed while the intent was to drop them (c.f. `dropPrevious`).

Runbot Error 56943
",Williambraecky,2025-01-08 12:55:55+00:00,[],2025-01-23 19:10:06+00:00,2025-01-09 19:00:51+00:00,https://github.com/odoo/odoo/pull/192877,"[('RD', 'research & development, internal work')]","[{'comment_id': 2577608450, 'issue_id': 2775331065, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/192877.png)](https://mergebot.odoo.com/odoo/odoo/pull/192877)', 'created_at': datetime.datetime(2025, 1, 8, 12, 55, 58, tzinfo=datetime.timezone.utc)}, {'comment_id': 2577612766, 'issue_id': 2775331065, 'author': 'Williambraecky', 'body': ""Hi @caburj 👋 \r\n\r\nI've tested this patch with 100 runs: https://runbot.odoo.com/runbot/batch/1756391\r\nI must admit I did not check why it doesn't happen in later versions.\r\n\r\nIt also most likely can not happen in regular usage of PoS so this is strictly to fix random errors.\r\n\r\n@robodoo fw=no"", 'created_at': datetime.datetime(2025, 1, 8, 12, 58, 7, tzinfo=datetime.timezone.utc)}, {'comment_id': 2577612896, 'issue_id': 2775331065, 'author': 'robodoo', 'body': 'Disabled forward-porting.', 'created_at': datetime.datetime(2025, 1, 8, 12, 58, 9, tzinfo=datetime.timezone.utc)}, {'comment_id': 2580946848, 'issue_id': 2775331065, 'author': 'caburj', 'body': 'robodoo r+', 'created_at': datetime.datetime(2025, 1, 9, 18, 4, 29, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-08 12:55:58 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/192877.png)](https://mergebot.odoo.com/odoo/odoo/pull/192877)

Williambraecky (Issue Creator) on (2025-01-08 12:58:07 UTC): Hi @caburj 👋 

I've tested this patch with 100 runs: https://runbot.odoo.com/runbot/batch/1756391
I must admit I did not check why it doesn't happen in later versions.

It also most likely can not happen in regular usage of PoS so this is strictly to fix random errors.

@robodoo fw=no

robodoo on (2025-01-08 12:58:09 UTC): Disabled forward-porting.

caburj on (2025-01-09 18:04:29 UTC): robodoo r+

"
2775299646,pull_request,open,,[FIX] calendar: Prevent email reminders from Odoo for Google/Microsoft synced events,"### Description of the issue/feature this PR addresses:

When an event is synced with an external calendar (Google/ Microsoft), the external calendar is responsible for sending reminders, and Odoo should not send any additional reminders. 

However, the current implementation does not properly handle this, with the default crone job running daily sending  email reminders up to one day late.


### Current behavior before PR:

Although the current implementation ensures the crone is not triggered for alarms of external-calendars-synced events, the default crone job that is running daily is going all over the events with reminders need to be sent and send them up to one day late.  

### Desired behavior after PR is merged:
When the crone goes to trigger the _send_reminder method, it will check first if the events are synced or not, and if synced then no reminders will be sent from odoo's side.




---
I confirm I have signed the CLA and read the PR guidelines at www.odoo.com/submit-pr


task-id: 4316693",AbdelrahmanFawzy1,2025-01-08 12:40:32+00:00,['AbdelrahmanFawzy1'],2025-01-10 09:26:46+00:00,,https://github.com/odoo/odoo/pull/192876,"[('RD', 'research & development, internal work')]","[{'comment_id': 2577579349, 'issue_id': 2775299646, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/192876.png)](https://mergebot.odoo.com/odoo/odoo/pull/192876)', 'created_at': datetime.datetime(2025, 1, 8, 12, 40, 35, tzinfo=datetime.timezone.utc)}, {'comment_id': 2580004101, 'issue_id': 2775299646, 'author': 'geflx', 'body': '@AbdelrahmanFawzy1 Reminder: adding ""task-NUMBER"" in the end of your PR description / commit description, where ""NUMBER"" is the id got from the task in project (the last part of the url of your task) :smile:', 'created_at': datetime.datetime(2025, 1, 9, 12, 10, 55, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-08 12:40:35 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/192876.png)](https://mergebot.odoo.com/odoo/odoo/pull/192876)

geflx on (2025-01-09 12:10:55 UTC): @AbdelrahmanFawzy1 Reminder: adding ""task-NUMBER"" in the end of your PR description / commit description, where ""NUMBER"" is the id got from the task in project (the last part of the url of your task) :smile:

"
2775288565,pull_request,closed,,[IMP] mail: improve quote reply detection,"We update quote detection for gmail and outlook:
- gmail has simple wrapper divs with explicit classes
- outlook has a mix of div ids and simple pattern-based quoting (everything under ""<hr><div id=""divRplyFwdMsg""/> seems to be considered a quote)

Previously gmail just used blockquote, which still works but does not capture ""On xx:xx:xx X <X@gmail.com> wrote:"" headers, which are caught for outlook.

Previously outlook had a wrapper div around divRplyFwdMsg which would set data-o-mail-quote-container on it, and propagate to children. However it seems that outer div was either removed or is not always present, a heuristic is thus needed.

task-4381505
",reth-odoo,2025-01-08 12:34:56+00:00,[],2025-02-04 18:09:32+00:00,2025-01-21 17:57:34+00:00,https://github.com/odoo/odoo/pull/192875,"[('RD', 'research & development, internal work')]","[{'comment_id': 2577569002, 'issue_id': 2775288565, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/192875.png)](https://mergebot.odoo.com/odoo/odoo/pull/192875)', 'created_at': datetime.datetime(2025, 1, 8, 12, 34, 59, tzinfo=datetime.timezone.utc)}, {'comment_id': 2604934036, 'issue_id': 2775288565, 'author': 'tde-banana-odoo', 'body': '@robodoo r+', 'created_at': datetime.datetime(2025, 1, 21, 14, 46, tzinfo=datetime.timezone.utc)}, {'comment_id': 2604975301, 'issue_id': 2775288565, 'author': 'reth-odoo', 'body': ""Arf, moved a commit from 18.0 that wasn't pushed here yet. + rebased"", 'created_at': datetime.datetime(2025, 1, 21, 15, 1, 51, tzinfo=datetime.timezone.utc)}, {'comment_id': 2604988139, 'issue_id': 2775288565, 'author': 'tde-banana-odoo', 'body': '@robodoo r+ rebase-merge\r\n\r\nAllez hop, time to send. Anyway this could probably benefit from some rewrite in master, so better fix stable as soon as possible.', 'created_at': datetime.datetime(2025, 1, 21, 15, 6, 53, tzinfo=datetime.timezone.utc)}, {'comment_id': 2604988233, 'issue_id': 2775288565, 'author': 'robodoo', 'body': 'Merge method set to rebase and merge, using the PR as merge commit message.', 'created_at': datetime.datetime(2025, 1, 21, 15, 6, 55, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-08 12:34:59 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/192875.png)](https://mergebot.odoo.com/odoo/odoo/pull/192875)

tde-banana-odoo on (2025-01-21 14:46:00 UTC): @robodoo r+

reth-odoo (Issue Creator) on (2025-01-21 15:01:51 UTC): Arf, moved a commit from 18.0 that wasn't pushed here yet. + rebased

tde-banana-odoo on (2025-01-21 15:06:53 UTC): @robodoo r+ rebase-merge

Allez hop, time to send. Anyway this could probably benefit from some rewrite in master, so better fix stable as soon as possible.

robodoo on (2025-01-21 15:06:55 UTC): Merge method set to rebase and merge, using the PR as merge commit message.

"
2775279840,pull_request,closed,,[FIX] pos_self_order: ensure sending stand number to server,"Before this commit, if the order was set to be served at a table, the assigned stand number was not sent to the server because the draft order was sent to the server before opening the stand number page.

opw-4457394

---
I confirm I have signed the CLA and read the PR guidelines at www.odoo.com/submit-pr
",pedrambiria,2025-01-08 12:30:38+00:00,[],2025-01-23 19:10:09+00:00,2025-01-09 19:01:33+00:00,https://github.com/odoo/odoo/pull/192874,"[('OE', 'the report is linked to a support ticket (opw-...)')]","[{'comment_id': 2577560531, 'issue_id': 2775279840, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/192874.png)](https://mergebot.odoo.com/odoo/odoo/pull/192874)', 'created_at': datetime.datetime(2025, 1, 8, 12, 30, 41, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-08 12:30:41 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/192874.png)](https://mergebot.odoo.com/odoo/odoo/pull/192874)

"
2775259792,pull_request,closed,,[FW][FIX] web_editor: font-size not computed correctly,"**Behaviour before PR:**

In website, in some snippets font-size of paragraph like elements is not displayed correctly in toolbar. This issue happens because in `getFontSizeDisplayValue` method if there is no font-size class applied to element then it will set the value of `--font-size-base` css variable which is `16px`.

**Behaviour after PR is merged:**

Now, `getFontSizeDisplayValue` method will set font-size using `getComputedStyle` if there is no font related class is applied to that element.

task-4420329




---
I confirm I have signed the CLA and read the PR guidelines at www.odoo.com/submit-pr

Forward-Port-Of: odoo/odoo#191577",fw-bot,2025-01-08 12:20:59+00:00,[],2025-01-23 12:21:37+00:00,2025-01-09 12:02:53+00:00,https://github.com/odoo/odoo/pull/192873,"[('RD', 'research & development, internal work'), ('forwardport', 'This PR was created by @fw-bot')]","[{'comment_id': 2577540731, 'issue_id': 2775259792, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/192873.png)](https://mergebot.odoo.com/odoo/odoo/pull/192873)', 'created_at': datetime.datetime(2025, 1, 8, 12, 21, tzinfo=datetime.timezone.utc)}, {'comment_id': 2577540754, 'issue_id': 2775259792, 'author': 'fw-bot', 'body': 'This PR targets saas-17.2 and is part of the forward-port chain. Further PRs will be created up to master.\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 8, 12, 21, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-08 12:21:00 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/192873.png)](https://mergebot.odoo.com/odoo/odoo/pull/192873)

fw-bot (Issue Creator) on (2025-01-08 12:21:00 UTC): This PR targets saas-17.2 and is part of the forward-port chain. Further PRs will be created up to master.

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

"
2775259642,pull_request,closed,,[IMP] web: remove try/catch when domain is parsed,"Before this commit, try/catchs when parsing the domain were used in the
search bar and in the search model. These try/catchs are not necessary,
because the domain is validated with the python view validation.
Also, the try/catch on the search bar was hiding the error, because it
was siliently ignored.",jpp-odoo,2025-01-08 12:20:53+00:00,[],2025-01-09 09:39:30+00:00,2025-01-08 18:24:01+00:00,https://github.com/odoo/odoo/pull/192872,"[('RD', 'research & development, internal work'), ('18.2', None)]","[{'comment_id': 2577540618, 'issue_id': 2775259642, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/192872.png)](https://mergebot.odoo.com/odoo/odoo/pull/192872)', 'created_at': datetime.datetime(2025, 1, 8, 12, 20, 56, tzinfo=datetime.timezone.utc)}, {'comment_id': 2577942481, 'issue_id': 2775259642, 'author': 'Polymorphe57', 'body': '@robodoo r+', 'created_at': datetime.datetime(2025, 1, 8, 15, 22, 12, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-08 12:20:56 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/192872.png)](https://mergebot.odoo.com/odoo/odoo/pull/192872)

Polymorphe57 on (2025-01-08 15:22:12 UTC): @robodoo r+

"
2775259269,pull_request,closed,,[FW][FIX] purchase: set_vendor_price_po_company,"The issue:
When a vendor has multiple prices for two companies (A and B), and the purchase order's company is set to B (while the user's main company is A), the price incorrectly defaults to the main company A's price.

How to reproduce the issue:
1) Create a new product with 2 vendor pricelist records that have different ""Unit Prices"" under the ""Purchase"" tab of the product -> each pricelist record should belong to a different company 

2) Create an RFQ for this product with both of these companies active

3) Change the ""Company"" on the PO under the ""Other Information"" tab to the company that is NOT shown in the top right-hand corner, but is still selected 

4) Add the product to the RFQ order line
- The ""Unit Price"" will be pulled from the main company shown in the top-right hand corner, thereby ignoring the ""Company"" selected for the PO.

After this commit, the price from the purchase order's company (B) is prioritized over the main company (A).

opw-4347134


---
I confirm I have signed the CLA and read the PR guidelines at www.odoo.com/submit-pr

Forward-Port-Of: odoo/odoo#189272",fw-bot,2025-01-08 12:20:42+00:00,[],2025-01-27 17:28:36+00:00,2025-01-13 17:11:44+00:00,https://github.com/odoo/odoo/pull/192871,"[('OE', 'the report is linked to a support ticket (opw-...)'), ('forwardport', 'This PR was created by @fw-bot')]","[{'comment_id': 2577540270, 'issue_id': 2775259269, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/192871.png)](https://mergebot.odoo.com/odoo/odoo/pull/192871)', 'created_at': datetime.datetime(2025, 1, 8, 12, 20, 43, tzinfo=datetime.timezone.utc)}, {'comment_id': 2577540288, 'issue_id': 2775259269, 'author': 'fw-bot', 'body': 'This PR targets saas-17.2 and is part of the forward-port chain. Further PRs will be created up to master.\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 8, 12, 20, 44, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-08 12:20:43 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/192871.png)](https://mergebot.odoo.com/odoo/odoo/pull/192871)

fw-bot (Issue Creator) on (2025-01-08 12:20:44 UTC): This PR targets saas-17.2 and is part of the forward-port chain. Further PRs will be created up to master.

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

"
2775257609,pull_request,closed,,[wip],"Description of the issue/feature this PR addresses:

Current behavior before PR:

Desired behavior after PR is merged:




---
I confirm I have signed the CLA and read the PR guidelines at www.odoo.com/submit-pr
",aab-odoo,2025-01-08 12:19:53+00:00,[],2025-02-05 11:24:40+00:00,2025-02-05 11:24:40+00:00,https://github.com/odoo/odoo/pull/192870,"[('RD', 'research & development, internal work')]","[{'comment_id': 2577538807, 'issue_id': 2775257609, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/192870.png)](https://mergebot.odoo.com/odoo/odoo/pull/192870)', 'created_at': datetime.datetime(2025, 1, 8, 12, 19, 55, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-08 12:19:55 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/192870.png)](https://mergebot.odoo.com/odoo/odoo/pull/192870)

"
2775246732,pull_request,closed,,[FW][FIX] pos_self_order: allow disabling of preparation display option,"Issue: In the POS settings, even after disabling the preparation display option, it remains enabled after saving.

Steps to reproduce:
-In POS configuration
-Ensure the Pay after option is set to each order.
-Disable self ordering and uncheck the preparation display option, save.

Explanation: In res_config_settings.py of pos_self_order, https://github.com/odoo/odoo/commit/8ee8010cf67f20c4eb28a334cc943bfedf2dd0d1 added a check to ensure that the preparation display is enabled if self-ordering is active. However, it was still automatically enabling the preparation display even when self-ordering was disabled.

opw-4225668

(This pr was merged but introduced an error with the test which was fixed in a separate pr: https://github.com/odoo/odoo/pull/186539)


---
I confirm I have signed the CLA and read the PR guidelines at www.odoo.com/submit-pr

Forward-Port-Of: odoo/odoo#186174
Forward-Port-Of: odoo/odoo#183601",fw-bot,2025-01-08 12:14:30+00:00,[],2025-02-07 20:46:38+00:00,2025-02-07 20:46:38+00:00,https://github.com/odoo/odoo/pull/192869,"[('OE', 'the report is linked to a support ticket (opw-...)'), ('forwardport', 'This PR was created by @fw-bot')]","[{'comment_id': 2577527781, 'issue_id': 2775246732, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/192869.png)](https://mergebot.odoo.com/odoo/odoo/pull/192869)', 'created_at': datetime.datetime(2025, 1, 8, 12, 14, 32, tzinfo=datetime.timezone.utc)}, {'comment_id': 2577527829, 'issue_id': 2775246732, 'author': 'fw-bot', 'body': 'This PR targets 18.0 and is part of the forward-port chain. Further PRs will be created up to master.\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 8, 12, 14, 34, tzinfo=datetime.timezone.utc)}, {'comment_id': 2577563301, 'issue_id': 2775246732, 'author': 'fw-bot', 'body': '@gteboul @adgu-odoo ci/runbot failed on this forward-port PR', 'created_at': datetime.datetime(2025, 1, 8, 12, 32, 2, tzinfo=datetime.timezone.utc)}, {'comment_id': 2577564300, 'issue_id': 2775246732, 'author': 'fw-bot', 'body': '@gteboul @adgu-odoo ci/template failed on this forward-port PR', 'created_at': datetime.datetime(2025, 1, 8, 12, 32, 28, tzinfo=datetime.timezone.utc)}, {'comment_id': 2577584436, 'issue_id': 2775246732, 'author': 'fw-bot', 'body': '@gteboul @adgu-odoo ci/upgrade_enterprise failed on this forward-port PR', 'created_at': datetime.datetime(2025, 1, 8, 12, 43, 17, tzinfo=datetime.timezone.utc)}, {'comment_id': 2582238736, 'issue_id': 2775246732, 'author': 'fw-bot', 'body': '@gteboul @adgu-odoo this PR was modified / updated and has become a normal PR. It must be merged directly.', 'created_at': datetime.datetime(2025, 1, 10, 9, 53, 44, tzinfo=datetime.timezone.utc)}, {'comment_id': 2585000673, 'issue_id': 2775246732, 'author': 'fw-bot', 'body': '@gteboul @adgu-odoo this forward port of odoo/odoo#183601 is awaiting action (not merged or closed).', 'created_at': datetime.datetime(2025, 1, 11, 2, 1, 42, tzinfo=datetime.timezone.utc)}, {'comment_id': 2642600532, 'issue_id': 2775246732, 'author': 'gteboul', 'body': '@robodoo r+', 'created_at': datetime.datetime(2025, 2, 7, 11, 2, 40, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-08 12:14:32 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/192869.png)](https://mergebot.odoo.com/odoo/odoo/pull/192869)

fw-bot (Issue Creator) on (2025-01-08 12:14:34 UTC): This PR targets 18.0 and is part of the forward-port chain. Further PRs will be created up to master.

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

fw-bot (Issue Creator) on (2025-01-08 12:32:02 UTC): @gteboul @adgu-odoo ci/runbot failed on this forward-port PR

fw-bot (Issue Creator) on (2025-01-08 12:32:28 UTC): @gteboul @adgu-odoo ci/template failed on this forward-port PR

fw-bot (Issue Creator) on (2025-01-08 12:43:17 UTC): @gteboul @adgu-odoo ci/upgrade_enterprise failed on this forward-port PR

fw-bot (Issue Creator) on (2025-01-10 09:53:44 UTC): @gteboul @adgu-odoo this PR was modified / updated and has become a normal PR. It must be merged directly.

fw-bot (Issue Creator) on (2025-01-11 02:01:42 UTC): @gteboul @adgu-odoo this forward port of odoo/odoo#183601 is awaiting action (not merged or closed).

gteboul on (2025-02-07 11:02:40 UTC): @robodoo r+

"
2775245852,pull_request,closed,,[IMP] web: form: more readable margin bottom logic on small screen,"Since the removal of the `d-contents d-sm-flex` in the inner group of form views, we have replaced the margin bottom on small screen with a CSS rules.

This commit doesn't change the visual but, move the logic from very long unreadable specific CSS selector to the QWeb template using Bootstrap classes (`mb-3 mb-sm-0`) on the last cell of an inner group's line.

---
I confirm I have signed the CLA and read the PR guidelines at www.odoo.com/submit-pr
",rfr-odoo,2025-01-08 12:14:03+00:00,['rfr-odoo'],2025-01-08 14:48:51+00:00,2025-01-08 14:45:53+00:00,https://github.com/odoo/odoo/pull/192868,"[('RD', 'research & development, internal work'), ('18.2', None)]","[{'comment_id': 2577526899, 'issue_id': 2775245852, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/192868.png)](https://mergebot.odoo.com/odoo/odoo/pull/192868)', 'created_at': datetime.datetime(2025, 1, 8, 12, 14, 6, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-08 12:14:06 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/192868.png)](https://mergebot.odoo.com/odoo/odoo/pull/192868)

"
2775243401,pull_request,closed,,[FIX] point_of_sale: add default logs location fallback to IoT log do…,"…wnload

Current behavior before PR:
 When using the ""Download logs"" button, from the IoT box form view, an Internal Server Error is raised every time.
```py
Internal Server Error : Log file configuration is not set
```

Description of the issue/feature this PR addresses:
New IoT Box images are missing the default `logfile` parameter in their config. This parameter is required for log downloading, and cannot be left empty.

The `logfile` parameter has been removed from the `odoo.conf` config file in PR #169633. However, it is still explicitly mentioned as `/var/log/odoo/odoo-server.log` in two other files: https://github.com/odoo/odoo/blob/451a956a22015034b8c35bd0d9a860b78442af7f/addons/hw_posbox_homepage/controllers/homepage.py#L74 and
https://github.com/odoo/odoo/blob/451a956a22015034b8c35bd0d9a860b78442af7f/addons/point_of_sale/tools/posbox/overwrite_before_init/etc/init_posbox_image.sh#L28 As such, a fallback to the default `/var/log/odoo/odoo-server.log` is added.

Desired behavior after PR is merged:
The Logs can be downloaded from the IoT box form view without receiving an Internal Server Error.

opw-4443593

---
I confirm I have signed the CLA and read the PR guidelines at www.odoo.com/submit-pr
",vise-odoo,2025-01-08 12:12:45+00:00,[],2025-01-22 15:40:57+00:00,2025-01-08 15:40:56+00:00,https://github.com/odoo/odoo/pull/192867,"[('OE', 'the report is linked to a support ticket (opw-...)')]","[{'comment_id': 2577524390, 'issue_id': 2775243401, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/192867.png)](https://mergebot.odoo.com/odoo/odoo/pull/192867)', 'created_at': datetime.datetime(2025, 1, 8, 12, 12, 49, tzinfo=datetime.timezone.utc)}, {'comment_id': 2578158491, 'issue_id': 2775243401, 'author': 'Ysoroko', 'body': 'what about the virtual IoT?', 'created_at': datetime.datetime(2025, 1, 8, 16, 53, 21, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-08 12:12:49 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/192867.png)](https://mergebot.odoo.com/odoo/odoo/pull/192867)

Ysoroko on (2025-01-08 16:53:21 UTC): what about the virtual IoT?

"
2775238291,pull_request,closed,,[FW][FIX] account_edi_ubl_cii: remove BR-DE-1 constraint for credit notes,"Those constraints are blocking the flow for no good reason as we
- don't find them in the official documentation
- they don't really make sense in the context of a credit note
Therefore we decide to remove them for credit notes.
They don't seem to be required for the facturx validity.

task-4454115

Forward-Port-Of: odoo/odoo#192495",fw-bot,2025-01-08 12:10:10+00:00,[],2025-01-22 15:58:08+00:00,2025-01-08 15:58:23+00:00,https://github.com/odoo/odoo/pull/192866,"[('RD', 'research & development, internal work'), ('forwardport', 'This PR was created by @fw-bot')]","[{'comment_id': 2577519724, 'issue_id': 2775238291, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/192866.png)](https://mergebot.odoo.com/odoo/odoo/pull/192866)', 'created_at': datetime.datetime(2025, 1, 8, 12, 10, 11, tzinfo=datetime.timezone.utc)}, {'comment_id': 2577519740, 'issue_id': 2775238291, 'author': 'fw-bot', 'body': 'This PR targets saas-18.1 and is part of the forward-port chain. Further PRs will be created up to master.\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 8, 12, 10, 12, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-08 12:10:11 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/192866.png)](https://mergebot.odoo.com/odoo/odoo/pull/192866)

fw-bot (Issue Creator) on (2025-01-08 12:10:12 UTC): This PR targets saas-18.1 and is part of the forward-port chain. Further PRs will be created up to master.

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

"
2775236156,pull_request,closed,,[FW][FIX] project: select default stage relative to project's company,"Steps
-----
- Have two companies A and B.
- Activate Project Stages, and in the list of stages set the first one of the list as belonging to company A.
- Create a project (from 'new' button in list view to be able to set a company at creation) belonging to company B (company B needs to be in the list of selected companies).
- Save it: the project's company has changed to company A.

Cause
-----
If no stage is set on the project at creation, we default to the default stage provided by `_default_stage_id`, which is the first stage in sequence, regardless of its company.
We then change the company of the project to match the stage's company, which overrides the stage set at creation.

Change
-----
If the project has a company set a creation, use the first stage without a company or with the same company as the project.
This is done even if the user doesn't have multiple companies selected, since the `search` on `project.project.stage` can return a stage from another company than the one selected.

opw-4290711

Forward-Port-Of: odoo/odoo#187635",fw-bot,2025-01-08 12:09:29+00:00,[],2025-01-23 14:33:16+00:00,2025-01-09 14:23:42+00:00,https://github.com/odoo/odoo/pull/192865,"[('OE', 'the report is linked to a support ticket (opw-...)'), ('forwardport', 'This PR was created by @fw-bot'), ('conflict', 'There was an error while creating this forward-port PR')]","[{'comment_id': 2577518443, 'issue_id': 2775236156, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/192865.png)](https://mergebot.odoo.com/odoo/odoo/pull/192865)', 'created_at': datetime.datetime(2025, 1, 8, 12, 9, 30, tzinfo=datetime.timezone.utc)}, {'comment_id': 2577518508, 'issue_id': 2775236156, 'author': 'fw-bot', 'body': '@taqu-odoo @xavierbol cherrypicking of pull request odoo/odoo#187635 failed.\n\nstdout:\n```\nAuto-merging addons/project/models/project_project.py\nCONFLICT (content): Merge conflict in addons/project/models/project_project.py\n\n```\n\nEither perform the forward-port manually (and push to this branch, proceeding as usual) or close this PR (maybe?).\n\nIn the former case, you may want to edit this PR message as well.\n\n:warning: after resolving this conflict, you will need to merge it via @robodoo.\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 8, 12, 9, 33, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-08 12:09:30 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/192865.png)](https://mergebot.odoo.com/odoo/odoo/pull/192865)

fw-bot (Issue Creator) on (2025-01-08 12:09:33 UTC): @taqu-odoo @xavierbol cherrypicking of pull request odoo/odoo#187635 failed.

stdout:
```
Auto-merging addons/project/models/project_project.py
CONFLICT (content): Merge conflict in addons/project/models/project_project.py

```

Either perform the forward-port manually (and push to this branch, proceeding as usual) or close this PR (maybe?).

In the former case, you may want to edit this PR message as well.

:warning: after resolving this conflict, you will need to merge it via @robodoo.

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

"
2775233694,pull_request,closed,,[FW][17.0][IMP] hr_holidays_attendance: remove dead code,"during refactoring of `hr_holidays` for 17.0 (commit https://github.com/odoo/odoo/commit/8f87e102a95412aa7dd1b0ce07365d9d3bbdba6a), the `_get_days_request` function has been removed in the `hr_holidays` module, but it is still overridden in `hr_holidays_attendance`

Forward-Port-Of: odoo/odoo#190472",fw-bot,2025-01-08 12:08:37+00:00,[],2025-01-28 12:07:52+00:00,2025-01-28 12:07:52+00:00,https://github.com/odoo/odoo/pull/192864,"[('RD', 'research & development, internal work'), ('forwardport', 'This PR was created by @fw-bot')]","[{'comment_id': 2577516764, 'issue_id': 2775233694, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/192864.png)](https://mergebot.odoo.com/odoo/odoo/pull/192864)', 'created_at': datetime.datetime(2025, 1, 8, 12, 8, 38, tzinfo=datetime.timezone.utc)}, {'comment_id': 2577516785, 'issue_id': 2775233694, 'author': 'fw-bot', 'body': 'This PR targets saas-17.4 and is part of the forward-port chain. Further PRs will be created up to master.\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 8, 12, 8, 39, tzinfo=datetime.timezone.utc)}, {'comment_id': 2577684172, 'issue_id': 2775233694, 'author': 'fw-bot', 'body': '@xaviedoanhduy @Bertrand2 the next pull request (odoo/odoo#192885) is in conflict. You can merge the chain up to here by saying\n> @robodoo r+\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 8, 13, 33, 23, tzinfo=datetime.timezone.utc)}, {'comment_id': 2585541915, 'issue_id': 2775233694, 'author': 'fw-bot', 'body': '@xaviedoanhduy @Bertrand2 this forward port of odoo/odoo#190472 is awaiting action (not merged or closed).', 'created_at': datetime.datetime(2025, 1, 12, 2, 2, 4, tzinfo=datetime.timezone.utc)}, {'comment_id': 2586047333, 'issue_id': 2775233694, 'author': 'fw-bot', 'body': '@xaviedoanhduy @Bertrand2 this forward port of odoo/odoo#190472 is awaiting action (not merged or closed).', 'created_at': datetime.datetime(2025, 1, 13, 2, 2, 37, tzinfo=datetime.timezone.utc)}, {'comment_id': 2588619862, 'issue_id': 2775233694, 'author': 'fw-bot', 'body': '@xaviedoanhduy @Bertrand2 this forward port of odoo/odoo#190472 is awaiting action (not merged or closed).', 'created_at': datetime.datetime(2025, 1, 14, 2, 2, 2, tzinfo=datetime.timezone.utc)}, {'comment_id': 2591478882, 'issue_id': 2775233694, 'author': 'fw-bot', 'body': '@xaviedoanhduy @Bertrand2 this forward port of odoo/odoo#190472 is awaiting action (not merged or closed).', 'created_at': datetime.datetime(2025, 1, 15, 2, 2, tzinfo=datetime.timezone.utc)}, {'comment_id': 2594313634, 'issue_id': 2775233694, 'author': 'fw-bot', 'body': '@xaviedoanhduy @Bertrand2 this forward port of odoo/odoo#190472 is awaiting action (not merged or closed).', 'created_at': datetime.datetime(2025, 1, 16, 2, 1, 31, tzinfo=datetime.timezone.utc)}, {'comment_id': 2597278477, 'issue_id': 2775233694, 'author': 'fw-bot', 'body': '@xaviedoanhduy @Bertrand2 this forward port of odoo/odoo#190472 is awaiting action (not merged or closed).', 'created_at': datetime.datetime(2025, 1, 17, 2, 1, 24, tzinfo=datetime.timezone.utc)}, {'comment_id': 2599468920, 'issue_id': 2775233694, 'author': 'fw-bot', 'body': '@xaviedoanhduy @Bertrand2 this forward port of odoo/odoo#190472 is awaiting action (not merged or closed).', 'created_at': datetime.datetime(2025, 1, 18, 2, 1, 30, tzinfo=datetime.timezone.utc)}, {'comment_id': 2601174319, 'issue_id': 2775233694, 'author': 'fw-bot', 'body': '@xaviedoanhduy @Bertrand2 this forward port of odoo/odoo#190472 is awaiting action (not merged or closed).', 'created_at': datetime.datetime(2025, 1, 20, 2, 2, 23, tzinfo=datetime.timezone.utc)}, {'comment_id': 2617543393, 'issue_id': 2775233694, 'author': 'fw-bot', 'body': '@xaviedoanhduy @Bertrand2 this forward port of odoo/odoo#190472 is awaiting action (not merged or closed).', 'created_at': datetime.datetime(2025, 1, 28, 2, 1, 58, tzinfo=datetime.timezone.utc)}, {'comment_id': 2618417379, 'issue_id': 2775233694, 'author': 'Bertrand2', 'body': 'robodoo r+', 'created_at': datetime.datetime(2025, 1, 28, 9, 30, 16, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-08 12:08:38 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/192864.png)](https://mergebot.odoo.com/odoo/odoo/pull/192864)

fw-bot (Issue Creator) on (2025-01-08 12:08:39 UTC): This PR targets saas-17.4 and is part of the forward-port chain. Further PRs will be created up to master.

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

fw-bot (Issue Creator) on (2025-01-08 13:33:23 UTC): @xaviedoanhduy @Bertrand2 the next pull request (odoo/odoo#192885) is in conflict. You can merge the chain up to here by saying

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

fw-bot (Issue Creator) on (2025-01-12 02:02:04 UTC): @xaviedoanhduy @Bertrand2 this forward port of odoo/odoo#190472 is awaiting action (not merged or closed).

fw-bot (Issue Creator) on (2025-01-13 02:02:37 UTC): @xaviedoanhduy @Bertrand2 this forward port of odoo/odoo#190472 is awaiting action (not merged or closed).

fw-bot (Issue Creator) on (2025-01-14 02:02:02 UTC): @xaviedoanhduy @Bertrand2 this forward port of odoo/odoo#190472 is awaiting action (not merged or closed).

fw-bot (Issue Creator) on (2025-01-15 02:02:00 UTC): @xaviedoanhduy @Bertrand2 this forward port of odoo/odoo#190472 is awaiting action (not merged or closed).

fw-bot (Issue Creator) on (2025-01-16 02:01:31 UTC): @xaviedoanhduy @Bertrand2 this forward port of odoo/odoo#190472 is awaiting action (not merged or closed).

fw-bot (Issue Creator) on (2025-01-17 02:01:24 UTC): @xaviedoanhduy @Bertrand2 this forward port of odoo/odoo#190472 is awaiting action (not merged or closed).

fw-bot (Issue Creator) on (2025-01-18 02:01:30 UTC): @xaviedoanhduy @Bertrand2 this forward port of odoo/odoo#190472 is awaiting action (not merged or closed).

fw-bot (Issue Creator) on (2025-01-20 02:02:23 UTC): @xaviedoanhduy @Bertrand2 this forward port of odoo/odoo#190472 is awaiting action (not merged or closed).

fw-bot (Issue Creator) on (2025-01-28 02:01:58 UTC): @xaviedoanhduy @Bertrand2 this forward port of odoo/odoo#190472 is awaiting action (not merged or closed).

Bertrand2 on (2025-01-28 09:30:16 UTC): robodoo r+

"
2775233466,pull_request,closed,,[I18N] update translations,opw-4409456,oomsveta,2025-01-08 12:08:30+00:00,[],2025-01-22 15:14:37+00:00,2025-01-08 15:06:49+00:00,https://github.com/odoo/odoo/pull/192863,"[('OE', 'the report is linked to a support ticket (opw-...)')]","[{'comment_id': 2577516608, 'issue_id': 2775233466, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/192863.png)](https://mergebot.odoo.com/odoo/odoo/pull/192863)', 'created_at': datetime.datetime(2025, 1, 8, 12, 8, 34, tzinfo=datetime.timezone.utc)}, {'comment_id': 2577516765, 'issue_id': 2775233466, 'author': 'oomsveta', 'body': 'robodoo r+', 'created_at': datetime.datetime(2025, 1, 8, 12, 8, 38, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-08 12:08:34 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/192863.png)](https://mergebot.odoo.com/odoo/odoo/pull/192863)

oomsveta (Issue Creator) on (2025-01-08 12:08:38 UTC): robodoo r+

"
2775211280,pull_request,open,,[FIX] mail: correct systray call menu styling in community,"**Current behavior before PR:**

The Systray Call menu in the community edition displayed 
incorrect styles due to improperly written CSS.

Before / After
![image](https://github.com/user-attachments/assets/76006b75-ec99-48db-aef5-4533a6d8c39d)
![image](https://github.com/user-attachments/assets/b4bf157c-3d7d-436e-9a2b-9e227ce0659c)


**Desired behavior after PR is merged:**

The issue is resolved by applying the correct conditions in the CSS.

Task-[4458263](https://www.odoo.com/odoo/my-tasks/4458263)
Enterprise-https://github.com/odoo/enterprise/pull/76910


---
I confirm I have signed the CLA and read the PR guidelines at www.odoo.com/submit-pr
",ramh-odoo,2025-01-08 11:58:13+00:00,[],2025-01-10 13:41:55+00:00,,https://github.com/odoo/odoo/pull/192862,"[('RD', 'research & development, internal work')]","[{'comment_id': 2577496978, 'issue_id': 2775211280, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/192862.png)](https://mergebot.odoo.com/odoo/odoo/pull/192862)', 'created_at': datetime.datetime(2025, 1, 8, 11, 58, 16, tzinfo=datetime.timezone.utc)}, {'comment_id': 2580511002, 'issue_id': 2775211280, 'author': 'Atovange', 'body': 'I think it would be more consistent to make it look the same as enterprise light mode:\r\n![image](https://github.com/user-attachments/assets/731a0500-66ff-47e6-be55-91cf26b871b9)', 'created_at': datetime.datetime(2025, 1, 9, 15, 5, 56, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-08 11:58:16 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/192862.png)](https://mergebot.odoo.com/odoo/odoo/pull/192862)

Atovange on (2025-01-09 15:05:56 UTC): I think it would be more consistent to make it look the same as enterprise light mode:
![image](https://github.com/user-attachments/assets/731a0500-66ff-47e6-be55-91cf26b871b9)

"
2775204102,pull_request,closed,,[FW][FIX] web: prevent tl locale to be converted to fil,"Filipino is a standardized version of Tagalog that was created to be the national language of the Philippines.

In Odoo, we use the ""tl"" locale to refer to Filipino, but this locale is considered ""legacy"" by standards bodies such as the Unicode Consortium. This is the reason why some APIs, such as the Intl API in the browser, treat ""tl"" as ""fil"" and even implicitly replace the former with the latter.

This is a problem in Odoo, since the locale we use on the server side is still tl_PH, which leads to crashes when a converted Filipino locale (fil_PH) is sent to the server.

While waiting for a better solution, this commit forces the tl locale on the client side.

opw-4426799

Forward-Port-Of: odoo/odoo#192532",fw-bot,2025-01-08 11:54:22+00:00,[],2025-01-30 12:41:22+00:00,2025-01-16 12:04:52+00:00,https://github.com/odoo/odoo/pull/192861,"[('OE', 'the report is linked to a support ticket (opw-...)'), ('forwardport', 'This PR was created by @fw-bot')]","[{'comment_id': 2577490290, 'issue_id': 2775204102, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/192861.png)](https://mergebot.odoo.com/odoo/odoo/pull/192861)', 'created_at': datetime.datetime(2025, 1, 8, 11, 54, 24, tzinfo=datetime.timezone.utc)}, {'comment_id': 2577490309, 'issue_id': 2775204102, 'author': 'fw-bot', 'body': 'This PR targets saas-18.1 and is part of the forward-port chain. Further PRs will be created up to master.\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 8, 11, 54, 24, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-08 11:54:24 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/192861.png)](https://mergebot.odoo.com/odoo/odoo/pull/192861)

fw-bot (Issue Creator) on (2025-01-08 11:54:24 UTC): This PR targets saas-18.1 and is part of the forward-port chain. Further PRs will be created up to master.

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

"
2775198456,pull_request,closed,,"[FIX] mail: correct h-padding for ""record created"" message","Before this commit, the ""Record created"" message, shown as the very 1st message of chatter, had some horizontal start padding in text content. This was unaligned with header and looks off.

This was happening because the message looks like a logged note, but it didn't have the `.o-note` modifier class to put the appropriate padding for the body of message with such a look. Due to the missing `.o-note` classname, this was assuming the style was the one with a bubble around, which needs extra padding, hence the problematic padding.

This commit fixes the issue by adding `.o-note` in classname of such message notification that looks like a logged note, so that the padding matches the one with logged note.

task-4291913

Before / After
<img width=""245"" alt=""Screenshot 2025-01-08 at 12 51 17"" src=""https://github.com/user-attachments/assets/8e388a88-705f-4c19-a6ec-d2168f1e6e56"" /> <img width=""243"" alt=""Screenshot 2025-01-08 at 12 50 48"" src=""https://github.com/user-attachments/assets/092b1508-d663-4336-900a-b55875437c05"" />

",alexkuhn,2025-01-08 11:51:36+00:00,[],2025-01-08 18:21:56+00:00,2025-01-08 16:57:28+00:00,https://github.com/odoo/odoo/pull/192860,"[('RD', 'research & development, internal work')]","[{'comment_id': 2577485174, 'issue_id': 2775198456, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/192860.png)](https://mergebot.odoo.com/odoo/odoo/pull/192860)', 'created_at': datetime.datetime(2025, 1, 8, 11, 51, 39, tzinfo=datetime.timezone.utc)}, {'comment_id': 2577493331, 'issue_id': 2775198456, 'author': 'alexkuhn', 'body': '@robodoo r+', 'created_at': datetime.datetime(2025, 1, 8, 11, 56, 17, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-08 11:51:39 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/192860.png)](https://mergebot.odoo.com/odoo/odoo/pull/192860)

alexkuhn (Issue Creator) on (2025-01-08 11:56:17 UTC): @robodoo r+

"
2775126252,pull_request,closed,,[FW][IMP] iot_box_image: add vim configuration,"This PR adds some features to the vim configuration used on the IoT Box (a new image is needed to make it work)
1. `filetype on` allows vim to detect the file extension and adjust syntax highglighting accordingly
2. `set laststatus=2` allows to display useful infobar at the bottom of the editor
3. `set mouse=a` enables the mouse in vim
4. `syntax on` uses colors to highlight code in vim

Forward-Port-Of: odoo/odoo#192754",fw-bot,2025-01-08 11:15:36+00:00,[],2025-01-22 15:14:22+00:00,2025-01-08 14:45:57+00:00,https://github.com/odoo/odoo/pull/192859,"[('RD', 'research & development, internal work'), ('forwardport', 'This PR was created by @fw-bot'), ('18.2', None)]","[{'comment_id': 2577419548, 'issue_id': 2775126252, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/192859.png)](https://mergebot.odoo.com/odoo/odoo/pull/192859)', 'created_at': datetime.datetime(2025, 1, 8, 11, 15, 37, tzinfo=datetime.timezone.utc)}, {'comment_id': 2577419586, 'issue_id': 2775126252, 'author': 'fw-bot', 'body': '@Ysoroko @qle-odoo this PR targets master and is the last of the forward-port chain.\n\nTo merge the full chain, use\n> @robodoo r+\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 8, 11, 15, 38, tzinfo=datetime.timezone.utc)}, {'comment_id': 2577460353, 'issue_id': 2775126252, 'author': 'qle-odoo', 'body': '@robodoo r+', 'created_at': datetime.datetime(2025, 1, 8, 11, 37, 52, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-08 11:15:37 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/192859.png)](https://mergebot.odoo.com/odoo/odoo/pull/192859)

fw-bot (Issue Creator) on (2025-01-08 11:15:38 UTC): @Ysoroko @qle-odoo this PR targets master and is the last of the forward-port chain.

To merge the full chain, use

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

qle-odoo on (2025-01-08 11:37:52 UTC): @robodoo r+

"
2775091249,pull_request,closed,,"[FW][FIX] sale,website_sale: pricelist valid dates not applied","If you create a pricelist rule with a discount that has a valid date range, that discount is only applied if the SO was created in that range. Even if it is confirmed within the valid date range.

Fix:
For website_sale orders we consider the date to be the current time when computing the price.

opw-4375643


---
I confirm I have signed the CLA and read the PR guidelines at www.odoo.com/submit-pr

Forward-Port-Of: odoo/odoo#192572
Forward-Port-Of: odoo/odoo#191538",fw-bot,2025-01-08 10:58:26+00:00,[],2025-01-22 15:14:37+00:00,2025-01-08 15:06:45+00:00,https://github.com/odoo/odoo/pull/192858,"[('OE', 'the report is linked to a support ticket (opw-...)'), ('forwardport', 'This PR was created by @fw-bot'), ('conflict', 'There was an error while creating this forward-port PR')]","[{'comment_id': 2577386741, 'issue_id': 2775091249, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/192858.png)](https://mergebot.odoo.com/odoo/odoo/pull/192858)', 'created_at': datetime.datetime(2025, 1, 8, 10, 58, 28, tzinfo=datetime.timezone.utc)}, {'comment_id': 2577386761, 'issue_id': 2775091249, 'author': 'fw-bot', 'body': '@livaios cherrypicking of pull request odoo/odoo#191538 failed.\n\nstdout:\n```\nAuto-merging addons/sale/models/sale_order_line.py\nAuto-merging addons/website_sale/models/sale_order_line.py\nCONFLICT (content): Merge conflict in addons/website_sale/models/sale_order_line.py\nAuto-merging addons/website_sale/tests/test_website_sale_pricelist.py\n\n```\n\nEither perform the forward-port manually (and push to this branch, proceeding as usual) or close this PR (maybe?).\n\nIn the former case, you may want to edit this PR message as well.\n\n:warning: after resolving this conflict, you will need to merge it via @robodoo.\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 8, 10, 58, 28, tzinfo=datetime.timezone.utc)}, {'comment_id': 2577413800, 'issue_id': 2775091249, 'author': 'livaios', 'body': '@robodoo r+', 'created_at': datetime.datetime(2025, 1, 8, 11, 12, 37, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-08 10:58:28 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/192858.png)](https://mergebot.odoo.com/odoo/odoo/pull/192858)

fw-bot (Issue Creator) on (2025-01-08 10:58:28 UTC): @livaios cherrypicking of pull request odoo/odoo#191538 failed.

stdout:
```
Auto-merging addons/sale/models/sale_order_line.py
Auto-merging addons/website_sale/models/sale_order_line.py
CONFLICT (content): Merge conflict in addons/website_sale/models/sale_order_line.py
Auto-merging addons/website_sale/tests/test_website_sale_pricelist.py

```

Either perform the forward-port manually (and push to this branch, proceeding as usual) or close this PR (maybe?).

In the former case, you may want to edit this PR message as well.

:warning: after resolving this conflict, you will need to merge it via @robodoo.

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

livaios on (2025-01-08 11:12:37 UTC): @robodoo r+

"
2775090648,pull_request,open,,[FW][FIX] pos_self_order: allow disabling of preparation display option,"Issue: In the POS settings, even after disabling the preparation display option, it remains enabled after saving.

Steps to reproduce:
-In POS configuration
-Ensure the Pay after option is set to each order.
-Disable self ordering and uncheck the preparation display option, save.

Explanation: In res_config_settings.py of pos_self_order, https://github.com/odoo/odoo/commit/8ee8010cf67f20c4eb28a334cc943bfedf2dd0d1 added a check to ensure that the preparation display is enabled if self-ordering is active. However, it was still automatically enabling the preparation display even when self-ordering was disabled.

opw-4225668

(This pr was merged but introduced an error with the test which was fixed in a separate pr: https://github.com/odoo/odoo/pull/186539)


---
I confirm I have signed the CLA and read the PR guidelines at www.odoo.com/submit-pr

Forward-Port-Of: odoo/odoo#186174
Forward-Port-Of: odoo/odoo#183601",fw-bot,2025-01-08 10:58:09+00:00,[],2025-01-11 02:01:45+00:00,,https://github.com/odoo/odoo/pull/192857,"[('OE', 'the report is linked to a support ticket (opw-...)'), ('forwardport', 'This PR was created by @fw-bot')]","[{'comment_id': 2577386254, 'issue_id': 2775090648, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/192857.png)](https://mergebot.odoo.com/odoo/odoo/pull/192857)', 'created_at': datetime.datetime(2025, 1, 8, 10, 58, 11, tzinfo=datetime.timezone.utc)}, {'comment_id': 2577386301, 'issue_id': 2775090648, 'author': 'fw-bot', 'body': 'This PR targets saas-17.4 and is part of the forward-port chain. Further PRs will be created up to master.\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 8, 10, 58, 13, tzinfo=datetime.timezone.utc)}, {'comment_id': 2582238794, 'issue_id': 2775090648, 'author': 'fw-bot', 'body': ""@gteboul @adgu-odoo child PR odoo/odoo#192869 was modified / updated and has become a normal PR. This PR (and any of its parents) will need to be merged independently as approvals won't cross."", 'created_at': datetime.datetime(2025, 1, 10, 9, 53, 46, tzinfo=datetime.timezone.utc)}, {'comment_id': 2585000691, 'issue_id': 2775090648, 'author': 'fw-bot', 'body': '@gteboul @adgu-odoo this forward port of odoo/odoo#183601 is awaiting action (not merged or closed).', 'created_at': datetime.datetime(2025, 1, 11, 2, 1, 44, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-08 10:58:11 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/192857.png)](https://mergebot.odoo.com/odoo/odoo/pull/192857)

fw-bot (Issue Creator) on (2025-01-08 10:58:13 UTC): This PR targets saas-17.4 and is part of the forward-port chain. Further PRs will be created up to master.

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

fw-bot (Issue Creator) on (2025-01-10 09:53:46 UTC): @gteboul @adgu-odoo child PR odoo/odoo#192869 was modified / updated and has become a normal PR. This PR (and any of its parents) will need to be merged independently as approvals won't cross.

fw-bot (Issue Creator) on (2025-01-11 02:01:44 UTC): @gteboul @adgu-odoo this forward port of odoo/odoo#183601 is awaiting action (not merged or closed).

"
2775064156,pull_request,closed,,[FW][FIX] project: select default stage relative to project's company,"Steps
-----
- Have two companies A and B.
- Activate Project Stages, and in the list of stages set the first one of the list as belonging to company A.
- Create a project (from 'new' button in list view to be able to set a company at creation) belonging to company B (company B needs to be in the list of selected companies).
- Save it: the project's company has changed to company A.

Cause
-----
If no stage is set on the project at creation, we default to the default stage provided by `_default_stage_id`, which is the first stage in sequence, regardless of its company.
We then change the company of the project to match the stage's company, which overrides the stage set at creation.

Change
-----
If the project has a company set a creation, use the first stage without a company or with the same company as the project.
This is done even if the user doesn't have multiple companies selected, since the `search` on `project.project.stage` can return a stage from another company than the one selected.

opw-4290711

Forward-Port-Of: odoo/odoo#187635",fw-bot,2025-01-08 10:49:11+00:00,[],2025-01-23 01:29:03+00:00,2025-01-09 00:44:41+00:00,https://github.com/odoo/odoo/pull/192855,"[('OE', 'the report is linked to a support ticket (opw-...)'), ('forwardport', 'This PR was created by @fw-bot')]","[{'comment_id': 2577369111, 'issue_id': 2775064156, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/192855.png)](https://mergebot.odoo.com/odoo/odoo/pull/192855)', 'created_at': datetime.datetime(2025, 1, 8, 10, 49, 12, tzinfo=datetime.timezone.utc)}, {'comment_id': 2577369140, 'issue_id': 2775064156, 'author': 'fw-bot', 'body': 'This PR targets saas-17.2 and is part of the forward-port chain. Further PRs will be created up to master.\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 8, 10, 49, 13, tzinfo=datetime.timezone.utc)}, {'comment_id': 2577518459, 'issue_id': 2775064156, 'author': 'fw-bot', 'body': '@taqu-odoo @xavierbol the next pull request (odoo/odoo#192865) is in conflict. You can merge the chain up to here by saying\n> @robodoo r+\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 8, 12, 9, 31, tzinfo=datetime.timezone.utc)}, {'comment_id': 2578857097, 'issue_id': 2775064156, 'author': 'xavierbol', 'body': 'robodoo r+', 'created_at': datetime.datetime(2025, 1, 8, 23, 13, 6, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-08 10:49:12 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/192855.png)](https://mergebot.odoo.com/odoo/odoo/pull/192855)

fw-bot (Issue Creator) on (2025-01-08 10:49:13 UTC): This PR targets saas-17.2 and is part of the forward-port chain. Further PRs will be created up to master.

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

fw-bot (Issue Creator) on (2025-01-08 12:09:31 UTC): @taqu-odoo @xavierbol the next pull request (odoo/odoo#192865) is in conflict. You can merge the chain up to here by saying

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

xavierbol on (2025-01-08 23:13:06 UTC): robodoo r+

"
2775063283,pull_request,closed,,[FW][17.0][IMP] hr_holidays_attendance: remove dead code,"during refactoring of `hr_holidays` for 17.0 (commit https://github.com/odoo/odoo/commit/8f87e102a95412aa7dd1b0ce07365d9d3bbdba6a), the `_get_days_request` function has been removed in the `hr_holidays` module, but it is still overridden in `hr_holidays_attendance`

Forward-Port-Of: odoo/odoo#190472",fw-bot,2025-01-08 10:48:55+00:00,[],2025-01-28 12:22:17+00:00,2025-01-28 12:22:17+00:00,https://github.com/odoo/odoo/pull/192854,"[('RD', 'research & development, internal work'), ('forwardport', 'This PR was created by @fw-bot')]","[{'comment_id': 2577368600, 'issue_id': 2775063283, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/192854.png)](https://mergebot.odoo.com/odoo/odoo/pull/192854)', 'created_at': datetime.datetime(2025, 1, 8, 10, 48, 56, tzinfo=datetime.timezone.utc)}, {'comment_id': 2577368615, 'issue_id': 2775063283, 'author': 'fw-bot', 'body': 'This PR targets saas-17.2 and is part of the forward-port chain. Further PRs will be created up to master.\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 8, 10, 48, 57, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-08 10:48:56 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/192854.png)](https://mergebot.odoo.com/odoo/odoo/pull/192854)

fw-bot (Issue Creator) on (2025-01-08 10:48:57 UTC): This PR targets saas-17.2 and is part of the forward-port chain. Further PRs will be created up to master.

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

"
2775048545,pull_request,closed,,[FW][FIX] account_edi_ubl_cii: remove BR-DE-1 constraint for credit notes,"Those constraints are blocking the flow for no good reason as we
- don't find them in the official documentation
- they don't really make sense in the context of a credit note
Therefore we decide to remove them for credit notes.
They don't seem to be required for the facturx validity.

task-4454115

Forward-Port-Of: odoo/odoo#192495",fw-bot,2025-01-08 10:43:42+00:00,[],2025-01-22 18:29:05+00:00,2025-01-08 18:12:59+00:00,https://github.com/odoo/odoo/pull/192853,"[('RD', 'research & development, internal work'), ('forwardport', 'This PR was created by @fw-bot')]","[{'comment_id': 2577358122, 'issue_id': 2775048545, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/192853.png)](https://mergebot.odoo.com/odoo/odoo/pull/192853)', 'created_at': datetime.datetime(2025, 1, 8, 10, 43, 43, tzinfo=datetime.timezone.utc)}, {'comment_id': 2577358143, 'issue_id': 2775048545, 'author': 'fw-bot', 'body': 'This PR targets 18.0 and is part of the forward-port chain. Further PRs will be created up to master.\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 8, 10, 43, 44, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-08 10:43:43 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/192853.png)](https://mergebot.odoo.com/odoo/odoo/pull/192853)

fw-bot (Issue Creator) on (2025-01-08 10:43:44 UTC): This PR targets 18.0 and is part of the forward-port chain. Further PRs will be created up to master.

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

"
2775046820,pull_request,open,,[15.0][FIX] stock: fix Traceability Report,"Description of the issue/feature this PR addresses: 

- since this commit https://github.com/odoo/odoo/commit/03641610c the `assets_stock_print_report` asset has been removed so when `t-call-assets` calls `assets_stock_print_report` it looks wrong.
- similarly after the commit https://github.com/odoo/odoo/commit/9fadd92, the `<base>` tag  was never included in the `body` (or `bodies`) parameter when executing the `_run_wkhtmltopdf` function so the `min.css` assets cannot be applied to the body block of the Traceability Report (attached below the Current behavior before PR)

Current behavior before PR: 

- [stock_traceability.pdf](https://github.com/user-attachments/files/18345953/stock_traceability.pdf)
- the code in the file `'stock/static/src/scss/stock_traceability_report.scss'` has not been applied to this report.
- `base` tag is not rendered in the body parameter content ([see in](https://github.com/odoo/odoo/blob/3a28e5b0adbb36bdb1155a6854cdfbe4e7f9b187/addons/stock/report/stock_traceability.py#L219)).

Desired behavior after PR is merged: 

- [stock_traceability.6.pdf](https://github.com/user-attachments/files/18346028/stock_traceability.6.pdf)
- add `stock/static/src/scss/stock_traceability_report.scss` to `web.report_assets_common` assets
- inherit `web.report_layout` to include the `<base>` tag in this layout (respecting the change from the commit https://github.com/odoo/odoo/commit/9fadd92 description: 
> Also un-escape <base> in report templates, it seems completely
> unnecessary. And try to move it to the correct location to the extent
> that that's possible: per-spec, it should be in the head, not outside
> the document entirely.
)





---
I confirm I have signed the CLA and read the PR guidelines at www.odoo.com/submit-pr
",xaviedoanhduy,2025-01-08 10:43:12+00:00,[],2025-01-08 11:00:17+00:00,,https://github.com/odoo/odoo/pull/192852,"[('CLA', 'Contributor License Agreement'), ('Logistics', 'about stock, mrp, delivery, purchase')]","[{'comment_id': 2577357070, 'issue_id': 2775046820, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/192852.png)](https://mergebot.odoo.com/odoo/odoo/pull/192852)', 'created_at': datetime.datetime(2025, 1, 8, 10, 43, 15, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-08 10:43:15 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/192852.png)](https://mergebot.odoo.com/odoo/odoo/pull/192852)

"
2775045867,pull_request,closed,,[FW][FIX] data_recycle: Fix notify_frequency_period field style,"**Steps to Reproduce:**
- Install data_recycle module.
- Navigate to Configuration → Rules and create any rule for the data_recycle.

**Issue:**
- The selected option for the notify_frequency_period field is not displayed correctly due to a fixed width class (w-25) assigned to its parent div element.

![image](https://github.com/user-attachments/assets/1656d3f1-d248-45d7-92e3-3722b7679fa5)

**Solution:**
- Updated the width class from w-25 to w-50 to ensure proper display of the selected option.

![image](https://github.com/user-attachments/assets/49d43886-1a32-4256-80a1-f3d3aa69de42)

opw-4414071

---
I confirm I have signed the CLA and read the PR guidelines at www.odoo.com/submit-pr

Forward-Port-Of: odoo/odoo#191639",fw-bot,2025-01-08 10:42:55+00:00,[],2025-01-24 11:04:25+00:00,2025-01-10 10:50:39+00:00,https://github.com/odoo/odoo/pull/192851,"[('OE', 'the report is linked to a support ticket (opw-...)'), ('forwardport', 'This PR was created by @fw-bot'), ('conflict', 'There was an error while creating this forward-port PR')]","[{'comment_id': 2577356500, 'issue_id': 2775045867, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/192851.png)](https://mergebot.odoo.com/odoo/odoo/pull/192851)', 'created_at': datetime.datetime(2025, 1, 8, 10, 42, 58, tzinfo=datetime.timezone.utc)}, {'comment_id': 2577356546, 'issue_id': 2775045867, 'author': 'fw-bot', 'body': '@kmod-odoo @tivisse cherrypicking of pull request odoo/odoo#191639 failed.\n\nstdout:\n```\nAuto-merging addons/data_recycle/views/data_recycle_model_views.xml\nCONFLICT (content): Merge conflict in addons/data_recycle/views/data_recycle_model_views.xml\n\n```\n\nEither perform the forward-port manually (and push to this branch, proceeding as usual) or close this PR (maybe?).\n\nIn the former case, you may want to edit this PR message as well.\n\n:warning: after resolving this conflict, you will need to merge it via @robodoo.\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 8, 10, 42, 59, tzinfo=datetime.timezone.utc)}, {'comment_id': 2582109078, 'issue_id': 2775045867, 'author': 'kmod-odoo', 'body': '@robodoo r+', 'created_at': datetime.datetime(2025, 1, 10, 9, 1, 51, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-08 10:42:58 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/192851.png)](https://mergebot.odoo.com/odoo/odoo/pull/192851)

fw-bot (Issue Creator) on (2025-01-08 10:42:59 UTC): @kmod-odoo @tivisse cherrypicking of pull request odoo/odoo#191639 failed.

stdout:
```
Auto-merging addons/data_recycle/views/data_recycle_model_views.xml
CONFLICT (content): Merge conflict in addons/data_recycle/views/data_recycle_model_views.xml

```

Either perform the forward-port manually (and push to this branch, proceeding as usual) or close this PR (maybe?).

In the former case, you may want to edit this PR message as well.

:warning: after resolving this conflict, you will need to merge it via @robodoo.

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

kmod-odoo on (2025-01-10 09:01:51 UTC): @robodoo r+

"
2775044412,pull_request,closed,,[FW][FIX] spreadsheet_dashboard_purchase*: wrong scoreboard data,"* = stock

* PROPBLEM: when viewing purchase or vendor dashboard (under logistic section) , viewing the scoreboard for purchased or order it calculate all record from purchase.report but when clicking on it, redirect to view of 'purchase order' only which is wrong compare to the number display on the scoreboard
* SOLUTION: This commit fix by edit the domain of related pivot which the scoreboard use to display data to the domain having state in either Purchase or Done

Description of the issue/feature this PR addresses:

Current behavior before PR:

Desired behavior after PR is merged:




---
I confirm I have signed the CLA and read the PR guidelines at www.odoo.com/submit-pr

Forward-Port-Of: odoo/odoo#191985",fw-bot,2025-01-08 10:42:31+00:00,[],2025-01-29 09:47:09+00:00,2025-01-15 09:41:12+00:00,https://github.com/odoo/odoo/pull/192850,"[('RD', 'research & development, internal work'), ('forwardport', 'This PR was created by @fw-bot')]","[{'comment_id': 2577355680, 'issue_id': 2775044412, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/192850.png)](https://mergebot.odoo.com/odoo/odoo/pull/192850)', 'created_at': datetime.datetime(2025, 1, 8, 10, 42, 33, tzinfo=datetime.timezone.utc)}, {'comment_id': 2577355708, 'issue_id': 2775044412, 'author': 'fw-bot', 'body': 'This PR targets 17.0 and is part of the forward-port chain. Further PRs will be created up to master.\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 8, 10, 42, 33, tzinfo=datetime.timezone.utc)}, {'comment_id': 2577427534, 'issue_id': 2775044412, 'author': 'fw-bot', 'body': '@duong77476-viindoo @Whenrow ci/runbot failed on this forward-port PR', 'created_at': datetime.datetime(2025, 1, 8, 11, 19, 53, tzinfo=datetime.timezone.utc)}, {'comment_id': 2585541807, 'issue_id': 2775044412, 'author': 'fw-bot', 'body': '@duong77476-viindoo @Whenrow this forward port of odoo/odoo#191985 is awaiting action (not merged or closed).', 'created_at': datetime.datetime(2025, 1, 12, 2, 1, 40, tzinfo=datetime.timezone.utc)}, {'comment_id': 2586046645, 'issue_id': 2775044412, 'author': 'fw-bot', 'body': '@duong77476-viindoo @Whenrow this forward port of odoo/odoo#191985 is awaiting action (not merged or closed).', 'created_at': datetime.datetime(2025, 1, 13, 2, 2, 3, tzinfo=datetime.timezone.utc)}, {'comment_id': 2588619182, 'issue_id': 2775044412, 'author': 'fw-bot', 'body': '@duong77476-viindoo @Whenrow this forward port of odoo/odoo#191985 is awaiting action (not merged or closed).', 'created_at': datetime.datetime(2025, 1, 14, 2, 1, 39, tzinfo=datetime.timezone.utc)}, {'comment_id': 2591866823, 'issue_id': 2775044412, 'author': 'Whenrow', 'body': 'robodoo r+', 'created_at': datetime.datetime(2025, 1, 15, 7, 55, 2, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-08 10:42:33 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/192850.png)](https://mergebot.odoo.com/odoo/odoo/pull/192850)

fw-bot (Issue Creator) on (2025-01-08 10:42:33 UTC): This PR targets 17.0 and is part of the forward-port chain. Further PRs will be created up to master.

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

fw-bot (Issue Creator) on (2025-01-08 11:19:53 UTC): @duong77476-viindoo @Whenrow ci/runbot failed on this forward-port PR

fw-bot (Issue Creator) on (2025-01-12 02:01:40 UTC): @duong77476-viindoo @Whenrow this forward port of odoo/odoo#191985 is awaiting action (not merged or closed).

fw-bot (Issue Creator) on (2025-01-13 02:02:03 UTC): @duong77476-viindoo @Whenrow this forward port of odoo/odoo#191985 is awaiting action (not merged or closed).

fw-bot (Issue Creator) on (2025-01-14 02:01:39 UTC): @duong77476-viindoo @Whenrow this forward port of odoo/odoo#191985 is awaiting action (not merged or closed).

Whenrow on (2025-01-15 07:55:02 UTC): robodoo r+

"
2775035119,pull_request,closed,,[FIX] core: missing POSIX options on Windows,"Start Odoo on Windows, KeyError config as no ""workers"" entry.

A few options (workers, limit_memory, limit_time) are only meant for POSIX systems. In 18.0 and previous version, there was a mechanism to set those options None on othre system[^1]. This mechanism was wrongly removed during ConfigCleanup[^2]. This PR re-introduces it.

[^1]: https://github.com/odoo/odoo/blob/0e5961b2e3861a73144c860038c3c32b87decfd4/odoo/tools/config.py#L512-L515
[^2]: https://github.com/odoo/odoo/pull/126099

Description of the issue/feature this PR addresses:

Current behavior before PR:

Desired behavior after PR is merged:




---
I confirm I have signed the CLA and read the PR guidelines at www.odoo.com/submit-pr
",Julien00859,2025-01-08 10:39:41+00:00,[],2025-01-23 10:06:20+00:00,2025-01-09 10:01:49+00:00,https://github.com/odoo/odoo/pull/192849,"[('RD', 'research & development, internal work')]","[{'comment_id': 2577350198, 'issue_id': 2775035119, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/192849.png)](https://mergebot.odoo.com/odoo/odoo/pull/192849)', 'created_at': datetime.datetime(2025, 1, 8, 10, 39, 45, tzinfo=datetime.timezone.utc)}, {'comment_id': 2579386018, 'issue_id': 2775035119, 'author': 'd-fence', 'body': 'robodoo r+', 'created_at': datetime.datetime(2025, 1, 9, 8, 1, 31, tzinfo=datetime.timezone.utc)}, {'comment_id': 2579386116, 'issue_id': 2775035119, 'author': 'robodoo', 'body': '@d-fence you may want to rebuild or fix this PR as it has failed CI.', 'created_at': datetime.datetime(2025, 1, 9, 8, 1, 34, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-08 10:39:45 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/192849.png)](https://mergebot.odoo.com/odoo/odoo/pull/192849)

d-fence on (2025-01-09 08:01:31 UTC): robodoo r+

robodoo on (2025-01-09 08:01:34 UTC): @d-fence you may want to rebuild or fix this PR as it has failed CI.

"
2775010433,pull_request,open,,[IMP] project: exclude archived users when duplicating or recurring tasks,"Prior to this commit, duplicating or recurring a task results in archived user being assigned to the new task and its associated sub tasks. This change ensures that archived users are excluded from the assignees of the new task and any sub tasks when a task is duplicated or repeated.

task-4419770",njor-odoo,2025-01-08 10:31:22+00:00,[],2025-01-20 14:13:46+00:00,,https://github.com/odoo/odoo/pull/192848,"[('RD', 'research & development, internal work')]","[{'comment_id': 2577333918, 'issue_id': 2775010433, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/192848.png)](https://mergebot.odoo.com/odoo/odoo/pull/192848)', 'created_at': datetime.datetime(2025, 1, 8, 10, 31, 25, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-08 10:31:25 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/192848.png)](https://mergebot.odoo.com/odoo/odoo/pull/192848)

"
2774970142,pull_request,closed,,"[REF] web,*: company service is no longer a service","This commit aims to simplify the way developers can access company related information in the web client. Before this commit, in components, they had to import the `userService` hook and do something like `this.company = userService(""company"")` in the setup. In services, they had to explicitly declare the dependency on the company service. In other functions (like helpers), it was a bit painful: the function had to take an env in arguments, which wasn't ideal.

This commit makes it easier to access the company information. The company service has been removed. Instead, we use the existing `user` object which can be imported directly from anywhere. The `user` object was chosen because the company information is all related to the currently logged-in user.

For clarity, the company information has been renamed: 

user.allowedCompanies: The list of companies that the user is allowed to log in to. Note that any of the other companies in the following keys will always be in this list.
user.defaultCompany: The default company to log in to, if the cookies are empty.
user.activeCompanies: The list of the companies that the user is currently logged in to
user.activeCompany: The main company that the user is currently logged in to. This is the company displayed in the main navigation bar in the web client. 


Note that, something similar has already been done for the `user` service, the `cookie` service, the `router` service, and the `rpc` service.

This commit also allows the `user` object to take ownership of the company related information in the session. The problem before this commit was that there were 2 sources of truth for company related information : the company service and the `session_info`. The information is sent from the server to the client within the page (in `session_info`). Then the company service was built using this information. This means that the developer could access the information in 2 different ways. Now, the `user` object takes the full ownership of these company related keys by removing them from the session after reading them. Note that, something similar is already done for the user related information and for the currencies (see currency.js).

Part-of task-id 3621046
Part-of task-id 4250356
Part-of task-id 2224776",jpp-odoo,2025-01-08 10:18:19+00:00,[],2025-01-27 07:20:23+00:00,2025-01-15 22:14:48+00:00,https://github.com/odoo/odoo/pull/192847,"[('RD', 'research & development, internal work'), ('18.2', None)]","[{'comment_id': 2577307838, 'issue_id': 2774970142, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/192847.png)](https://mergebot.odoo.com/odoo/odoo/pull/192847)', 'created_at': datetime.datetime(2025, 1, 8, 10, 18, 22, tzinfo=datetime.timezone.utc)}, {'comment_id': 2592212537, 'issue_id': 2774970142, 'author': 'robodoo', 'body': ""@jpp-odoo @aab-odoo 'ci/upgrade_enterprise' failed on this reviewed PR."", 'created_at': datetime.datetime(2025, 1, 15, 10, 9, 19, tzinfo=datetime.timezone.utc)}, {'comment_id': 2592236859, 'issue_id': 2774970142, 'author': 'aab-odoo', 'body': 'robodoo r+ delegate+', 'created_at': datetime.datetime(2025, 1, 15, 10, 19, 34, tzinfo=datetime.timezone.utc)}, {'comment_id': 2592236943, 'issue_id': 2774970142, 'author': 'robodoo', 'body': 'This PR is already reviewed, reviewing it again is useless.', 'created_at': datetime.datetime(2025, 1, 15, 10, 19, 37, tzinfo=datetime.timezone.utc)}, {'comment_id': 2592238131, 'issue_id': 2774970142, 'author': 'aab-odoo', 'body': 'robodoo delegate+ r+', 'created_at': datetime.datetime(2025, 1, 15, 10, 20, 8, tzinfo=datetime.timezone.utc)}, {'comment_id': 2592238216, 'issue_id': 2774970142, 'author': 'robodoo', 'body': 'This PR is already reviewed, reviewing it again is useless.', 'created_at': datetime.datetime(2025, 1, 15, 10, 20, 10, tzinfo=datetime.timezone.utc)}, {'comment_id': 2592324838, 'issue_id': 2774970142, 'author': 'jpp-odoo', 'body': '@robodoo r+\r\n(rebase)', 'created_at': datetime.datetime(2025, 1, 15, 10, 56, 36, tzinfo=datetime.timezone.utc)}, {'comment_id': 2592449266, 'issue_id': 2774970142, 'author': 'robodoo', 'body': ""@jpp-odoo 'ci/runbot' failed on this reviewed PR."", 'created_at': datetime.datetime(2025, 1, 15, 11, 27, 46, tzinfo=datetime.timezone.utc)}, {'comment_id': 2592619438, 'issue_id': 2774970142, 'author': 'jpp-odoo', 'body': '@robodoo r+', 'created_at': datetime.datetime(2025, 1, 15, 12, 11, 31, tzinfo=datetime.timezone.utc)}, {'comment_id': 2592792435, 'issue_id': 2774970142, 'author': 'jpp-odoo', 'body': '@robodoo r+', 'created_at': datetime.datetime(2025, 1, 15, 12, 57, 50, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-08 10:18:22 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/192847.png)](https://mergebot.odoo.com/odoo/odoo/pull/192847)

robodoo on (2025-01-15 10:09:19 UTC): @jpp-odoo @aab-odoo 'ci/upgrade_enterprise' failed on this reviewed PR.

aab-odoo on (2025-01-15 10:19:34 UTC): robodoo r+ delegate+

robodoo on (2025-01-15 10:19:37 UTC): This PR is already reviewed, reviewing it again is useless.

aab-odoo on (2025-01-15 10:20:08 UTC): robodoo delegate+ r+

robodoo on (2025-01-15 10:20:10 UTC): This PR is already reviewed, reviewing it again is useless.

jpp-odoo (Issue Creator) on (2025-01-15 10:56:36 UTC): @robodoo r+
(rebase)

robodoo on (2025-01-15 11:27:46 UTC): @jpp-odoo 'ci/runbot' failed on this reviewed PR.

jpp-odoo (Issue Creator) on (2025-01-15 12:11:31 UTC): @robodoo r+

jpp-odoo (Issue Creator) on (2025-01-15 12:57:50 UTC): @robodoo r+

"
2774960921,pull_request,open,,[FIX] sale_stock: inventory installation after so,"Steps to reproduce:
1. create 2 companies,
2. install sales,
3. create SOs for both companies,
4. install Inventory,
5. Group SOs into warehouse for Company B

Issue:
All so's are under Warehouse A even though Warehouse B is created

Cause:
We take the first available company

Soltution:
Take into consideration every company

opw-4376078",yosa-odoo,2025-01-08 10:15:15+00:00,[],2025-02-04 12:34:32+00:00,,https://github.com/odoo/odoo/pull/192846,"[('OE', 'the report is linked to a support ticket (opw-...)')]","[{'comment_id': 2577301532, 'issue_id': 2774960921, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/192846.png)](https://mergebot.odoo.com/odoo/odoo/pull/192846)', 'created_at': datetime.datetime(2025, 1, 8, 10, 15, 19, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-08 10:15:19 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/192846.png)](https://mergebot.odoo.com/odoo/odoo/pull/192846)

"
2774954765,pull_request,closed,,[IMP] mail: enable translations in live chat,"With this commit message translation will be available in livechat channels for internal users.

task-4457025
",Atovange,2025-01-08 10:13:20+00:00,[],2025-01-10 15:22:15+00:00,2025-01-10 15:22:13+00:00,https://github.com/odoo/odoo/pull/192845,"[('RD', 'research & development, internal work')]","[{'comment_id': 2577297328, 'issue_id': 2774954765, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/192845.png)](https://mergebot.odoo.com/odoo/odoo/pull/192845)', 'created_at': datetime.datetime(2025, 1, 8, 10, 13, 23, tzinfo=datetime.timezone.utc)}, {'comment_id': 2577318679, 'issue_id': 2774954765, 'author': 'seb-odoo', 'body': 'It would be nice to have a test to cover it too!', 'created_at': datetime.datetime(2025, 1, 8, 10, 23, 42, tzinfo=datetime.timezone.utc)}, {'comment_id': 2582401451, 'issue_id': 2774954765, 'author': 'alexkuhn', 'body': 'Should probably rebase, I saw a PR to fix `error_service.js` yesterday, this is probably needed to make runbot green or help runbot give better logs on failure', 'created_at': datetime.datetime(2025, 1, 10, 10, 45, 49, tzinfo=datetime.timezone.utc)}, {'comment_id': 2582405521, 'issue_id': 2774954765, 'author': 'alexkuhn', 'body': 'Hm, not necessarily, this PR from 2 hours ago also fail similarly: https://github.com/odoo/odoo/pull/193170\r\nThis is most likely an ongoing runbot issue on master :/', 'created_at': datetime.datetime(2025, 1, 10, 10, 47, 59, tzinfo=datetime.timezone.utc)}, {'comment_id': 2582894622, 'issue_id': 2774954765, 'author': 'alexkuhn', 'body': 'I retargeted the PR to 18.1, and took whatsapp into account: https://github.com/odoo/odoo/pull/193260', 'created_at': datetime.datetime(2025, 1, 10, 14, 55, 38, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-08 10:13:23 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/192845.png)](https://mergebot.odoo.com/odoo/odoo/pull/192845)

seb-odoo on (2025-01-08 10:23:42 UTC): It would be nice to have a test to cover it too!

alexkuhn on (2025-01-10 10:45:49 UTC): Should probably rebase, I saw a PR to fix `error_service.js` yesterday, this is probably needed to make runbot green or help runbot give better logs on failure

alexkuhn on (2025-01-10 10:47:59 UTC): Hm, not necessarily, this PR from 2 hours ago also fail similarly: https://github.com/odoo/odoo/pull/193170
This is most likely an ongoing runbot issue on master :/

alexkuhn on (2025-01-10 14:55:38 UTC): I retargeted the PR to 18.1, and took whatsapp into account: https://github.com/odoo/odoo/pull/193260

"
2774936031,pull_request,open,,[IMP] website: add vertical alignment options,"This PR adds vertical alignment options to the card grid and card soft snippets. It was missing in the previous implementation. This commit also updates and adds the `column_count_opt` for those snippets. it got removed when [1] introduced `s_nb_column_fixed`.

task-4432821

[1]: https://github.com/odoo/odoo/commit/3c9de08",shsa-odoo,2025-01-08 10:07:09+00:00,[],2025-01-28 08:43:25+00:00,,https://github.com/odoo/odoo/pull/192844,"[('RD', 'research & development, internal work')]","[{'comment_id': 2577282218, 'issue_id': 2774936031, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/192844.png)](https://mergebot.odoo.com/odoo/odoo/pull/192844)', 'created_at': datetime.datetime(2025, 1, 8, 10, 7, 12, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-08 10:07:12 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/192844.png)](https://mergebot.odoo.com/odoo/odoo/pull/192844)

"
2774909768,pull_request,closed,,[IMP] hw_posbox_homepage: ui while access point mode,"Since the refactor to use OWL instead of jinja, we do not display a specific page when the IoT Box is in access point mode.
We added more conditions to display less elements on the homepage for the user to know that he needs to configure a Wi-Fi network on the IoT Box.

Task: 4403617

![image](https://github.com/user-attachments/assets/ceee99bc-1d68-4631-8c3d-2d246b59112a)
![image](https://github.com/user-attachments/assets/0e8769fb-1c5a-4aca-999d-5e753f327951)",loouis-t,2025-01-08 09:58:54+00:00,[],2025-01-22 15:58:07+00:00,2025-01-08 15:58:18+00:00,https://github.com/odoo/odoo/pull/192843,"[('RD', 'research & development, internal work')]","[{'comment_id': 2577262910, 'issue_id': 2774909768, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/192843.png)](https://mergebot.odoo.com/odoo/odoo/pull/192843)', 'created_at': datetime.datetime(2025, 1, 8, 9, 58, 57, tzinfo=datetime.timezone.utc)}, {'comment_id': 2577611105, 'issue_id': 2774909768, 'author': 'Ysoroko', 'body': 'Everything works + the suggested improvements have been added', 'created_at': datetime.datetime(2025, 1, 8, 12, 57, 15, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-08 09:58:57 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/192843.png)](https://mergebot.odoo.com/odoo/odoo/pull/192843)

Ysoroko on (2025-01-08 12:57:15 UTC): Everything works + the suggested improvements have been added

"
2774852739,pull_request,closed,,[FW][FIX] point_of_sale: don't translate /pos/ticket,"In the template, /pos/ticket is concatenated to the base_url. But because /pos/ticket is a normal string inside the template, it is translated.

ticket-4447566

Forward-Port-Of: odoo/odoo#192412
Forward-Port-Of: odoo/odoo#192308",fw-bot,2025-01-08 09:40:57+00:00,[],2025-01-23 11:39:55+00:00,2025-01-09 11:33:56+00:00,https://github.com/odoo/odoo/pull/192842,"[('RD', 'research & development, internal work'), ('forwardport', 'This PR was created by @fw-bot'), ('conflict', 'There was an error while creating this forward-port PR')]","[{'comment_id': 2577223342, 'issue_id': 2774852739, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/192842.png)](https://mergebot.odoo.com/odoo/odoo/pull/192842)', 'created_at': datetime.datetime(2025, 1, 8, 9, 40, 58, tzinfo=datetime.timezone.utc)}, {'comment_id': 2577223366, 'issue_id': 2774852739, 'author': 'fw-bot', 'body': '@AH-Yussef @caburj cherrypicking of pull request odoo/odoo#192308 failed.\n\nstdout:\n```\nAuto-merging addons/point_of_sale/static/src/app/screens/receipt_screen/receipt/order_receipt.js\nAuto-merging addons/point_of_sale/static/src/app/screens/receipt_screen/receipt/order_receipt.xml\nCONFLICT (content): Merge conflict in addons/point_of_sale/static/src/app/screens/receipt_screen/receipt/order_receipt.xml\n\n```\n\nEither perform the forward-port manually (and push to this branch, proceeding as usual) or close this PR (maybe?).\n\nIn the former case, you may want to edit this PR message as well.\n\n:warning: after resolving this conflict, you will need to merge it via @robodoo.\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 8, 9, 40, 59, tzinfo=datetime.timezone.utc)}, {'comment_id': 2579018728, 'issue_id': 2774852739, 'author': 'fw-bot', 'body': '@AH-Yussef @caburj this forward port of odoo/odoo#192308 is awaiting action (not merged or closed).', 'created_at': datetime.datetime(2025, 1, 9, 2, 1, 22, tzinfo=datetime.timezone.utc)}, {'comment_id': 2579454116, 'issue_id': 2774852739, 'author': 'AH-Yussef', 'body': '@robodoo r+', 'created_at': datetime.datetime(2025, 1, 9, 8, 41, 33, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-08 09:40:58 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/192842.png)](https://mergebot.odoo.com/odoo/odoo/pull/192842)

fw-bot (Issue Creator) on (2025-01-08 09:40:59 UTC): @AH-Yussef @caburj cherrypicking of pull request odoo/odoo#192308 failed.

stdout:
```
Auto-merging addons/point_of_sale/static/src/app/screens/receipt_screen/receipt/order_receipt.js
Auto-merging addons/point_of_sale/static/src/app/screens/receipt_screen/receipt/order_receipt.xml
CONFLICT (content): Merge conflict in addons/point_of_sale/static/src/app/screens/receipt_screen/receipt/order_receipt.xml

```

Either perform the forward-port manually (and push to this branch, proceeding as usual) or close this PR (maybe?).

In the former case, you may want to edit this PR message as well.

:warning: after resolving this conflict, you will need to merge it via @robodoo.

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

fw-bot (Issue Creator) on (2025-01-09 02:01:22 UTC): @AH-Yussef @caburj this forward port of odoo/odoo#192308 is awaiting action (not merged or closed).

AH-Yussef on (2025-01-09 08:41:33 UTC): @robodoo r+

"
2774833140,pull_request,closed,,[FW][FIX] web: prevent crash with empty calendar color attribute,"Steps to reproduce
==================

- Install industry_fsm,web_studio
- Go to Field Service
- Switch to the calendar view
- Open studio
- Unset the color

=> fields[fieldMapping.color] is undefined

Cause of the issue
==================

We have a field that has the color attribute with a value of color.

```xml
<field name=""worksheet_template_id"" attrs=""{'invisible': [('worksheet_template_id', '=', False)]}"" filters=""1"" color=""color""/>
```

`shouldFetchColor` checks if the filter color is the same one as the calendar record color.

Solution
========

Since it's possible to have a color filter without a record color, we should fetch the filter colors in that case.

opw-4443497

Forward-Port-Of: odoo/odoo#192334",fw-bot,2025-01-08 09:34:31+00:00,[],2025-01-23 08:23:52+00:00,2025-01-09 08:01:50+00:00,https://github.com/odoo/odoo/pull/192841,"[('OE', 'the report is linked to a support ticket (opw-...)'), ('forwardport', 'This PR was created by @fw-bot'), ('conflict', 'There was an error while creating this forward-port PR')]","[{'comment_id': 2577209059, 'issue_id': 2774833140, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/192841.png)](https://mergebot.odoo.com/odoo/odoo/pull/192841)', 'created_at': datetime.datetime(2025, 1, 8, 9, 34, 33, tzinfo=datetime.timezone.utc)}, {'comment_id': 2577209101, 'issue_id': 2774833140, 'author': 'fw-bot', 'body': '@hubvd @mcm-odoo while this was properly forward-ported, at least one co-dependent PR (odoo/enterprise#76675) did not succeed. You will need to fix it before this can be merged.\n\nBoth this PR and the others will need to be approved via `@robodoo r+` as they are all considered “in conflict”.\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 8, 9, 34, 34, tzinfo=datetime.timezone.utc)}, {'comment_id': 2579287258, 'issue_id': 2774833140, 'author': 'mcm-odoo', 'body': '@robodoo r+', 'created_at': datetime.datetime(2025, 1, 9, 6, 44, 24, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-08 09:34:33 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/192841.png)](https://mergebot.odoo.com/odoo/odoo/pull/192841)

fw-bot (Issue Creator) on (2025-01-08 09:34:34 UTC): @hubvd @mcm-odoo while this was properly forward-ported, at least one co-dependent PR (odoo/enterprise#76675) did not succeed. You will need to fix it before this can be merged.

Both this PR and the others will need to be approved via `@robodoo r+` as they are all considered “in conflict”.

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

mcm-odoo on (2025-01-09 06:44:24 UTC): @robodoo r+

"
2774795535,pull_request,closed,,[FW][FIX] account_edi_ubl_cii: remove BR-DE-1 constraint for credit notes,"Those constraints are blocking the flow for no good reason as we
- don't find them in the official documentation
- they don't really make sense in the context of a credit note
Therefore we decide to remove them for credit notes.
They don't seem to be required for the facturx validity.

task-4454115

Forward-Port-Of: odoo/odoo#192495",fw-bot,2025-01-08 09:22:07+00:00,[],2025-01-22 16:50:43+00:00,2025-01-08 16:36:05+00:00,https://github.com/odoo/odoo/pull/192840,"[('RD', 'research & development, internal work'), ('forwardport', 'This PR was created by @fw-bot')]","[{'comment_id': 2577183903, 'issue_id': 2774795535, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/192840.png)](https://mergebot.odoo.com/odoo/odoo/pull/192840)', 'created_at': datetime.datetime(2025, 1, 8, 9, 22, 9, tzinfo=datetime.timezone.utc)}, {'comment_id': 2577183953, 'issue_id': 2774795535, 'author': 'fw-bot', 'body': 'This PR targets saas-17.4 and is part of the forward-port chain. Further PRs will be created up to master.\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 8, 9, 22, 9, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-08 09:22:09 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/192840.png)](https://mergebot.odoo.com/odoo/odoo/pull/192840)

fw-bot (Issue Creator) on (2025-01-08 09:22:09 UTC): This PR targets saas-17.4 and is part of the forward-port chain. Further PRs will be created up to master.

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

"
2774764970,pull_request,open,,[FIX] hr_expense: fix computation of unit amount on expense with attachment,"## Description of the issue/feature this PR addresses:

- Computation of 'unit_amount' was creating an error when having an 'hr.expense' that had not product, unit_amount of 0 and an attachment.

- Knowing that the expression of a boolean follows some priorities of operation (_parentheses then, 'and' then, 'or'_), it seems evident that the expression will be evaluated to True when having no 'product_id', 'unit_amount'==0 and an attachment linked. But, the unit_amount needs a product to be computed. Therefore, an error will occur!

## Current behavior before PR:

The cron 'Expense OCR: Update All Status' fails due to computation of 'unit_amount' on 'hr.expense' with not product, unit_amount of 0 and an attachment linked.

## Desired behavior after PR is merged:

No error during execution of 'Expense OCR: Update All Status'.


---
I confirm I have signed the CLA and read the PR guidelines at www.odoo.com/submit-pr
",AnizR,2025-01-08 09:10:45+00:00,[],2025-01-09 07:55:28+00:00,,https://github.com/odoo/odoo/pull/192839,"[('CLA', 'Contributor License Agreement'), ('HR', 'Related to Human Resources Applications')]","[{'comment_id': 2577158726, 'issue_id': 2774764970, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/192839.png)](https://mergebot.odoo.com/odoo/odoo/pull/192839)', 'created_at': datetime.datetime(2025, 1, 8, 9, 10, 49, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-08 09:10:49 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/192839.png)](https://mergebot.odoo.com/odoo/odoo/pull/192839)

"
2774759499,pull_request,closed,,[FIX] web_editor: fix video option in media dialog,"After merging of this PR [1], video tab will not be visible in media dialog in report as `allowCommandVideo` is false. But this will override `noVideos` option from `params` to false if `allowCommandVideo` is true and video tab will be visible even if `noVideos` is `true`.

This PR makes sure that `noVideos` property from `params` should be checked if `allowCommandVideo` is true.

[1]: 187251



---
I confirm I have signed the CLA and read the PR guidelines at www.odoo.com/submit-pr
",adsa-odoo,2025-01-08 09:08:12+00:00,[],2025-01-29 09:47:11+00:00,2025-01-15 09:41:21+00:00,https://github.com/odoo/odoo/pull/192838,"[('RD', 'research & development, internal work')]","[{'comment_id': 2577151671, 'issue_id': 2774759499, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/192838.png)](https://mergebot.odoo.com/odoo/odoo/pull/192838)', 'created_at': datetime.datetime(2025, 1, 8, 9, 8, 16, tzinfo=datetime.timezone.utc)}, {'comment_id': 2591887863, 'issue_id': 2774759499, 'author': 'dmo-odoo', 'body': '@adsa-odoo Thanks!\r\n@robodoo r+', 'created_at': datetime.datetime(2025, 1, 15, 8, 7, 12, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-08 09:08:16 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/192838.png)](https://mergebot.odoo.com/odoo/odoo/pull/192838)

dmo-odoo on (2025-01-15 08:07:12 UTC): @adsa-odoo Thanks!
@robodoo r+

"
2774731278,pull_request,open,,"[IMP] payment, _*: add fpx for razorpay","_* = payment_razorpay

This commit introduces support for FPX as a payment method in the Razorpay.

Why this solution?
When using the Razorpay Orders API, specifying fpx as the payment method in the payload results in an error: 'currency should be INR when method is fpx'. This limitation prevents FPX from being used directly in the API call.

What is the solution?
To address this, FPX has been added to the FALLBACK_PAYMENT_METHOD_CODES. This adjustment ensures that no specific payment method is included in the API payload, allowing Razorpay to present the user with a payment form listing all available methods. From there, the user can select FPX as their preferred payment method.

task-4364895

---
I confirm I have signed the CLA and read the PR guidelines at www.odoo.com/submit-pr
",shrm-odoo,2025-01-08 08:55:31+00:00,[],2025-01-08 11:02:49+00:00,,https://github.com/odoo/odoo/pull/192837,"[('RD', 'research & development, internal work')]","[{'comment_id': 2577124331, 'issue_id': 2774731278, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/192837.png)](https://mergebot.odoo.com/odoo/odoo/pull/192837)', 'created_at': datetime.datetime(2025, 1, 8, 8, 55, 35, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-08 08:55:35 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/192837.png)](https://mergebot.odoo.com/odoo/odoo/pull/192837)

"
2774730364,pull_request,open,,[IMP] mail: add search functionality to the followers list in chatter,"Purpose of this PR:

This PR introduces a search option for the followers list in Chatter,
allowing users to efficiently search for specific followers based on their names.

task-id:[4427411](https://www.odoo.com/odoo/project/1519/tasks/4427411)

---
I confirm I have signed the CLA and read the PR guidelines at www.odoo.com/submit-pr
",akap-odoo,2025-01-08 08:55:17+00:00,[],2025-01-13 05:39:28+00:00,,https://github.com/odoo/odoo/pull/192836,"[('RD', 'research & development, internal work')]","[{'comment_id': 2577123646, 'issue_id': 2774730364, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/192836.png)](https://mergebot.odoo.com/odoo/odoo/pull/192836)', 'created_at': datetime.datetime(2025, 1, 8, 8, 55, 20, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-08 08:55:20 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/192836.png)](https://mergebot.odoo.com/odoo/odoo/pull/192836)

"
2774705678,pull_request,closed,,[FIX] mail: error on mention click by guest,"Purpose of this commit:
When an operator mentions someone in an ongoing live chat conversation and the guest clicks on it, a traceback error is raised. This occurs because clicking on the mention attempts to execute an action to open the mentioned partner's record. Since the guest user lacks access to the action services in the services registry, the error is triggered. This commit resolves the issue.

task-4459050





---
I confirm I have signed the CLA and read the PR guidelines at www.odoo.com/submit-pr
",maad-odoo,2025-01-08 08:45:52+00:00,[],2025-01-14 15:19:10+00:00,2025-01-14 15:13:15+00:00,https://github.com/odoo/odoo/pull/192834,"[('RD', 'research & development, internal work')]","[{'comment_id': 2577100008, 'issue_id': 2774705678, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/192834.png)](https://mergebot.odoo.com/odoo/odoo/pull/192834)', 'created_at': datetime.datetime(2025, 1, 8, 8, 45, 56, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-08 08:45:56 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/192834.png)](https://mergebot.odoo.com/odoo/odoo/pull/192834)

"
2774698372,pull_request,open,,[IMP] project_todo: fix spacing between form and chatter,"The spacing between the form sheet and the chatter has been fixed to be the same as for a regular project task.

task-4369982",romaincarlier4,2025-01-08 08:43:22+00:00,[],2025-01-08 09:00:14+00:00,,https://github.com/odoo/odoo/pull/192833,"[('RD', 'research & development, internal work')]","[{'comment_id': 2577090482, 'issue_id': 2774698372, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/192833.png)](https://mergebot.odoo.com/odoo/odoo/pull/192833)', 'created_at': datetime.datetime(2025, 1, 8, 8, 43, 26, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-08 08:43:26 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/192833.png)](https://mergebot.odoo.com/odoo/odoo/pull/192833)

"
2774658007,pull_request,closed,,[IMP] project: move and improve mail related tests,,tde-banana-odoo,2025-01-08 08:28:31+00:00,[],2025-01-24 11:04:23+00:00,2025-01-10 10:50:23+00:00,https://github.com/odoo/odoo/pull/192832,"[('RD', 'research & development, internal work'), ('18.2', None)]","[{'comment_id': 2577051093, 'issue_id': 2774658007, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/192832.png)](https://mergebot.odoo.com/odoo/odoo/pull/192832)', 'created_at': datetime.datetime(2025, 1, 8, 8, 28, 34, tzinfo=datetime.timezone.utc)}, {'comment_id': 2581976063, 'issue_id': 2774658007, 'author': 'tde-banana-odoo', 'body': '@robodoo r+', 'created_at': datetime.datetime(2025, 1, 10, 7, 42, 33, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-08 08:28:34 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/192832.png)](https://mergebot.odoo.com/odoo/odoo/pull/192832)

tde-banana-odoo (Issue Creator) on (2025-01-10 07:42:33 UTC): @robodoo r+

"
2774652874,pull_request,closed,,[FIX] purchase_requisition: remove existing currency rate in tests,"This commit removes the existing currency rate before creating the new ones as there is a unicity constrains on the currency rate date.

runbot-error: 111437

Description of the issue/feature this PR addresses:

Current behavior before PR:

Desired behavior after PR is merged:




---
I confirm I have signed the CLA and read the PR guidelines at www.odoo.com/submit-pr
",Whenrow,2025-01-08 08:26:30+00:00,[],2025-01-22 15:14:23+00:00,2025-01-08 14:51:27+00:00,https://github.com/odoo/odoo/pull/192831,"[('RD', 'research & development, internal work')]","[{'comment_id': 2577045639, 'issue_id': 2774652874, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/192831.png)](https://mergebot.odoo.com/odoo/odoo/pull/192831)', 'created_at': datetime.datetime(2025, 1, 8, 8, 26, 33, tzinfo=datetime.timezone.utc)}, {'comment_id': 2577579234, 'issue_id': 2774652874, 'author': 'amoyaux', 'body': 'robodoo r+', 'created_at': datetime.datetime(2025, 1, 8, 12, 40, 30, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-08 08:26:33 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/192831.png)](https://mergebot.odoo.com/odoo/odoo/pull/192831)

amoyaux on (2025-01-08 12:40:30 UTC): robodoo r+

"
2774589693,pull_request,closed,,[FW][FIX] account_edi_ubl_cii: remove BR-DE-1 constraint for credit notes,"Those constraints are blocking the flow for no good reason as we
- don't find them in the official documentation
- they don't really make sense in the context of a credit note
Therefore we decide to remove them for credit notes.
They don't seem to be required for the facturx validity.

task-4454115

Forward-Port-Of: odoo/odoo#192495",fw-bot,2025-01-08 08:02:03+00:00,[],2025-01-22 15:58:01+00:00,2025-01-08 15:44:30+00:00,https://github.com/odoo/odoo/pull/192830,"[('RD', 'research & development, internal work'), ('forwardport', 'This PR was created by @fw-bot')]","[{'comment_id': 2576987750, 'issue_id': 2774589693, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/192830.png)](https://mergebot.odoo.com/odoo/odoo/pull/192830)', 'created_at': datetime.datetime(2025, 1, 8, 8, 2, 5, tzinfo=datetime.timezone.utc)}, {'comment_id': 2576987769, 'issue_id': 2774589693, 'author': 'fw-bot', 'body': 'This PR targets saas-17.2 and is part of the forward-port chain. Further PRs will be created up to master.\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 8, 8, 2, 5, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-08 08:02:05 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/192830.png)](https://mergebot.odoo.com/odoo/odoo/pull/192830)

fw-bot (Issue Creator) on (2025-01-08 08:02:05 UTC): This PR targets saas-17.2 and is part of the forward-port chain. Further PRs will be created up to master.

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

"
2774566399,pull_request,closed,,[IMP] mail: add recipients finding gateway tests,"Description of the issue/feature this PR addresses:

Current behavior before PR:

Desired behavior after PR is merged:




---
I confirm I have signed the CLA and read the PR guidelines at www.odoo.com/submit-pr
",tde-banana-odoo,2025-01-08 07:52:10+00:00,[],2025-01-10 17:41:06+00:00,2025-01-10 16:19:36+00:00,https://github.com/odoo/odoo/pull/192828,"[('RD', 'research & development, internal work'), ('18.2', None)]","[{'comment_id': 2576969853, 'issue_id': 2774566399, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/192828.png)](https://mergebot.odoo.com/odoo/odoo/pull/192828)', 'created_at': datetime.datetime(2025, 1, 8, 7, 52, 15, tzinfo=datetime.timezone.utc)}, {'comment_id': 2582266307, 'issue_id': 2774566399, 'author': 'tde-banana-odoo', 'body': '@robodoo r+', 'created_at': datetime.datetime(2025, 1, 10, 10, 5, 58, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-08 07:52:15 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/192828.png)](https://mergebot.odoo.com/odoo/odoo/pull/192828)

tde-banana-odoo (Issue Creator) on (2025-01-10 10:05:58 UTC): @robodoo r+

"
2774546859,pull_request,open,,[IMP] website_event: use turnstile when available,"We recently enabled recaptcha on the registration form in [1]

Turnstile can be implemented on top of it by just invoking the turnstile script in js.

As it's implicitly checked when recaptcha is checked, this also avoids any issue with the form potentially not working if turnstile is enabled.

[1] bafa915f85fb8fc6ca2ae7d194a4593cb2463c2e

task-4335141
",reth-odoo,2025-01-08 07:43:56+00:00,[],2025-02-06 09:47:50+00:00,,https://github.com/odoo/odoo/pull/192827,"[('RD', 'research & development, internal work')]","[{'comment_id': 2576953894, 'issue_id': 2774546859, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/192827.png)](https://mergebot.odoo.com/odoo/odoo/pull/192827)', 'created_at': datetime.datetime(2025, 1, 8, 7, 43, 59, tzinfo=datetime.timezone.utc)}, {'comment_id': 2577507997, 'issue_id': 2774546859, 'author': 'reth-odoo', 'body': ""Added a lock on the submit button until the script is done running as it seems to be quite slow for some reason.\r\nSadly that needs to use ugly globals on the window as that's the only way turnstile communicates results (already what is done in the website_cf_turnstile module)\r\n\r\nThe session-based detection seems fairly reliable as it's appended manually each time, not stored on individual sessions. So it doesn't linger once the module is uninstalled."", 'created_at': datetime.datetime(2025, 1, 8, 12, 4, 11, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-08 07:43:59 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/192827.png)](https://mergebot.odoo.com/odoo/odoo/pull/192827)

reth-odoo (Issue Creator) on (2025-01-08 12:04:11 UTC): Added a lock on the submit button until the script is done running as it seems to be quite slow for some reason.
Sadly that needs to use ugly globals on the window as that's the only way turnstile communicates results (already what is done in the website_cf_turnstile module)

The session-based detection seems fairly reliable as it's appended manually each time, not stored on individual sessions. So it doesn't linger once the module is uninstalled.

"
2774520825,pull_request,closed,,[IMP] hw_posbox_homepage: wifi UX improvements,"When connecting an IoT box to a Wi-Fi network,
the user is left on an infinite loading spinner
due to the fact that the IoT box disables the
hotspot before the user receives a response.

This commit instead displays a blocking message
to the user explaining that the IoT box is now
connected to the desired network.

task-4456765

---
I confirm I have signed the CLA and read the PR guidelines at www.odoo.com/submit-pr
",MaxTheWhale,2025-01-08 07:33:05+00:00,[],2025-01-08 13:52:38+00:00,2025-01-08 13:17:19+00:00,https://github.com/odoo/odoo/pull/192826,"[('RD', 'research & development, internal work')]","[{'comment_id': 2576934097, 'issue_id': 2774520825, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/192826.png)](https://mergebot.odoo.com/odoo/odoo/pull/192826)', 'created_at': datetime.datetime(2025, 1, 8, 7, 33, 8, tzinfo=datetime.timezone.utc)}, {'comment_id': 2577651200, 'issue_id': 2774520825, 'author': 'MaxTheWhale', 'body': 'Re-targeted to 18.1: https://github.com/odoo/odoo/pull/192883', 'created_at': datetime.datetime(2025, 1, 8, 13, 17, 19, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-08 07:33:08 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/192826.png)](https://mergebot.odoo.com/odoo/odoo/pull/192826)

MaxTheWhale (Issue Creator) on (2025-01-08 13:17:19 UTC): Re-targeted to 18.1: https://github.com/odoo/odoo/pull/192883

"
2774495609,pull_request,closed,,[FW][FIX] l10n_es_edi_tbai: only use regime key 52 for simplified invoice,"**Steps to reproduce:**
- Install l10n_es_edi_tbai
- Switch to a Spanish company (e.g. ES Company)
- Create an invoice with ""Simplified Invoice Partner (ES)"" as customer
- Confirm the invoice
- Process the invoice with ""TicketBAI (ES)"" service

**Issue:**
The generated XML has 2 regime keys (02 and 52) for <ClaveRegimenIvaOpTrascendencia> that are not compatible with each other.
From the documentation, regime key ""52"" (for simplified invoices) can only be associated with regime key ""51"", which is not supported for the moment.

**Solution:**
If the ""Simplified Invoice Partner"" is used, only the regime key ""52"" is used.

opw-4332052
opw-4355424




---
I confirm I have signed the CLA and read the PR guidelines at www.odoo.com/submit-pr

Forward-Port-Of: odoo/odoo#192687
Forward-Port-Of: odoo/odoo#192448",fw-bot,2025-01-08 07:19:27+00:00,[],2025-01-27 10:18:03+00:00,2025-01-13 10:07:51+00:00,https://github.com/odoo/odoo/pull/192825,"[('OE', 'the report is linked to a support ticket (opw-...)'), ('forwardport', 'This PR was created by @fw-bot'), ('conflict', 'There was an error while creating this forward-port PR')]","[{'comment_id': 2576912660, 'issue_id': 2774495609, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/192825.png)](https://mergebot.odoo.com/odoo/odoo/pull/192825)', 'created_at': datetime.datetime(2025, 1, 8, 7, 19, 28, tzinfo=datetime.timezone.utc)}, {'comment_id': 2576912707, 'issue_id': 2774495609, 'author': 'fw-bot', 'body': '@kitan191 @RicGR98 cherrypicking of pull request odoo/odoo#192448 failed.\n\nstdout:\n```\nCONFLICT (modify/delete): addons/l10n_es_edi_tbai/models/account_edi_format.py deleted in b0e2f580c23dfb709800196afd0d8e0a01c41613 and modified in ad547890a84b3ba250d38a02b391d9a8db3f11f6.  Version ad547890a84b3ba250d38a02b391d9a8db3f11f6 of addons/l10n_es_edi_tbai/models/account_edi_format.py left in tree.\n\n```\n\nEither perform the forward-port manually (and push to this branch, proceeding as usual) or close this PR (maybe?).\n\nIn the former case, you may want to edit this PR message as well.\n\n:warning: after resolving this conflict, you will need to merge it via @robodoo.\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 8, 7, 19, 30, tzinfo=datetime.timezone.utc)}, {'comment_id': 2585000226, 'issue_id': 2774495609, 'author': 'fw-bot', 'body': '@kitan191 @RicGR98 this forward port of odoo/odoo#192448 is awaiting action (not merged or closed).', 'created_at': datetime.datetime(2025, 1, 11, 2, 1, 12, tzinfo=datetime.timezone.utc)}, {'comment_id': 2585541746, 'issue_id': 2774495609, 'author': 'fw-bot', 'body': '@kitan191 @RicGR98 this forward port of odoo/odoo#192448 is awaiting action (not merged or closed).', 'created_at': datetime.datetime(2025, 1, 12, 2, 1, 26, tzinfo=datetime.timezone.utc)}, {'comment_id': 2586046235, 'issue_id': 2774495609, 'author': 'fw-bot', 'body': '@kitan191 @RicGR98 this forward port of odoo/odoo#192448 is awaiting action (not merged or closed).', 'created_at': datetime.datetime(2025, 1, 13, 2, 1, 42, tzinfo=datetime.timezone.utc)}, {'comment_id': 2586391493, 'issue_id': 2774495609, 'author': 'kitan191', 'body': '@robodoo r+', 'created_at': datetime.datetime(2025, 1, 13, 7, 32, 53, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-08 07:19:28 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/192825.png)](https://mergebot.odoo.com/odoo/odoo/pull/192825)

fw-bot (Issue Creator) on (2025-01-08 07:19:30 UTC): @kitan191 @RicGR98 cherrypicking of pull request odoo/odoo#192448 failed.

stdout:
```
CONFLICT (modify/delete): addons/l10n_es_edi_tbai/models/account_edi_format.py deleted in b0e2f580c23dfb709800196afd0d8e0a01c41613 and modified in ad547890a84b3ba250d38a02b391d9a8db3f11f6.  Version ad547890a84b3ba250d38a02b391d9a8db3f11f6 of addons/l10n_es_edi_tbai/models/account_edi_format.py left in tree.

```

Either perform the forward-port manually (and push to this branch, proceeding as usual) or close this PR (maybe?).

In the former case, you may want to edit this PR message as well.

:warning: after resolving this conflict, you will need to merge it via @robodoo.

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

fw-bot (Issue Creator) on (2025-01-11 02:01:12 UTC): @kitan191 @RicGR98 this forward port of odoo/odoo#192448 is awaiting action (not merged or closed).

fw-bot (Issue Creator) on (2025-01-12 02:01:26 UTC): @kitan191 @RicGR98 this forward port of odoo/odoo#192448 is awaiting action (not merged or closed).

fw-bot (Issue Creator) on (2025-01-13 02:01:42 UTC): @kitan191 @RicGR98 this forward port of odoo/odoo#192448 is awaiting action (not merged or closed).

kitan191 on (2025-01-13 07:32:53 UTC): @robodoo r+

"
2774342394,pull_request,closed,,[FW][FIX] auth_signup: prevent error when resetting the password,"When the user tries to reset the password, a traceback will appear.

Steps to reproduce the error:
- Install ``auth_signup``
- Configure ""Outgoing mail server""
- Now Log out
- Click on Sign in > Reset Password > Enter your email >
  Click on ``Reset Password`` twice

Traceback:
```
InFailedSqlTransaction: current transaction is aborted, commands ignored until end of transaction block

  File ""odoo/http.py"", line 2365, in __call__
    response = request._serve_db()
  File ""odoo/http.py"", line 1892, in _serve_db
    return self._transactioning(
  File ""odoo/http.py"", line 1955, in _transactioning
    return service_model.retrying(func, env=self.env)
  File ""odoo/service/model.py"", line 137, in retrying
    result = func()
  File ""odoo/http.py"", line 1922, in _serve_ir_http
    response = self.dispatcher.dispatch(rule.endpoint, args)
  File ""odoo/http.py"", line 2082, in dispatch
    return self.request.registry['ir.http']._dispatch(endpoint)
  File ""odoo/addons/base/models/ir_http.py"", line 331, in _dispatch
    result.flatten()
  File ""odoo/http.py"", line 1389, in flatten
    self.response.append(self.render())
  File ""odoo/http.py"", line 1381, in render
    return request.env[""ir.ui.view""]._render_template(self.template, self.qcontext)
  File ""home/odoo/src/enterprise/18.0/web_studio/models/ir_ui_view.py"", line 1315, in _render_template
    return super(View, self)._render_template(template, values)
  File ""odoo/addons/base/models/ir_ui_view.py"", line 2185, in _render_template
    return self.env['ir.qweb']._render(template, values)
  File ""odoo/tools/profiler.py"", line 306, in _tracked_method_render
    return method_render(self, template, values, **options)
  File ""odoo/addons/base/models/ir_qweb.py"", line 597, in _render
    template_functions, def_name = irQweb._compile(template)
  File ""odoo/tools/profiler.py"", line 314, in _tracked_compile
    return method_compile(self, template)
  File ""odoo/addons/base/models/ir_qweb.py"", line 666, in _compile
    return self._load_values(base_key_cache, generate_functions)
  File ""odoo/addons/base/models/ir_qweb.py"", line 2524, in _load_values
    return get_value()
  File ""odoo/addons/base/models/ir_qweb.py"", line 635, in generate_functions
    code, options, def_name = self._generate_code(template)
  File ""odoo/addons/base/models/ir_qweb.py"", line 691, in _generate_code
    element, document, ref = self._get_template(template)
  File ""odoo/addons/base/models/ir_qweb.py"", line 822, in _get_template
    doc_or_elem, ref = self._load(ref_alias) or (None, None)
  File ""odoo/addons/base/models/ir_qweb.py"", line 859, in _load
    view = IrUIView._get(ref)
  File ""odoo/addons/base/models/ir_ui_view.py"", line 2085, in _get
    return self.browse(self._get_view_id(view_ref))
  File ""odoo/addons/base/models/ir_ui_view.py"", line 2073, in _get_view_id
    view = self.sudo().search([('key', '=', template)], limit=1)
  File ""odoo/models.py"", line 1717, in search
    return self.search_fetch(domain, [], offset=offset, limit=limit, order=order)
  File ""odoo/models.py"", line 1749, in search_fetch
    return self._fetch_query(query, fields_to_fetch)
  File ""odoo/models.py"", line 4180, in _fetch_query
    fetched = self.browse(query)
  File ""odoo/models.py"", line 6154, in browse
    if not ids:
  File ""odoo/tools/query.py"", line 261, in __bool__
    return bool(self.get_result_ids())
  File ""odoo/tools/query.py"", line 225, in get_result_ids
    self._ids = tuple(id_ for id_, in self._env.execute_query(self.select()))
  File ""odoo/api.py"", line 962, in execute_query
    self.cr.execute(query)
  File ""odoo/sql_db.py"", line 354, in execute
    res = self._obj.execute(query, params)
```

After this commit, user can not click on ``Reset Password`` button multiple times.

sentry-5661309399

---
I confirm I have signed the CLA and read the PR guidelines at www.odoo.com/submit-pr

Forward-Port-Of: odoo/odoo#190833
Forward-Port-Of: odoo/odoo#184862",fw-bot,2025-01-08 05:36:09+00:00,[],2025-01-22 08:34:35+00:00,2025-01-08 08:28:31+00:00,https://github.com/odoo/odoo/pull/192824,"[('RD', 'research & development, internal work'), ('forwardport', 'This PR was created by @fw-bot'), ('18.2', None)]","[{'comment_id': 2576793149, 'issue_id': 2774342394, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/192824.png)](https://mergebot.odoo.com/odoo/odoo/pull/192824)', 'created_at': datetime.datetime(2025, 1, 8, 5, 36, 10, tzinfo=datetime.timezone.utc)}, {'comment_id': 2576793157, 'issue_id': 2774342394, 'author': 'fw-bot', 'body': '@reka-odoo @flvr-odoo this PR targets master and is the last of the forward-port chain containing:\n* odoo/odoo#192823\n* odoo/odoo#192822\n* odoo/odoo#192821\n* odoo/odoo#192820\n\nTo merge the full chain, use\n> @robodoo r+\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 8, 5, 36, 11, tzinfo=datetime.timezone.utc)}, {'comment_id': 2576901646, 'issue_id': 2774342394, 'author': 'reka-odoo', 'body': '@robodoo r+', 'created_at': datetime.datetime(2025, 1, 8, 7, 11, 13, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-08 05:36:10 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/192824.png)](https://mergebot.odoo.com/odoo/odoo/pull/192824)

fw-bot (Issue Creator) on (2025-01-08 05:36:11 UTC): @reka-odoo @flvr-odoo this PR targets master and is the last of the forward-port chain containing:
* odoo/odoo#192823
* odoo/odoo#192822
* odoo/odoo#192821
* odoo/odoo#192820

To merge the full chain, use

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

reka-odoo on (2025-01-08 07:11:13 UTC): @robodoo r+

"
2774342165,pull_request,closed,,[FW][FIX] auth_signup: prevent error when resetting the password,"When the user tries to reset the password, a traceback will appear.

Steps to reproduce the error:
- Install ``auth_signup``
- Configure ""Outgoing mail server""
- Now Log out
- Click on Sign in > Reset Password > Enter your email >
  Click on ``Reset Password`` twice

Traceback:
```
InFailedSqlTransaction: current transaction is aborted, commands ignored until end of transaction block

  File ""odoo/http.py"", line 2365, in __call__
    response = request._serve_db()
  File ""odoo/http.py"", line 1892, in _serve_db
    return self._transactioning(
  File ""odoo/http.py"", line 1955, in _transactioning
    return service_model.retrying(func, env=self.env)
  File ""odoo/service/model.py"", line 137, in retrying
    result = func()
  File ""odoo/http.py"", line 1922, in _serve_ir_http
    response = self.dispatcher.dispatch(rule.endpoint, args)
  File ""odoo/http.py"", line 2082, in dispatch
    return self.request.registry['ir.http']._dispatch(endpoint)
  File ""odoo/addons/base/models/ir_http.py"", line 331, in _dispatch
    result.flatten()
  File ""odoo/http.py"", line 1389, in flatten
    self.response.append(self.render())
  File ""odoo/http.py"", line 1381, in render
    return request.env[""ir.ui.view""]._render_template(self.template, self.qcontext)
  File ""home/odoo/src/enterprise/18.0/web_studio/models/ir_ui_view.py"", line 1315, in _render_template
    return super(View, self)._render_template(template, values)
  File ""odoo/addons/base/models/ir_ui_view.py"", line 2185, in _render_template
    return self.env['ir.qweb']._render(template, values)
  File ""odoo/tools/profiler.py"", line 306, in _tracked_method_render
    return method_render(self, template, values, **options)
  File ""odoo/addons/base/models/ir_qweb.py"", line 597, in _render
    template_functions, def_name = irQweb._compile(template)
  File ""odoo/tools/profiler.py"", line 314, in _tracked_compile
    return method_compile(self, template)
  File ""odoo/addons/base/models/ir_qweb.py"", line 666, in _compile
    return self._load_values(base_key_cache, generate_functions)
  File ""odoo/addons/base/models/ir_qweb.py"", line 2524, in _load_values
    return get_value()
  File ""odoo/addons/base/models/ir_qweb.py"", line 635, in generate_functions
    code, options, def_name = self._generate_code(template)
  File ""odoo/addons/base/models/ir_qweb.py"", line 691, in _generate_code
    element, document, ref = self._get_template(template)
  File ""odoo/addons/base/models/ir_qweb.py"", line 822, in _get_template
    doc_or_elem, ref = self._load(ref_alias) or (None, None)
  File ""odoo/addons/base/models/ir_qweb.py"", line 859, in _load
    view = IrUIView._get(ref)
  File ""odoo/addons/base/models/ir_ui_view.py"", line 2085, in _get
    return self.browse(self._get_view_id(view_ref))
  File ""odoo/addons/base/models/ir_ui_view.py"", line 2073, in _get_view_id
    view = self.sudo().search([('key', '=', template)], limit=1)
  File ""odoo/models.py"", line 1717, in search
    return self.search_fetch(domain, [], offset=offset, limit=limit, order=order)
  File ""odoo/models.py"", line 1749, in search_fetch
    return self._fetch_query(query, fields_to_fetch)
  File ""odoo/models.py"", line 4180, in _fetch_query
    fetched = self.browse(query)
  File ""odoo/models.py"", line 6154, in browse
    if not ids:
  File ""odoo/tools/query.py"", line 261, in __bool__
    return bool(self.get_result_ids())
  File ""odoo/tools/query.py"", line 225, in get_result_ids
    self._ids = tuple(id_ for id_, in self._env.execute_query(self.select()))
  File ""odoo/api.py"", line 962, in execute_query
    self.cr.execute(query)
  File ""odoo/sql_db.py"", line 354, in execute
    res = self._obj.execute(query, params)
```

After this commit, user can not click on ``Reset Password`` button multiple times.

sentry-5661309399

---
I confirm I have signed the CLA and read the PR guidelines at www.odoo.com/submit-pr

Forward-Port-Of: odoo/odoo#190833
Forward-Port-Of: odoo/odoo#184862",fw-bot,2025-01-08 05:35:55+00:00,[],2025-01-22 13:23:15+00:00,2025-01-08 13:03:50+00:00,https://github.com/odoo/odoo/pull/192823,"[('RD', 'research & development, internal work'), ('forwardport', 'This PR was created by @fw-bot')]","[{'comment_id': 2576792961, 'issue_id': 2774342165, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/192823.png)](https://mergebot.odoo.com/odoo/odoo/pull/192823)', 'created_at': datetime.datetime(2025, 1, 8, 5, 35, 56, tzinfo=datetime.timezone.utc)}, {'comment_id': 2576792971, 'issue_id': 2774342165, 'author': 'fw-bot', 'body': 'This PR targets saas-18.1 and is part of the forward-port chain. Further PRs will be created up to master.\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 8, 5, 35, 57, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-08 05:35:56 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/192823.png)](https://mergebot.odoo.com/odoo/odoo/pull/192823)

fw-bot (Issue Creator) on (2025-01-08 05:35:57 UTC): This PR targets saas-18.1 and is part of the forward-port chain. Further PRs will be created up to master.

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

"
2774341928,pull_request,closed,,[FW][FIX] auth_signup: prevent error when resetting the password,"When the user tries to reset the password, a traceback will appear.

Steps to reproduce the error:
- Install ``auth_signup``
- Configure ""Outgoing mail server""
- Now Log out
- Click on Sign in > Reset Password > Enter your email >
  Click on ``Reset Password`` twice

Traceback:
```
InFailedSqlTransaction: current transaction is aborted, commands ignored until end of transaction block

  File ""odoo/http.py"", line 2365, in __call__
    response = request._serve_db()
  File ""odoo/http.py"", line 1892, in _serve_db
    return self._transactioning(
  File ""odoo/http.py"", line 1955, in _transactioning
    return service_model.retrying(func, env=self.env)
  File ""odoo/service/model.py"", line 137, in retrying
    result = func()
  File ""odoo/http.py"", line 1922, in _serve_ir_http
    response = self.dispatcher.dispatch(rule.endpoint, args)
  File ""odoo/http.py"", line 2082, in dispatch
    return self.request.registry['ir.http']._dispatch(endpoint)
  File ""odoo/addons/base/models/ir_http.py"", line 331, in _dispatch
    result.flatten()
  File ""odoo/http.py"", line 1389, in flatten
    self.response.append(self.render())
  File ""odoo/http.py"", line 1381, in render
    return request.env[""ir.ui.view""]._render_template(self.template, self.qcontext)
  File ""home/odoo/src/enterprise/18.0/web_studio/models/ir_ui_view.py"", line 1315, in _render_template
    return super(View, self)._render_template(template, values)
  File ""odoo/addons/base/models/ir_ui_view.py"", line 2185, in _render_template
    return self.env['ir.qweb']._render(template, values)
  File ""odoo/tools/profiler.py"", line 306, in _tracked_method_render
    return method_render(self, template, values, **options)
  File ""odoo/addons/base/models/ir_qweb.py"", line 597, in _render
    template_functions, def_name = irQweb._compile(template)
  File ""odoo/tools/profiler.py"", line 314, in _tracked_compile
    return method_compile(self, template)
  File ""odoo/addons/base/models/ir_qweb.py"", line 666, in _compile
    return self._load_values(base_key_cache, generate_functions)
  File ""odoo/addons/base/models/ir_qweb.py"", line 2524, in _load_values
    return get_value()
  File ""odoo/addons/base/models/ir_qweb.py"", line 635, in generate_functions
    code, options, def_name = self._generate_code(template)
  File ""odoo/addons/base/models/ir_qweb.py"", line 691, in _generate_code
    element, document, ref = self._get_template(template)
  File ""odoo/addons/base/models/ir_qweb.py"", line 822, in _get_template
    doc_or_elem, ref = self._load(ref_alias) or (None, None)
  File ""odoo/addons/base/models/ir_qweb.py"", line 859, in _load
    view = IrUIView._get(ref)
  File ""odoo/addons/base/models/ir_ui_view.py"", line 2085, in _get
    return self.browse(self._get_view_id(view_ref))
  File ""odoo/addons/base/models/ir_ui_view.py"", line 2073, in _get_view_id
    view = self.sudo().search([('key', '=', template)], limit=1)
  File ""odoo/models.py"", line 1717, in search
    return self.search_fetch(domain, [], offset=offset, limit=limit, order=order)
  File ""odoo/models.py"", line 1749, in search_fetch
    return self._fetch_query(query, fields_to_fetch)
  File ""odoo/models.py"", line 4180, in _fetch_query
    fetched = self.browse(query)
  File ""odoo/models.py"", line 6154, in browse
    if not ids:
  File ""odoo/tools/query.py"", line 261, in __bool__
    return bool(self.get_result_ids())
  File ""odoo/tools/query.py"", line 225, in get_result_ids
    self._ids = tuple(id_ for id_, in self._env.execute_query(self.select()))
  File ""odoo/api.py"", line 962, in execute_query
    self.cr.execute(query)
  File ""odoo/sql_db.py"", line 354, in execute
    res = self._obj.execute(query, params)
```

After this commit, user can not click on ``Reset Password`` button multiple times.

sentry-5661309399

---
I confirm I have signed the CLA and read the PR guidelines at www.odoo.com/submit-pr

Forward-Port-Of: odoo/odoo#190833
Forward-Port-Of: odoo/odoo#184862",fw-bot,2025-01-08 05:35:41+00:00,[],2025-01-22 09:43:12+00:00,2025-01-08 09:40:31+00:00,https://github.com/odoo/odoo/pull/192822,"[('RD', 'research & development, internal work'), ('forwardport', 'This PR was created by @fw-bot')]","[{'comment_id': 2576792748, 'issue_id': 2774341928, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/192822.png)](https://mergebot.odoo.com/odoo/odoo/pull/192822)', 'created_at': datetime.datetime(2025, 1, 8, 5, 35, 42, tzinfo=datetime.timezone.utc)}, {'comment_id': 2576792759, 'issue_id': 2774341928, 'author': 'fw-bot', 'body': 'This PR targets 18.0 and is part of the forward-port chain. Further PRs will be created up to master.\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 8, 5, 35, 43, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-08 05:35:42 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/192822.png)](https://mergebot.odoo.com/odoo/odoo/pull/192822)

fw-bot (Issue Creator) on (2025-01-08 05:35:43 UTC): This PR targets 18.0 and is part of the forward-port chain. Further PRs will be created up to master.

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

"
2774341728,pull_request,closed,,[FW][FIX] auth_signup: prevent error when resetting the password,"When the user tries to reset the password, a traceback will appear.

Steps to reproduce the error:
- Install ``auth_signup``
- Configure ""Outgoing mail server""
- Now Log out
- Click on Sign in > Reset Password > Enter your email >
  Click on ``Reset Password`` twice

Traceback:
```
InFailedSqlTransaction: current transaction is aborted, commands ignored until end of transaction block

  File ""odoo/http.py"", line 2365, in __call__
    response = request._serve_db()
  File ""odoo/http.py"", line 1892, in _serve_db
    return self._transactioning(
  File ""odoo/http.py"", line 1955, in _transactioning
    return service_model.retrying(func, env=self.env)
  File ""odoo/service/model.py"", line 137, in retrying
    result = func()
  File ""odoo/http.py"", line 1922, in _serve_ir_http
    response = self.dispatcher.dispatch(rule.endpoint, args)
  File ""odoo/http.py"", line 2082, in dispatch
    return self.request.registry['ir.http']._dispatch(endpoint)
  File ""odoo/addons/base/models/ir_http.py"", line 331, in _dispatch
    result.flatten()
  File ""odoo/http.py"", line 1389, in flatten
    self.response.append(self.render())
  File ""odoo/http.py"", line 1381, in render
    return request.env[""ir.ui.view""]._render_template(self.template, self.qcontext)
  File ""home/odoo/src/enterprise/18.0/web_studio/models/ir_ui_view.py"", line 1315, in _render_template
    return super(View, self)._render_template(template, values)
  File ""odoo/addons/base/models/ir_ui_view.py"", line 2185, in _render_template
    return self.env['ir.qweb']._render(template, values)
  File ""odoo/tools/profiler.py"", line 306, in _tracked_method_render
    return method_render(self, template, values, **options)
  File ""odoo/addons/base/models/ir_qweb.py"", line 597, in _render
    template_functions, def_name = irQweb._compile(template)
  File ""odoo/tools/profiler.py"", line 314, in _tracked_compile
    return method_compile(self, template)
  File ""odoo/addons/base/models/ir_qweb.py"", line 666, in _compile
    return self._load_values(base_key_cache, generate_functions)
  File ""odoo/addons/base/models/ir_qweb.py"", line 2524, in _load_values
    return get_value()
  File ""odoo/addons/base/models/ir_qweb.py"", line 635, in generate_functions
    code, options, def_name = self._generate_code(template)
  File ""odoo/addons/base/models/ir_qweb.py"", line 691, in _generate_code
    element, document, ref = self._get_template(template)
  File ""odoo/addons/base/models/ir_qweb.py"", line 822, in _get_template
    doc_or_elem, ref = self._load(ref_alias) or (None, None)
  File ""odoo/addons/base/models/ir_qweb.py"", line 859, in _load
    view = IrUIView._get(ref)
  File ""odoo/addons/base/models/ir_ui_view.py"", line 2085, in _get
    return self.browse(self._get_view_id(view_ref))
  File ""odoo/addons/base/models/ir_ui_view.py"", line 2073, in _get_view_id
    view = self.sudo().search([('key', '=', template)], limit=1)
  File ""odoo/models.py"", line 1717, in search
    return self.search_fetch(domain, [], offset=offset, limit=limit, order=order)
  File ""odoo/models.py"", line 1749, in search_fetch
    return self._fetch_query(query, fields_to_fetch)
  File ""odoo/models.py"", line 4180, in _fetch_query
    fetched = self.browse(query)
  File ""odoo/models.py"", line 6154, in browse
    if not ids:
  File ""odoo/tools/query.py"", line 261, in __bool__
    return bool(self.get_result_ids())
  File ""odoo/tools/query.py"", line 225, in get_result_ids
    self._ids = tuple(id_ for id_, in self._env.execute_query(self.select()))
  File ""odoo/api.py"", line 962, in execute_query
    self.cr.execute(query)
  File ""odoo/sql_db.py"", line 354, in execute
    res = self._obj.execute(query, params)
```

After this commit, user can not click on ``Reset Password`` button multiple times.

sentry-5661309399

---
I confirm I have signed the CLA and read the PR guidelines at www.odoo.com/submit-pr

Forward-Port-Of: odoo/odoo#190833
Forward-Port-Of: odoo/odoo#184862",fw-bot,2025-01-08 05:35:27+00:00,[],2025-01-22 09:43:08+00:00,2025-01-08 09:32:36+00:00,https://github.com/odoo/odoo/pull/192821,"[('RD', 'research & development, internal work'), ('forwardport', 'This PR was created by @fw-bot')]","[{'comment_id': 2576792563, 'issue_id': 2774341728, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/192821.png)](https://mergebot.odoo.com/odoo/odoo/pull/192821)', 'created_at': datetime.datetime(2025, 1, 8, 5, 35, 28, tzinfo=datetime.timezone.utc)}, {'comment_id': 2576792568, 'issue_id': 2774341728, 'author': 'fw-bot', 'body': 'This PR targets saas-17.4 and is part of the forward-port chain. Further PRs will be created up to master.\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 8, 5, 35, 29, tzinfo=datetime.timezone.utc)}, {'comment_id': 2576821842, 'issue_id': 2774341728, 'author': 'fw-bot', 'body': '@reka-odoo @flvr-odoo ci/runbot failed on this forward-port PR', 'created_at': datetime.datetime(2025, 1, 8, 6, 4, 42, tzinfo=datetime.timezone.utc)}, {'comment_id': 2576901733, 'issue_id': 2774341728, 'author': 'robodoo', 'body': '@reka-odoo you may want to rebuild or fix this PR as it has failed CI.', 'created_at': datetime.datetime(2025, 1, 8, 7, 11, 16, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-08 05:35:28 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/192821.png)](https://mergebot.odoo.com/odoo/odoo/pull/192821)

fw-bot (Issue Creator) on (2025-01-08 05:35:29 UTC): This PR targets saas-17.4 and is part of the forward-port chain. Further PRs will be created up to master.

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

fw-bot (Issue Creator) on (2025-01-08 06:04:42 UTC): @reka-odoo @flvr-odoo ci/runbot failed on this forward-port PR

robodoo on (2025-01-08 07:11:16 UTC): @reka-odoo you may want to rebuild or fix this PR as it has failed CI.

"
2774341483,pull_request,closed,,[FW][FIX] auth_signup: prevent error when resetting the password,"When the user tries to reset the password, a traceback will appear.

Steps to reproduce the error:
- Install ``auth_signup``
- Configure ""Outgoing mail server""
- Now Log out
- Click on Sign in > Reset Password > Enter your email >
  Click on ``Reset Password`` twice

Traceback:
```
InFailedSqlTransaction: current transaction is aborted, commands ignored until end of transaction block

  File ""odoo/http.py"", line 2365, in __call__
    response = request._serve_db()
  File ""odoo/http.py"", line 1892, in _serve_db
    return self._transactioning(
  File ""odoo/http.py"", line 1955, in _transactioning
    return service_model.retrying(func, env=self.env)
  File ""odoo/service/model.py"", line 137, in retrying
    result = func()
  File ""odoo/http.py"", line 1922, in _serve_ir_http
    response = self.dispatcher.dispatch(rule.endpoint, args)
  File ""odoo/http.py"", line 2082, in dispatch
    return self.request.registry['ir.http']._dispatch(endpoint)
  File ""odoo/addons/base/models/ir_http.py"", line 331, in _dispatch
    result.flatten()
  File ""odoo/http.py"", line 1389, in flatten
    self.response.append(self.render())
  File ""odoo/http.py"", line 1381, in render
    return request.env[""ir.ui.view""]._render_template(self.template, self.qcontext)
  File ""home/odoo/src/enterprise/18.0/web_studio/models/ir_ui_view.py"", line 1315, in _render_template
    return super(View, self)._render_template(template, values)
  File ""odoo/addons/base/models/ir_ui_view.py"", line 2185, in _render_template
    return self.env['ir.qweb']._render(template, values)
  File ""odoo/tools/profiler.py"", line 306, in _tracked_method_render
    return method_render(self, template, values, **options)
  File ""odoo/addons/base/models/ir_qweb.py"", line 597, in _render
    template_functions, def_name = irQweb._compile(template)
  File ""odoo/tools/profiler.py"", line 314, in _tracked_compile
    return method_compile(self, template)
  File ""odoo/addons/base/models/ir_qweb.py"", line 666, in _compile
    return self._load_values(base_key_cache, generate_functions)
  File ""odoo/addons/base/models/ir_qweb.py"", line 2524, in _load_values
    return get_value()
  File ""odoo/addons/base/models/ir_qweb.py"", line 635, in generate_functions
    code, options, def_name = self._generate_code(template)
  File ""odoo/addons/base/models/ir_qweb.py"", line 691, in _generate_code
    element, document, ref = self._get_template(template)
  File ""odoo/addons/base/models/ir_qweb.py"", line 822, in _get_template
    doc_or_elem, ref = self._load(ref_alias) or (None, None)
  File ""odoo/addons/base/models/ir_qweb.py"", line 859, in _load
    view = IrUIView._get(ref)
  File ""odoo/addons/base/models/ir_ui_view.py"", line 2085, in _get
    return self.browse(self._get_view_id(view_ref))
  File ""odoo/addons/base/models/ir_ui_view.py"", line 2073, in _get_view_id
    view = self.sudo().search([('key', '=', template)], limit=1)
  File ""odoo/models.py"", line 1717, in search
    return self.search_fetch(domain, [], offset=offset, limit=limit, order=order)
  File ""odoo/models.py"", line 1749, in search_fetch
    return self._fetch_query(query, fields_to_fetch)
  File ""odoo/models.py"", line 4180, in _fetch_query
    fetched = self.browse(query)
  File ""odoo/models.py"", line 6154, in browse
    if not ids:
  File ""odoo/tools/query.py"", line 261, in __bool__
    return bool(self.get_result_ids())
  File ""odoo/tools/query.py"", line 225, in get_result_ids
    self._ids = tuple(id_ for id_, in self._env.execute_query(self.select()))
  File ""odoo/api.py"", line 962, in execute_query
    self.cr.execute(query)
  File ""odoo/sql_db.py"", line 354, in execute
    res = self._obj.execute(query, params)
```

After this commit, user can not click on ``Reset Password`` button multiple times.

sentry-5661309399

---
I confirm I have signed the CLA and read the PR guidelines at www.odoo.com/submit-pr

Forward-Port-Of: odoo/odoo#190833
Forward-Port-Of: odoo/odoo#184862",fw-bot,2025-01-08 05:35:13+00:00,[],2025-01-22 09:43:10+00:00,2025-01-08 09:35:41+00:00,https://github.com/odoo/odoo/pull/192820,"[('RD', 'research & development, internal work'), ('forwardport', 'This PR was created by @fw-bot')]","[{'comment_id': 2576792331, 'issue_id': 2774341483, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/192820.png)](https://mergebot.odoo.com/odoo/odoo/pull/192820)', 'created_at': datetime.datetime(2025, 1, 8, 5, 35, 14, tzinfo=datetime.timezone.utc)}, {'comment_id': 2576792339, 'issue_id': 2774341483, 'author': 'fw-bot', 'body': 'This PR targets saas-17.2 and is part of the forward-port chain. Further PRs will be created up to master.\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 8, 5, 35, 15, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-08 05:35:14 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/192820.png)](https://mergebot.odoo.com/odoo/odoo/pull/192820)

fw-bot (Issue Creator) on (2025-01-08 05:35:15 UTC): This PR targets saas-17.2 and is part of the forward-port chain. Further PRs will be created up to master.

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

"
2774325756,pull_request,closed,,[FW][FIX] html_editor: move nodes when collaborator on same node,"Description of the issue this PR addresses:

Current behavior before PR:

It was not possible to use the move node handler when the collaborator is on the same node, because the collaboration avatar is hidden using opacity 0 which still allowed the avatar to be selectable.

Desired behavior after PR is merged:

Hide the collaboration avatar using visibility hidden, ensuring it is not selectable.

task-4348275

---
I confirm I have signed the CLA and read the PR guidelines at www.odoo.com/submit-pr

Forward-Port-Of: odoo/odoo#190795",fw-bot,2025-01-08 05:20:46+00:00,[],2025-01-22 08:34:33+00:00,2025-01-08 08:28:19+00:00,https://github.com/odoo/odoo/pull/192819,"[('RD', 'research & development, internal work'), ('forwardport', 'This PR was created by @fw-bot'), ('18.2', None)]","[{'comment_id': 2576777220, 'issue_id': 2774325756, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/192819.png)](https://mergebot.odoo.com/odoo/odoo/pull/192819)', 'created_at': datetime.datetime(2025, 1, 8, 5, 20, 47, tzinfo=datetime.timezone.utc)}, {'comment_id': 2576777233, 'issue_id': 2774325756, 'author': 'fw-bot', 'body': '@deso-odoo @dmo-odoo this PR targets master and is the last of the forward-port chain containing:\n* odoo/odoo#192792\n\nTo merge the full chain, use\n> @robodoo r+\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 8, 5, 20, 48, tzinfo=datetime.timezone.utc)}, {'comment_id': 2576781102, 'issue_id': 2774325756, 'author': 'deso-odoo', 'body': '@robodoo r+', 'created_at': datetime.datetime(2025, 1, 8, 5, 25, 6, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-08 05:20:47 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/192819.png)](https://mergebot.odoo.com/odoo/odoo/pull/192819)

fw-bot (Issue Creator) on (2025-01-08 05:20:48 UTC): @deso-odoo @dmo-odoo this PR targets master and is the last of the forward-port chain containing:
* odoo/odoo#192792

To merge the full chain, use

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

deso-odoo on (2025-01-08 05:25:06 UTC): @robodoo r+

"
2774127237,pull_request,open,,Ada po sai patch 1,"Description of the issue/feature this PR addresses:

Current behavior before PR:

Desired behavior after PR is merged:




---
I confirm I have signed the CLA and read the PR guidelines at www.odoo.com/submit-pr
",adaPOSai,2025-01-08 02:56:41+00:00,[],2025-01-12 01:33:29+00:00,,https://github.com/odoo/odoo/pull/192818,[],"[{'comment_id': 2576606315, 'issue_id': 2774127237, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/192818.png)](https://mergebot.odoo.com/odoo/odoo/pull/192818)', 'created_at': datetime.datetime(2025, 1, 8, 2, 56, 52, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-08 02:56:52 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/192818.png)](https://mergebot.odoo.com/odoo/odoo/pull/192818)

"
2774019300,pull_request,open,,odoo,"Description of the issue/feature this PR addresses:

Current behavior before PR:

Desired behavior after PR is merged:




---
I confirm I have signed the CLA and read the PR guidelines at www.odoo.com/submit-pr
",adaPOSai,2025-01-08 01:08:00+00:00,[],2025-01-08 23:26:14+00:00,,https://github.com/odoo/odoo/pull/192817,[],"[{'comment_id': 2576511096, 'issue_id': 2774019300, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/192817.png)](https://mergebot.odoo.com/odoo/odoo/pull/192817)', 'created_at': datetime.datetime(2025, 1, 8, 1, 8, 3, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-08 01:08:03 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/192817.png)](https://mergebot.odoo.com/odoo/odoo/pull/192817)

"
2773979417,pull_request,closed,,[FW][FIX] point_of_sale: prevent concurrent invoice creation from QR,"**Steps to reproduce:**
- Install point_of_sale and l10n_mx_edi
- Switch to a Mexican company (e.g. ESCUELA KEMPER URGATE)
- Create a product with an UNSPSC Category
- In POS settings, enable ""Use QR code on ticket"" option
- Open a POS session
- Make an orders with the created product (without invoice)
- Print the receipt
- Close the POS session
- Scan the QR code on the receipt with a mobile (Or just open the link retrieved from the QR code in a browser from the computer without being logged)
- Enter all the required data
- Click several times on ""Get my invoice"" button quickly to generate the invoice

**Issue:**
Several concurrent processes are executed to create the invoice. In the Mexican localization, an electronic invoice is also generated and signed.
However, an error is raised when trying to commit the electronic invoice document from the concurrent processes.
These errors prevents the normal flow to continue after the creation of the invoice and the reversal of the POS closing entry is not generated as expected.

**Solution:**
Disable the ""Get my invoice"" button when the form is submitted to prevent concurrent calls to the action.

opw-4399540




---
I confirm I have signed the CLA and read the PR guidelines at www.odoo.com/submit-pr

Forward-Port-Of: odoo/odoo#192016",fw-bot,2025-01-08 00:22:02+00:00,[],2025-01-22 08:34:34+00:00,2025-01-08 08:28:24+00:00,https://github.com/odoo/odoo/pull/192816,"[('OE', 'the report is linked to a support ticket (opw-...)'), ('forwardport', 'This PR was created by @fw-bot'), ('18.2', None)]","[{'comment_id': 2576469342, 'issue_id': 2773979417, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/192816.png)](https://mergebot.odoo.com/odoo/odoo/pull/192816)', 'created_at': datetime.datetime(2025, 1, 8, 0, 22, 3, tzinfo=datetime.timezone.utc)}, {'comment_id': 2576469347, 'issue_id': 2773979417, 'author': 'fw-bot', 'body': '@kitan191 @caburj this PR targets master and is the last of the forward-port chain containing:\n* odoo/odoo#192815\n* odoo/odoo#192812\n* odoo/odoo#192802\n* odoo/odoo#192783\n\nTo merge the full chain, use\n> @robodoo r+\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 8, 0, 22, 4, tzinfo=datetime.timezone.utc)}, {'comment_id': 2576876214, 'issue_id': 2773979417, 'author': 'kitan191', 'body': '@robodoo r+', 'created_at': datetime.datetime(2025, 1, 8, 6, 51, 55, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-08 00:22:03 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/192816.png)](https://mergebot.odoo.com/odoo/odoo/pull/192816)

fw-bot (Issue Creator) on (2025-01-08 00:22:04 UTC): @kitan191 @caburj this PR targets master and is the last of the forward-port chain containing:
* odoo/odoo#192815
* odoo/odoo#192812
* odoo/odoo#192802
* odoo/odoo#192783

To merge the full chain, use

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

kitan191 on (2025-01-08 06:51:55 UTC): @robodoo r+

"
2773898349,pull_request,closed,,[FW][FIX] point_of_sale: prevent concurrent invoice creation from QR,"**Steps to reproduce:**
- Install point_of_sale and l10n_mx_edi
- Switch to a Mexican company (e.g. ESCUELA KEMPER URGATE)
- Create a product with an UNSPSC Category
- In POS settings, enable ""Use QR code on ticket"" option
- Open a POS session
- Make an orders with the created product (without invoice)
- Print the receipt
- Close the POS session
- Scan the QR code on the receipt with a mobile (Or just open the link retrieved from the QR code in a browser from the computer without being logged)
- Enter all the required data
- Click several times on ""Get my invoice"" button quickly to generate the invoice

**Issue:**
Several concurrent processes are executed to create the invoice. In the Mexican localization, an electronic invoice is also generated and signed.
However, an error is raised when trying to commit the electronic invoice document from the concurrent processes.
These errors prevents the normal flow to continue after the creation of the invoice and the reversal of the POS closing entry is not generated as expected.

**Solution:**
Disable the ""Get my invoice"" button when the form is submitted to prevent concurrent calls to the action.

opw-4399540




---
I confirm I have signed the CLA and read the PR guidelines at www.odoo.com/submit-pr

Forward-Port-Of: odoo/odoo#192016",fw-bot,2025-01-07 22:55:09+00:00,[],2025-01-22 13:23:13+00:00,2025-01-08 13:03:43+00:00,https://github.com/odoo/odoo/pull/192815,"[('OE', 'the report is linked to a support ticket (opw-...)'), ('forwardport', 'This PR was created by @fw-bot')]","[{'comment_id': 2576379976, 'issue_id': 2773898349, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/192815.png)](https://mergebot.odoo.com/odoo/odoo/pull/192815)', 'created_at': datetime.datetime(2025, 1, 7, 22, 55, 10, tzinfo=datetime.timezone.utc)}, {'comment_id': 2576379990, 'issue_id': 2773898349, 'author': 'fw-bot', 'body': 'This PR targets saas-18.1 and is part of the forward-port chain. Further PRs will be created up to master.\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 7, 22, 55, 11, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-07 22:55:10 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/192815.png)](https://mergebot.odoo.com/odoo/odoo/pull/192815)

fw-bot (Issue Creator) on (2025-01-07 22:55:11 UTC): This PR targets saas-18.1 and is part of the forward-port chain. Further PRs will be created up to master.

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

"
2773862904,pull_request,closed,,[FW][FIX] point_of_sale: remove custom properties 'nodestroy' to avoid warning,"-This commit remove custom properties 'nodestroy' to avoid warning like this: `odoo.addons.web.controllers.utils: Action 'Customer Invoice' contains custom properties 'nodestroy'`. Passing them via the `params` or `context` properties is recommended instead

Description of the issue/feature this PR addresses:

Current behavior before PR:

Desired behavior after PR is merged:




---
I confirm I have signed the CLA and read the PR guidelines at www.odoo.com/submit-pr

Forward-Port-Of: odoo/odoo#161814",fw-bot,2025-01-07 22:22:51+00:00,[],2025-02-06 12:07:26+00:00,2025-01-23 12:02:34+00:00,https://github.com/odoo/odoo/pull/192814,"[('RD', 'research & development, internal work'), ('forwardport', 'This PR was created by @fw-bot'), ('18.2', None)]","[{'comment_id': 2576342001, 'issue_id': 2773862904, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/192814.png)](https://mergebot.odoo.com/odoo/odoo/pull/192814)', 'created_at': datetime.datetime(2025, 1, 7, 22, 22, 52, tzinfo=datetime.timezone.utc)}, {'comment_id': 2576342016, 'issue_id': 2773862904, 'author': 'fw-bot', 'body': '@duong77476-viindoo @davidmonnom this PR targets master and is the last of the forward-port chain containing:\n* odoo/odoo#192811\n* odoo/odoo#192798\n* odoo/odoo#192782\n* odoo/odoo#192766\n\nTo merge the full chain, use\n> @robodoo r+\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 7, 22, 22, 53, tzinfo=datetime.timezone.utc)}, {'comment_id': 2585000779, 'issue_id': 2773862904, 'author': 'fw-bot', 'body': '@duong77476-viindoo @davidmonnom this forward port of odoo/odoo#161814 is awaiting action (not merged or closed).', 'created_at': datetime.datetime(2025, 1, 11, 2, 1, 49, tzinfo=datetime.timezone.utc)}, {'comment_id': 2585541969, 'issue_id': 2773862904, 'author': 'fw-bot', 'body': '@duong77476-viindoo @davidmonnom this forward port of odoo/odoo#161814 is awaiting action (not merged or closed).', 'created_at': datetime.datetime(2025, 1, 12, 2, 2, 21, tzinfo=datetime.timezone.utc)}, {'comment_id': 2586047831, 'issue_id': 2773862904, 'author': 'fw-bot', 'body': '@duong77476-viindoo @davidmonnom this forward port of odoo/odoo#161814 is awaiting action (not merged or closed).', 'created_at': datetime.datetime(2025, 1, 13, 2, 3, 2, tzinfo=datetime.timezone.utc)}, {'comment_id': 2588621353, 'issue_id': 2773862904, 'author': 'fw-bot', 'body': '@duong77476-viindoo @davidmonnom this forward port of odoo/odoo#161814 is awaiting action (not merged or closed).', 'created_at': datetime.datetime(2025, 1, 14, 2, 2, 21, tzinfo=datetime.timezone.utc)}, {'comment_id': 2591479152, 'issue_id': 2773862904, 'author': 'fw-bot', 'body': '@duong77476-viindoo @davidmonnom this forward port of odoo/odoo#161814 is awaiting action (not merged or closed).', 'created_at': datetime.datetime(2025, 1, 15, 2, 2, 15, tzinfo=datetime.timezone.utc)}, {'comment_id': 2594313989, 'issue_id': 2773862904, 'author': 'fw-bot', 'body': '@duong77476-viindoo @davidmonnom this forward port of odoo/odoo#161814 is awaiting action (not merged or closed).', 'created_at': datetime.datetime(2025, 1, 16, 2, 1, 47, tzinfo=datetime.timezone.utc)}, {'comment_id': 2597278781, 'issue_id': 2773862904, 'author': 'fw-bot', 'body': '@duong77476-viindoo @davidmonnom this forward port of odoo/odoo#161814 is awaiting action (not merged or closed).', 'created_at': datetime.datetime(2025, 1, 17, 2, 1, 44, tzinfo=datetime.timezone.utc)}, {'comment_id': 2600472858, 'issue_id': 2773862904, 'author': 'fw-bot', 'body': '@duong77476-viindoo @davidmonnom this forward port of odoo/odoo#161814 is awaiting action (not merged or closed).', 'created_at': datetime.datetime(2025, 1, 19, 2, 2, 42, tzinfo=datetime.timezone.utc)}, {'comment_id': 2607346328, 'issue_id': 2773862904, 'author': 'davidmonnom', 'body': '@robodoo r+', 'created_at': datetime.datetime(2025, 1, 22, 14, 8, 14, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-07 22:22:52 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/192814.png)](https://mergebot.odoo.com/odoo/odoo/pull/192814)

fw-bot (Issue Creator) on (2025-01-07 22:22:53 UTC): @duong77476-viindoo @davidmonnom this PR targets master and is the last of the forward-port chain containing:
* odoo/odoo#192811
* odoo/odoo#192798
* odoo/odoo#192782
* odoo/odoo#192766

To merge the full chain, use

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

fw-bot (Issue Creator) on (2025-01-11 02:01:49 UTC): @duong77476-viindoo @davidmonnom this forward port of odoo/odoo#161814 is awaiting action (not merged or closed).

fw-bot (Issue Creator) on (2025-01-12 02:02:21 UTC): @duong77476-viindoo @davidmonnom this forward port of odoo/odoo#161814 is awaiting action (not merged or closed).

fw-bot (Issue Creator) on (2025-01-13 02:03:02 UTC): @duong77476-viindoo @davidmonnom this forward port of odoo/odoo#161814 is awaiting action (not merged or closed).

fw-bot (Issue Creator) on (2025-01-14 02:02:21 UTC): @duong77476-viindoo @davidmonnom this forward port of odoo/odoo#161814 is awaiting action (not merged or closed).

fw-bot (Issue Creator) on (2025-01-15 02:02:15 UTC): @duong77476-viindoo @davidmonnom this forward port of odoo/odoo#161814 is awaiting action (not merged or closed).

fw-bot (Issue Creator) on (2025-01-16 02:01:47 UTC): @duong77476-viindoo @davidmonnom this forward port of odoo/odoo#161814 is awaiting action (not merged or closed).

fw-bot (Issue Creator) on (2025-01-17 02:01:44 UTC): @duong77476-viindoo @davidmonnom this forward port of odoo/odoo#161814 is awaiting action (not merged or closed).

fw-bot (Issue Creator) on (2025-01-19 02:02:42 UTC): @duong77476-viindoo @davidmonnom this forward port of odoo/odoo#161814 is awaiting action (not merged or closed).

davidmonnom on (2025-01-22 14:08:14 UTC): @robodoo r+

"
2773817922,pull_request,closed,,[FW][FIX] product_margin: useless write during _read_group,"When we aggregate one of the field of ""product.product"" introduced by 'product_margin' module, it will generate a SQL update on all records read. It is because we call the compute method manually without protecting computed fields, which will lead to call BaseModel.write() that update write_date/write_uid.

Fix it by calling `compute_value` of one of the field.





### Notes

- Should we backport it in 17.0 but then we need to backport https://github.com/odoo/odoo/pull/155585 too ? Also for the 16.0 ?
- For master: remove the return of `_compute_product_margin_fields_values`, people shouldn't call that manually too avoid the issue mention in the commit message.

Forward-Port-Of: odoo/odoo#192629",fw-bot,2025-01-07 21:55:57+00:00,[],2025-01-22 11:33:12+00:00,2025-01-08 11:22:36+00:00,https://github.com/odoo/odoo/pull/192813,"[('RD', 'research & development, internal work'), ('forwardport', 'This PR was created by @fw-bot'), ('18.2', None)]","[{'comment_id': 2576298140, 'issue_id': 2773817922, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/192813.png)](https://mergebot.odoo.com/odoo/odoo/pull/192813)', 'created_at': datetime.datetime(2025, 1, 7, 21, 55, 58, tzinfo=datetime.timezone.utc)}, {'comment_id': 2576298150, 'issue_id': 2773817922, 'author': 'fw-bot', 'body': '@ryv-odoo this PR targets master and is the last of the forward-port chain containing:\n* odoo/odoo#192807\n\nTo merge the full chain, use\n> @robodoo r+\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 7, 21, 55, 59, tzinfo=datetime.timezone.utc)}, {'comment_id': 2577167449, 'issue_id': 2773817922, 'author': 'ryv-odoo', 'body': '@robodoo r+', 'created_at': datetime.datetime(2025, 1, 8, 9, 14, 32, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-07 21:55:58 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/192813.png)](https://mergebot.odoo.com/odoo/odoo/pull/192813)

fw-bot (Issue Creator) on (2025-01-07 21:55:59 UTC): @ryv-odoo this PR targets master and is the last of the forward-port chain containing:
* odoo/odoo#192807

To merge the full chain, use

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

ryv-odoo on (2025-01-08 09:14:32 UTC): @robodoo r+

"
2773762010,pull_request,closed,,[FW][FIX] point_of_sale: prevent concurrent invoice creation from QR,"**Steps to reproduce:**
- Install point_of_sale and l10n_mx_edi
- Switch to a Mexican company (e.g. ESCUELA KEMPER URGATE)
- Create a product with an UNSPSC Category
- In POS settings, enable ""Use QR code on ticket"" option
- Open a POS session
- Make an orders with the created product (without invoice)
- Print the receipt
- Close the POS session
- Scan the QR code on the receipt with a mobile (Or just open the link retrieved from the QR code in a browser from the computer without being logged)
- Enter all the required data
- Click several times on ""Get my invoice"" button quickly to generate the invoice

**Issue:**
Several concurrent processes are executed to create the invoice. In the Mexican localization, an electronic invoice is also generated and signed.
However, an error is raised when trying to commit the electronic invoice document from the concurrent processes.
These errors prevents the normal flow to continue after the creation of the invoice and the reversal of the POS closing entry is not generated as expected.

**Solution:**
Disable the ""Get my invoice"" button when the form is submitted to prevent concurrent calls to the action.

opw-4399540




---
I confirm I have signed the CLA and read the PR guidelines at www.odoo.com/submit-pr

Forward-Port-Of: odoo/odoo#192016",fw-bot,2025-01-07 21:23:12+00:00,[],2025-01-22 08:19:01+00:00,2025-01-08 08:16:16+00:00,https://github.com/odoo/odoo/pull/192812,"[('OE', 'the report is linked to a support ticket (opw-...)'), ('forwardport', 'This PR was created by @fw-bot')]","[{'comment_id': 2576246337, 'issue_id': 2773762010, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/192812.png)](https://mergebot.odoo.com/odoo/odoo/pull/192812)', 'created_at': datetime.datetime(2025, 1, 7, 21, 23, 13, tzinfo=datetime.timezone.utc)}, {'comment_id': 2576246364, 'issue_id': 2773762010, 'author': 'fw-bot', 'body': 'This PR targets 18.0 and is part of the forward-port chain. Further PRs will be created up to master.\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 7, 21, 23, 14, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-07 21:23:13 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/192812.png)](https://mergebot.odoo.com/odoo/odoo/pull/192812)

fw-bot (Issue Creator) on (2025-01-07 21:23:14 UTC): This PR targets 18.0 and is part of the forward-port chain. Further PRs will be created up to master.

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

"
2773732317,pull_request,closed,,[FW][FIX] point_of_sale: remove custom properties 'nodestroy' to avoid warning,"-This commit remove custom properties 'nodestroy' to avoid warning like this: `odoo.addons.web.controllers.utils: Action 'Customer Invoice' contains custom properties 'nodestroy'`. Passing them via the `params` or `context` properties is recommended instead

Description of the issue/feature this PR addresses:

Current behavior before PR:

Desired behavior after PR is merged:




---
I confirm I have signed the CLA and read the PR guidelines at www.odoo.com/submit-pr

Forward-Port-Of: odoo/odoo#161814",fw-bot,2025-01-07 21:03:53+00:00,[],2025-02-05 23:11:11+00:00,2025-01-22 23:03:45+00:00,https://github.com/odoo/odoo/pull/192811,"[('RD', 'research & development, internal work'), ('forwardport', 'This PR was created by @fw-bot')]","[{'comment_id': 2576216237, 'issue_id': 2773732317, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/192811.png)](https://mergebot.odoo.com/odoo/odoo/pull/192811)', 'created_at': datetime.datetime(2025, 1, 7, 21, 3, 54, tzinfo=datetime.timezone.utc)}, {'comment_id': 2576216249, 'issue_id': 2773732317, 'author': 'fw-bot', 'body': 'This PR targets saas-18.1 and is part of the forward-port chain. Further PRs will be created up to master.\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 7, 21, 3, 55, tzinfo=datetime.timezone.utc)}, {'comment_id': 2607345895, 'issue_id': 2773732317, 'author': 'davidmonnom', 'body': '@robodoo r+', 'created_at': datetime.datetime(2025, 1, 22, 14, 8, 4, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-07 21:03:54 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/192811.png)](https://mergebot.odoo.com/odoo/odoo/pull/192811)

fw-bot (Issue Creator) on (2025-01-07 21:03:55 UTC): This PR targets saas-18.1 and is part of the forward-port chain. Further PRs will be created up to master.

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

davidmonnom on (2025-01-22 14:08:04 UTC): @robodoo r+

"
2773728847,pull_request,closed,,[FW][FIX] point_of_sale: kitchen receipt long name,"When printing long product names with long variants, the lines were overlapping.

Steps to reproduce:
-------------------
* Create a product with some long variant names
* Setup a kitchen printer
* Add the order to a PoS order
* Print the order on the kitchen printer
> Observation: The product name and variant name are overlapping

Before:
![before](https://github.com/user-attachments/assets/d16022b0-4f87-48aa-adc4-1c246b173431)


After:
![after](https://github.com/user-attachments/assets/495632de-e4d2-424c-b19d-fb386a3eb356)


opw-4414311

Forward-Port-Of: odoo/odoo#192690
Forward-Port-Of: odoo/odoo#192544",fw-bot,2025-01-07 21:01:32+00:00,[],2025-01-22 20:31:51+00:00,2025-01-08 20:09:30+00:00,https://github.com/odoo/odoo/pull/192810,"[('OE', 'the report is linked to a support ticket (opw-...)'), ('forwardport', 'This PR was created by @fw-bot'), ('conflict', 'There was an error while creating this forward-port PR')]","[{'comment_id': 2576212700, 'issue_id': 2773728847, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/192810.png)](https://mergebot.odoo.com/odoo/odoo/pull/192810)', 'created_at': datetime.datetime(2025, 1, 7, 21, 1, 34, tzinfo=datetime.timezone.utc)}, {'comment_id': 2576212767, 'issue_id': 2773728847, 'author': 'fw-bot', 'body': '@robinengels @adgu-odoo cherrypicking of pull request odoo/odoo#192544 failed.\n\nstdout:\n```\nCONFLICT (modify/delete): addons/point_of_sale/static/src/app/generic_components/product_card/product_card.scss deleted in 62925e1fc5212d4ad911369972d6cd696c2314aa and modified in ef739479d6d0170f2f05eb69730df85a2387e0fc.  Version ef739479d6d0170f2f05eb69730df85a2387e0fc of addons/point_of_sale/static/src/app/generic_components/product_card/product_card.scss left in tree.\n\n```\n\nEither perform the forward-port manually (and push to this branch, proceeding as usual) or close this PR (maybe?).\n\nIn the former case, you may want to edit this PR message as well.\n\n:warning: after resolving this conflict, you will need to merge it via @robodoo.\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 7, 21, 1, 36, tzinfo=datetime.timezone.utc)}, {'comment_id': 2578093769, 'issue_id': 2773728847, 'author': 'robinengels', 'body': '@robodoo r+', 'created_at': datetime.datetime(2025, 1, 8, 16, 24, 32, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-07 21:01:34 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/192810.png)](https://mergebot.odoo.com/odoo/odoo/pull/192810)

fw-bot (Issue Creator) on (2025-01-07 21:01:36 UTC): @robinengels @adgu-odoo cherrypicking of pull request odoo/odoo#192544 failed.

stdout:
```
CONFLICT (modify/delete): addons/point_of_sale/static/src/app/generic_components/product_card/product_card.scss deleted in 62925e1fc5212d4ad911369972d6cd696c2314aa and modified in ef739479d6d0170f2f05eb69730df85a2387e0fc.  Version ef739479d6d0170f2f05eb69730df85a2387e0fc of addons/point_of_sale/static/src/app/generic_components/product_card/product_card.scss left in tree.

```

Either perform the forward-port manually (and push to this branch, proceeding as usual) or close this PR (maybe?).

In the former case, you may want to edit this PR message as well.

:warning: after resolving this conflict, you will need to merge it via @robodoo.

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

robinengels on (2025-01-08 16:24:32 UTC): @robodoo r+

"
2773710212,pull_request,closed,,"[FW][FIX] im_livechat, website_livechat: handle optional message.thread","On small displays, starting a new website livechat with an operator that has an `user_livechat_username` crashes when rendering the username.

Steps to reproduce
-----
1. Select User Menu Icon > My Profile / Preferences > enter an Online Chat Name
2. On a mobile device or small window, open the livechat on the website
3. Send any new message
4. The following traceback occurs
```
Caused by: TypeError: Cannot read properties of undefined (reading 'channel_type')
    at get authorName
```

Cause
-----
On small displays, `thread` for the default operator message becomes undefined when it is reassigned to the new thread. This causes an error in `get authorName()` when the undefined `thread` is accessed directly to detemine the displayed username.

Solution
-----
Add an optional chain (?) when accessing `this.message.thread` to handle the possible nullish value.

opw-4446208

Backport of odoo/odoo#192605

Forward-Port-Of: odoo/odoo#192739",fw-bot,2025-01-07 20:49:38+00:00,[],2025-01-08 10:31:52+00:00,2025-01-08 00:00:58+00:00,https://github.com/odoo/odoo/pull/192809,"[('OE', 'the report is linked to a support ticket (opw-...)'), ('forwardport', 'This PR was created by @fw-bot'), ('conflict', 'There was an error while creating this forward-port PR')]","[{'comment_id': 2576194664, 'issue_id': 2773710212, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/192809.png)](https://mergebot.odoo.com/odoo/odoo/pull/192809)', 'created_at': datetime.datetime(2025, 1, 7, 20, 49, 39, tzinfo=datetime.timezone.utc)}, {'comment_id': 2576194721, 'issue_id': 2773710212, 'author': 'fw-bot', 'body': '@juwu-odoo @alexkuhn cherrypicking of pull request odoo/odoo#192739 failed.\n\nstdout:\n```\nYou are currently cherry-picking commit d9a953a4a65a4406a60295d20c98b5bdb643549d.\n```\n\nstderr:\n```\nThe previous cherry-pick is now empty, possibly due to conflict resolution.\n```\n\nEither perform the forward-port manually (and push to this branch, proceeding as usual) or close this PR (maybe?).\n\nIn the former case, you may want to edit this PR message as well.\n\n:warning: after resolving this conflict, you will need to merge it via @robodoo.\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 7, 20, 49, 42, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-07 20:49:39 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/192809.png)](https://mergebot.odoo.com/odoo/odoo/pull/192809)

fw-bot (Issue Creator) on (2025-01-07 20:49:42 UTC): @juwu-odoo @alexkuhn cherrypicking of pull request odoo/odoo#192739 failed.

stdout:
```
You are currently cherry-picking commit d9a953a4a65a4406a60295d20c98b5bdb643549d.
```

stderr:
```
The previous cherry-pick is now empty, possibly due to conflict resolution.
```

Either perform the forward-port manually (and push to this branch, proceeding as usual) or close this PR (maybe?).

In the former case, you may want to edit this PR message as well.

:warning: after resolving this conflict, you will need to merge it via @robodoo.

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

"
2773684685,pull_request,open,,[FIX] l10n_ar_website_sale: Invoice date,"### Description of the issue/feature this PR addresses:

If someone creates an invoice after 9 pm Argentina time, if the invoice is created automatically, then it is created with the date of the next day (UTC date) instead of today. This causes problems validating invoices in ARCA (ex AFIP), since when generating the invoice with the next day's date, no more invoices could be generated with today's date.

### Current behavior before PR:

1. Make e-commerce sales after 9 PM local time AR in a website set as automatic invoicing = True (journal by default it is an electronic journal)
2. Try to generate another invoice after that day, A simple way to test it is to make an invoice and then validate it.
3. We will receive ARCA (ex-AFIP) error telling us that we can not generate the invoice with today's date, we can only validate invoices with a date equal to or greater than tomorrow. 

### Desired behavior after PR is merged:

1. Make e-commerce sales after 9 PM local time AR in a website set as automatic invoicing = True (journal by default it is an electronic journal)
2. Try to generate another invoice after that day, A simple way to test it is to make an invoice and then validate it.
3. Manual invoice will be generated and validated in AFIP with today's date as the invoice date.


NOTE: We took the same approach that was used in the [POS module](https://github.com/odoo/odoo/blob/16.0/addons/point_of_sale/models/pos_order.py#L615-L631) to set the date, in this case, always forcing the Argentina timezone

---
I confirm I have signed the CLA and read the PR guidelines at www.odoo.com/submit-pr
",zaoral,2025-01-07 20:32:41+00:00,[],2025-02-07 15:50:17+00:00,,https://github.com/odoo/odoo/pull/192808,"[('Localization', 'about adapting the content to a specify country (usually chart of accounts)')]","[{'comment_id': 2576169533, 'issue_id': 2773684685, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/192808.png)](https://mergebot.odoo.com/odoo/odoo/pull/192808)', 'created_at': datetime.datetime(2025, 1, 7, 20, 32, 43, tzinfo=datetime.timezone.utc)}, {'comment_id': 2617358762, 'issue_id': 2773684685, 'author': 'vbe-odoo', 'body': ""@zaoral thanks for the PR.\r\nI've tested and it LGTM.\r\nCan you please add a a PR description (you could use the same as in the commit description).\r\n\r\n@clbr-odoo this is ready for your technical review.\r\n\r\nThanks!"", 'created_at': datetime.datetime(2025, 1, 28, 0, 58, 39, tzinfo=datetime.timezone.utc)}, {'comment_id': 2619337770, 'issue_id': 2773684685, 'author': 'zaoral', 'body': 'HI @vbe-odoo \r\nThank you for the review\r\n\r\nI have updated the PR description with all the details\r\nPlease let me know if it is ok or want to add something more.\r\n\r\nAlso, I have changed the PR from draft to normal PR to be checked by the technical team\r\n\r\nNOTE: I have an extra related PR to this one https://github.com/odoo/enterprise/pull/77920. Initially, the PR was making changes but then I found out that it was not necessary so I closed it. Just let you know if you find weird runbot o robodoo on current PR \r\n\r\nBest Regards', 'created_at': datetime.datetime(2025, 1, 28, 15, 31, 38, tzinfo=datetime.timezone.utc)}, {'comment_id': 2630374098, 'issue_id': 2773684685, 'author': 'robodoo', 'body': '@zaoral @clbr-odoo staging failed: ci/l10n on 4c347754630efd58a9460513e67da27233d395a1 (view more at https://runbot.odoo.com/runbot/build/74387419)', 'created_at': datetime.datetime(2025, 2, 3, 9, 15, 31, tzinfo=datetime.timezone.utc)}, {'comment_id': 2630395103, 'issue_id': 2773684685, 'author': 'clbr-odoo', 'body': '@robodoo r-', 'created_at': datetime.datetime(2025, 2, 3, 9, 24, 35, tzinfo=datetime.timezone.utc)}, {'comment_id': 2637324106, 'issue_id': 2773684685, 'author': 'vbe-odoo', 'body': '@clbr-odoo is there anything to fix on this PR? I see that runbot failed in the l10n test but not sure if the error is related to this PR', 'created_at': datetime.datetime(2025, 2, 5, 15, 54, 15, tzinfo=datetime.timezone.utc)}, {'comment_id': 2639242411, 'issue_id': 2773684685, 'author': 'clbr-odoo', 'body': 'Most likely the module was never tested before and the test now reveal a problem that was there, so it\'s not really linked to this but we can\'t merge it anyway.\r\nLooking at the logs of the failing staging, we have a bit more information if you have time to check before me, else I\'ll have a deeper look asap.\r\n```odoo.addons.base.models.ir_qweb.QWebException: Error when compiling xml template\r\nSyntaxError: t-elif directive must be preceded by t-if or t-elif directive\r\nTemplate: l10n_ar.report_invoice_document\r\nPath: /t/t/div[2]/div/table/thead/tr/th[9]/span[2]\r\nNode: <span t-else=""""/>\r\n```', 'created_at': datetime.datetime(2025, 2, 6, 9, 17, 38, tzinfo=datetime.timezone.utc)}, {'comment_id': 2639511871, 'issue_id': 2773684685, 'author': 'clbr-odoo', 'body': ""https://github.com/odoo/odoo/pull/196765\r\nYou'll need to rebase on this commit when it's merged :slightly_smiling_face:"", 'created_at': datetime.datetime(2025, 2, 6, 11, 6, 13, tzinfo=datetime.timezone.utc)}, {'comment_id': 2643304928, 'issue_id': 2773684685, 'author': 'zaoral', 'body': 'Hi @clbr-odoo \r\nThanks for helping with the error!\r\nI have just rebased and push on this PR,\r\nnow includes your change on https://github.com/odoo/odoo/pull/196765\r\n\r\nBest Regrds', 'created_at': datetime.datetime(2025, 2, 7, 15, 50, 15, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-07 20:32:43 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/192808.png)](https://mergebot.odoo.com/odoo/odoo/pull/192808)

vbe-odoo on (2025-01-28 00:58:39 UTC): @zaoral thanks for the PR.
I've tested and it LGTM.
Can you please add a a PR description (you could use the same as in the commit description).

@clbr-odoo this is ready for your technical review.

Thanks!

zaoral (Issue Creator) on (2025-01-28 15:31:38 UTC): HI @vbe-odoo 
Thank you for the review

I have updated the PR description with all the details
Please let me know if it is ok or want to add something more.

Also, I have changed the PR from draft to normal PR to be checked by the technical team

NOTE: I have an extra related PR to this one https://github.com/odoo/enterprise/pull/77920. Initially, the PR was making changes but then I found out that it was not necessary so I closed it. Just let you know if you find weird runbot o robodoo on current PR 

Best Regards

robodoo on (2025-02-03 09:15:31 UTC): @zaoral @clbr-odoo staging failed: ci/l10n on 4c347754630efd58a9460513e67da27233d395a1 (view more at https://runbot.odoo.com/runbot/build/74387419)

clbr-odoo on (2025-02-03 09:24:35 UTC): @robodoo r-

vbe-odoo on (2025-02-05 15:54:15 UTC): @clbr-odoo is there anything to fix on this PR? I see that runbot failed in the l10n test but not sure if the error is related to this PR

clbr-odoo on (2025-02-06 09:17:38 UTC): Most likely the module was never tested before and the test now reveal a problem that was there, so it's not really linked to this but we can't merge it anyway.
Looking at the logs of the failing staging, we have a bit more information if you have time to check before me, else I'll have a deeper look asap.
```odoo.addons.base.models.ir_qweb.QWebException: Error when compiling xml template
SyntaxError: t-elif directive must be preceded by t-if or t-elif directive
Template: l10n_ar.report_invoice_document
Path: /t/t/div[2]/div/table/thead/tr/th[9]/span[2]
Node: <span t-else=""""/>
```

clbr-odoo on (2025-02-06 11:06:13 UTC): https://github.com/odoo/odoo/pull/196765
You'll need to rebase on this commit when it's merged :slightly_smiling_face:

zaoral (Issue Creator) on (2025-02-07 15:50:15 UTC): Hi @clbr-odoo 
Thanks for helping with the error!
I have just rebased and push on this PR,
now includes your change on https://github.com/odoo/odoo/pull/196765

Best Regrds

"
2773681280,pull_request,closed,,[FW][FIX] product_margin: useless write during _read_group,"When we aggregate one of the field of ""product.product"" introduced by 'product_margin' module, it will generate a SQL update on all records read. It is because we call the compute method manually without protecting computed fields, which will lead to call BaseModel.write() that update write_date/write_uid.

Fix it by calling `compute_value` of one of the field.





### Notes

- Should we backport it in 17.0 but then we need to backport https://github.com/odoo/odoo/pull/155585 too ? Also for the 16.0 ?
- For master: remove the return of `_compute_product_margin_fields_values`, people shouldn't call that manually too avoid the issue mention in the commit message.

Forward-Port-Of: odoo/odoo#192629",fw-bot,2025-01-07 20:30:48+00:00,[],2025-01-22 14:39:28+00:00,2025-01-08 14:32:45+00:00,https://github.com/odoo/odoo/pull/192807,"[('RD', 'research & development, internal work'), ('forwardport', 'This PR was created by @fw-bot')]","[{'comment_id': 2576166650, 'issue_id': 2773681280, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/192807.png)](https://mergebot.odoo.com/odoo/odoo/pull/192807)', 'created_at': datetime.datetime(2025, 1, 7, 20, 30, 50, tzinfo=datetime.timezone.utc)}, {'comment_id': 2576166665, 'issue_id': 2773681280, 'author': 'fw-bot', 'body': 'This PR targets saas-18.1 and is part of the forward-port chain. Further PRs will be created up to master.\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 7, 20, 30, 50, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-07 20:30:50 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/192807.png)](https://mergebot.odoo.com/odoo/odoo/pull/192807)

fw-bot (Issue Creator) on (2025-01-07 20:30:50 UTC): This PR targets saas-18.1 and is part of the forward-port chain. Further PRs will be created up to master.

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

"
2773679823,pull_request,closed,,[FW][FIX] point_of_sale: show search when going back from payment,"Before this commit, when going back from the payment screen to the product screen, the search bar wasn't visible.

opw-4318710

---
I confirm I have signed the CLA and read the PR guidelines at www.odoo.com/submit-pr

Forward-Port-Of: odoo/odoo#188058",fw-bot,2025-01-07 20:29:54+00:00,[],2025-01-22 11:33:14+00:00,2025-01-08 11:22:50+00:00,https://github.com/odoo/odoo/pull/192806,"[('OE', 'the report is linked to a support ticket (opw-...)'), ('forwardport', 'This PR was created by @fw-bot'), ('18.2', None)]","[{'comment_id': 2576165188, 'issue_id': 2773679823, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/192806.png)](https://mergebot.odoo.com/odoo/odoo/pull/192806)', 'created_at': datetime.datetime(2025, 1, 7, 20, 29, 55, tzinfo=datetime.timezone.utc)}, {'comment_id': 2576165208, 'issue_id': 2773679823, 'author': 'fw-bot', 'body': '@pedrambiria @caburj this PR targets master and is the last of the forward-port chain containing:\n* odoo/odoo#192788\n\nTo merge the full chain, use\n> @robodoo r+\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 7, 20, 29, 56, tzinfo=datetime.timezone.utc)}, {'comment_id': 2577194765, 'issue_id': 2773679823, 'author': 'pedrambiria', 'body': '@robodoo r+', 'created_at': datetime.datetime(2025, 1, 8, 9, 27, 36, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-07 20:29:55 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/192806.png)](https://mergebot.odoo.com/odoo/odoo/pull/192806)

fw-bot (Issue Creator) on (2025-01-07 20:29:56 UTC): @pedrambiria @caburj this PR targets master and is the last of the forward-port chain containing:
* odoo/odoo#192788

To merge the full chain, use

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

pedrambiria on (2025-01-08 09:27:36 UTC): @robodoo r+

"
2773673524,pull_request,closed,,[FW][IMP] account_edi_ubl_cii: move invoice related code in specific method,"Steps:
- Install sale app.
- Upload PO field which contain EDI data.

Issue:
- Order is not imported properly and giving error.

Cause:
- When `_retrieve_line_vals` call from order edi it should
not contain invoice related values but when `account.move.line`
has `deferred_start_date` and `deferred_end_date` it return
those field even it called from order edi and SOL does not
contain those fields

Fix:
- Move invoice related specific code in other method and only
keep generic code which can be used in both invoice and order
in generic method to ensure there is no invoice flow impacted
by order edi and vice versa.

Issued PR: https://github.com/odoo/odoo/pull/191487

Forward-Port-Of: odoo/odoo#192278",fw-bot,2025-01-07 20:26:02+00:00,[],2025-01-22 10:10:16+00:00,2025-01-08 10:00:52+00:00,https://github.com/odoo/odoo/pull/192805,"[('RD', 'research & development, internal work'), ('forwardport', 'This PR was created by @fw-bot'), ('18.2', None)]","[{'comment_id': 2576159443, 'issue_id': 2773673524, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/192805.png)](https://mergebot.odoo.com/odoo/odoo/pull/192805)', 'created_at': datetime.datetime(2025, 1, 7, 20, 26, 4, tzinfo=datetime.timezone.utc)}, {'comment_id': 2576159457, 'issue_id': 2773673524, 'author': 'fw-bot', 'body': '@kcv-odoo @william-andre this PR targets master and is the last of the forward-port chain containing:\n* odoo/odoo#192793\n\nTo merge the full chain, use\n> @robodoo r+\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 7, 20, 26, 4, tzinfo=datetime.timezone.utc)}, {'comment_id': 2576194266, 'issue_id': 2773673524, 'author': 'fw-bot', 'body': '@kcv-odoo @william-andre ci/runbot failed on this forward-port PR', 'created_at': datetime.datetime(2025, 1, 7, 20, 49, 24, tzinfo=datetime.timezone.utc)}, {'comment_id': 2576929137, 'issue_id': 2773673524, 'author': 'kcv-odoo', 'body': '@robodoo r+', 'created_at': datetime.datetime(2025, 1, 8, 7, 30, 11, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-07 20:26:04 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/192805.png)](https://mergebot.odoo.com/odoo/odoo/pull/192805)

fw-bot (Issue Creator) on (2025-01-07 20:26:04 UTC): @kcv-odoo @william-andre this PR targets master and is the last of the forward-port chain containing:
* odoo/odoo#192793

To merge the full chain, use

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

fw-bot (Issue Creator) on (2025-01-07 20:49:24 UTC): @kcv-odoo @william-andre ci/runbot failed on this forward-port PR

kcv-odoo on (2025-01-08 07:30:11 UTC): @robodoo r+

"
2773668941,pull_request,closed,,[FW][FIX] product: pricelist rule import,"Since recent changes to the pricelists rules, importing a rule with the 'Product Variant' field value specified but not the template field value led to incomplete rules not being displayed (and maybe not even behaving) as expected.

This commit makes sure that if the template was forgotten in the create values, it's correctly deduced from the given product.product record.

---
I confirm I have signed the CLA and read the PR guidelines at www.odoo.com/submit-pr

Forward-Port-Of: odoo/odoo#190543",fw-bot,2025-01-07 20:22:55+00:00,[],2025-01-23 13:03:30+00:00,2025-01-09 12:59:17+00:00,https://github.com/odoo/odoo/pull/192804,"[('RD', 'research & development, internal work'), ('forwardport', 'This PR was created by @fw-bot'), ('18.2', None)]","[{'comment_id': 2576154930, 'issue_id': 2773668941, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/192804.png)](https://mergebot.odoo.com/odoo/odoo/pull/192804)', 'created_at': datetime.datetime(2025, 1, 7, 20, 22, 56, tzinfo=datetime.timezone.utc)}, {'comment_id': 2576154951, 'issue_id': 2773668941, 'author': 'fw-bot', 'body': '@Feyensv this PR targets master and is the last of the forward-port chain containing:\n* odoo/odoo#192787\n\nTo merge the full chain, use\n> @robodoo r+\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 7, 20, 22, 57, tzinfo=datetime.timezone.utc)}, {'comment_id': 2579789734, 'issue_id': 2773668941, 'author': 'Feyensv', 'body': '@robodoo r+', 'created_at': datetime.datetime(2025, 1, 9, 10, 40, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-07 20:22:56 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/192804.png)](https://mergebot.odoo.com/odoo/odoo/pull/192804)

fw-bot (Issue Creator) on (2025-01-07 20:22:57 UTC): @Feyensv this PR targets master and is the last of the forward-port chain containing:
* odoo/odoo#192787

To merge the full chain, use

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

Feyensv on (2025-01-09 10:40:00 UTC): @robodoo r+

"
2773658386,pull_request,closed,,[FW][FIX] l10n_hu_edi: missing invoice number in new layouts,"Since the introduction of new layouts (e.g. folder), the
invoice number is not displayed in Hungary. This is because
the xpath is incorrect because the new layouts now have
two children instead of one.

The old ones only had one child node:

https://github.com/odoo/odoo/blob/4dad76c045f94861632929189baa96d69f662275/addons/web/views/report_templates.xml#L478-L506

Whereas the new ones have two:

https://github.com/odoo/odoo/blob/4dad76c045f94861632929189baa96d69f662275/addons/web/views/report_templates.xml#L535-L550

https://github.com/odoo/odoo/blob/4dad76c045f94861632929189baa96d69f662275/addons/web/views/report_templates.xml#L551-L579

So the problem with the current xpath is that it's replacing
both children, even though only the second one should be.
By 'replacing' the first one (by iffing it),
`layout_document_title` is not displayed anymore and therefore
no invoice number appears on the invoice.

To fix this, we use a different xpath on the `img` parent.
For consistency and maintainability reasons, we apply this
new xpath on all the layouts and not just the new ones.

opw-4397438

Forward-Port-Of: odoo/odoo#192650",fw-bot,2025-01-07 20:16:00+00:00,[],2025-01-22 10:10:17+00:00,2025-01-08 10:00:59+00:00,https://github.com/odoo/odoo/pull/192803,"[('OE', 'the report is linked to a support ticket (opw-...)'), ('forwardport', 'This PR was created by @fw-bot'), ('18.2', None)]","[{'comment_id': 2576144797, 'issue_id': 2773658386, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/192803.png)](https://mergebot.odoo.com/odoo/odoo/pull/192803)', 'created_at': datetime.datetime(2025, 1, 7, 20, 16, 1, tzinfo=datetime.timezone.utc)}, {'comment_id': 2576144812, 'issue_id': 2773658386, 'author': 'fw-bot', 'body': '@RicGR98 @jco-odoo this PR targets master and is the last of the forward-port chain containing:\n* odoo/odoo#192786\n\nTo merge the full chain, use\n> @robodoo r+\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 7, 20, 16, 2, tzinfo=datetime.timezone.utc)}, {'comment_id': 2576986376, 'issue_id': 2773658386, 'author': 'RicGR98', 'body': '@robodoo r+', 'created_at': datetime.datetime(2025, 1, 8, 8, 1, 18, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-07 20:16:01 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/192803.png)](https://mergebot.odoo.com/odoo/odoo/pull/192803)

fw-bot (Issue Creator) on (2025-01-07 20:16:02 UTC): @RicGR98 @jco-odoo this PR targets master and is the last of the forward-port chain containing:
* odoo/odoo#192786

To merge the full chain, use

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

RicGR98 on (2025-01-08 08:01:18 UTC): @robodoo r+

"
2773629562,pull_request,closed,,[FW][FIX] point_of_sale: prevent concurrent invoice creation from QR,"**Steps to reproduce:**
- Install point_of_sale and l10n_mx_edi
- Switch to a Mexican company (e.g. ESCUELA KEMPER URGATE)
- Create a product with an UNSPSC Category
- In POS settings, enable ""Use QR code on ticket"" option
- Open a POS session
- Make an orders with the created product (without invoice)
- Print the receipt
- Close the POS session
- Scan the QR code on the receipt with a mobile (Or just open the link retrieved from the QR code in a browser from the computer without being logged)
- Enter all the required data
- Click several times on ""Get my invoice"" button quickly to generate the invoice

**Issue:**
Several concurrent processes are executed to create the invoice. In the Mexican localization, an electronic invoice is also generated and signed.
However, an error is raised when trying to commit the electronic invoice document from the concurrent processes.
These errors prevents the normal flow to continue after the creation of the invoice and the reversal of the POS closing entry is not generated as expected.

**Solution:**
Disable the ""Get my invoice"" button when the form is submitted to prevent concurrent calls to the action.

opw-4399540




---
I confirm I have signed the CLA and read the PR guidelines at www.odoo.com/submit-pr

Forward-Port-Of: odoo/odoo#192016",fw-bot,2025-01-07 19:58:01+00:00,[],2025-01-22 08:15:22+00:00,2025-01-08 08:15:12+00:00,https://github.com/odoo/odoo/pull/192802,"[('OE', 'the report is linked to a support ticket (opw-...)'), ('forwardport', 'This PR was created by @fw-bot')]","[{'comment_id': 2576117087, 'issue_id': 2773629562, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/192802.png)](https://mergebot.odoo.com/odoo/odoo/pull/192802)', 'created_at': datetime.datetime(2025, 1, 7, 19, 58, 2, tzinfo=datetime.timezone.utc)}, {'comment_id': 2576117101, 'issue_id': 2773629562, 'author': 'fw-bot', 'body': 'This PR targets saas-17.4 and is part of the forward-port chain. Further PRs will be created up to master.\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 7, 19, 58, 3, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-07 19:58:02 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/192802.png)](https://mergebot.odoo.com/odoo/odoo/pull/192802)

fw-bot (Issue Creator) on (2025-01-07 19:58:03 UTC): This PR targets saas-17.4 and is part of the forward-port chain. Further PRs will be created up to master.

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

"
2773608076,pull_request,closed,,[FW][FIX] account: at-install tests without demo data,"runbot build error: 111129
Introduced by: 3fd42cfb29a06eab747c541568c1b472b8c7a0ad




---
I confirm I have signed the CLA and read the PR guidelines at www.odoo.com/submit-pr

Forward-Port-Of: odoo/odoo#192570",fw-bot,2025-01-07 19:45:46+00:00,[],2025-01-22 20:31:47+00:00,2025-01-08 19:37:51+00:00,https://github.com/odoo/odoo/pull/192801,"[('RD', 'research & development, internal work'), ('forwardport', 'This PR was created by @fw-bot'), ('18.2', None)]","[{'comment_id': 2576097747, 'issue_id': 2773608076, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/192801.png)](https://mergebot.odoo.com/odoo/odoo/pull/192801)', 'created_at': datetime.datetime(2025, 1, 7, 19, 45, 47, tzinfo=datetime.timezone.utc)}, {'comment_id': 2576097758, 'issue_id': 2773608076, 'author': 'fw-bot', 'body': '@Feyensv this PR targets master and is the last of the forward-port chain.\n\nTo merge the full chain, use\n> @robodoo r+\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 7, 19, 45, 48, tzinfo=datetime.timezone.utc)}, {'comment_id': 2577986713, 'issue_id': 2773608076, 'author': 'Williambraecky', 'body': 'robodoo r+\r\n🥷', 'created_at': datetime.datetime(2025, 1, 8, 15, 39, 36, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-07 19:45:47 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/192801.png)](https://mergebot.odoo.com/odoo/odoo/pull/192801)

fw-bot (Issue Creator) on (2025-01-07 19:45:48 UTC): @Feyensv this PR targets master and is the last of the forward-port chain.

To merge the full chain, use

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

Williambraecky on (2025-01-08 15:39:36 UTC): robodoo r+
🥷

"
2773607652,pull_request,closed,,[FW][IMP] im_livechat: update thread name and avatar after forward,"This PR updates the thread name and avatar after forwarding a visitor to an operator to reflect those changes as it feels more natural.

task-4432728

Description of the issue/feature this PR addresses:

Current behavior before PR:

Desired behavior after PR is merged:




---
I confirm I have signed the CLA and read the PR guidelines at www.odoo.com/submit-pr

Forward-Port-Of: odoo/odoo#191772",fw-bot,2025-01-07 19:45:30+00:00,[],2025-01-22 13:00:58+00:00,2025-01-08 13:01:00+00:00,https://github.com/odoo/odoo/pull/192800,"[('RD', 'research & development, internal work'), ('forwardport', 'This PR was created by @fw-bot'), ('18.2', None)]","[{'comment_id': 2576097356, 'issue_id': 2773607652, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/192800.png)](https://mergebot.odoo.com/odoo/odoo/pull/192800)', 'created_at': datetime.datetime(2025, 1, 7, 19, 45, 32, tzinfo=datetime.timezone.utc)}, {'comment_id': 2576097393, 'issue_id': 2773607652, 'author': 'fw-bot', 'body': '@tsm-odoo @seb-odoo this PR targets master and is the last of the forward-port chain.\n\nTo merge the full chain, use\n> @robodoo r+\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 7, 19, 45, 33, tzinfo=datetime.timezone.utc)}, {'comment_id': 2576111511, 'issue_id': 2773607652, 'author': 'seb-odoo', 'body': '@robodoo r+', 'created_at': datetime.datetime(2025, 1, 7, 19, 54, 23, tzinfo=datetime.timezone.utc)}, {'comment_id': 2576463254, 'issue_id': 2773607652, 'author': 'robodoo', 'body': '@tsm-odoo @seb-odoo staging failed: timed out (>120 minutes)', 'created_at': datetime.datetime(2025, 1, 8, 0, 15, 59, tzinfo=datetime.timezone.utc)}, {'comment_id': 2577279580, 'issue_id': 2773607652, 'author': 'seb-odoo', 'body': '@robodoo retry', 'created_at': datetime.datetime(2025, 1, 8, 10, 6, 30, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-07 19:45:32 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/192800.png)](https://mergebot.odoo.com/odoo/odoo/pull/192800)

fw-bot (Issue Creator) on (2025-01-07 19:45:33 UTC): @tsm-odoo @seb-odoo this PR targets master and is the last of the forward-port chain.

To merge the full chain, use

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

seb-odoo on (2025-01-07 19:54:23 UTC): @robodoo r+

robodoo on (2025-01-08 00:15:59 UTC): @tsm-odoo @seb-odoo staging failed: timed out (>120 minutes)

seb-odoo on (2025-01-08 10:06:30 UTC): @robodoo retry

"
2773600938,pull_request,closed,,[FW][FIX] purchase_stock: adjust button layout,"In Odoo, an issue araised where the ""Expected Arrival"" date field was overlapped when zooming in. This was due to the button ""action_purchase_vendor_delay_report"".

To adress this, the related button was encapsulated within a <div> element. This change ensure that the layout remains consistent and the elements does not overlap regardless of the zoom level.

opw-4316093

---
I confirm I have signed the CLA and read the PR guidelines at www.odoo.com/submit-pr

Forward-Port-Of: odoo/odoo#187179",fw-bot,2025-01-07 19:41:41+00:00,[],2025-01-24 07:59:38+00:00,2025-01-10 07:56:07+00:00,https://github.com/odoo/odoo/pull/192799,"[('OE', 'the report is linked to a support ticket (opw-...)'), ('forwardport', 'This PR was created by @fw-bot'), ('conflict', 'There was an error while creating this forward-port PR')]","[{'comment_id': 2576090911, 'issue_id': 2773600938, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/192799.png)](https://mergebot.odoo.com/odoo/odoo/pull/192799)', 'created_at': datetime.datetime(2025, 1, 7, 19, 41, 42, tzinfo=datetime.timezone.utc)}, {'comment_id': 2576090980, 'issue_id': 2773600938, 'author': 'fw-bot', 'body': '@jaeschwa @svs-odoo cherrypicking of pull request odoo/odoo#187179 failed.\n\nstdout:\n```\nAuto-merging addons/purchase_stock/views/purchase_views.xml\nCONFLICT (content): Merge conflict in addons/purchase_stock/views/purchase_views.xml\n\n```\n\nEither perform the forward-port manually (and push to this branch, proceeding as usual) or close this PR (maybe?).\n\nIn the former case, you may want to edit this PR message as well.\n\n:warning: after resolving this conflict, you will need to merge it via @robodoo.\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 7, 19, 41, 44, tzinfo=datetime.timezone.utc)}, {'comment_id': 2581893715, 'issue_id': 2773600938, 'author': 'jaeschwa', 'body': '@robodoo r+', 'created_at': datetime.datetime(2025, 1, 10, 6, 36, 21, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-07 19:41:42 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/192799.png)](https://mergebot.odoo.com/odoo/odoo/pull/192799)

fw-bot (Issue Creator) on (2025-01-07 19:41:44 UTC): @jaeschwa @svs-odoo cherrypicking of pull request odoo/odoo#187179 failed.

stdout:
```
Auto-merging addons/purchase_stock/views/purchase_views.xml
CONFLICT (content): Merge conflict in addons/purchase_stock/views/purchase_views.xml

```

Either perform the forward-port manually (and push to this branch, proceeding as usual) or close this PR (maybe?).

In the former case, you may want to edit this PR message as well.

:warning: after resolving this conflict, you will need to merge it via @robodoo.

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

jaeschwa on (2025-01-10 06:36:21 UTC): @robodoo r+

"
2773597970,pull_request,closed,,[FW][FIX] point_of_sale: remove custom properties 'nodestroy' to avoid warning,"-This commit remove custom properties 'nodestroy' to avoid warning like this: `odoo.addons.web.controllers.utils: Action 'Customer Invoice' contains custom properties 'nodestroy'`. Passing them via the `params` or `context` properties is recommended instead

Description of the issue/feature this PR addresses:

Current behavior before PR:

Desired behavior after PR is merged:




---
I confirm I have signed the CLA and read the PR guidelines at www.odoo.com/submit-pr

Forward-Port-Of: odoo/odoo#161814",fw-bot,2025-01-07 19:39:43+00:00,[],2025-02-06 09:00:27+00:00,2025-01-23 08:44:00+00:00,https://github.com/odoo/odoo/pull/192798,"[('RD', 'research & development, internal work'), ('forwardport', 'This PR was created by @fw-bot')]","[{'comment_id': 2576087568, 'issue_id': 2773597970, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/192798.png)](https://mergebot.odoo.com/odoo/odoo/pull/192798)', 'created_at': datetime.datetime(2025, 1, 7, 19, 39, 44, tzinfo=datetime.timezone.utc)}, {'comment_id': 2576087578, 'issue_id': 2773597970, 'author': 'fw-bot', 'body': 'This PR targets 18.0 and is part of the forward-port chain. Further PRs will be created up to master.\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 7, 19, 39, 45, tzinfo=datetime.timezone.utc)}, {'comment_id': 2607345541, 'issue_id': 2773597970, 'author': 'davidmonnom', 'body': '@robodoo r+', 'created_at': datetime.datetime(2025, 1, 22, 14, 7, 56, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-07 19:39:44 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/192798.png)](https://mergebot.odoo.com/odoo/odoo/pull/192798)

fw-bot (Issue Creator) on (2025-01-07 19:39:45 UTC): This PR targets 18.0 and is part of the forward-port chain. Further PRs will be created up to master.

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

davidmonnom on (2025-01-22 14:07:56 UTC): @robodoo r+

"
2773594978,pull_request,closed,,"[FW][FIX] im_livechat, website_livechat: handle optional message.thread","On small displays, starting a new website livechat with an operator that has an `user_livechat_username` crashes when rendering the username.

Steps to reproduce
-----
1. Select User Menu Icon > My Profile / Preferences > enter an Online Chat Name
2. On a mobile device or small window, open the livechat on the website
3. Send any new message
4. The following traceback occurs
```
Caused by: TypeError: Cannot read properties of undefined (reading 'channel_type')
    at get authorName
```

Cause
-----
On small displays, `thread` for the default operator message becomes undefined when it is reassigned to the new thread. This causes an error in `get authorName()` when the undefined `thread` is accessed directly to detemine the displayed username.

Solution
-----
Add an optional chain (?) when accessing `this.message.thread` to handle the possible nullish value.

opw-4446208

Backport of odoo/odoo#192605

Forward-Port-Of: odoo/odoo#192739",fw-bot,2025-01-07 19:37:47+00:00,[],2025-01-08 10:31:45+00:00,2025-01-08 01:28:17+00:00,https://github.com/odoo/odoo/pull/192797,"[('OE', 'the report is linked to a support ticket (opw-...)'), ('forwardport', 'This PR was created by @fw-bot')]","[{'comment_id': 2576084268, 'issue_id': 2773594978, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/192797.png)](https://mergebot.odoo.com/odoo/odoo/pull/192797)', 'created_at': datetime.datetime(2025, 1, 7, 19, 37, 48, tzinfo=datetime.timezone.utc)}, {'comment_id': 2576084291, 'issue_id': 2773594978, 'author': 'fw-bot', 'body': 'This PR targets saas-17.4 and is part of the forward-port chain. Further PRs will be created up to master.\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 7, 19, 37, 49, tzinfo=datetime.timezone.utc)}, {'comment_id': 2576194676, 'issue_id': 2773594978, 'author': 'fw-bot', 'body': '@juwu-odoo @alexkuhn the next pull request (odoo/odoo#192809) is in conflict. You can merge the chain up to here by saying\n> @robodoo r+\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 7, 20, 49, 40, tzinfo=datetime.timezone.utc)}, {'comment_id': 2576449240, 'issue_id': 2773594978, 'author': 'juwu-odoo', 'body': '@robodoo r+', 'created_at': datetime.datetime(2025, 1, 8, 0, 1, 27, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-07 19:37:48 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/192797.png)](https://mergebot.odoo.com/odoo/odoo/pull/192797)

fw-bot (Issue Creator) on (2025-01-07 19:37:49 UTC): This PR targets saas-17.4 and is part of the forward-port chain. Further PRs will be created up to master.

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

fw-bot (Issue Creator) on (2025-01-07 20:49:40 UTC): @juwu-odoo @alexkuhn the next pull request (odoo/odoo#192809) is in conflict. You can merge the chain up to here by saying

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

juwu-odoo on (2025-01-08 00:01:27 UTC): @robodoo r+

"
2773591087,pull_request,closed,,[FW][FIX] point_of_sale: kitchen receipt long name,"When printing long product names with long variants, the lines were overlapping.

Steps to reproduce:
-------------------
* Create a product with some long variant names
* Setup a kitchen printer
* Add the order to a PoS order
* Print the order on the kitchen printer
> Observation: The product name and variant name are overlapping

Before:
![before](https://github.com/user-attachments/assets/d16022b0-4f87-48aa-adc4-1c246b173431)


After:
![after](https://github.com/user-attachments/assets/495632de-e4d2-424c-b19d-fb386a3eb356)


opw-4414311

Forward-Port-Of: odoo/odoo#192690
Forward-Port-Of: odoo/odoo#192544",fw-bot,2025-01-07 19:35:18+00:00,[],2025-01-22 20:31:42+00:00,2025-01-08 19:30:32+00:00,https://github.com/odoo/odoo/pull/192796,"[('OE', 'the report is linked to a support ticket (opw-...)'), ('forwardport', 'This PR was created by @fw-bot')]","[{'comment_id': 2576080269, 'issue_id': 2773591087, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/192796.png)](https://mergebot.odoo.com/odoo/odoo/pull/192796)', 'created_at': datetime.datetime(2025, 1, 7, 19, 35, 19, tzinfo=datetime.timezone.utc)}, {'comment_id': 2576080290, 'issue_id': 2773591087, 'author': 'fw-bot', 'body': 'This PR targets 18.0 and is part of the forward-port chain. Further PRs will be created up to master.\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 7, 19, 35, 20, tzinfo=datetime.timezone.utc)}, {'comment_id': 2576212714, 'issue_id': 2773591087, 'author': 'fw-bot', 'body': '@robinengels @adgu-odoo the next pull request (odoo/odoo#192810) is in conflict. You can merge the chain up to here by saying\n> @robodoo r+\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 7, 21, 1, 34, tzinfo=datetime.timezone.utc)}, {'comment_id': 2578094674, 'issue_id': 2773591087, 'author': 'robinengels', 'body': '@robodoo r+', 'created_at': datetime.datetime(2025, 1, 8, 16, 24, 53, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-07 19:35:19 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/192796.png)](https://mergebot.odoo.com/odoo/odoo/pull/192796)

fw-bot (Issue Creator) on (2025-01-07 19:35:20 UTC): This PR targets 18.0 and is part of the forward-port chain. Further PRs will be created up to master.

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

fw-bot (Issue Creator) on (2025-01-07 21:01:34 UTC): @robinengels @adgu-odoo the next pull request (odoo/odoo#192810) is in conflict. You can merge the chain up to here by saying

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

robinengels on (2025-01-08 16:24:53 UTC): @robodoo r+

"
2773580148,pull_request,closed,,[FW][FIX] point_of_sale: ensure invoice is paid when invoicing,"Before this commit, if a payment method requiring customer identification was used for an order in Point of Sale but the order was not immediately invoiced, closing the session and later invoicing the order in a new session would result in the invoice being marked as unpaid.

opw-4292231

---
I confirm I have signed the CLA and read the PR guidelines at www.odoo.com/submit-pr

Forward-Port-Of: odoo/odoo#187759",fw-bot,2025-01-07 19:28:40+00:00,[],2025-01-28 15:36:56+00:00,2025-01-14 15:13:12+00:00,https://github.com/odoo/odoo/pull/192795,"[('OE', 'the report is linked to a support ticket (opw-...)'), ('forwardport', 'This PR was created by @fw-bot')]","[{'comment_id': 2576068286, 'issue_id': 2773580148, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/192795.png)](https://mergebot.odoo.com/odoo/odoo/pull/192795)', 'created_at': datetime.datetime(2025, 1, 7, 19, 28, 41, tzinfo=datetime.timezone.utc)}, {'comment_id': 2576068366, 'issue_id': 2773580148, 'author': 'fw-bot', 'body': 'This PR targets 18.0 and is part of the forward-port chain. Further PRs will be created up to master.\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 7, 19, 28, 42, tzinfo=datetime.timezone.utc)}, {'comment_id': 2576161080, 'issue_id': 2773580148, 'author': 'fw-bot', 'body': '@pedrambiria @caburj ci/runbot failed on this forward-port PR', 'created_at': datetime.datetime(2025, 1, 7, 20, 27, 12, tzinfo=datetime.timezone.utc)}, {'comment_id': 2585000653, 'issue_id': 2773580148, 'author': 'fw-bot', 'body': '@pedrambiria @caburj this forward port of odoo/odoo#187759 is awaiting action (not merged or closed).', 'created_at': datetime.datetime(2025, 1, 11, 2, 1, 41, tzinfo=datetime.timezone.utc)}, {'comment_id': 2585541941, 'issue_id': 2773580148, 'author': 'fw-bot', 'body': '@pedrambiria @caburj this forward port of odoo/odoo#187759 is awaiting action (not merged or closed).', 'created_at': datetime.datetime(2025, 1, 12, 2, 2, 13, tzinfo=datetime.timezone.utc)}, {'comment_id': 2586047623, 'issue_id': 2773580148, 'author': 'fw-bot', 'body': '@pedrambiria @caburj this forward port of odoo/odoo#187759 is awaiting action (not merged or closed).', 'created_at': datetime.datetime(2025, 1, 13, 2, 2, 52, tzinfo=datetime.timezone.utc)}, {'comment_id': 2588621059, 'issue_id': 2773580148, 'author': 'fw-bot', 'body': '@pedrambiria @caburj this forward port of odoo/odoo#187759 is awaiting action (not merged or closed).', 'created_at': datetime.datetime(2025, 1, 14, 2, 2, 13, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-07 19:28:41 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/192795.png)](https://mergebot.odoo.com/odoo/odoo/pull/192795)

fw-bot (Issue Creator) on (2025-01-07 19:28:42 UTC): This PR targets 18.0 and is part of the forward-port chain. Further PRs will be created up to master.

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

fw-bot (Issue Creator) on (2025-01-07 20:27:12 UTC): @pedrambiria @caburj ci/runbot failed on this forward-port PR

fw-bot (Issue Creator) on (2025-01-11 02:01:41 UTC): @pedrambiria @caburj this forward port of odoo/odoo#187759 is awaiting action (not merged or closed).

fw-bot (Issue Creator) on (2025-01-12 02:02:13 UTC): @pedrambiria @caburj this forward port of odoo/odoo#187759 is awaiting action (not merged or closed).

fw-bot (Issue Creator) on (2025-01-13 02:02:52 UTC): @pedrambiria @caburj this forward port of odoo/odoo#187759 is awaiting action (not merged or closed).

fw-bot (Issue Creator) on (2025-01-14 02:02:13 UTC): @pedrambiria @caburj this forward port of odoo/odoo#187759 is awaiting action (not merged or closed).

"
2773546117,pull_request,closed,,[FW][FIX] account_peppol: Fix external calls from tests,"Context:
In Peppol, we have multiple EDI mode:
- `production` that will call the real Peppol infrastructure,
- `test` that will call the sandbox Peppol,
- `demo` that makes no call at all, everything is mocked.

By default, runbots and demo data are set to `demo`. In tests, the value is therefore also `demo`, which is what we want: No call to external services.

Before this commit, we were doing some weird and useless override in the handling of demo functions, which is useless: if you want to test Odoo in a particular mode, just set it (this is what we do in Peppol tests' `setUpClass`), for all other tests, keeping the default demo mode should be preferred.

This was a problem because tests ran by other modules with Peppol installed were trying to make external calls.

task-no

Forward-Port-Of: odoo/odoo#192560",fw-bot,2025-01-07 19:07:44+00:00,[],2025-01-22 14:39:27+00:00,2025-01-08 14:32:38+00:00,https://github.com/odoo/odoo/pull/192794,"[('RD', 'research & development, internal work'), ('forwardport', 'This PR was created by @fw-bot'), ('conflict', 'There was an error while creating this forward-port PR')]","[{'comment_id': 2576031040, 'issue_id': 2773546117, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/192794.png)](https://mergebot.odoo.com/odoo/odoo/pull/192794)', 'created_at': datetime.datetime(2025, 1, 7, 19, 7, 45, tzinfo=datetime.timezone.utc)}, {'comment_id': 2576031053, 'issue_id': 2773546117, 'author': 'fw-bot', 'body': '@clbr-odoo @william-andre cherrypicking of pull request odoo/odoo#192560 failed.\n\nstdout:\n```\nAuto-merging addons/account_peppol/tools/demo_utils.py\nAuto-merging addons/l10n_account_edi_ubl_cii_tests/tests/test_xml_ubl_be.py\nCONFLICT (content): Merge conflict in addons/l10n_account_edi_ubl_cii_tests/tests/test_xml_ubl_be.py\n\n```\n\nEither perform the forward-port manually (and push to this branch, proceeding as usual) or close this PR (maybe?).\n\nIn the former case, you may want to edit this PR message as well.\n\n:warning: after resolving this conflict, you will need to merge it via @robodoo.\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 7, 19, 7, 46, tzinfo=datetime.timezone.utc)}, {'comment_id': 2576921502, 'issue_id': 2773546117, 'author': 'clbr-odoo', 'body': '@robodoo r+', 'created_at': datetime.datetime(2025, 1, 8, 7, 26, 17, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-07 19:07:45 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/192794.png)](https://mergebot.odoo.com/odoo/odoo/pull/192794)

fw-bot (Issue Creator) on (2025-01-07 19:07:46 UTC): @clbr-odoo @william-andre cherrypicking of pull request odoo/odoo#192560 failed.

stdout:
```
Auto-merging addons/account_peppol/tools/demo_utils.py
Auto-merging addons/l10n_account_edi_ubl_cii_tests/tests/test_xml_ubl_be.py
CONFLICT (content): Merge conflict in addons/l10n_account_edi_ubl_cii_tests/tests/test_xml_ubl_be.py

```

Either perform the forward-port manually (and push to this branch, proceeding as usual) or close this PR (maybe?).

In the former case, you may want to edit this PR message as well.

:warning: after resolving this conflict, you will need to merge it via @robodoo.

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

clbr-odoo on (2025-01-08 07:26:17 UTC): @robodoo r+

"
2773545715,pull_request,closed,,[FW][IMP] account_edi_ubl_cii: move invoice related code in specific method,"Steps:
- Install sale app.
- Upload PO field which contain EDI data.

Issue:
- Order is not imported properly and giving error.

Cause:
- When `_retrieve_line_vals` call from order edi it should
not contain invoice related values but when `account.move.line`
has `deferred_start_date` and `deferred_end_date` it return
those field even it called from order edi and SOL does not
contain those fields

Fix:
- Move invoice related specific code in other method and only
keep generic code which can be used in both invoice and order
in generic method to ensure there is no invoice flow impacted
by order edi and vice versa.

Issued PR: https://github.com/odoo/odoo/pull/191487

Forward-Port-Of: odoo/odoo#192278",fw-bot,2025-01-07 19:07:29+00:00,[],2025-01-22 13:23:18+00:00,2025-01-08 13:04:01+00:00,https://github.com/odoo/odoo/pull/192793,"[('RD', 'research & development, internal work'), ('forwardport', 'This PR was created by @fw-bot')]","[{'comment_id': 2576030620, 'issue_id': 2773545715, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/192793.png)](https://mergebot.odoo.com/odoo/odoo/pull/192793)', 'created_at': datetime.datetime(2025, 1, 7, 19, 7, 30, tzinfo=datetime.timezone.utc)}, {'comment_id': 2576030644, 'issue_id': 2773545715, 'author': 'fw-bot', 'body': 'This PR targets saas-18.1 and is part of the forward-port chain. Further PRs will be created up to master.\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 7, 19, 7, 31, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-07 19:07:30 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/192793.png)](https://mergebot.odoo.com/odoo/odoo/pull/192793)

fw-bot (Issue Creator) on (2025-01-07 19:07:31 UTC): This PR targets saas-18.1 and is part of the forward-port chain. Further PRs will be created up to master.

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

"
2773545183,pull_request,closed,,[FW][FIX] html_editor: move nodes when collaborator on same node,"Description of the issue this PR addresses:

Current behavior before PR:

It was not possible to use the move node handler when the collaborator is on the same node, because the collaboration avatar is hidden using opacity 0 which still allowed the avatar to be selectable.

Desired behavior after PR is merged:

Hide the collaboration avatar using visibility hidden, ensuring it is not selectable.

task-4348275

---
I confirm I have signed the CLA and read the PR guidelines at www.odoo.com/submit-pr

Forward-Port-Of: odoo/odoo#190795",fw-bot,2025-01-07 19:07:13+00:00,[],2025-01-22 08:34:36+00:00,2025-01-08 08:30:25+00:00,https://github.com/odoo/odoo/pull/192792,"[('RD', 'research & development, internal work'), ('forwardport', 'This PR was created by @fw-bot')]","[{'comment_id': 2576030195, 'issue_id': 2773545183, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/192792.png)](https://mergebot.odoo.com/odoo/odoo/pull/192792)', 'created_at': datetime.datetime(2025, 1, 7, 19, 7, 15, tzinfo=datetime.timezone.utc)}, {'comment_id': 2576030223, 'issue_id': 2773545183, 'author': 'fw-bot', 'body': 'This PR targets saas-18.1 and is part of the forward-port chain. Further PRs will be created up to master.\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 7, 19, 7, 15, tzinfo=datetime.timezone.utc)}, {'comment_id': 2576070094, 'issue_id': 2773545183, 'author': 'fw-bot', 'body': '@deso-odoo @dmo-odoo ci/runbot failed on this forward-port PR', 'created_at': datetime.datetime(2025, 1, 7, 19, 29, 13, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-07 19:07:15 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/192792.png)](https://mergebot.odoo.com/odoo/odoo/pull/192792)

fw-bot (Issue Creator) on (2025-01-07 19:07:15 UTC): This PR targets saas-18.1 and is part of the forward-port chain. Further PRs will be created up to master.

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

fw-bot (Issue Creator) on (2025-01-07 19:29:13 UTC): @deso-odoo @dmo-odoo ci/runbot failed on this forward-port PR

"
2773544791,pull_request,closed,,[FW][FIX] html_editor: outdent list item with empty nodes,"[FIX] html_editor: space removal by  wrapInlinesInBlocks <- fix required for the following one
[FIX] html_editor: outdent list item with empty nodes

task-4398327

Forward-Port-Of: odoo/odoo#190484",fw-bot,2025-01-07 19:06:58+00:00,[],2025-01-22 15:58:06+00:00,2025-01-08 15:58:11+00:00,https://github.com/odoo/odoo/pull/192791,"[('RD', 'research & development, internal work'), ('forwardport', 'This PR was created by @fw-bot'), ('conflict', 'There was an error while creating this forward-port PR')]","[{'comment_id': 2576029764, 'issue_id': 2773544791, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/192791.png)](https://mergebot.odoo.com/odoo/odoo/pull/192791)', 'created_at': datetime.datetime(2025, 1, 7, 19, 6, 59, tzinfo=datetime.timezone.utc)}, {'comment_id': 2576029787, 'issue_id': 2773544791, 'author': 'fw-bot', 'body': '@cammarosano @dmo-odoo cherrypicking of pull request odoo/odoo#190484 failed.\n\n* c0b1a3375c088729d2f844850a82171ab2ed6152\n* 16b1d6afbc0e346ee57da6305e394288bb3b4c7a <- on this commit\n\nstdout:\n```\nAuto-merging addons/html_editor/static/src/main/list/list_plugin.js\nCONFLICT (content): Merge conflict in addons/html_editor/static/src/main/list/list_plugin.js\n\n```\n\nEither perform the forward-port manually (and push to this branch, proceeding as usual) or close this PR (maybe?).\n\nIn the former case, you may want to edit this PR message as well.\n\n:warning: after resolving this conflict, you will need to merge it via @robodoo.\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 7, 19, 7, tzinfo=datetime.timezone.utc)}, {'comment_id': 2577625889, 'issue_id': 2773544791, 'author': 'cammarosano', 'body': '@dmo-odoo Conflict resolved.', 'created_at': datetime.datetime(2025, 1, 8, 13, 4, 51, tzinfo=datetime.timezone.utc)}, {'comment_id': 2577635228, 'issue_id': 2773544791, 'author': 'dmo-odoo', 'body': '@robodoo rebase-ff r+', 'created_at': datetime.datetime(2025, 1, 8, 13, 9, 29, tzinfo=datetime.timezone.utc)}, {'comment_id': 2577635323, 'issue_id': 2773544791, 'author': 'robodoo', 'body': 'Merge method set to rebase and fast-forward.', 'created_at': datetime.datetime(2025, 1, 8, 13, 9, 31, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-07 19:06:59 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/192791.png)](https://mergebot.odoo.com/odoo/odoo/pull/192791)

fw-bot (Issue Creator) on (2025-01-07 19:07:00 UTC): @cammarosano @dmo-odoo cherrypicking of pull request odoo/odoo#190484 failed.

* c0b1a3375c088729d2f844850a82171ab2ed6152
* 16b1d6afbc0e346ee57da6305e394288bb3b4c7a <- on this commit

stdout:
```
Auto-merging addons/html_editor/static/src/main/list/list_plugin.js
CONFLICT (content): Merge conflict in addons/html_editor/static/src/main/list/list_plugin.js

```

Either perform the forward-port manually (and push to this branch, proceeding as usual) or close this PR (maybe?).

In the former case, you may want to edit this PR message as well.

:warning: after resolving this conflict, you will need to merge it via @robodoo.

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

cammarosano on (2025-01-08 13:04:51 UTC): @dmo-odoo Conflict resolved.

dmo-odoo on (2025-01-08 13:09:29 UTC): @robodoo rebase-ff r+

robodoo on (2025-01-08 13:09:31 UTC): Merge method set to rebase and fast-forward.

"
2773544426,pull_request,closed,,[FW][FIX] sale: disabled price edition,"The new `technical_price_unit` logic was introduced to reduce/prevent unexpected price recomputations when the price is manually updated on sale order lines.

Nevertheless, if the price_unit field is made readonly (through studio or any custom view ...), the price would stop being sent to the server by the client, resulting in zero-priced amounts because the presence of the technical price discarded the price recomputation, leading to the default 0 value.

This commit makes sure that in this situation, the technical price sent by the client is dropped, ensuring that the price is correctly computed.

opw-4319211

Forward-Port-Of: odoo/odoo#190273",fw-bot,2025-01-07 19:06:43+00:00,[],2025-01-23 17:23:45+00:00,2025-01-09 17:17:25+00:00,https://github.com/odoo/odoo/pull/192790,"[('OE', 'the report is linked to a support ticket (opw-...)'), ('forwardport', 'This PR was created by @fw-bot'), ('conflict', 'There was an error while creating this forward-port PR')]","[{'comment_id': 2576029366, 'issue_id': 2773544426, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/192790.png)](https://mergebot.odoo.com/odoo/odoo/pull/192790)', 'created_at': datetime.datetime(2025, 1, 7, 19, 6, 44, tzinfo=datetime.timezone.utc)}, {'comment_id': 2576029379, 'issue_id': 2773544426, 'author': 'fw-bot', 'body': '@Feyensv cherrypicking of pull request odoo/odoo#190273 failed.\n\nstdout:\n```\nAuto-merging addons/sale/models/sale_order_line.py\nCONFLICT (content): Merge conflict in addons/sale/models/sale_order_line.py\nAuto-merging addons/sale/tests/test_sale_order.py\n\n```\n\nEither perform the forward-port manually (and push to this branch, proceeding as usual) or close this PR (maybe?).\n\nIn the former case, you may want to edit this PR message as well.\n\n:warning: after resolving this conflict, you will need to merge it via @robodoo.\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 7, 19, 6, 45, tzinfo=datetime.timezone.utc)}, {'comment_id': 2580111652, 'issue_id': 2773544426, 'author': 'Feyensv', 'body': '@robodoo r+', 'created_at': datetime.datetime(2025, 1, 9, 13, 6, 35, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-07 19:06:44 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/192790.png)](https://mergebot.odoo.com/odoo/odoo/pull/192790)

fw-bot (Issue Creator) on (2025-01-07 19:06:45 UTC): @Feyensv cherrypicking of pull request odoo/odoo#190273 failed.

stdout:
```
Auto-merging addons/sale/models/sale_order_line.py
CONFLICT (content): Merge conflict in addons/sale/models/sale_order_line.py
Auto-merging addons/sale/tests/test_sale_order.py

```

Either perform the forward-port manually (and push to this branch, proceeding as usual) or close this PR (maybe?).

In the former case, you may want to edit this PR message as well.

:warning: after resolving this conflict, you will need to merge it via @robodoo.

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

Feyensv on (2025-01-09 13:06:35 UTC): @robodoo r+

"
2773544036,pull_request,closed,,[FW][FIX] account: bank statement download action,"In Bank Statement list view users may select a statement and
download a pdf report. However, currently, users have 2 download action,
one of which is downloading a seemingly random account move

Steps to reproduce:
- In Accounting Dashboard, from a bank journal card, 3 dots > Statements
- Select a line
- Download > PDF

Issue: PDF target is loaded via the `loadExtraPrintItems` method
However, the request is done to the `account.move` model using the id of
the bank statement, so it may retrieve an invoice, or fail

Note: Download > Statement is working properly

A solution is to avoid loading extra print item with loadExtraPrintItems
if we are not in the `account.move` model

opw-4388554

Forward-Port-Of: odoo/odoo#192346",fw-bot,2025-01-07 19:06:27+00:00,[],2025-01-08 08:45:31+00:00,2025-01-08 08:45:31+00:00,https://github.com/odoo/odoo/pull/192789,"[('OE', 'the report is linked to a support ticket (opw-...)'), ('forwardport', 'This PR was created by @fw-bot'), ('conflict', 'There was an error while creating this forward-port PR')]","[{'comment_id': 2576029073, 'issue_id': 2773544036, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/192789.png)](https://mergebot.odoo.com/odoo/odoo/pull/192789)', 'created_at': datetime.datetime(2025, 1, 7, 19, 6, 33, tzinfo=datetime.timezone.utc)}, {'comment_id': 2576029097, 'issue_id': 2773544036, 'author': 'fw-bot', 'body': '@agr-odoo @oco-odoo cherrypicking of pull request odoo/odoo#192346 failed.\n\nstdout:\n```\nAuto-merging addons/account/static/src/views/account_move_list/account_move_list_controller.js\nCONFLICT (content): Merge conflict in addons/account/static/src/views/account_move_list/account_move_list_controller.js\n\n```\n\nEither perform the forward-port manually (and push to this branch, proceeding as usual) or close this PR (maybe?).\n\nIn the former case, you may want to edit this PR message as well.\n\n:warning: after resolving this conflict, you will need to merge it via @robodoo.\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 7, 19, 6, 34, tzinfo=datetime.timezone.utc)}, {'comment_id': 2577098992, 'issue_id': 2773544036, 'author': 'agr-odoo', 'body': 'Not needed after refactoring\r\n7ad7a1d976391e81eaa03be7076cc61f4a6cfcbe\r\n@robodoo close', 'created_at': datetime.datetime(2025, 1, 8, 8, 45, 28, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-07 19:06:33 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/192789.png)](https://mergebot.odoo.com/odoo/odoo/pull/192789)

fw-bot (Issue Creator) on (2025-01-07 19:06:34 UTC): @agr-odoo @oco-odoo cherrypicking of pull request odoo/odoo#192346 failed.

stdout:
```
Auto-merging addons/account/static/src/views/account_move_list/account_move_list_controller.js
CONFLICT (content): Merge conflict in addons/account/static/src/views/account_move_list/account_move_list_controller.js

```

Either perform the forward-port manually (and push to this branch, proceeding as usual) or close this PR (maybe?).

In the former case, you may want to edit this PR message as well.

:warning: after resolving this conflict, you will need to merge it via @robodoo.

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

agr-odoo on (2025-01-08 08:45:28 UTC): Not needed after refactoring
7ad7a1d976391e81eaa03be7076cc61f4a6cfcbe
@robodoo close

"
2773543604,pull_request,closed,,[FW][FIX] point_of_sale: show search when going back from payment,"Before this commit, when going back from the payment screen to the product screen, the search bar wasn't visible.

opw-4318710

---
I confirm I have signed the CLA and read the PR guidelines at www.odoo.com/submit-pr

Forward-Port-Of: odoo/odoo#188058",fw-bot,2025-01-07 19:06:11+00:00,[],2025-01-22 14:39:30+00:00,2025-01-08 14:32:54+00:00,https://github.com/odoo/odoo/pull/192788,"[('OE', 'the report is linked to a support ticket (opw-...)'), ('forwardport', 'This PR was created by @fw-bot')]","[{'comment_id': 2576029034, 'issue_id': 2773543604, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/192788.png)](https://mergebot.odoo.com/odoo/odoo/pull/192788)', 'created_at': datetime.datetime(2025, 1, 7, 19, 6, 32, tzinfo=datetime.timezone.utc)}, {'comment_id': 2576029056, 'issue_id': 2773543604, 'author': 'fw-bot', 'body': 'This PR targets saas-18.1 and is part of the forward-port chain. Further PRs will be created up to master.\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 7, 19, 6, 33, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-07 19:06:32 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/192788.png)](https://mergebot.odoo.com/odoo/odoo/pull/192788)

fw-bot (Issue Creator) on (2025-01-07 19:06:33 UTC): This PR targets saas-18.1 and is part of the forward-port chain. Further PRs will be created up to master.

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

"
2773543141,pull_request,closed,,[FW][FIX] product: pricelist rule import,"Since recent changes to the pricelists rules, importing a rule with the 'Product Variant' field value specified but not the template field value led to incomplete rules not being displayed (and maybe not even behaving) as expected.

This commit makes sure that if the template was forgotten in the create values, it's correctly deduced from the given product.product record.

---
I confirm I have signed the CLA and read the PR guidelines at www.odoo.com/submit-pr

Forward-Port-Of: odoo/odoo#190543",fw-bot,2025-01-07 19:05:53+00:00,[],2025-01-23 12:49:10+00:00,2025-01-09 12:49:10+00:00,https://github.com/odoo/odoo/pull/192787,"[('RD', 'research & development, internal work'), ('forwardport', 'This PR was created by @fw-bot')]","[{'comment_id': 2576028997, 'issue_id': 2773543141, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/192787.png)](https://mergebot.odoo.com/odoo/odoo/pull/192787)', 'created_at': datetime.datetime(2025, 1, 7, 19, 6, 30, tzinfo=datetime.timezone.utc)}, {'comment_id': 2576029016, 'issue_id': 2773543141, 'author': 'fw-bot', 'body': 'This PR targets saas-18.1 and is part of the forward-port chain. Further PRs will be created up to master.\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 7, 19, 6, 31, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-07 19:06:30 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/192787.png)](https://mergebot.odoo.com/odoo/odoo/pull/192787)

fw-bot (Issue Creator) on (2025-01-07 19:06:31 UTC): This PR targets saas-18.1 and is part of the forward-port chain. Further PRs will be created up to master.

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

"
2773542669,pull_request,closed,,[FW][FIX] l10n_hu_edi: missing invoice number in new layouts,"Since the introduction of new layouts (e.g. folder), the
invoice number is not displayed in Hungary. This is because
the xpath is incorrect because the new layouts now have
two children instead of one.

The old ones only had one child node:

https://github.com/odoo/odoo/blob/4dad76c045f94861632929189baa96d69f662275/addons/web/views/report_templates.xml#L478-L506

Whereas the new ones have two:

https://github.com/odoo/odoo/blob/4dad76c045f94861632929189baa96d69f662275/addons/web/views/report_templates.xml#L535-L550

https://github.com/odoo/odoo/blob/4dad76c045f94861632929189baa96d69f662275/addons/web/views/report_templates.xml#L551-L579

So the problem with the current xpath is that it's replacing
both children, even though only the second one should be.
By 'replacing' the first one (by iffing it),
`layout_document_title` is not displayed anymore and therefore
no invoice number appears on the invoice.

To fix this, we use a different xpath on the `img` parent.
For consistency and maintainability reasons, we apply this
new xpath on all the layouts and not just the new ones.

opw-4397438

Forward-Port-Of: odoo/odoo#192650",fw-bot,2025-01-07 19:05:35+00:00,[],2025-01-22 13:23:20+00:00,2025-01-08 13:04:16+00:00,https://github.com/odoo/odoo/pull/192786,"[('OE', 'the report is linked to a support ticket (opw-...)'), ('forwardport', 'This PR was created by @fw-bot')]","[{'comment_id': 2576028958, 'issue_id': 2773542669, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/192786.png)](https://mergebot.odoo.com/odoo/odoo/pull/192786)', 'created_at': datetime.datetime(2025, 1, 7, 19, 6, 29, tzinfo=datetime.timezone.utc)}, {'comment_id': 2576028977, 'issue_id': 2773542669, 'author': 'fw-bot', 'body': 'This PR targets saas-18.1 and is part of the forward-port chain. Further PRs will be created up to master.\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 7, 19, 6, 29, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-07 19:06:29 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/192786.png)](https://mergebot.odoo.com/odoo/odoo/pull/192786)

fw-bot (Issue Creator) on (2025-01-07 19:06:29 UTC): This PR targets saas-18.1 and is part of the forward-port chain. Further PRs will be created up to master.

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

"
2773541157,pull_request,closed,,[PERF] web: use count limit on the domain field widget,"Executing a search count on a table with a large number of records can be slow, which is why a limit was added on b37d221e.

The same issue exists on the domain field widget, and so the same solution is applied here.

---
I confirm I have signed the CLA and read the PR guidelines at www.odoo.com/submit-pr
",ivantodorovich,2025-01-07 19:04:36+00:00,[],2025-01-10 15:18:34+00:00,2025-01-10 15:16:15+00:00,https://github.com/odoo/odoo/pull/192785,[],"[{'comment_id': 2576025993, 'issue_id': 2773541157, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/192785.png)](https://mergebot.odoo.com/odoo/odoo/pull/192785)', 'created_at': datetime.datetime(2025, 1, 7, 19, 4, 39, tzinfo=datetime.timezone.utc)}, {'comment_id': 2582937164, 'issue_id': 2773541157, 'author': 'aab-odoo', 'body': 'Hello @ivantodorovich \r\n\r\nThanks for your contribution. Your specs (and commit) have been slightly reworked, but most of it will be merged here (in master though) https://github.com/odoo/odoo/pull/193203', 'created_at': datetime.datetime(2025, 1, 10, 15, 16, 15, tzinfo=datetime.timezone.utc)}, {'comment_id': 2582941988, 'issue_id': 2773541157, 'author': 'ivantodorovich', 'body': 'Thanks! 🙏🏻', 'created_at': datetime.datetime(2025, 1, 10, 15, 18, 33, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-07 19:04:39 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/192785.png)](https://mergebot.odoo.com/odoo/odoo/pull/192785)

aab-odoo on (2025-01-10 15:16:15 UTC): Hello @ivantodorovich 

Thanks for your contribution. Your specs (and commit) have been slightly reworked, but most of it will be merged here (in master though) https://github.com/odoo/odoo/pull/193203

ivantodorovich (Issue Creator) on (2025-01-10 15:18:33 UTC): Thanks! 🙏🏻

"
2773498688,pull_request,closed,,[FIX] account: prevent double currency column when multiple active currencies exist,"Description of the issue/feature this PR addresses:
This PR addresses the issue where the currency column repeats in view_move_line_payment_tree view when there are multiple active currencies. This can lead to confusion and clutter in the user interface.

Current behavior before PR:
Before this PR, when multiple active currencies are set up, the currency column is duplicated in view_move_line_payment_tree view, displaying the same information multiple times.

Desired behavior after PR is merged:
After merging this PR, the currency column will appear only once when the optional hide setting is enabled, even with multiple active currencies, resulting in a cleaner and more readable report.

[Video](https://drive.google.com/file/d/1bL8L88y81HomX6Q9MkErmOGVDWHdE4_r/view)
---
I confirm I have signed the CLA and read the PR guidelines at www.odoo.com/submit-pr
",rov-adhoc,2025-01-07 18:38:59+00:00,[],2025-01-10 09:15:47+00:00,2025-01-10 09:15:47+00:00,https://github.com/odoo/odoo/pull/192784,"[('Accounting', '')]","[{'comment_id': 2575984551, 'issue_id': 2773498688, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/192784.png)](https://mergebot.odoo.com/odoo/odoo/pull/192784)', 'created_at': datetime.datetime(2025, 1, 7, 18, 39, 2, tzinfo=datetime.timezone.utc)}, {'comment_id': 2581983578, 'issue_id': 2773498688, 'author': 'rugo-odoo', 'body': '@robodoo r+', 'created_at': datetime.datetime(2025, 1, 10, 7, 48, 4, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-07 18:39:02 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/192784.png)](https://mergebot.odoo.com/odoo/odoo/pull/192784)

rugo-odoo on (2025-01-10 07:48:04 UTC): @robodoo r+

"
2773488098,pull_request,closed,,[FW][FIX] point_of_sale: prevent concurrent invoice creation from QR,"**Steps to reproduce:**
- Install point_of_sale and l10n_mx_edi
- Switch to a Mexican company (e.g. ESCUELA KEMPER URGATE)
- Create a product with an UNSPSC Category
- In POS settings, enable ""Use QR code on ticket"" option
- Open a POS session
- Make an orders with the created product (without invoice)
- Print the receipt
- Close the POS session
- Scan the QR code on the receipt with a mobile (Or just open the link retrieved from the QR code in a browser from the computer without being logged)
- Enter all the required data
- Click several times on ""Get my invoice"" button quickly to generate the invoice

**Issue:**
Several concurrent processes are executed to create the invoice. In the Mexican localization, an electronic invoice is also generated and signed.
However, an error is raised when trying to commit the electronic invoice document from the concurrent processes.
These errors prevents the normal flow to continue after the creation of the invoice and the reversal of the POS closing entry is not generated as expected.

**Solution:**
Disable the ""Get my invoice"" button when the form is submitted to prevent concurrent calls to the action.

opw-4399540




---
I confirm I have signed the CLA and read the PR guidelines at www.odoo.com/submit-pr

Forward-Port-Of: odoo/odoo#192016",fw-bot,2025-01-07 18:32:32+00:00,[],2025-01-22 08:15:20+00:00,2025-01-08 08:13:50+00:00,https://github.com/odoo/odoo/pull/192783,"[('OE', 'the report is linked to a support ticket (opw-...)'), ('forwardport', 'This PR was created by @fw-bot')]","[{'comment_id': 2575974016, 'issue_id': 2773488098, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/192783.png)](https://mergebot.odoo.com/odoo/odoo/pull/192783)', 'created_at': datetime.datetime(2025, 1, 7, 18, 32, 33, tzinfo=datetime.timezone.utc)}, {'comment_id': 2575974036, 'issue_id': 2773488098, 'author': 'fw-bot', 'body': 'This PR targets saas-17.2 and is part of the forward-port chain. Further PRs will be created up to master.\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 7, 18, 32, 33, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-07 18:32:33 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/192783.png)](https://mergebot.odoo.com/odoo/odoo/pull/192783)

fw-bot (Issue Creator) on (2025-01-07 18:32:33 UTC): This PR targets saas-17.2 and is part of the forward-port chain. Further PRs will be created up to master.

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

"
2773475095,pull_request,closed,,[FW][FIX] point_of_sale: remove custom properties 'nodestroy' to avoid warning,"-This commit remove custom properties 'nodestroy' to avoid warning like this: `odoo.addons.web.controllers.utils: Action 'Customer Invoice' contains custom properties 'nodestroy'`. Passing them via the `params` or `context` properties is recommended instead

Description of the issue/feature this PR addresses:

Current behavior before PR:

Desired behavior after PR is merged:




---
I confirm I have signed the CLA and read the PR guidelines at www.odoo.com/submit-pr

Forward-Port-Of: odoo/odoo#161814",fw-bot,2025-01-07 18:24:30+00:00,[],2025-02-05 15:46:23+00:00,2025-01-22 15:41:00+00:00,https://github.com/odoo/odoo/pull/192782,"[('RD', 'research & development, internal work'), ('forwardport', 'This PR was created by @fw-bot')]","[{'comment_id': 2575960884, 'issue_id': 2773475095, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/192782.png)](https://mergebot.odoo.com/odoo/odoo/pull/192782)', 'created_at': datetime.datetime(2025, 1, 7, 18, 24, 31, tzinfo=datetime.timezone.utc)}, {'comment_id': 2575960905, 'issue_id': 2773475095, 'author': 'fw-bot', 'body': 'This PR targets saas-17.4 and is part of the forward-port chain. Further PRs will be created up to master.\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 7, 18, 24, 31, tzinfo=datetime.timezone.utc)}, {'comment_id': 2607345058, 'issue_id': 2773475095, 'author': 'davidmonnom', 'body': '@robodoo r+', 'created_at': datetime.datetime(2025, 1, 22, 14, 7, 44, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-07 18:24:31 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/192782.png)](https://mergebot.odoo.com/odoo/odoo/pull/192782)

fw-bot (Issue Creator) on (2025-01-07 18:24:31 UTC): This PR targets saas-17.4 and is part of the forward-port chain. Further PRs will be created up to master.

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

davidmonnom on (2025-01-22 14:07:44 UTC): @robodoo r+

"
2773472759,pull_request,closed,,[FW][FIX] pos_self_order: allow merging lot tracked products,"Before this commit, adding lot tracked products would result in an error because the picking type was not loaded in self ordering.

opw-4439558

---
I confirm I have signed the CLA and read the PR guidelines at www.odoo.com/submit-pr

Forward-Port-Of: odoo/odoo#192662
Forward-Port-Of: odoo/odoo#192351",fw-bot,2025-01-07 18:22:58+00:00,[],2025-01-22 11:33:12+00:00,2025-01-08 11:22:41+00:00,https://github.com/odoo/odoo/pull/192781,"[('OE', 'the report is linked to a support ticket (opw-...)'), ('forwardport', 'This PR was created by @fw-bot'), ('18.2', None)]","[{'comment_id': 2575958288, 'issue_id': 2773472759, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/192781.png)](https://mergebot.odoo.com/odoo/odoo/pull/192781)', 'created_at': datetime.datetime(2025, 1, 7, 18, 22, 59, tzinfo=datetime.timezone.utc)}, {'comment_id': 2575958308, 'issue_id': 2773472759, 'author': 'fw-bot', 'body': '@pedrambiria @caburj this PR targets master and is the last of the forward-port chain.\n\nTo merge the full chain, use\n> @robodoo r+\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 7, 18, 22, 59, tzinfo=datetime.timezone.utc)}, {'comment_id': 2577179424, 'issue_id': 2773472759, 'author': 'pedrambiria', 'body': '@robodoo r+', 'created_at': datetime.datetime(2025, 1, 8, 9, 20, 34, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-07 18:22:59 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/192781.png)](https://mergebot.odoo.com/odoo/odoo/pull/192781)

fw-bot (Issue Creator) on (2025-01-07 18:22:59 UTC): @pedrambiria @caburj this PR targets master and is the last of the forward-port chain.

To merge the full chain, use

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

pedrambiria on (2025-01-08 09:20:34 UTC): @robodoo r+

"
2773472344,pull_request,closed,,[FW][FIX] pos_sale: draft pos order ignored in sales,"Draft pos order where considered as paid when counting the invoiced qty of a sale linked to a pos order.

Steps to reproduce:
-------------------
* Create a sale order with any product
* Open PoS and settle the order but do not validate it
* Click on ""Backend"" button so that the order is synchronized
* Go back on the sale
> Observation: The invoiced quantity is 1

Why the fix:
------------
We should not consider draft pos orders when counting the invoiced qty as they are not yet validated.

opw-4201267

Forward-Port-Of: odoo/odoo#192558
Forward-Port-Of: odoo/odoo#192160",fw-bot,2025-01-07 18:22:43+00:00,[],2025-01-23 13:03:31+00:00,2025-01-09 12:59:21+00:00,https://github.com/odoo/odoo/pull/192780,"[('OE', 'the report is linked to a support ticket (opw-...)'), ('forwardport', 'This PR was created by @fw-bot'), ('18.2', None)]","[{'comment_id': 2575958226, 'issue_id': 2773472344, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/192780.png)](https://mergebot.odoo.com/odoo/odoo/pull/192780)', 'created_at': datetime.datetime(2025, 1, 7, 18, 22, 56, tzinfo=datetime.timezone.utc)}, {'comment_id': 2575958245, 'issue_id': 2773472344, 'author': 'fw-bot', 'body': '@robinengels @davidmonnom this PR targets master and is the last of the forward-port chain.\n\nTo merge the full chain, use\n> @robodoo r+\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 7, 18, 22, 57, tzinfo=datetime.timezone.utc)}, {'comment_id': 2576024886, 'issue_id': 2773472344, 'author': 'fw-bot', 'body': '@robinengels @davidmonnom ci/runbot failed on this forward-port PR', 'created_at': datetime.datetime(2025, 1, 7, 19, 3, 58, tzinfo=datetime.timezone.utc)}, {'comment_id': 2576557565, 'issue_id': 2773472344, 'author': 'fw-bot', 'body': '@robinengels @davidmonnom this forward port of odoo/odoo#192160 is awaiting action (not merged or closed).', 'created_at': datetime.datetime(2025, 1, 8, 2, 1, 15, tzinfo=datetime.timezone.utc)}, {'comment_id': 2578117110, 'issue_id': 2773472344, 'author': 'fw-bot', 'body': '@robinengels @davidmonnom this PR was modified / updated and has become a normal PR. It must be merged directly.', 'created_at': datetime.datetime(2025, 1, 8, 16, 34, 52, tzinfo=datetime.timezone.utc)}, {'comment_id': 2578122875, 'issue_id': 2773472344, 'author': 'robinengels', 'body': '@robodoo r+', 'created_at': datetime.datetime(2025, 1, 8, 16, 37, 23, tzinfo=datetime.timezone.utc)}, {'comment_id': 2578182473, 'issue_id': 2773472344, 'author': 'robodoo', 'body': ""@robinengels @davidmonnom 'ci/runbot' failed on this reviewed PR."", 'created_at': datetime.datetime(2025, 1, 8, 17, 4, 49, tzinfo=datetime.timezone.utc)}, {'comment_id': 2579018747, 'issue_id': 2773472344, 'author': 'fw-bot', 'body': '@robinengels @davidmonnom this forward port of odoo/odoo#192160 is awaiting action (not merged or closed).', 'created_at': datetime.datetime(2025, 1, 9, 2, 1, 23, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-07 18:22:56 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/192780.png)](https://mergebot.odoo.com/odoo/odoo/pull/192780)

fw-bot (Issue Creator) on (2025-01-07 18:22:57 UTC): @robinengels @davidmonnom this PR targets master and is the last of the forward-port chain.

To merge the full chain, use

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

fw-bot (Issue Creator) on (2025-01-07 19:03:58 UTC): @robinengels @davidmonnom ci/runbot failed on this forward-port PR

fw-bot (Issue Creator) on (2025-01-08 02:01:15 UTC): @robinengels @davidmonnom this forward port of odoo/odoo#192160 is awaiting action (not merged or closed).

fw-bot (Issue Creator) on (2025-01-08 16:34:52 UTC): @robinengels @davidmonnom this PR was modified / updated and has become a normal PR. It must be merged directly.

robinengels on (2025-01-08 16:37:23 UTC): @robodoo r+

robodoo on (2025-01-08 17:04:49 UTC): @robinengels @davidmonnom 'ci/runbot' failed on this reviewed PR.

fw-bot (Issue Creator) on (2025-01-09 02:01:23 UTC): @robinengels @davidmonnom this forward port of odoo/odoo#192160 is awaiting action (not merged or closed).

"
2773470188,pull_request,closed,,[FW][FIX] point_of_sale: ensure invoice is paid when invoicing,"Before this commit, if a payment method requiring customer identification was used for an order in Point of Sale but the order was not immediately invoiced, closing the session and later invoicing the order in a new session would result in the invoice being marked as unpaid.

opw-4292231

---
I confirm I have signed the CLA and read the PR guidelines at www.odoo.com/submit-pr

Forward-Port-Of: odoo/odoo#187759",fw-bot,2025-01-07 18:21:28+00:00,[],2025-01-28 15:37:07+00:00,2025-01-14 15:23:42+00:00,https://github.com/odoo/odoo/pull/192779,"[('OE', 'the report is linked to a support ticket (opw-...)'), ('forwardport', 'This PR was created by @fw-bot')]","[{'comment_id': 2575955696, 'issue_id': 2773470188, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/192779.png)](https://mergebot.odoo.com/odoo/odoo/pull/192779)', 'created_at': datetime.datetime(2025, 1, 7, 18, 21, 29, tzinfo=datetime.timezone.utc)}, {'comment_id': 2575955719, 'issue_id': 2773470188, 'author': 'fw-bot', 'body': 'This PR targets saas-17.4 and is part of the forward-port chain. Further PRs will be created up to master.\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 7, 18, 21, 30, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-07 18:21:29 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/192779.png)](https://mergebot.odoo.com/odoo/odoo/pull/192779)

fw-bot (Issue Creator) on (2025-01-07 18:21:30 UTC): This PR targets saas-17.4 and is part of the forward-port chain. Further PRs will be created up to master.

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

"
2773468604,pull_request,closed,,[FW][FIX] purchase_stock: adjust button layout,"In Odoo, an issue araised where the ""Expected Arrival"" date field was overlapped when zooming in. This was due to the button ""action_purchase_vendor_delay_report"".

To adress this, the related button was encapsulated within a <div> element. This change ensure that the layout remains consistent and the elements does not overlap regardless of the zoom level.

opw-4316093

---
I confirm I have signed the CLA and read the PR guidelines at www.odoo.com/submit-pr

Forward-Port-Of: odoo/odoo#187179",fw-bot,2025-01-07 18:20:27+00:00,[],2025-01-22 15:14:25+00:00,2025-01-08 14:58:03+00:00,https://github.com/odoo/odoo/pull/192778,"[('OE', 'the report is linked to a support ticket (opw-...)'), ('forwardport', 'This PR was created by @fw-bot')]","[{'comment_id': 2575954047, 'issue_id': 2773468604, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/192778.png)](https://mergebot.odoo.com/odoo/odoo/pull/192778)', 'created_at': datetime.datetime(2025, 1, 7, 18, 20, 28, tzinfo=datetime.timezone.utc)}, {'comment_id': 2575954059, 'issue_id': 2773468604, 'author': 'fw-bot', 'body': 'This PR targets 18.0 and is part of the forward-port chain. Further PRs will be created up to master.\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 7, 18, 20, 29, tzinfo=datetime.timezone.utc)}, {'comment_id': 2576090930, 'issue_id': 2773468604, 'author': 'fw-bot', 'body': '@jaeschwa @svs-odoo the next pull request (odoo/odoo#192799) is in conflict. You can merge the chain up to here by saying\n> @robodoo r+\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 7, 19, 41, 43, tzinfo=datetime.timezone.utc)}, {'comment_id': 2577314007, 'issue_id': 2773468604, 'author': 'jaeschwa', 'body': '@robodoo r+', 'created_at': datetime.datetime(2025, 1, 8, 10, 21, 21, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-07 18:20:28 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/192778.png)](https://mergebot.odoo.com/odoo/odoo/pull/192778)

fw-bot (Issue Creator) on (2025-01-07 18:20:29 UTC): This PR targets 18.0 and is part of the forward-port chain. Further PRs will be created up to master.

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

fw-bot (Issue Creator) on (2025-01-07 19:41:43 UTC): @jaeschwa @svs-odoo the next pull request (odoo/odoo#192799) is in conflict. You can merge the chain up to here by saying

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

jaeschwa on (2025-01-08 10:21:21 UTC): @robodoo r+

"
2773459521,pull_request,closed,,[FW][FIX] point_of_sale: kitchen receipt long name,"When printing long product names with long variants, the lines were overlapping.

Steps to reproduce:
-------------------
* Create a product with some long variant names
* Setup a kitchen printer
* Add the order to a PoS order
* Print the order on the kitchen printer
> Observation: The product name and variant name are overlapping

Before:
![before](https://github.com/user-attachments/assets/d16022b0-4f87-48aa-adc4-1c246b173431)


After:
![after](https://github.com/user-attachments/assets/495632de-e4d2-424c-b19d-fb386a3eb356)


opw-4414311

Forward-Port-Of: odoo/odoo#192690
Forward-Port-Of: odoo/odoo#192544",fw-bot,2025-01-07 18:14:37+00:00,[],2025-01-22 18:29:03+00:00,2025-01-08 17:58:27+00:00,https://github.com/odoo/odoo/pull/192777,"[('OE', 'the report is linked to a support ticket (opw-...)'), ('forwardport', 'This PR was created by @fw-bot')]","[{'comment_id': 2575944185, 'issue_id': 2773459521, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/192777.png)](https://mergebot.odoo.com/odoo/odoo/pull/192777)', 'created_at': datetime.datetime(2025, 1, 7, 18, 14, 38, tzinfo=datetime.timezone.utc)}, {'comment_id': 2575944207, 'issue_id': 2773459521, 'author': 'fw-bot', 'body': 'This PR targets saas-17.4 and is part of the forward-port chain. Further PRs will be created up to master.\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 7, 18, 14, 39, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-07 18:14:38 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/192777.png)](https://mergebot.odoo.com/odoo/odoo/pull/192777)

fw-bot (Issue Creator) on (2025-01-07 18:14:39 UTC): This PR targets saas-17.4 and is part of the forward-port chain. Further PRs will be created up to master.

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

"
2773448756,pull_request,closed,,[FIX] mail: leave tab with ongoing call show confirm dialog,"Before this commit, when there's an ongoing Discuss call in a browser tab, page refresh or closing the tab was quitting the call immediately.

Sometimes the closing of tab happens by mistake, but when navigating on the website with livechat, visitors in a call were likely to quit the call from loading another page in place.

This commit prevents the closing of tab when there's an ongoing call, so that user can dismiss it if this was a mistake and wants to stay in call.

Note that the dialog text is generic, as it cannot be customised on browsers.

Partial port of https://github.com/odoo/odoo/pull/189428

Task-4453087",alexkuhn,2025-01-07 18:08:24+00:00,[],2025-01-09 16:53:08+00:00,2025-01-09 16:17:12+00:00,https://github.com/odoo/odoo/pull/192776,"[('RD', 'research & development, internal work')]","[{'comment_id': 2575930204, 'issue_id': 2773448756, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/192776.png)](https://mergebot.odoo.com/odoo/odoo/pull/192776)', 'created_at': datetime.datetime(2025, 1, 7, 18, 8, 27, tzinfo=datetime.timezone.utc)}, {'comment_id': 2580056890, 'issue_id': 2773448756, 'author': 'alexkuhn', 'body': '@robodoo r+ fw=no', 'created_at': datetime.datetime(2025, 1, 9, 12, 39, 19, tzinfo=datetime.timezone.utc)}, {'comment_id': 2580056993, 'issue_id': 2773448756, 'author': 'robodoo', 'body': 'Disabled forward-porting.', 'created_at': datetime.datetime(2025, 1, 9, 12, 39, 22, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-07 18:08:27 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/192776.png)](https://mergebot.odoo.com/odoo/odoo/pull/192776)

alexkuhn (Issue Creator) on (2025-01-09 12:39:19 UTC): @robodoo r+ fw=no

robodoo on (2025-01-09 12:39:22 UTC): Disabled forward-porting.

"
2773423849,pull_request,closed,,[FW][FIX] web_editor: correct triple click when applying font size,"Description of the issue this PR addresses:

Current behavior before PR:

Triple-clicking to select text, with a nextSibling set as contenteditable false, would reset the selection to its previous state.

Desired behavior after PR is merged:

Correct the triple click selection when applying font-size.

task-4440354

---
I confirm I have signed the CLA and read the PR guidelines at www.odoo.com/submit-pr

Forward-Port-Of: odoo/odoo#192387
Forward-Port-Of: odoo/odoo#192139",fw-bot,2025-01-07 17:52:59+00:00,[],2025-01-22 08:02:22+00:00,2025-01-08 07:15:35+00:00,https://github.com/odoo/odoo/pull/192775,"[('RD', 'research & development, internal work'), ('forwardport', 'This PR was created by @fw-bot'), ('18.2', None)]","[{'comment_id': 2575903248, 'issue_id': 2773423849, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/192775.png)](https://mergebot.odoo.com/odoo/odoo/pull/192775)', 'created_at': datetime.datetime(2025, 1, 7, 17, 53, tzinfo=datetime.timezone.utc)}, {'comment_id': 2575903267, 'issue_id': 2773423849, 'author': 'fw-bot', 'body': '@deso-odoo @dmo-odoo this PR targets master and is the last of the forward-port chain containing:\n* odoo/odoo#192756\n* odoo/odoo#192734\n* odoo/odoo#192715\n\nTo merge the full chain, use\n> @robodoo r+\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 7, 17, 53, 1, tzinfo=datetime.timezone.utc)}, {'comment_id': 2576557628, 'issue_id': 2773423849, 'author': 'fw-bot', 'body': '@deso-odoo @dmo-odoo this forward port of odoo/odoo#192139 is awaiting action (not merged or closed).', 'created_at': datetime.datetime(2025, 1, 8, 2, 1, 19, tzinfo=datetime.timezone.utc)}, {'comment_id': 2576798166, 'issue_id': 2773423849, 'author': 'deso-odoo', 'body': '@dmo-odoo This does not need html_editor adaptation.\r\n@robodoo r+', 'created_at': datetime.datetime(2025, 1, 8, 5, 41, 34, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-07 17:53:00 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/192775.png)](https://mergebot.odoo.com/odoo/odoo/pull/192775)

fw-bot (Issue Creator) on (2025-01-07 17:53:01 UTC): @deso-odoo @dmo-odoo this PR targets master and is the last of the forward-port chain containing:
* odoo/odoo#192756
* odoo/odoo#192734
* odoo/odoo#192715

To merge the full chain, use

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

fw-bot (Issue Creator) on (2025-01-08 02:01:19 UTC): @deso-odoo @dmo-odoo this forward port of odoo/odoo#192139 is awaiting action (not merged or closed).

deso-odoo on (2025-01-08 05:41:34 UTC): @dmo-odoo This does not need html_editor adaptation.
@robodoo r+

"
2773406777,pull_request,closed,,[FW][FIX] account_peppol: fix demo mode,"With previous refactor, we simplified the demo mode by trying to mock the fewer methods possible.
In particular, we are aligning all calls to proxy to go through the `_call_peppol_proxy(...)`. This should simplify future refactoring work to get rid of account_edi_x models.

Some calls to make_request were still existing, since it's no longer mocked in demo mode, an error is raised. Replace all those calls to use the `_call_peppol_proxy` method.

task-no

Forward-Port-Of: odoo/odoo#192649",fw-bot,2025-01-07 17:42:44+00:00,[],2025-01-22 13:23:24+00:00,2025-01-08 13:04:43+00:00,https://github.com/odoo/odoo/pull/192774,"[('RD', 'research & development, internal work'), ('forwardport', 'This PR was created by @fw-bot'), ('conflict', 'There was an error while creating this forward-port PR')]","[{'comment_id': 2575885423, 'issue_id': 2773406777, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/192774.png)](https://mergebot.odoo.com/odoo/odoo/pull/192774)', 'created_at': datetime.datetime(2025, 1, 7, 17, 42, 45, tzinfo=datetime.timezone.utc)}, {'comment_id': 2575885444, 'issue_id': 2773406777, 'author': 'fw-bot', 'body': '@clbr-odoo @Xavier-Do cherrypicking of pull request odoo/odoo#192649 failed.\n\nstdout:\n```\nAuto-merging addons/account_peppol/models/account_edi_proxy_user.py\nAuto-merging addons/account_peppol/models/account_move_send.py\nAuto-merging addons/account_peppol/tools/demo_utils.py\nCONFLICT (content): Merge conflict in addons/account_peppol/tools/demo_utils.py\n\n```\n\nEither perform the forward-port manually (and push to this branch, proceeding as usual) or close this PR (maybe?).\n\nIn the former case, you may want to edit this PR message as well.\n\n:warning: after resolving this conflict, you will need to merge it via @robodoo.\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 7, 17, 42, 46, tzinfo=datetime.timezone.utc)}, {'comment_id': 2576917747, 'issue_id': 2773406777, 'author': 'clbr-odoo', 'body': '@robodoo r+', 'created_at': datetime.datetime(2025, 1, 8, 7, 23, 21, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-07 17:42:45 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/192774.png)](https://mergebot.odoo.com/odoo/odoo/pull/192774)

fw-bot (Issue Creator) on (2025-01-07 17:42:46 UTC): @clbr-odoo @Xavier-Do cherrypicking of pull request odoo/odoo#192649 failed.

stdout:
```
Auto-merging addons/account_peppol/models/account_edi_proxy_user.py
Auto-merging addons/account_peppol/models/account_move_send.py
Auto-merging addons/account_peppol/tools/demo_utils.py
CONFLICT (content): Merge conflict in addons/account_peppol/tools/demo_utils.py

```

Either perform the forward-port manually (and push to this branch, proceeding as usual) or close this PR (maybe?).

In the former case, you may want to edit this PR message as well.

:warning: after resolving this conflict, you will need to merge it via @robodoo.

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

clbr-odoo on (2025-01-08 07:23:21 UTC): @robodoo r+

"
2773396312,pull_request,closed,,[ADD] setup: WIP custom windows app installer (with git),"WIP

---
I confirm I have signed the CLA and read the PR guidelines at www.odoo.com/submit-pr
",lse-odoo,2025-01-07 17:36:39+00:00,[],2025-01-13 14:25:52+00:00,2025-01-13 14:25:52+00:00,https://github.com/odoo/odoo/pull/192773,"[('RD', 'research & development, internal work')]","[{'comment_id': 2575872619, 'issue_id': 2773396312, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/192773.png)](https://mergebot.odoo.com/odoo/odoo/pull/192773)', 'created_at': datetime.datetime(2025, 1, 7, 17, 36, 42, tzinfo=datetime.timezone.utc)}, {'comment_id': 2587246530, 'issue_id': 2773396312, 'author': 'lse-odoo', 'body': 'MOC was already working on it :facepalm: https://github.com/odoo/odoo/pull/191218', 'created_at': datetime.datetime(2025, 1, 13, 14, 25, 52, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-07 17:36:42 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/192773.png)](https://mergebot.odoo.com/odoo/odoo/pull/192773)

lse-odoo (Issue Creator) on (2025-01-13 14:25:52 UTC): MOC was already working on it :facepalm: https://github.com/odoo/odoo/pull/191218

"
2773378518,pull_request,closed,,[FW][FIX] account_edi_ubl_cii: remove BR-DE-1 constraint for credit notes,"Those constraints are blocking the flow for no good reason as we
- don't find them in the official documentation
- they don't really make sense in the context of a credit note
Therefore we decide to remove them for credit notes.
They don't seem to be required for the facturx validity.

task-4454115

Forward-Port-Of: odoo/odoo#192495",fw-bot,2025-01-07 17:25:58+00:00,[],2025-01-22 15:40:57+00:00,2025-01-08 15:41:01+00:00,https://github.com/odoo/odoo/pull/192772,"[('RD', 'research & development, internal work'), ('forwardport', 'This PR was created by @fw-bot')]","[{'comment_id': 2575853194, 'issue_id': 2773378518, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/192772.png)](https://mergebot.odoo.com/odoo/odoo/pull/192772)', 'created_at': datetime.datetime(2025, 1, 7, 17, 26, tzinfo=datetime.timezone.utc)}, {'comment_id': 2575853212, 'issue_id': 2773378518, 'author': 'fw-bot', 'body': 'This PR targets 17.0 and is part of the forward-port chain. Further PRs will be created up to master.\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 7, 17, 26, 1, tzinfo=datetime.timezone.utc)}, {'comment_id': 2575972503, 'issue_id': 2773378518, 'author': 'fw-bot', 'body': '@clbr-odoo @smetl ci/runbot failed on this forward-port PR', 'created_at': datetime.datetime(2025, 1, 7, 18, 31, 37, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-07 17:26:00 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/192772.png)](https://mergebot.odoo.com/odoo/odoo/pull/192772)

fw-bot (Issue Creator) on (2025-01-07 17:26:01 UTC): This PR targets 17.0 and is part of the forward-port chain. Further PRs will be created up to master.

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

fw-bot (Issue Creator) on (2025-01-07 18:31:37 UTC): @clbr-odoo @smetl ci/runbot failed on this forward-port PR

"
2773376422,pull_request,closed,,[FIX] stock_picking_batch: create a new wave for SML with 0 quantity,"Steps to reproduce the bug:
- Enable the multi-step route.
- Go to the Delivery Operation Type:
    - Enable ""Automatic Batches"". - Enable ""Wave Grouping"". - Product Category: All
- Create two storable products: ""P1"" and ""P2"".
- Create a first delivery:
    - One unit of P1.
    - Mark it as ""To Do"" → a wave transfer is created.
- Create a second delivery:
    - One unit of P2.
    - Mark it as ""To Do"" → it is added to the first wave.
- Go to the wave:
     - Update the quantity of P2 to 0.
- Validate the wave

Problem:
The picking of P2 is detached but not linked to a new wave.

opw-4444263
",DjamelTouati,2025-01-07 17:24:47+00:00,[],2025-02-03 13:08:39+00:00,2025-02-03 13:08:39+00:00,https://github.com/odoo/odoo/pull/192771,"[('OE', 'the report is linked to a support ticket (opw-...)')]","[{'comment_id': 2575850952, 'issue_id': 2773376422, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/192771.png)](https://mergebot.odoo.com/odoo/odoo/pull/192771)', 'created_at': datetime.datetime(2025, 1, 7, 17, 24, 50, tzinfo=datetime.timezone.utc)}, {'comment_id': 2627556927, 'issue_id': 2773376422, 'author': 'Whenrow', 'body': 'robodoo r+', 'created_at': datetime.datetime(2025, 1, 31, 15, 0, 59, tzinfo=datetime.timezone.utc)}, {'comment_id': 2627557021, 'issue_id': 2773376422, 'author': 'robodoo', 'body': '@Whenrow draft PRs can not be approved.', 'created_at': datetime.datetime(2025, 1, 31, 15, 1, 2, tzinfo=datetime.timezone.utc)}, {'comment_id': 2630201336, 'issue_id': 2773376422, 'author': 'kitan191', 'body': '@robodoo delegate+', 'created_at': datetime.datetime(2025, 2, 3, 7, 50, 13, tzinfo=datetime.timezone.utc)}, {'comment_id': 2630413807, 'issue_id': 2773376422, 'author': 'DjamelTouati', 'body': 'robodoo r+', 'created_at': datetime.datetime(2025, 2, 3, 9, 32, 37, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-07 17:24:50 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/192771.png)](https://mergebot.odoo.com/odoo/odoo/pull/192771)

Whenrow on (2025-01-31 15:00:59 UTC): robodoo r+

robodoo on (2025-01-31 15:01:02 UTC): @Whenrow draft PRs can not be approved.

kitan191 on (2025-02-03 07:50:13 UTC): @robodoo delegate+

DjamelTouati (Issue Creator) on (2025-02-03 09:32:37 UTC): robodoo r+

"
2773375555,pull_request,closed,,[FW][FIX] hr_expense: correct mapping of expense alias domain in settings,"**Steps to reproduce:**
- Install hr_expense
- Create 2 alias domains
- Go to ""Settings / Technical / Email / Aliases""
- Check the values for Expense model
- Go to Expenses settings
- Change the prefix and the domain of the alias
- Save
- Go to ""Settings / Technical / Email / Aliases""
- Check the values for Expense model again

**Issue:**
The prefix has correctly been modified but not the domain. The domain from Expenses settings and the domain of the Expense alias are different.

**Cause:**
The domain field in Expenses settings is in fact the Email Domain (alias_domain_id) of the company, which makes no sense to combine the prefix and the domain from 2 different sources.

**Solution:**
Add a non-stored computed field to map the domain displayed in Expenses settings with the domain of the Expense alias.
Not great in stable, but there is no other way if we want to keep the option.

opw-4293936




---
I confirm I have signed the CLA and read the PR guidelines at www.odoo.com/submit-pr

Forward-Port-Of: odoo/odoo#192571
Forward-Port-Of: odoo/odoo#190252",fw-bot,2025-01-07 17:24:14+00:00,[],2025-01-22 08:34:32+00:00,2025-01-08 08:28:15+00:00,https://github.com/odoo/odoo/pull/192770,"[('OE', 'the report is linked to a support ticket (opw-...)'), ('forwardport', 'This PR was created by @fw-bot'), ('18.2', None)]","[{'comment_id': 2575849851, 'issue_id': 2773375555, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/192770.png)](https://mergebot.odoo.com/odoo/odoo/pull/192770)', 'created_at': datetime.datetime(2025, 1, 7, 17, 24, 16, tzinfo=datetime.timezone.utc)}, {'comment_id': 2575849872, 'issue_id': 2773375555, 'author': 'fw-bot', 'body': '@kitan191 @oco-odoo this PR targets master and is the last of the forward-port chain containing:\n* odoo/odoo#192750\n* odoo/odoo#192691\n* odoo/odoo#192666\n\nTo merge the full chain, use\n> @robodoo r+\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 7, 17, 24, 16, tzinfo=datetime.timezone.utc)}, {'comment_id': 2576858953, 'issue_id': 2773375555, 'author': 'kitan191', 'body': '@robodoo r+', 'created_at': datetime.datetime(2025, 1, 8, 6, 36, 59, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-07 17:24:16 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/192770.png)](https://mergebot.odoo.com/odoo/odoo/pull/192770)

fw-bot (Issue Creator) on (2025-01-07 17:24:16 UTC): @kitan191 @oco-odoo this PR targets master and is the last of the forward-port chain containing:
* odoo/odoo#192750
* odoo/odoo#192691
* odoo/odoo#192666

To merge the full chain, use

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

kitan191 on (2025-01-08 06:36:59 UTC): @robodoo r+

"
2773374965,pull_request,closed,,[FIX] portal: invoice layout issue,"This PR addresses the layout issue in the sidebar of the portal, where a preview of the customer's invoice is displayed.

Before this PR, users encountered a broken layout for large invoice amounts, making it difficult to read the total.

This issue is resolved in this PR by adding a rules for the `h2` and `span` fields ensuring proper wrapping for better readability.


Steps to reproduce:

- Login as admin.
- Go to Website app.
- Navigate to ""My account"" at my/home url.
- Click on ""My invoices"" or navigate to my/invoices url.
- Click on one invoice in order to see its preview.
- Via the browser tools, edit the amount of on the left sidebar and insert a very big number.

task-4435472

---
I confirm I have signed the CLA and read the PR guidelines at www.odoo.com/submit-pr
",fres-sudo,2025-01-07 17:23:56+00:00,[],2025-01-20 15:39:11+00:00,2025-01-18 04:18:24+00:00,https://github.com/odoo/odoo/pull/192769,"[('RD', 'research & development, internal work')]","[{'comment_id': 2575849378, 'issue_id': 2773374965, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/192769.png)](https://mergebot.odoo.com/odoo/odoo/pull/192769)', 'created_at': datetime.datetime(2025, 1, 7, 17, 23, 59, tzinfo=datetime.timezone.utc)}, {'comment_id': 2586793708, 'issue_id': 2773374965, 'author': 'fres-sudo', 'body': '@bvr-odoo Thanks a lot for the comment, I added the steps to reproduce!\r\n\r\nRegarding the version for what I could test I find out something:\r\n\r\n- at version **16.0** there were no issues at all\r\n- at version **17.0** and **17.2** the issue was there, BUT in a slightly different way, the text was going above the invoice preview and not under, as now happen, and the fix in this PR is not a walk around for those 2 versions.\r\n- from version **17.4** till now the issue is there and the fix in this PR works great.\r\n\r\nNow since I never handled this kind of situation, what do you suggest to do? Thank in advance.', 'created_at': datetime.datetime(2025, 1, 13, 11, 0, 5, tzinfo=datetime.timezone.utc)}, {'comment_id': 2586982550, 'issue_id': 2773374965, 'author': 'bvr-odoo', 'body': ""> @bvr-odoo Thanks a lot for the comment, I added the steps to reproduce!\r\n> \r\n> Regarding the version for what I could test I find out something:\r\n> \r\n> * at version **16.0** there were no issues at all\r\n> * at version **17.0** and **17.2** the issue was there, BUT in a slightly different way, the text was going above the invoice preview and not under, as now happen, and the fix in this PR is not a walk around for those 2 versions.\r\n> * from version **17.4** till now the issue is there and the fix in this PR works great.\r\n> \r\n> Now since I never handled this kind of situation, what do you suggest to do? Thank in advance.\r\n\r\n- Fixing it in SCSS (because it's a stable version) in the earlier version where the issue occurs ( in 17.0). So keep the same PR but retarget it (and your local branch) to 17.0.\r\n- After we merge 17.0, you will adapt the fix in the forward port for 17.4 (still in SCSS).\r\n- In the Master branch, you will adapt the forward port by removing the fix in SCSS and applying the fix only in the XML (actual diff of this PR).\r\n\r\nHope this is clear. 😉"", 'created_at': datetime.datetime(2025, 1, 13, 12, 31, 31, tzinfo=datetime.timezone.utc)}, {'comment_id': 2590307985, 'issue_id': 2773374965, 'author': 'fres-sudo', 'body': '@bvr-odoo Thanks a lot for the review, I did the changes!', 'created_at': datetime.datetime(2025, 1, 14, 15, 49, 49, tzinfo=datetime.timezone.utc)}, {'comment_id': 2593283038, 'issue_id': 2773374965, 'author': 'reth-odoo', 'body': ""Seems maybe a bit specific, I seem to have the same issue when it's text in the same context, can't we fix it more generally somehow? (Apparently we only use h2 currency in that template at the moment but it'd be nice to avoid the issue if that changes)\r\n\r\nLeaving this for reference as there wasn't an example of the issue.\r\n\r\n### Before\r\n\r\n![screenshot-2025-01-15-15-37-24](https://github.com/user-attachments/assets/452ca072-0cc8-43c6-87e1-79ed58468912)\r\n\r\n### After\r\n\r\n![screenshot-2025-01-15-15-37-53](https://github.com/user-attachments/assets/8617dba4-4601-458d-97e0-11e9f8d0910b)"", 'created_at': datetime.datetime(2025, 1, 15, 15, 47, 45, tzinfo=datetime.timezone.utc)}, {'comment_id': 2593315629, 'issue_id': 2773374965, 'author': 'fres-sudo', 'body': 'Thanks for the comment @reth-odoo , indeed the fix is very specific, the reason behind it is that in order to fix it in a more general way a (not so great) solution would be to wrap the current output of the `MonetaryConverter (value_to_html) ` function with another `span` and apply the rules on this span.\r\n\r\n@qsm-odoo  has already created a task for that: https://www.odoo.com/odoo/project/974/tasks/4458784 you can check it out.', 'created_at': datetime.datetime(2025, 1, 15, 15, 58, 46, tzinfo=datetime.timezone.utc)}, {'comment_id': 2593344241, 'issue_id': 2773374965, 'author': 'qsm-odoo', 'body': ""@fres-sudo Still, do you need the h2 rule? I don't think so? :thinking: Won't you have the same effect adding the word-break rule on the span, with the white-space rule?"", 'created_at': datetime.datetime(2025, 1, 15, 16, 10, 26, tzinfo=datetime.timezone.utc)}, {'comment_id': 2594935013, 'issue_id': 2773374965, 'author': 'fres-sudo', 'body': ""@qsm-odoo You're right, I fixed it! Thanks a lot! \r\n@reth-odoo Hope this seems better also to you, thank you too."", 'created_at': datetime.datetime(2025, 1, 16, 8, 59, 8, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-07 17:23:59 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/192769.png)](https://mergebot.odoo.com/odoo/odoo/pull/192769)

fres-sudo (Issue Creator) on (2025-01-13 11:00:05 UTC): @bvr-odoo Thanks a lot for the comment, I added the steps to reproduce!

Regarding the version for what I could test I find out something:

- at version **16.0** there were no issues at all
- at version **17.0** and **17.2** the issue was there, BUT in a slightly different way, the text was going above the invoice preview and not under, as now happen, and the fix in this PR is not a walk around for those 2 versions.
- from version **17.4** till now the issue is there and the fix in this PR works great.

Now since I never handled this kind of situation, what do you suggest to do? Thank in advance.

bvr-odoo on (2025-01-13 12:31:31 UTC): - Fixing it in SCSS (because it's a stable version) in the earlier version where the issue occurs ( in 17.0). So keep the same PR but retarget it (and your local branch) to 17.0.
- After we merge 17.0, you will adapt the fix in the forward port for 17.4 (still in SCSS).
- In the Master branch, you will adapt the forward port by removing the fix in SCSS and applying the fix only in the XML (actual diff of this PR).

Hope this is clear. 😉

fres-sudo (Issue Creator) on (2025-01-14 15:49:49 UTC): @bvr-odoo Thanks a lot for the review, I did the changes!

reth-odoo on (2025-01-15 15:47:45 UTC): Seems maybe a bit specific, I seem to have the same issue when it's text in the same context, can't we fix it more generally somehow? (Apparently we only use h2 currency in that template at the moment but it'd be nice to avoid the issue if that changes)

Leaving this for reference as there wasn't an example of the issue.

### Before

![screenshot-2025-01-15-15-37-24](https://github.com/user-attachments/assets/452ca072-0cc8-43c6-87e1-79ed58468912)

### After

![screenshot-2025-01-15-15-37-53](https://github.com/user-attachments/assets/8617dba4-4601-458d-97e0-11e9f8d0910b)

fres-sudo (Issue Creator) on (2025-01-15 15:58:46 UTC): Thanks for the comment @reth-odoo , indeed the fix is very specific, the reason behind it is that in order to fix it in a more general way a (not so great) solution would be to wrap the current output of the `MonetaryConverter (value_to_html) ` function with another `span` and apply the rules on this span.

@qsm-odoo  has already created a task for that: https://www.odoo.com/odoo/project/974/tasks/4458784 you can check it out.

qsm-odoo on (2025-01-15 16:10:26 UTC): @fres-sudo Still, do you need the h2 rule? I don't think so? :thinking: Won't you have the same effect adding the word-break rule on the span, with the white-space rule?

fres-sudo (Issue Creator) on (2025-01-16 08:59:08 UTC): @qsm-odoo You're right, I fixed it! Thanks a lot! 
@reth-odoo Hope this seems better also to you, thank you too.

"
2773373496,pull_request,closed,,[FW][FIX] hw_drivers: landscape report printing on windows,"On Virtual IoT Boxes, a landscape report was still printed in portrait.
We added the argument required to handle landscape printing.

opw-4081884

Forward-Port-Of: odoo/odoo#192634",fw-bot,2025-01-07 17:23:07+00:00,[],2025-01-21 23:37:06+00:00,2025-01-07 22:14:31+00:00,https://github.com/odoo/odoo/pull/192768,"[('OE', 'the report is linked to a support ticket (opw-...)'), ('forwardport', 'This PR was created by @fw-bot'), ('18.2', None)]","[{'comment_id': 2575847754, 'issue_id': 2773373496, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/192768.png)](https://mergebot.odoo.com/odoo/odoo/pull/192768)', 'created_at': datetime.datetime(2025, 1, 7, 17, 23, 8, tzinfo=datetime.timezone.utc)}, {'comment_id': 2575847776, 'issue_id': 2773373496, 'author': 'fw-bot', 'body': '@loouis-t @Ysoroko this PR targets master and is the last of the forward-port chain containing:\n* odoo/odoo#192747\n* odoo/odoo#192731\n* odoo/odoo#192713\n* odoo/odoo#192689\n\nTo merge the full chain, use\n> @robodoo r+\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 7, 17, 23, 9, tzinfo=datetime.timezone.utc)}, {'comment_id': 2575914670, 'issue_id': 2773373496, 'author': 'loouis-t', 'body': '@robodoo r+', 'created_at': datetime.datetime(2025, 1, 7, 17, 59, 47, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-07 17:23:08 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/192768.png)](https://mergebot.odoo.com/odoo/odoo/pull/192768)

fw-bot (Issue Creator) on (2025-01-07 17:23:09 UTC): @loouis-t @Ysoroko this PR targets master and is the last of the forward-port chain containing:
* odoo/odoo#192747
* odoo/odoo#192731
* odoo/odoo#192713
* odoo/odoo#192689

To merge the full chain, use

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

loouis-t on (2025-01-07 17:59:47 UTC): @robodoo r+

"
2773367979,pull_request,closed,,[FIX] point_of_sale: remove receipt scrollbar,"Receipt printed with short names would have a scrollbar shown on it The issue was added in this previous commit: https://github.com/odoo/odoo/pull/192544

opw-4414311
",robinengels,2025-01-07 17:20:10+00:00,[],2025-01-22 09:43:07+00:00,2025-01-08 09:23:35+00:00,https://github.com/odoo/odoo/pull/192767,"[('OE', 'the report is linked to a support ticket (opw-...)')]","[{'comment_id': 2575842415, 'issue_id': 2773367979, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/192767.png)](https://mergebot.odoo.com/odoo/odoo/pull/192767)', 'created_at': datetime.datetime(2025, 1, 7, 17, 20, 13, tzinfo=datetime.timezone.utc)}, {'comment_id': 2575843964, 'issue_id': 2773367979, 'author': 'robinengels', 'body': '@robodoo fw=no', 'created_at': datetime.datetime(2025, 1, 7, 17, 21, 3, tzinfo=datetime.timezone.utc)}, {'comment_id': 2575844054, 'issue_id': 2773367979, 'author': 'robodoo', 'body': 'Disabled forward-porting.', 'created_at': datetime.datetime(2025, 1, 7, 17, 21, 7, tzinfo=datetime.timezone.utc)}, {'comment_id': 2575844792, 'issue_id': 2773367979, 'author': 'robinengels', 'body': 'The issue is already fixed in the forward port of the original fix https://github.com/odoo/odoo/pull/192690', 'created_at': datetime.datetime(2025, 1, 7, 17, 21, 31, tzinfo=datetime.timezone.utc)}, {'comment_id': 2576987169, 'issue_id': 2773367979, 'author': 'caburj', 'body': 'robodoo r+', 'created_at': datetime.datetime(2025, 1, 8, 8, 1, 44, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-07 17:20:13 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/192767.png)](https://mergebot.odoo.com/odoo/odoo/pull/192767)

robinengels (Issue Creator) on (2025-01-07 17:21:03 UTC): @robodoo fw=no

robodoo on (2025-01-07 17:21:07 UTC): Disabled forward-porting.

robinengels (Issue Creator) on (2025-01-07 17:21:31 UTC): The issue is already fixed in the forward port of the original fix https://github.com/odoo/odoo/pull/192690

caburj on (2025-01-08 08:01:44 UTC): robodoo r+

"
2773350022,pull_request,closed,,[FW][FIX] point_of_sale: remove custom properties 'nodestroy' to avoid warning,"-This commit remove custom properties 'nodestroy' to avoid warning like this: `odoo.addons.web.controllers.utils: Action 'Customer Invoice' contains custom properties 'nodestroy'`. Passing them via the `params` or `context` properties is recommended instead

Description of the issue/feature this PR addresses:

Current behavior before PR:

Desired behavior after PR is merged:




---
I confirm I have signed the CLA and read the PR guidelines at www.odoo.com/submit-pr

Forward-Port-Of: odoo/odoo#161814",fw-bot,2025-01-07 17:10:35+00:00,[],2025-02-05 16:42:33+00:00,2025-01-22 16:20:55+00:00,https://github.com/odoo/odoo/pull/192766,"[('RD', 'research & development, internal work'), ('forwardport', 'This PR was created by @fw-bot')]","[{'comment_id': 2575822853, 'issue_id': 2773350022, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/192766.png)](https://mergebot.odoo.com/odoo/odoo/pull/192766)', 'created_at': datetime.datetime(2025, 1, 7, 17, 10, 36, tzinfo=datetime.timezone.utc)}, {'comment_id': 2575822875, 'issue_id': 2773350022, 'author': 'fw-bot', 'body': 'This PR targets saas-17.2 and is part of the forward-port chain. Further PRs will be created up to master.\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 7, 17, 10, 37, tzinfo=datetime.timezone.utc)}, {'comment_id': 2607344136, 'issue_id': 2773350022, 'author': 'davidmonnom', 'body': '@robodoo r+', 'created_at': datetime.datetime(2025, 1, 22, 14, 7, 23, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-07 17:10:36 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/192766.png)](https://mergebot.odoo.com/odoo/odoo/pull/192766)

fw-bot (Issue Creator) on (2025-01-07 17:10:37 UTC): This PR targets saas-17.2 and is part of the forward-port chain. Further PRs will be created up to master.

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

davidmonnom on (2025-01-22 14:07:23 UTC): @robodoo r+

"
2773349086,pull_request,closed,,[FW][FIX] point_of_sale: ensure invoice is paid when invoicing,"Before this commit, if a payment method requiring customer identification was used for an order in Point of Sale but the order was not immediately invoiced, closing the session and later invoicing the order in a new session would result in the invoice being marked as unpaid.

opw-4292231

---
I confirm I have signed the CLA and read the PR guidelines at www.odoo.com/submit-pr

Forward-Port-Of: odoo/odoo#187759",fw-bot,2025-01-07 17:10:17+00:00,[],2025-01-28 13:52:07+00:00,2025-01-14 13:48:56+00:00,https://github.com/odoo/odoo/pull/192765,"[('OE', 'the report is linked to a support ticket (opw-...)'), ('forwardport', 'This PR was created by @fw-bot')]","[{'comment_id': 2575822183, 'issue_id': 2773349086, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/192765.png)](https://mergebot.odoo.com/odoo/odoo/pull/192765)', 'created_at': datetime.datetime(2025, 1, 7, 17, 10, 19, tzinfo=datetime.timezone.utc)}, {'comment_id': 2575822210, 'issue_id': 2773349086, 'author': 'fw-bot', 'body': 'This PR targets saas-17.2 and is part of the forward-port chain. Further PRs will be created up to master.\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 7, 17, 10, 19, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-07 17:10:19 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/192765.png)](https://mergebot.odoo.com/odoo/odoo/pull/192765)

fw-bot (Issue Creator) on (2025-01-07 17:10:19 UTC): This PR targets saas-17.2 and is part of the forward-port chain. Further PRs will be created up to master.

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

"
2773343827,pull_request,closed,,[FW][FIX] l10n_es_edi_tbai: only use regime key 52 for simplified invoice,"**Steps to reproduce:**
- Install l10n_es_edi_tbai
- Switch to a Spanish company (e.g. ES Company)
- Create an invoice with ""Simplified Invoice Partner (ES)"" as customer
- Confirm the invoice
- Process the invoice with ""TicketBAI (ES)"" service

**Issue:**
The generated XML has 2 regime keys (02 and 52) for <ClaveRegimenIvaOpTrascendencia> that are not compatible with each other.
From the documentation, regime key ""52"" (for simplified invoices) can only be associated with regime key ""51"", which is not supported for the moment.

**Solution:**
If the ""Simplified Invoice Partner"" is used, only the regime key ""52"" is used.

opw-4332052
opw-4355424




---
I confirm I have signed the CLA and read the PR guidelines at www.odoo.com/submit-pr

Forward-Port-Of: odoo/odoo#192687
Forward-Port-Of: odoo/odoo#192448",fw-bot,2025-01-07 17:07:35+00:00,[],2025-01-22 10:58:10+00:00,2025-01-08 10:52:05+00:00,https://github.com/odoo/odoo/pull/192764,"[('OE', 'the report is linked to a support ticket (opw-...)'), ('forwardport', 'This PR was created by @fw-bot')]","[{'comment_id': 2575816786, 'issue_id': 2773343827, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/192764.png)](https://mergebot.odoo.com/odoo/odoo/pull/192764)', 'created_at': datetime.datetime(2025, 1, 7, 17, 7, 36, tzinfo=datetime.timezone.utc)}, {'comment_id': 2575816809, 'issue_id': 2773343827, 'author': 'fw-bot', 'body': 'This PR targets saas-17.4 and is part of the forward-port chain. Further PRs will be created up to master.\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 7, 17, 7, 37, tzinfo=datetime.timezone.utc)}, {'comment_id': 2575903346, 'issue_id': 2773343827, 'author': 'fw-bot', 'body': '@kitan191 @RicGR98 ci/runbot failed on this forward-port PR', 'created_at': datetime.datetime(2025, 1, 7, 17, 53, 4, tzinfo=datetime.timezone.utc)}, {'comment_id': 2576912678, 'issue_id': 2773343827, 'author': 'fw-bot', 'body': '@kitan191 @RicGR98 the next pull request (odoo/odoo#192825) is in conflict. You can merge the chain up to here by saying\n> @robodoo r+\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 8, 7, 19, 29, tzinfo=datetime.timezone.utc)}, {'comment_id': 2577091492, 'issue_id': 2773343827, 'author': 'kitan191', 'body': '@robodoo r+', 'created_at': datetime.datetime(2025, 1, 8, 8, 43, 51, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-07 17:07:36 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/192764.png)](https://mergebot.odoo.com/odoo/odoo/pull/192764)

fw-bot (Issue Creator) on (2025-01-07 17:07:37 UTC): This PR targets saas-17.4 and is part of the forward-port chain. Further PRs will be created up to master.

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

fw-bot (Issue Creator) on (2025-01-07 17:53:04 UTC): @kitan191 @RicGR98 ci/runbot failed on this forward-port PR

fw-bot (Issue Creator) on (2025-01-08 07:19:29 UTC): @kitan191 @RicGR98 the next pull request (odoo/odoo#192825) is in conflict. You can merge the chain up to here by saying

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

kitan191 on (2025-01-08 08:43:51 UTC): @robodoo r+

"
2773337370,pull_request,closed,,[FW][FIX] purchase_stock: adjust button layout,"In Odoo, an issue araised where the ""Expected Arrival"" date field was overlapped when zooming in. This was due to the button ""action_purchase_vendor_delay_report"".

To adress this, the related button was encapsulated within a <div> element. This change ensure that the layout remains consistent and the elements does not overlap regardless of the zoom level.

opw-4316093

---
I confirm I have signed the CLA and read the PR guidelines at www.odoo.com/submit-pr

Forward-Port-Of: odoo/odoo#187179",fw-bot,2025-01-07 17:04:05+00:00,[],2025-01-22 12:21:41+00:00,2025-01-08 12:15:58+00:00,https://github.com/odoo/odoo/pull/192762,"[('OE', 'the report is linked to a support ticket (opw-...)'), ('forwardport', 'This PR was created by @fw-bot')]","[{'comment_id': 2575809551, 'issue_id': 2773337370, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/192762.png)](https://mergebot.odoo.com/odoo/odoo/pull/192762)', 'created_at': datetime.datetime(2025, 1, 7, 17, 4, 7, tzinfo=datetime.timezone.utc)}, {'comment_id': 2575809571, 'issue_id': 2773337370, 'author': 'fw-bot', 'body': 'This PR targets saas-17.4 and is part of the forward-port chain. Further PRs will be created up to master.\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 7, 17, 4, 8, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-07 17:04:07 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/192762.png)](https://mergebot.odoo.com/odoo/odoo/pull/192762)

fw-bot (Issue Creator) on (2025-01-07 17:04:08 UTC): This PR targets saas-17.4 and is part of the forward-port chain. Further PRs will be created up to master.

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

"
2773335906,pull_request,closed,,[FW][FIX] web_editor: line breaks at edges of block anchor nested within li,"Description of the issue this PR addresses:

I. Commit [1] handled cases of pressing enter at the edge of an anchor, which is a
child of an unbreakable element. The commit inserted the `br`'s after anchors;
however, it missed the situation where the anchor tags are block elements nested
inside an unbreakable element inside a `li`. In this specific case, inserting
two `br` tags after a anchor block resulted in the creation of two new lines.
This PR handles that case by only inserting one `br` tag after the anchor,
rather than both.

II. Previously when changing selection between links in website, when clicking on a
link the previous link used to get selected. This commit makes sure that when
changing selection in between links it selects the correct link.

III. This PR ensures that the link popover closes when the cursor moves outside
the link.

[1]: https://github.com/odoo/odoo/commit/df6f8dd0c54c40ea7edbd3821ae068d79b1b7af7

task-3631910

---
I confirm I have signed the CLA and read the PR guidelines at www.odoo.com/submit-pr

Forward-Port-Of: odoo/odoo#192299
Forward-Port-Of: odoo/odoo#171469",fw-bot,2025-01-07 17:03:20+00:00,[],2025-01-24 16:48:53+00:00,2025-01-10 16:45:56+00:00,https://github.com/odoo/odoo/pull/192761,"[('RD', 'research & development, internal work'), ('forwardport', 'This PR was created by @fw-bot'), ('conflict', 'There was an error while creating this forward-port PR')]","[{'comment_id': 2575808023, 'issue_id': 2773335906, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/192761.png)](https://mergebot.odoo.com/odoo/odoo/pull/192761)', 'created_at': datetime.datetime(2025, 1, 7, 17, 3, 21, tzinfo=datetime.timezone.utc)}, {'comment_id': 2575808040, 'issue_id': 2773335906, 'author': 'fw-bot', 'body': '@deso-odoo @dmo-odoo cherrypicking of pull request odoo/odoo#171469 failed.\n\n* 2c67fd1d5a82f3bd9ccf2ab1cf2a904289dec1ed\n* 979a0f7daa14af9c910a5e5e4290fb66c105a430 <- on this commit\n\nstdout:\n```\nAuto-merging addons/web_editor/static/src/js/wysiwyg/wysiwyg.js\nAuto-merging addons/website/static/tests/tours/edit_link_popover.js\nCONFLICT (content): Merge conflict in addons/website/static/tests/tours/edit_link_popover.js\n\n```\n\nEither perform the forward-port manually (and push to this branch, proceeding as usual) or close this PR (maybe?).\n\nIn the former case, you may want to edit this PR message as well.\n\n:warning: after resolving this conflict, you will need to merge it via @robodoo.\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 7, 17, 3, 22, tzinfo=datetime.timezone.utc)}, {'comment_id': 2576558353, 'issue_id': 2773335906, 'author': 'fw-bot', 'body': '@deso-odoo @dmo-odoo this forward port of odoo/odoo#171469 is awaiting action (not merged or closed).', 'created_at': datetime.datetime(2025, 1, 8, 2, 1, 56, tzinfo=datetime.timezone.utc)}, {'comment_id': 2582400113, 'issue_id': 2773335906, 'author': 'deso-odoo', 'body': '@dmo-odoo Conflicts resolved.', 'created_at': datetime.datetime(2025, 1, 10, 10, 45, 8, tzinfo=datetime.timezone.utc)}, {'comment_id': 2582942846, 'issue_id': 2773335906, 'author': 'dmo-odoo', 'body': '@robodoo rebase-ff r+', 'created_at': datetime.datetime(2025, 1, 10, 15, 19, tzinfo=datetime.timezone.utc)}, {'comment_id': 2582942922, 'issue_id': 2773335906, 'author': 'robodoo', 'body': 'Merge method set to rebase and fast-forward.', 'created_at': datetime.datetime(2025, 1, 10, 15, 19, 3, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-07 17:03:21 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/192761.png)](https://mergebot.odoo.com/odoo/odoo/pull/192761)

fw-bot (Issue Creator) on (2025-01-07 17:03:22 UTC): @deso-odoo @dmo-odoo cherrypicking of pull request odoo/odoo#171469 failed.

* 2c67fd1d5a82f3bd9ccf2ab1cf2a904289dec1ed
* 979a0f7daa14af9c910a5e5e4290fb66c105a430 <- on this commit

stdout:
```
Auto-merging addons/web_editor/static/src/js/wysiwyg/wysiwyg.js
Auto-merging addons/website/static/tests/tours/edit_link_popover.js
CONFLICT (content): Merge conflict in addons/website/static/tests/tours/edit_link_popover.js

```

Either perform the forward-port manually (and push to this branch, proceeding as usual) or close this PR (maybe?).

In the former case, you may want to edit this PR message as well.

:warning: after resolving this conflict, you will need to merge it via @robodoo.

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

fw-bot (Issue Creator) on (2025-01-08 02:01:56 UTC): @deso-odoo @dmo-odoo this forward port of odoo/odoo#171469 is awaiting action (not merged or closed).

deso-odoo on (2025-01-10 10:45:08 UTC): @dmo-odoo Conflicts resolved.

dmo-odoo on (2025-01-10 15:19:00 UTC): @robodoo rebase-ff r+

robodoo on (2025-01-10 15:19:03 UTC): Merge method set to rebase and fast-forward.

"
2773331967,pull_request,closed,,[FW][FIX] web_editor: selection fails on link when applying style,"**Current behaviour before PR:**

In website, when trying to apply color or any style on a link from toolbar whole link gets selected. This happens because in `wysiwyg.js` `destroyLinkTools` method gets called when user clicks on toolbar to apply color.

**Behaviour after PR:**

Now, any style can be applied on a link without selecting whole link.

task-4072867




---
I confirm I have signed the CLA and read the PR guidelines at www.odoo.com/submit-pr

Forward-Port-Of: odoo/odoo#192297
Forward-Port-Of: odoo/odoo#180616",fw-bot,2025-01-07 17:01:20+00:00,[],2025-01-22 15:14:29+00:00,2025-01-08 14:58:05+00:00,https://github.com/odoo/odoo/pull/192760,"[('RD', 'research & development, internal work'), ('forwardport', 'This PR was created by @fw-bot'), ('conflict', 'There was an error while creating this forward-port PR')]","[{'comment_id': 2575803937, 'issue_id': 2773331967, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/192760.png)](https://mergebot.odoo.com/odoo/odoo/pull/192760)', 'created_at': datetime.datetime(2025, 1, 7, 17, 1, 22, tzinfo=datetime.timezone.utc)}, {'comment_id': 2575804039, 'issue_id': 2773331967, 'author': 'fw-bot', 'body': '@adsa-odoo @dmo-odoo cherrypicking of pull request odoo/odoo#180616 failed.\n\nstdout:\n```\nAuto-merging addons/web_editor/static/src/js/wysiwyg/wysiwyg.js\nCONFLICT (content): Merge conflict in addons/web_editor/static/src/js/wysiwyg/wysiwyg.js\nAuto-merging addons/website/static/tests/tours/link_tools.js\nCONFLICT (content): Merge conflict in addons/website/static/tests/tours/link_tools.js\n\n```\n\nEither perform the forward-port manually (and push to this branch, proceeding as usual) or close this PR (maybe?).\n\nIn the former case, you may want to edit this PR message as well.\n\n:warning: after resolving this conflict, you will need to merge it via @robodoo.\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 7, 17, 1, 24, tzinfo=datetime.timezone.utc)}, {'comment_id': 2576558276, 'issue_id': 2773331967, 'author': 'fw-bot', 'body': '@adsa-odoo @dmo-odoo this forward port of odoo/odoo#180616 is awaiting action (not merged or closed).', 'created_at': datetime.datetime(2025, 1, 8, 2, 1, 53, tzinfo=datetime.timezone.utc)}, {'comment_id': 2577293288, 'issue_id': 2773331967, 'author': 'dmo-odoo', 'body': '@adsa-odoo Is the issue also in `html_editor` or not?', 'created_at': datetime.datetime(2025, 1, 8, 10, 11, 24, tzinfo=datetime.timezone.utc)}, {'comment_id': 2577304610, 'issue_id': 2773331967, 'author': 'adsa-odoo', 'body': '> @adsa-odoo Is the issue also in `html_editor` or not?\r\n\r\nNo, the issue occurs only in website.', 'created_at': datetime.datetime(2025, 1, 8, 10, 16, 46, tzinfo=datetime.timezone.utc)}, {'comment_id': 2577424966, 'issue_id': 2773331967, 'author': 'dmo-odoo', 'body': '@adsa-odoo Great, thanks!\r\n@robodoo r+', 'created_at': datetime.datetime(2025, 1, 8, 11, 18, 29, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-07 17:01:22 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/192760.png)](https://mergebot.odoo.com/odoo/odoo/pull/192760)

fw-bot (Issue Creator) on (2025-01-07 17:01:24 UTC): @adsa-odoo @dmo-odoo cherrypicking of pull request odoo/odoo#180616 failed.

stdout:
```
Auto-merging addons/web_editor/static/src/js/wysiwyg/wysiwyg.js
CONFLICT (content): Merge conflict in addons/web_editor/static/src/js/wysiwyg/wysiwyg.js
Auto-merging addons/website/static/tests/tours/link_tools.js
CONFLICT (content): Merge conflict in addons/website/static/tests/tours/link_tools.js

```

Either perform the forward-port manually (and push to this branch, proceeding as usual) or close this PR (maybe?).

In the former case, you may want to edit this PR message as well.

:warning: after resolving this conflict, you will need to merge it via @robodoo.

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

fw-bot (Issue Creator) on (2025-01-08 02:01:53 UTC): @adsa-odoo @dmo-odoo this forward port of odoo/odoo#180616 is awaiting action (not merged or closed).

dmo-odoo on (2025-01-08 10:11:24 UTC): @adsa-odoo Is the issue also in `html_editor` or not?

adsa-odoo on (2025-01-08 10:16:46 UTC): No, the issue occurs only in website.

dmo-odoo on (2025-01-08 11:18:29 UTC): @adsa-odoo Great, thanks!
@robodoo r+

"
2773321413,pull_request,closed,,[FIX] account: creating a bank statement from the transaction list view,"Step to reproduce
* open the reconcilation widget and toggle the list view
* multi edit bank statement lines and assign them a new bank statement with name 'BLABLA 1'
* click save and see how Odoo just didn't keep your name at all

The reason is that the module account_bank_statement_extract forces the recomputation of the name when the statement's date changes which happens at the creation (and triggers our bug) but also when the OCR fills that value (in which case we still want that).

So to fix that,
* the default name of the statement line now check if the statement date is falsy, to avoid having a default name as 'BNK1 Statement False', and fallback on the create_date
* when filling the OCR values, we check if the statement still has the same structure, we can assume it wasn't manually changed and we can safely replace the default name

ticket-4424021

Description of the issue/feature this PR addresses:

Current behavior before PR:

Desired behavior after PR is merged:




---
I confirm I have signed the CLA and read the PR guidelines at www.odoo.com/submit-pr
",qdp-odoo,2025-01-07 16:56:24+00:00,[],2025-01-23 19:10:15+00:00,2025-01-09 19:01:38+00:00,https://github.com/odoo/odoo/pull/192759,"[('RD', 'research & development, internal work')]","[{'comment_id': 2575793581, 'issue_id': 2773321413, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/192759.png)](https://mergebot.odoo.com/odoo/odoo/pull/192759)', 'created_at': datetime.datetime(2025, 1, 7, 16, 56, 27, tzinfo=datetime.timezone.utc)}, {'comment_id': 2580736468, 'issue_id': 2773321413, 'author': 'h4818', 'body': '@robodoo rebase-ff', 'created_at': datetime.datetime(2025, 1, 9, 16, 27, 42, tzinfo=datetime.timezone.utc)}, {'comment_id': 2580736629, 'issue_id': 2773321413, 'author': 'robodoo', 'body': 'Merge method set to rebase and fast-forward.', 'created_at': datetime.datetime(2025, 1, 9, 16, 27, 45, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-07 16:56:27 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/192759.png)](https://mergebot.odoo.com/odoo/odoo/pull/192759)

h4818 on (2025-01-09 16:27:42 UTC): @robodoo rebase-ff

robodoo on (2025-01-09 16:27:45 UTC): Merge method set to rebase and fast-forward.

"
2773316398,pull_request,closed,,[FW][FIX] hw_drivers: missing import for logger,"DisplayDriver was missing the logger definition, resulting in a crash when a specific exception occured.

Forward-Port-Of: odoo/odoo#192725",fw-bot,2025-01-07 16:54:05+00:00,[],2025-01-21 23:37:05+00:00,2025-01-07 22:14:26+00:00,https://github.com/odoo/odoo/pull/192758,"[('RD', 'research & development, internal work'), ('forwardport', 'This PR was created by @fw-bot'), ('18.2', None)]","[{'comment_id': 2575789183, 'issue_id': 2773316398, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/192758.png)](https://mergebot.odoo.com/odoo/odoo/pull/192758)', 'created_at': datetime.datetime(2025, 1, 7, 16, 54, 27, tzinfo=datetime.timezone.utc)}, {'comment_id': 2575789215, 'issue_id': 2773316398, 'author': 'fw-bot', 'body': '@loouis-t @Ysoroko this PR targets master and is the last of the forward-port chain.\n\nTo merge the full chain, use\n> @robodoo r+\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 7, 16, 54, 27, tzinfo=datetime.timezone.utc)}, {'comment_id': 2575793022, 'issue_id': 2773316398, 'author': 'loouis-t', 'body': '@robodoo r+', 'created_at': datetime.datetime(2025, 1, 7, 16, 56, 11, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-07 16:54:27 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/192758.png)](https://mergebot.odoo.com/odoo/odoo/pull/192758)

fw-bot (Issue Creator) on (2025-01-07 16:54:27 UTC): @loouis-t @Ysoroko this PR targets master and is the last of the forward-port chain.

To merge the full chain, use

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

loouis-t on (2025-01-07 16:56:11 UTC): @robodoo r+

"
2773303972,pull_request,closed,,[FW][FIX] point_of_sale: set confirm button as default in number popup,"Before this commit, when the number popup was opened, pressing any key would select the ""1"" button by default. This caused the number ""1"" to be added to the buffer when pressing ""Enter"" while typing numbers with the keyboard.

This behavior was particularly problematic when entering the PIN code for employee login, leading to incorrect entries.

Additionally, a small modification was made to prevent the incorrect password alert from appearing when the popup is closed.

opw-4428481

---
I confirm I have signed the CLA and read the PR guidelines at www.odoo.com/submit-pr

Forward-Port-Of: odoo/odoo#192231",fw-bot,2025-01-07 16:47:57+00:00,[],2025-01-14 09:29:04+00:00,2025-01-14 09:29:03+00:00,https://github.com/odoo/odoo/pull/192757,"[('OE', 'the report is linked to a support ticket (opw-...)'), ('forwardport', 'This PR was created by @fw-bot'), ('conflict', 'There was an error while creating this forward-port PR')]","[{'comment_id': 2575775489, 'issue_id': 2773303972, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/192757.png)](https://mergebot.odoo.com/odoo/odoo/pull/192757)', 'created_at': datetime.datetime(2025, 1, 7, 16, 47, 58, tzinfo=datetime.timezone.utc)}, {'comment_id': 2575775523, 'issue_id': 2773303972, 'author': 'fw-bot', 'body': '@pedrambiria @caburj cherrypicking of pull request odoo/odoo#192231 failed.\n\nstdout:\n```\nAuto-merging addons/point_of_sale/static/src/app/utils/input_popups/number_popup.xml\nCONFLICT (content): Merge conflict in addons/point_of_sale/static/src/app/utils/input_popups/number_popup.xml\nAuto-merging addons/pos_hr/static/src/app/select_cashier_mixin.js\nCONFLICT (content): Merge conflict in addons/pos_hr/static/src/app/select_cashier_mixin.js\n\n```\n\nEither perform the forward-port manually (and push to this branch, proceeding as usual) or close this PR (maybe?).\n\nIn the former case, you may want to edit this PR message as well.\n\n:warning: after resolving this conflict, you will need to merge it via @robodoo.\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 7, 16, 47, 59, tzinfo=datetime.timezone.utc)}, {'comment_id': 2585000300, 'issue_id': 2773303972, 'author': 'fw-bot', 'body': '@pedrambiria @caburj this forward port of odoo/odoo#192231 is awaiting action (not merged or closed).', 'created_at': datetime.datetime(2025, 1, 11, 2, 1, 17, tzinfo=datetime.timezone.utc)}, {'comment_id': 2585541788, 'issue_id': 2773303972, 'author': 'fw-bot', 'body': '@pedrambiria @caburj this forward port of odoo/odoo#192231 is awaiting action (not merged or closed).', 'created_at': datetime.datetime(2025, 1, 12, 2, 1, 35, tzinfo=datetime.timezone.utc)}, {'comment_id': 2586046483, 'issue_id': 2773303972, 'author': 'fw-bot', 'body': '@pedrambiria @caburj this forward port of odoo/odoo#192231 is awaiting action (not merged or closed).', 'created_at': datetime.datetime(2025, 1, 13, 2, 1, 55, tzinfo=datetime.timezone.utc)}, {'comment_id': 2588619054, 'issue_id': 2773303972, 'author': 'fw-bot', 'body': '@pedrambiria @caburj this forward port of odoo/odoo#192231 is awaiting action (not merged or closed).', 'created_at': datetime.datetime(2025, 1, 14, 2, 1, 34, tzinfo=datetime.timezone.utc)}, {'comment_id': 2589422834, 'issue_id': 2773303972, 'author': 'pedrambiria', 'body': 'It has been fixed in this version', 'created_at': datetime.datetime(2025, 1, 14, 9, 29, 3, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-07 16:47:58 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/192757.png)](https://mergebot.odoo.com/odoo/odoo/pull/192757)

fw-bot (Issue Creator) on (2025-01-07 16:47:59 UTC): @pedrambiria @caburj cherrypicking of pull request odoo/odoo#192231 failed.

stdout:
```
Auto-merging addons/point_of_sale/static/src/app/utils/input_popups/number_popup.xml
CONFLICT (content): Merge conflict in addons/point_of_sale/static/src/app/utils/input_popups/number_popup.xml
Auto-merging addons/pos_hr/static/src/app/select_cashier_mixin.js
CONFLICT (content): Merge conflict in addons/pos_hr/static/src/app/select_cashier_mixin.js

```

Either perform the forward-port manually (and push to this branch, proceeding as usual) or close this PR (maybe?).

In the former case, you may want to edit this PR message as well.

:warning: after resolving this conflict, you will need to merge it via @robodoo.

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

fw-bot (Issue Creator) on (2025-01-11 02:01:17 UTC): @pedrambiria @caburj this forward port of odoo/odoo#192231 is awaiting action (not merged or closed).

fw-bot (Issue Creator) on (2025-01-12 02:01:35 UTC): @pedrambiria @caburj this forward port of odoo/odoo#192231 is awaiting action (not merged or closed).

fw-bot (Issue Creator) on (2025-01-13 02:01:55 UTC): @pedrambiria @caburj this forward port of odoo/odoo#192231 is awaiting action (not merged or closed).

fw-bot (Issue Creator) on (2025-01-14 02:01:34 UTC): @pedrambiria @caburj this forward port of odoo/odoo#192231 is awaiting action (not merged or closed).

pedrambiria on (2025-01-14 09:29:03 UTC): It has been fixed in this version

"
2773277057,pull_request,closed,,[FW][FIX] web_editor: correct triple click when applying font size,"Description of the issue this PR addresses:

Current behavior before PR:

Triple-clicking to select text, with a nextSibling set as contenteditable false, would reset the selection to its previous state.

Desired behavior after PR is merged:

Correct the triple click selection when applying font-size.

task-4440354

---
I confirm I have signed the CLA and read the PR guidelines at www.odoo.com/submit-pr

Forward-Port-Of: odoo/odoo#192387
Forward-Port-Of: odoo/odoo#192139",fw-bot,2025-01-07 16:35:11+00:00,[],2025-01-22 14:39:33+00:00,2025-01-08 14:33:10+00:00,https://github.com/odoo/odoo/pull/192756,"[('RD', 'research & development, internal work'), ('forwardport', 'This PR was created by @fw-bot')]","[{'comment_id': 2575746390, 'issue_id': 2773277057, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/192756.png)](https://mergebot.odoo.com/odoo/odoo/pull/192756)', 'created_at': datetime.datetime(2025, 1, 7, 16, 35, 13, tzinfo=datetime.timezone.utc)}, {'comment_id': 2575746480, 'issue_id': 2773277057, 'author': 'fw-bot', 'body': 'This PR targets saas-18.1 and is part of the forward-port chain. Further PRs will be created up to master.\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 7, 16, 35, 15, tzinfo=datetime.timezone.utc)}, {'comment_id': 2577238007, 'issue_id': 2773277057, 'author': 'robodoo', 'body': '@deso-odoo @dmo-odoo staging failed: ci/runbot on 2b5f510d2dcf59a45a365e45ea0629efaa70d3fc (view more at https://runbot.odoo.com/runbot/build/73018963)', 'created_at': datetime.datetime(2025, 1, 8, 9, 47, 2, tzinfo=datetime.timezone.utc)}, {'comment_id': 2577272063, 'issue_id': 2773277057, 'author': 'dmo-odoo', 'body': '@robodoo retry', 'created_at': datetime.datetime(2025, 1, 8, 10, 3, 13, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-07 16:35:13 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/192756.png)](https://mergebot.odoo.com/odoo/odoo/pull/192756)

fw-bot (Issue Creator) on (2025-01-07 16:35:15 UTC): This PR targets saas-18.1 and is part of the forward-port chain. Further PRs will be created up to master.

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

robodoo on (2025-01-08 09:47:02 UTC): @deso-odoo @dmo-odoo staging failed: ci/runbot on 2b5f510d2dcf59a45a365e45ea0629efaa70d3fc (view more at https://runbot.odoo.com/runbot/build/73018963)

dmo-odoo on (2025-01-08 10:03:13 UTC): @robodoo retry

"
2773270658,pull_request,closed,,[FW][FIX] point_of_sale: prevent loading non-included pricelists,"Before this commit, it was possible to load pricelists that were not available in the PoS.

opw-4423566

---
I confirm I have signed the CLA and read the PR guidelines at www.odoo.com/submit-pr

Forward-Port-Of: odoo/odoo#191560",fw-bot,2025-01-07 16:32:01+00:00,[],2025-01-27 18:24:40+00:00,2025-01-13 18:06:36+00:00,https://github.com/odoo/odoo/pull/192755,"[('OE', 'the report is linked to a support ticket (opw-...)'), ('forwardport', 'This PR was created by @fw-bot'), ('conflict', 'There was an error while creating this forward-port PR')]","[{'comment_id': 2575739367, 'issue_id': 2773270658, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/192755.png)](https://mergebot.odoo.com/odoo/odoo/pull/192755)', 'created_at': datetime.datetime(2025, 1, 7, 16, 32, 2, tzinfo=datetime.timezone.utc)}, {'comment_id': 2575739462, 'issue_id': 2773270658, 'author': 'fw-bot', 'body': '@pedrambiria @adgu-odoo cherrypicking of pull request odoo/odoo#191560 failed.\n\nstdout:\n```\nAuto-merging addons/point_of_sale/models/pos_config.py\nAuto-merging addons/point_of_sale/models/pos_session.py\nCONFLICT (content): Merge conflict in addons/point_of_sale/models/pos_session.py\nCONFLICT (modify/delete): addons/point_of_sale/models/product.py deleted in bfca11a50da211d3485b698b883be88fb87c8004 and modified in 3766656bf31fe13888a5c2886a37b6365953467d.  Version 3766656bf31fe13888a5c2886a37b6365953467d of addons/point_of_sale/models/product.py left in tree.\nAuto-merging addons/point_of_sale/static/src/app/services/pos_store.js\nCONFLICT (content): Merge conflict in addons/point_of_sale/static/src/app/services/pos_store.js\n\n```\n\nEither perform the forward-port manually (and push to this branch, proceeding as usual) or close this PR (maybe?).\n\nIn the former case, you may want to edit this PR message as well.\n\n:warning: after resolving this conflict, you will need to merge it via @robodoo.\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 7, 16, 32, 4, tzinfo=datetime.timezone.utc)}, {'comment_id': 2585000385, 'issue_id': 2773270658, 'author': 'fw-bot', 'body': '@pedrambiria @adgu-odoo this forward port of odoo/odoo#191560 is awaiting action (not merged or closed).', 'created_at': datetime.datetime(2025, 1, 11, 2, 1, 23, tzinfo=datetime.timezone.utc)}, {'comment_id': 2585541855, 'issue_id': 2773270658, 'author': 'fw-bot', 'body': '@pedrambiria @adgu-odoo this forward port of odoo/odoo#191560 is awaiting action (not merged or closed).', 'created_at': datetime.datetime(2025, 1, 12, 2, 1, 50, tzinfo=datetime.timezone.utc)}, {'comment_id': 2586046875, 'issue_id': 2773270658, 'author': 'fw-bot', 'body': '@pedrambiria @adgu-odoo this forward port of odoo/odoo#191560 is awaiting action (not merged or closed).', 'created_at': datetime.datetime(2025, 1, 13, 2, 2, 16, tzinfo=datetime.timezone.utc)}, {'comment_id': 2587391702, 'issue_id': 2773270658, 'author': 'pedrambiria', 'body': 'robodoo r+', 'created_at': datetime.datetime(2025, 1, 13, 15, 16, 41, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-07 16:32:02 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/192755.png)](https://mergebot.odoo.com/odoo/odoo/pull/192755)

fw-bot (Issue Creator) on (2025-01-07 16:32:04 UTC): @pedrambiria @adgu-odoo cherrypicking of pull request odoo/odoo#191560 failed.

stdout:
```
Auto-merging addons/point_of_sale/models/pos_config.py
Auto-merging addons/point_of_sale/models/pos_session.py
CONFLICT (content): Merge conflict in addons/point_of_sale/models/pos_session.py
CONFLICT (modify/delete): addons/point_of_sale/models/product.py deleted in bfca11a50da211d3485b698b883be88fb87c8004 and modified in 3766656bf31fe13888a5c2886a37b6365953467d.  Version 3766656bf31fe13888a5c2886a37b6365953467d of addons/point_of_sale/models/product.py left in tree.
Auto-merging addons/point_of_sale/static/src/app/services/pos_store.js
CONFLICT (content): Merge conflict in addons/point_of_sale/static/src/app/services/pos_store.js

```

Either perform the forward-port manually (and push to this branch, proceeding as usual) or close this PR (maybe?).

In the former case, you may want to edit this PR message as well.

:warning: after resolving this conflict, you will need to merge it via @robodoo.

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

fw-bot (Issue Creator) on (2025-01-11 02:01:23 UTC): @pedrambiria @adgu-odoo this forward port of odoo/odoo#191560 is awaiting action (not merged or closed).

fw-bot (Issue Creator) on (2025-01-12 02:01:50 UTC): @pedrambiria @adgu-odoo this forward port of odoo/odoo#191560 is awaiting action (not merged or closed).

fw-bot (Issue Creator) on (2025-01-13 02:02:16 UTC): @pedrambiria @adgu-odoo this forward port of odoo/odoo#191560 is awaiting action (not merged or closed).

pedrambiria on (2025-01-13 15:16:41 UTC): robodoo r+

"
2773257251,pull_request,closed,,[IMP] iot_box_image: add vim configuration,"This PR adds some features to the vim configuration used on the IoT Box (a new image is needed to make it work)
1. `filetype on` allows vim to detect the file extension and adjust syntax highglighting accordingly
2. `set laststatus=2` allows to display useful infobar at the bottom of the editor
3. `set mouse=a` enables the mouse in vim
4. `syntax on` uses colors to highlight code in vim

",Ysoroko,2025-01-07 16:25:57+00:00,[],2025-01-22 11:18:54+00:00,2025-01-08 11:15:23+00:00,https://github.com/odoo/odoo/pull/192754,"[('RD', 'research & development, internal work')]","[{'comment_id': 2575725254, 'issue_id': 2773257251, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/192754.png)](https://mergebot.odoo.com/odoo/odoo/pull/192754)', 'created_at': datetime.datetime(2025, 1, 7, 16, 26, tzinfo=datetime.timezone.utc)}, {'comment_id': 2575741325, 'issue_id': 2773257251, 'author': 'Ysoroko', 'body': '[insert vim user joke here]', 'created_at': datetime.datetime(2025, 1, 7, 16, 32, 53, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-07 16:26:00 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/192754.png)](https://mergebot.odoo.com/odoo/odoo/pull/192754)

Ysoroko (Issue Creator) on (2025-01-07 16:32:53 UTC): [insert vim user joke here]

"
2773257072,pull_request,closed,,[FIX] pos_sale: prevent double consumption repair,"When creating a repair order, and paying it with a POS order, the product from the repair order would be consumed twice, once when creating the repair order, and once when validating the POS order. So we end up with 2 stock moves for the same product.

Steps to reproduce:
-------------------
* Create a repair order for any product
* Add product A to the part list
* Start and end the repair (at this point one stock move is created)
* Create a quotation for the repair order
* Open PoS and settle the quotation
* Validate the PoS order, and check the stock moves for the product A
> Observation: You can see one more stock move for the product A
coming from the PoS order

Why the fix:
------------
We make a similar fix as this one https://github.com/odoo/odoo/pull/186812 to prevent the creation of stock moves when the product is coming from a repair order.

opw-4351266",robinengels,2025-01-07 16:25:51+00:00,[],2025-01-24 15:02:42+00:00,2025-01-10 15:02:30+00:00,https://github.com/odoo/odoo/pull/192753,"[('OE', 'the report is linked to a support ticket (opw-...)')]","[{'comment_id': 2575725065, 'issue_id': 2773257072, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/192753.png)](https://mergebot.odoo.com/odoo/odoo/pull/192753)', 'created_at': datetime.datetime(2025, 1, 7, 16, 25, 55, tzinfo=datetime.timezone.utc)}, {'comment_id': 2582669965, 'issue_id': 2773257072, 'author': 'adgu-odoo', 'body': 'robodoo r+', 'created_at': datetime.datetime(2025, 1, 10, 13, 4, 53, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-07 16:25:55 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/192753.png)](https://mergebot.odoo.com/odoo/odoo/pull/192753)

adgu-odoo on (2025-01-10 13:04:53 UTC): robodoo r+

"
2773250848,pull_request,closed,,[FW][FIX] hr_holidays: Restrict time-off types to non-allocation for multiple requests,"In previous versions, when dealing with multiple time-off requests, only time-off types that do not require allocations were listed for selection.

This behavior has been restored by restricting the `holiday_status_id` field to show only non-allocation time-off types in the multi-request wizard.

opw-4370090

---
I confirm I have signed the CLA and read the PR guidelines at www.odoo.com/submit-pr

Forward-Port-Of: odoo/odoo#191128",fw-bot,2025-01-07 16:22:46+00:00,[],2025-01-21 23:37:02+00:00,2025-01-07 22:14:05+00:00,https://github.com/odoo/odoo/pull/192752,"[('OE', 'the report is linked to a support ticket (opw-...)'), ('forwardport', 'This PR was created by @fw-bot'), ('18.2', None)]","[{'comment_id': 2575718190, 'issue_id': 2773250848, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/192752.png)](https://mergebot.odoo.com/odoo/odoo/pull/192752)', 'created_at': datetime.datetime(2025, 1, 7, 16, 22, 48, tzinfo=datetime.timezone.utc)}, {'comment_id': 2575718217, 'issue_id': 2773250848, 'author': 'fw-bot', 'body': '@elhayyany @Bertrand2 this PR targets master and is the last of the forward-port chain containing:\n* odoo/odoo#192581\n\nTo merge the full chain, use\n> @robodoo r+\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 7, 16, 22, 48, tzinfo=datetime.timezone.utc)}, {'comment_id': 2575728025, 'issue_id': 2773250848, 'author': 'elhayyany', 'body': '@robodoo r+', 'created_at': datetime.datetime(2025, 1, 7, 16, 27, 17, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-07 16:22:48 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/192752.png)](https://mergebot.odoo.com/odoo/odoo/pull/192752)

fw-bot (Issue Creator) on (2025-01-07 16:22:48 UTC): @elhayyany @Bertrand2 this PR targets master and is the last of the forward-port chain containing:
* odoo/odoo#192581

To merge the full chain, use

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

elhayyany on (2025-01-07 16:27:17 UTC): @robodoo r+

"
2773249485,pull_request,closed,,"[FIX] {purchase_,}stock: merge multi lingual POL created by the same RR","### Steps to reproduce:

- In the settings: - Add a second language say FR + Change the language - Enable Multi-step routes
- Put your warehouse in receipt in 2-steps.
- Create a storable product with a different FR name and a set vendor
- Click on the ""Reordering Rules"" smart button of the product form
- Create a reordering rule using the buy route for your product
- Add a quantity to reorder > ""Order Once""
- Open the associated purchase order in a second window
- Repeat the operation of adding a quantity to reorder > ""Order Once"" ** A new POL is created instead of being merged to the first one**

### Cause of the issue:

Clicking on Order once will trigger a call of the `_run_pull`. At the end of this call, a stock move will be created and confirmed but the user of the env will be replaced by a SUPERUSER_ID for access rights purposes:
https://github.com/odoo/odoo/blob/39d7207aae187d055f19c7bce41df8110c045185/addons/stock/models/stock_rule.py#L283-L286 However, while the move data's were correctly generated using the language of the user that clicked on order once:
https://github.com/odoo/odoo/blob/39d7207aae187d055f19c7bce41df8110c045185/addons/stock/models/stock_rule.py#L278 https://github.com/odoo/odoo/blob/39d7207aae187d055f19c7bce41df8110c045185/addons/stock/models/stock_rule.py#L315 The language that will be used during the action confirm to compare with the picking description in the procurement values will be the language of the new user that is the SUPERUSER_ID in en_US: https://github.com/odoo/odoo/blob/39d7207aae187d055f19c7bce41df8110c045185/addons/stock/models/stock_move.py#L1451-L1456 This will lead to a set (and incorrect) `product_description_variants` on that procurement. However, this value will be used to determine in the `_run_buy` if an existing POL could absorb the newly created need: https://github.com/odoo/odoo/blob/39d7207aae187d055f19c7bce41df8110c045185/addons/purchase_stock/models/stock_rule.py#L131-L135 https://github.com/odoo/odoo/blob/39d7207aae187d055f19c7bce41df8110c045185/addons/purchase_stock/models/purchase_order_line.py#L341-L350 Since already existing POL will not be found to match the incorrect `product_description_variants` a new one will be created on that same PO.

### Fix:

We do not rely on the language of the user in case it is the SUPERUSER_ID.

opw-4397376
---
I confirm I have signed the CLA and read the PR guidelines at www.odoo.com/submit-pr
",lase-odoo,2025-01-07 16:22:12+00:00,[],2025-01-27 18:00:36+00:00,2025-01-27 18:00:35+00:00,https://github.com/odoo/odoo/pull/192751,"[('OE', 'the report is linked to a support ticket (opw-...)')]","[{'comment_id': 2575716683, 'issue_id': 2773249485, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/192751.png)](https://mergebot.odoo.com/odoo/odoo/pull/192751)', 'created_at': datetime.datetime(2025, 1, 7, 16, 22, 14, tzinfo=datetime.timezone.utc)}, {'comment_id': 2615772272, 'issue_id': 2773249485, 'author': 'ticodoo', 'body': 'Thanks :partying_face: \r\n@robodoo r+', 'created_at': datetime.datetime(2025, 1, 27, 13, 31, 38, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-07 16:22:14 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/192751.png)](https://mergebot.odoo.com/odoo/odoo/pull/192751)

ticodoo on (2025-01-27 13:31:38 UTC): Thanks :partying_face: 
@robodoo r+

"
2773209599,pull_request,closed,,[FW][FIX] hr_expense: correct mapping of expense alias domain in settings,"**Steps to reproduce:**
- Install hr_expense
- Create 2 alias domains
- Go to ""Settings / Technical / Email / Aliases""
- Check the values for Expense model
- Go to Expenses settings
- Change the prefix and the domain of the alias
- Save
- Go to ""Settings / Technical / Email / Aliases""
- Check the values for Expense model again

**Issue:**
The prefix has correctly been modified but not the domain. The domain from Expenses settings and the domain of the Expense alias are different.

**Cause:**
The domain field in Expenses settings is in fact the Email Domain (alias_domain_id) of the company, which makes no sense to combine the prefix and the domain from 2 different sources.

**Solution:**
Add a non-stored computed field to map the domain displayed in Expenses settings with the domain of the Expense alias.
Not great in stable, but there is no other way if we want to keep the option.

opw-4293936




---
I confirm I have signed the CLA and read the PR guidelines at www.odoo.com/submit-pr

Forward-Port-Of: odoo/odoo#192571
Forward-Port-Of: odoo/odoo#190252",fw-bot,2025-01-07 16:08:35+00:00,[],2025-01-22 13:23:13+00:00,2025-01-08 13:03:38+00:00,https://github.com/odoo/odoo/pull/192750,"[('OE', 'the report is linked to a support ticket (opw-...)'), ('forwardport', 'This PR was created by @fw-bot')]","[{'comment_id': 2575675210, 'issue_id': 2773209599, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/192750.png)](https://mergebot.odoo.com/odoo/odoo/pull/192750)', 'created_at': datetime.datetime(2025, 1, 7, 16, 8, 37, tzinfo=datetime.timezone.utc)}, {'comment_id': 2575675246, 'issue_id': 2773209599, 'author': 'fw-bot', 'body': 'This PR targets saas-18.1 and is part of the forward-port chain. Further PRs will be created up to master.\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 7, 16, 8, 38, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-07 16:08:37 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/192750.png)](https://mergebot.odoo.com/odoo/odoo/pull/192750)

fw-bot (Issue Creator) on (2025-01-07 16:08:38 UTC): This PR targets saas-18.1 and is part of the forward-port chain. Further PRs will be created up to master.

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

"
2773208810,pull_request,closed,,[FW][FIX] mrp_subcontracting_dropshipping: test ok in 2025 from 862ede4,"In 862ede43e5910ae6954f3574f45c213e5d3a1886 the added test depended on
being in year 2024, so it failed in eg. 2025.

With this change we don't harcode the invoice name in assert data.

runbot-error-111390
opw-4050777

Forward-Port-Of: odoo/odoo#192597
Forward-Port-Of: odoo/odoo#192192",fw-bot,2025-01-07 16:08:18+00:00,[],2025-01-21 23:37:02+00:00,2025-01-07 22:14:01+00:00,https://github.com/odoo/odoo/pull/192749,"[('OE', 'the report is linked to a support ticket (opw-...)'), ('forwardport', 'This PR was created by @fw-bot'), ('18.2', None)]","[{'comment_id': 2575674442, 'issue_id': 2773208810, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/192749.png)](https://mergebot.odoo.com/odoo/odoo/pull/192749)', 'created_at': datetime.datetime(2025, 1, 7, 16, 8, 19, tzinfo=datetime.timezone.utc)}, {'comment_id': 2575674477, 'issue_id': 2773208810, 'author': 'fw-bot', 'body': '@nle-odoo @Xavier-Do this PR targets master and is the last of the forward-port chain containing:\n* odoo/odoo#192709\n\nTo merge the full chain, use\n> @robodoo r+\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 7, 16, 8, 20, tzinfo=datetime.timezone.utc)}, {'comment_id': 2575678504, 'issue_id': 2773208810, 'author': 'nle-odoo', 'body': 'robodoo r+', 'created_at': datetime.datetime(2025, 1, 7, 16, 9, 57, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-07 16:08:19 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/192749.png)](https://mergebot.odoo.com/odoo/odoo/pull/192749)

fw-bot (Issue Creator) on (2025-01-07 16:08:20 UTC): @nle-odoo @Xavier-Do this PR targets master and is the last of the forward-port chain containing:
* odoo/odoo#192709

To merge the full chain, use

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

nle-odoo on (2025-01-07 16:09:57 UTC): robodoo r+

"
2773206023,pull_request,closed,,[FW][FIX] html_editor: prevent fixing table dimensions on insert,"### Steps to reproduce:

- Insert a table.
- Observe the HTML, noticing that the table does not have a fixed width or height.
- Insert a new column or row.
- Observe the HTML, noticing that the width and/or height of the table has been fixed.

### Description of the issue/feature this PR addresses:

- When a new column is inserted into the table, the table's width is fixed, and the
widths of the first row/column cells (TDs and THs) are also fixed.
- When a new row is inserted, the height is added to the table rows (TRs), even if
the table initially did not have fixed dimensions.

### Desired behavior after PR is merged:

- The width and height of the table will not be fixed when a new column or row is added,
as long as the table did not have fixed dimensions (width/height) to begin with.

task-4402552

Forward-Port-Of: odoo/odoo#190814",fw-bot,2025-01-07 16:06:58+00:00,[],2025-01-22 11:33:16+00:00,2025-01-08 11:23:02+00:00,https://github.com/odoo/odoo/pull/192748,"[('RD', 'research & development, internal work'), ('forwardport', 'This PR was created by @fw-bot'), ('18.2', None)]","[{'comment_id': 2575670773, 'issue_id': 2773206023, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/192748.png)](https://mergebot.odoo.com/odoo/odoo/pull/192748)', 'created_at': datetime.datetime(2025, 1, 7, 16, 7, tzinfo=datetime.timezone.utc)}, {'comment_id': 2575670810, 'issue_id': 2773206023, 'author': 'fw-bot', 'body': '@adch-odoo @dmo-odoo this PR targets master and is the last of the forward-port chain containing:\n* odoo/odoo#192711\n\nTo merge the full chain, use\n> @robodoo r+\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 7, 16, 7, tzinfo=datetime.timezone.utc)}, {'comment_id': 2577265213, 'issue_id': 2773206023, 'author': 'dmo-odoo', 'body': '@robodoo r+', 'created_at': datetime.datetime(2025, 1, 8, 10, 0, 7, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-07 16:07:00 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/192748.png)](https://mergebot.odoo.com/odoo/odoo/pull/192748)

fw-bot (Issue Creator) on (2025-01-07 16:07:00 UTC): @adch-odoo @dmo-odoo this PR targets master and is the last of the forward-port chain containing:
* odoo/odoo#192711

To merge the full chain, use

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

dmo-odoo on (2025-01-08 10:00:07 UTC): @robodoo r+

"
2773202035,pull_request,closed,,[FW][FIX] hw_drivers: landscape report printing on windows,"On Virtual IoT Boxes, a landscape report was still printed in portrait.
We added the argument required to handle landscape printing.

opw-4081884

Forward-Port-Of: odoo/odoo#192634",fw-bot,2025-01-07 16:05:02+00:00,[],2025-01-21 19:54:00+00:00,2025-01-07 19:45:26+00:00,https://github.com/odoo/odoo/pull/192747,"[('OE', 'the report is linked to a support ticket (opw-...)'), ('forwardport', 'This PR was created by @fw-bot')]","[{'comment_id': 2575665704, 'issue_id': 2773202035, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/192747.png)](https://mergebot.odoo.com/odoo/odoo/pull/192747)', 'created_at': datetime.datetime(2025, 1, 7, 16, 5, 4, tzinfo=datetime.timezone.utc)}, {'comment_id': 2575665732, 'issue_id': 2773202035, 'author': 'fw-bot', 'body': 'This PR targets saas-18.1 and is part of the forward-port chain. Further PRs will be created up to master.\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 7, 16, 5, 4, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-07 16:05:04 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/192747.png)](https://mergebot.odoo.com/odoo/odoo/pull/192747)

fw-bot (Issue Creator) on (2025-01-07 16:05:04 UTC): This PR targets saas-18.1 and is part of the forward-port chain. Further PRs will be created up to master.

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

"
2773170574,pull_request,closed,,[FW][FIX] l10n_es_edi_tbai: only use regime key 52 for simplified invoice,"**Steps to reproduce:**
- Install l10n_es_edi_tbai
- Switch to a Spanish company (e.g. ES Company)
- Create an invoice with ""Simplified Invoice Partner (ES)"" as customer
- Confirm the invoice
- Process the invoice with ""TicketBAI (ES)"" service

**Issue:**
The generated XML has 2 regime keys (02 and 52) for <ClaveRegimenIvaOpTrascendencia> that are not compatible with each other.
From the documentation, regime key ""52"" (for simplified invoices) can only be associated with regime key ""51"", which is not supported for the moment.

**Solution:**
If the ""Simplified Invoice Partner"" is used, only the regime key ""52"" is used.

opw-4332052
opw-4355424




---
I confirm I have signed the CLA and read the PR guidelines at www.odoo.com/submit-pr

Forward-Port-Of: odoo/odoo#192687
Forward-Port-Of: odoo/odoo#192448",fw-bot,2025-01-07 15:50:51+00:00,[],2025-01-22 10:58:12+00:00,2025-01-08 10:57:52+00:00,https://github.com/odoo/odoo/pull/192746,"[('OE', 'the report is linked to a support ticket (opw-...)'), ('forwardport', 'This PR was created by @fw-bot')]","[{'comment_id': 2575632066, 'issue_id': 2773170574, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/192746.png)](https://mergebot.odoo.com/odoo/odoo/pull/192746)', 'created_at': datetime.datetime(2025, 1, 7, 15, 50, 52, tzinfo=datetime.timezone.utc)}, {'comment_id': 2575632100, 'issue_id': 2773170574, 'author': 'fw-bot', 'body': 'This PR targets saas-17.2 and is part of the forward-port chain. Further PRs will be created up to master.\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 7, 15, 50, 53, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-07 15:50:52 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/192746.png)](https://mergebot.odoo.com/odoo/odoo/pull/192746)

fw-bot (Issue Creator) on (2025-01-07 15:50:53 UTC): This PR targets saas-17.2 and is part of the forward-port chain. Further PRs will be created up to master.

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

"
2773169902,pull_request,closed,,[FW][FIX] purchase_stock: adjust button layout,"In Odoo, an issue araised where the ""Expected Arrival"" date field was overlapped when zooming in. This was due to the button ""action_purchase_vendor_delay_report"".

To adress this, the related button was encapsulated within a <div> element. This change ensure that the layout remains consistent and the elements does not overlap regardless of the zoom level.

opw-4316093

---
I confirm I have signed the CLA and read the PR guidelines at www.odoo.com/submit-pr

Forward-Port-Of: odoo/odoo#187179",fw-bot,2025-01-07 15:50:33+00:00,[],2025-01-22 12:21:43+00:00,2025-01-08 12:19:23+00:00,https://github.com/odoo/odoo/pull/192745,"[('OE', 'the report is linked to a support ticket (opw-...)'), ('forwardport', 'This PR was created by @fw-bot')]","[{'comment_id': 2575631398, 'issue_id': 2773169902, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/192745.png)](https://mergebot.odoo.com/odoo/odoo/pull/192745)', 'created_at': datetime.datetime(2025, 1, 7, 15, 50, 35, tzinfo=datetime.timezone.utc)}, {'comment_id': 2575631423, 'issue_id': 2773169902, 'author': 'fw-bot', 'body': 'This PR targets saas-17.2 and is part of the forward-port chain. Further PRs will be created up to master.\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 7, 15, 50, 36, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-07 15:50:35 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/192745.png)](https://mergebot.odoo.com/odoo/odoo/pull/192745)

fw-bot (Issue Creator) on (2025-01-07 15:50:36 UTC): This PR targets saas-17.2 and is part of the forward-port chain. Further PRs will be created up to master.

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

"
2773164866,pull_request,closed,,[FW][FIX] web_editor: selection fails on link when applying style,"**Current behaviour before PR:**

In website, when trying to apply color or any style on a link from toolbar whole link gets selected. This happens because in `wysiwyg.js` `destroyLinkTools` method gets called when user clicks on toolbar to apply color.

**Behaviour after PR:**

Now, any style can be applied on a link without selecting whole link.

task-4072867




---
I confirm I have signed the CLA and read the PR guidelines at www.odoo.com/submit-pr

Forward-Port-Of: odoo/odoo#192297
Forward-Port-Of: odoo/odoo#180616",fw-bot,2025-01-07 15:48:12+00:00,[],2025-01-22 12:21:41+00:00,2025-01-08 12:15:54+00:00,https://github.com/odoo/odoo/pull/192744,"[('RD', 'research & development, internal work'), ('forwardport', 'This PR was created by @fw-bot')]","[{'comment_id': 2575625896, 'issue_id': 2773164866, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/192744.png)](https://mergebot.odoo.com/odoo/odoo/pull/192744)', 'created_at': datetime.datetime(2025, 1, 7, 15, 48, 13, tzinfo=datetime.timezone.utc)}, {'comment_id': 2575626017, 'issue_id': 2773164866, 'author': 'fw-bot', 'body': 'This PR targets saas-17.4 and is part of the forward-port chain. Further PRs will be created up to master.\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 7, 15, 48, 16, tzinfo=datetime.timezone.utc)}, {'comment_id': 2575803966, 'issue_id': 2773164866, 'author': 'fw-bot', 'body': '@adsa-odoo @dmo-odoo the next pull request (odoo/odoo#192760) is in conflict. You can merge the chain up to here by saying\n> @robodoo r+\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 7, 17, 1, 22, tzinfo=datetime.timezone.utc)}, {'comment_id': 2576558322, 'issue_id': 2773164866, 'author': 'fw-bot', 'body': '@adsa-odoo @dmo-odoo this forward port of odoo/odoo#180616 is awaiting action (not merged or closed).', 'created_at': datetime.datetime(2025, 1, 8, 2, 1, 55, tzinfo=datetime.timezone.utc)}, {'comment_id': 2577291776, 'issue_id': 2773164866, 'author': 'dmo-odoo', 'body': '@robodoo r+', 'created_at': datetime.datetime(2025, 1, 8, 10, 10, 44, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-07 15:48:13 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/192744.png)](https://mergebot.odoo.com/odoo/odoo/pull/192744)

fw-bot (Issue Creator) on (2025-01-07 15:48:16 UTC): This PR targets saas-17.4 and is part of the forward-port chain. Further PRs will be created up to master.

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

fw-bot (Issue Creator) on (2025-01-07 17:01:22 UTC): @adsa-odoo @dmo-odoo the next pull request (odoo/odoo#192760) is in conflict. You can merge the chain up to here by saying

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

fw-bot (Issue Creator) on (2025-01-08 02:01:55 UTC): @adsa-odoo @dmo-odoo this forward port of odoo/odoo#180616 is awaiting action (not merged or closed).

dmo-odoo on (2025-01-08 10:10:44 UTC): @robodoo r+

"
2773164346,pull_request,closed,,[FIX] mrp: raise for bulk generation of mrp order,"Steps To reproduce:
----

- Create A MO on a product tracked by serial number
- Add Extremely high values for the quantity to produce
- OR add a large number of component to product with high quantities

Issue:
-----

Since the product are tracked there is as much MO as quantity resulting in the system 'crashing'.

Fix:
---

Raise an error so the user can reduce the size of the product created, the user can still split its MO in many other.

opw-4351629

---
I confirm I have signed the CLA and read the PR guidelines at www.odoo.com/submit-pr
",jaeschwa,2025-01-07 15:47:57+00:00,[],2025-01-20 07:55:03+00:00,2025-01-20 07:55:03+00:00,https://github.com/odoo/odoo/pull/192743,"[('OE', 'the report is linked to a support ticket (opw-...)')]","[{'comment_id': 2575625558, 'issue_id': 2773164346, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/192743.png)](https://mergebot.odoo.com/odoo/odoo/pull/192743)', 'created_at': datetime.datetime(2025, 1, 7, 15, 48, 4, tzinfo=datetime.timezone.utc)}, {'comment_id': 2601666767, 'issue_id': 2773164346, 'author': 'jaeschwa', 'body': 'Refused by Stock, Users should split their MO if too big', 'created_at': datetime.datetime(2025, 1, 20, 7, 55, 3, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-07 15:48:04 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/192743.png)](https://mergebot.odoo.com/odoo/odoo/pull/192743)

jaeschwa (Issue Creator) on (2025-01-20 07:55:03 UTC): Refused by Stock, Users should split their MO if too big

"
2773161796,pull_request,closed,,[FIX] mrp: display correct date_planned_start,"Steps to reproduce:
---

- In settings activate the routes
- Set the route to MTO
- Create a BOM for this product
- Set a produce delay
- Make a sale order
- When confirming the MO created has the wrong Scheduled Date

Issue:
---

The Scheduled date is calculted as the current date minus the delay instead of +.

Fix:
---

Change the logic to add the produce_delay instead of minus.

opw-4061809

---
I confirm I have signed the CLA and read the PR guidelines at www.odoo.com/submit-pr
",jaeschwa,2025-01-07 15:46:52+00:00,[],2025-01-29 08:08:28+00:00,2025-01-29 08:08:27+00:00,https://github.com/odoo/odoo/pull/192742,"[('OE', 'the report is linked to a support ticket (opw-...)')]","[{'comment_id': 2575622824, 'issue_id': 2773161796, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/192742.png)](https://mergebot.odoo.com/odoo/odoo/pull/192742)', 'created_at': datetime.datetime(2025, 1, 7, 15, 46, 56, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-07 15:46:56 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/192742.png)](https://mergebot.odoo.com/odoo/odoo/pull/192742)

"
2773140952,pull_request,closed,,[IMP] l10n_*: demo data,"Set the field ""is_company"" to True on each loca demo companies.

Backport of https://github.com/odoo/odoo/pull/190699

task-4310530",igbe-odoo,2025-01-07 15:36:55+00:00,[],2025-01-22 20:31:44+00:00,2025-01-08 19:30:33+00:00,https://github.com/odoo/odoo/pull/192741,"[('RD', 'research & development, internal work')]","[{'comment_id': 2575599625, 'issue_id': 2773140952, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/192741.png)](https://mergebot.odoo.com/odoo/odoo/pull/192741)', 'created_at': datetime.datetime(2025, 1, 7, 15, 36, 58, tzinfo=datetime.timezone.utc)}, {'comment_id': 2578128475, 'issue_id': 2773140952, 'author': 'robodoo', 'body': 'Merge method set to rebase and fast-forward.', 'created_at': datetime.datetime(2025, 1, 8, 16, 39, 55, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-07 15:36:58 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/192741.png)](https://mergebot.odoo.com/odoo/odoo/pull/192741)

robodoo on (2025-01-08 16:39:55 UTC): Merge method set to rebase and fast-forward.

"
2773137973,pull_request,closed,,[FIX] account_peppol: key was never sent right so remove its use,"`accounting_supplier_party` was never sent right from IAP, it was always 'None'.
So, we could never log it.
But the information was in fact always useless. 
This information is already in the UBL file.




---
I confirm I have signed the CLA and read the PR guidelines at www.odoo.com/submit-pr
",gawa-odoo,2025-01-07 15:35:32+00:00,[],2025-01-27 16:30:25+00:00,2025-01-13 16:28:20+00:00,https://github.com/odoo/odoo/pull/192740,"[('RD', 'research & development, internal work')]","[{'comment_id': 2575596372, 'issue_id': 2773137973, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/192740.png)](https://mergebot.odoo.com/odoo/odoo/pull/192740)', 'created_at': datetime.datetime(2025, 1, 7, 15, 35, 34, tzinfo=datetime.timezone.utc)}, {'comment_id': 2575600269, 'issue_id': 2773137973, 'author': 'gawa-odoo', 'body': 'The reason I saw it logged as None was because I took inspiration of the code of 18.0 and the change came in 17.1 with https://github.com/odoo/odoo/pull/154706/files#diff-497ad3e52d7f80736673475e27c81d956ef051decee41346cec01a100ff08afcR103\r\nSo in 18.0, I suppose we indeed get None as nice logs :D', 'created_at': datetime.datetime(2025, 1, 7, 15, 37, 14, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-07 15:35:34 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/192740.png)](https://mergebot.odoo.com/odoo/odoo/pull/192740)

gawa-odoo (Issue Creator) on (2025-01-07 15:37:14 UTC): The reason I saw it logged as None was because I took inspiration of the code of 18.0 and the change came in 17.1 with https://github.com/odoo/odoo/pull/154706/files#diff-497ad3e52d7f80736673475e27c81d956ef051decee41346cec01a100ff08afcR103
So in 18.0, I suppose we indeed get None as nice logs :D

"
2773133960,pull_request,closed,,"[FIX] im_livechat, website_livechat: handle optional message.thread","On small displays, starting a new website livechat with an operator that has an `user_livechat_username` crashes when rendering the username.

Steps to reproduce
-----
1. Select User Menu Icon > My Profile / Preferences > enter an Online Chat Name
2. On a mobile device or small window, open the livechat on the website
3. Send any new message
4. The following traceback occurs
```
Caused by: TypeError: Cannot read properties of undefined (reading 'channel_type')
    at get authorName
```

Cause
-----
On small displays, `thread` for the default operator message becomes undefined when it is reassigned to the new thread. This causes an error in `get authorName()` when the undefined `thread` is accessed directly to detemine the displayed username.

Solution
-----
Add an optional chain (?) when accessing `this.message.thread` to handle the possible nullish value.

opw-4446208

Backport of odoo/odoo#192605",juwu-odoo,2025-01-07 15:33:49+00:00,[],2025-01-08 10:30:52+00:00,2025-01-07 19:37:35+00:00,https://github.com/odoo/odoo/pull/192739,"[('OE', 'the report is linked to a support ticket (opw-...)')]","[{'comment_id': 2575592295, 'issue_id': 2773133960, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/192739.png)](https://mergebot.odoo.com/odoo/odoo/pull/192739)', 'created_at': datetime.datetime(2025, 1, 7, 15, 33, 52, tzinfo=datetime.timezone.utc)}, {'comment_id': 2575595073, 'issue_id': 2773133960, 'author': 'juwu-odoo', 'body': '@alexkuhn Hello, looks like this issue is actually present all the way back to 17.2 which I missed when opening the original PR, diff is unchanged. Thanks :)', 'created_at': datetime.datetime(2025, 1, 7, 15, 34, 58, tzinfo=datetime.timezone.utc)}, {'comment_id': 2575881816, 'issue_id': 2773133960, 'author': 'alexkuhn', 'body': 'Thanks!\r\n\r\n@robodoo r+', 'created_at': datetime.datetime(2025, 1, 7, 17, 41, 48, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-07 15:33:52 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/192739.png)](https://mergebot.odoo.com/odoo/odoo/pull/192739)

juwu-odoo (Issue Creator) on (2025-01-07 15:34:58 UTC): @alexkuhn Hello, looks like this issue is actually present all the way back to 17.2 which I missed when opening the original PR, diff is unchanged. Thanks :)

alexkuhn on (2025-01-07 17:41:48 UTC): Thanks!

@robodoo r+

"
2773100899,pull_request,closed,,[FW][FIX] pos_self_order: prevent loading products not available,"Before this commit, if you made a product available in PoS but set it to not be available in self order, it would still appear in the kiosk or mobile menu with an ""out of stock"" tag, which is confusing and not the expected behavior.

opw-4200540

---
I confirm I have signed the CLA and read the PR guidelines at www.odoo.com/submit-pr

Forward-Port-Of: odoo/odoo#188663",fw-bot,2025-01-07 15:20:10+00:00,[],2025-01-27 15:44:46+00:00,2025-01-13 15:13:55+00:00,https://github.com/odoo/odoo/pull/192738,"[('OE', 'the report is linked to a support ticket (opw-...)'), ('forwardport', 'This PR was created by @fw-bot'), ('conflict', 'There was an error while creating this forward-port PR')]","[{'comment_id': 2575559420, 'issue_id': 2773100899, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/192738.png)](https://mergebot.odoo.com/odoo/odoo/pull/192738)', 'created_at': datetime.datetime(2025, 1, 7, 15, 20, 11, tzinfo=datetime.timezone.utc)}, {'comment_id': 2575559523, 'issue_id': 2773100899, 'author': 'fw-bot', 'body': '@pedrambiria @adgu-odoo cherrypicking of pull request odoo/odoo#188663 failed.\n\nstdout:\n```\nAuto-merging addons/pos_self_order/models/product_product.py\nCONFLICT (content): Merge conflict in addons/pos_self_order/models/product_product.py\n\n```\n\nEither perform the forward-port manually (and push to this branch, proceeding as usual) or close this PR (maybe?).\n\nIn the former case, you may want to edit this PR message as well.\n\n:warning: after resolving this conflict, you will need to merge it via @robodoo.\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 7, 15, 20, 13, tzinfo=datetime.timezone.utc)}, {'comment_id': 2585000624, 'issue_id': 2773100899, 'author': 'fw-bot', 'body': '@pedrambiria @adgu-odoo this forward port of odoo/odoo#188663 is awaiting action (not merged or closed).', 'created_at': datetime.datetime(2025, 1, 11, 2, 1, 39, tzinfo=datetime.timezone.utc)}, {'comment_id': 2585541936, 'issue_id': 2773100899, 'author': 'fw-bot', 'body': '@pedrambiria @adgu-odoo this forward port of odoo/odoo#188663 is awaiting action (not merged or closed).', 'created_at': datetime.datetime(2025, 1, 12, 2, 2, 12, tzinfo=datetime.timezone.utc)}, {'comment_id': 2586047604, 'issue_id': 2773100899, 'author': 'fw-bot', 'body': '@pedrambiria @adgu-odoo this forward port of odoo/odoo#188663 is awaiting action (not merged or closed).', 'created_at': datetime.datetime(2025, 1, 13, 2, 2, 50, tzinfo=datetime.timezone.utc)}, {'comment_id': 2587068869, 'issue_id': 2773100899, 'author': 'pedrambiria', 'body': 'robodoo r+', 'created_at': datetime.datetime(2025, 1, 13, 13, 11, 28, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-07 15:20:11 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/192738.png)](https://mergebot.odoo.com/odoo/odoo/pull/192738)

fw-bot (Issue Creator) on (2025-01-07 15:20:13 UTC): @pedrambiria @adgu-odoo cherrypicking of pull request odoo/odoo#188663 failed.

stdout:
```
Auto-merging addons/pos_self_order/models/product_product.py
CONFLICT (content): Merge conflict in addons/pos_self_order/models/product_product.py

```

Either perform the forward-port manually (and push to this branch, proceeding as usual) or close this PR (maybe?).

In the former case, you may want to edit this PR message as well.

:warning: after resolving this conflict, you will need to merge it via @robodoo.

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

fw-bot (Issue Creator) on (2025-01-11 02:01:39 UTC): @pedrambiria @adgu-odoo this forward port of odoo/odoo#188663 is awaiting action (not merged or closed).

fw-bot (Issue Creator) on (2025-01-12 02:02:12 UTC): @pedrambiria @adgu-odoo this forward port of odoo/odoo#188663 is awaiting action (not merged or closed).

fw-bot (Issue Creator) on (2025-01-13 02:02:50 UTC): @pedrambiria @adgu-odoo this forward port of odoo/odoo#188663 is awaiting action (not merged or closed).

pedrambiria on (2025-01-13 13:11:28 UTC): robodoo r+

"
2773086693,pull_request,closed,,[FW][FIX] point_of_sale: prevent error when splitting a bill with combo,"Before this commit, validating a split bill that contains a combo product would result in a key error.

opw-4416406

---
I confirm I have signed the CLA and read the PR guidelines at www.odoo.com/submit-pr

Forward-Port-Of: odoo/odoo#192384",fw-bot,2025-01-07 15:14:04+00:00,[],2025-01-27 16:20:45+00:00,2025-01-13 15:57:33+00:00,https://github.com/odoo/odoo/pull/192737,"[('OE', 'the report is linked to a support ticket (opw-...)'), ('forwardport', 'This PR was created by @fw-bot'), ('conflict', 'There was an error while creating this forward-port PR')]","[{'comment_id': 2575546086, 'issue_id': 2773086693, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/192737.png)](https://mergebot.odoo.com/odoo/odoo/pull/192737)', 'created_at': datetime.datetime(2025, 1, 7, 15, 14, 5, tzinfo=datetime.timezone.utc)}, {'comment_id': 2575546104, 'issue_id': 2773086693, 'author': 'fw-bot', 'body': '@pedrambiria @adgu-odoo cherrypicking of pull request odoo/odoo#192384 failed.\n\nstdout:\n```\nAuto-merging addons/point_of_sale/models/pos_order.py\nCONFLICT (content): Merge conflict in addons/point_of_sale/models/pos_order.py\n\n```\n\nEither perform the forward-port manually (and push to this branch, proceeding as usual) or close this PR (maybe?).\n\nIn the former case, you may want to edit this PR message as well.\n\n:warning: after resolving this conflict, you will need to merge it via @robodoo.\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 7, 15, 14, 5, tzinfo=datetime.timezone.utc)}, {'comment_id': 2585000250, 'issue_id': 2773086693, 'author': 'fw-bot', 'body': '@pedrambiria @adgu-odoo this forward port of odoo/odoo#192384 is awaiting action (not merged or closed).', 'created_at': datetime.datetime(2025, 1, 11, 2, 1, 14, tzinfo=datetime.timezone.utc)}, {'comment_id': 2585541759, 'issue_id': 2773086693, 'author': 'fw-bot', 'body': '@pedrambiria @adgu-odoo this forward port of odoo/odoo#192384 is awaiting action (not merged or closed).', 'created_at': datetime.datetime(2025, 1, 12, 2, 1, 27, tzinfo=datetime.timezone.utc)}, {'comment_id': 2586046283, 'issue_id': 2773086693, 'author': 'fw-bot', 'body': '@pedrambiria @adgu-odoo this forward port of odoo/odoo#192384 is awaiting action (not merged or closed).', 'created_at': datetime.datetime(2025, 1, 13, 2, 1, 45, tzinfo=datetime.timezone.utc)}, {'comment_id': 2587068380, 'issue_id': 2773086693, 'author': 'pedrambiria', 'body': 'robodoo r+', 'created_at': datetime.datetime(2025, 1, 13, 13, 11, 15, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-07 15:14:05 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/192737.png)](https://mergebot.odoo.com/odoo/odoo/pull/192737)

fw-bot (Issue Creator) on (2025-01-07 15:14:05 UTC): @pedrambiria @adgu-odoo cherrypicking of pull request odoo/odoo#192384 failed.

stdout:
```
Auto-merging addons/point_of_sale/models/pos_order.py
CONFLICT (content): Merge conflict in addons/point_of_sale/models/pos_order.py

```

Either perform the forward-port manually (and push to this branch, proceeding as usual) or close this PR (maybe?).

In the former case, you may want to edit this PR message as well.

:warning: after resolving this conflict, you will need to merge it via @robodoo.

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

fw-bot (Issue Creator) on (2025-01-11 02:01:14 UTC): @pedrambiria @adgu-odoo this forward port of odoo/odoo#192384 is awaiting action (not merged or closed).

fw-bot (Issue Creator) on (2025-01-12 02:01:27 UTC): @pedrambiria @adgu-odoo this forward port of odoo/odoo#192384 is awaiting action (not merged or closed).

fw-bot (Issue Creator) on (2025-01-13 02:01:45 UTC): @pedrambiria @adgu-odoo this forward port of odoo/odoo#192384 is awaiting action (not merged or closed).

pedrambiria on (2025-01-13 13:11:15 UTC): robodoo r+

"
2773086116,pull_request,closed,,[FW][FIX] point_of_sale: prevent loading non-included pricelists,"Before this commit, it was possible to load pricelists that were not available in the PoS.

opw-4423566

---
I confirm I have signed the CLA and read the PR guidelines at www.odoo.com/submit-pr

Forward-Port-Of: odoo/odoo#191560",fw-bot,2025-01-07 15:13:48+00:00,[],2025-01-22 13:26:40+00:00,2025-01-08 13:25:11+00:00,https://github.com/odoo/odoo/pull/192736,"[('OE', 'the report is linked to a support ticket (opw-...)'), ('forwardport', 'This PR was created by @fw-bot')]","[{'comment_id': 2575545471, 'issue_id': 2773086116, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/192736.png)](https://mergebot.odoo.com/odoo/odoo/pull/192736)', 'created_at': datetime.datetime(2025, 1, 7, 15, 13, 49, tzinfo=datetime.timezone.utc)}, {'comment_id': 2575545496, 'issue_id': 2773086116, 'author': 'fw-bot', 'body': 'This PR targets 18.0 and is part of the forward-port chain. Further PRs will be created up to master.\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 7, 15, 13, 50, tzinfo=datetime.timezone.utc)}, {'comment_id': 2575739390, 'issue_id': 2773086116, 'author': 'fw-bot', 'body': '@pedrambiria @adgu-odoo the next pull request (odoo/odoo#192755) is in conflict. You can merge the chain up to here by saying\n> @robodoo r+\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 7, 16, 32, 3, tzinfo=datetime.timezone.utc)}, {'comment_id': 2577178382, 'issue_id': 2773086116, 'author': 'pedrambiria', 'body': '@robodoo r+', 'created_at': datetime.datetime(2025, 1, 8, 9, 20, 1, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-07 15:13:49 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/192736.png)](https://mergebot.odoo.com/odoo/odoo/pull/192736)

fw-bot (Issue Creator) on (2025-01-07 15:13:50 UTC): This PR targets 18.0 and is part of the forward-port chain. Further PRs will be created up to master.

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

fw-bot (Issue Creator) on (2025-01-07 16:32:03 UTC): @pedrambiria @adgu-odoo the next pull request (odoo/odoo#192755) is in conflict. You can merge the chain up to here by saying

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

pedrambiria on (2025-01-08 09:20:01 UTC): @robodoo r+

"
2773080163,pull_request,closed,,[FIX] point_of_sale: no gaps sessions ids,"This commit fixes the sessions gaps when login_screen skipped.

Task-4269165


---
I confirm I have signed the CLA and read the PR guidelines at www.odoo.com/submit-pr
",loukwets,2025-01-07 15:11:05+00:00,[],2025-01-21 23:36:57+00:00,2025-01-07 22:13:36+00:00,https://github.com/odoo/odoo/pull/192735,"[('RD', 'research & development, internal work'), ('18.2', None)]","[{'comment_id': 2575539629, 'issue_id': 2773080163, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/192735.png)](https://mergebot.odoo.com/odoo/odoo/pull/192735)', 'created_at': datetime.datetime(2025, 1, 7, 15, 11, 8, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-07 15:11:08 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/192735.png)](https://mergebot.odoo.com/odoo/odoo/pull/192735)

"
2773067106,pull_request,closed,,[FW][FIX] web_editor: correct triple click when applying font size,"Description of the issue this PR addresses:

Current behavior before PR:

Triple-clicking to select text, with a nextSibling set as contenteditable false, would reset the selection to its previous state.

Desired behavior after PR is merged:

Correct the triple click selection when applying font-size.

task-4440354

---
I confirm I have signed the CLA and read the PR guidelines at www.odoo.com/submit-pr

Forward-Port-Of: odoo/odoo#192387
Forward-Port-Of: odoo/odoo#192139",fw-bot,2025-01-07 15:05:09+00:00,[],2025-01-22 08:02:22+00:00,2025-01-08 07:04:13+00:00,https://github.com/odoo/odoo/pull/192734,"[('RD', 'research & development, internal work'), ('forwardport', 'This PR was created by @fw-bot')]","[{'comment_id': 2575526152, 'issue_id': 2773067106, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/192734.png)](https://mergebot.odoo.com/odoo/odoo/pull/192734)', 'created_at': datetime.datetime(2025, 1, 7, 15, 5, 11, tzinfo=datetime.timezone.utc)}, {'comment_id': 2575526179, 'issue_id': 2773067106, 'author': 'fw-bot', 'body': 'This PR targets 18.0 and is part of the forward-port chain. Further PRs will be created up to master.\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 7, 15, 5, 12, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-07 15:05:11 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/192734.png)](https://mergebot.odoo.com/odoo/odoo/pull/192734)

fw-bot (Issue Creator) on (2025-01-07 15:05:12 UTC): This PR targets 18.0 and is part of the forward-port chain. Further PRs will be created up to master.

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

"
2773051738,pull_request,open,,[FIX] l10n_tr_nilvera_einvoice: minor fixes,"- Incorrect ""Sent"" Status:
When generating the XML with the UBL checkbox selected but without checking the
Nilvera option, the move was incorrectly marked as ""Sent"" (is_move_sent).  This
behavior has been corrected.

- Traceback During Send and Print with Nilvera:
In the flow where the XML is first generated with UBL, and then the Send and
Print action is performed with Nilvera, Nilvera needed the issues date of the
document to accept it.

- City Name and Subdivision Inversion in XML
The values in the CitySubDivisionName and CityName elements of the XML were
inverted. This has been corrected to align with the expected structure.

task-4457092



---
I confirm I have signed the CLA and read the PR guidelines at www.odoo.com/submit-pr
",malb-odoo,2025-01-07 14:58:46+00:00,[],2025-01-28 14:51:44+00:00,,https://github.com/odoo/odoo/pull/192733,"[('RD', 'research & development, internal work')]","[{'comment_id': 2575509543, 'issue_id': 2773051738, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/192733.png)](https://mergebot.odoo.com/odoo/odoo/pull/192733)', 'created_at': datetime.datetime(2025, 1, 7, 14, 58, 48, tzinfo=datetime.timezone.utc)}, {'comment_id': 2615862181, 'issue_id': 2773051738, 'author': 'malb-odoo', 'body': 'commit message may need rework since we changed a lot of specs, waiting on the review to do that', 'created_at': datetime.datetime(2025, 1, 27, 14, 8, 48, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-07 14:58:48 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/192733.png)](https://mergebot.odoo.com/odoo/odoo/pull/192733)

malb-odoo (Issue Creator) on (2025-01-27 14:08:48 UTC): commit message may need rework since we changed a lot of specs, waiting on the review to do that

"
2773026171,pull_request,closed,,[FIX] stock: prevent crash in mobile stock move line view,"Steps to reproduce
==================

- Use a mobile viewport
- Go to Inventory > Delivery Orders
- Open any record
- Click on a product
- Click on add

=> TypeError: ml.data.quant_id is undefined

Cause of the issue
==================

On mobile, the quant_id field is not present in the view

opw-4288556",hubvd,2025-01-07 14:47:42+00:00,[],2025-01-24 13:57:11+00:00,2025-01-10 13:53:19+00:00,https://github.com/odoo/odoo/pull/192732,"[('OE', 'the report is linked to a support ticket (opw-...)')]","[{'comment_id': 2575482258, 'issue_id': 2773026171, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/192732.png)](https://mergebot.odoo.com/odoo/odoo/pull/192732)', 'created_at': datetime.datetime(2025, 1, 7, 14, 47, 45, tzinfo=datetime.timezone.utc)}, {'comment_id': 2582595292, 'issue_id': 2773026171, 'author': 'Whenrow', 'body': 'robodoo r+\r\nThank you', 'created_at': datetime.datetime(2025, 1, 10, 12, 25, 41, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-07 14:47:45 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/192732.png)](https://mergebot.odoo.com/odoo/odoo/pull/192732)

Whenrow on (2025-01-10 12:25:41 UTC): robodoo r+
Thank you

"
2773025335,pull_request,closed,,[FW][FIX] hw_drivers: landscape report printing on windows,"On Virtual IoT Boxes, a landscape report was still printed in portrait.
We added the argument required to handle landscape printing.

opw-4081884

Forward-Port-Of: odoo/odoo#192634",fw-bot,2025-01-07 14:47:20+00:00,[],2025-01-21 20:37:05+00:00,2025-01-07 20:30:25+00:00,https://github.com/odoo/odoo/pull/192731,"[('OE', 'the report is linked to a support ticket (opw-...)'), ('forwardport', 'This PR was created by @fw-bot')]","[{'comment_id': 2575481299, 'issue_id': 2773025335, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/192731.png)](https://mergebot.odoo.com/odoo/odoo/pull/192731)', 'created_at': datetime.datetime(2025, 1, 7, 14, 47, 21, tzinfo=datetime.timezone.utc)}, {'comment_id': 2575481334, 'issue_id': 2773025335, 'author': 'fw-bot', 'body': 'This PR targets 18.0 and is part of the forward-port chain. Further PRs will be created up to master.\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 7, 14, 47, 21, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-07 14:47:21 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/192731.png)](https://mergebot.odoo.com/odoo/odoo/pull/192731)

fw-bot (Issue Creator) on (2025-01-07 14:47:21 UTC): This PR targets 18.0 and is part of the forward-port chain. Further PRs will be created up to master.

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

"
2773024110,pull_request,closed,,[FW][IMP] event: trigger Email Queue Manager,"In async mode, trigger both the Mail Scheduler and the Email Queue
Manager.

Rationale
=========

By default, the Email Queue Manager is run once an hour. In case of the
event registration confirmation, it can lead to a lag between the
confirmation and the email received. However, end users tend to expect
a confirmation email incoming within a few minutes.

By triggering the email queue, it leads to a behavior which is closer
to the synchronous configuration.

Forward-Port-Of: odoo/odoo#191875",fw-bot,2025-01-07 14:46:46+00:00,[],2025-01-21 23:36:58+00:00,2025-01-07 22:13:40+00:00,https://github.com/odoo/odoo/pull/192730,"[('RD', 'research & development, internal work'), ('forwardport', 'This PR was created by @fw-bot'), ('18.2', None)]","[{'comment_id': 2575480034, 'issue_id': 2773024110, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/192730.png)](https://mergebot.odoo.com/odoo/odoo/pull/192730)', 'created_at': datetime.datetime(2025, 1, 7, 14, 46, 48, tzinfo=datetime.timezone.utc)}, {'comment_id': 2575480065, 'issue_id': 2773024110, 'author': 'fw-bot', 'body': '@nim-odoo @tde-banana-odoo this PR targets master and is the last of the forward-port chain containing:\n* odoo/odoo#192712\n\nTo merge the full chain, use\n> @robodoo r+\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 7, 14, 46, 48, tzinfo=datetime.timezone.utc)}, {'comment_id': 2575492545, 'issue_id': 2773024110, 'author': 'tde-banana-odoo', 'body': '@robodoo r+', 'created_at': datetime.datetime(2025, 1, 7, 14, 51, 55, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-07 14:46:48 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/192730.png)](https://mergebot.odoo.com/odoo/odoo/pull/192730)

fw-bot (Issue Creator) on (2025-01-07 14:46:48 UTC): @nim-odoo @tde-banana-odoo this PR targets master and is the last of the forward-port chain containing:
* odoo/odoo#192712

To merge the full chain, use

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

tde-banana-odoo on (2025-01-07 14:51:55 UTC): @robodoo r+

"
2773023072,pull_request,closed,,[FIX] sale_stock: return section in portal,"When cusomers access portal view, they are able to see deliveries/returns made for their sales order. Currently in the returns list, incoming deliveries are shown, without checking if it is a real return. This will show incoming deliveries from third party vendor that a customer should not see

- Activate Route MTO
- In Route Buy, open the first rule and set
  - Propagation of Procurement Group: Propagate
- Create a product [TEST] with:
  - Product Type: Goods
  - Invoicing Policy: Ordered Quantities
  - [Purchase tab] Set a Vendor
  - [Inventory Tab] Routes Buy, MTO
- Create a Sales Order with [TEST]
- Confirm
- Open the Purchase order and confirm it
- Back to the SO, 2 deliveries are created
- Open portal

Issue: Under 'Returns' it is listed the delivery from the vendor to the company.

opw-4420364

",agr-odoo,2025-01-07 14:46:17+00:00,[],2025-01-31 15:52:54+00:00,2025-01-17 15:40:38+00:00,https://github.com/odoo/odoo/pull/192729,"[('OE', 'the report is linked to a support ticket (opw-...)')]","[{'comment_id': 2575478881, 'issue_id': 2773023072, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/192729.png)](https://mergebot.odoo.com/odoo/odoo/pull/192729)', 'created_at': datetime.datetime(2025, 1, 7, 14, 46, 19, tzinfo=datetime.timezone.utc)}, {'comment_id': 2598166070, 'issue_id': 2773023072, 'author': 'clesgow', 'body': 'Thanks!\r\n@robodoo r+', 'created_at': datetime.datetime(2025, 1, 17, 11, 33, 16, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-07 14:46:19 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/192729.png)](https://mergebot.odoo.com/odoo/odoo/pull/192729)

clesgow on (2025-01-17 11:33:16 UTC): Thanks!
@robodoo r+

"
2773002215,pull_request,closed,,[FIX] l10n_latam_invoice_document: allow user to create a CN in a journal different than the move,"Description of the issue/feature this PR addresses:
This PR aims to allow the user to create a CN in a different journal than the one the invoice has.

Current behavior before PR:
When a user tries to create a CN from a E-invoice with a manual journal, and then changes the journal on the CN wizard, the field ""Document number"" that is required for manual journals is still visible and required so the wizard can not be confirmed. 

Desired behavior after PR is merged:
When the user creates a CN and then change the journal on the CN wizard, the visibility and requirement of the fields should be adjusted as expected for the journal type selected.



---
I confirm I have signed the CLA and read the PR guidelines at www.odoo.com/submit-pr
",jue-adhoc,2025-01-07 14:37:04+00:00,[],2025-02-06 19:38:06+00:00,2025-02-06 19:38:05+00:00,https://github.com/odoo/odoo/pull/192728,"[('Localization', 'about adapting the content to a specify country (usually chart of accounts)')]","[{'comment_id': 2575456203, 'issue_id': 2773002215, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/192728.png)](https://mergebot.odoo.com/odoo/odoo/pull/192728)', 'created_at': datetime.datetime(2025, 1, 7, 14, 37, 7, tzinfo=datetime.timezone.utc)}, {'comment_id': 2621545906, 'issue_id': 2773002215, 'author': 'jue-adhoc', 'body': '@zaoral thanks for the review! Changes already pushed.', 'created_at': datetime.datetime(2025, 1, 29, 12, 46, 54, tzinfo=datetime.timezone.utc)}, {'comment_id': 2625320108, 'issue_id': 2773002215, 'author': 'fvz-odoo', 'body': 'Hello @jue-adhoc \r\n\r\nThanks for the change, I tested this and LGTM. Ready for final review @odoo/rd-accounting-las.\r\n\r\nCheers!\r\n\r\nFernando\r\n\r\n@zaoral', 'created_at': datetime.datetime(2025, 1, 30, 18, 54, 32, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-07 14:37:07 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/192728.png)](https://mergebot.odoo.com/odoo/odoo/pull/192728)

jue-adhoc (Issue Creator) on (2025-01-29 12:46:54 UTC): @zaoral thanks for the review! Changes already pushed.

fvz-odoo on (2025-01-30 18:54:32 UTC): Hello @jue-adhoc 

Thanks for the change, I tested this and LGTM. Ready for final review @odoo/rd-accounting-las.

Cheers!

Fernando

@zaoral

"
2772982906,pull_request,closed,,[FW][FIX] web_editor: adjust selection on column deletion,"**Problem**:
When deleting columns in the editor, if the start and end points of the selection are inside the columns, the `range.extractContents` method extracts the content but leaves behind `div` elements for the first and last columns (or sometimes only one of them). This occurs because the columns are partially selected (content but not container).

**Solution**:
To ensure `range.extractContents` removes the columns completely, extend the selection to encompass the entire content of the `o_text_columns` element when the selection starts at the first leaf and ends at the last leaf within the columns.

**Steps to reproduce**:
1. Open the editor.
2. Create columns (any number).
3. Select all content (e.g., with `Ctrl+A`).
4. Press `Backspace` to delete the content.
5. Observe that the DOM still contains `o_text_columns` and `row` elements, even though the content appears deleted.

opw-4350486

---
I confirm I have signed the CLA and read the PR guidelines at www.odoo.com/submit-pr

Forward-Port-Of: odoo/odoo#192006
Forward-Port-Of: odoo/odoo#189978",fw-bot,2025-01-07 14:28:17+00:00,[],2025-01-21 23:36:56+00:00,2025-01-07 22:13:27+00:00,https://github.com/odoo/odoo/pull/192727,"[('OE', 'the report is linked to a support ticket (opw-...)'), ('forwardport', 'This PR was created by @fw-bot'), ('18.2', None)]","[{'comment_id': 2575426602, 'issue_id': 2772982906, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/192727.png)](https://mergebot.odoo.com/odoo/odoo/pull/192727)', 'created_at': datetime.datetime(2025, 1, 7, 14, 28, 18, tzinfo=datetime.timezone.utc)}, {'comment_id': 2575426674, 'issue_id': 2772982906, 'author': 'fw-bot', 'body': '@walidsahli @dmo-odoo this PR targets master and is the last of the forward-port chain containing:\n* odoo/odoo#192656\n\nTo merge the full chain, use\n> @robodoo r+\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 7, 14, 28, 19, tzinfo=datetime.timezone.utc)}, {'comment_id': 2575434454, 'issue_id': 2772982906, 'author': 'walidsahli', 'body': '@robodoo r+', 'created_at': datetime.datetime(2025, 1, 7, 14, 29, 34, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-07 14:28:18 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/192727.png)](https://mergebot.odoo.com/odoo/odoo/pull/192727)

fw-bot (Issue Creator) on (2025-01-07 14:28:19 UTC): @walidsahli @dmo-odoo this PR targets master and is the last of the forward-port chain containing:
* odoo/odoo#192656

To merge the full chain, use

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

walidsahli on (2025-01-07 14:29:34 UTC): @robodoo r+

"
2772973156,pull_request,closed,,[FIX] point_of_sale: print suggested tips in early receipt printed,"Before this commit, when tips were enabled after payment and early receipt printing was enabled, clicking on Bill would show the suggested tips on the Bill screen, but they were not included when printing the receipt.

opw-4455884

---
I confirm I have signed the CLA and read the PR guidelines at www.odoo.com/submit-pr
",pedrambiria,2025-01-07 14:23:56+00:00,[],2025-02-06 18:21:37+00:00,2025-02-06 18:21:37+00:00,https://github.com/odoo/odoo/pull/192726,"[('OE', 'the report is linked to a support ticket (opw-...)')]","[{'comment_id': 2575414873, 'issue_id': 2772973156, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/192726.png)](https://mergebot.odoo.com/odoo/odoo/pull/192726)', 'created_at': datetime.datetime(2025, 1, 7, 14, 23, 59, tzinfo=datetime.timezone.utc)}, {'comment_id': 2621026788, 'issue_id': 2772973156, 'author': 'pedrambiria', 'body': '@adgu-odoo  could you please review this pr?', 'created_at': datetime.datetime(2025, 1, 29, 8, 53, 16, tzinfo=datetime.timezone.utc)}, {'comment_id': 2639471693, 'issue_id': 2772973156, 'author': 'pedrambiria', 'body': '@adgu-odoo could you please review this pr?', 'created_at': datetime.datetime(2025, 2, 6, 10, 49, 26, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-07 14:23:59 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/192726.png)](https://mergebot.odoo.com/odoo/odoo/pull/192726)

pedrambiria (Issue Creator) on (2025-01-29 08:53:16 UTC): @adgu-odoo  could you please review this pr?

pedrambiria (Issue Creator) on (2025-02-06 10:49:26 UTC): @adgu-odoo could you please review this pr?

"
2772947635,pull_request,closed,,[FIX] hw_drivers: missing import for logger,"DisplayDriver was missing the logger definition, resulting in a crash when a specific exception occured.
",loouis-t,2025-01-07 14:12:08+00:00,[],2025-01-21 16:57:20+00:00,2025-01-07 16:54:25+00:00,https://github.com/odoo/odoo/pull/192725,"[('RD', 'research & development, internal work')]","[{'comment_id': 2575388372, 'issue_id': 2772947635, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/192725.png)](https://mergebot.odoo.com/odoo/odoo/pull/192725)', 'created_at': datetime.datetime(2025, 1, 7, 14, 12, 11, tzinfo=datetime.timezone.utc)}, {'comment_id': 2575393245, 'issue_id': 2772947635, 'author': 'lse-odoo', 'body': 'WHO DARE TO REMOVE MY LOGS ??', 'created_at': datetime.datetime(2025, 1, 7, 14, 14, 28, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-07 14:12:11 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/192725.png)](https://mergebot.odoo.com/odoo/odoo/pull/192725)

lse-odoo on (2025-01-07 14:14:28 UTC): WHO DARE TO REMOVE MY LOGS ??

"
2772940530,pull_request,closed,,[FW][IMP] mail: log the redacted to headers,"Debugging outgoing emails is fastidious. Only the mail record id and Message-Id are logged, but most of the time the mail record is removed once the mail is sent, making it impossible to find back who the recipients were.

In this work we also log the (redacted) From and To headers. We decided to redact the headers out of excessive caution regarding the GDPR.

The new `email_anonymize` function must balance disambiguation and redaction. Disambiguation so it is easy to tell two different email addresses appart (for debugging). Redaction so it hard to find the original email address back (for privacy). It must also be simple.

We conducted several experiments using a dataset of 600ish email address (95% of which have a local part that is at least 6 characters long) to determine a nice function. The final function keep the first character for shorter inputs (length of local part < 6) and the first plus two lasts chars for longer inputs (>=6). Using that function we achieve a 99% disambiguation of emails in the dataset (with or without redacting the domain) while retaining minimal info (3 chars at most).

Redacting the domain isn't that useful as most addresses use gmail, hotmail, outlook, yahoo.

Task-4361561

Description of the issue/feature this PR addresses:

Current behavior before PR:

Desired behavior after PR is merged:




---
I confirm I have signed the CLA and read the PR guidelines at www.odoo.com/submit-pr

Forward-Port-Of: odoo/odoo#188697",fw-bot,2025-01-07 14:08:37+00:00,[],2025-02-04 10:30:25+00:00,2025-01-21 10:28:16+00:00,https://github.com/odoo/odoo/pull/192724,"[('RD', 'research & development, internal work'), ('forwardport', 'This PR was created by @fw-bot'), ('conflict', 'There was an error while creating this forward-port PR')]","[{'comment_id': 2575380945, 'issue_id': 2772940530, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/192724.png)](https://mergebot.odoo.com/odoo/odoo/pull/192724)', 'created_at': datetime.datetime(2025, 1, 7, 14, 8, 38, tzinfo=datetime.timezone.utc)}, {'comment_id': 2575380964, 'issue_id': 2772940530, 'author': 'fw-bot', 'body': '@Julien00859 cherrypicking of pull request odoo/odoo#188697 failed.\n\nstdout:\n```\nAuto-merging addons/mail/models/mail_mail.py\nAuto-merging odoo/addons/base/tests/test_mail.py\nCONFLICT (content): Merge conflict in odoo/addons/base/tests/test_mail.py\nAuto-merging odoo/tools/mail.py\n\n```\n\nEither perform the forward-port manually (and push to this branch, proceeding as usual) or close this PR (maybe?).\n\nIn the former case, you may want to edit this PR message as well.\n\n:warning: after resolving this conflict, you will need to merge it via @robodoo.\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 7, 14, 8, 39, tzinfo=datetime.timezone.utc)}, {'comment_id': 2585000584, 'issue_id': 2772940530, 'author': 'fw-bot', 'body': '@Julien00859 this forward port of odoo/odoo#188697 is awaiting action (not merged or closed).', 'created_at': datetime.datetime(2025, 1, 11, 2, 1, 38, tzinfo=datetime.timezone.utc)}, {'comment_id': 2585541930, 'issue_id': 2772940530, 'author': 'fw-bot', 'body': '@Julien00859 this forward port of odoo/odoo#188697 is awaiting action (not merged or closed).', 'created_at': datetime.datetime(2025, 1, 12, 2, 2, 10, tzinfo=datetime.timezone.utc)}, {'comment_id': 2586047579, 'issue_id': 2772940530, 'author': 'fw-bot', 'body': '@Julien00859 this forward port of odoo/odoo#188697 is awaiting action (not merged or closed).', 'created_at': datetime.datetime(2025, 1, 13, 2, 2, 48, tzinfo=datetime.timezone.utc)}, {'comment_id': 2588620477, 'issue_id': 2772940530, 'author': 'fw-bot', 'body': '@Julien00859 this forward port of odoo/odoo#188697 is awaiting action (not merged or closed).', 'created_at': datetime.datetime(2025, 1, 14, 2, 2, 8, tzinfo=datetime.timezone.utc)}, {'comment_id': 2591478980, 'issue_id': 2772940530, 'author': 'fw-bot', 'body': '@Julien00859 this forward port of odoo/odoo#188697 is awaiting action (not merged or closed).', 'created_at': datetime.datetime(2025, 1, 15, 2, 2, 6, tzinfo=datetime.timezone.utc)}, {'comment_id': 2594313811, 'issue_id': 2772940530, 'author': 'fw-bot', 'body': '@Julien00859 this forward port of odoo/odoo#188697 is awaiting action (not merged or closed).', 'created_at': datetime.datetime(2025, 1, 16, 2, 1, 38, tzinfo=datetime.timezone.utc)}, {'comment_id': 2596077208, 'issue_id': 2772940530, 'author': 'Julien00859', 'body': '@robodoo r+', 'created_at': datetime.datetime(2025, 1, 16, 15, 47, 50, tzinfo=datetime.timezone.utc)}, {'comment_id': 2597278624, 'issue_id': 2772940530, 'author': 'fw-bot', 'body': '@Julien00859 this forward port of odoo/odoo#188697 is awaiting action (not merged or closed).', 'created_at': datetime.datetime(2025, 1, 17, 2, 1, 34, tzinfo=datetime.timezone.utc)}, {'comment_id': 2600469557, 'issue_id': 2772940530, 'author': 'fw-bot', 'body': '@Julien00859 this forward port of odoo/odoo#188697 is awaiting action (not merged or closed).', 'created_at': datetime.datetime(2025, 1, 19, 2, 2, 24, tzinfo=datetime.timezone.utc)}, {'comment_id': 2603747554, 'issue_id': 2772940530, 'author': 'Julien00859', 'body': '@robodoo r+', 'created_at': datetime.datetime(2025, 1, 21, 6, 12, 51, tzinfo=datetime.timezone.utc)}, {'comment_id': 2603780417, 'issue_id': 2772940530, 'author': 'robodoo', 'body': ""@Julien00859 'ci/template' failed on this reviewed PR."", 'created_at': datetime.datetime(2025, 1, 21, 6, 38, 44, tzinfo=datetime.timezone.utc)}, {'comment_id': 2603798541, 'issue_id': 2772940530, 'author': 'Julien00859', 'body': '@robodoo r+', 'created_at': datetime.datetime(2025, 1, 21, 6, 53, 7, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-07 14:08:38 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/192724.png)](https://mergebot.odoo.com/odoo/odoo/pull/192724)

fw-bot (Issue Creator) on (2025-01-07 14:08:39 UTC): @Julien00859 cherrypicking of pull request odoo/odoo#188697 failed.

stdout:
```
Auto-merging addons/mail/models/mail_mail.py
Auto-merging odoo/addons/base/tests/test_mail.py
CONFLICT (content): Merge conflict in odoo/addons/base/tests/test_mail.py
Auto-merging odoo/tools/mail.py

```

Either perform the forward-port manually (and push to this branch, proceeding as usual) or close this PR (maybe?).

In the former case, you may want to edit this PR message as well.

:warning: after resolving this conflict, you will need to merge it via @robodoo.

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

fw-bot (Issue Creator) on (2025-01-11 02:01:38 UTC): @Julien00859 this forward port of odoo/odoo#188697 is awaiting action (not merged or closed).

fw-bot (Issue Creator) on (2025-01-12 02:02:10 UTC): @Julien00859 this forward port of odoo/odoo#188697 is awaiting action (not merged or closed).

fw-bot (Issue Creator) on (2025-01-13 02:02:48 UTC): @Julien00859 this forward port of odoo/odoo#188697 is awaiting action (not merged or closed).

fw-bot (Issue Creator) on (2025-01-14 02:02:08 UTC): @Julien00859 this forward port of odoo/odoo#188697 is awaiting action (not merged or closed).

fw-bot (Issue Creator) on (2025-01-15 02:02:06 UTC): @Julien00859 this forward port of odoo/odoo#188697 is awaiting action (not merged or closed).

fw-bot (Issue Creator) on (2025-01-16 02:01:38 UTC): @Julien00859 this forward port of odoo/odoo#188697 is awaiting action (not merged or closed).

Julien00859 on (2025-01-16 15:47:50 UTC): @robodoo r+

fw-bot (Issue Creator) on (2025-01-17 02:01:34 UTC): @Julien00859 this forward port of odoo/odoo#188697 is awaiting action (not merged or closed).

fw-bot (Issue Creator) on (2025-01-19 02:02:24 UTC): @Julien00859 this forward port of odoo/odoo#188697 is awaiting action (not merged or closed).

Julien00859 on (2025-01-21 06:12:51 UTC): @robodoo r+

robodoo on (2025-01-21 06:38:44 UTC): @Julien00859 'ci/template' failed on this reviewed PR.

Julien00859 on (2025-01-21 06:53:07 UTC): @robodoo r+

"
2772936683,pull_request,closed,,[FW][FIX] web_editor: prevent triggering powerbox for non-editable drop zone,"Step to Reproduce:

1. Enter the edit mode of Homepage
2. click on drop zone area having ""Drag building blocks here"" message.
-> sometime the ""drag and drop a building block here"" unexpectedly moves
up. which should stay as it is.

Before this commit, all `<p>` and `<div>` elements were considered as
potential PowerBox elements, making them editable using the `/` command.
This occurred even when the elements had the `o_not_editable` class or
`contenteditable=""false""` attribute.

For example, in the case of the `#wrap` element, it has the `o_editable`
class along with `contenteditable=""false""`. This caused PowerBox element
or placeholders to be added unnecessarily, even though no text editing
was allowed.

In this commit, we adapted the solution merged[1] in master and specify
the selector to make sure that no command hint shown on div while having
`o_not_editable` class or `contenteditable=false` attribute.

[1] https://github.com/odoo/odoo/commit/302250cdde936a47048b8f3403e024e2e617ace7

Before this PR :

![image](https://github.com/odoo/odoo/assets/103405229/4039d00b-43c3-4865-aa3f-83f3edab22f1)


Desired behavior after PR is merged:

No hint/placeholder is added to contenteditable false block, resulting in data editor message to stay on its place.

task-3443430

Forward-Port-Of: odoo/odoo#192012
Forward-Port-Of: odoo/odoo#153001",fw-bot,2025-01-07 14:06:46+00:00,[],2025-01-22 10:10:21+00:00,2025-01-08 10:01:19+00:00,https://github.com/odoo/odoo/pull/192723,"[('RD', 'research & development, internal work'), ('forwardport', 'This PR was created by @fw-bot'), ('18.2', None)]","[{'comment_id': 2575377141, 'issue_id': 2772936683, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/192723.png)](https://mergebot.odoo.com/odoo/odoo/pull/192723)', 'created_at': datetime.datetime(2025, 1, 7, 14, 6, 47, tzinfo=datetime.timezone.utc)}, {'comment_id': 2575377166, 'issue_id': 2772936683, 'author': 'fw-bot', 'body': '@shsa-odoo @bvr-odoo this PR targets master and is the last of the forward-port chain containing:\n* odoo/odoo#192697\n* odoo/odoo#192676\n\nTo merge the full chain, use\n> @robodoo r+\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 7, 14, 6, 47, tzinfo=datetime.timezone.utc)}, {'comment_id': 2576558382, 'issue_id': 2772936683, 'author': 'fw-bot', 'body': '@shsa-odoo @bvr-odoo this forward port of odoo/odoo#153001 is awaiting action (not merged or closed).', 'created_at': datetime.datetime(2025, 1, 8, 2, 1, 58, tzinfo=datetime.timezone.utc)}, {'comment_id': 2577035128, 'issue_id': 2772936683, 'author': 'bvr-odoo', 'body': '@robodoo r+', 'created_at': datetime.datetime(2025, 1, 8, 8, 22, 35, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-07 14:06:47 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/192723.png)](https://mergebot.odoo.com/odoo/odoo/pull/192723)

fw-bot (Issue Creator) on (2025-01-07 14:06:47 UTC): @shsa-odoo @bvr-odoo this PR targets master and is the last of the forward-port chain containing:
* odoo/odoo#192697
* odoo/odoo#192676

To merge the full chain, use

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

fw-bot (Issue Creator) on (2025-01-08 02:01:58 UTC): @shsa-odoo @bvr-odoo this forward port of odoo/odoo#153001 is awaiting action (not merged or closed).

bvr-odoo on (2025-01-08 08:22:35 UTC): @robodoo r+

"
2772935897,pull_request,closed,,"[FW][IMP] web, base: kanban app list vertical misalignment","Before this commit, there was a misalignment issue with the buttons in the cards due to varying text lengths in the description. This caused the buttons to appear at different vertical positions, disrupting visual consistency.

Now, the layout ensures that all buttons are aligned at the bottom of the cards regardless of the description length, and also the desc is a bit more readable with improved line spacing.

| Before | After |
|--------|--------|
| ![image](https://github.com/user-attachments/assets/e6651d85-bad0-4c45-8eab-537a76615add) | ![image](https://github.com/user-attachments/assets/77503d3a-1bef-4aa2-b797-d09cb9e52d26) |

task-4357026

---
I confirm I have signed the CLA and read the PR guidelines at www.odoo.com/submit-pr

Forward-Port-Of: odoo/odoo#192660
Forward-Port-Of: odoo/odoo#192011",fw-bot,2025-01-07 14:06:22+00:00,[],2025-01-21 21:03:13+00:00,2025-01-07 20:40:20+00:00,https://github.com/odoo/odoo/pull/192722,"[('RD', 'research & development, internal work'), ('forwardport', 'This PR was created by @fw-bot'), ('18.2', None)]","[{'comment_id': 2575376616, 'issue_id': 2772935897, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/192722.png)](https://mergebot.odoo.com/odoo/odoo/pull/192722)', 'created_at': datetime.datetime(2025, 1, 7, 14, 6, 30, tzinfo=datetime.timezone.utc)}, {'comment_id': 2575376628, 'issue_id': 2772935897, 'author': 'fw-bot', 'body': '@xlu-odoo @aab-odoo this PR targets master and is the last of the forward-port chain.\n\nTo merge the full chain, use\n> @robodoo r+\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 7, 14, 6, 30, tzinfo=datetime.timezone.utc)}, {'comment_id': 2575446074, 'issue_id': 2772935897, 'author': 'aab-odoo', 'body': '@robodoo r+', 'created_at': datetime.datetime(2025, 1, 7, 14, 33, 16, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-07 14:06:30 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/192722.png)](https://mergebot.odoo.com/odoo/odoo/pull/192722)

fw-bot (Issue Creator) on (2025-01-07 14:06:30 UTC): @xlu-odoo @aab-odoo this PR targets master and is the last of the forward-port chain.

To merge the full chain, use

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

aab-odoo on (2025-01-07 14:33:16 UTC): @robodoo r+

"
2772935653,pull_request,closed,,[FIX] web: increase z-index of form view statusbar,"Description of the issue this PR addresses:

Steps to reproduce:

1. Open the To-Do/Project app
2. Focus on HTML field and add some empty lines to make it scrollable.
3. Scroll the view and observe that the power buttons scroll above the status
bar.

Current behavior before PR:

A recent commit [1] made the form view statusbar sticky with a z-index of 1, which conflicts with the editor's local overlay.

Desired behavior after PR is merged:

The z-index of the statusbar is increased to 2, ensuring the editor's local overlay scrolls beneath the statusbar.

[1]: https://github.com/odoo/odoo/commit/a3c63413825cf3492a10ade77a2c571c4eeb33a6

task: 4457597

---
I confirm I have signed the CLA and read the PR guidelines at www.odoo.com/submit-pr
",deso-odoo,2025-01-07 14:06:15+00:00,[],2025-01-16 09:48:05+00:00,2025-01-16 09:48:05+00:00,https://github.com/odoo/odoo/pull/192721,"[('RD', 'research & development, internal work')]","[{'comment_id': 2575376575, 'issue_id': 2772935653, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/192721.png)](https://mergebot.odoo.com/odoo/odoo/pull/192721)', 'created_at': datetime.datetime(2025, 1, 7, 14, 6, 28, tzinfo=datetime.timezone.utc)}, {'comment_id': 2579844299, 'issue_id': 2772935653, 'author': 'deso-odoo', 'body': ""That's because unlike powerButtons, the Toolbar uses the web's Overlay and not local overlay, which has a z-index of 1055($zindex-modal). I have updated the fix."", 'created_at': datetime.datetime(2025, 1, 9, 11, 0, 20, tzinfo=datetime.timezone.utc)}, {'comment_id': 2580015320, 'issue_id': 2772935653, 'author': 'deso-odoo', 'body': ""> That's because unlike powerButtons, the Toolbar uses the web's Overlay and not local overlay, which has a z-index of 1055($zindex-modal). I have updated the fix.\r\n\r\nThis won't work too!\r\n![image](https://github.com/user-attachments/assets/bc79f46e-d057-467b-ac5a-c8b240a15b3c)\r\nI'll need to find something else."", 'created_at': datetime.datetime(2025, 1, 9, 12, 16, 54, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-07 14:06:28 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/192721.png)](https://mergebot.odoo.com/odoo/odoo/pull/192721)

deso-odoo (Issue Creator) on (2025-01-09 11:00:20 UTC): That's because unlike powerButtons, the Toolbar uses the web's Overlay and not local overlay, which has a z-index of 1055($zindex-modal). I have updated the fix.

deso-odoo (Issue Creator) on (2025-01-09 12:16:54 UTC): This won't work too!
![image](https://github.com/user-attachments/assets/bc79f46e-d057-467b-ac5a-c8b240a15b3c)
I'll need to find something else.

"
2772935137,pull_request,closed,,[FW][IMP] mail: make /leave close chat windows,"Before this commit, leaving or unpin a channel kept the chat window open.
This commit forces the closing of the chat window when either action is made.

task-4452932

Forward-Port-Of: odoo/odoo#192477",fw-bot,2025-01-07 14:06:00+00:00,[],2025-01-21 21:03:12+00:00,2025-01-07 20:40:11+00:00,https://github.com/odoo/odoo/pull/192720,"[('RD', 'research & development, internal work'), ('forwardport', 'This PR was created by @fw-bot'), ('18.2', None)]","[{'comment_id': 2575376499, 'issue_id': 2772935137, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/192720.png)](https://mergebot.odoo.com/odoo/odoo/pull/192720)', 'created_at': datetime.datetime(2025, 1, 7, 14, 6, 26, tzinfo=datetime.timezone.utc)}, {'comment_id': 2575376516, 'issue_id': 2772935137, 'author': 'fw-bot', 'body': '@phenix-factory this PR targets master and is the last of the forward-port chain.\n\nTo merge the full chain, use\n> @robodoo r+\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 7, 14, 6, 26, tzinfo=datetime.timezone.utc)}, {'comment_id': 2575392572, 'issue_id': 2772935137, 'author': 'phenix-factory', 'body': '@robodoo r+', 'created_at': datetime.datetime(2025, 1, 7, 14, 14, 9, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-07 14:06:26 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/192720.png)](https://mergebot.odoo.com/odoo/odoo/pull/192720)

fw-bot (Issue Creator) on (2025-01-07 14:06:26 UTC): @phenix-factory this PR targets master and is the last of the forward-port chain.

To merge the full chain, use

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

phenix-factory on (2025-01-07 14:14:09 UTC): @robodoo r+

"
2772929699,pull_request,closed,,[FW][FIX] base: use RUC as VAT label for Panama,"In Panama, the Tax ID is the Registro Único de Contribuyentes (RUC) and not the Número de Identificación Fiscal (NIF).

This is a double fix:
1. Update the `vat_label` to use ""RUC"" instead of ""Tax ID"", but this will only be available for new created DBs (because of noupdate)
2. Update the translation of Tax ID for Panama which only requires to update the translations to have the correct translation of Tax ID.

opw-4388758

Forward-Port-Of: odoo/odoo#192514",fw-bot,2025-01-07 14:03:36+00:00,[],2025-01-21 21:03:13+00:00,2025-01-07 20:40:16+00:00,https://github.com/odoo/odoo/pull/192719,"[('OE', 'the report is linked to a support ticket (opw-...)'), ('forwardport', 'This PR was created by @fw-bot'), ('18.2', None)]","[{'comment_id': 2575370168, 'issue_id': 2772929699, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/192719.png)](https://mergebot.odoo.com/odoo/odoo/pull/192719)', 'created_at': datetime.datetime(2025, 1, 7, 14, 3, 37, tzinfo=datetime.timezone.utc)}, {'comment_id': 2575370192, 'issue_id': 2772929699, 'author': 'fw-bot', 'body': '@RicGR98 @antoine162 this PR targets master and is the last of the forward-port chain containing:\n* odoo/odoo#192696\n* odoo/odoo#192677\n\nTo merge the full chain, use\n> @robodoo r+\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 7, 14, 3, 38, tzinfo=datetime.timezone.utc)}, {'comment_id': 2575381055, 'issue_id': 2772929699, 'author': 'fw-bot', 'body': '@RicGR98 @antoine162 this PR was modified / updated and has become a normal PR. It must be merged directly.', 'created_at': datetime.datetime(2025, 1, 7, 14, 8, 42, tzinfo=datetime.timezone.utc)}, {'comment_id': 2575382709, 'issue_id': 2772929699, 'author': 'RicGR98', 'body': '@robodoo r+', 'created_at': datetime.datetime(2025, 1, 7, 14, 9, 28, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-07 14:03:37 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/192719.png)](https://mergebot.odoo.com/odoo/odoo/pull/192719)

fw-bot (Issue Creator) on (2025-01-07 14:03:38 UTC): @RicGR98 @antoine162 this PR targets master and is the last of the forward-port chain containing:
* odoo/odoo#192696
* odoo/odoo#192677

To merge the full chain, use

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

fw-bot (Issue Creator) on (2025-01-07 14:08:42 UTC): @RicGR98 @antoine162 this PR was modified / updated and has become a normal PR. It must be merged directly.

RicGR98 on (2025-01-07 14:09:28 UTC): @robodoo r+

"
2772913032,pull_request,closed,,"[FIX] mail, various: fix authorship issues",,tde-banana-odoo,2025-01-07 13:55:42+00:00,[],2025-01-21 21:03:14+00:00,2025-01-07 20:40:25+00:00,https://github.com/odoo/odoo/pull/192718,"[('RD', 'research & development, internal work'), ('18.2', None)]","[{'comment_id': 2575354184, 'issue_id': 2772913032, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/192718.png)](https://mergebot.odoo.com/odoo/odoo/pull/192718)', 'created_at': datetime.datetime(2025, 1, 7, 13, 55, 48, tzinfo=datetime.timezone.utc)}, {'comment_id': 2575586072, 'issue_id': 2772913032, 'author': 'tde-banana-odoo', 'body': '@robodoo r+ rebase-ff', 'created_at': datetime.datetime(2025, 1, 7, 15, 31, 48, tzinfo=datetime.timezone.utc)}, {'comment_id': 2575586173, 'issue_id': 2772913032, 'author': 'robodoo', 'body': 'Merge method set to rebase and fast-forward.', 'created_at': datetime.datetime(2025, 1, 7, 15, 31, 50, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-07 13:55:48 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/192718.png)](https://mergebot.odoo.com/odoo/odoo/pull/192718)

tde-banana-odoo (Issue Creator) on (2025-01-07 15:31:48 UTC): @robodoo r+ rebase-ff

robodoo on (2025-01-07 15:31:50 UTC): Merge method set to rebase and fast-forward.

"
2772913004,pull_request,closed,,[FW][FIX] pos_self_order: prevent loading products not available,"Before this commit, if you made a product available in PoS but set it to not be available in self order, it would still appear in the kiosk or mobile menu with an ""out of stock"" tag, which is confusing and not the expected behavior.

opw-4200540

---
I confirm I have signed the CLA and read the PR guidelines at www.odoo.com/submit-pr

Forward-Port-Of: odoo/odoo#188663",fw-bot,2025-01-07 13:55:41+00:00,[],2025-01-21 19:16:55+00:00,2025-01-07 19:05:24+00:00,https://github.com/odoo/odoo/pull/192717,"[('OE', 'the report is linked to a support ticket (opw-...)'), ('forwardport', 'This PR was created by @fw-bot')]","[{'comment_id': 2575354130, 'issue_id': 2772913004, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/192717.png)](https://mergebot.odoo.com/odoo/odoo/pull/192717)', 'created_at': datetime.datetime(2025, 1, 7, 13, 55, 46, tzinfo=datetime.timezone.utc)}, {'comment_id': 2575354148, 'issue_id': 2772913004, 'author': 'fw-bot', 'body': 'This PR targets 18.0 and is part of the forward-port chain. Further PRs will be created up to master.\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 7, 13, 55, 47, tzinfo=datetime.timezone.utc)}, {'comment_id': 2575559450, 'issue_id': 2772913004, 'author': 'fw-bot', 'body': '@pedrambiria @adgu-odoo the next pull request (odoo/odoo#192738) is in conflict. You can merge the chain up to here by saying\n> @robodoo r+\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 7, 15, 20, 12, tzinfo=datetime.timezone.utc)}, {'comment_id': 2575581979, 'issue_id': 2772913004, 'author': 'pedrambiria', 'body': '@robodoo r+', 'created_at': datetime.datetime(2025, 1, 7, 15, 30, 7, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-07 13:55:46 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/192717.png)](https://mergebot.odoo.com/odoo/odoo/pull/192717)

fw-bot (Issue Creator) on (2025-01-07 13:55:47 UTC): This PR targets 18.0 and is part of the forward-port chain. Further PRs will be created up to master.

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

fw-bot (Issue Creator) on (2025-01-07 15:20:12 UTC): @pedrambiria @adgu-odoo the next pull request (odoo/odoo#192738) is in conflict. You can merge the chain up to here by saying

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

pedrambiria on (2025-01-07 15:30:07 UTC): @robodoo r+

"
2772908965,pull_request,closed,,[FW][FIX] pos_loyalty: Ensure loyalty post-process occurs after order sync,"Before this commit, if you validated an order while offline and then synced the order when back online, the post-process loyalty actions would not occur, resulting in data not being updated on the server.

opw-4290171

---
I confirm I have signed the CLA and read the PR guidelines at www.odoo.com/submit-pr

Forward-Port-Of: odoo/odoo#187238",fw-bot,2025-01-07 13:54:02+00:00,[],2025-01-22 13:23:20+00:00,2025-01-08 13:04:21+00:00,https://github.com/odoo/odoo/pull/192716,"[('OE', 'the report is linked to a support ticket (opw-...)'), ('forwardport', 'This PR was created by @fw-bot'), ('conflict', 'There was an error while creating this forward-port PR')]","[{'comment_id': 2575350573, 'issue_id': 2772908965, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/192716.png)](https://mergebot.odoo.com/odoo/odoo/pull/192716)', 'created_at': datetime.datetime(2025, 1, 7, 13, 54, 4, tzinfo=datetime.timezone.utc)}, {'comment_id': 2575350656, 'issue_id': 2772908965, 'author': 'fw-bot', 'body': '@pedrambiria @davidmonnom cherrypicking of pull request odoo/odoo#187238 failed.\n\nstdout:\n```\nAuto-merging addons/point_of_sale/static/src/app/screens/payment_screen/payment_screen.js\nCONFLICT (content): Merge conflict in addons/point_of_sale/static/src/app/screens/payment_screen/payment_screen.js\nAuto-merging addons/pos_loyalty/static/src/app/screens/payment_screen/payment_screen.js\n\n```\n\nEither perform the forward-port manually (and push to this branch, proceeding as usual) or close this PR (maybe?).\n\nIn the former case, you may want to edit this PR message as well.\n\n:warning: after resolving this conflict, you will need to merge it via @robodoo.\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 7, 13, 54, 6, tzinfo=datetime.timezone.utc)}, {'comment_id': 2577017207, 'issue_id': 2772908965, 'author': 'pedrambiria', 'body': 'robodoo r+', 'created_at': datetime.datetime(2025, 1, 8, 8, 15, 28, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-07 13:54:04 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/192716.png)](https://mergebot.odoo.com/odoo/odoo/pull/192716)

fw-bot (Issue Creator) on (2025-01-07 13:54:06 UTC): @pedrambiria @davidmonnom cherrypicking of pull request odoo/odoo#187238 failed.

stdout:
```
Auto-merging addons/point_of_sale/static/src/app/screens/payment_screen/payment_screen.js
CONFLICT (content): Merge conflict in addons/point_of_sale/static/src/app/screens/payment_screen/payment_screen.js
Auto-merging addons/pos_loyalty/static/src/app/screens/payment_screen/payment_screen.js

```

Either perform the forward-port manually (and push to this branch, proceeding as usual) or close this PR (maybe?).

In the former case, you may want to edit this PR message as well.

:warning: after resolving this conflict, you will need to merge it via @robodoo.

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

pedrambiria on (2025-01-08 08:15:28 UTC): robodoo r+

"
2772885585,pull_request,closed,,[FW][FIX] web_editor: correct triple click when applying font size,"Description of the issue this PR addresses:

Current behavior before PR:

Triple-clicking to select text, with a nextSibling set as contenteditable false, would reset the selection to its previous state.

Desired behavior after PR is merged:

Correct the triple click selection when applying font-size.

task-4440354

---
I confirm I have signed the CLA and read the PR guidelines at www.odoo.com/submit-pr

Forward-Port-Of: odoo/odoo#192387
Forward-Port-Of: odoo/odoo#192139",fw-bot,2025-01-07 13:42:59+00:00,[],2025-01-22 08:02:21+00:00,2025-01-08 06:57:13+00:00,https://github.com/odoo/odoo/pull/192715,"[('RD', 'research & development, internal work'), ('forwardport', 'This PR was created by @fw-bot')]","[{'comment_id': 2575326803, 'issue_id': 2772885585, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/192715.png)](https://mergebot.odoo.com/odoo/odoo/pull/192715)', 'created_at': datetime.datetime(2025, 1, 7, 13, 43, tzinfo=datetime.timezone.utc)}, {'comment_id': 2575326820, 'issue_id': 2772885585, 'author': 'fw-bot', 'body': 'This PR targets saas-17.4 and is part of the forward-port chain. Further PRs will be created up to master.\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 7, 13, 43, 1, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-07 13:43:00 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/192715.png)](https://mergebot.odoo.com/odoo/odoo/pull/192715)

fw-bot (Issue Creator) on (2025-01-07 13:43:01 UTC): This PR targets saas-17.4 and is part of the forward-port chain. Further PRs will be created up to master.

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

"
2772866466,pull_request,open,,[IMP] mail: jump to present on chat window focus,"With this commit each time a chat window gets focused it will scroll down to the newest message in the thread.

task-4452871",Atovange,2025-01-07 13:34:20+00:00,[],2025-01-21 15:25:20+00:00,,https://github.com/odoo/odoo/pull/192714,"[('RD', 'research & development, internal work')]","[{'comment_id': 2575673499, 'issue_id': 2772866466, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/192714.png)](https://mergebot.odoo.com/odoo/odoo/pull/192714)', 'created_at': datetime.datetime(2025, 1, 7, 16, 7, 57, tzinfo=datetime.timezone.utc)}, {'comment_id': 2602377792, 'issue_id': 2772866466, 'author': 'alexkuhn', 'body': ""I'd also backport to 18.1"", 'created_at': datetime.datetime(2025, 1, 20, 13, 4, 18, tzinfo=datetime.timezone.utc)}, {'comment_id': 2605037659, 'issue_id': 2772866466, 'author': 'Atovange', 'body': '18.1: https://github.com/odoo/odoo/pull/194570', 'created_at': datetime.datetime(2025, 1, 21, 15, 25, 18, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-07 16:07:57 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/192714.png)](https://mergebot.odoo.com/odoo/odoo/pull/192714)

alexkuhn on (2025-01-20 13:04:18 UTC): I'd also backport to 18.1

Atovange (Issue Creator) on (2025-01-21 15:25:18 UTC): 18.1: https://github.com/odoo/odoo/pull/194570

"
2772851682,pull_request,closed,,[FW][FIX] hw_drivers: landscape report printing on windows,"On Virtual IoT Boxes, a landscape report was still printed in portrait.
We added the argument required to handle landscape printing.

opw-4081884

Forward-Port-Of: odoo/odoo#192634",fw-bot,2025-01-07 13:27:18+00:00,[],2025-01-21 21:57:10+00:00,2025-01-07 21:35:54+00:00,https://github.com/odoo/odoo/pull/192713,"[('OE', 'the report is linked to a support ticket (opw-...)'), ('forwardport', 'This PR was created by @fw-bot')]","[{'comment_id': 2575296245, 'issue_id': 2772851682, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/192713.png)](https://mergebot.odoo.com/odoo/odoo/pull/192713)', 'created_at': datetime.datetime(2025, 1, 7, 13, 27, 19, tzinfo=datetime.timezone.utc)}, {'comment_id': 2575296261, 'issue_id': 2772851682, 'author': 'fw-bot', 'body': 'This PR targets saas-17.4 and is part of the forward-port chain. Further PRs will be created up to master.\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 7, 13, 27, 19, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-07 13:27:19 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/192713.png)](https://mergebot.odoo.com/odoo/odoo/pull/192713)

fw-bot (Issue Creator) on (2025-01-07 13:27:19 UTC): This PR targets saas-17.4 and is part of the forward-port chain. Further PRs will be created up to master.

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

"
2772851180,pull_request,closed,,[FW][IMP] event: trigger Email Queue Manager,"In async mode, trigger both the Mail Scheduler and the Email Queue
Manager.

Rationale
=========

By default, the Email Queue Manager is run once an hour. In case of the
event registration confirmation, it can lead to a lag between the
confirmation and the email received. However, end users tend to expect
a confirmation email incoming within a few minutes.

By triggering the email queue, it leads to a behavior which is closer
to the synchronous configuration.

Forward-Port-Of: odoo/odoo#191875",fw-bot,2025-01-07 13:27:03+00:00,[],2025-01-21 16:57:17+00:00,2025-01-07 16:54:04+00:00,https://github.com/odoo/odoo/pull/192712,"[('RD', 'research & development, internal work'), ('forwardport', 'This PR was created by @fw-bot')]","[{'comment_id': 2575295752, 'issue_id': 2772851180, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/192712.png)](https://mergebot.odoo.com/odoo/odoo/pull/192712)', 'created_at': datetime.datetime(2025, 1, 7, 13, 27, 5, tzinfo=datetime.timezone.utc)}, {'comment_id': 2575295769, 'issue_id': 2772851180, 'author': 'fw-bot', 'body': 'This PR targets saas-18.1 and is part of the forward-port chain. Further PRs will be created up to master.\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 7, 13, 27, 5, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-07 13:27:05 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/192712.png)](https://mergebot.odoo.com/odoo/odoo/pull/192712)

fw-bot (Issue Creator) on (2025-01-07 13:27:05 UTC): This PR targets saas-18.1 and is part of the forward-port chain. Further PRs will be created up to master.

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

"
2772850259,pull_request,closed,,[FW][FIX] html_editor: prevent fixing table dimensions on insert,"### Steps to reproduce:

- Insert a table.
- Observe the HTML, noticing that the table does not have a fixed width or height.
- Insert a new column or row.
- Observe the HTML, noticing that the width and/or height of the table has been fixed.

### Description of the issue/feature this PR addresses:

- When a new column is inserted into the table, the table's width is fixed, and the
widths of the first row/column cells (TDs and THs) are also fixed.
- When a new row is inserted, the height is added to the table rows (TRs), even if
the table initially did not have fixed dimensions.

### Desired behavior after PR is merged:

- The width and height of the table will not be fixed when a new column or row is added,
as long as the table did not have fixed dimensions (width/height) to begin with.

task-4402552

Forward-Port-Of: odoo/odoo#190814",fw-bot,2025-01-07 13:26:41+00:00,[],2025-01-22 14:39:32+00:00,2025-01-08 14:33:05+00:00,https://github.com/odoo/odoo/pull/192711,"[('RD', 'research & development, internal work'), ('forwardport', 'This PR was created by @fw-bot')]","[{'comment_id': 2575295009, 'issue_id': 2772850259, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/192711.png)](https://mergebot.odoo.com/odoo/odoo/pull/192711)', 'created_at': datetime.datetime(2025, 1, 7, 13, 26, 42, tzinfo=datetime.timezone.utc)}, {'comment_id': 2575295031, 'issue_id': 2772850259, 'author': 'fw-bot', 'body': 'This PR targets saas-18.1 and is part of the forward-port chain. Further PRs will be created up to master.\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 7, 13, 26, 43, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-07 13:26:42 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/192711.png)](https://mergebot.odoo.com/odoo/odoo/pull/192711)

fw-bot (Issue Creator) on (2025-01-07 13:26:43 UTC): This PR targets saas-18.1 and is part of the forward-port chain. Further PRs will be created up to master.

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

"
2772849834,pull_request,closed,,[FIX] stock: update `quant.inventory_diff_quantity` on `quantity` change,"Versions
--------
- 16.0+

Steps
-----
1. Create a new, storable product;
2. create a RFQ for 100 units of this product;
3. validate 75 units on delivery;
4. create a backorder for 25 units;
5. validate the remaining 25 units;
6. go to Inventory / Operations / Inventory Adjustments;
7. export the relevant adjustment in XLSX format;
8. open the file.

Issue
-----
Displayed difference is -75 (counted quantity - quant quantity), which is correct for the first RFQ, but doesn't take the backorder into account.

Cause
-----
The `inventory_diff_quantity` represents the difference between the `inventory_quantity` and `quantity` fields. Currently it is only called when `inventory_quantity` changes. The difference wasn't recomputed after the second RFQ further updated the `quantity` field.

Solution
--------
Add `quantity` as a dependent field to the compute method.

opw-4435925
opw-4435860",lvsz,2025-01-07 13:26:33+00:00,[],2025-01-13 13:03:07+00:00,2025-01-13 12:42:35+00:00,https://github.com/odoo/odoo/pull/192710,"[('OE', 'the report is linked to a support ticket (opw-...)')]","[{'comment_id': 2575294883, 'issue_id': 2772849834, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/192710.png)](https://mergebot.odoo.com/odoo/odoo/pull/192710)', 'created_at': datetime.datetime(2025, 1, 7, 13, 26, 38, tzinfo=datetime.timezone.utc)}, {'comment_id': 2575431413, 'issue_id': 2772849834, 'author': 'lvsz', 'body': ""Actually not sure if this is a bug due to this test: https://github.com/odoo/odoo/blob/25d3bf9f3682a5e0cd41f49ba88578e4356d53f1/addons/stock/tests/test_inventory.py#L359-L371\r\n\r\nBut no clue why it's done like this."", 'created_at': datetime.datetime(2025, 1, 7, 14, 28, 57, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-07 13:26:38 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/192710.png)](https://mergebot.odoo.com/odoo/odoo/pull/192710)

lvsz (Issue Creator) on (2025-01-07 14:28:57 UTC): Actually not sure if this is a bug due to this test: https://github.com/odoo/odoo/blob/25d3bf9f3682a5e0cd41f49ba88578e4356d53f1/addons/stock/tests/test_inventory.py#L359-L371

But no clue why it's done like this.

"
2772849164,pull_request,closed,,[FW][FIX] mrp_subcontracting_dropshipping: test ok in 2025 from 862ede4,"In 862ede43e5910ae6954f3574f45c213e5d3a1886 the added test depended on
being in year 2024, so it failed in eg. 2025.

With this change we don't harcode the invoice name in assert data.

runbot-error-111390
opw-4050777

Forward-Port-Of: odoo/odoo#192597
Forward-Port-Of: odoo/odoo#192192",fw-bot,2025-01-07 13:26:17+00:00,[],2025-01-21 18:32:33+00:00,2025-01-07 18:22:46+00:00,https://github.com/odoo/odoo/pull/192709,"[('OE', 'the report is linked to a support ticket (opw-...)'), ('forwardport', 'This PR was created by @fw-bot')]","[{'comment_id': 2575294597, 'issue_id': 2772849164, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/192709.png)](https://mergebot.odoo.com/odoo/odoo/pull/192709)', 'created_at': datetime.datetime(2025, 1, 7, 13, 26, 29, tzinfo=datetime.timezone.utc)}, {'comment_id': 2575294618, 'issue_id': 2772849164, 'author': 'fw-bot', 'body': 'This PR targets saas-18.1 and is part of the forward-port chain. Further PRs will be created up to master.\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 7, 13, 26, 30, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-07 13:26:29 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/192709.png)](https://mergebot.odoo.com/odoo/odoo/pull/192709)

fw-bot (Issue Creator) on (2025-01-07 13:26:30 UTC): This PR targets saas-18.1 and is part of the forward-port chain. Further PRs will be created up to master.

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

"
2772840444,pull_request,closed,,[FW][FIX] account_edi_ubl_cii: ensure compliance with PEPPOL-COMMON-R042,"Based on PEPPOL-COMMON-R042 (https://docs.peppol.eu/poacc/billing/3.0/rules/ubl-peppol/PEPPOL-COMMON-R042/) when using the 0184 scheme the VAT number should be used (CVR number prefixed by the country code)

@JulienVR @smetl 




---
I confirm I have signed the CLA and read the PR guidelines at www.odoo.com/submit-pr

Forward-Port-Of: odoo/odoo#190952",fw-bot,2025-01-07 13:22:11+00:00,[],2025-01-22 11:33:08+00:00,2025-01-08 11:22:20+00:00,https://github.com/odoo/odoo/pull/192708,"[('RD', 'research & development, internal work'), ('forwardport', 'This PR was created by @fw-bot'), ('18.2', None)]","[{'comment_id': 2575286000, 'issue_id': 2772840444, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/192708.png)](https://mergebot.odoo.com/odoo/odoo/pull/192708)', 'created_at': datetime.datetime(2025, 1, 7, 13, 22, 12, tzinfo=datetime.timezone.utc)}, {'comment_id': 2575286046, 'issue_id': 2772840444, 'author': 'fw-bot', 'body': '@JordiMForgeFlow @antoine162 this PR targets master and is the last of the forward-port chain containing:\n* odoo/odoo#192684\n\nTo merge the full chain, use\n> @robodoo r+\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 7, 13, 22, 13, tzinfo=datetime.timezone.utc)}, {'comment_id': 2575386050, 'issue_id': 2772840444, 'author': 'fw-bot', 'body': '@JordiMForgeFlow @antoine162 ci/runbot failed on this forward-port PR', 'created_at': datetime.datetime(2025, 1, 7, 14, 11, 4, tzinfo=datetime.timezone.utc)}, {'comment_id': 2577083826, 'issue_id': 2772840444, 'author': 'antoine162', 'body': '@robodoo r+', 'created_at': datetime.datetime(2025, 1, 8, 8, 40, 30, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-07 13:22:12 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/192708.png)](https://mergebot.odoo.com/odoo/odoo/pull/192708)

fw-bot (Issue Creator) on (2025-01-07 13:22:13 UTC): @JordiMForgeFlow @antoine162 this PR targets master and is the last of the forward-port chain containing:
* odoo/odoo#192684

To merge the full chain, use

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

fw-bot (Issue Creator) on (2025-01-07 14:11:04 UTC): @JordiMForgeFlow @antoine162 ci/runbot failed on this forward-port PR

antoine162 on (2025-01-08 08:40:30 UTC): @robodoo r+

"
2772839883,pull_request,closed,,[FW][FIX] sale_project_stock: fixed default setting of picking type opened through topbar,"Steps to reproduce:

- Set default Warehouse in the profile.
- From Project topbar open either ""From WH"" or ""To WH"".
- Create a new stock picking

Issue:

- The stock picking type is not set by default

Reason:

- Non existence of supplied values.

Solution:

- Supply default picking type if user has a default warehouse.

task-4207753

Forward-Port-Of: odoo/odoo#190014",fw-bot,2025-01-07 13:21:56+00:00,[],2025-01-21 21:03:06+00:00,2025-01-07 20:39:41+00:00,https://github.com/odoo/odoo/pull/192707,"[('RD', 'research & development, internal work'), ('forwardport', 'This PR was created by @fw-bot'), ('18.2', None)]","[{'comment_id': 2575285486, 'issue_id': 2772839883, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/192707.png)](https://mergebot.odoo.com/odoo/odoo/pull/192707)', 'created_at': datetime.datetime(2025, 1, 7, 13, 21, 57, tzinfo=datetime.timezone.utc)}, {'comment_id': 2575285533, 'issue_id': 2772839883, 'author': 'fw-bot', 'body': '@kthe-odoo @xavierbol this PR targets master and is the last of the forward-port chain containing:\n* odoo/odoo#192683\n\nTo merge the full chain, use\n> @robodoo r+\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 7, 13, 21, 58, tzinfo=datetime.timezone.utc)}, {'comment_id': 2575288235, 'issue_id': 2772839883, 'author': 'xavierbol', 'body': 'robodoo r+', 'created_at': datetime.datetime(2025, 1, 7, 13, 23, 18, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-07 13:21:57 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/192707.png)](https://mergebot.odoo.com/odoo/odoo/pull/192707)

fw-bot (Issue Creator) on (2025-01-07 13:21:58 UTC): @kthe-odoo @xavierbol this PR targets master and is the last of the forward-port chain containing:
* odoo/odoo#192683

To merge the full chain, use

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

xavierbol on (2025-01-07 13:23:18 UTC): robodoo r+

"
2772836909,pull_request,closed,,[FW][FIX] account_edi_ubl_cii: default company currency for currency not found,"This error occurs when uploading a ``factur-x.xml`` file that lacks currency information or when the ``factur-x.xml`` file we generate does not include any currency.

Steps to reproduce:
---
- Install ``account_edi_ubl_cii`` module
- Invoicing > Customers > Invoices
- Click ``Upload`` button and upload [file](https://drive.google.com/drive/u/0/folders/1TrG7xBUdwdq04KueZi0WdxHxm_g0vfW_)

Traceback:
---
NotNullViolation: null value in column ""currency_id"" of relation ""account_move_line"" violates not-null constraint DETAIL:  Failing row contains (50, 50, 9, 1, 125, 100, 205, null, 56, null, null, null, null, null, null, null, null, null, null, null, 2, 2, null, null, null, NEWS9141525, null, product, null, null, null, null, null, 0.00, 0.00, 0.00, 0.0, null, null, null, 1.00, 109.72, null, null, 0.00000000000000000000000000000000000000000000000000000000000000..., null, null, null, null, null, 2025-01-02 01:03:08.880424, 2025-01-02 01:03:08.880424, null, null, null, null, null, null, null, null, null).

This commit resolves the issue by adding the default company currency when no currency is found in the file.

sentry-6056586239

---
I confirm I have signed the CLA and read the PR guidelines at www.odoo.com/submit-pr

Forward-Port-Of: odoo/odoo#192459",fw-bot,2025-01-07 13:20:31+00:00,[],2025-01-21 21:03:10+00:00,2025-01-07 20:39:59+00:00,https://github.com/odoo/odoo/pull/192706,"[('RD', 'research & development, internal work'), ('forwardport', 'This PR was created by @fw-bot'), ('18.2', None)]","[{'comment_id': 2575282681, 'issue_id': 2772836909, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/192706.png)](https://mergebot.odoo.com/odoo/odoo/pull/192706)', 'created_at': datetime.datetime(2025, 1, 7, 13, 20, 32, tzinfo=datetime.timezone.utc)}, {'comment_id': 2575282706, 'issue_id': 2772836909, 'author': 'fw-bot', 'body': '@aamo-odoo @antoine162 this PR targets master and is the last of the forward-port chain containing:\n* odoo/odoo#192682\n\nTo merge the full chain, use\n> @robodoo r+\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 7, 13, 20, 33, tzinfo=datetime.timezone.utc)}, {'comment_id': 2575533639, 'issue_id': 2772836909, 'author': 'antoine162', 'body': '@robodoo r+', 'created_at': datetime.datetime(2025, 1, 7, 15, 8, 26, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-07 13:20:32 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/192706.png)](https://mergebot.odoo.com/odoo/odoo/pull/192706)

fw-bot (Issue Creator) on (2025-01-07 13:20:33 UTC): @aamo-odoo @antoine162 this PR targets master and is the last of the forward-port chain containing:
* odoo/odoo#192682

To merge the full chain, use

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

antoine162 on (2025-01-07 15:08:26 UTC): @robodoo r+

"
2772830649,pull_request,closed,,[IMP] bus add delay before showing the disconnected alert,"Before this PR, the ""real-time connection lost"" alert was displayed right after the disconnection was detected.
This PR adds a 15s delay to avoid spamming the alert on unstable connexion.

Task-4453176",phenix-factory,2025-01-07 13:17:32+00:00,[],2025-01-13 11:30:47+00:00,2025-01-10 04:37:28+00:00,https://github.com/odoo/odoo/pull/192705,"[('RD', 'research & development, internal work')]","[{'comment_id': 2575276983, 'issue_id': 2772830649, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/192705.png)](https://mergebot.odoo.com/odoo/odoo/pull/192705)', 'created_at': datetime.datetime(2025, 1, 7, 13, 17, 36, tzinfo=datetime.timezone.utc)}, {'comment_id': 2581195335, 'issue_id': 2772830649, 'author': 'alexkuhn', 'body': '@robodoo r+ rebase-ff', 'created_at': datetime.datetime(2025, 1, 9, 20, 32, 57, tzinfo=datetime.timezone.utc)}, {'comment_id': 2581195398, 'issue_id': 2772830649, 'author': 'robodoo', 'body': 'Merge method set to rebase and fast-forward.', 'created_at': datetime.datetime(2025, 1, 9, 20, 33, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-07 13:17:36 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/192705.png)](https://mergebot.odoo.com/odoo/odoo/pull/192705)

alexkuhn on (2025-01-09 20:32:57 UTC): @robodoo r+ rebase-ff

robodoo on (2025-01-09 20:33:00 UTC): Merge method set to rebase and fast-forward.

"
2772822174,pull_request,open,,[ADD] website: store locator snippet,"Creates a new snippet which allows users to create a map with multiple
location pins using OpenStreetMap
",dabo-odoo,2025-01-07 13:13:51+00:00,[],2025-02-06 14:19:45+00:00,,https://github.com/odoo/odoo/pull/192704,"[('RD', 'research & development, internal work')]","[{'comment_id': 2575269655, 'issue_id': 2772822174, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/192704.png)](https://mergebot.odoo.com/odoo/odoo/pull/192704)', 'created_at': datetime.datetime(2025, 1, 7, 13, 13, 53, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-07 13:13:53 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/192704.png)](https://mergebot.odoo.com/odoo/odoo/pull/192704)

"
2772798650,pull_request,open,,[IMP] hr_attendance: kiosk mode scrollbar,"The innerscrollbar of the attendance kiosk is not needed. 
removed the scrollbar

task-4456820
",dhka-odoo,2025-01-07 13:02:41+00:00,[],2025-01-28 06:16:24+00:00,,https://github.com/odoo/odoo/pull/192703,"[('RD', 'research & development, internal work')]","[{'comment_id': 2575248122, 'issue_id': 2772798650, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/192703.png)](https://mergebot.odoo.com/odoo/odoo/pull/192703)', 'created_at': datetime.datetime(2025, 1, 7, 13, 2, 44, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-07 13:02:44 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/192703.png)](https://mergebot.odoo.com/odoo/odoo/pull/192703)

"
2772792568,pull_request,closed,,[FW][FIX] point_of_sale: handle inaccessible paid orders,"Before this commit, when a user without access to certain orders attempted to load paid orders, the process would fail and result in an error. This was particularly problematic if a POS order was linked to a sale order that the user did not have permission to access, causing the entire loading process to halt.

This commit addresses the issue by filtering out paid orders that the user cannot access.

opw-4108044

---
I confirm I have signed the CLA and read the PR guidelines at www.odoo.com/submit-pr

Forward-Port-Of: odoo/odoo#177592",fw-bot,2025-01-07 12:59:44+00:00,[],2025-01-27 14:16:54+00:00,2025-01-13 13:29:57+00:00,https://github.com/odoo/odoo/pull/192702,"[('OE', 'the report is linked to a support ticket (opw-...)'), ('forwardport', 'This PR was created by @fw-bot'), ('conflict', 'There was an error while creating this forward-port PR')]","[{'comment_id': 2575242473, 'issue_id': 2772792568, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/192702.png)](https://mergebot.odoo.com/odoo/odoo/pull/192702)', 'created_at': datetime.datetime(2025, 1, 7, 12, 59, 45, tzinfo=datetime.timezone.utc)}, {'comment_id': 2575242494, 'issue_id': 2772792568, 'author': 'fw-bot', 'body': '@pedrambiria @adgu-odoo cherrypicking of pull request odoo/odoo#177592 failed.\n\nstdout:\n```\nAuto-merging addons/point_of_sale/models/pos_order.py\nCONFLICT (modify/delete): addons/point_of_sale/static/src/js/Screens/TicketScreen/TicketScreen.js deleted in 75c69312343298790b3c087f23f40206d2f0b1bc and modified in 215818ed61586f22ac4edff7117778b3510dd5f3.  Version 215818ed61586f22ac4edff7117778b3510dd5f3 of addons/point_of_sale/static/src/js/Screens/TicketScreen/TicketScreen.js left in tree.\n\n```\n\nEither perform the forward-port manually (and push to this branch, proceeding as usual) or close this PR (maybe?).\n\nIn the former case, you may want to edit this PR message as well.\n\n:warning: after resolving this conflict, you will need to merge it via @robodoo.\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 7, 12, 59, 45, tzinfo=datetime.timezone.utc)}, {'comment_id': 2585000743, 'issue_id': 2772792568, 'author': 'fw-bot', 'body': '@pedrambiria @adgu-odoo this forward port of odoo/odoo#177592 is awaiting action (not merged or closed).', 'created_at': datetime.datetime(2025, 1, 11, 2, 1, 47, tzinfo=datetime.timezone.utc)}, {'comment_id': 2585541954, 'issue_id': 2772792568, 'author': 'fw-bot', 'body': '@pedrambiria @adgu-odoo this forward port of odoo/odoo#177592 is awaiting action (not merged or closed).', 'created_at': datetime.datetime(2025, 1, 12, 2, 2, 17, tzinfo=datetime.timezone.utc)}, {'comment_id': 2586047713, 'issue_id': 2772792568, 'author': 'fw-bot', 'body': '@pedrambiria @adgu-odoo this forward port of odoo/odoo#177592 is awaiting action (not merged or closed).', 'created_at': datetime.datetime(2025, 1, 13, 2, 2, 56, tzinfo=datetime.timezone.utc)}, {'comment_id': 2586807287, 'issue_id': 2772792568, 'author': 'pedrambiria', 'body': 'robodoo r+', 'created_at': datetime.datetime(2025, 1, 13, 11, 6, 26, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-07 12:59:45 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/192702.png)](https://mergebot.odoo.com/odoo/odoo/pull/192702)

fw-bot (Issue Creator) on (2025-01-07 12:59:45 UTC): @pedrambiria @adgu-odoo cherrypicking of pull request odoo/odoo#177592 failed.

stdout:
```
Auto-merging addons/point_of_sale/models/pos_order.py
CONFLICT (modify/delete): addons/point_of_sale/static/src/js/Screens/TicketScreen/TicketScreen.js deleted in 75c69312343298790b3c087f23f40206d2f0b1bc and modified in 215818ed61586f22ac4edff7117778b3510dd5f3.  Version 215818ed61586f22ac4edff7117778b3510dd5f3 of addons/point_of_sale/static/src/js/Screens/TicketScreen/TicketScreen.js left in tree.

```

Either perform the forward-port manually (and push to this branch, proceeding as usual) or close this PR (maybe?).

In the former case, you may want to edit this PR message as well.

:warning: after resolving this conflict, you will need to merge it via @robodoo.

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

fw-bot (Issue Creator) on (2025-01-11 02:01:47 UTC): @pedrambiria @adgu-odoo this forward port of odoo/odoo#177592 is awaiting action (not merged or closed).

fw-bot (Issue Creator) on (2025-01-12 02:02:17 UTC): @pedrambiria @adgu-odoo this forward port of odoo/odoo#177592 is awaiting action (not merged or closed).

fw-bot (Issue Creator) on (2025-01-13 02:02:56 UTC): @pedrambiria @adgu-odoo this forward port of odoo/odoo#177592 is awaiting action (not merged or closed).

pedrambiria on (2025-01-13 11:06:26 UTC): robodoo r+

"
2772791659,pull_request,closed,,[FIX] pos: self service invoicing TB on portal,"Steps:
- Enable the self-invoicing option from Configuration → Settings → Bills & Receipts.
- Open the POS system.
- Create an order and validate it.
- Scan the QR code for self-invoicing displayed on the receipt.
- The QR code opens the portal.

Issue:
- A traceback error appears when opening the page.

Cause:
- A problem in the `account_peppol` module was causing it to search for an element on the page that wasn’t available.

Fix:
- Included a condition such that If the element isn’t found, it skips the step and assigns a null value to the variable, resolving the error.

Task: 4438885",djip-odoo,2025-01-07 12:59:17+00:00,[],2025-01-24 15:02:42+00:00,2025-01-10 15:02:31+00:00,https://github.com/odoo/odoo/pull/192701,"[('RD', 'research & development, internal work')]","[{'comment_id': 2575241721, 'issue_id': 2772791659, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/192701.png)](https://mergebot.odoo.com/odoo/odoo/pull/192701)', 'created_at': datetime.datetime(2025, 1, 7, 12, 59, 22, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-07 12:59:22 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/192701.png)](https://mergebot.odoo.com/odoo/odoo/pull/192701)

"
2772790753,pull_request,closed,,Master reports draft entries qdp,"[IMP] account: improve the display of draft entries

Use the same styling to show draft journal items and draft journal entries in list view

task-4443453



---
I confirm I have signed the CLA and read the PR guidelines at www.odoo.com/submit-pr
",qdp-odoo,2025-01-07 12:58:49+00:00,[],2025-01-28 23:33:24+00:00,2025-01-28 23:33:24+00:00,https://github.com/odoo/odoo/pull/192700,"[('RD', 'research & development, internal work'), ('18.2', None)]","[{'comment_id': 2575240738, 'issue_id': 2772790753, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/192700.png)](https://mergebot.odoo.com/odoo/odoo/pull/192700)', 'created_at': datetime.datetime(2025, 1, 7, 12, 58, 53, tzinfo=datetime.timezone.utc)}, {'comment_id': 2619024602, 'issue_id': 2772790753, 'author': 'hupo-odoo', 'body': '@robodoo r+', 'created_at': datetime.datetime(2025, 1, 28, 13, 35, 48, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-07 12:58:53 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/192700.png)](https://mergebot.odoo.com/odoo/odoo/pull/192700)

hupo-odoo on (2025-01-28 13:35:48 UTC): @robodoo r+

"
2772759757,pull_request,closed,,[FIX] hr_attendance : negative overtime not taken into account in report,"steps:
- create an attendance for one day with less worked hours than the daily hours
- create another attendance for the next day with hours to compensate the previous day's missing time
- got to the attendance report : you have worked overtime although that overtime was only compensating for the previous day

This worked in 16.0, but got broken by the attendance refactor and the introduction of the overtime_hours field in hr.attendance. This commit fixes the computation of the field to include negative overtimes.

opw-4337755
",loleloup,2025-01-07 12:44:52+00:00,[],2025-01-27 10:27:12+00:00,2025-01-27 10:27:12+00:00,https://github.com/odoo/odoo/pull/192699,"[('OE', 'the report is linked to a support ticket (opw-...)')]","[{'comment_id': 2575213641, 'issue_id': 2772759757, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/192699.png)](https://mergebot.odoo.com/odoo/odoo/pull/192699)', 'created_at': datetime.datetime(2025, 1, 7, 12, 44, 55, tzinfo=datetime.timezone.utc)}, {'comment_id': 2592730207, 'issue_id': 2772759757, 'author': 'jugj-odoo', 'body': 'hello @loleloup , this was fixed in 18.0, could you just backport that version and disable forward ports after 17.4, thx', 'created_at': datetime.datetime(2025, 1, 15, 12, 39, 2, tzinfo=datetime.timezone.utc)}, {'comment_id': 2592937265, 'issue_id': 2772759757, 'author': 'loleloup', 'body': ""Hello @jugj-odoo thanks for the info, I have backported the fix.\r\n\r\nIt looks like you didn't add a test for the negative overtime behaviour in 18.0, don't you think it would be better to forward-port the whole thing up to 17.4 and then let the test be merged up to master?"", 'created_at': datetime.datetime(2025, 1, 15, 14, 2, 6, tzinfo=datetime.timezone.utc)}, {'comment_id': 2606872155, 'issue_id': 2772759757, 'author': 'loleloup', 'body': 'Hello @beledouxdenis @jugj-odoo ,\r\n\r\nThis is still missing R+, is there something you would like changed?', 'created_at': datetime.datetime(2025, 1, 22, 10, 36, tzinfo=datetime.timezone.utc)}, {'comment_id': 2615125689, 'issue_id': 2772759757, 'author': 'robodoo', 'body': ""Forward-porting to 'saas-17.4'."", 'created_at': datetime.datetime(2025, 1, 27, 8, 34, 49, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-07 12:44:55 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/192699.png)](https://mergebot.odoo.com/odoo/odoo/pull/192699)

jugj-odoo on (2025-01-15 12:39:02 UTC): hello @loleloup , this was fixed in 18.0, could you just backport that version and disable forward ports after 17.4, thx

loleloup (Issue Creator) on (2025-01-15 14:02:06 UTC): Hello @jugj-odoo thanks for the info, I have backported the fix.

It looks like you didn't add a test for the negative overtime behaviour in 18.0, don't you think it would be better to forward-port the whole thing up to 17.4 and then let the test be merged up to master?

loleloup (Issue Creator) on (2025-01-22 10:36:00 UTC): Hello @beledouxdenis @jugj-odoo ,

This is still missing R+, is there something you would like changed?

robodoo on (2025-01-27 08:34:49 UTC): Forward-porting to 'saas-17.4'.

"
2772751335,pull_request,closed,,[FW][REF] web_tour: decrease default checkDelay value to 200ms,"In macro.js, we check at each mutation of the DOM if the trigger is
present as soon as there has been no more mutation in the {checkDelay}
milliseconds. By default, this {checkDelay} is at 300ms in the
tourAutomatic class. In this commit, this default value is descreased
to 200ms for performance reasons.

Forward-Port-Of: odoo/odoo#192106
Forward-Port-Of: odoo/odoo#190863",fw-bot,2025-01-07 12:40:47+00:00,[],2025-01-21 19:30:19+00:00,2025-01-07 19:21:43+00:00,https://github.com/odoo/odoo/pull/192698,"[('RD', 'research & development, internal work'), ('forwardport', 'This PR was created by @fw-bot'), ('18.2', None)]","[{'comment_id': 2575202464, 'issue_id': 2772751335, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/192698.png)](https://mergebot.odoo.com/odoo/odoo/pull/192698)', 'created_at': datetime.datetime(2025, 1, 7, 12, 42, 8, tzinfo=datetime.timezone.utc)}, {'comment_id': 2575202565, 'issue_id': 2772751335, 'author': 'fw-bot', 'body': '@pipu-odoo @bastien-ipb this PR targets master and is the last of the forward-port chain.\n\nTo merge the full chain, use\n> @robodoo r+\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 7, 12, 42, 9, tzinfo=datetime.timezone.utc)}, {'comment_id': 2575217247, 'issue_id': 2772751335, 'author': 'fw-bot', 'body': '@pipu-odoo @bastien-ipb this PR was modified / updated and has become a normal PR. It must be merged directly.', 'created_at': datetime.datetime(2025, 1, 7, 12, 46, 49, tzinfo=datetime.timezone.utc)}, {'comment_id': 2575410579, 'issue_id': 2772751335, 'author': 'pipu-odoo', 'body': '@robodoo r+', 'created_at': datetime.datetime(2025, 1, 7, 14, 22, 5, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-07 12:42:08 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/192698.png)](https://mergebot.odoo.com/odoo/odoo/pull/192698)

fw-bot (Issue Creator) on (2025-01-07 12:42:09 UTC): @pipu-odoo @bastien-ipb this PR targets master and is the last of the forward-port chain.

To merge the full chain, use

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

fw-bot (Issue Creator) on (2025-01-07 12:46:49 UTC): @pipu-odoo @bastien-ipb this PR was modified / updated and has become a normal PR. It must be merged directly.

pipu-odoo on (2025-01-07 14:22:05 UTC): @robodoo r+

"
2772748284,pull_request,closed,,[FW][FIX] web_editor: prevent triggering powerbox for non-editable drop zone,"Step to Reproduce:

1. Enter the edit mode of Homepage
2. click on drop zone area having ""Drag building blocks here"" message.
-> sometime the ""drag and drop a building block here"" unexpectedly moves
up. which should stay as it is.

Before this commit, all `<p>` and `<div>` elements were considered as
potential PowerBox elements, making them editable using the `/` command.
This occurred even when the elements had the `o_not_editable` class or
`contenteditable=""false""` attribute.

For example, in the case of the `#wrap` element, it has the `o_editable`
class along with `contenteditable=""false""`. This caused PowerBox element
or placeholders to be added unnecessarily, even though no text editing
was allowed.

In this commit, we adapted the solution merged[1] in master and specify
the selector to make sure that no command hint shown on div while having
`o_not_editable` class or `contenteditable=false` attribute.

[1] https://github.com/odoo/odoo/commit/302250cdde936a47048b8f3403e024e2e617ace7

Before this PR :

![image](https://github.com/odoo/odoo/assets/103405229/4039d00b-43c3-4865-aa3f-83f3edab22f1)


Desired behavior after PR is merged:

No hint/placeholder is added to contenteditable false block, resulting in data editor message to stay on its place.

task-3443430

Forward-Port-Of: odoo/odoo#192012
Forward-Port-Of: odoo/odoo#153001",fw-bot,2025-01-07 12:39:21+00:00,[],2025-01-22 13:23:22+00:00,2025-01-08 13:04:34+00:00,https://github.com/odoo/odoo/pull/192697,"[('RD', 'research & development, internal work'), ('forwardport', 'This PR was created by @fw-bot')]","[{'comment_id': 2575191544, 'issue_id': 2772748284, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/192697.png)](https://mergebot.odoo.com/odoo/odoo/pull/192697)', 'created_at': datetime.datetime(2025, 1, 7, 12, 39, 22, tzinfo=datetime.timezone.utc)}, {'comment_id': 2575191591, 'issue_id': 2772748284, 'author': 'fw-bot', 'body': 'This PR targets saas-18.1 and is part of the forward-port chain. Further PRs will be created up to master.\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 7, 12, 39, 23, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-07 12:39:22 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/192697.png)](https://mergebot.odoo.com/odoo/odoo/pull/192697)

fw-bot (Issue Creator) on (2025-01-07 12:39:23 UTC): This PR targets saas-18.1 and is part of the forward-port chain. Further PRs will be created up to master.

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

"
2772732204,pull_request,closed,,"[FW][FIX] base, account, sale: use RUC as VAT label for Panama","In Panama, the Tax ID is the Registro Único de Contribuyentes (RUC) and not the Número de Identificación Fiscal (NIF).

This is a double fix:
1. Update the `vat_label` to use ""RUC"" instead of ""Tax ID"", but this will only be available for new created DBs (because of noupdate)
2. Update the translation of Tax ID for Panama which only requires to update the translations to have the correct translation of Tax ID.

opw-4388758

Forward-Port-Of: odoo/odoo#192514",fw-bot,2025-01-07 12:32:04+00:00,[],2025-01-21 15:35:17+00:00,2025-01-07 15:30:54+00:00,https://github.com/odoo/odoo/pull/192696,"[('OE', 'the report is linked to a support ticket (opw-...)'), ('forwardport', 'This PR was created by @fw-bot')]","[{'comment_id': 2575167548, 'issue_id': 2772732204, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/192696.png)](https://mergebot.odoo.com/odoo/odoo/pull/192696)', 'created_at': datetime.datetime(2025, 1, 7, 12, 32, 5, tzinfo=datetime.timezone.utc)}, {'comment_id': 2575167569, 'issue_id': 2772732204, 'author': 'fw-bot', 'body': 'This PR targets saas-18.1 and is part of the forward-port chain. Further PRs will be created up to master.\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 7, 12, 32, 6, tzinfo=datetime.timezone.utc)}, {'comment_id': 2575373558, 'issue_id': 2772732204, 'author': 'RicGR98', 'body': '@robodoo r+', 'created_at': datetime.datetime(2025, 1, 7, 14, 5, 4, tzinfo=datetime.timezone.utc)}, {'comment_id': 2575381115, 'issue_id': 2772732204, 'author': 'fw-bot', 'body': ""@RicGR98 @antoine162 child PR odoo/odoo#192719 was modified / updated and has become a normal PR. This PR (and any of its parents) will need to be merged independently as approvals won't cross."", 'created_at': datetime.datetime(2025, 1, 7, 14, 8, 43, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-07 12:32:05 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/192696.png)](https://mergebot.odoo.com/odoo/odoo/pull/192696)

fw-bot (Issue Creator) on (2025-01-07 12:32:06 UTC): This PR targets saas-18.1 and is part of the forward-port chain. Further PRs will be created up to master.

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

RicGR98 on (2025-01-07 14:05:04 UTC): @robodoo r+

fw-bot (Issue Creator) on (2025-01-07 14:08:43 UTC): @RicGR98 @antoine162 child PR odoo/odoo#192719 was modified / updated and has become a normal PR. This PR (and any of its parents) will need to be merged independently as approvals won't cross.

"
2772730014,pull_request,closed,,[FW][FIX] pos_loyalty: Ensure loyalty post-process occurs after order sync,"Before this commit, if you validated an order while offline and then synced the order when back online, the post-process loyalty actions would not occur, resulting in data not being updated on the server.

opw-4290171

---
I confirm I have signed the CLA and read the PR guidelines at www.odoo.com/submit-pr

Forward-Port-Of: odoo/odoo#187238",fw-bot,2025-01-07 12:31:01+00:00,[],2025-01-21 19:16:46+00:00,2025-01-07 19:05:17+00:00,https://github.com/odoo/odoo/pull/192695,"[('OE', 'the report is linked to a support ticket (opw-...)'), ('forwardport', 'This PR was created by @fw-bot')]","[{'comment_id': 2575165438, 'issue_id': 2772730014, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/192695.png)](https://mergebot.odoo.com/odoo/odoo/pull/192695)', 'created_at': datetime.datetime(2025, 1, 7, 12, 31, 2, tzinfo=datetime.timezone.utc)}, {'comment_id': 2575165462, 'issue_id': 2772730014, 'author': 'fw-bot', 'body': 'This PR targets 18.0 and is part of the forward-port chain. Further PRs will be created up to master.\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 7, 12, 31, 2, tzinfo=datetime.timezone.utc)}, {'comment_id': 2575350599, 'issue_id': 2772730014, 'author': 'fw-bot', 'body': '@pedrambiria @davidmonnom the next pull request (odoo/odoo#192716) is in conflict. You can merge the chain up to here by saying\n> @robodoo r+\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 7, 13, 54, 4, tzinfo=datetime.timezone.utc)}, {'comment_id': 2575482828, 'issue_id': 2772730014, 'author': 'pedrambiria', 'body': '@robodoo r+', 'created_at': datetime.datetime(2025, 1, 7, 14, 47, 59, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-07 12:31:02 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/192695.png)](https://mergebot.odoo.com/odoo/odoo/pull/192695)

fw-bot (Issue Creator) on (2025-01-07 12:31:02 UTC): This PR targets 18.0 and is part of the forward-port chain. Further PRs will be created up to master.

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

fw-bot (Issue Creator) on (2025-01-07 13:54:04 UTC): @pedrambiria @davidmonnom the next pull request (odoo/odoo#192716) is in conflict. You can merge the chain up to here by saying

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

pedrambiria on (2025-01-07 14:47:59 UTC): @robodoo r+

"
2772729532,pull_request,closed,,[FW][FIX] point_of_sale: prevent self synchronization on closing,"When entering the method `closingSessionNotification`, the method checks if `data.login_number === this.session.login_number` but `data.login_number` can be a string or a number so the comparison should be `data.login_number == odoo.login_number` to prevent self calling.

---
I confirm I have signed the CLA and read the PR guidelines at www.odoo.com/submit-pr

Forward-Port-Of: odoo/odoo#192648",fw-bot,2025-01-07 12:30:45+00:00,[],2025-02-04 09:03:53+00:00,2025-02-04 09:03:53+00:00,https://github.com/odoo/odoo/pull/192694,"[('RD', 'research & development, internal work'), ('forwardport', 'This PR was created by @fw-bot'), ('conflict', 'There was an error while creating this forward-port PR')]","[{'comment_id': 2575165152, 'issue_id': 2772729532, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/192694.png)](https://mergebot.odoo.com/odoo/odoo/pull/192694)', 'created_at': datetime.datetime(2025, 1, 7, 12, 30, 53, tzinfo=datetime.timezone.utc)}, {'comment_id': 2575165175, 'issue_id': 2772729532, 'author': 'fw-bot', 'body': '@adgu-odoo @davidmonnom cherrypicking of pull request odoo/odoo#192648 failed.\n\nstdout:\n```\nAuto-merging addons/point_of_sale/static/src/app/store/pos_store.js\nCONFLICT (content): Merge conflict in addons/point_of_sale/static/src/app/store/pos_store.js\n\n```\n\nEither perform the forward-port manually (and push to this branch, proceeding as usual) or close this PR (maybe?).\n\nIn the former case, you may want to edit this PR message as well.\n\n:warning: after resolving this conflict, you will need to merge it via @robodoo.\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 7, 12, 30, 53, tzinfo=datetime.timezone.utc)}, {'comment_id': 2585000210, 'issue_id': 2772729532, 'author': 'fw-bot', 'body': '@adgu-odoo @davidmonnom this forward port of odoo/odoo#192648 is awaiting action (not merged or closed).', 'created_at': datetime.datetime(2025, 1, 11, 2, 1, 11, tzinfo=datetime.timezone.utc)}, {'comment_id': 2585541713, 'issue_id': 2772729532, 'author': 'fw-bot', 'body': '@adgu-odoo @davidmonnom this forward port of odoo/odoo#192648 is awaiting action (not merged or closed).', 'created_at': datetime.datetime(2025, 1, 12, 2, 1, 18, tzinfo=datetime.timezone.utc)}, {'comment_id': 2586046088, 'issue_id': 2772729532, 'author': 'fw-bot', 'body': '@adgu-odoo @davidmonnom this forward port of odoo/odoo#192648 is awaiting action (not merged or closed).', 'created_at': datetime.datetime(2025, 1, 13, 2, 1, 32, tzinfo=datetime.timezone.utc)}, {'comment_id': 2588618652, 'issue_id': 2772729532, 'author': 'fw-bot', 'body': '@adgu-odoo @davidmonnom this forward port of odoo/odoo#192648 is awaiting action (not merged or closed).', 'created_at': datetime.datetime(2025, 1, 14, 2, 1, 14, tzinfo=datetime.timezone.utc)}, {'comment_id': 2591478235, 'issue_id': 2772729532, 'author': 'fw-bot', 'body': '@adgu-odoo @davidmonnom this forward port of odoo/odoo#192648 is awaiting action (not merged or closed).', 'created_at': datetime.datetime(2025, 1, 15, 2, 1, 27, tzinfo=datetime.timezone.utc)}, {'comment_id': 2594313109, 'issue_id': 2772729532, 'author': 'fw-bot', 'body': '@adgu-odoo @davidmonnom this forward port of odoo/odoo#192648 is awaiting action (not merged or closed).', 'created_at': datetime.datetime(2025, 1, 16, 2, 1, 7, tzinfo=datetime.timezone.utc)}, {'comment_id': 2597278085, 'issue_id': 2772729532, 'author': 'fw-bot', 'body': '@adgu-odoo @davidmonnom this forward port of odoo/odoo#192648 is awaiting action (not merged or closed).', 'created_at': datetime.datetime(2025, 1, 17, 2, 1, 2, tzinfo=datetime.timezone.utc)}, {'comment_id': 2600466603, 'issue_id': 2772729532, 'author': 'fw-bot', 'body': '@adgu-odoo @davidmonnom this forward port of odoo/odoo#192648 is awaiting action (not merged or closed).', 'created_at': datetime.datetime(2025, 1, 19, 2, 2, 3, tzinfo=datetime.timezone.utc)}, {'comment_id': 2614723282, 'issue_id': 2772729532, 'author': 'fw-bot', 'body': '@adgu-odoo @davidmonnom this forward port of odoo/odoo#192648 is awaiting action (not merged or closed).', 'created_at': datetime.datetime(2025, 1, 27, 2, 2, 22, tzinfo=datetime.timezone.utc)}, {'comment_id': 2633279977, 'issue_id': 2772729532, 'author': 'adgu-odoo', 'body': 'solved in this PR https://github.com/odoo/odoo/pull/195193', 'created_at': datetime.datetime(2025, 2, 4, 9, 3, 53, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-07 12:30:53 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/192694.png)](https://mergebot.odoo.com/odoo/odoo/pull/192694)

fw-bot (Issue Creator) on (2025-01-07 12:30:53 UTC): @adgu-odoo @davidmonnom cherrypicking of pull request odoo/odoo#192648 failed.

stdout:
```
Auto-merging addons/point_of_sale/static/src/app/store/pos_store.js
CONFLICT (content): Merge conflict in addons/point_of_sale/static/src/app/store/pos_store.js

```

Either perform the forward-port manually (and push to this branch, proceeding as usual) or close this PR (maybe?).

In the former case, you may want to edit this PR message as well.

:warning: after resolving this conflict, you will need to merge it via @robodoo.

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

fw-bot (Issue Creator) on (2025-01-11 02:01:11 UTC): @adgu-odoo @davidmonnom this forward port of odoo/odoo#192648 is awaiting action (not merged or closed).

fw-bot (Issue Creator) on (2025-01-12 02:01:18 UTC): @adgu-odoo @davidmonnom this forward port of odoo/odoo#192648 is awaiting action (not merged or closed).

fw-bot (Issue Creator) on (2025-01-13 02:01:32 UTC): @adgu-odoo @davidmonnom this forward port of odoo/odoo#192648 is awaiting action (not merged or closed).

fw-bot (Issue Creator) on (2025-01-14 02:01:14 UTC): @adgu-odoo @davidmonnom this forward port of odoo/odoo#192648 is awaiting action (not merged or closed).

fw-bot (Issue Creator) on (2025-01-15 02:01:27 UTC): @adgu-odoo @davidmonnom this forward port of odoo/odoo#192648 is awaiting action (not merged or closed).

fw-bot (Issue Creator) on (2025-01-16 02:01:07 UTC): @adgu-odoo @davidmonnom this forward port of odoo/odoo#192648 is awaiting action (not merged or closed).

fw-bot (Issue Creator) on (2025-01-17 02:01:02 UTC): @adgu-odoo @davidmonnom this forward port of odoo/odoo#192648 is awaiting action (not merged or closed).

fw-bot (Issue Creator) on (2025-01-19 02:02:03 UTC): @adgu-odoo @davidmonnom this forward port of odoo/odoo#192648 is awaiting action (not merged or closed).

fw-bot (Issue Creator) on (2025-01-27 02:02:22 UTC): @adgu-odoo @davidmonnom this forward port of odoo/odoo#192648 is awaiting action (not merged or closed).

adgu-odoo on (2025-02-04 09:03:53 UTC): solved in this PR https://github.com/odoo/odoo/pull/195193

"
2772709175,pull_request,closed,,[FW][FIX] web: fix webclient view cache for not embedded action views,"Steps to reproduce (a bit technical):

1. Navigate to the ""Contacts"" kanban view.
2. Open the Network tab in the browser's developer tools.
3. Click on the first contact activities and ""Schedule a new activity"".
4. Notice a call to `get_views` in the Network tab.
5. Click on a different contact activities, and ""Schedule a new activity"".
6. Notice a new call to `get_views` in the Network tab.

Expected:

The view is already cached, so the webclient should not attempt to load it.

Explanation:

This is likely a regression since f983703d, when the embedded actions were introduced. Now, the `embeddedParentResId` is part of the views cache key, and so we get much fewer cache hits.

For most views, there isn't really an `embeddedActionId` set, and yet the `embeddedParentResId` was always set. The later is only used in combination with `embeddedActionId`, so it causes a lot of avoidable cache misses.

The solution is to simply set the `embeddedParentResId` only if there's an `embeddedActionId`.

Closes odoo/odoo#192261

Description of the issue/feature this PR addresses:

Current behavior before PR:

Desired behavior after PR is merged:




---
I confirm I have signed the CLA and read the PR guidelines at www.odoo.com/submit-pr

Forward-Port-Of: odoo/odoo#192531",fw-bot,2025-01-07 12:20:34+00:00,[],2025-01-21 21:03:05+00:00,2025-01-07 20:39:37+00:00,https://github.com/odoo/odoo/pull/192693,"[('RD', 'research & development, internal work'), ('forwardport', 'This PR was created by @fw-bot'), ('18.2', None)]","[{'comment_id': 2575146487, 'issue_id': 2772709175, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/192693.png)](https://mergebot.odoo.com/odoo/odoo/pull/192693)', 'created_at': datetime.datetime(2025, 1, 7, 12, 20, 35, tzinfo=datetime.timezone.utc)}, {'comment_id': 2575146523, 'issue_id': 2772709175, 'author': 'fw-bot', 'body': '@aab-odoo @polymorphe57 this PR targets master and is the last of the forward-port chain containing:\n* odoo/odoo#192657\n\nTo merge the full chain, use\n> @robodoo r+\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 7, 12, 20, 36, tzinfo=datetime.timezone.utc)}, {'comment_id': 2575158755, 'issue_id': 2772709175, 'author': 'Polymorphe57', 'body': '@robodoo r+', 'created_at': datetime.datetime(2025, 1, 7, 12, 27, 22, tzinfo=datetime.timezone.utc)}, {'comment_id': 2575292099, 'issue_id': 2772709175, 'author': 'robodoo', 'body': ""@aab-odoo @polymorphe57 'ci/runbot' failed on this reviewed PR."", 'created_at': datetime.datetime(2025, 1, 7, 13, 25, 12, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-07 12:20:35 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/192693.png)](https://mergebot.odoo.com/odoo/odoo/pull/192693)

fw-bot (Issue Creator) on (2025-01-07 12:20:36 UTC): @aab-odoo @polymorphe57 this PR targets master and is the last of the forward-port chain containing:
* odoo/odoo#192657

To merge the full chain, use

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

Polymorphe57 on (2025-01-07 12:27:22 UTC): @robodoo r+

robodoo on (2025-01-07 13:25:12 UTC): @aab-odoo @polymorphe57 'ci/runbot' failed on this reviewed PR.

"
2772706960,pull_request,closed,,[FW][16.0][FIX] web: login page should not be cached,"**Description of the issue/feature this PR addresses:**
When odoo is deployed with Reverse Proxy , like cloudflare, and cache rule is enabled. 
The login page is cached by cloudflare,  ""Cf-Cache-Status"" is set to ""HIT"" in the reponse header
![image](https://github.com/user-attachments/assets/51187a2e-476b-414b-a396-4af15ed26df7)

But in the html content, csrf_token is unavailable.
![image](https://github.com/user-attachments/assets/6a8d81e6-3270-466a-b292-789a9473657e)

Error when try to login.
![image](https://github.com/user-attachments/assets/f8cd7fa1-f08e-49af-adc6-7109f24bca17)

**Current behavior before PR:**
User can not login.

**Desired behavior after PR is merged:**
User can login.

---
I confirm I have signed the CLA and read the PR guidelines at www.odoo.com/submit-pr

Forward-Port-Of: odoo/odoo#191453",fw-bot,2025-01-07 12:19:28+00:00,[],2025-01-29 13:40:21+00:00,2025-01-15 13:39:48+00:00,https://github.com/odoo/odoo/pull/192692,"[('RD', 'research & development, internal work'), ('forwardport', 'This PR was created by @fw-bot'), ('18.2', None)]","[{'comment_id': 2575144385, 'issue_id': 2772706960, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/192692.png)](https://mergebot.odoo.com/odoo/odoo/pull/192692)', 'created_at': datetime.datetime(2025, 1, 7, 12, 19, 29, tzinfo=datetime.timezone.utc)}, {'comment_id': 2575144407, 'issue_id': 2772706960, 'author': 'fw-bot', 'body': '@tanghulu0608 @Julien00859 this PR targets master and is the last of the forward-port chain containing:\n* odoo/odoo#192672\n* odoo/odoo#192513\n* odoo/odoo#192493\n* odoo/odoo#192474\n* odoo/odoo#192461\n\nTo merge the full chain, use\n> @robodoo r+\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 7, 12, 19, 30, tzinfo=datetime.timezone.utc)}, {'comment_id': 2581587666, 'issue_id': 2772706960, 'author': 'fw-bot', 'body': '@tanghulu0608 @Julien00859 this forward port of odoo/odoo#191453 is awaiting action (not merged or closed).', 'created_at': datetime.datetime(2025, 1, 10, 2, 1, 43, tzinfo=datetime.timezone.utc)}, {'comment_id': 2585000445, 'issue_id': 2772706960, 'author': 'fw-bot', 'body': '@tanghulu0608 @Julien00859 this forward port of odoo/odoo#191453 is awaiting action (not merged or closed).', 'created_at': datetime.datetime(2025, 1, 11, 2, 1, 28, tzinfo=datetime.timezone.utc)}, {'comment_id': 2585541878, 'issue_id': 2772706960, 'author': 'fw-bot', 'body': '@tanghulu0608 @Julien00859 this forward port of odoo/odoo#191453 is awaiting action (not merged or closed).', 'created_at': datetime.datetime(2025, 1, 12, 2, 1, 55, tzinfo=datetime.timezone.utc)}, {'comment_id': 2586046947, 'issue_id': 2772706960, 'author': 'fw-bot', 'body': '@tanghulu0608 @Julien00859 this forward port of odoo/odoo#191453 is awaiting action (not merged or closed).', 'created_at': datetime.datetime(2025, 1, 13, 2, 2, 19, tzinfo=datetime.timezone.utc)}, {'comment_id': 2588619330, 'issue_id': 2772706960, 'author': 'fw-bot', 'body': '@tanghulu0608 @Julien00859 this forward port of odoo/odoo#191453 is awaiting action (not merged or closed).', 'created_at': datetime.datetime(2025, 1, 14, 2, 1, 48, tzinfo=datetime.timezone.utc)}, {'comment_id': 2591478688, 'issue_id': 2772706960, 'author': 'fw-bot', 'body': '@tanghulu0608 @Julien00859 this forward port of odoo/odoo#191453 is awaiting action (not merged or closed).', 'created_at': datetime.datetime(2025, 1, 15, 2, 1, 49, tzinfo=datetime.timezone.utc)}, {'comment_id': 2592153454, 'issue_id': 2772706960, 'author': 'Julien00859', 'body': '@robodoo r+', 'created_at': datetime.datetime(2025, 1, 15, 9, 47, 14, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-07 12:19:29 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/192692.png)](https://mergebot.odoo.com/odoo/odoo/pull/192692)

fw-bot (Issue Creator) on (2025-01-07 12:19:30 UTC): @tanghulu0608 @Julien00859 this PR targets master and is the last of the forward-port chain containing:
* odoo/odoo#192672
* odoo/odoo#192513
* odoo/odoo#192493
* odoo/odoo#192474
* odoo/odoo#192461

To merge the full chain, use

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

fw-bot (Issue Creator) on (2025-01-10 02:01:43 UTC): @tanghulu0608 @Julien00859 this forward port of odoo/odoo#191453 is awaiting action (not merged or closed).

fw-bot (Issue Creator) on (2025-01-11 02:01:28 UTC): @tanghulu0608 @Julien00859 this forward port of odoo/odoo#191453 is awaiting action (not merged or closed).

fw-bot (Issue Creator) on (2025-01-12 02:01:55 UTC): @tanghulu0608 @Julien00859 this forward port of odoo/odoo#191453 is awaiting action (not merged or closed).

fw-bot (Issue Creator) on (2025-01-13 02:02:19 UTC): @tanghulu0608 @Julien00859 this forward port of odoo/odoo#191453 is awaiting action (not merged or closed).

fw-bot (Issue Creator) on (2025-01-14 02:01:48 UTC): @tanghulu0608 @Julien00859 this forward port of odoo/odoo#191453 is awaiting action (not merged or closed).

fw-bot (Issue Creator) on (2025-01-15 02:01:49 UTC): @tanghulu0608 @Julien00859 this forward port of odoo/odoo#191453 is awaiting action (not merged or closed).

Julien00859 on (2025-01-15 09:47:14 UTC): @robodoo r+

"
2772692725,pull_request,closed,,[FW][FIX] hr_expense: correct mapping of expense alias domain in settings,"**Steps to reproduce:**
- Install hr_expense
- Create 2 alias domains
- Go to ""Settings / Technical / Email / Aliases""
- Check the values for Expense model
- Go to Expenses settings
- Change the prefix and the domain of the alias
- Save
- Go to ""Settings / Technical / Email / Aliases""
- Check the values for Expense model again

**Issue:**
The prefix has correctly been modified but not the domain. The domain from Expenses settings and the domain of the Expense alias are different.

**Cause:**
The domain field in Expenses settings is in fact the Email Domain (alias_domain_id) of the company, which makes no sense to combine the prefix and the domain from 2 different sources.

**Solution:**
Add a non-stored computed field to map the domain displayed in Expenses settings with the domain of the Expense alias.
Not great in stable, but there is no other way if we want to keep the option.

opw-4293936




---
I confirm I have signed the CLA and read the PR guidelines at www.odoo.com/submit-pr

Forward-Port-Of: odoo/odoo#192571
Forward-Port-Of: odoo/odoo#190252",fw-bot,2025-01-07 12:11:51+00:00,[],2025-01-22 08:19:00+00:00,2025-01-08 08:16:16+00:00,https://github.com/odoo/odoo/pull/192691,"[('OE', 'the report is linked to a support ticket (opw-...)'), ('forwardport', 'This PR was created by @fw-bot')]","[{'comment_id': 2575131150, 'issue_id': 2772692725, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/192691.png)](https://mergebot.odoo.com/odoo/odoo/pull/192691)', 'created_at': datetime.datetime(2025, 1, 7, 12, 11, 52, tzinfo=datetime.timezone.utc)}, {'comment_id': 2575131174, 'issue_id': 2772692725, 'author': 'fw-bot', 'body': 'This PR targets 18.0 and is part of the forward-port chain. Further PRs will be created up to master.\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 7, 12, 11, 53, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-07 12:11:52 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/192691.png)](https://mergebot.odoo.com/odoo/odoo/pull/192691)

fw-bot (Issue Creator) on (2025-01-07 12:11:53 UTC): This PR targets 18.0 and is part of the forward-port chain. Further PRs will be created up to master.

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

"
2772680891,pull_request,closed,,[FW][FIX] point_of_sale: kitchen receipt long name,"When printing long product names with long variants, the lines were overlapping.

Steps to reproduce:
-------------------
* Create a product with some long variant names
* Setup a kitchen printer
* Add the order to a PoS order
* Print the order on the kitchen printer
> Observation: The product name and variant name are overlapping

Before:
![before](https://github.com/user-attachments/assets/d16022b0-4f87-48aa-adc4-1c246b173431)


After:
![after](https://github.com/user-attachments/assets/495632de-e4d2-424c-b19d-fb386a3eb356)


opw-4414311

Forward-Port-Of: odoo/odoo#192544",fw-bot,2025-01-07 12:05:55+00:00,[],2025-01-21 18:16:04+00:00,2025-01-07 18:14:23+00:00,https://github.com/odoo/odoo/pull/192690,"[('OE', 'the report is linked to a support ticket (opw-...)'), ('forwardport', 'This PR was created by @fw-bot'), ('conflict', 'There was an error while creating this forward-port PR')]","[{'comment_id': 2575120183, 'issue_id': 2772680891, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/192690.png)](https://mergebot.odoo.com/odoo/odoo/pull/192690)', 'created_at': datetime.datetime(2025, 1, 7, 12, 5, 56, tzinfo=datetime.timezone.utc)}, {'comment_id': 2575120205, 'issue_id': 2772680891, 'author': 'fw-bot', 'body': '@robinengels @adgu-odoo cherrypicking of pull request odoo/odoo#192544 failed.\n\nstdout:\n```\nAuto-merging addons/point_of_sale/static/src/app/generic_components/product_card/product_card.scss\nCONFLICT (content): Merge conflict in addons/point_of_sale/static/src/app/generic_components/product_card/product_card.scss\n\n```\n\nEither perform the forward-port manually (and push to this branch, proceeding as usual) or close this PR (maybe?).\n\nIn the former case, you may want to edit this PR message as well.\n\n:warning: after resolving this conflict, you will need to merge it via @robodoo.\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 7, 12, 5, 56, tzinfo=datetime.timezone.utc)}, {'comment_id': 2575222165, 'issue_id': 2772680891, 'author': 'robinengels', 'body': '@robodoo r+', 'created_at': datetime.datetime(2025, 1, 7, 12, 49, 10, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-07 12:05:56 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/192690.png)](https://mergebot.odoo.com/odoo/odoo/pull/192690)

fw-bot (Issue Creator) on (2025-01-07 12:05:56 UTC): @robinengels @adgu-odoo cherrypicking of pull request odoo/odoo#192544 failed.

stdout:
```
Auto-merging addons/point_of_sale/static/src/app/generic_components/product_card/product_card.scss
CONFLICT (content): Merge conflict in addons/point_of_sale/static/src/app/generic_components/product_card/product_card.scss

```

Either perform the forward-port manually (and push to this branch, proceeding as usual) or close this PR (maybe?).

In the former case, you may want to edit this PR message as well.

:warning: after resolving this conflict, you will need to merge it via @robodoo.

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

robinengels on (2025-01-07 12:49:10 UTC): @robodoo r+

"
2772680414,pull_request,closed,,[FW][FIX] hw_drivers: landscape report printing on windows,"On Virtual IoT Boxes, a landscape report was still printed in portrait.
We added the argument required to handle landscape printing.

opw-4081884

Forward-Port-Of: odoo/odoo#192634",fw-bot,2025-01-07 12:05:40+00:00,[],2025-01-21 19:53:57+00:00,2025-01-07 19:37:40+00:00,https://github.com/odoo/odoo/pull/192689,"[('OE', 'the report is linked to a support ticket (opw-...)'), ('forwardport', 'This PR was created by @fw-bot')]","[{'comment_id': 2575119825, 'issue_id': 2772680414, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/192689.png)](https://mergebot.odoo.com/odoo/odoo/pull/192689)', 'created_at': datetime.datetime(2025, 1, 7, 12, 5, 44, tzinfo=datetime.timezone.utc)}, {'comment_id': 2575119858, 'issue_id': 2772680414, 'author': 'fw-bot', 'body': 'This PR targets saas-17.2 and is part of the forward-port chain. Further PRs will be created up to master.\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 7, 12, 5, 44, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-07 12:05:44 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/192689.png)](https://mergebot.odoo.com/odoo/odoo/pull/192689)

fw-bot (Issue Creator) on (2025-01-07 12:05:44 UTC): This PR targets saas-17.2 and is part of the forward-port chain. Further PRs will be created up to master.

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

"
2772672333,pull_request,closed,,[FIX] l10n_vn: correcting wrong revert code,"The post-migration script _fix_accounts_type attempted to use the field 
company_id, which no longer exists in the account.account model in the 18 
version. This caused a traceback ValueError: Invalid field during the database
upgrade process.

The original fix was introduced here: https://github.com/odoo/odoo/pull/190187, 
but it was accidentally reverted by  
this pull request: https://github.com/odoo/odoo/pull/191324

[reference](https://github.com/odoo/odoo/commit/854c3b2#diff-19ef5a530c506fdee93fe0d113e61946b87fae7dd2d360558da69c0014f766b2R102)

tbg-1602
upg-2406964






---
I confirm I have signed the CLA and read the PR guidelines at www.odoo.com/submit-pr
",bda-odoo,2025-01-07 12:01:28+00:00,[],2025-01-23 09:58:54+00:00,2025-01-09 09:55:56+00:00,https://github.com/odoo/odoo/pull/192688,"[('RD', 'research & development, internal work')]","[{'comment_id': 2575112241, 'issue_id': 2772672333, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/192688.png)](https://mergebot.odoo.com/odoo/odoo/pull/192688)', 'created_at': datetime.datetime(2025, 1, 7, 12, 1, 31, tzinfo=datetime.timezone.utc)}, {'comment_id': 2577395439, 'issue_id': 2772672333, 'author': 'hupo-odoo', 'body': ""LGTM, transmitting to final reviewer (I don't have r+ rights)"", 'created_at': datetime.datetime(2025, 1, 8, 11, 2, 59, tzinfo=datetime.timezone.utc)}, {'comment_id': 2577691784, 'issue_id': 2772672333, 'author': 'h4818', 'body': 'Its quite confusing to revert the revert due to bad rebase\r\nespecially considering that one of the forward ports was stopped.\r\n\r\nCould I request to put more information into the commit message and indicate the history, or rather, why this change is necessary', 'created_at': datetime.datetime(2025, 1, 8, 13, 37, 2, tzinfo=datetime.timezone.utc)}, {'comment_id': 2579190426, 'issue_id': 2772672333, 'author': 'bda-odoo', 'body': '> Its quite confusing to revert the revert due to bad rebase especially considering that one of the forward ports was stopped.\r\n> \r\n> Could I request to put more information into the commit message and indicate the history, or rather, why this change is necessary\r\n\r\nHello @h4818 \r\n\r\nThank you for your valuable input. I have added more information regarding the issue and the related revert, in the commit and description. Could you please review this PR again?\r\n\r\nThank you.', 'created_at': datetime.datetime(2025, 1, 9, 5, 7, 5, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-07 12:01:31 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/192688.png)](https://mergebot.odoo.com/odoo/odoo/pull/192688)

hupo-odoo on (2025-01-08 11:02:59 UTC): LGTM, transmitting to final reviewer (I don't have r+ rights)

h4818 on (2025-01-08 13:37:02 UTC): Its quite confusing to revert the revert due to bad rebase
especially considering that one of the forward ports was stopped.

Could I request to put more information into the commit message and indicate the history, or rather, why this change is necessary

bda-odoo (Issue Creator) on (2025-01-09 05:07:05 UTC): Hello @h4818 

Thank you for your valuable input. I have added more information regarding the issue and the related revert, in the commit and description. Could you please review this PR again?

Thank you.

"
2772671421,pull_request,closed,,[FW][FIX] l10n_es_edi_tbai: only use regime key 52 for simplified invoice,"**Steps to reproduce:**
- Install l10n_es_edi_tbai
- Switch to a Spanish company (e.g. ES Company)
- Create an invoice with ""Simplified Invoice Partner (ES)"" as customer
- Confirm the invoice
- Process the invoice with ""TicketBAI (ES)"" service

**Issue:**
The generated XML has 2 regime keys (02 and 52) for <ClaveRegimenIvaOpTrascendencia> that are not compatible with each other.
From the documentation, regime key ""52"" (for simplified invoices) can only be associated with regime key ""51"", which is not supported for the moment.

**Solution:**
If the ""Simplified Invoice Partner"" is used, only the regime key ""52"" is used.

opw-4332052
opw-4355424




---
I confirm I have signed the CLA and read the PR guidelines at www.odoo.com/submit-pr

Forward-Port-Of: odoo/odoo#192448",fw-bot,2025-01-07 12:01:02+00:00,[],2025-01-21 15:56:29+00:00,2025-01-07 15:50:26+00:00,https://github.com/odoo/odoo/pull/192687,"[('OE', 'the report is linked to a support ticket (opw-...)'), ('forwardport', 'This PR was created by @fw-bot'), ('conflict', 'There was an error while creating this forward-port PR')]","[{'comment_id': 2575111372, 'issue_id': 2772671421, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/192687.png)](https://mergebot.odoo.com/odoo/odoo/pull/192687)', 'created_at': datetime.datetime(2025, 1, 7, 12, 1, 3, tzinfo=datetime.timezone.utc)}, {'comment_id': 2575111401, 'issue_id': 2772671421, 'author': 'fw-bot', 'body': '@kitan191 @RicGR98 cherrypicking of pull request odoo/odoo#192448 failed.\n\nstdout:\n```\nAuto-merging addons/l10n_es_edi_tbai/models/account_edi_format.py\nCONFLICT (content): Merge conflict in addons/l10n_es_edi_tbai/models/account_edi_format.py\n\n```\n\nEither perform the forward-port manually (and push to this branch, proceeding as usual) or close this PR (maybe?).\n\nIn the former case, you may want to edit this PR message as well.\n\n:warning: after resolving this conflict, you will need to merge it via @robodoo.\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 7, 12, 1, 4, tzinfo=datetime.timezone.utc)}, {'comment_id': 2575160254, 'issue_id': 2772671421, 'author': 'RicGR98', 'body': '@robodoo r+', 'created_at': datetime.datetime(2025, 1, 7, 12, 28, 11, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-07 12:01:03 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/192687.png)](https://mergebot.odoo.com/odoo/odoo/pull/192687)

fw-bot (Issue Creator) on (2025-01-07 12:01:04 UTC): @kitan191 @RicGR98 cherrypicking of pull request odoo/odoo#192448 failed.

stdout:
```
Auto-merging addons/l10n_es_edi_tbai/models/account_edi_format.py
CONFLICT (content): Merge conflict in addons/l10n_es_edi_tbai/models/account_edi_format.py

```

Either perform the forward-port manually (and push to this branch, proceeding as usual) or close this PR (maybe?).

In the former case, you may want to edit this PR message as well.

:warning: after resolving this conflict, you will need to merge it via @robodoo.

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

RicGR98 on (2025-01-07 12:28:11 UTC): @robodoo r+

"
2772668796,pull_request,closed,,[FW][FIX] account: replace type of product in test,"Issue:
- run the `test_account_manager_user_can_create_product` with `account`and its dependencies as the only modules installed
- error is given as `product` is not a valid product type (it is added in the `stock` module)

Solution:
- replace `product` with a product type that is defined in one of the dependencies




---
I confirm I have signed the CLA and read the PR guidelines at www.odoo.com/submit-pr

Forward-Port-Of: odoo/odoo#192462",fw-bot,2025-01-07 11:59:41+00:00,[],2025-01-08 21:49:53+00:00,2025-01-08 21:49:53+00:00,https://github.com/odoo/odoo/pull/192686,"[('RD', 'research & development, internal work'), ('forwardport', 'This PR was created by @fw-bot'), ('conflict', 'There was an error while creating this forward-port PR')]","[{'comment_id': 2575108992, 'issue_id': 2772668796, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/192686.png)](https://mergebot.odoo.com/odoo/odoo/pull/192686)', 'created_at': datetime.datetime(2025, 1, 7, 11, 59, 42, tzinfo=datetime.timezone.utc)}, {'comment_id': 2575109063, 'issue_id': 2772668796, 'author': 'fw-bot', 'body': '@emi-odoo @h4818 cherrypicking of pull request odoo/odoo#192462 failed.\n\nstdout:\n```\nAuto-merging addons/account/tests/test_product.py\nCONFLICT (content): Merge conflict in addons/account/tests/test_product.py\n\n```\n\nEither perform the forward-port manually (and push to this branch, proceeding as usual) or close this PR (maybe?).\n\nIn the former case, you may want to edit this PR message as well.\n\n:warning: after resolving this conflict, you will need to merge it via @robodoo.\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 7, 11, 59, 45, tzinfo=datetime.timezone.utc)}, {'comment_id': 2577306124, 'issue_id': 2772668796, 'author': 'emi-odoo', 'body': ""@h4818 -> the test doesn't exists in 17.4, i reimplemented it"", 'created_at': datetime.datetime(2025, 1, 8, 10, 17, 32, tzinfo=datetime.timezone.utc)}, {'comment_id': 2577423064, 'issue_id': 2772668796, 'author': 'h4818', 'body': ""let's wait for the forward port...?\r\nor rather, let's just fix it there https://github.com/odoo/odoo/pull/192445"", 'created_at': datetime.datetime(2025, 1, 8, 11, 17, 31, tzinfo=datetime.timezone.utc)}, {'comment_id': 2577452736, 'issue_id': 2772668796, 'author': 'emi-odoo', 'body': ""@h4818 sorry I didn't see it!"", 'created_at': datetime.datetime(2025, 1, 8, 11, 33, 48, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-07 11:59:42 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/192686.png)](https://mergebot.odoo.com/odoo/odoo/pull/192686)

fw-bot (Issue Creator) on (2025-01-07 11:59:45 UTC): @emi-odoo @h4818 cherrypicking of pull request odoo/odoo#192462 failed.

stdout:
```
Auto-merging addons/account/tests/test_product.py
CONFLICT (content): Merge conflict in addons/account/tests/test_product.py

```

Either perform the forward-port manually (and push to this branch, proceeding as usual) or close this PR (maybe?).

In the former case, you may want to edit this PR message as well.

:warning: after resolving this conflict, you will need to merge it via @robodoo.

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

emi-odoo on (2025-01-08 10:17:32 UTC): @h4818 -> the test doesn't exists in 17.4, i reimplemented it

h4818 on (2025-01-08 11:17:31 UTC): let's wait for the forward port...?
or rather, let's just fix it there https://github.com/odoo/odoo/pull/192445

emi-odoo on (2025-01-08 11:33:48 UTC): @h4818 sorry I didn't see it!

"
2772664303,pull_request,closed,,[FW][FIX] *: wait modal is show before continue the tour,"In this commit, we wait the modal is shown (managed by jQuery) before to continue the tour. In these modals, if we don't wait for the modal is shown, as the tour engine can be too much fast, element in modal can be not focusable when we try to target it.
This fix add classes to ensure modal is shown before continuing the tour.

Description of the issue/feature this PR addresses:

Current behavior before PR:

Desired behavior after PR is merged:




---
I confirm I have signed the CLA and read the PR guidelines at www.odoo.com/submit-pr

Forward-Port-Of: odoo/odoo#192541",fw-bot,2025-01-07 11:57:27+00:00,[],2025-01-23 15:42:22+00:00,2025-01-09 15:41:27+00:00,https://github.com/odoo/odoo/pull/192685,"[('RD', 'research & development, internal work'), ('forwardport', 'This PR was created by @fw-bot'), ('conflict', 'There was an error while creating this forward-port PR')]","[{'comment_id': 2575104887, 'issue_id': 2772664303, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/192685.png)](https://mergebot.odoo.com/odoo/odoo/pull/192685)', 'created_at': datetime.datetime(2025, 1, 7, 11, 57, 28, tzinfo=datetime.timezone.utc)}, {'comment_id': 2575104911, 'issue_id': 2772664303, 'author': 'fw-bot', 'body': '@pipu-odoo @bastien-ipb cherrypicking of pull request odoo/odoo#192541 failed.\n\nstdout:\n```\nAuto-merging addons/test_event_full/static/src/js/tours/wevent_register_tour.js\nCONFLICT (content): Merge conflict in addons/test_event_full/static/src/js/tours/wevent_register_tour.js\nAuto-merging addons/website_event/static/tests/tours/tickets_questions.js\nAuto-merging addons/website_event_sale/static/tests/tours/website_event_sale.js\nCONFLICT (content): Merge conflict in addons/website_event_sale/static/tests/tours/website_event_sale.js\nAuto-merging addons/website_event_sale/static/tests/tours/website_event_sale_pricelists.js\nCONFLICT (content): Merge conflict in addons/website_event_sale/static/tests/tours/website_event_sale_pricelists.js\nAuto-merging addons/website_forum/static/src/js/tours/website_forum.js\nCONFLICT (content): Merge conflict in addons/website_forum/static/src/js/tours/website_forum.js\nAuto-merging addons/website_forum/static/tests/tours/website_forum_question.js\nCONFLICT (content): Merge conflict in addons/website_forum/static/tests/tours/website_forum_question.js\nAuto-merging addons/website_mass_mailing/static/tests/tours/snippet_newsletter_popup_edition.js\nAuto-merging addons/website_mass_mailing/static/tests/tours/snippet_newsletter_popup_use.js\nCONFLICT (content): Merge conflict in addons/website_mass_mailing/static/tests/tours/snippet_newsletter_popup_use.js\n\n```\n\nEither perform the forward-port manually (and push to this branch, proceeding as usual) or close this PR (maybe?).\n\nIn the former case, you may want to edit this PR message as well.\n\n:warning: after resolving this conflict, you will need to merge it via @robodoo.\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 7, 11, 57, 29, tzinfo=datetime.timezone.utc)}, {'comment_id': 2580000079, 'issue_id': 2772664303, 'author': 'pipu-odoo', 'body': '@robodoo r+', 'created_at': datetime.datetime(2025, 1, 9, 12, 8, 47, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-07 11:57:28 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/192685.png)](https://mergebot.odoo.com/odoo/odoo/pull/192685)

fw-bot (Issue Creator) on (2025-01-07 11:57:29 UTC): @pipu-odoo @bastien-ipb cherrypicking of pull request odoo/odoo#192541 failed.

stdout:
```
Auto-merging addons/test_event_full/static/src/js/tours/wevent_register_tour.js
CONFLICT (content): Merge conflict in addons/test_event_full/static/src/js/tours/wevent_register_tour.js
Auto-merging addons/website_event/static/tests/tours/tickets_questions.js
Auto-merging addons/website_event_sale/static/tests/tours/website_event_sale.js
CONFLICT (content): Merge conflict in addons/website_event_sale/static/tests/tours/website_event_sale.js
Auto-merging addons/website_event_sale/static/tests/tours/website_event_sale_pricelists.js
CONFLICT (content): Merge conflict in addons/website_event_sale/static/tests/tours/website_event_sale_pricelists.js
Auto-merging addons/website_forum/static/src/js/tours/website_forum.js
CONFLICT (content): Merge conflict in addons/website_forum/static/src/js/tours/website_forum.js
Auto-merging addons/website_forum/static/tests/tours/website_forum_question.js
CONFLICT (content): Merge conflict in addons/website_forum/static/tests/tours/website_forum_question.js
Auto-merging addons/website_mass_mailing/static/tests/tours/snippet_newsletter_popup_edition.js
Auto-merging addons/website_mass_mailing/static/tests/tours/snippet_newsletter_popup_use.js
CONFLICT (content): Merge conflict in addons/website_mass_mailing/static/tests/tours/snippet_newsletter_popup_use.js

```

Either perform the forward-port manually (and push to this branch, proceeding as usual) or close this PR (maybe?).

In the former case, you may want to edit this PR message as well.

:warning: after resolving this conflict, you will need to merge it via @robodoo.

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

pipu-odoo on (2025-01-09 12:08:47 UTC): @robodoo r+

"
2772663529,pull_request,closed,,[FW][FIX] account_edi_ubl_cii: ensure compliance with PEPPOL-COMMON-R042,"Based on PEPPOL-COMMON-R042 (https://docs.peppol.eu/poacc/billing/3.0/rules/ubl-peppol/PEPPOL-COMMON-R042/) when using the 0184 scheme the VAT number should be used (CVR number prefixed by the country code)

@JulienVR @smetl 




---
I confirm I have signed the CLA and read the PR guidelines at www.odoo.com/submit-pr

Forward-Port-Of: odoo/odoo#190952",fw-bot,2025-01-07 11:57:04+00:00,[],2025-01-22 14:39:26+00:00,2025-01-08 14:32:33+00:00,https://github.com/odoo/odoo/pull/192684,"[('RD', 'research & development, internal work'), ('forwardport', 'This PR was created by @fw-bot')]","[{'comment_id': 2575104242, 'issue_id': 2772663529, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/192684.png)](https://mergebot.odoo.com/odoo/odoo/pull/192684)', 'created_at': datetime.datetime(2025, 1, 7, 11, 57, 6, tzinfo=datetime.timezone.utc)}, {'comment_id': 2575104261, 'issue_id': 2772663529, 'author': 'fw-bot', 'body': 'This PR targets saas-18.1 and is part of the forward-port chain. Further PRs will be created up to master.\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 7, 11, 57, 6, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-07 11:57:06 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/192684.png)](https://mergebot.odoo.com/odoo/odoo/pull/192684)

fw-bot (Issue Creator) on (2025-01-07 11:57:06 UTC): This PR targets saas-18.1 and is part of the forward-port chain. Further PRs will be created up to master.

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

"
2772663036,pull_request,closed,,[FW][FIX] sale_project_stock: fixed default setting of picking type opened through topbar,"Steps to reproduce:

- Set default Warehouse in the profile.
- From Project topbar open either ""From WH"" or ""To WH"".
- Create a new stock picking

Issue:

- The stock picking type is not set by default

Reason:

- Non existence of supplied values.

Solution:

- Supply default picking type if user has a default warehouse.

task-4207753

Forward-Port-Of: odoo/odoo#190014",fw-bot,2025-01-07 11:56:50+00:00,[],2025-01-21 15:35:15+00:00,2025-01-07 15:30:42+00:00,https://github.com/odoo/odoo/pull/192683,"[('RD', 'research & development, internal work'), ('forwardport', 'This PR was created by @fw-bot')]","[{'comment_id': 2575103763, 'issue_id': 2772663036, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/192683.png)](https://mergebot.odoo.com/odoo/odoo/pull/192683)', 'created_at': datetime.datetime(2025, 1, 7, 11, 56, 51, tzinfo=datetime.timezone.utc)}, {'comment_id': 2575103787, 'issue_id': 2772663036, 'author': 'fw-bot', 'body': 'This PR targets saas-18.1 and is part of the forward-port chain. Further PRs will be created up to master.\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 7, 11, 56, 52, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-07 11:56:51 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/192683.png)](https://mergebot.odoo.com/odoo/odoo/pull/192683)

fw-bot (Issue Creator) on (2025-01-07 11:56:52 UTC): This PR targets saas-18.1 and is part of the forward-port chain. Further PRs will be created up to master.

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

"
2772662607,pull_request,closed,,[FW][FIX] account_edi_ubl_cii: default company currency for currency not found,"This error occurs when uploading a ``factur-x.xml`` file that lacks currency information or when the ``factur-x.xml`` file we generate does not include any currency.

Steps to reproduce:
---
- Install ``account_edi_ubl_cii`` module
- Invoicing > Customers > Invoices
- Click ``Upload`` button and upload [file](https://drive.google.com/drive/u/0/folders/1TrG7xBUdwdq04KueZi0WdxHxm_g0vfW_)

Traceback:
---
NotNullViolation: null value in column ""currency_id"" of relation ""account_move_line"" violates not-null constraint DETAIL:  Failing row contains (50, 50, 9, 1, 125, 100, 205, null, 56, null, null, null, null, null, null, null, null, null, null, null, 2, 2, null, null, null, NEWS9141525, null, product, null, null, null, null, null, 0.00, 0.00, 0.00, 0.0, null, null, null, 1.00, 109.72, null, null, 0.00000000000000000000000000000000000000000000000000000000000000..., null, null, null, null, null, 2025-01-02 01:03:08.880424, 2025-01-02 01:03:08.880424, null, null, null, null, null, null, null, null, null).

This commit resolves the issue by adding the default company currency when no currency is found in the file.

sentry-6056586239

---
I confirm I have signed the CLA and read the PR guidelines at www.odoo.com/submit-pr

Forward-Port-Of: odoo/odoo#192459",fw-bot,2025-01-07 11:56:35+00:00,[],2025-01-21 16:57:19+00:00,2025-01-07 16:54:20+00:00,https://github.com/odoo/odoo/pull/192682,"[('RD', 'research & development, internal work'), ('forwardport', 'This PR was created by @fw-bot')]","[{'comment_id': 2575103465, 'issue_id': 2772662607, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/192682.png)](https://mergebot.odoo.com/odoo/odoo/pull/192682)', 'created_at': datetime.datetime(2025, 1, 7, 11, 56, 41, tzinfo=datetime.timezone.utc)}, {'comment_id': 2575103487, 'issue_id': 2772662607, 'author': 'fw-bot', 'body': 'This PR targets saas-18.1 and is part of the forward-port chain. Further PRs will be created up to master.\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 7, 11, 56, 41, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-07 11:56:41 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/192682.png)](https://mergebot.odoo.com/odoo/odoo/pull/192682)

fw-bot (Issue Creator) on (2025-01-07 11:56:41 UTC): This PR targets saas-18.1 and is part of the forward-port chain. Further PRs will be created up to master.

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

"
2772651075,pull_request,closed,,[FW][FIX] project: wrong account company in quick create of project form,"Before this commit, when creating a new analytic account in any plan from the project form, the default company of the account was set to the current company of the user. The problem that arises is when the project has no company, and the account is set to a company. Which creates inconsistency between the project and the account.

After this commit, we set the company of the created account to the company of the project by default.

task-4438410
version-18.0

---
I confirm I have signed the CLA and read the PR guidelines at www.odoo.com/submit-pr

Forward-Port-Of: odoo/odoo#192021",fw-bot,2025-01-07 11:50:30+00:00,[],2025-01-21 19:30:04+00:00,2025-01-07 19:20:53+00:00,https://github.com/odoo/odoo/pull/192681,"[('RD', 'research & development, internal work'), ('forwardport', 'This PR was created by @fw-bot'), ('18.2', None)]","[{'comment_id': 2575092778, 'issue_id': 2772651075, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/192681.png)](https://mergebot.odoo.com/odoo/odoo/pull/192681)', 'created_at': datetime.datetime(2025, 1, 7, 11, 50, 32, tzinfo=datetime.timezone.utc)}, {'comment_id': 2575092794, 'issue_id': 2772651075, 'author': 'fw-bot', 'body': '@deneuvillem @xavierbol this PR targets master and is the last of the forward-port chain containing:\n* odoo/odoo#192658\n\nTo merge the full chain, use\n> @robodoo r+\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 7, 11, 50, 32, tzinfo=datetime.timezone.utc)}, {'comment_id': 2575157033, 'issue_id': 2772651075, 'author': 'deneuvillem', 'body': 'robodoo r+', 'created_at': datetime.datetime(2025, 1, 7, 12, 26, 23, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-07 11:50:32 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/192681.png)](https://mergebot.odoo.com/odoo/odoo/pull/192681)

fw-bot (Issue Creator) on (2025-01-07 11:50:32 UTC): @deneuvillem @xavierbol this PR targets master and is the last of the forward-port chain containing:
* odoo/odoo#192658

To merge the full chain, use

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

deneuvillem on (2025-01-07 12:26:23 UTC): robodoo r+

"
2772642670,pull_request,closed,,[REF] core: deprecate iteration over SQL object,"Description of the issue/feature this PR addresses:
The iteration over `SQL` was provided for backward-compatibility. However, each time we use it, the code can be made simpler.

Current behavior before PR:
```python
query, param = SQL(...)
self.env.cr.execute(query, param)
```

Desired behavior after PR is merged:
```python
sql = SQL(...)
self.env.cr.execute(sql)
# also the shortcut to get the rows works properly
rows = self.env.execute_query(sql)
```

odoo/enterprise#76622

---
I confirm I have signed the CLA and read the PR guidelines at www.odoo.com/submit-pr
",kmagusiak,2025-01-07 11:46:08+00:00,[],2025-01-08 07:52:41+00:00,2025-01-07 20:40:34+00:00,https://github.com/odoo/odoo/pull/192680,"[('RD', 'research & development, internal work'), ('18.2', None)]","[{'comment_id': 2575085189, 'issue_id': 2772642670, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/192680.png)](https://mergebot.odoo.com/odoo/odoo/pull/192680)', 'created_at': datetime.datetime(2025, 1, 7, 11, 46, 10, tzinfo=datetime.timezone.utc)}, {'comment_id': 2575526957, 'issue_id': 2772642670, 'author': 'robodoo', 'body': '@kmagusiak @ryv-odoo because this PR has multiple commits, I need to know how to merge it:\n\n* `merge` to merge directly, using the PR as merge commit message\n* `rebase-merge` to rebase and merge, using the PR as merge commit message\n* `rebase-ff` to rebase and fast-forward', 'created_at': datetime.datetime(2025, 1, 7, 15, 5, 31, tzinfo=datetime.timezone.utc)}, {'comment_id': 2575532585, 'issue_id': 2772642670, 'author': 'ryv-odoo', 'body': '@robodoo rebase-ff', 'created_at': datetime.datetime(2025, 1, 7, 15, 7, 57, tzinfo=datetime.timezone.utc)}, {'comment_id': 2575532713, 'issue_id': 2772642670, 'author': 'robodoo', 'body': 'Merge method set to rebase and fast-forward.', 'created_at': datetime.datetime(2025, 1, 7, 15, 8, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-07 11:46:10 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/192680.png)](https://mergebot.odoo.com/odoo/odoo/pull/192680)

robodoo on (2025-01-07 15:05:31 UTC): @kmagusiak @ryv-odoo because this PR has multiple commits, I need to know how to merge it:

* `merge` to merge directly, using the PR as merge commit message
* `rebase-merge` to rebase and merge, using the PR as merge commit message
* `rebase-ff` to rebase and fast-forward

ryv-odoo on (2025-01-07 15:07:57 UTC): @robodoo rebase-ff

robodoo on (2025-01-07 15:08:00 UTC): Merge method set to rebase and fast-forward.

"
2772642065,pull_request,closed,,[FW][FIX] point_of_sale: use correct identifier for lot/sn lines of order lines,"Description of the issue/feature this PR addresses:
 - for model 'pos.pack.operation.lot', `id` is the [identifier](https://github.com/odoo/odoo/blob/18.0/addons/point_of_sale/static/src/app/models/data_service_options.js#L21) but `setPackLotLines` method [uses](https://github.com/odoo/odoo/blob/saas-17.4/addons/point_of_sale/static/src/app/models/pos_order_line.js#L144) `uuid`, making operation weird and faulty.
 - As `eg: lotline.uuid => undefined`  
 - This pr attempts to fix the issue linked with modifying orderlines with sn/lots

Steps to reproduce considering [this diff](https://github.com/odoo/odoo/pull/187796/files#diff-3bfb78fa74ffa64630e11266674f185a18e3c97587590b4b55da6388cb8ba487R148) :

    - Open POS.
    - Add a products which is tracked by sn and add two sn
![image](https://github.com/user-attachments/assets/2f4ea89c-df31-40db-8bd9-9c972aa12d2a)

    - removing the last sn, will remove all sn from orderline
![image](https://github.com/user-attachments/assets/ecd36dfd-5481-4ac8-9a86-b255a3e1d27a)


Note: this pr would make more sense if [this pr](https://github.com/odoo/odoo/pull/187796) is backporterd to saas-17.4,
      as there is an oversight in replacing all `uuid` references to `id` the mentioned commit. [see](https://github.com/odoo/odoo/pull/187796/files#diff-3bfb78fa74ffa64630e11266674f185a18e3c97587590b4b55da6388cb8ba487R148) 
     Also, root issue was in saas-17.4, while a fix was made in v18.0


---
I confirm I have signed the CLA and read the PR guidelines at www.odoo.com/submit-pr

Forward-Port-Of: odoo/odoo#192469
Forward-Port-Of: odoo/odoo#188203",fw-bot,2025-01-07 11:45:50+00:00,[],2025-01-21 19:30:12+00:00,2025-01-07 19:21:11+00:00,https://github.com/odoo/odoo/pull/192679,"[('RD', 'research & development, internal work'), ('forwardport', 'This PR was created by @fw-bot'), ('18.2', None)]","[{'comment_id': 2575084604, 'issue_id': 2772642065, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/192679.png)](https://mergebot.odoo.com/odoo/odoo/pull/192679)', 'created_at': datetime.datetime(2025, 1, 7, 11, 45, 51, tzinfo=datetime.timezone.utc)}, {'comment_id': 2575084628, 'issue_id': 2772642065, 'author': 'fw-bot', 'body': '@aksi-odoo @adgu-odoo this PR targets master and is the last of the forward-port chain containing:\n* odoo/odoo#192659\n\nTo merge the full chain, use\n> @robodoo r+\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 7, 11, 45, 51, tzinfo=datetime.timezone.utc)}, {'comment_id': 2575328937, 'issue_id': 2772642065, 'author': 'aksi-odoo', 'body': '@robodoo r+', 'created_at': datetime.datetime(2025, 1, 7, 13, 44, 6, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-07 11:45:51 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/192679.png)](https://mergebot.odoo.com/odoo/odoo/pull/192679)

fw-bot (Issue Creator) on (2025-01-07 11:45:51 UTC): @aksi-odoo @adgu-odoo this PR targets master and is the last of the forward-port chain containing:
* odoo/odoo#192659

To merge the full chain, use

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

aksi-odoo on (2025-01-07 13:44:06 UTC): @robodoo r+

"
2772626015,pull_request,closed,,[FW][FIX] core: fix header when converting to PDF/A-3,"**Issue:**
When converting a PDF file into a PDF/A compliant file, the result may generate the following error message when parsing it by a PDF/A-3 validator:
`The aforementioned EOL marker shall be immediately followed by a % (25h) character followed by at least four bytes, each of whose encoded byte values shall have a decimal value greater than 127 `

**Cause:**
A previous fix has moved the four bytes in a conditional operation, but the `%` character has been forgotten.

opw-4353108



---
I confirm I have signed the CLA and read the PR guidelines at www.odoo.com/submit-pr

Forward-Port-Of: odoo/odoo#191326",fw-bot,2025-01-07 11:37:11+00:00,[],2025-01-21 19:30:01+00:00,2025-01-07 19:20:44+00:00,https://github.com/odoo/odoo/pull/192678,"[('OE', 'the report is linked to a support ticket (opw-...)'), ('forwardport', 'This PR was created by @fw-bot'), ('18.2', None)]","[{'comment_id': 2575069606, 'issue_id': 2772626015, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/192678.png)](https://mergebot.odoo.com/odoo/odoo/pull/192678)', 'created_at': datetime.datetime(2025, 1, 7, 11, 37, 12, tzinfo=datetime.timezone.utc)}, {'comment_id': 2575069630, 'issue_id': 2772626015, 'author': 'fw-bot', 'body': '@kitan191 @d-fence this PR targets master and is the last of the forward-port chain containing:\n* odoo/odoo#192654\n* odoo/odoo#192638\n* odoo/odoo#192625\n* odoo/odoo#192573\n\nTo merge the full chain, use\n> @robodoo r+\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 7, 11, 37, 13, tzinfo=datetime.timezone.utc)}, {'comment_id': 2575148362, 'issue_id': 2772626015, 'author': 'kitan191', 'body': '@robodoo r+', 'created_at': datetime.datetime(2025, 1, 7, 12, 21, 35, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-07 11:37:12 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/192678.png)](https://mergebot.odoo.com/odoo/odoo/pull/192678)

fw-bot (Issue Creator) on (2025-01-07 11:37:13 UTC): @kitan191 @d-fence this PR targets master and is the last of the forward-port chain containing:
* odoo/odoo#192654
* odoo/odoo#192638
* odoo/odoo#192625
* odoo/odoo#192573

To merge the full chain, use

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

kitan191 on (2025-01-07 12:21:35 UTC): @robodoo r+

"
2772564003,pull_request,closed,,"[FW][FIX] base, account, sale: use RUC as VAT label for Panama","In Panama, the Tax ID is the Registro Único de Contribuyentes (RUC) and not the Número de Identificación Fiscal (NIF).

This is a double fix:
1. Update the `vat_label` to use ""RUC"" instead of ""Tax ID"", but this will only be available for new created DBs (because of noupdate)
2. Update the translation of Tax ID for Panama which only requires to update the translations to have the correct translation of Tax ID.

opw-4388758

Forward-Port-Of: odoo/odoo#192514",fw-bot,2025-01-07 11:09:44+00:00,[],2025-01-21 19:16:45+00:00,2025-01-07 19:05:16+00:00,https://github.com/odoo/odoo/pull/192677,"[('OE', 'the report is linked to a support ticket (opw-...)'), ('forwardport', 'This PR was created by @fw-bot')]","[{'comment_id': 2575014511, 'issue_id': 2772564003, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/192677.png)](https://mergebot.odoo.com/odoo/odoo/pull/192677)', 'created_at': datetime.datetime(2025, 1, 7, 11, 9, 45, tzinfo=datetime.timezone.utc)}, {'comment_id': 2575014528, 'issue_id': 2772564003, 'author': 'fw-bot', 'body': 'This PR targets 18.0 and is part of the forward-port chain. Further PRs will be created up to master.\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 7, 11, 9, 45, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-07 11:09:45 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/192677.png)](https://mergebot.odoo.com/odoo/odoo/pull/192677)

fw-bot (Issue Creator) on (2025-01-07 11:09:45 UTC): This PR targets 18.0 and is part of the forward-port chain. Further PRs will be created up to master.

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

"
2772563232,pull_request,closed,,[FW][FIX] web_editor: prevent triggering powerbox for non-editable drop zone,"Step to Reproduce:

1. Enter the edit mode of Homepage
2. click on drop zone area having ""Drag building blocks here"" message.
-> sometime the ""drag and drop a building block here"" unexpectedly moves
up. which should stay as it is.

Before this commit, all `<p>` and `<div>` elements were considered as
potential PowerBox elements, making them editable using the `/` command.
This occurred even when the elements had the `o_not_editable` class or
`contenteditable=""false""` attribute.

For example, in the case of the `#wrap` element, it has the `o_editable`
class along with `contenteditable=""false""`. This caused PowerBox element
or placeholders to be added unnecessarily, even though no text editing
was allowed.

In this commit, we adapted the solution merged[1] in master and specify
the selector to make sure that no command hint shown on div while having
`o_not_editable` class or `contenteditable=false` attribute.

[1] https://github.com/odoo/odoo/commit/302250cdde936a47048b8f3403e024e2e617ace7

Before this PR :

![image](https://github.com/odoo/odoo/assets/103405229/4039d00b-43c3-4865-aa3f-83f3edab22f1)


Desired behavior after PR is merged:

No hint/placeholder is added to contenteditable false block, resulting in data editor message to stay on its place.

task-3443430

Forward-Port-Of: odoo/odoo#192012
Forward-Port-Of: odoo/odoo#153001",fw-bot,2025-01-07 11:09:28+00:00,[],2025-01-22 12:01:31+00:00,2025-01-08 11:54:06+00:00,https://github.com/odoo/odoo/pull/192676,"[('RD', 'research & development, internal work'), ('forwardport', 'This PR was created by @fw-bot')]","[{'comment_id': 2575013977, 'issue_id': 2772563232, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/192676.png)](https://mergebot.odoo.com/odoo/odoo/pull/192676)', 'created_at': datetime.datetime(2025, 1, 7, 11, 9, 29, tzinfo=datetime.timezone.utc)}, {'comment_id': 2575013993, 'issue_id': 2772563232, 'author': 'fw-bot', 'body': 'This PR targets 18.0 and is part of the forward-port chain. Further PRs will be created up to master.\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 7, 11, 9, 30, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-07 11:09:29 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/192676.png)](https://mergebot.odoo.com/odoo/odoo/pull/192676)

fw-bot (Issue Creator) on (2025-01-07 11:09:30 UTC): This PR targets 18.0 and is part of the forward-port chain. Further PRs will be created up to master.

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

"
2772562432,pull_request,closed,,[FW][FIX] discuss: ensures that volume settings are used,"Since https://github.com/odoo/odoo/pull/169691, the user volumes were not correctly searched from the settings, this commit fixes this issue.

Forward-Port-Of: odoo/odoo#192456",fw-bot,2025-01-07 11:09:13+00:00,[],2025-01-08 15:03:16+00:00,2025-01-08 14:58:06+00:00,https://github.com/odoo/odoo/pull/192675,"[('RD', 'research & development, internal work'), ('forwardport', 'This PR was created by @fw-bot'), ('conflict', 'There was an error while creating this forward-port PR')]","[{'comment_id': 2575013484, 'issue_id': 2772562432, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/192675.png)](https://mergebot.odoo.com/odoo/odoo/pull/192675)', 'created_at': datetime.datetime(2025, 1, 7, 11, 9, 14, tzinfo=datetime.timezone.utc)}, {'comment_id': 2575013513, 'issue_id': 2772562432, 'author': 'fw-bot', 'body': '@thanhdodeurodoo @phenix-factory cherrypicking of pull request odoo/odoo#192456 failed.\n\nstdout:\n```\nAuto-merging addons/mail/static/src/discuss/call/common/call_context_menu.xml\nCONFLICT (content): Merge conflict in addons/mail/static/src/discuss/call/common/call_context_menu.xml\nAuto-merging addons/mail/static/tests/discuss/call/call.test.js\nCONFLICT (content): Merge conflict in addons/mail/static/tests/discuss/call/call.test.js\n\n```\n\nEither perform the forward-port manually (and push to this branch, proceeding as usual) or close this PR (maybe?).\n\nIn the former case, you may want to edit this PR message as well.\n\n:warning: after resolving this conflict, you will need to merge it via @robodoo.\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 7, 11, 9, 15, tzinfo=datetime.timezone.utc)}, {'comment_id': 2577431513, 'issue_id': 2772562432, 'author': 'ThanhDodeurOdoo', 'body': '@robodoo r+', 'created_at': datetime.datetime(2025, 1, 8, 11, 22, 8, tzinfo=datetime.timezone.utc)}, {'comment_id': 2577672964, 'issue_id': 2772562432, 'author': 'ThanhDodeurOdoo', 'body': '@robodoo retry', 'created_at': datetime.datetime(2025, 1, 8, 13, 27, 56, tzinfo=datetime.timezone.utc)}, {'comment_id': 2577673048, 'issue_id': 2772562432, 'author': 'robodoo', 'body': '@thanhdodeurodoo retry makes no sense when the PR is not in error.', 'created_at': datetime.datetime(2025, 1, 8, 13, 27, 59, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-07 11:09:14 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/192675.png)](https://mergebot.odoo.com/odoo/odoo/pull/192675)

fw-bot (Issue Creator) on (2025-01-07 11:09:15 UTC): @thanhdodeurodoo @phenix-factory cherrypicking of pull request odoo/odoo#192456 failed.

stdout:
```
Auto-merging addons/mail/static/src/discuss/call/common/call_context_menu.xml
CONFLICT (content): Merge conflict in addons/mail/static/src/discuss/call/common/call_context_menu.xml
Auto-merging addons/mail/static/tests/discuss/call/call.test.js
CONFLICT (content): Merge conflict in addons/mail/static/tests/discuss/call/call.test.js

```

Either perform the forward-port manually (and push to this branch, proceeding as usual) or close this PR (maybe?).

In the former case, you may want to edit this PR message as well.

:warning: after resolving this conflict, you will need to merge it via @robodoo.

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

ThanhDodeurOdoo on (2025-01-08 11:22:08 UTC): @robodoo r+

ThanhDodeurOdoo on (2025-01-08 13:27:56 UTC): @robodoo retry

robodoo on (2025-01-08 13:27:59 UTC): @thanhdodeurodoo retry makes no sense when the PR is not in error.

"
2772561425,pull_request,closed,,[FW][FIX] web: close popover even if not mounted,"Currently, ff a popover uses a component that needs to load data, click away before the component is mounted will not make the popover close. Here we fix that by adding the listeners at setup (and removing them at destroy).

Forward-Port-Of: odoo/odoo#191240
Forward-Port-Of: odoo/odoo#191135",fw-bot,2025-01-07 11:08:50+00:00,[],2025-01-22 15:14:31+00:00,2025-01-08 14:58:06+00:00,https://github.com/odoo/odoo/pull/192674,"[('RD', 'research & development, internal work'), ('forwardport', 'This PR was created by @fw-bot'), ('conflict', 'There was an error while creating this forward-port PR')]","[{'comment_id': 2575012995, 'issue_id': 2772561425, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/192674.png)](https://mergebot.odoo.com/odoo/odoo/pull/192674)', 'created_at': datetime.datetime(2025, 1, 7, 11, 8, 58, tzinfo=datetime.timezone.utc)}, {'comment_id': 2575013014, 'issue_id': 2772561425, 'author': 'fw-bot', 'body': '@polymorphe57 @aab-odoo cherrypicking of pull request odoo/odoo#191135 failed.\n\nstdout:\n```\nAuto-merging addons/web/static/src/core/datetime/datetimepicker_service.js\nAuto-merging addons/web/static/tests/core/popover/popover_service.test.js\nCONFLICT (content): Merge conflict in addons/web/static/tests/core/popover/popover_service.test.js\n\n```\n\nEither perform the forward-port manually (and push to this branch, proceeding as usual) or close this PR (maybe?).\n\nIn the former case, you may want to edit this PR message as well.\n\n:warning: after resolving this conflict, you will need to merge it via @robodoo.\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 7, 11, 8, 58, tzinfo=datetime.timezone.utc)}, {'comment_id': 2576557983, 'issue_id': 2772561425, 'author': 'fw-bot', 'body': '@polymorphe57 @aab-odoo this forward port of odoo/odoo#191135 is awaiting action (not merged or closed).', 'created_at': datetime.datetime(2025, 1, 8, 2, 1, 38, tzinfo=datetime.timezone.utc)}, {'comment_id': 2577444556, 'issue_id': 2772561425, 'author': 'Polymorphe57', 'body': '@robodoo r+', 'created_at': datetime.datetime(2025, 1, 8, 11, 29, 31, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-07 11:08:58 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/192674.png)](https://mergebot.odoo.com/odoo/odoo/pull/192674)

fw-bot (Issue Creator) on (2025-01-07 11:08:58 UTC): @polymorphe57 @aab-odoo cherrypicking of pull request odoo/odoo#191135 failed.

stdout:
```
Auto-merging addons/web/static/src/core/datetime/datetimepicker_service.js
Auto-merging addons/web/static/tests/core/popover/popover_service.test.js
CONFLICT (content): Merge conflict in addons/web/static/tests/core/popover/popover_service.test.js

```

Either perform the forward-port manually (and push to this branch, proceeding as usual) or close this PR (maybe?).

In the former case, you may want to edit this PR message as well.

:warning: after resolving this conflict, you will need to merge it via @robodoo.

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

fw-bot (Issue Creator) on (2025-01-08 02:01:38 UTC): @polymorphe57 @aab-odoo this forward port of odoo/odoo#191135 is awaiting action (not merged or closed).

Polymorphe57 on (2025-01-08 11:29:31 UTC): @robodoo r+

"
2772558346,pull_request,closed,,[FW][FIX] base_vat: Fix ID vat check,"STEPS
-----------
1. Install Contact and 'base_vat'
2. Create a new Indonasian contact with VAT as ID1234567890123456
3. Save -> Connot save whilst the VAT is correct

PROBLEM
-----------
VAT could be 15 (old numbers) or 16 digits. If there are 15 digits long, the 10th digit is a luhn checksum. In some cases, the 15 digits can be transformed into a 16-digit by adding a 0 in front. In such case, we can verify the luhn checksum like for the 15 digits by removing the 0.

However, for newly created VAT 16-digits VAT number, there is no checksum.

SOLUTION
-----------
Allow 16-digit VAT that only contains numbers and does not start with a 0.

opw-4402514

---
I confirm I have signed the CLA and read the PR guidelines at www.odoo.com/submit-pr

Forward-Port-Of: odoo/odoo#192543",fw-bot,2025-01-07 11:07:29+00:00,[],2025-01-21 23:37:04+00:00,2025-01-07 22:14:21+00:00,https://github.com/odoo/odoo/pull/192673,"[('OE', 'the report is linked to a support ticket (opw-...)'), ('forwardport', 'This PR was created by @fw-bot'), ('18.2', None)]","[{'comment_id': 2575010247, 'issue_id': 2772558346, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/192673.png)](https://mergebot.odoo.com/odoo/odoo/pull/192673)', 'created_at': datetime.datetime(2025, 1, 7, 11, 7, 30, tzinfo=datetime.timezone.utc)}, {'comment_id': 2575010273, 'issue_id': 2772558346, 'author': 'fw-bot', 'body': '@aboo-odoo @vin-odoo this PR targets master and is the last of the forward-port chain containing:\n* odoo/odoo#192647\n* odoo/odoo#192631\n* odoo/odoo#192622\n* odoo/odoo#192621\n\nTo merge the full chain, use\n> @robodoo r+\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 7, 11, 7, 31, tzinfo=datetime.timezone.utc)}, {'comment_id': 2575113150, 'issue_id': 2772558346, 'author': 'fw-bot', 'body': '@aboo-odoo @vin-odoo ci/runbot failed on this forward-port PR', 'created_at': datetime.datetime(2025, 1, 7, 12, 1, 58, tzinfo=datetime.timezone.utc)}, {'comment_id': 2575764355, 'issue_id': 2772558346, 'author': 'fw-bot', 'body': '@aboo-odoo @vin-odoo this PR was modified / updated and has become a normal PR. It must be merged directly.', 'created_at': datetime.datetime(2025, 1, 7, 16, 42, 57, tzinfo=datetime.timezone.utc)}, {'comment_id': 2575765268, 'issue_id': 2772558346, 'author': 'aboo-odoo', 'body': '@robodoo r+', 'created_at': datetime.datetime(2025, 1, 7, 16, 43, 22, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-07 11:07:30 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/192673.png)](https://mergebot.odoo.com/odoo/odoo/pull/192673)

fw-bot (Issue Creator) on (2025-01-07 11:07:31 UTC): @aboo-odoo @vin-odoo this PR targets master and is the last of the forward-port chain containing:
* odoo/odoo#192647
* odoo/odoo#192631
* odoo/odoo#192622
* odoo/odoo#192621

To merge the full chain, use

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

fw-bot (Issue Creator) on (2025-01-07 12:01:58 UTC): @aboo-odoo @vin-odoo ci/runbot failed on this forward-port PR

fw-bot (Issue Creator) on (2025-01-07 16:42:57 UTC): @aboo-odoo @vin-odoo this PR was modified / updated and has become a normal PR. It must be merged directly.

aboo-odoo on (2025-01-07 16:43:22 UTC): @robodoo r+

"
2772554946,pull_request,closed,,[FW][16.0][FIX] web: login page should not be cached,"**Description of the issue/feature this PR addresses:**
When odoo is deployed with Reverse Proxy , like cloudflare, and cache rule is enabled. 
The login page is cached by cloudflare,  ""Cf-Cache-Status"" is set to ""HIT"" in the reponse header
![image](https://github.com/user-attachments/assets/51187a2e-476b-414b-a396-4af15ed26df7)

But in the html content, csrf_token is unavailable.
![image](https://github.com/user-attachments/assets/6a8d81e6-3270-466a-b292-789a9473657e)

Error when try to login.
![image](https://github.com/user-attachments/assets/f8cd7fa1-f08e-49af-adc6-7109f24bca17)

**Current behavior before PR:**
User can not login.

**Desired behavior after PR is merged:**
User can login.

---
I confirm I have signed the CLA and read the PR guidelines at www.odoo.com/submit-pr

Forward-Port-Of: odoo/odoo#191453",fw-bot,2025-01-07 11:05:58+00:00,[],2025-01-29 16:28:22+00:00,2025-01-15 16:27:17+00:00,https://github.com/odoo/odoo/pull/192672,"[('RD', 'research & development, internal work'), ('forwardport', 'This PR was created by @fw-bot')]","[{'comment_id': 2575007598, 'issue_id': 2772554946, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/192672.png)](https://mergebot.odoo.com/odoo/odoo/pull/192672)', 'created_at': datetime.datetime(2025, 1, 7, 11, 5, 59, tzinfo=datetime.timezone.utc)}, {'comment_id': 2575007616, 'issue_id': 2772554946, 'author': 'fw-bot', 'body': 'This PR targets saas-18.1 and is part of the forward-port chain. Further PRs will be created up to master.\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 7, 11, 6, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-07 11:05:59 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/192672.png)](https://mergebot.odoo.com/odoo/odoo/pull/192672)

fw-bot (Issue Creator) on (2025-01-07 11:06:00 UTC): This PR targets saas-18.1 and is part of the forward-port chain. Further PRs will be created up to master.

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

"
2772552697,pull_request,closed,,[FW][FIX] base: keep old behavior of ir.model import,"In https://github.com/odoo/odoo/pull/176227, we moved where we set `install_mode` in context from the low-level import records method `_load_records` to the `load_data` method.

Unfortunately, when we load an industry module, we don't use `load_data`, but mimic its behavior in `_import_zipfile` -> `_import_module`. For example, `_default_field_id` now has a different behavior when we install from a zip module or from the command line. And this can cause the import of the industry module to crash.

To avoid this situation, move where `install_mode` is set to `convert_csv_import` and `xml_import`. These are both used by `_import_module` and `load_data` at some point, but not by a user import (the purpose of the first PR).

##### [REM] core: remove unnecessary `fields_get` call in `load

`fg` are unused and `fields_get` can be expensive for large models. Remove this unnecessary line.

Forward-Port-Of: odoo/odoo#192551",fw-bot,2025-01-07 11:04:49+00:00,[],2025-01-21 21:03:05+00:00,2025-01-07 20:39:32+00:00,https://github.com/odoo/odoo/pull/192671,"[('RD', 'research & development, internal work'), ('forwardport', 'This PR was created by @fw-bot'), ('18.2', None)]","[{'comment_id': 2575005710, 'issue_id': 2772552697, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/192671.png)](https://mergebot.odoo.com/odoo/odoo/pull/192671)', 'created_at': datetime.datetime(2025, 1, 7, 11, 4, 59, tzinfo=datetime.timezone.utc)}, {'comment_id': 2575005725, 'issue_id': 2772552697, 'author': 'fw-bot', 'body': '@ryv-odoo this PR targets master and is the last of the forward-port chain.\n\nTo merge the full chain, use\n> @robodoo r+\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 7, 11, 5, tzinfo=datetime.timezone.utc)}, {'comment_id': 2575460680, 'issue_id': 2772552697, 'author': 'ryv-odoo', 'body': '@robodoo r+', 'created_at': datetime.datetime(2025, 1, 7, 14, 38, 49, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-07 11:04:59 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/192671.png)](https://mergebot.odoo.com/odoo/odoo/pull/192671)

fw-bot (Issue Creator) on (2025-01-07 11:05:00 UTC): @ryv-odoo this PR targets master and is the last of the forward-port chain.

To merge the full chain, use

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

ryv-odoo on (2025-01-07 14:38:49 UTC): @robodoo r+

"
2772551942,pull_request,closed,,[FW][FIX] pos: prevent reuse of serial numbers from active orders,"Steps:
- Open the POS.
- Add a product with serial number tracking to the order line.
- Create a new order.
- Add the same product to the new order

Issue:
- it is possible to select the same serial number that was previously used in another order.

Fix:
- Hide serial numbers that are being used in active orders

Task - 3944652

Forward-Port-Of: odoo/odoo#192529
Forward-Port-Of: odoo/odoo#187176",fw-bot,2025-01-07 11:04:27+00:00,[],2025-01-21 17:40:17+00:00,2025-01-07 17:38:49+00:00,https://github.com/odoo/odoo/pull/192670,"[('RD', 'research & development, internal work'), ('forwardport', 'This PR was created by @fw-bot'), ('18.2', None)]","[{'comment_id': 2575005629, 'issue_id': 2772551942, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/192670.png)](https://mergebot.odoo.com/odoo/odoo/pull/192670)', 'created_at': datetime.datetime(2025, 1, 7, 11, 4, 57, tzinfo=datetime.timezone.utc)}, {'comment_id': 2575005647, 'issue_id': 2772551942, 'author': 'fw-bot', 'body': '@parp-odoo @caburj this PR targets master and is the last of the forward-port chain.\n\nTo merge the full chain, use\n> @robodoo r+\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 7, 11, 4, 58, tzinfo=datetime.timezone.utc)}, {'comment_id': 2575159871, 'issue_id': 2772551942, 'author': 'parp-odoo', 'body': 'robodoo r+', 'created_at': datetime.datetime(2025, 1, 7, 12, 27, 59, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-07 11:04:57 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/192670.png)](https://mergebot.odoo.com/odoo/odoo/pull/192670)

fw-bot (Issue Creator) on (2025-01-07 11:04:58 UTC): @parp-odoo @caburj this PR targets master and is the last of the forward-port chain.

To merge the full chain, use

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

parp-odoo on (2025-01-07 12:27:59 UTC): robodoo r+

"
2772551413,pull_request,closed,,[FW][IMP] l10n_in: update Legal Note on Fiscal Position,"with this pr:
update legal not on fiscal position. As per Rule 46 of the CGST Act, it needs to be written on the invoice.

task-4440627

Forward-Port-Of: odoo/odoo#192337
Forward-Port-Of: odoo/odoo#192093",fw-bot,2025-01-07 11:04:13+00:00,[],2025-01-21 17:40:18+00:00,2025-01-07 17:38:54+00:00,https://github.com/odoo/odoo/pull/192669,"[('RD', 'research & development, internal work'), ('forwardport', 'This PR was created by @fw-bot'), ('18.2', None)]","[{'comment_id': 2575005596, 'issue_id': 2772551413, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/192669.png)](https://mergebot.odoo.com/odoo/odoo/pull/192669)', 'created_at': datetime.datetime(2025, 1, 7, 11, 4, 55, tzinfo=datetime.timezone.utc)}, {'comment_id': 2575005606, 'issue_id': 2772551413, 'author': 'fw-bot', 'body': '@bhra-odoo @RicGR98 this PR targets master and is the last of the forward-port chain.\n\nTo merge the full chain, use\n> @robodoo r+\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 7, 11, 4, 56, tzinfo=datetime.timezone.utc)}, {'comment_id': 2575085252, 'issue_id': 2772551413, 'author': 'bhra-odoo', 'body': '@robodoo r+', 'created_at': datetime.datetime(2025, 1, 7, 11, 46, 13, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-07 11:04:55 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/192669.png)](https://mergebot.odoo.com/odoo/odoo/pull/192669)

fw-bot (Issue Creator) on (2025-01-07 11:04:56 UTC): @bhra-odoo @RicGR98 this PR targets master and is the last of the forward-port chain.

To merge the full chain, use

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

bhra-odoo on (2025-01-07 11:46:13 UTC): @robodoo r+

"
2772543857,pull_request,closed,,[IMP] bus add delay before showing the disconnected alert,"Before this PR, the ""real-time connection lost"" alert was displayed right after the disconnection was detected.
This PR adds a 15s delay to avoid spamming the alert on unstable connexion.

Task-4453176

",phenix-factory,2025-01-07 11:00:53+00:00,[],2025-01-07 13:33:18+00:00,2025-01-07 13:33:18+00:00,https://github.com/odoo/odoo/pull/192668,"[('RD', 'research & development, internal work')]","[{'comment_id': 2574997704, 'issue_id': 2772543857, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/192668.png)](https://mergebot.odoo.com/odoo/odoo/pull/192668)', 'created_at': datetime.datetime(2025, 1, 7, 11, 0, 56, tzinfo=datetime.timezone.utc)}, {'comment_id': 2575297387, 'issue_id': 2772543857, 'author': 'phenix-factory', 'body': 'Moved to 18.0 https://github.com/odoo/odoo/pull/192705', 'created_at': datetime.datetime(2025, 1, 7, 13, 27, 53, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-07 11:00:56 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/192668.png)](https://mergebot.odoo.com/odoo/odoo/pull/192668)

phenix-factory (Issue Creator) on (2025-01-07 13:27:53 UTC): Moved to 18.0 https://github.com/odoo/odoo/pull/192705

"
2772532466,pull_request,open,,[ADD] iot_base: base module for IoT related modules,"This module is meant to simplify IoT development and avoid code reuse by providing a common base to both Enterprise and Community IoT.

Enterprise PR: [https://github.com/odoo/enterprise/pull/76613](https://github.com/odoo/enterprise/pull/76613)",loouis-t,2025-01-07 10:55:21+00:00,[],2025-01-09 16:42:51+00:00,,https://github.com/odoo/odoo/pull/192667,"[('RD', 'research & development, internal work')]","[{'comment_id': 2574987422, 'issue_id': 2772532466, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/192667.png)](https://mergebot.odoo.com/odoo/odoo/pull/192667)', 'created_at': datetime.datetime(2025, 1, 7, 10, 55, 24, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-07 10:55:24 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/192667.png)](https://mergebot.odoo.com/odoo/odoo/pull/192667)

"
2772530416,pull_request,closed,,[FW][FIX] hr_expense: correct mapping of expense alias domain in settings,"**Steps to reproduce:**
- Install hr_expense
- Create 2 alias domains
- Go to ""Settings / Technical / Email / Aliases""
- Check the values for Expense model
- Go to Expenses settings
- Change the prefix and the domain of the alias
- Save
- Go to ""Settings / Technical / Email / Aliases""
- Check the values for Expense model again

**Issue:**
The prefix has correctly been modified but not the domain. The domain from Expenses settings and the domain of the Expense alias are different.

**Cause:**
The domain field in Expenses settings is in fact the Email Domain (alias_domain_id) of the company, which makes no sense to combine the prefix and the domain from 2 different sources.

**Solution:**
Add a non-stored computed field to map the domain displayed in Expenses settings with the domain of the Expense alias.
Not great in stable, but there is no other way if we want to keep the option.

opw-4293936




---
I confirm I have signed the CLA and read the PR guidelines at www.odoo.com/submit-pr

Forward-Port-Of: odoo/odoo#192571
Forward-Port-Of: odoo/odoo#190252",fw-bot,2025-01-07 10:54:19+00:00,[],2025-01-22 08:15:21+00:00,2025-01-08 08:15:08+00:00,https://github.com/odoo/odoo/pull/192666,"[('OE', 'the report is linked to a support ticket (opw-...)'), ('forwardport', 'This PR was created by @fw-bot')]","[{'comment_id': 2574985324, 'issue_id': 2772530416, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/192666.png)](https://mergebot.odoo.com/odoo/odoo/pull/192666)', 'created_at': datetime.datetime(2025, 1, 7, 10, 54, 21, tzinfo=datetime.timezone.utc)}, {'comment_id': 2574985337, 'issue_id': 2772530416, 'author': 'fw-bot', 'body': 'This PR targets saas-17.4 and is part of the forward-port chain. Further PRs will be created up to master.\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 7, 10, 54, 21, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-07 10:54:21 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/192666.png)](https://mergebot.odoo.com/odoo/odoo/pull/192666)

fw-bot (Issue Creator) on (2025-01-07 10:54:21 UTC): This PR targets saas-17.4 and is part of the forward-port chain. Further PRs will be created up to master.

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

"
2772507090,pull_request,closed,,[IMP] orm: deprecate Registry.manage_changes,"The function is used only once. In all other occurrences, `check_signaling`, `signal_changes` and `reset_changes` are called.


---
I confirm I have signed the CLA and read the PR guidelines at www.odoo.com/submit-pr
",kmagusiak,2025-01-07 10:44:26+00:00,[],2025-01-08 07:52:50+00:00,2025-01-07 20:40:07+00:00,https://github.com/odoo/odoo/pull/192665,"[('RD', 'research & development, internal work'), ('18.2', None)]","[{'comment_id': 2574964981, 'issue_id': 2772507090, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/192665.png)](https://mergebot.odoo.com/odoo/odoo/pull/192665)', 'created_at': datetime.datetime(2025, 1, 7, 10, 44, 29, tzinfo=datetime.timezone.utc)}, {'comment_id': 2575369483, 'issue_id': 2772507090, 'author': 'ryv-odoo', 'body': '@robodoo r+\r\nThx @kmagusiak', 'created_at': datetime.datetime(2025, 1, 7, 14, 3, 17, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-07 10:44:29 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/192665.png)](https://mergebot.odoo.com/odoo/odoo/pull/192665)

ryv-odoo on (2025-01-07 14:03:17 UTC): @robodoo r+
Thx @kmagusiak

"
2772504711,pull_request,closed,,[REF] hr*: replace avatar_user fields by employee,This commit replaces fields `many2*_avatar_user` by `many2*_avatar_employee` when it's used on `hr.employee` fields. This allows to remove a patch on `Many2*AvatarUserField` to support `hr.employee` features. This patch could be useless since we already have a field with those features.,mcm-odoo,2025-01-07 10:43:18+00:00,[],2025-01-28 10:44:25+00:00,2025-01-28 02:59:49+00:00,https://github.com/odoo/odoo/pull/192664,"[('RD', 'research & development, internal work'), ('18.2', None)]","[{'comment_id': 2574962641, 'issue_id': 2772504711, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/192664.png)](https://mergebot.odoo.com/odoo/odoo/pull/192664)', 'created_at': datetime.datetime(2025, 1, 7, 10, 43, 21, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-07 10:43:21 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/192664.png)](https://mergebot.odoo.com/odoo/odoo/pull/192664)

"
2772485715,pull_request,closed,,[FW][FIX] account: replace type of product in test,"Issue:
- run the `test_account_manager_user_can_create_product` with `account`and its dependencies as the only modules installed
- error is given as `product` is not a valid product type (it is added in the `stock` module)

Solution:
- replace `product` with a product type that is defined in one of the dependencies




---
I confirm I have signed the CLA and read the PR guidelines at www.odoo.com/submit-pr

Forward-Port-Of: odoo/odoo#192462",fw-bot,2025-01-07 10:34:40+00:00,[],2025-01-22 23:46:37+00:00,2025-01-08 23:13:20+00:00,https://github.com/odoo/odoo/pull/192663,"[('RD', 'research & development, internal work'), ('forwardport', 'This PR was created by @fw-bot')]","[{'comment_id': 2574945025, 'issue_id': 2772485715, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/192663.png)](https://mergebot.odoo.com/odoo/odoo/pull/192663)', 'created_at': datetime.datetime(2025, 1, 7, 10, 34, 41, tzinfo=datetime.timezone.utc)}, {'comment_id': 2574945045, 'issue_id': 2772485715, 'author': 'fw-bot', 'body': 'This PR targets saas-17.2 and is part of the forward-port chain. Further PRs will be created up to master.\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 7, 10, 34, 41, tzinfo=datetime.timezone.utc)}, {'comment_id': 2575109015, 'issue_id': 2772485715, 'author': 'fw-bot', 'body': '@emi-odoo @h4818 the next pull request (odoo/odoo#192686) is in conflict. You can merge the chain up to here by saying\n> @robodoo r+\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 7, 11, 59, 43, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-07 10:34:41 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/192663.png)](https://mergebot.odoo.com/odoo/odoo/pull/192663)

fw-bot (Issue Creator) on (2025-01-07 10:34:41 UTC): This PR targets saas-17.2 and is part of the forward-port chain. Further PRs will be created up to master.

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

fw-bot (Issue Creator) on (2025-01-07 11:59:43 UTC): @emi-odoo @h4818 the next pull request (odoo/odoo#192686) is in conflict. You can merge the chain up to here by saying

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

"
2772472050,pull_request,closed,,[FW][FIX] pos_self_order: allow merging lot tracked products,"Before this commit, adding lot tracked products would result in an error because the picking type was not loaded in self ordering.

opw-4439558

---
I confirm I have signed the CLA and read the PR guidelines at www.odoo.com/submit-pr

Forward-Port-Of: odoo/odoo#192351",fw-bot,2025-01-07 10:29:03+00:00,[],2025-01-21 18:32:32+00:00,2025-01-07 18:22:41+00:00,https://github.com/odoo/odoo/pull/192662,"[('OE', 'the report is linked to a support ticket (opw-...)'), ('forwardport', 'This PR was created by @fw-bot'), ('conflict', 'There was an error while creating this forward-port PR')]","[{'comment_id': 2574933036, 'issue_id': 2772472050, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/192662.png)](https://mergebot.odoo.com/odoo/odoo/pull/192662)', 'created_at': datetime.datetime(2025, 1, 7, 10, 29, 4, tzinfo=datetime.timezone.utc)}, {'comment_id': 2574933115, 'issue_id': 2772472050, 'author': 'fw-bot', 'body': '@pedrambiria @caburj cherrypicking of pull request odoo/odoo#192351 failed.\n\nstdout:\n```\nAuto-merging addons/point_of_sale/static/src/app/models/pos_order_line.js\nCONFLICT (content): Merge conflict in addons/point_of_sale/static/src/app/models/pos_order_line.js\nAuto-merging addons/pos_self_order/static/src/app/models/pos_order_line.js\n\n```\n\nEither perform the forward-port manually (and push to this branch, proceeding as usual) or close this PR (maybe?).\n\nIn the former case, you may want to edit this PR message as well.\n\n:warning: after resolving this conflict, you will need to merge it via @robodoo.\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 7, 10, 29, 7, tzinfo=datetime.timezone.utc)}, {'comment_id': 2575294048, 'issue_id': 2772472050, 'author': 'pedrambiria', 'body': 'robodoo r+', 'created_at': datetime.datetime(2025, 1, 7, 13, 26, 13, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-07 10:29:04 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/192662.png)](https://mergebot.odoo.com/odoo/odoo/pull/192662)

fw-bot (Issue Creator) on (2025-01-07 10:29:07 UTC): @pedrambiria @caburj cherrypicking of pull request odoo/odoo#192351 failed.

stdout:
```
Auto-merging addons/point_of_sale/static/src/app/models/pos_order_line.js
CONFLICT (content): Merge conflict in addons/point_of_sale/static/src/app/models/pos_order_line.js
Auto-merging addons/pos_self_order/static/src/app/models/pos_order_line.js

```

Either perform the forward-port manually (and push to this branch, proceeding as usual) or close this PR (maybe?).

In the former case, you may want to edit this PR message as well.

:warning: after resolving this conflict, you will need to merge it via @robodoo.

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

pedrambiria on (2025-01-07 13:26:13 UTC): robodoo r+

"
2772469139,pull_request,closed,,"[IMP] {sale_,}project, {hr,sale}_timesheet: hide SOL from non-billable projects","In this commit, we remove the SOL field of tasks and timesheets from the list views of non-billable projects.

task-4443654

---
I confirm I have signed the CLA and read the PR guidelines at www.odoo.com/submit-pr
",deneuvillem,2025-01-07 10:27:38+00:00,[],2025-02-06 16:54:52+00:00,2025-02-06 16:54:52+00:00,https://github.com/odoo/odoo/pull/192661,"[('RD', 'research & development, internal work'), ('18.2', None)]","[{'comment_id': 2574930414, 'issue_id': 2772469139, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/192661.png)](https://mergebot.odoo.com/odoo/odoo/pull/192661)', 'created_at': datetime.datetime(2025, 1, 7, 10, 27, 42, tzinfo=datetime.timezone.utc)}, {'comment_id': 2636184487, 'issue_id': 2772469139, 'author': 'xavierbol', 'body': 'I just rebase your branch', 'created_at': datetime.datetime(2025, 2, 5, 9, 26, 11, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-07 10:27:42 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/192661.png)](https://mergebot.odoo.com/odoo/odoo/pull/192661)

xavierbol on (2025-02-05 09:26:11 UTC): I just rebase your branch

"
2772458422,pull_request,closed,,"[FW][IMP] web, base: kanban app list vertical misalignment","Before this commit, there was a misalignment issue with the buttons in the cards due to varying text lengths in the description. This caused the buttons to appear at different vertical positions, disrupting visual consistency.

Now, the layout ensures that all buttons are aligned at the bottom of the cards regardless of the description length, and also the desc is a bit more readable with improved line spacing.

| Before | After |
|--------|--------|
| ![image](https://github.com/user-attachments/assets/e6651d85-bad0-4c45-8eab-537a76615add) | ![image](https://github.com/user-attachments/assets/77503d3a-1bef-4aa2-b797-d09cb9e52d26) |

task-4357026

---
I confirm I have signed the CLA and read the PR guidelines at www.odoo.com/submit-pr

Forward-Port-Of: odoo/odoo#192011",fw-bot,2025-01-07 10:22:29+00:00,[],2025-01-21 14:08:57+00:00,2025-01-07 14:06:04+00:00,https://github.com/odoo/odoo/pull/192660,"[('RD', 'research & development, internal work'), ('forwardport', 'This PR was created by @fw-bot'), ('conflict', 'There was an error while creating this forward-port PR')]","[{'comment_id': 2574919698, 'issue_id': 2772458422, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/192660.png)](https://mergebot.odoo.com/odoo/odoo/pull/192660)', 'created_at': datetime.datetime(2025, 1, 7, 10, 22, 31, tzinfo=datetime.timezone.utc)}, {'comment_id': 2574919727, 'issue_id': 2772458422, 'author': 'fw-bot', 'body': '@xlu-odoo @aab-odoo cherrypicking of pull request odoo/odoo#192011 failed.\n\nstdout:\n```\nAuto-merging addons/web/static/src/views/kanban/kanban_controller.scss\nCONFLICT (content): Merge conflict in addons/web/static/src/views/kanban/kanban_controller.scss\nAuto-merging odoo/addons/base/views/ir_module_views.xml\n\n```\n\nEither perform the forward-port manually (and push to this branch, proceeding as usual) or close this PR (maybe?).\n\nIn the former case, you may want to edit this PR message as well.\n\n:warning: after resolving this conflict, you will need to merge it via @robodoo.\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 7, 10, 22, 31, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-07 10:22:31 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/192660.png)](https://mergebot.odoo.com/odoo/odoo/pull/192660)

fw-bot (Issue Creator) on (2025-01-07 10:22:31 UTC): @xlu-odoo @aab-odoo cherrypicking of pull request odoo/odoo#192011 failed.

stdout:
```
Auto-merging addons/web/static/src/views/kanban/kanban_controller.scss
CONFLICT (content): Merge conflict in addons/web/static/src/views/kanban/kanban_controller.scss
Auto-merging odoo/addons/base/views/ir_module_views.xml

```

Either perform the forward-port manually (and push to this branch, proceeding as usual) or close this PR (maybe?).

In the former case, you may want to edit this PR message as well.

:warning: after resolving this conflict, you will need to merge it via @robodoo.

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

"
2772457804,pull_request,closed,,[FW][FIX] point_of_sale: use correct identifier for lot/sn lines of order lines,"Description of the issue/feature this PR addresses:
 - for model 'pos.pack.operation.lot', `id` is the [identifier](https://github.com/odoo/odoo/blob/18.0/addons/point_of_sale/static/src/app/models/data_service_options.js#L21) but `setPackLotLines` method [uses](https://github.com/odoo/odoo/blob/saas-17.4/addons/point_of_sale/static/src/app/models/pos_order_line.js#L144) `uuid`, making operation weird and faulty.
 - As `eg: lotline.uuid => undefined`  
 - This pr attempts to fix the issue linked with modifying orderlines with sn/lots

Steps to reproduce considering [this diff](https://github.com/odoo/odoo/pull/187796/files#diff-3bfb78fa74ffa64630e11266674f185a18e3c97587590b4b55da6388cb8ba487R148) :

    - Open POS.
    - Add a products which is tracked by sn and add two sn
![image](https://github.com/user-attachments/assets/2f4ea89c-df31-40db-8bd9-9c972aa12d2a)

    - removing the last sn, will remove all sn from orderline
![image](https://github.com/user-attachments/assets/ecd36dfd-5481-4ac8-9a86-b255a3e1d27a)


Note: this pr would make more sense if [this pr](https://github.com/odoo/odoo/pull/187796) is backporterd to saas-17.4,
      as there is an oversight in replacing all `uuid` references to `id` the mentioned commit. [see](https://github.com/odoo/odoo/pull/187796/files#diff-3bfb78fa74ffa64630e11266674f185a18e3c97587590b4b55da6388cb8ba487R148) 
     Also, root issue was in saas-17.4, while a fix was made in v18.0


---
I confirm I have signed the CLA and read the PR guidelines at www.odoo.com/submit-pr

Forward-Port-Of: odoo/odoo#192469
Forward-Port-Of: odoo/odoo#188203",fw-bot,2025-01-07 10:22:13+00:00,[],2025-01-21 15:35:16+00:00,2025-01-07 15:30:47+00:00,https://github.com/odoo/odoo/pull/192659,"[('RD', 'research & development, internal work'), ('forwardport', 'This PR was created by @fw-bot')]","[{'comment_id': 2574919143, 'issue_id': 2772457804, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/192659.png)](https://mergebot.odoo.com/odoo/odoo/pull/192659)', 'created_at': datetime.datetime(2025, 1, 7, 10, 22, 15, tzinfo=datetime.timezone.utc)}, {'comment_id': 2574919239, 'issue_id': 2772457804, 'author': 'fw-bot', 'body': 'This PR targets saas-18.1 and is part of the forward-port chain. Further PRs will be created up to master.\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 7, 10, 22, 17, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-07 10:22:15 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/192659.png)](https://mergebot.odoo.com/odoo/odoo/pull/192659)

fw-bot (Issue Creator) on (2025-01-07 10:22:17 UTC): This PR targets saas-18.1 and is part of the forward-port chain. Further PRs will be created up to master.

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

"
2772457311,pull_request,closed,,[FW][FIX] project: wrong account company in quick create of project form,"Before this commit, when creating a new analytic account in any plan from the project form, the default company of the account was set to the current company of the user. The problem that arises is when the project has no company, and the account is set to a company. Which creates inconsistency between the project and the account.

After this commit, we set the company of the created account to the company of the project by default.

task-4438410
version-18.0

---
I confirm I have signed the CLA and read the PR guidelines at www.odoo.com/submit-pr

Forward-Port-Of: odoo/odoo#192021",fw-bot,2025-01-07 10:21:59+00:00,[],2025-01-21 14:08:58+00:00,2025-01-07 14:06:16+00:00,https://github.com/odoo/odoo/pull/192658,"[('RD', 'research & development, internal work'), ('forwardport', 'This PR was created by @fw-bot')]","[{'comment_id': 2574918892, 'issue_id': 2772457311, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/192658.png)](https://mergebot.odoo.com/odoo/odoo/pull/192658)', 'created_at': datetime.datetime(2025, 1, 7, 10, 22, 7, tzinfo=datetime.timezone.utc)}, {'comment_id': 2574918930, 'issue_id': 2772457311, 'author': 'fw-bot', 'body': 'This PR targets saas-18.1 and is part of the forward-port chain. Further PRs will be created up to master.\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 7, 10, 22, 8, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-07 10:22:07 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/192658.png)](https://mergebot.odoo.com/odoo/odoo/pull/192658)

fw-bot (Issue Creator) on (2025-01-07 10:22:08 UTC): This PR targets saas-18.1 and is part of the forward-port chain. Further PRs will be created up to master.

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

"
2772456855,pull_request,closed,,[FW][FIX] web: fix webclient view cache for not embedded action views,"Steps to reproduce (a bit technical):

1. Navigate to the ""Contacts"" kanban view.
2. Open the Network tab in the browser's developer tools.
3. Click on the first contact activities and ""Schedule a new activity"".
4. Notice a call to `get_views` in the Network tab.
5. Click on a different contact activities, and ""Schedule a new activity"".
6. Notice a new call to `get_views` in the Network tab.

Expected:

The view is already cached, so the webclient should not attempt to load it.

Explanation:

This is likely a regression since f983703d, when the embedded actions were introduced. Now, the `embeddedParentResId` is part of the views cache key, and so we get much fewer cache hits.

For most views, there isn't really an `embeddedActionId` set, and yet the `embeddedParentResId` was always set. The later is only used in combination with `embeddedActionId`, so it causes a lot of avoidable cache misses.

The solution is to simply set the `embeddedParentResId` only if there's an `embeddedActionId`.

Closes odoo/odoo#192261

Description of the issue/feature this PR addresses:

Current behavior before PR:

Desired behavior after PR is merged:




---
I confirm I have signed the CLA and read the PR guidelines at www.odoo.com/submit-pr

Forward-Port-Of: odoo/odoo#192531",fw-bot,2025-01-07 10:21:45+00:00,[],2025-01-21 14:08:59+00:00,2025-01-07 14:06:20+00:00,https://github.com/odoo/odoo/pull/192657,"[('RD', 'research & development, internal work'), ('forwardport', 'This PR was created by @fw-bot')]","[{'comment_id': 2574918772, 'issue_id': 2772456855, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/192657.png)](https://mergebot.odoo.com/odoo/odoo/pull/192657)', 'created_at': datetime.datetime(2025, 1, 7, 10, 22, 3, tzinfo=datetime.timezone.utc)}, {'comment_id': 2574918861, 'issue_id': 2772456855, 'author': 'fw-bot', 'body': 'This PR targets saas-18.1 and is part of the forward-port chain. Further PRs will be created up to master.\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 7, 10, 22, 6, tzinfo=datetime.timezone.utc)}, {'comment_id': 2575025226, 'issue_id': 2772456855, 'author': 'fw-bot', 'body': '@aab-odoo @polymorphe57 ci/runbot failed on this forward-port PR', 'created_at': datetime.datetime(2025, 1, 7, 11, 14, 58, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-07 10:22:03 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/192657.png)](https://mergebot.odoo.com/odoo/odoo/pull/192657)

fw-bot (Issue Creator) on (2025-01-07 10:22:06 UTC): This PR targets saas-18.1 and is part of the forward-port chain. Further PRs will be created up to master.

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

fw-bot (Issue Creator) on (2025-01-07 11:14:58 UTC): @aab-odoo @polymorphe57 ci/runbot failed on this forward-port PR

"
2772456433,pull_request,closed,,[FW][FIX] web_editor: adjust selection on column deletion,"**Problem**:
When deleting columns in the editor, if the start and end points of the selection are inside the columns, the `range.extractContents` method extracts the content but leaves behind `div` elements for the first and last columns (or sometimes only one of them). This occurs because the columns are partially selected (content but not container).

**Solution**:
To ensure `range.extractContents` removes the columns completely, extend the selection to encompass the entire content of the `o_text_columns` element when the selection starts at the first leaf and ends at the last leaf within the columns.

**Steps to reproduce**:
1. Open the editor.
2. Create columns (any number).
3. Select all content (e.g., with `Ctrl+A`).
4. Press `Backspace` to delete the content.
5. Observe that the DOM still contains `o_text_columns` and `row` elements, even though the content appears deleted.

opw-4350486

---
I confirm I have signed the CLA and read the PR guidelines at www.odoo.com/submit-pr

Forward-Port-Of: odoo/odoo#192006
Forward-Port-Of: odoo/odoo#189978",fw-bot,2025-01-07 10:21:31+00:00,[],2025-01-21 16:57:16+00:00,2025-01-07 16:54:00+00:00,https://github.com/odoo/odoo/pull/192656,"[('OE', 'the report is linked to a support ticket (opw-...)'), ('forwardport', 'This PR was created by @fw-bot')]","[{'comment_id': 2574918719, 'issue_id': 2772456433, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/192656.png)](https://mergebot.odoo.com/odoo/odoo/pull/192656)', 'created_at': datetime.datetime(2025, 1, 7, 10, 22, 2, tzinfo=datetime.timezone.utc)}, {'comment_id': 2574918746, 'issue_id': 2772456433, 'author': 'fw-bot', 'body': 'This PR targets saas-18.1 and is part of the forward-port chain. Further PRs will be created up to master.\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 7, 10, 22, 3, tzinfo=datetime.timezone.utc)}, {'comment_id': 2574934933, 'issue_id': 2772456433, 'author': 'fw-bot', 'body': '@walidsahli @dmo-odoo ci/runbot failed on this forward-port PR', 'created_at': datetime.datetime(2025, 1, 7, 10, 30, 4, tzinfo=datetime.timezone.utc)}, {'comment_id': 2575426324, 'issue_id': 2772456433, 'author': 'walidsahli', 'body': '@robodoo r+', 'created_at': datetime.datetime(2025, 1, 7, 14, 28, 16, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-07 10:22:02 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/192656.png)](https://mergebot.odoo.com/odoo/odoo/pull/192656)

fw-bot (Issue Creator) on (2025-01-07 10:22:03 UTC): This PR targets saas-18.1 and is part of the forward-port chain. Further PRs will be created up to master.

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

fw-bot (Issue Creator) on (2025-01-07 10:30:04 UTC): @walidsahli @dmo-odoo ci/runbot failed on this forward-port PR

walidsahli on (2025-01-07 14:28:16 UTC): @robodoo r+

"
2772441807,pull_request,closed,,[IMP] web: clean warn_future,"Purpose:
- When a date was set in the future, an exclamation icon was displayed, indicating that the date is in the future.that is not very clear.

Specification:
- The exclamation icon has been removed. now, if a date is set in the future, it is displayed in red, with a tooltip on hover stating that the date is in the future.

Task-4365095

---
I confirm I have signed the CLA and read the PR guidelines at www.odoo.com/submit-pr
",omra-odoo,2025-01-07 10:15:05+00:00,[],2025-01-29 09:25:13+00:00,2025-01-15 09:13:51+00:00,https://github.com/odoo/odoo/pull/192655,"[('RD', 'research & development, internal work'), ('18.2', None)]","[{'comment_id': 2574903021, 'issue_id': 2772441807, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/192655.png)](https://mergebot.odoo.com/odoo/odoo/pull/192655)', 'created_at': datetime.datetime(2025, 1, 7, 10, 15, 8, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-07 10:15:08 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/192655.png)](https://mergebot.odoo.com/odoo/odoo/pull/192655)

"
2772433804,pull_request,closed,,[FW][FIX] core: fix header when converting to PDF/A-3,"**Issue:**
When converting a PDF file into a PDF/A compliant file, the result may generate the following error message when parsing it by a PDF/A-3 validator:
`The aforementioned EOL marker shall be immediately followed by a % (25h) character followed by at least four bytes, each of whose encoded byte values shall have a decimal value greater than 127 `

**Cause:**
A previous fix has moved the four bytes in a conditional operation, but the `%` character has been forgotten.

opw-4353108



---
I confirm I have signed the CLA and read the PR guidelines at www.odoo.com/submit-pr

Forward-Port-Of: odoo/odoo#191326",fw-bot,2025-01-07 10:11:23+00:00,[],2025-01-21 14:08:58+00:00,2025-01-07 14:06:11+00:00,https://github.com/odoo/odoo/pull/192654,"[('OE', 'the report is linked to a support ticket (opw-...)'), ('forwardport', 'This PR was created by @fw-bot')]","[{'comment_id': 2574894706, 'issue_id': 2772433804, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/192654.png)](https://mergebot.odoo.com/odoo/odoo/pull/192654)', 'created_at': datetime.datetime(2025, 1, 7, 10, 11, 24, tzinfo=datetime.timezone.utc)}, {'comment_id': 2574894735, 'issue_id': 2772433804, 'author': 'fw-bot', 'body': 'This PR targets saas-18.1 and is part of the forward-port chain. Further PRs will be created up to master.\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 7, 10, 11, 25, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-07 10:11:24 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/192654.png)](https://mergebot.odoo.com/odoo/odoo/pull/192654)

fw-bot (Issue Creator) on (2025-01-07 10:11:25 UTC): This PR targets saas-18.1 and is part of the forward-port chain. Further PRs will be created up to master.

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

"
2772426578,pull_request,closed,,[FIX] point_of_sale: correctly load products when searching,"Before this commit, the domain containing the limited category information was not used correctly, causing products from other categories to be loaded.

opw-4451297

---
I confirm I have signed the CLA and read the PR guidelines at www.odoo.com/submit-pr
",pedrambiria,2025-01-07 10:07:51+00:00,[],2025-02-06 11:46:46+00:00,2025-01-23 11:32:38+00:00,https://github.com/odoo/odoo/pull/192653,"[('OE', 'the report is linked to a support ticket (opw-...)')]","[{'comment_id': 2574887317, 'issue_id': 2772426578, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/192653.png)](https://mergebot.odoo.com/odoo/odoo/pull/192653)', 'created_at': datetime.datetime(2025, 1, 7, 10, 7, 54, tzinfo=datetime.timezone.utc)}, {'comment_id': 2575156070, 'issue_id': 2772426578, 'author': 'pedrambiria', 'body': ""@davidmonnom It's green 🟢"", 'created_at': datetime.datetime(2025, 1, 7, 12, 25, 50, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-07 10:07:54 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/192653.png)](https://mergebot.odoo.com/odoo/odoo/pull/192653)

pedrambiria (Issue Creator) on (2025-01-07 12:25:50 UTC): @davidmonnom It's green 🟢

"
2772418246,pull_request,open,,[IMP] hw_drivers: replace driver controllers by actions,"m

Enterprise PR: [https://github.com/odoo/enterprise/pull/76629](https://github.com/odoo/enterprise/pull/76629)
",loouis-t,2025-01-07 10:04:47+00:00,[],2025-01-13 16:35:15+00:00,,https://github.com/odoo/odoo/pull/192652,"[('RD', 'research & development, internal work')]","[{'comment_id': 2574878140, 'issue_id': 2772418246, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/192652.png)](https://mergebot.odoo.com/odoo/odoo/pull/192652)', 'created_at': datetime.datetime(2025, 1, 7, 10, 4, 51, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-07 10:04:51 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/192652.png)](https://mergebot.odoo.com/odoo/odoo/pull/192652)

"
2772408621,pull_request,closed,,[FIX] stock: reset `final_barcode` template variable,"**Problem**:
When `lot['lot_record'].product_id.valid_ean` is `False`, the `final_barcode` variable retains the value from the previous iteration. This leads to incorrect concatenation with the current `lot['name']` when `lot['lot_record'].product_id.tracking == 'lot'`.

**Solution**:
Reset the `final_barcode` variable at the start of each iteration.

**Steps to Reproduce**:
1. Go to Inventory > Settings and enable ""Print GS1 Barcodes for Lots & Serial Numbers"".
2. Navigate to Inventory > Products > Lots/Serial Numbers.
3. Select all records and click Print > Lot/Serial Number (ZPL).
4. Observe that some barcodes incorrectly include the previous barcode as a prefix.

opw-4437745

---
I confirm I have signed the CLA and read the PR guidelines at www.odoo.com/submit-pr
",walidsahli,2025-01-07 10:00:56+00:00,[],2025-01-28 10:13:56+00:00,2025-01-14 09:56:11+00:00,https://github.com/odoo/odoo/pull/192651,"[('OE', 'the report is linked to a support ticket (opw-...)')]","[{'comment_id': 2574867617, 'issue_id': 2772408621, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/192651.png)](https://mergebot.odoo.com/odoo/odoo/pull/192651)', 'created_at': datetime.datetime(2025, 1, 7, 10, 0, 59, tzinfo=datetime.timezone.utc)}, {'comment_id': 2577057080, 'issue_id': 2772408621, 'author': 'walidsahli', 'body': '> Makes sense to me- just one small thing though, I think you have the wrong ticket ID # at the end of the commit message haha\r\n\r\nThanks for review, updated ticket number :laughing:', 'created_at': datetime.datetime(2025, 1, 8, 8, 30, 59, tzinfo=datetime.timezone.utc)}, {'comment_id': 2589358023, 'issue_id': 2772408621, 'author': 'Whenrow', 'body': 'robodoo r+', 'created_at': datetime.datetime(2025, 1, 14, 8, 57, 44, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-07 10:00:59 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/192651.png)](https://mergebot.odoo.com/odoo/odoo/pull/192651)

walidsahli (Issue Creator) on (2025-01-08 08:30:59 UTC): Thanks for review, updated ticket number :laughing:

Whenrow on (2025-01-14 08:57:44 UTC): robodoo r+

"
2772385194,pull_request,closed,,[FIX] l10n_hu_edi: missing invoice number in new layouts,"Since the introduction of new layouts (e.g. folder), the
invoice number is not displayed in Hungary. This is because
the xpath is incorrect because the new layouts now have
two children instead of one.

The old ones only had one child node:

https://github.com/odoo/odoo/blob/4dad76c045f94861632929189baa96d69f662275/addons/web/views/report_templates.xml#L478-L506

Whereas the new ones have two:

https://github.com/odoo/odoo/blob/4dad76c045f94861632929189baa96d69f662275/addons/web/views/report_templates.xml#L535-L550

https://github.com/odoo/odoo/blob/4dad76c045f94861632929189baa96d69f662275/addons/web/views/report_templates.xml#L551-L579

So the problem with the current xpath is that it's replacing
both children, even though only the second one should be.
By 'replacing' the first one (by iffing it),
`layout_document_title` is not displayed anymore and therefore
no invoice number appears on the invoice.

To fix this, we use a different xpath on the `img` parent.
For consistency and maintainability reasons, we apply this
new xpath on all the layouts and not just the new ones.

opw-4397438",RicGR98,2025-01-07 09:49:39+00:00,[],2025-01-21 19:16:47+00:00,2025-01-07 19:05:18+00:00,https://github.com/odoo/odoo/pull/192650,"[('OE', 'the report is linked to a support ticket (opw-...)')]","[{'comment_id': 2574844876, 'issue_id': 2772385194, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/192650.png)](https://mergebot.odoo.com/odoo/odoo/pull/192650)', 'created_at': datetime.datetime(2025, 1, 7, 9, 49, 42, tzinfo=datetime.timezone.utc)}, {'comment_id': 2575298733, 'issue_id': 2772385194, 'author': 'RicGR98', 'body': ""@jco-odoo I've simplified the code to modify the xpath's instead of creating new ones, which makes the diff easier and cleaner than adding/removing a new template. I've updated the commit message accordingly. What do you think ?"", 'created_at': datetime.datetime(2025, 1, 7, 13, 28, 36, tzinfo=datetime.timezone.utc)}, {'comment_id': 2575383718, 'issue_id': 2772385194, 'author': 'jco-odoo', 'body': '@robodoo r+', 'created_at': datetime.datetime(2025, 1, 7, 14, 9, 59, tzinfo=datetime.timezone.utc)}, {'comment_id': 2575432289, 'issue_id': 2772385194, 'author': 'robodoo', 'body': ""@RicGR98 @jco-odoo 'ci/runbot' failed on this reviewed PR."", 'created_at': datetime.datetime(2025, 1, 7, 14, 29, 6, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-07 09:49:42 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/192650.png)](https://mergebot.odoo.com/odoo/odoo/pull/192650)

RicGR98 (Issue Creator) on (2025-01-07 13:28:36 UTC): @jco-odoo I've simplified the code to modify the xpath's instead of creating new ones, which makes the diff easier and cleaner than adding/removing a new template. I've updated the commit message accordingly. What do you think ?

jco-odoo on (2025-01-07 14:09:59 UTC): @robodoo r+

robodoo on (2025-01-07 14:29:06 UTC): @RicGR98 @jco-odoo 'ci/runbot' failed on this reviewed PR.

"
2772368941,pull_request,closed,,[FIX] account_peppol: fix demo mode,"With previous refactor, we simplified the demo mode by trying to mock the fewer methods possible.
In particular, we are aligning all calls to proxy to go through the `_call_peppol_proxy(...)`. This should simplify future refactoring work to get rid of account_edi_x models.

Some calls to make_request were still existing, since it's no longer mocked in demo mode, an error is raised. Replace all those calls to use the `_call_peppol_proxy` method.

task-no",clbr-odoo,2025-01-07 09:41:44+00:00,['clbr-odoo'],2025-01-21 17:46:50+00:00,2025-01-07 17:42:24+00:00,https://github.com/odoo/odoo/pull/192649,"[('RD', 'research & development, internal work')]","[{'comment_id': 2574828750, 'issue_id': 2772368941, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/192649.png)](https://mergebot.odoo.com/odoo/odoo/pull/192649)', 'created_at': datetime.datetime(2025, 1, 7, 9, 41, 47, tzinfo=datetime.timezone.utc)}, {'comment_id': 2575711223, 'issue_id': 2772368941, 'author': 'Xavier-Do', 'body': '@robodoo NOW!', 'created_at': datetime.datetime(2025, 1, 7, 16, 20, 52, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-07 09:41:47 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/192649.png)](https://mergebot.odoo.com/odoo/odoo/pull/192649)

Xavier-Do on (2025-01-07 16:20:52 UTC): @robodoo NOW!

"
2772367776,pull_request,closed,,[FIX] point_of_sale: prevent self synchronization on closing,"When entering the method `closingSessionNotification`, the method checks if `data.login_number === this.session.login_number` but `data.login_number` can be a string or a number so the comparison should be `data.login_number == odoo.login_number` to prevent self calling.

---
I confirm I have signed the CLA and read the PR guidelines at www.odoo.com/submit-pr
",adgu-odoo,2025-01-07 09:41:12+00:00,[],2025-01-21 12:32:43+00:00,2025-01-07 12:30:42+00:00,https://github.com/odoo/odoo/pull/192648,"[('RD', 'research & development, internal work')]","[{'comment_id': 2574827570, 'issue_id': 2772367776, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/192648.png)](https://mergebot.odoo.com/odoo/odoo/pull/192648)', 'created_at': datetime.datetime(2025, 1, 7, 9, 41, 14, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-07 09:41:14 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/192648.png)](https://mergebot.odoo.com/odoo/odoo/pull/192648)

"
2772367232,pull_request,closed,,[FW][FIX] base_vat: Fix ID vat check,"STEPS
-----------
1. Install Contact and 'base_vat'
2. Create a new Indonasian contact with VAT as ID1234567890123456
3. Save -> Connot save whilst the VAT is correct

PROBLEM
-----------
VAT could be 15 (old numbers) or 16 digits. If there are 15 digits long, the 10th digit is a luhn checksum. In some cases, the 15 digits can be transformed into a 16-digit by adding a 0 in front. In such case, we can verify the luhn checksum like for the 15 digits by removing the 0.

However, for newly created VAT 16-digits VAT number, there is no checksum.

SOLUTION
-----------
Allow 16-digit VAT that only contains numbers and does not start with a 0.

opw-4402514

---
I confirm I have signed the CLA and read the PR guidelines at www.odoo.com/submit-pr

Forward-Port-Of: odoo/odoo#192543",fw-bot,2025-01-07 09:40:57+00:00,[],2025-01-21 18:32:34+00:00,2025-01-07 18:22:55+00:00,https://github.com/odoo/odoo/pull/192647,"[('OE', 'the report is linked to a support ticket (opw-...)'), ('forwardport', 'This PR was created by @fw-bot')]","[{'comment_id': 2574826966, 'issue_id': 2772367232, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/192647.png)](https://mergebot.odoo.com/odoo/odoo/pull/192647)', 'created_at': datetime.datetime(2025, 1, 7, 9, 40, 58, tzinfo=datetime.timezone.utc)}, {'comment_id': 2574826995, 'issue_id': 2772367232, 'author': 'fw-bot', 'body': 'This PR targets saas-18.1 and is part of the forward-port chain. Further PRs will be created up to master.\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 7, 9, 40, 59, tzinfo=datetime.timezone.utc)}, {'comment_id': 2575764414, 'issue_id': 2772367232, 'author': 'fw-bot', 'body': ""@aboo-odoo @vin-odoo child PR odoo/odoo#192673 was modified / updated and has become a normal PR. This PR (and any of its parents) will need to be merged independently as approvals won't cross."", 'created_at': datetime.datetime(2025, 1, 7, 16, 42, 59, tzinfo=datetime.timezone.utc)}, {'comment_id': 2575766134, 'issue_id': 2772367232, 'author': 'aboo-odoo', 'body': '@robodoo r+', 'created_at': datetime.datetime(2025, 1, 7, 16, 43, 46, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-07 09:40:58 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/192647.png)](https://mergebot.odoo.com/odoo/odoo/pull/192647)

fw-bot (Issue Creator) on (2025-01-07 09:40:59 UTC): This PR targets saas-18.1 and is part of the forward-port chain. Further PRs will be created up to master.

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

fw-bot (Issue Creator) on (2025-01-07 16:42:59 UTC): @aboo-odoo @vin-odoo child PR odoo/odoo#192673 was modified / updated and has become a normal PR. This PR (and any of its parents) will need to be merged independently as approvals won't cross.

aboo-odoo on (2025-01-07 16:43:46 UTC): @robodoo r+

"
2772360986,pull_request,closed,,[FW][17.0] [FIX] fix dbname in shell command,"The  context variable is missing in current thread when using the shell command.

see d19478eb03d2

Description of the issue this PR addresses:
Use the `odoo shell -d dbname` command

```
Current behavior before PR:
Traceback (most recent call last):
  File ""/home/bfontaine/Bureau/odoo/17.0/odoo/modules/registry.py"", line 87, in __new__
    return cls.registries[db_name]
           ~~~~~~~~~~~~~~^^^^^^^^^
  File ""/home/bfontaine/Bureau/local/venv17/lib/python3.11/site-packages/decorator.py"", line 232, in fun
    return caller(func, *(extras + args), **kw)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File ""/home/bfontaine/Bureau/odoo/17.0/odoo/tools/func.py"", line 87, in locked
    return func(inst, *args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File ""/home/bfontaine/Bureau/odoo/17.0/odoo/tools/lru.py"", line 34, in __getitem__
    a = self.d[obj]
        ~~~~~~^^^^^
KeyError: 'db_test'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File ""/home/bfontaine/Bureau/odoo/17.0/odoo/modules/registry.py"", line 110, in new
    odoo.modules.load_modules(registry, force_demo, status, update_module)
  File ""/home/bfontaine/Bureau/odoo17/addons/phyto_base/loader.py"", line 13, in load_modules
    report = odoo.registry()._assertion_report
             ^^^^^^^^^^^^^^^
  File ""/home/bfontaine/Bureau/odoo/17.0/odoo/__init__.py"", line 105, in registry
    database_name = threading.current_thread().dbname
                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: '_MainThread' object has no attribute 'dbname'
Traceback (most recent call last):
  File ""/home/bfontaine/Bureau/odoo/17.0/odoo/modules/registry.py"", line 87, in __new__
    return cls.registries[db_name]
           ~~~~~~~~~~~~~~^^^^^^^^^
  File ""/home/bfontaine/Bureau/local/venv17/lib/python3.11/site-packages/decorator.py"", line 232, in fun
    return caller(func, *(extras + args), **kw)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File ""/home/bfontaine/Bureau/odoo/17.0/odoo/tools/func.py"", line 87, in locked
    return func(inst, *args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File ""/home/bfontaine/Bureau/odoo/17.0/odoo/tools/lru.py"", line 34, in __getitem__
    a = self.d[obj]
        ~~~~~~^^^^^
KeyError: 'db_test'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File ""/home/bfontaine/.local/bin/odoo17"", line 246, in <module>
    main()
  File ""/home/bfontaine/.local/bin/odoo17"", line 242, in main
    run()
  File ""/home/bfontaine/.local/bin/odoo17"", line 233, in run
    odoo.cli.main()
  File ""/home/bfontaine/Bureau/odoo/17.0/odoo/cli/command.py"", line 66, in main
    o.run(args)
  File ""/home/bfontaine/Bureau/odoo/17.0/odoo/cli/shell.py"", line 123, in run
    self.shell(config['db_name'])
  File ""/home/bfontaine/Bureau/odoo/17.0/odoo/cli/shell.py"", line 109, in shell
    registry = odoo.registry(dbname)
               ^^^^^^^^^^^^^^^^^^^^^
  File ""/home/bfontaine/Bureau/odoo/17.0/odoo/__init__.py"", line 106, in registry
    return modules.registry.Registry(database_name)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File ""/home/bfontaine/Bureau/odoo/17.0/odoo/modules/registry.py"", line 89, in __new__
    return cls.new(db_name)
           ^^^^^^^^^^^^^^^^
  File ""/home/bfontaine/Bureau/local/venv17/lib/python3.11/site-packages/decorator.py"", line 232, in fun
    return caller(func, *(extras + args), **kw)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File ""/home/bfontaine/Bureau/odoo/17.0/odoo/tools/func.py"", line 87, in locked
    return func(inst, *args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File ""/home/bfontaine/Bureau/odoo/17.0/odoo/modules/registry.py"", line 110, in new
    odoo.modules.load_modules(registry, force_demo, status, update_module)
  File ""/home/bfontaine/Bureau/odoo17/addons/phyto_base/loader.py"", line 13, in load_modules
    report = odoo.registry()._assertion_report
             ^^^^^^^^^^^^^^^
  File ""/home/bfontaine/Bureau/odoo/17.0/odoo/__init__.py"", line 105, in registry
    database_name = threading.current_thread().dbname
                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: '_MainThread' object has no attribute 'dbname'. Did you mean: '_name'?
```

Desired behavior after PR is merged:

shell command works



---
I confirm I have signed the CLA and read the PR guidelines at www.odoo.com/submit-pr

Forward-Port-Of: odoo/odoo#192113
Forward-Port-Of: odoo/odoo#192038",fw-bot,2025-01-07 09:37:54+00:00,[],2025-01-21 12:48:51+00:00,2025-01-07 12:41:58+00:00,https://github.com/odoo/odoo/pull/192646,"[('RD', 'research & development, internal work'), ('forwardport', 'This PR was created by @fw-bot'), ('18.2', None)]","[{'comment_id': 2574820099, 'issue_id': 2772360986, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/192646.png)](https://mergebot.odoo.com/odoo/odoo/pull/192646)', 'created_at': datetime.datetime(2025, 1, 7, 9, 37, 55, tzinfo=datetime.timezone.utc)}, {'comment_id': 2574820144, 'issue_id': 2772360986, 'author': 'fw-bot', 'body': '@benoit-phytocontrol @Julien00859 this PR targets master and is the last of the forward-port chain.\n\nTo merge the full chain, use\n> @robodoo r+\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 7, 9, 37, 55, tzinfo=datetime.timezone.utc)}, {'comment_id': 2574860032, 'issue_id': 2772360986, 'author': 'Julien00859', 'body': '@robodoo r+', 'created_at': datetime.datetime(2025, 1, 7, 9, 57, 22, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-07 09:37:55 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/192646.png)](https://mergebot.odoo.com/odoo/odoo/pull/192646)

fw-bot (Issue Creator) on (2025-01-07 09:37:55 UTC): @benoit-phytocontrol @Julien00859 this PR targets master and is the last of the forward-port chain.

To merge the full chain, use

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

Julien00859 on (2025-01-07 09:57:22 UTC): @robodoo r+

"
2772360177,pull_request,closed,,"[FW][IMP] mail, im_livechat: remove unpin conversation notification","task-4452840

Related to odoo/enterprise#76559

Forward-Port-Of: odoo/odoo#192540",fw-bot,2025-01-07 09:37:29+00:00,[],2025-01-07 13:02:43+00:00,2025-01-07 12:42:03+00:00,https://github.com/odoo/odoo/pull/192645,"[('RD', 'research & development, internal work'), ('forwardport', 'This PR was created by @fw-bot'), ('18.2', None)]","[{'comment_id': 2574818579, 'issue_id': 2772360177, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/192645.png)](https://mergebot.odoo.com/odoo/odoo/pull/192645)', 'created_at': datetime.datetime(2025, 1, 7, 9, 37, 32, tzinfo=datetime.timezone.utc)}, {'comment_id': 2574818674, 'issue_id': 2772360177, 'author': 'fw-bot', 'body': '@maki-odoo @alexkuhn this PR targets master and is the last of the forward-port chain.\n\nTo merge the full chain, use\n> @robodoo r+\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 7, 9, 37, 33, tzinfo=datetime.timezone.utc)}, {'comment_id': 2574822490, 'issue_id': 2772360177, 'author': 'maki-odoo', 'body': '@robodoo r+', 'created_at': datetime.datetime(2025, 1, 7, 9, 38, 51, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-07 09:37:32 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/192645.png)](https://mergebot.odoo.com/odoo/odoo/pull/192645)

fw-bot (Issue Creator) on (2025-01-07 09:37:33 UTC): @maki-odoo @alexkuhn this PR targets master and is the last of the forward-port chain.

To merge the full chain, use

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

maki-odoo on (2025-01-07 09:38:51 UTC): @robodoo r+

"
2772358650,pull_request,closed,,[FW][FIX] mail: composer + actions are aligned (same-width icon),"Composer has ""+"" icon on left with extra actions. Clicking on it shows the item with icon and label.

Before this commit, the icon width was inconsistent between items, so label were not aligned. This commit puts `.fa-fw` so all icons are fixed, thus labels are aligned.

Before
<img width=""382"" alt=""Screenshot 2025-01-06 at 16 58 16"" src=""https://github.com/user-attachments/assets/0ea5cac1-0f72-40e9-b20b-f4e4d61a4ac6"" />

After
<img width=""383"" alt=""Screenshot 2025-01-06 at 16 45 12"" src=""https://github.com/user-attachments/assets/7d078fcb-ce8f-465e-91c3-d72b537f5809"" />

Forward-Port-Of: odoo/odoo#192545",fw-bot,2025-01-07 09:36:55+00:00,[],2025-01-07 13:02:37+00:00,2025-01-07 12:41:47+00:00,https://github.com/odoo/odoo/pull/192644,"[('RD', 'research & development, internal work'), ('forwardport', 'This PR was created by @fw-bot'), ('18.2', None)]","[{'comment_id': 2574817765, 'issue_id': 2772358650, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/192644.png)](https://mergebot.odoo.com/odoo/odoo/pull/192644)', 'created_at': datetime.datetime(2025, 1, 7, 9, 37, 18, tzinfo=datetime.timezone.utc)}, {'comment_id': 2574817799, 'issue_id': 2772358650, 'author': 'fw-bot', 'body': '@alexkuhn @seb-odoo this PR targets master and is the last of the forward-port chain.\n\nTo merge the full chain, use\n> @robodoo r+\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 7, 9, 37, 19, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-07 09:37:18 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/192644.png)](https://mergebot.odoo.com/odoo/odoo/pull/192644)

fw-bot (Issue Creator) on (2025-01-07 09:37:19 UTC): @alexkuhn @seb-odoo this PR targets master and is the last of the forward-port chain.

To merge the full chain, use

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

"
2772358128,pull_request,closed,,"[FW][FIX] mail, *: remove usage of allow_public_upload","\* = test_discuss_full

External users should always be able to upload files.

task-4448809

Forward-Port-Of: odoo/odoo#192471",fw-bot,2025-01-07 09:36:40+00:00,[],2025-01-07 17:42:17+00:00,2025-01-07 16:05:23+00:00,https://github.com/odoo/odoo/pull/192643,"[('RD', 'research & development, internal work'), ('forwardport', 'This PR was created by @fw-bot'), ('18.2', None)]","[{'comment_id': 2574817651, 'issue_id': 2772358128, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/192643.png)](https://mergebot.odoo.com/odoo/odoo/pull/192643)', 'created_at': datetime.datetime(2025, 1, 7, 9, 37, 16, tzinfo=datetime.timezone.utc)}, {'comment_id': 2574817690, 'issue_id': 2772358128, 'author': 'fw-bot', 'body': '@seb-odoo @alexkuhn this PR targets master and is the last of the forward-port chain.\n\nTo merge the full chain, use\n> @robodoo r+\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 7, 9, 37, 17, tzinfo=datetime.timezone.utc)}, {'comment_id': 2574843990, 'issue_id': 2772358128, 'author': 'fw-bot', 'body': '@seb-odoo @alexkuhn this PR was modified / updated and has become a normal PR. It must be merged directly.', 'created_at': datetime.datetime(2025, 1, 7, 9, 49, 17, tzinfo=datetime.timezone.utc)}, {'comment_id': 2574901256, 'issue_id': 2772358128, 'author': 'robodoo', 'body': ""@seb-odoo @alexkuhn 'ci/upgrade_enterprise' failed on this reviewed PR."", 'created_at': datetime.datetime(2025, 1, 7, 10, 14, 25, tzinfo=datetime.timezone.utc)}, {'comment_id': 2575110130, 'issue_id': 2772358128, 'author': 'robodoo', 'body': '@seb-odoo @alexkuhn linked pull request(s) odoo/upgrade#7027 not ready. Linked PRs are not staged until all of them are ready.', 'created_at': datetime.datetime(2025, 1, 7, 12, 0, 21, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-07 09:37:16 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/192643.png)](https://mergebot.odoo.com/odoo/odoo/pull/192643)

fw-bot (Issue Creator) on (2025-01-07 09:37:17 UTC): @seb-odoo @alexkuhn this PR targets master and is the last of the forward-port chain.

To merge the full chain, use

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

fw-bot (Issue Creator) on (2025-01-07 09:49:17 UTC): @seb-odoo @alexkuhn this PR was modified / updated and has become a normal PR. It must be merged directly.

robodoo on (2025-01-07 10:14:25 UTC): @seb-odoo @alexkuhn 'ci/upgrade_enterprise' failed on this reviewed PR.

robodoo on (2025-01-07 12:00:21 UTC): @seb-odoo @alexkuhn linked pull request(s) odoo/upgrade#7027 not ready. Linked PRs are not staged until all of them are ready.

"
2772357693,pull_request,closed,,[FW][FIX] l10n_ec: reordering Payment Methods SRI,"Users cannot use the sequence widget to reorder payment methods

Steps to reproduce:
- Go to Invoicing / Configuration / Ecuadorian SRI / Payment Methods SRI
- Try to reorder the payment methods

Issue: payment methods cannot be reordered

opw-4446472

Forward-Port-Of: odoo/odoo#192388",fw-bot,2025-01-07 09:36:26+00:00,[],2025-01-21 12:48:45+00:00,2025-01-07 12:41:33+00:00,https://github.com/odoo/odoo/pull/192642,"[('OE', 'the report is linked to a support ticket (opw-...)'), ('forwardport', 'This PR was created by @fw-bot'), ('18.2', None)]","[{'comment_id': 2574817522, 'issue_id': 2772357693, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/192642.png)](https://mergebot.odoo.com/odoo/odoo/pull/192642)', 'created_at': datetime.datetime(2025, 1, 7, 9, 37, 15, tzinfo=datetime.timezone.utc)}, {'comment_id': 2574817569, 'issue_id': 2772357693, 'author': 'fw-bot', 'body': '@agr-odoo @clbr-odoo this PR targets master and is the last of the forward-port chain.\n\nTo merge the full chain, use\n> @robodoo r+\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 7, 9, 37, 15, tzinfo=datetime.timezone.utc)}, {'comment_id': 2574862306, 'issue_id': 2772357693, 'author': 'agr-odoo', 'body': '@robodoo r+', 'created_at': datetime.datetime(2025, 1, 7, 9, 58, 28, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-07 09:37:15 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/192642.png)](https://mergebot.odoo.com/odoo/odoo/pull/192642)

fw-bot (Issue Creator) on (2025-01-07 09:37:15 UTC): @agr-odoo @clbr-odoo this PR targets master and is the last of the forward-port chain.

To merge the full chain, use

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

agr-odoo on (2025-01-07 09:58:28 UTC): @robodoo r+

"
2772348405,pull_request,closed,,[FIX] stock: track returned and unreturned products from customer report,"**Steps to reproduce:**
In Inventory > Settings > Traceability, enable Lots & Serial Numbers
- Create a product P1 tracked by unique serial number
- Update on-hand quantities: 2 x P1
- Create a quotation with 2 units of P1
- Deliver products (assign the two serial numbers)
- Return only 1 product
- Go to the Customer view, click Lot/Serial Numbers, and remove all filters.

**Issue:**
When returning just one product from a delivery containing multiple products, all products in the picking appear as returned.

**Expected:**
Only the product that was actually returned should be marked as returned.

**Cause:**
The logic that sets `has_return` relies solely on the `return_id` field, incorrectly marking all items in the picking as returned if one item is returned.

opw-4417716

---
I confirm I have signed the CLA and read the PR guidelines at www.odoo.com/submit-pr
",barracudapps,2025-01-07 09:32:17+00:00,[],2025-01-30 13:08:06+00:00,2025-01-16 12:58:08+00:00,https://github.com/odoo/odoo/pull/192641,"[('OE', 'the report is linked to a support ticket (opw-...)')]","[{'comment_id': 2574804441, 'issue_id': 2772348405, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/192641.png)](https://mergebot.odoo.com/odoo/odoo/pull/192641)', 'created_at': datetime.datetime(2025, 1, 7, 9, 32, 20, tzinfo=datetime.timezone.utc)}, {'comment_id': 2587291100, 'issue_id': 2772348405, 'author': 'barracudapps', 'body': '@adwid \r\nThank you for your very complete review !\r\nI implemented the suggested changes and had to change the test by flushing changes to validate the changes', 'created_at': datetime.datetime(2025, 1, 13, 14, 42, 49, tzinfo=datetime.timezone.utc)}, {'comment_id': 2594934896, 'issue_id': 2772348405, 'author': 'adwid', 'body': 'robodoo r+', 'created_at': datetime.datetime(2025, 1, 16, 8, 59, 5, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-07 09:32:20 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/192641.png)](https://mergebot.odoo.com/odoo/odoo/pull/192641)

barracudapps (Issue Creator) on (2025-01-13 14:42:49 UTC): @adwid 
Thank you for your very complete review !
I implemented the suggested changes and had to change the test by flushing changes to validate the changes

adwid on (2025-01-16 08:59:05 UTC): robodoo r+

"
2772294840,pull_request,open,,[ADD] l10n_in_hr_work_entry_holidays: create work entries for sandwich leaves,"In this PR,
we addressed several issues related to the management of leave durations:

- A bug was fixed that incorrectly counted the duration of leave taken on non-working days, such as Saturdays and Sundays, which previously resulted in a duration of -2 days. This has now been resolved.

- When creating a leave request that overlaps with non-working days or public holidays, this commit ensures that non-working days are included in the leave calculation.

There are several scenarios to consider:

1) When creating leave that covers non-working days, a work entry will be generated for those days, starting from the next working day. The duration will be based on the average duration of the working schedule.

2) If leave is created that falls within a public holiday period, the work entry type for those public holidays will be updated to reflect the leave's work entry type.

3) If you create individual leaves around non-working days or public holidays, this will also fall under sandwich leave rules.
Accordingly, work entry will be generated.

Task-4430044

",yava-odoo,2025-01-07 09:08:06+00:00,[],2025-02-07 06:38:19+00:00,,https://github.com/odoo/odoo/pull/192640,"[('RD', 'research & development, internal work')]","[{'comment_id': 2574755267, 'issue_id': 2772294840, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/192640.png)](https://mergebot.odoo.com/odoo/odoo/pull/192640)', 'created_at': datetime.datetime(2025, 1, 7, 9, 8, 9, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-07 09:08:09 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/192640.png)](https://mergebot.odoo.com/odoo/odoo/pull/192640)

"
2772293995,pull_request,open,,[FIX] account: prevent error when downloading pdf of an invoice,"When the user downloads the pdf of a draft invoice,
a traceback will appear.

Steps to reproduce the error:
- Create a new invoice > Don't confirm it
- Go to list view of invoices
- Select that invoice > Download > PDF

Traceback:
```
File ""addons/account/controllers/download_docs.py"", line 52, in download_invoice_documents_filetype
    doc_data = invoice._get_invoice_legal_documents(filetype, allow_fallback=allow_fallback)
  File ""addons/account_edi_ubl_cii/models/account_move.py"", line 45, in _get_invoice_legal_documents
    return super()._get_invoice_legal_documents(filetype, allow_fallback=allow_fallback)
  File ""addons/account/models/account_move.py"", line 5712, in _get_invoice_legal_documents
    return self._get_invoice_pdf_proforma()
  File ""addons/account/models/account_move.py"", line 5686, in _get_invoice_pdf_proforma
    filename = self._get_invoice_proforma_pdf_report_filename()
  File ""addons/account/models/account_move.py"", line 5744, in _get_invoice_proforma_pdf_report_filename
    return f""{self.name.replace('/', '_')}_proforma.pdf""
AttributeError: 'bool' object has no attribute 'replace'
```

https://github.com/odoo/odoo/blob/36e4b6f93bf2123557947e910e1be651c5357319/addons/account/models/account_move.py#L5744
When the customer downloads the pdf a draft invoice, ``self.name`` will be False,
So it will lead to the above traceback.

sentry-6191644587

---
I confirm I have signed the CLA and read the PR guidelines at www.odoo.com/submit-pr
",reka-odoo,2025-01-07 09:07:48+00:00,[],2025-01-15 10:17:28+00:00,,https://github.com/odoo/odoo/pull/192639,"[('RD', 'research & development, internal work')]","[{'comment_id': 2574754709, 'issue_id': 2772293995, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/192639.png)](https://mergebot.odoo.com/odoo/odoo/pull/192639)', 'created_at': datetime.datetime(2025, 1, 7, 9, 7, 52, tzinfo=datetime.timezone.utc)}, {'comment_id': 2579949840, 'issue_id': 2772293995, 'author': 'reka-odoo', 'body': 'Hello @odoo/sentry_reviewers :wave: \r\nPlease review this PR. :slightly_smiling_face: \r\nThanks!', 'created_at': datetime.datetime(2025, 1, 9, 11, 44, 30, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-07 09:07:52 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/192639.png)](https://mergebot.odoo.com/odoo/odoo/pull/192639)

reka-odoo (Issue Creator) on (2025-01-09 11:44:30 UTC): Hello @odoo/sentry_reviewers :wave: 
Please review this PR. :slightly_smiling_face: 
Thanks!

"
2772269412,pull_request,closed,,[FW][FIX] core: fix header when converting to PDF/A-3,"**Issue:**
When converting a PDF file into a PDF/A compliant file, the result may generate the following error message when parsing it by a PDF/A-3 validator:
`The aforementioned EOL marker shall be immediately followed by a % (25h) character followed by at least four bytes, each of whose encoded byte values shall have a decimal value greater than 127 `

**Cause:**
A previous fix has moved the four bytes in a conditional operation, but the `%` character has been forgotten.

opw-4353108



---
I confirm I have signed the CLA and read the PR guidelines at www.odoo.com/submit-pr

Forward-Port-Of: odoo/odoo#191326",fw-bot,2025-01-07 08:59:38+00:00,[],2025-01-21 19:16:54+00:00,2025-01-07 19:05:23+00:00,https://github.com/odoo/odoo/pull/192638,"[('OE', 'the report is linked to a support ticket (opw-...)'), ('forwardport', 'This PR was created by @fw-bot')]","[{'comment_id': 2574737603, 'issue_id': 2772269412, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/192638.png)](https://mergebot.odoo.com/odoo/odoo/pull/192638)', 'created_at': datetime.datetime(2025, 1, 7, 8, 59, 39, tzinfo=datetime.timezone.utc)}, {'comment_id': 2574737621, 'issue_id': 2772269412, 'author': 'fw-bot', 'body': 'This PR targets 18.0 and is part of the forward-port chain. Further PRs will be created up to master.\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 7, 8, 59, 40, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-07 08:59:39 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/192638.png)](https://mergebot.odoo.com/odoo/odoo/pull/192638)

fw-bot (Issue Creator) on (2025-01-07 08:59:40 UTC): This PR targets 18.0 and is part of the forward-port chain. Further PRs will be created up to master.

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

"
2772267463,pull_request,closed,,[FIX] html_editor: icon search with uppercase input,"Description of the issue this PR addresses:

Current behavior before PR:

Searching for icon names in uppercase was not working.

Desired behavior after PR is merged:

Icon search now works correctly when names are entered in uppercase.

task-4452824

---
I confirm I have signed the CLA and read the PR guidelines at www.odoo.com/submit-pr
",deso-odoo,2025-01-07 08:58:45+00:00,[],2025-01-22 15:14:29+00:00,2025-01-08 14:58:05+00:00,https://github.com/odoo/odoo/pull/192637,"[('RD', 'research & development, internal work')]","[{'comment_id': 2574736097, 'issue_id': 2772267463, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/192637.png)](https://mergebot.odoo.com/odoo/odoo/pull/192637)', 'created_at': datetime.datetime(2025, 1, 7, 8, 58, 48, tzinfo=datetime.timezone.utc)}, {'comment_id': 2577268229, 'issue_id': 2772267463, 'author': 'dmo-odoo', 'body': '@robodoo r+', 'created_at': datetime.datetime(2025, 1, 8, 10, 1, 30, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-07 08:58:48 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/192637.png)](https://mergebot.odoo.com/odoo/odoo/pull/192637)

dmo-odoo on (2025-01-08 10:01:30 UTC): @robodoo r+

"
2772264246,pull_request,closed,,[FIX] l10n_cz taxable_supply_date logic,"Current behavior before PR:
Actual change in Odoo 18.0 breaks logic for documents without taxable supply date on form.
This cause issues with issuing documents to the past for example bank or cash. If you are trying issue document to past it's overwritten to actual date.


Desired behavior after PR is merged:
I can create bank or cash transaction in the past.

Description of the issue/feature this PR addresses:
According to the Czech VAT Act (Act No. 235/2004 Coll., on VAT), the difference between the date of issuance of an invoice (date) and the date of taxable supply (taxable_supply_date) is regulated as follows:

Taxable Supply Date (taxable_supply_date):

This is the day on which the taxable supply (delivery of goods or provision of services) actually took place, unless specified otherwise.
Date of Issuance of the Invoice (date):

The invoice must be issued no later than 15 calendar days from the taxable_supply_date.
This means that the gap between the taxable_supply_date and the date cannot exceed 15 calendar days.
Example:
Taxable_supply_date: January 1, 2025
Date: Must be no later than January 16, 2025


---
I confirm I have signed the CLA and read the PR guidelines at www.odoo.com/submit-pr
",stenlyk,2025-01-07 08:57:15+00:00,[],2025-01-13 14:42:17+00:00,2025-01-13 14:42:16+00:00,https://github.com/odoo/odoo/pull/192636,"[('Localization', 'about adapting the content to a specify country (usually chart of accounts)')]","[{'comment_id': 2574732399, 'issue_id': 2772264246, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/192636.png)](https://mergebot.odoo.com/odoo/odoo/pull/192636)', 'created_at': datetime.datetime(2025, 1, 7, 8, 57, 18, tzinfo=datetime.timezone.utc)}, {'comment_id': 2587289758, 'issue_id': 2772264246, 'author': 'SaddemAmine', 'body': ""Hey there stenlyk, hope you're having a great start of the year!\r\n\r\nAfter taking a look at this and consulting with our POs we concluded that this PR is unfortunately irrelevant as we're removing the field altogether.\r\n\r\n[Here](https://github.com/odoo/odoo/pull/191189) you can note the new field we're taking into account instead of `taxable_supply_date` for the CZ localization. If the behavior you're trying to change persists after the aforementioned PR is merged we'd be open to taking a look at another fix then.\r\n\r\nThank you!"", 'created_at': datetime.datetime(2025, 1, 13, 14, 42, 16, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-07 08:57:18 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/192636.png)](https://mergebot.odoo.com/odoo/odoo/pull/192636)

SaddemAmine on (2025-01-13 14:42:16 UTC): Hey there stenlyk, hope you're having a great start of the year!

After taking a look at this and consulting with our POs we concluded that this PR is unfortunately irrelevant as we're removing the field altogether.

[Here](https://github.com/odoo/odoo/pull/191189) you can note the new field we're taking into account instead of `taxable_supply_date` for the CZ localization. If the behavior you're trying to change persists after the aforementioned PR is merged we'd be open to taking a look at another fix then.

Thank you!

"
2772229893,pull_request,closed,,[FIX] html_editor: fix traceback in html external link preview,"Currently, a traceback occurs when the user tries to preview an external link.

Steps to produce:

1) Create an email template and add any text in content.
2) Convert text to a URL with a random URL like 'test'
3) error will occur in log

Error:- 
```
TypeError: 'bool' object is not subscriptable
  File ""odoo/http.py"", line 2366, in __call__
    response = request._serve_db()
  File ""odoo/http.py"", line 1894, in _serve_db
    return self._transactioning(
  File ""odoo/http.py"", line 1957, in _transactioning
    return service_model.retrying(func, env=self.env)
  File ""odoo/service/model.py"", line 137, in retrying
    result = func()
  File ""odoo/http.py"", line 1924, in _serve_ir_http
    response = self.dispatcher.dispatch(rule.endpoint, args)
  File ""odoo/http.py"", line 2171, in dispatch
    result = self.request.registry['ir.http']._dispatch(endpoint)
  File ""odoo/addons/base/models/ir_http.py"", line 329, in _dispatch
    result = endpoint(**request.params)
  File ""odoo/http.py"", line 727, in route_wrapper
    result = endpoint(self, *args, **params_ok)
  File ""addons/html_editor/controllers/main.py"", line 564, in link_preview_metadata
    if link_preview_data['og_description']:
```

This error occurs in the following lines when the link_preview_data value is False, leading to the traceback:

https://github.com/odoo/odoo/blob/36e4b6f93bf2123557947e910e1be651c5357319/addons/html_editor/controllers/main.py#L563-L564

The get_link_preview_from_url method may return False from multiple places.

https://github.com/odoo/odoo/blob/36e4b6f93bf2123557947e910e1be651c5357319/addons/mail/tools/link_preview.py#L30-L35

Therefore, an additional check is needed to verify the value of `link_preview_data` before accessing its value.

Adding this extra check will make the code more robust and prevent the 
unnecessary tracebacks from occurring.

sentry-6199384889
",alsh-odoo,2025-01-07 08:42:57+00:00,[],2025-01-22 15:14:34+00:00,2025-01-08 14:58:08+00:00,https://github.com/odoo/odoo/pull/192635,"[('RD', 'research & development, internal work')]","[{'comment_id': 2574697412, 'issue_id': 2772229893, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/192635.png)](https://mergebot.odoo.com/odoo/odoo/pull/192635)', 'created_at': datetime.datetime(2025, 1, 7, 8, 42, 59, tzinfo=datetime.timezone.utc)}, {'comment_id': 2574740410, 'issue_id': 2772229893, 'author': 'alsh-odoo', 'body': 'Ola @odoo/sentry_reviewers :wave: \r\n\r\nPlease review this PR\r\n\r\nThank You :slightly_smiling_face:', 'created_at': datetime.datetime(2025, 1, 7, 9, 1, 2, tzinfo=datetime.timezone.utc)}, {'comment_id': 2574929677, 'issue_id': 2772229893, 'author': 'maan-odoo', 'body': ""Steps to produce:\r\n\r\n- Create an email template and add any text in content.\r\n- Convert text to a URL with a random URL like 'test'\r\n- error will occur in log"", 'created_at': datetime.datetime(2025, 1, 7, 10, 27, 19, tzinfo=datetime.timezone.utc)}, {'comment_id': 2577236726, 'issue_id': 2772229893, 'author': 'dmo-odoo', 'body': ""Hello, thanks for this fix!\r\n\r\nCould you add the steps to reproduce to the commit message please?\r\n\r\nNotify me when it's done and I will r+ the PR."", 'created_at': datetime.datetime(2025, 1, 8, 9, 46, 36, tzinfo=datetime.timezone.utc)}, {'comment_id': 2577538207, 'issue_id': 2772229893, 'author': 'alsh-odoo', 'body': 'Ola @dmo-odoo :wave: \r\n\r\nCan you please look at this one?\r\n\r\nThank you :slightly_smiling_face:', 'created_at': datetime.datetime(2025, 1, 8, 12, 19, 36, tzinfo=datetime.timezone.utc)}, {'comment_id': 2577544990, 'issue_id': 2772229893, 'author': 'dmo-odoo', 'body': '@alsh-odoo Thank you!\r\n@robodoo r+', 'created_at': datetime.datetime(2025, 1, 8, 12, 23, 9, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-07 08:42:59 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/192635.png)](https://mergebot.odoo.com/odoo/odoo/pull/192635)

alsh-odoo (Issue Creator) on (2025-01-07 09:01:02 UTC): Ola @odoo/sentry_reviewers :wave: 

Please review this PR

Thank You :slightly_smiling_face:

maan-odoo on (2025-01-07 10:27:19 UTC): Steps to produce:

- Create an email template and add any text in content.
- Convert text to a URL with a random URL like 'test'
- error will occur in log

dmo-odoo on (2025-01-08 09:46:36 UTC): Hello, thanks for this fix!

Could you add the steps to reproduce to the commit message please?

Notify me when it's done and I will r+ the PR.

alsh-odoo (Issue Creator) on (2025-01-08 12:19:36 UTC): Ola @dmo-odoo :wave: 

Can you please look at this one?

Thank you :slightly_smiling_face:

dmo-odoo on (2025-01-08 12:23:09 UTC): @alsh-odoo Thank you!
@robodoo r+

"
2772229168,pull_request,closed,,[FIX] hw_drivers: landscape report printing on windows,"On Virtual IoT Boxes, a landscape report was still printed in portrait.
We added the argument required to handle landscape printing.

opw-4081884",loouis-t,2025-01-07 08:42:36+00:00,[],2025-01-21 12:25:31+00:00,2025-01-07 12:05:26+00:00,https://github.com/odoo/odoo/pull/192634,"[('OE', 'the report is linked to a support ticket (opw-...)')]","[{'comment_id': 2574696845, 'issue_id': 2772229168, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/192634.png)](https://mergebot.odoo.com/odoo/odoo/pull/192634)', 'created_at': datetime.datetime(2025, 1, 7, 8, 42, 39, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-07 08:42:39 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/192634.png)](https://mergebot.odoo.com/odoo/odoo/pull/192634)

"
2772222596,pull_request,closed,,[FW][FIX] base_iban: ensure Oman iban mapping,"Steps to reproduce:

 - Create an employe with an oman bank account number
 - Create a payslip for this employe
 - Create a payment report

Issue:

when trying to create a payment report in the payroll app for an employee with an oman bank account number, when creating the payment report an error :""Invalid IBAN for the following employees: .."" will raise.

Fix:

This issue can be fixed by adding the 'om' in the variable _map_iban_template. This ensure that the mapping will be done correctly and the error will not be raised anymore.

opw-4312502

---
I confirm I have signed the CLA and read the PR guidelines at www.odoo.com/submit-pr

Forward-Port-Of: odoo/odoo#187757",fw-bot,2025-01-07 08:39:07+00:00,[],2025-01-21 17:40:19+00:00,2025-01-07 17:38:58+00:00,https://github.com/odoo/odoo/pull/192633,"[('OE', 'the report is linked to a support ticket (opw-...)'), ('forwardport', 'This PR was created by @fw-bot'), ('18.2', None)]","[{'comment_id': 2574690810, 'issue_id': 2772222596, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/192633.png)](https://mergebot.odoo.com/odoo/odoo/pull/192633)', 'created_at': datetime.datetime(2025, 1, 7, 8, 39, 8, tzinfo=datetime.timezone.utc)}, {'comment_id': 2574690841, 'issue_id': 2772222596, 'author': 'fw-bot', 'body': '@jaeschwa @william-andre this PR targets master and is the last of the forward-port chain containing:\n* odoo/odoo#192583\n\nTo merge the full chain, use\n> @robodoo r+\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 7, 8, 39, 8, tzinfo=datetime.timezone.utc)}, {'comment_id': 2575137554, 'issue_id': 2772222596, 'author': 'william-andre', 'body': '@robodoo r+', 'created_at': datetime.datetime(2025, 1, 7, 12, 15, 33, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-07 08:39:08 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/192633.png)](https://mergebot.odoo.com/odoo/odoo/pull/192633)

fw-bot (Issue Creator) on (2025-01-07 08:39:08 UTC): @jaeschwa @william-andre this PR targets master and is the last of the forward-port chain containing:
* odoo/odoo#192583

To merge the full chain, use

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

william-andre on (2025-01-07 12:15:33 UTC): @robodoo r+

"
2772213040,pull_request,closed,,[FIX] base: fix access error to currencies when in child company,"Steps to reproduce (db with Accounting installed):
- create a child company
- give a user (e.g. Marc Demo) access to the child company, set
their ""Accounting"" rights to ""Accountant"" and ""Administration"" to None.
- log as this user and select only the child company in the company
selector.
- try to access ""Accounting/Configuration/Accounting/Currencies""
-> Access Error

It is happening as in the `res.currency` model, several methods try to
access the root company, but there's only the child company in
`allowed_company_ids` from the context.

The fix here is to:
1) When accessing the root company in order the get its currency, just
access the currency of the child company, as it is the same.
2) Use sudo when accessing other fields from the root company.

opw-4352595",Arnaud-Sibille,2025-01-07 08:34:27+00:00,[],2025-01-22 18:29:04+00:00,2025-01-08 18:07:46+00:00,https://github.com/odoo/odoo/pull/192632,"[('OE', 'the report is linked to a support ticket (opw-...)')]","[{'comment_id': 2574682324, 'issue_id': 2772213040, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/192632.png)](https://mergebot.odoo.com/odoo/odoo/pull/192632)', 'created_at': datetime.datetime(2025, 1, 7, 8, 34, 30, tzinfo=datetime.timezone.utc)}, {'comment_id': 2574685338, 'issue_id': 2772213040, 'author': 'Arnaud-Sibille', 'body': 'Hello @william-andre \r\n\r\nNot sure about this one, is there a way for a child company to have a different currency than the root?', 'created_at': datetime.datetime(2025, 1, 7, 8, 36, 8, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-07 08:34:30 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/192632.png)](https://mergebot.odoo.com/odoo/odoo/pull/192632)

Arnaud-Sibille (Issue Creator) on (2025-01-07 08:36:08 UTC): Hello @william-andre 

Not sure about this one, is there a way for a child company to have a different currency than the root?

"
2772207423,pull_request,closed,,[FW][FIX] base_vat: Fix ID vat check,"STEPS
-----------
1. Install Contact and 'base_vat'
2. Create a new Indonasian contact with VAT as ID1234567890123456
3. Save -> Connot save whilst the VAT is correct

PROBLEM
-----------
VAT could be 15 (old numbers) or 16 digits. If there are 15 digits long, the 10th digit is a luhn checksum. In some cases, the 15 digits can be transformed into a 16-digit by adding a 0 in front. In such case, we can verify the luhn checksum like for the 15 digits by removing the 0.

However, for newly created VAT 16-digits VAT number, there is no checksum.

SOLUTION
-----------
Allow 16-digit VAT that only contains numbers and does not start with a 0.

opw-4402514

---
I confirm I have signed the CLA and read the PR guidelines at www.odoo.com/submit-pr

Forward-Port-Of: odoo/odoo#192543",fw-bot,2025-01-07 08:31:15+00:00,[],2025-01-21 20:37:03+00:00,2025-01-07 20:30:23+00:00,https://github.com/odoo/odoo/pull/192631,"[('OE', 'the report is linked to a support ticket (opw-...)'), ('forwardport', 'This PR was created by @fw-bot')]","[{'comment_id': 2574676700, 'issue_id': 2772207423, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/192631.png)](https://mergebot.odoo.com/odoo/odoo/pull/192631)', 'created_at': datetime.datetime(2025, 1, 7, 8, 31, 16, tzinfo=datetime.timezone.utc)}, {'comment_id': 2574676719, 'issue_id': 2772207423, 'author': 'fw-bot', 'body': 'This PR targets 18.0 and is part of the forward-port chain. Further PRs will be created up to master.\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 7, 8, 31, 17, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-07 08:31:16 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/192631.png)](https://mergebot.odoo.com/odoo/odoo/pull/192631)

fw-bot (Issue Creator) on (2025-01-07 08:31:17 UTC): This PR targets 18.0 and is part of the forward-port chain. Further PRs will be created up to master.

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

"
2772179086,pull_request,closed,,"[FW][IMP] mail, web, *: `useService()` with auto-`useState()`","Before this commit, when a component uses service ""mail.store"", it has to wrap in a `useState()` to make sure any change to store is observed. This is the behaviour that essentially all `useService(""mail.store"")` want. If they omit it, it can fail to re-render store changed, which is painful to debug.

This commit improves by automatically wrapping `useState()` on services that are stateful. Stateful services return a reactive. Using stateful services becomes the same as non-stateful one: just put `useService(serviceName)`.

https://github.com/odoo/enterprise/pull/76058

Forward-Port-Of: odoo/odoo#191511",fw-bot,2025-01-07 08:15:45+00:00,[],2025-01-13 10:10:24+00:00,2025-01-13 03:00:46+00:00,https://github.com/odoo/odoo/pull/192630,"[('RD', 'research & development, internal work'), ('forwardport', 'This PR was created by @fw-bot'), ('conflict', 'There was an error while creating this forward-port PR'), ('18.2', None)]","[{'comment_id': 2574646982, 'issue_id': 2772179086, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/192630.png)](https://mergebot.odoo.com/odoo/odoo/pull/192630)', 'created_at': datetime.datetime(2025, 1, 7, 8, 15, 48, tzinfo=datetime.timezone.utc)}, {'comment_id': 2574647029, 'issue_id': 2772179086, 'author': 'fw-bot', 'body': '@alexkuhn @seb-odoo cherrypicking of pull request odoo/odoo#191511 failed.\n\nstdout:\n```\nAuto-merging addons/mail/static/src/core/common/composer.js\nAuto-merging addons/point_of_sale/static/src/app/components/navbar/cashier_name/cashier_name.js\nAuto-merging addons/point_of_sale/static/src/app/components/navbar/navbar.js\nCONFLICT (content): Merge conflict in addons/point_of_sale/static/src/app/components/navbar/navbar.js\nAuto-merging addons/point_of_sale/static/src/app/components/popups/closing_popup/closing_popup.js\nAuto-merging addons/point_of_sale/static/src/app/screens/partner_list/partner_list.js\nAuto-merging addons/point_of_sale/static/src/app/screens/product_screen/control_buttons/control_buttons.js\nAuto-merging addons/point_of_sale/static/src/app/screens/product_screen/product_screen.js\nAuto-merging addons/point_of_sale/static/src/app/screens/ticket_screen/search_bar/search_bar.js\nAuto-merging addons/point_of_sale/static/src/app/screens/ticket_screen/ticket_screen.js\nAuto-merging addons/point_of_sale/static/src/app/services/pos_store.js\nAuto-merging addons/pos_restaurant/static/src/app/components/numpad_dropdown/numpad_dropdown.js\nAuto-merging addons/pos_restaurant/static/src/app/screens/split_bill_screen/split_bill_screen.js\nAuto-merging addons/pos_self_order/static/src/app/services/self_order_service.js\n\n```\n\nEither perform the forward-port manually (and push to this branch, proceeding as usual) or close this PR (maybe?).\n\nIn the former case, you may want to edit this PR message as well.\n\n:warning: after resolving this conflict, you will need to merge it via @robodoo.\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 7, 8, 15, 49, tzinfo=datetime.timezone.utc)}, {'comment_id': 2583083340, 'issue_id': 2772179086, 'author': 'alexkuhn', 'body': '@robodoo r+', 'created_at': datetime.datetime(2025, 1, 10, 16, 5, 31, tzinfo=datetime.timezone.utc)}, {'comment_id': 2583096549, 'issue_id': 2772179086, 'author': 'robodoo', 'body': ""@alexkuhn @seb-odoo 'ci/security' failed on this reviewed PR."", 'created_at': datetime.datetime(2025, 1, 10, 16, 8, 17, tzinfo=datetime.timezone.utc)}, {'comment_id': 2583343252, 'issue_id': 2772179086, 'author': 'alexkuhn', 'body': '@robodoo override=ci/security\r\nmarkup of escaped translation + static html\r\nhttps://github.com/odoo/odoo/pull/191511#issuecomment-2572951774', 'created_at': datetime.datetime(2025, 1, 10, 17, 45, 20, tzinfo=datetime.timezone.utc)}, {'comment_id': 2584040259, 'issue_id': 2772179086, 'author': 'robodoo', 'body': '@alexkuhn @seb-odoo unable to stage: merge conflict', 'created_at': datetime.datetime(2025, 1, 10, 20, 31, 16, tzinfo=datetime.timezone.utc)}, {'comment_id': 2585000429, 'issue_id': 2772179086, 'author': 'fw-bot', 'body': '@alexkuhn @seb-odoo this forward port of odoo/odoo#191511 is awaiting action (not merged or closed).', 'created_at': datetime.datetime(2025, 1, 11, 2, 1, 26, tzinfo=datetime.timezone.utc)}, {'comment_id': 2585541874, 'issue_id': 2772179086, 'author': 'fw-bot', 'body': '@alexkuhn @seb-odoo this forward port of odoo/odoo#191511 is awaiting action (not merged or closed).', 'created_at': datetime.datetime(2025, 1, 12, 2, 1, 53, tzinfo=datetime.timezone.utc)}, {'comment_id': 2585965814, 'issue_id': 2772179086, 'author': 'alexkuhn', 'body': '@robodoo r+', 'created_at': datetime.datetime(2025, 1, 12, 23, 37, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-07 08:15:48 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/192630.png)](https://mergebot.odoo.com/odoo/odoo/pull/192630)

fw-bot (Issue Creator) on (2025-01-07 08:15:49 UTC): @alexkuhn @seb-odoo cherrypicking of pull request odoo/odoo#191511 failed.

stdout:
```
Auto-merging addons/mail/static/src/core/common/composer.js
Auto-merging addons/point_of_sale/static/src/app/components/navbar/cashier_name/cashier_name.js
Auto-merging addons/point_of_sale/static/src/app/components/navbar/navbar.js
CONFLICT (content): Merge conflict in addons/point_of_sale/static/src/app/components/navbar/navbar.js
Auto-merging addons/point_of_sale/static/src/app/components/popups/closing_popup/closing_popup.js
Auto-merging addons/point_of_sale/static/src/app/screens/partner_list/partner_list.js
Auto-merging addons/point_of_sale/static/src/app/screens/product_screen/control_buttons/control_buttons.js
Auto-merging addons/point_of_sale/static/src/app/screens/product_screen/product_screen.js
Auto-merging addons/point_of_sale/static/src/app/screens/ticket_screen/search_bar/search_bar.js
Auto-merging addons/point_of_sale/static/src/app/screens/ticket_screen/ticket_screen.js
Auto-merging addons/point_of_sale/static/src/app/services/pos_store.js
Auto-merging addons/pos_restaurant/static/src/app/components/numpad_dropdown/numpad_dropdown.js
Auto-merging addons/pos_restaurant/static/src/app/screens/split_bill_screen/split_bill_screen.js
Auto-merging addons/pos_self_order/static/src/app/services/self_order_service.js

```

Either perform the forward-port manually (and push to this branch, proceeding as usual) or close this PR (maybe?).

In the former case, you may want to edit this PR message as well.

:warning: after resolving this conflict, you will need to merge it via @robodoo.

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

alexkuhn on (2025-01-10 16:05:31 UTC): @robodoo r+

robodoo on (2025-01-10 16:08:17 UTC): @alexkuhn @seb-odoo 'ci/security' failed on this reviewed PR.

alexkuhn on (2025-01-10 17:45:20 UTC): @robodoo override=ci/security
markup of escaped translation + static html
https://github.com/odoo/odoo/pull/191511#issuecomment-2572951774

robodoo on (2025-01-10 20:31:16 UTC): @alexkuhn @seb-odoo unable to stage: merge conflict

fw-bot (Issue Creator) on (2025-01-11 02:01:26 UTC): @alexkuhn @seb-odoo this forward port of odoo/odoo#191511 is awaiting action (not merged or closed).

fw-bot (Issue Creator) on (2025-01-12 02:01:53 UTC): @alexkuhn @seb-odoo this forward port of odoo/odoo#191511 is awaiting action (not merged or closed).

alexkuhn on (2025-01-12 23:37:00 UTC): @robodoo r+

"
2772169331,pull_request,closed,,[FIX] product_margin: useless write during _read_group,"When we aggregate one of the field of ""product.product"" introduced by 'product_margin' module, it will generate a SQL update on all records read. It is because we call the compute method manually without protecting computed fields, which will lead to call BaseModel.write() that update write_date/write_uid.

Fix it by calling `compute_value` of one of the field.





### Notes

- Should we backport it in 17.0 but then we need to backport https://github.com/odoo/odoo/pull/155585 too ? Also for the 16.0 ?
- For master: remove the return of `_compute_product_margin_fields_values`, people shouldn't call that manually too avoid the issue mention in the commit message.",ryv-odoo,2025-01-07 08:11:57+00:00,[],2025-01-21 20:37:04+00:00,2025-01-07 20:30:24+00:00,https://github.com/odoo/odoo/pull/192629,"[('RD', 'research & development, internal work')]","[{'comment_id': 2574635891, 'issue_id': 2772169331, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/192629.png)](https://mergebot.odoo.com/odoo/odoo/pull/192629)', 'created_at': datetime.datetime(2025, 1, 7, 8, 11, 59, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-07 08:11:59 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/192629.png)](https://mergebot.odoo.com/odoo/odoo/pull/192629)

"
2772149910,pull_request,closed,,[FW][FIX] pos_self_order: language select not working,"Steps to reproduce:
- Configure a kiosk to have multiple languages
- Observe that the language can be changed in the kiosk UI as expected
- Install the website module, and configure the website's languages to not include one of the kiosk languages
  - For example, kiosk has EN and FR, website just has EN
- Observe that the language can no longer be changed in the kiosk

opw-4403828

---
I confirm I have signed the CLA and read the PR guidelines at www.odoo.com/submit-pr

Forward-Port-Of: odoo/odoo#191817
Forward-Port-Of: odoo/odoo#191137",fw-bot,2025-01-07 08:02:39+00:00,[],2025-01-21 17:40:19+00:00,2025-01-07 17:39:03+00:00,https://github.com/odoo/odoo/pull/192628,"[('OE', 'the report is linked to a support ticket (opw-...)'), ('forwardport', 'This PR was created by @fw-bot'), ('18.2', None)]","[{'comment_id': 2574619614, 'issue_id': 2772149910, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/192628.png)](https://mergebot.odoo.com/odoo/odoo/pull/192628)', 'created_at': datetime.datetime(2025, 1, 7, 8, 2, 40, tzinfo=datetime.timezone.utc)}, {'comment_id': 2574619632, 'issue_id': 2772149910, 'author': 'fw-bot', 'body': '@maxthewhale @adgu-odoo this PR targets master and is the last of the forward-port chain containing:\n* odoo/odoo#192537\n* odoo/odoo#192508\n* odoo/odoo#192488\n\nTo merge the full chain, use\n> @robodoo r+\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 7, 8, 2, 41, tzinfo=datetime.timezone.utc)}, {'comment_id': 2574718641, 'issue_id': 2772149910, 'author': 'fw-bot', 'body': '@maxthewhale @adgu-odoo ci/runbot failed on this forward-port PR', 'created_at': datetime.datetime(2025, 1, 7, 8, 51, 26, tzinfo=datetime.timezone.utc)}, {'comment_id': 2575171529, 'issue_id': 2772149910, 'author': 'MaxTheWhale', 'body': '@robodoo r+', 'created_at': datetime.datetime(2025, 1, 7, 12, 34, 15, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-07 08:02:40 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/192628.png)](https://mergebot.odoo.com/odoo/odoo/pull/192628)

fw-bot (Issue Creator) on (2025-01-07 08:02:41 UTC): @maxthewhale @adgu-odoo this PR targets master and is the last of the forward-port chain containing:
* odoo/odoo#192537
* odoo/odoo#192508
* odoo/odoo#192488

To merge the full chain, use

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

fw-bot (Issue Creator) on (2025-01-07 08:51:26 UTC): @maxthewhale @adgu-odoo ci/runbot failed on this forward-port PR

MaxTheWhale on (2025-01-07 12:34:15 UTC): @robodoo r+

"
2772128143,pull_request,open,,[IMP] survey: remove invalid key word,"before this commit, invalid key word 'hide'
was used.

after this commit, invalid key word is removed


---
I confirm I have signed the CLA and read the PR guidelines at www.odoo.com/submit-pr
",mehjabinfarsana,2025-01-07 07:50:07+00:00,[],2025-01-22 07:26:09+00:00,,https://github.com/odoo/odoo/pull/192626,[],"[{'comment_id': 2574600893, 'issue_id': 2772128143, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/192626.png)](https://mergebot.odoo.com/odoo/odoo/pull/192626)', 'created_at': datetime.datetime(2025, 1, 7, 7, 50, 10, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-07 07:50:10 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/192626.png)](https://mergebot.odoo.com/odoo/odoo/pull/192626)

"
2772122973,pull_request,closed,,[FW][FIX] core: fix header when converting to PDF/A-3,"**Issue:**
When converting a PDF file into a PDF/A compliant file, the result may generate the following error message when parsing it by a PDF/A-3 validator:
`The aforementioned EOL marker shall be immediately followed by a % (25h) character followed by at least four bytes, each of whose encoded byte values shall have a decimal value greater than 127 `

**Cause:**
A previous fix has moved the four bytes in a conditional operation, but the `%` character has been forgotten.

opw-4353108



---
I confirm I have signed the CLA and read the PR guidelines at www.odoo.com/submit-pr

Forward-Port-Of: odoo/odoo#191326",fw-bot,2025-01-07 07:46:52+00:00,[],2025-01-21 13:55:32+00:00,2025-01-07 13:55:42+00:00,https://github.com/odoo/odoo/pull/192625,"[('OE', 'the report is linked to a support ticket (opw-...)'), ('forwardport', 'This PR was created by @fw-bot')]","[{'comment_id': 2574590044, 'issue_id': 2772122973, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/192625.png)](https://mergebot.odoo.com/odoo/odoo/pull/192625)', 'created_at': datetime.datetime(2025, 1, 7, 7, 46, 53, tzinfo=datetime.timezone.utc)}, {'comment_id': 2574590077, 'issue_id': 2772122973, 'author': 'fw-bot', 'body': 'This PR targets saas-17.4 and is part of the forward-port chain. Further PRs will be created up to master.\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 7, 7, 46, 53, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-07 07:46:53 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/192625.png)](https://mergebot.odoo.com/odoo/odoo/pull/192625)

fw-bot (Issue Creator) on (2025-01-07 07:46:53 UTC): This PR targets saas-17.4 and is part of the forward-port chain. Further PRs will be created up to master.

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

"
2772083079,pull_request,closed,,[FW][FIX] l10n_eu_oss: adapt Czech tax mapping from 15% to 12%,"Issue:
In Czech Republic, the rate of the 15% tax has changed to 12%. The new rate has already been handled in l10n_cz, but the OSS mapping still uses the old rate.

opw-4310264



---
I confirm I have signed the CLA and read the PR guidelines at www.odoo.com/submit-pr

Forward-Port-Of: odoo/odoo#192458",fw-bot,2025-01-07 07:22:35+00:00,[],2025-01-21 11:16:27+00:00,2025-01-07 11:13:28+00:00,https://github.com/odoo/odoo/pull/192624,"[('OE', 'the report is linked to a support ticket (opw-...)'), ('forwardport', 'This PR was created by @fw-bot'), ('18.2', None)]","[{'comment_id': 2574556262, 'issue_id': 2772083079, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/192624.png)](https://mergebot.odoo.com/odoo/odoo/pull/192624)', 'created_at': datetime.datetime(2025, 1, 7, 7, 22, 37, tzinfo=datetime.timezone.utc)}, {'comment_id': 2574556278, 'issue_id': 2772083079, 'author': 'fw-bot', 'body': '@kitan191 @h4818 this PR targets master and is the last of the forward-port chain containing:\n* odoo/odoo#192609\n* odoo/odoo#192606\n* odoo/odoo#192598\n* odoo/odoo#192590\n* odoo/odoo#192576\n\nTo merge the full chain, use\n> @robodoo r+\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 7, 7, 22, 37, tzinfo=datetime.timezone.utc)}, {'comment_id': 2574560573, 'issue_id': 2772083079, 'author': 'kitan191', 'body': '@robodoo r+', 'created_at': datetime.datetime(2025, 1, 7, 7, 25, 56, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-07 07:22:37 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/192624.png)](https://mergebot.odoo.com/odoo/odoo/pull/192624)

fw-bot (Issue Creator) on (2025-01-07 07:22:37 UTC): @kitan191 @h4818 this PR targets master and is the last of the forward-port chain containing:
* odoo/odoo#192609
* odoo/odoo#192606
* odoo/odoo#192598
* odoo/odoo#192590
* odoo/odoo#192576

To merge the full chain, use

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

kitan191 on (2025-01-07 07:25:56 UTC): @robodoo r+

"
2772077993,pull_request,open,,[IMP] sale: product sequence in selection and catalog,"With this Commit:
--------------------------------
When creating a Sale Order or Purchase Order, the default product selection in the order line has been updated:
- The product sequence is now determined based on the partner's invoiced bill history, which is ordered from the latest to the oldest billing date and remaining in a default order.
- In the product catalog view, a 'Last Bill Date' field has been introduced for products.
- Products in the catalog are displayed following the same sequence as above.

These improvements enhance the user experience by enabling faster and more relevant product suggestions, streamlining the process for customers.

Task-id: 4423839",sako-odoo,2025-01-07 07:19:09+00:00,[],2025-01-28 09:57:09+00:00,,https://github.com/odoo/odoo/pull/192623,"[('RD', 'research & development, internal work')]","[{'comment_id': 2574551750, 'issue_id': 2772077993, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/192623.png)](https://mergebot.odoo.com/odoo/odoo/pull/192623)', 'created_at': datetime.datetime(2025, 1, 7, 7, 19, 12, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-07 07:19:12 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/192623.png)](https://mergebot.odoo.com/odoo/odoo/pull/192623)

"
2772074374,pull_request,closed,,[FW][FIX] base_vat: Fix ID vat check,"STEPS
-----------
1. Install Contact and 'base_vat'
2. Create a new Indonasian contact with VAT as ID1234567890123456
3. Save -> Connot save whilst the VAT is correct

PROBLEM
-----------
VAT could be 15 (old numbers) or 16 digits. If there are 15 digits long, the 10th digit is a luhn checksum. In some cases, the 15 digits can be transformed into a 16-digit by adding a 0 in front. In such case, we can verify the luhn checksum like for the 15 digits by removing the 0.

However, for newly created VAT 16-digits VAT number, there is no checksum.

SOLUTION
-----------
Allow 16-digit VAT that only contains numbers and does not start with a 0.

opw-4402514

---
I confirm I have signed the CLA and read the PR guidelines at www.odoo.com/submit-pr

Forward-Port-Of: odoo/odoo#192543",fw-bot,2025-01-07 07:16:50+00:00,[],2025-01-21 20:26:12+00:00,2025-01-07 20:14:52+00:00,https://github.com/odoo/odoo/pull/192622,"[('OE', 'the report is linked to a support ticket (opw-...)'), ('forwardport', 'This PR was created by @fw-bot')]","[{'comment_id': 2574548643, 'issue_id': 2772074374, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/192622.png)](https://mergebot.odoo.com/odoo/odoo/pull/192622)', 'created_at': datetime.datetime(2025, 1, 7, 7, 16, 51, tzinfo=datetime.timezone.utc)}, {'comment_id': 2574548656, 'issue_id': 2772074374, 'author': 'fw-bot', 'body': 'This PR targets saas-17.4 and is part of the forward-port chain. Further PRs will be created up to master.\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 7, 7, 16, 52, tzinfo=datetime.timezone.utc)}, {'comment_id': 2574578544, 'issue_id': 2772074374, 'author': 'fw-bot', 'body': '@aboo-odoo @vin-odoo ci/runbot failed on this forward-port PR', 'created_at': datetime.datetime(2025, 1, 7, 7, 39, 24, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-07 07:16:51 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/192622.png)](https://mergebot.odoo.com/odoo/odoo/pull/192622)

fw-bot (Issue Creator) on (2025-01-07 07:16:52 UTC): This PR targets saas-17.4 and is part of the forward-port chain. Further PRs will be created up to master.

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

fw-bot (Issue Creator) on (2025-01-07 07:39:24 UTC): @aboo-odoo @vin-odoo ci/runbot failed on this forward-port PR

"
2771971842,pull_request,closed,,[FW][FIX] base_vat: Fix ID vat check,"STEPS
-----------
1. Install Contact and 'base_vat'
2. Create a new Indonasian contact with VAT as ID1234567890123456
3. Save -> Connot save whilst the VAT is correct

PROBLEM
-----------
VAT could be 15 (old numbers) or 16 digits. If there are 15 digits long, the 10th digit is a luhn checksum. In some cases, the 15 digits can be transformed into a 16-digit by adding a 0 in front. In such case, we can verify the luhn checksum like for the 15 digits by removing the 0.

However, for newly created VAT 16-digits VAT number, there is no checksum.

SOLUTION
-----------
Allow 16-digit VAT that only contains numbers and does not start with a 0.

opw-4402514

---
I confirm I have signed the CLA and read the PR guidelines at www.odoo.com/submit-pr

Forward-Port-Of: odoo/odoo#192543",fw-bot,2025-01-07 06:02:45+00:00,[],2025-01-21 18:16:05+00:00,2025-01-07 18:14:27+00:00,https://github.com/odoo/odoo/pull/192621,"[('OE', 'the report is linked to a support ticket (opw-...)'), ('forwardport', 'This PR was created by @fw-bot')]","[{'comment_id': 2574455818, 'issue_id': 2771971842, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/192621.png)](https://mergebot.odoo.com/odoo/odoo/pull/192621)', 'created_at': datetime.datetime(2025, 1, 7, 6, 2, 47, tzinfo=datetime.timezone.utc)}, {'comment_id': 2574455837, 'issue_id': 2771971842, 'author': 'fw-bot', 'body': 'This PR targets saas-17.2 and is part of the forward-port chain. Further PRs will be created up to master.\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 7, 6, 2, 47, tzinfo=datetime.timezone.utc)}, {'comment_id': 2574486920, 'issue_id': 2771971842, 'author': 'fw-bot', 'body': '@aboo-odoo @vin-odoo ci/runbot failed on this forward-port PR', 'created_at': datetime.datetime(2025, 1, 7, 6, 31, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-07 06:02:47 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/192621.png)](https://mergebot.odoo.com/odoo/odoo/pull/192621)

fw-bot (Issue Creator) on (2025-01-07 06:02:47 UTC): This PR targets saas-17.2 and is part of the forward-port chain. Further PRs will be created up to master.

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

fw-bot (Issue Creator) on (2025-01-07 06:31:00 UTC): @aboo-odoo @vin-odoo ci/runbot failed on this forward-port PR

"
2771921725,pull_request,open,,[IMP] l10n_in: generate credit notes for early payment discount,"This PR introduces the option to create a credit note for the discounted amount when an early payment discount is applied to an invoice or bill.

When the 'Early Discount' option is enabled in the payment terms, a boolean of 'Create Credit Note' will be visible
If this field is activated, the system will automatically generate a credit note for the discounted amount upon payment.

**task**-4028948",nash-odoo,2025-01-07 05:19:41+00:00,[],2025-02-03 10:32:06+00:00,,https://github.com/odoo/odoo/pull/192620,"[('RD', 'research & development, internal work')]","[{'comment_id': 2574412920, 'issue_id': 2771921725, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/192620.png)](https://mergebot.odoo.com/odoo/odoo/pull/192620)', 'created_at': datetime.datetime(2025, 1, 7, 5, 19, 44, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-07 05:19:44 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/192620.png)](https://mergebot.odoo.com/odoo/odoo/pull/192620)

"
2771891890,pull_request,open,,[FIX] l10n_in_edi: filter tags based on reverse charge condition,"This PR modifies the tag assignment logic for taxes based on whether the tax
is marked as a reverse charge:

- For reverse charges, it selects tags from `invoice_repartition_line_ids` where
the `factor_percent` is less than 0.
- For non-reverse charges, it filters tags where `factor_percent` is greater
than or equal to 0.

This ensures accurate tagging of tax lines according to the reverse charge
criteria, improving consistency and correctness in tax reporting.",zepa-odoo,2025-01-07 04:49:38+00:00,[],2025-01-10 14:03:47+00:00,,https://github.com/odoo/odoo/pull/192619,"[('RD', 'research & development, internal work')]","[{'comment_id': 2574387856, 'issue_id': 2771891890, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/192619.png)](https://mergebot.odoo.com/odoo/odoo/pull/192619)', 'created_at': datetime.datetime(2025, 1, 7, 4, 49, 40, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-07 04:49:40 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/192619.png)](https://mergebot.odoo.com/odoo/odoo/pull/192619)

"
2771876642,pull_request,open,,[15.0][FIX] mrp: BOM Structure & Cost,"Description of the issue/feature this PR addresses: `mrp.assets_common` assets are obsolete as the assets are no longer declared in the `xml` files from commit https://github.com/odoo/odoo/commit/03641610c, so when calling `mrp.assets_common` the assets in `web.assets_common` are never called correctly, causing the report to be missing the `.css` resources in that asset.

Current behavior before PR: 
[BoM Structure (7).pdf](https://github.com/user-attachments/files/18327545/BoM.Structure.7.pdf)


Desired behavior after PR is merged: 
[BoM Structure (8).pdf](https://github.com/user-attachments/files/18327547/BoM.Structure.8.pdf)





---
I confirm I have signed the CLA and read the PR guidelines at www.odoo.com/submit-pr
",xaviedoanhduy,2025-01-07 04:34:59+00:00,[],2025-01-07 05:00:12+00:00,,https://github.com/odoo/odoo/pull/192618,"[('CLA', 'Contributor License Agreement'), ('Logistics', 'about stock, mrp, delivery, purchase')]","[{'comment_id': 2574375290, 'issue_id': 2771876642, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/192618.png)](https://mergebot.odoo.com/odoo/odoo/pull/192618)', 'created_at': datetime.datetime(2025, 1, 7, 4, 35, 3, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-07 04:35:03 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/192618.png)](https://mergebot.odoo.com/odoo/odoo/pull/192618)

"
