id,type,state,state_reason,title,body,author,created_at,assignees,updated_at,closed_at,url,labels,comments_list,comment_thread
2815881494,pull_request,closed,,[FW][FIX] hr: fix singleton record error,"### Description of the issue/feature this PR addresses:
- Similar error: https://github.com/odoo/odoo/pull/194338
- In `_compute_plan_available_ids()` with `self` there can be multiple records but still use `self.department_id` in `for scheduler in todo`.

### Current behavior before PR:
- The error ValueError: Expected singleton: mail.activity.schedule(1, 2) occurred

Desired behavior after PR is merged:
- The problem has been fixed.



---
I confirm I have signed the CLA and read the PR guidelines at www.odoo.com/submit-pr

Forward-Port-Of: odoo/odoo#194650",fw-bot,2025-01-28 14:41:53+00:00,[],2025-01-30 16:10:02+00:00,2025-01-30 16:10:02+00:00,https://github.com/odoo/odoo/pull/195467,"[('RD', 'research & development, internal work'), ('forwardport', 'This PR was created by @fw-bot')]","[{'comment_id': 2619197831, 'issue_id': 2815881494, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195467.png)](https://mergebot.odoo.com/odoo/odoo/pull/195467)', 'created_at': datetime.datetime(2025, 1, 28, 14, 41, 55, tzinfo=datetime.timezone.utc)}, {'comment_id': 2619197857, 'issue_id': 2815881494, 'author': 'fw-bot', 'body': 'This PR targets saas-18.1 and is part of the forward-port chain. Further PRs will be created up to master.\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 28, 14, 41, 55, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-28 14:41:55 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195467.png)](https://mergebot.odoo.com/odoo/odoo/pull/195467)

fw-bot (Issue Creator) on (2025-01-28 14:41:55 UTC): This PR targets saas-18.1 and is part of the forward-port chain. Further PRs will be created up to master.

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

"
2815861503,pull_request,closed,,[FIX] website: fix website form editor tour submit,"Since the ""website_form_editor"" tour was modified by this commit [1], the ""Website Form Editor Tour"" has been failing. This is due to the ""Subject"" field being hidden, while the ""Website Form Editor Tour"" expected it to be visible.

[1]: https://github.com/odoo/odoo/commit/243a4c1eb6523ba5d458f8cf8df5d696e40ccc8e

runbot-113783",bvr-odoo,2025-01-28 14:35:22+00:00,[],2025-01-29 14:37:55+00:00,2025-01-29 14:32:01+00:00,https://github.com/odoo/odoo/pull/195466,"[('RD', 'research & development, internal work')]","[{'comment_id': 2619178877, 'issue_id': 2815861503, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195466.png)](https://mergebot.odoo.com/odoo/odoo/pull/195466)', 'created_at': datetime.datetime(2025, 1, 28, 14, 35, 25, tzinfo=datetime.timezone.utc)}, {'comment_id': 2621518118, 'issue_id': 2815861503, 'author': 'bso-odoo', 'body': '@robodoo delegate=SergeBayet', 'created_at': datetime.datetime(2025, 1, 29, 12, 33, 12, tzinfo=datetime.timezone.utc)}, {'comment_id': 2621519323, 'issue_id': 2815861503, 'author': 'SergeBayet', 'body': '@robodoo r+', 'created_at': datetime.datetime(2025, 1, 29, 12, 33, 47, tzinfo=datetime.timezone.utc)}, {'comment_id': 2621529679, 'issue_id': 2815861503, 'author': 'SergeBayet', 'body': '@fw-bot fw=no', 'created_at': datetime.datetime(2025, 1, 29, 12, 38, 50, tzinfo=datetime.timezone.utc)}, {'comment_id': 2621835557, 'issue_id': 2815861503, 'author': 'SergeBayet', 'body': '@robodoo fw=no', 'created_at': datetime.datetime(2025, 1, 29, 14, 37, 51, tzinfo=datetime.timezone.utc)}, {'comment_id': 2621835672, 'issue_id': 2815861503, 'author': 'robodoo', 'body': 'Disabled forward-porting.', 'created_at': datetime.datetime(2025, 1, 29, 14, 37, 53, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-28 14:35:25 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195466.png)](https://mergebot.odoo.com/odoo/odoo/pull/195466)

bso-odoo on (2025-01-29 12:33:12 UTC): @robodoo delegate=SergeBayet

SergeBayet on (2025-01-29 12:33:47 UTC): @robodoo r+

SergeBayet on (2025-01-29 12:38:50 UTC): @fw-bot fw=no

SergeBayet on (2025-01-29 14:37:51 UTC): @robodoo fw=no

robodoo on (2025-01-29 14:37:53 UTC): Disabled forward-porting.

"
2815856576,pull_request,closed,,[FW][FIX] pos_self_order: remove horizontal scrollbar,"- Fix issue when in self order on mobile a weird horizontal scroll bar appears when a product with a long name (and no image) was sell.
- Now we just truncate the product name to avoid this issue.

task-id: 4510206

Description of the issue/feature this PR addresses:

Current behavior before PR:

Desired behavior after PR is merged:




---
I confirm I have signed the CLA and read the PR guidelines at www.odoo.com/submit-pr

Forward-Port-Of: odoo/odoo#195093",fw-bot,2025-01-28 14:33:38+00:00,[],2025-02-04 11:32:16+00:00,2025-02-04 11:32:16+00:00,https://github.com/odoo/odoo/pull/195465,"[('RD', 'research & development, internal work'), ('forwardport', 'This PR was created by @fw-bot'), ('conflict', 'There was an error while creating this forward-port PR')]","[{'comment_id': 2619173955, 'issue_id': 2815856576, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195465.png)](https://mergebot.odoo.com/odoo/odoo/pull/195465)', 'created_at': datetime.datetime(2025, 1, 28, 14, 33, 39, tzinfo=datetime.timezone.utc)}, {'comment_id': 2619173980, 'issue_id': 2815856576, 'author': 'fw-bot', 'body': '@manv-afk @vlst-odoo cherrypicking of pull request odoo/odoo#195093 failed.\n\nstdout:\n```\nAuto-merging addons/pos_self_order/static/src/app/components/product_card/product_card.xml\nCONFLICT (content): Merge conflict in addons/pos_self_order/static/src/app/components/product_card/product_card.xml\n\n```\n\nEither perform the forward-port manually (and push to this branch, proceeding as usual) or close this PR (maybe?).\n\nIn the former case, you may want to edit this PR message as well.\n\n:warning: after resolving this conflict, you will need to merge it via @robodoo.\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 28, 14, 33, 40, tzinfo=datetime.timezone.utc)}, {'comment_id': 2628684714, 'issue_id': 2815856576, 'author': 'fw-bot', 'body': '@manv-afk @vlst-odoo this forward port of odoo/odoo#195093 is awaiting action (not merged or closed).', 'created_at': datetime.datetime(2025, 2, 1, 2, 1, tzinfo=datetime.timezone.utc)}, {'comment_id': 2629201450, 'issue_id': 2815856576, 'author': 'fw-bot', 'body': '@manv-afk @vlst-odoo this forward port of odoo/odoo#195093 is awaiting action (not merged or closed).', 'created_at': datetime.datetime(2025, 2, 2, 2, 1, 4, tzinfo=datetime.timezone.utc)}, {'comment_id': 2629729641, 'issue_id': 2815856576, 'author': 'fw-bot', 'body': '@manv-afk @vlst-odoo this forward port of odoo/odoo#195093 is awaiting action (not merged or closed).', 'created_at': datetime.datetime(2025, 2, 3, 2, 1, 50, tzinfo=datetime.timezone.utc)}, {'comment_id': 2633198187, 'issue_id': 2815856576, 'author': 'manv-afk', 'body': '@robodoo r+', 'created_at': datetime.datetime(2025, 2, 4, 8, 25, 49, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-28 14:33:39 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195465.png)](https://mergebot.odoo.com/odoo/odoo/pull/195465)

fw-bot (Issue Creator) on (2025-01-28 14:33:40 UTC): @manv-afk @vlst-odoo cherrypicking of pull request odoo/odoo#195093 failed.

stdout:
```
Auto-merging addons/pos_self_order/static/src/app/components/product_card/product_card.xml
CONFLICT (content): Merge conflict in addons/pos_self_order/static/src/app/components/product_card/product_card.xml

```

Either perform the forward-port manually (and push to this branch, proceeding as usual) or close this PR (maybe?).

In the former case, you may want to edit this PR message as well.

:warning: after resolving this conflict, you will need to merge it via @robodoo.

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

fw-bot (Issue Creator) on (2025-02-01 02:01:00 UTC): @manv-afk @vlst-odoo this forward port of odoo/odoo#195093 is awaiting action (not merged or closed).

fw-bot (Issue Creator) on (2025-02-02 02:01:04 UTC): @manv-afk @vlst-odoo this forward port of odoo/odoo#195093 is awaiting action (not merged or closed).

fw-bot (Issue Creator) on (2025-02-03 02:01:50 UTC): @manv-afk @vlst-odoo this forward port of odoo/odoo#195093 is awaiting action (not merged or closed).

manv-afk on (2025-02-04 08:25:49 UTC): @robodoo r+

"
2815855814,pull_request,closed,,[FW][FIX] point_of_sale: allow validation of zero-total orders,"Before this commit, a rounding error could leading to scenarios where
orders with a zero total could not be validated. For instance, adding
a product priced at $70 with a 15% tax included and then applying an
eWallet payment in PoS would result in a zero total. However, during
the payment step, the system erroneously prompted for an additional
zero-amount payment line, causing confusion and preventing order
validation.

opw-4487591

---
I confirm I have signed the CLA and read the PR guidelines at www.odoo.com/submit-pr

Forward-Port-Of: odoo/odoo#195258",fw-bot,2025-01-28 14:33:19+00:00,[],2025-02-03 11:38:55+00:00,2025-02-03 11:38:55+00:00,https://github.com/odoo/odoo/pull/195464,"[('OE', 'the report is linked to a support ticket (opw-...)'), ('forwardport', 'This PR was created by @fw-bot'), ('conflict', 'There was an error while creating this forward-port PR')]","[{'comment_id': 2619173232, 'issue_id': 2815855814, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195464.png)](https://mergebot.odoo.com/odoo/odoo/pull/195464)', 'created_at': datetime.datetime(2025, 1, 28, 14, 33, 21, tzinfo=datetime.timezone.utc)}, {'comment_id': 2619173258, 'issue_id': 2815855814, 'author': 'fw-bot', 'body': '@pedrambiria @caburj cherrypicking of pull request odoo/odoo#195258 failed.\n\nstdout:\n```\nAuto-merging addons/point_of_sale/static/src/app/screens/payment_screen/payment_screen.js\nCONFLICT (content): Merge conflict in addons/point_of_sale/static/src/app/screens/payment_screen/payment_screen.js\n\n```\n\nEither perform the forward-port manually (and push to this branch, proceeding as usual) or close this PR (maybe?).\n\nIn the former case, you may want to edit this PR message as well.\n\n:warning: after resolving this conflict, you will need to merge it via @robodoo.\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 28, 14, 33, 21, tzinfo=datetime.timezone.utc)}, {'comment_id': 2628684556, 'issue_id': 2815855814, 'author': 'fw-bot', 'body': '@pedrambiria @caburj this forward port of odoo/odoo#195258 is awaiting action (not merged or closed).', 'created_at': datetime.datetime(2025, 2, 1, 2, 0, 52, tzinfo=datetime.timezone.utc)}, {'comment_id': 2629201329, 'issue_id': 2815855814, 'author': 'fw-bot', 'body': '@pedrambiria @caburj this forward port of odoo/odoo#195258 is awaiting action (not merged or closed).', 'created_at': datetime.datetime(2025, 2, 2, 2, 0, 52, tzinfo=datetime.timezone.utc)}, {'comment_id': 2629729347, 'issue_id': 2815855814, 'author': 'fw-bot', 'body': '@pedrambiria @caburj this forward port of odoo/odoo#195258 is awaiting action (not merged or closed).', 'created_at': datetime.datetime(2025, 2, 3, 2, 1, 38, tzinfo=datetime.timezone.utc)}, {'comment_id': 2630339572, 'issue_id': 2815855814, 'author': 'pedrambiria', 'body': 'robodoo r+', 'created_at': datetime.datetime(2025, 2, 3, 9, 1, 17, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-28 14:33:21 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195464.png)](https://mergebot.odoo.com/odoo/odoo/pull/195464)

fw-bot (Issue Creator) on (2025-01-28 14:33:21 UTC): @pedrambiria @caburj cherrypicking of pull request odoo/odoo#195258 failed.

stdout:
```
Auto-merging addons/point_of_sale/static/src/app/screens/payment_screen/payment_screen.js
CONFLICT (content): Merge conflict in addons/point_of_sale/static/src/app/screens/payment_screen/payment_screen.js

```

Either perform the forward-port manually (and push to this branch, proceeding as usual) or close this PR (maybe?).

In the former case, you may want to edit this PR message as well.

:warning: after resolving this conflict, you will need to merge it via @robodoo.

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

fw-bot (Issue Creator) on (2025-02-01 02:00:52 UTC): @pedrambiria @caburj this forward port of odoo/odoo#195258 is awaiting action (not merged or closed).

fw-bot (Issue Creator) on (2025-02-02 02:00:52 UTC): @pedrambiria @caburj this forward port of odoo/odoo#195258 is awaiting action (not merged or closed).

fw-bot (Issue Creator) on (2025-02-03 02:01:38 UTC): @pedrambiria @caburj this forward port of odoo/odoo#195258 is awaiting action (not merged or closed).

pedrambiria on (2025-02-03 09:01:17 UTC): robodoo r+

"
2815854993,pull_request,closed,,[FW][FIX] *: tours,"In this commit, we fix multiple tours on step that can cause non deterministic behaviors:

- show_expense_receipt_tour: Wait the chatter is loaded to prevent lost focus on the input targetted on the next step.
- discuss_channel_tour: use hover helper to concat three steps.
- website_gray_color_palette: use range hoot helper and wait ui loading appears before to wait it disappears... In the goal to change tour engine and base it on waitFor instead of MutationObserver, these additionnal steps are crucial.
- website_form_contactus_submit: wait livechat if module is installed.
- course_member: wait the modal is shown before click on element inside.

Description of the issue/feature this PR addresses:

Current behavior before PR:

Desired behavior after PR is merged:




---
I confirm I have signed the CLA and read the PR guidelines at www.odoo.com/submit-pr

Forward-Port-Of: odoo/odoo#195284",fw-bot,2025-01-28 14:32:59+00:00,[],2025-01-29 11:27:45+00:00,2025-01-29 11:27:45+00:00,https://github.com/odoo/odoo/pull/195463,"[('RD', 'research & development, internal work'), ('forwardport', 'This PR was created by @fw-bot'), ('conflict', 'There was an error while creating this forward-port PR')]","[{'comment_id': 2619172364, 'issue_id': 2815854993, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195463.png)](https://mergebot.odoo.com/odoo/odoo/pull/195463)', 'created_at': datetime.datetime(2025, 1, 28, 14, 33, tzinfo=datetime.timezone.utc)}, {'comment_id': 2619172395, 'issue_id': 2815854993, 'author': 'fw-bot', 'body': '@pipu-odoo @bastien-ipb cherrypicking of pull request odoo/odoo#195284 failed.\n\nstdout:\n```\nAuto-merging addons/hr_expense/static/src/js/tours/show_expense_receipt_tour.js\nAuto-merging addons/mail/static/src/js/tours/discuss_channel_tour.js\nCONFLICT (content): Merge conflict in addons/mail/static/src/js/tours/discuss_channel_tour.js\nAuto-merging addons/website/static/tests/tours/gray_color_palette.js\nAuto-merging addons/website/static/tests/tours/media_dialog.js\nAuto-merging addons/website/static/tests/tours/website_form_editor_frontend.js\n\n```\n\nEither perform the forward-port manually (and push to this branch, proceeding as usual) or close this PR (maybe?).\n\nIn the former case, you may want to edit this PR message as well.\n\n:warning: after resolving this conflict, you will need to merge it via @robodoo.\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 28, 14, 33, 1, tzinfo=datetime.timezone.utc)}, {'comment_id': 2621061088, 'issue_id': 2815854993, 'author': 'pipu-odoo', 'body': '@robodoo r+', 'created_at': datetime.datetime(2025, 1, 29, 9, 8, 20, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-28 14:33:00 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195463.png)](https://mergebot.odoo.com/odoo/odoo/pull/195463)

fw-bot (Issue Creator) on (2025-01-28 14:33:01 UTC): @pipu-odoo @bastien-ipb cherrypicking of pull request odoo/odoo#195284 failed.

stdout:
```
Auto-merging addons/hr_expense/static/src/js/tours/show_expense_receipt_tour.js
Auto-merging addons/mail/static/src/js/tours/discuss_channel_tour.js
CONFLICT (content): Merge conflict in addons/mail/static/src/js/tours/discuss_channel_tour.js
Auto-merging addons/website/static/tests/tours/gray_color_palette.js
Auto-merging addons/website/static/tests/tours/media_dialog.js
Auto-merging addons/website/static/tests/tours/website_form_editor_frontend.js

```

Either perform the forward-port manually (and push to this branch, proceeding as usual) or close this PR (maybe?).

In the former case, you may want to edit this PR message as well.

:warning: after resolving this conflict, you will need to merge it via @robodoo.

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

pipu-odoo on (2025-01-29 09:08:20 UTC): @robodoo r+

"
2815848413,pull_request,closed,,[FW][FIX] sale: round discount floats display,"## Versions:
17.0+
No fix needed in 16.0 as the discount was not displayed this way.

## Issue:
Discount descriptions contain long string floats while it should be truncated for human reading.

## Steps to reproduce:
- Activate `Discounts` through settings;
- Create a new sale order for any client with at least 1 product;
- Click the `Discount` button on the form;
- Apply a 7% `Global Discount`;
- Read the `Discount` product's description.

## Cause:
Some numbers cannot be represented correctly in Python (including 7, 3.3 etc.).

opw-4485316

Forward-Port-Of: odoo/odoo#195328",fw-bot,2025-01-28 14:30:19+00:00,[],2025-02-03 15:05:19+00:00,2025-02-03 15:05:19+00:00,https://github.com/odoo/odoo/pull/195462,"[('OE', 'the report is linked to a support ticket (opw-...)'), ('forwardport', 'This PR was created by @fw-bot')]","[{'comment_id': 2619165522, 'issue_id': 2815848413, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195462.png)](https://mergebot.odoo.com/odoo/odoo/pull/195462)', 'created_at': datetime.datetime(2025, 1, 28, 14, 30, 20, tzinfo=datetime.timezone.utc)}, {'comment_id': 2619165652, 'issue_id': 2815848413, 'author': 'fw-bot', 'body': 'This PR targets saas-17.2 and is part of the forward-port chain. Further PRs will be created up to master.\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 28, 14, 30, 23, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-28 14:30:20 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195462.png)](https://mergebot.odoo.com/odoo/odoo/pull/195462)

fw-bot (Issue Creator) on (2025-01-28 14:30:23 UTC): This PR targets saas-17.2 and is part of the forward-port chain. Further PRs will be created up to master.

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

"
2815845953,pull_request,closed,,[FW][FIX] web_editor: adapt `border-style` value based on border widths,"[FIX] web_editor: adapt `border-style` value based on border widths

**Problem**:  
Outlook always displays the border of an element if `border-style` is set  
to `solid`, even when all border widths are 0.  

**Solution**:  
Change `border-style` to `none` if all border widths are 0.  

**Steps to Reproduce**:  
1. Open the ""Event: Registration Confirmation"" email template in the web editor.  
2. Add a character and save the template.  
3. Check the saved `body_html`.  
   -> All table elements will have `border-style: solid;` added as inline styling,  
      causing borders to appear in Outlook.  

opw-4211794

---
I confirm I have signed the CLA and read the PR guidelines at www.odoo.com/submit-pr

Forward-Port-Of: odoo/odoo#195282
Forward-Port-Of: odoo/odoo#193973",fw-bot,2025-01-28 14:29:37+00:00,[],2025-01-28 23:33:42+00:00,2025-01-28 23:33:42+00:00,https://github.com/odoo/odoo/pull/195461,"[('OE', 'the report is linked to a support ticket (opw-...)'), ('forwardport', 'This PR was created by @fw-bot'), ('18.2', None)]","[{'comment_id': 2619163459, 'issue_id': 2815845953, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195461.png)](https://mergebot.odoo.com/odoo/odoo/pull/195461)', 'created_at': datetime.datetime(2025, 1, 28, 14, 29, 41, tzinfo=datetime.timezone.utc)}, {'comment_id': 2619163498, 'issue_id': 2815845953, 'author': 'fw-bot', 'body': '@walidsahli @dmo-odoo this PR targets master and is the last of the forward-port chain containing:\n* odoo/odoo#195445\n* odoo/odoo#195407\n\nTo merge the full chain, use\n> @robodoo r+\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 28, 14, 29, 42, tzinfo=datetime.timezone.utc)}, {'comment_id': 2619175829, 'issue_id': 2815845953, 'author': 'walidsahli', 'body': '@robodoo r+', 'created_at': datetime.datetime(2025, 1, 28, 14, 34, 23, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-28 14:29:41 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195461.png)](https://mergebot.odoo.com/odoo/odoo/pull/195461)

fw-bot (Issue Creator) on (2025-01-28 14:29:42 UTC): @walidsahli @dmo-odoo this PR targets master and is the last of the forward-port chain containing:
* odoo/odoo#195445
* odoo/odoo#195407

To merge the full chain, use

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

walidsahli on (2025-01-28 14:34:23 UTC): @robodoo r+

"
2815845687,pull_request,closed,,[FIX] orm: domain with hierarchy should use ilike for str,"Domains such as `[('id', 'child_of', 'some_str')]` should search the corecords using ilike before resolving the hierarchy. Adding tests for this use case.

---
I confirm I have signed the CLA and read the PR guidelines at www.odoo.com/submit-pr
",kmagusiak,2025-01-28 14:29:32+00:00,[],2025-01-29 08:13:03+00:00,2025-01-29 01:08:09+00:00,https://github.com/odoo/odoo/pull/195460,"[('RD', 'research & development, internal work')]","[{'comment_id': 2619163372, 'issue_id': 2815845687, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195460.png)](https://mergebot.odoo.com/odoo/odoo/pull/195460)', 'created_at': datetime.datetime(2025, 1, 28, 14, 29, 39, tzinfo=datetime.timezone.utc)}, {'comment_id': 2619175606, 'issue_id': 2815845687, 'author': 'ryv-odoo', 'body': '@robodoo r+', 'created_at': datetime.datetime(2025, 1, 28, 14, 34, 18, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-28 14:29:39 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195460.png)](https://mergebot.odoo.com/odoo/odoo/pull/195460)

ryv-odoo on (2025-01-28 14:34:18 UTC): @robodoo r+

"
2815836555,pull_request,closed,,[FW][FIX] account: Show partner limit currency,"The credit limit in the partner form view was missing a currency symbol, leading to ambiguity about whether the limit was in the customer's currency or the company's currency.

Displayed the partner limit in the company currency to avoid confusion.

task-4507336


---
I confirm I have signed the CLA and read the PR guidelines at www.odoo.com/submit-pr

Forward-Port-Of: odoo/odoo#195325
Forward-Port-Of: odoo/odoo#194807",fw-bot,2025-01-28 14:26:29+00:00,[],2025-01-30 15:48:15+00:00,2025-01-30 15:48:15+00:00,https://github.com/odoo/odoo/pull/195459,"[('RD', 'research & development, internal work'), ('forwardport', 'This PR was created by @fw-bot')]","[{'comment_id': 2619155331, 'issue_id': 2815836555, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195459.png)](https://mergebot.odoo.com/odoo/odoo/pull/195459)', 'created_at': datetime.datetime(2025, 1, 28, 14, 26, 31, tzinfo=datetime.timezone.utc)}, {'comment_id': 2619155367, 'issue_id': 2815836555, 'author': 'fw-bot', 'body': 'This PR targets saas-17.4 and is part of the forward-port chain. Further PRs will be created up to master.\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 28, 14, 26, 31, tzinfo=datetime.timezone.utc)}, {'comment_id': 2624383667, 'issue_id': 2815836555, 'author': 'fw-bot', 'body': ""@seifgneedy @hupo-odoo child PR odoo/odoo#195477 was modified / updated and has become a normal PR. This PR (and any of its parents) will need to be merged independently as approvals won't cross."", 'created_at': datetime.datetime(2025, 1, 30, 12, 32, 31, tzinfo=datetime.timezone.utc)}, {'comment_id': 2624385883, 'issue_id': 2815836555, 'author': 'seifgneedy', 'body': '@robodoo r+', 'created_at': datetime.datetime(2025, 1, 30, 12, 33, 35, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-28 14:26:31 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195459.png)](https://mergebot.odoo.com/odoo/odoo/pull/195459)

fw-bot (Issue Creator) on (2025-01-28 14:26:31 UTC): This PR targets saas-17.4 and is part of the forward-port chain. Further PRs will be created up to master.

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

fw-bot (Issue Creator) on (2025-01-30 12:32:31 UTC): @seifgneedy @hupo-odoo child PR odoo/odoo#195477 was modified / updated and has become a normal PR. This PR (and any of its parents) will need to be merged independently as approvals won't cross.

seifgneedy on (2025-01-30 12:33:35 UTC): @robodoo r+

"
2815825632,pull_request,closed,,[FW][FIX] l10n_ar_withholding: use disposable data during coa update,"### Steps to reproduce the issue:

1. Create two Argentinian Companies
2. In _Accounting > Configuration > Settings_ select the following Fiscal Localization Package for both companies: _Argentina - Argentine Generic Chart of Accounts for Exempt Individuals_
2. In _Accounting > Configuration > Accounting > Chart of Accounts_, duplicate an account and change its code to 6.0.0.00.020
3. Install _Argentina - Payment Withholdings_
4. The following issue occurs:

### Explanation:

In `_l10n_ar_withholding_post_init`, for each company, we will compare a previously created dict to the existing accounts. If an account already exists, the data is removed from the dict, and since it is created before we start looping through the Companies to make the comparison, any removed data is removed for the companies that follow as well.

### Fix reasoning:

We will copy the original dict to keep a safe version of the data and only modify the copy during the comparison process.

opw-4446501

Forward-Port-Of: odoo/odoo#194329",fw-bot,2025-01-28 14:22:39+00:00,[],2025-01-28 17:47:38+00:00,2025-01-28 17:47:38+00:00,https://github.com/odoo/odoo/pull/195458,"[('OE', 'the report is linked to a support ticket (opw-...)'), ('forwardport', 'This PR was created by @fw-bot')]","[{'comment_id': 2619144917, 'issue_id': 2815825632, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195458.png)](https://mergebot.odoo.com/odoo/odoo/pull/195458)', 'created_at': datetime.datetime(2025, 1, 28, 14, 22, 40, tzinfo=datetime.timezone.utc)}, {'comment_id': 2619144956, 'issue_id': 2815825632, 'author': 'fw-bot', 'body': 'This PR targets saas-17.4 and is part of the forward-port chain. Further PRs will be created up to master.\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 28, 14, 22, 41, tzinfo=datetime.timezone.utc)}, {'comment_id': 2619336727, 'issue_id': 2815825632, 'author': 'fw-bot', 'body': '@stpa-odoo @william-andre the next pull request (odoo/odoo#195475) is in conflict. You can merge the chain up to here by saying\n> @robodoo r+\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 28, 15, 31, 13, tzinfo=datetime.timezone.utc)}, {'comment_id': 2619338855, 'issue_id': 2815825632, 'author': 'william-andre', 'body': '@robodoo r+', 'created_at': datetime.datetime(2025, 1, 28, 15, 32, 4, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-28 14:22:40 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195458.png)](https://mergebot.odoo.com/odoo/odoo/pull/195458)

fw-bot (Issue Creator) on (2025-01-28 14:22:41 UTC): This PR targets saas-17.4 and is part of the forward-port chain. Further PRs will be created up to master.

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

fw-bot (Issue Creator) on (2025-01-28 15:31:13 UTC): @stpa-odoo @william-andre the next pull request (odoo/odoo#195475) is in conflict. You can merge the chain up to here by saying

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

william-andre on (2025-01-28 15:32:04 UTC): @robodoo r+

"
2815805941,pull_request,closed,,[FIX] mrp: assert time value with a delta,"Comparing times may give false error because of the precision and time to run a test. This commit adds a delta into which two datetime are considered the same in order to not make the test failing by mistake.

runbot : 112119

Description of the issue/feature this PR addresses:

Current behavior before PR:

Desired behavior after PR is merged:




---
I confirm I have signed the CLA and read the PR guidelines at www.odoo.com/submit-pr
",Whenrow,2025-01-28 14:15:27+00:00,[],2025-01-31 18:14:26+00:00,2025-01-31 18:14:26+00:00,https://github.com/odoo/odoo/pull/195457,"[('RD', 'research & development, internal work')]","[{'comment_id': 2619126523, 'issue_id': 2815805941, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195457.png)](https://mergebot.odoo.com/odoo/odoo/pull/195457)', 'created_at': datetime.datetime(2025, 1, 28, 14, 15, 30, tzinfo=datetime.timezone.utc)}, {'comment_id': 2627640506, 'issue_id': 2815805941, 'author': 'Whenrow', 'body': 'robodoo r+', 'created_at': datetime.datetime(2025, 1, 31, 15, 37, 53, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-28 14:15:30 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195457.png)](https://mergebot.odoo.com/odoo/odoo/pull/195457)

Whenrow (Issue Creator) on (2025-01-31 15:37:53 UTC): robodoo r+

"
2815804477,pull_request,closed,,[FW][FIX] account_peppol: fix displayed error,"Fix the error displayed error.
The current code causes a key error.

task-no

Forward-Port-Of: odoo/odoo#195388",fw-bot,2025-01-28 14:14:52+00:00,[],2025-01-29 15:09:01+00:00,2025-01-29 15:09:01+00:00,https://github.com/odoo/odoo/pull/195456,"[('RD', 'research & development, internal work'), ('forwardport', 'This PR was created by @fw-bot')]","[{'comment_id': 2619124977, 'issue_id': 2815804477, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195456.png)](https://mergebot.odoo.com/odoo/odoo/pull/195456)', 'created_at': datetime.datetime(2025, 1, 28, 14, 14, 53, tzinfo=datetime.timezone.utc)}, {'comment_id': 2619124999, 'issue_id': 2815804477, 'author': 'fw-bot', 'body': 'This PR targets saas-17.4 and is part of the forward-port chain. Further PRs will be created up to master.\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 28, 14, 14, 54, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-28 14:14:53 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195456.png)](https://mergebot.odoo.com/odoo/odoo/pull/195456)

fw-bot (Issue Creator) on (2025-01-28 14:14:54 UTC): This PR targets saas-17.4 and is part of the forward-port chain. Further PRs will be created up to master.

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

"
2815797403,pull_request,closed,,[FW][FIX] website_sale: show order ref on all checkout states,"Versions
--------
- 17.0+

Steps
-----
1. Enable Wire Transfer as a payment provider;
2. in eCommerce, add an item to cart;
3. go to checkout;
4. pay via wire transfer.

Issue
-----
The order reference isn't shown below the ""Thank you for your order"" message because the payment transaction hasn't been approved yet.

Solution
--------
Show the order reference regardless of transaction status.

opw-3844583

Forward-Port-Of: odoo/odoo#195228",fw-bot,2025-01-28 14:12:02+00:00,[],2025-01-29 16:31:17+00:00,2025-01-29 16:31:17+00:00,https://github.com/odoo/odoo/pull/195455,"[('OE', 'the report is linked to a support ticket (opw-...)'), ('forwardport', 'This PR was created by @fw-bot')]","[{'comment_id': 2619118069, 'issue_id': 2815797403, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195455.png)](https://mergebot.odoo.com/odoo/odoo/pull/195455)', 'created_at': datetime.datetime(2025, 1, 28, 14, 12, 4, tzinfo=datetime.timezone.utc)}, {'comment_id': 2619118103, 'issue_id': 2815797403, 'author': 'fw-bot', 'body': 'This PR targets saas-17.4 and is part of the forward-port chain. Further PRs will be created up to master.\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 28, 14, 12, 4, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-28 14:12:04 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195455.png)](https://mergebot.odoo.com/odoo/odoo/pull/195455)

fw-bot (Issue Creator) on (2025-01-28 14:12:04 UTC): This PR targets saas-17.4 and is part of the forward-port chain. Further PRs will be created up to master.

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

"
2815779564,pull_request,open,,Simplify and improve performance of _create/create ,"Working branch: 
[master-useless-_create-invalidate-cache-inherited-ryv](https://github.com/odoo-dev/odoo/compare/master-useless-_create-invalidate-cache-inherited-ryv)",ryv-odoo,2025-01-28 14:05:45+00:00,[],2025-02-04 07:31:51+00:00,,https://github.com/odoo/odoo/pull/195454,"[('RD', 'research & development, internal work')]","[{'comment_id': 2619102788, 'issue_id': 2815779564, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195454.png)](https://mergebot.odoo.com/odoo/odoo/pull/195454)', 'created_at': datetime.datetime(2025, 1, 28, 14, 5, 49, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-28 14:05:49 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195454.png)](https://mergebot.odoo.com/odoo/odoo/pull/195454)

"
2815775749,pull_request,closed,,[FW][FIX] product_margin: correct product margin report,"- Create a customer invoice with **Product A** priced at 1000 and a quantity of 2.

- Add a line with **Product A** at the same price but with a quantity of -1. Confirm the invoice.

In the product margin report, the `total_margin` for **Product A** is shown as 3000, even though we only sold for 1000 (as shown in the balance report). A similar issue occurs when a line on an invoice has a negative price, for instance, due to a discount on a sales order.

Similarly:

- Create a vendor bill with **Product B**, with a cost of 1000 and a quantity of 2.

- Add a line with **Product B**, with the same cost but a quantity of -1.

In the product margin report, the `total_cost` for **Product B** is shown as 3000, even though we only bought for 1000.

In `_compute_product_margin_fields_values`, the SQL query takes the absolute value of the balance of every account move line to compute `total`. This means negative values become positive and are added to the positive values instead of canceling each other out, creating the above issues. As a result, the product margin report does not align with the balance sheet.

The absolute value is used because `total` is used to compute statistics related to both `out_invoice` (e.g., turnover) and `in_invoice` (e.g., total cost), which both need to be positive. However, the same result can be achieved by inverting the sign for `out_invoice`.

opw-4342691



---
I confirm I have signed the CLA and read the PR guidelines at www.odoo.com/submit-pr

Forward-Port-Of: odoo/odoo#193440",fw-bot,2025-01-28 14:04:07+00:00,[],2025-02-03 10:18:04+00:00,2025-02-03 10:18:04+00:00,https://github.com/odoo/odoo/pull/195453,"[('OE', 'the report is linked to a support ticket (opw-...)'), ('forwardport', 'This PR was created by @fw-bot'), ('conflict', 'There was an error while creating this forward-port PR')]","[{'comment_id': 2619098360, 'issue_id': 2815775749, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195453.png)](https://mergebot.odoo.com/odoo/odoo/pull/195453)', 'created_at': datetime.datetime(2025, 1, 28, 14, 4, 9, tzinfo=datetime.timezone.utc)}, {'comment_id': 2619098463, 'issue_id': 2815775749, 'author': 'fw-bot', 'body': '@gteboul @jbw-odoo cherrypicking of pull request odoo/odoo#193440 failed.\n\nstdout:\n```\nAuto-merging addons/product_margin/models/product_product.py\nAuto-merging addons/product_margin/tests/test_product_margin.py\nCONFLICT (content): Merge conflict in addons/product_margin/tests/test_product_margin.py\n\n```\n\nEither perform the forward-port manually (and push to this branch, proceeding as usual) or close this PR (maybe?).\n\nIn the former case, you may want to edit this PR message as well.\n\n:warning: after resolving this conflict, you will need to merge it via @robodoo.\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 28, 14, 4, 12, tzinfo=datetime.timezone.utc)}, {'comment_id': 2628685187, 'issue_id': 2815775749, 'author': 'fw-bot', 'body': '@gteboul @jbw-odoo this forward port of odoo/odoo#193440 is awaiting action (not merged or closed).', 'created_at': datetime.datetime(2025, 2, 1, 2, 1, 26, tzinfo=datetime.timezone.utc)}, {'comment_id': 2629201823, 'issue_id': 2815775749, 'author': 'fw-bot', 'body': '@gteboul @jbw-odoo this forward port of odoo/odoo#193440 is awaiting action (not merged or closed).', 'created_at': datetime.datetime(2025, 2, 2, 2, 1, 39, tzinfo=datetime.timezone.utc)}, {'comment_id': 2629730501, 'issue_id': 2815775749, 'author': 'fw-bot', 'body': '@gteboul @jbw-odoo this forward port of odoo/odoo#193440 is awaiting action (not merged or closed).', 'created_at': datetime.datetime(2025, 2, 3, 2, 2, 42, tzinfo=datetime.timezone.utc)}, {'comment_id': 2630131139, 'issue_id': 2815775749, 'author': 'gteboul', 'body': '@robodoo r+', 'created_at': datetime.datetime(2025, 2, 3, 7, 4, 59, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-28 14:04:09 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195453.png)](https://mergebot.odoo.com/odoo/odoo/pull/195453)

fw-bot (Issue Creator) on (2025-01-28 14:04:12 UTC): @gteboul @jbw-odoo cherrypicking of pull request odoo/odoo#193440 failed.

stdout:
```
Auto-merging addons/product_margin/models/product_product.py
Auto-merging addons/product_margin/tests/test_product_margin.py
CONFLICT (content): Merge conflict in addons/product_margin/tests/test_product_margin.py

```

Either perform the forward-port manually (and push to this branch, proceeding as usual) or close this PR (maybe?).

In the former case, you may want to edit this PR message as well.

:warning: after resolving this conflict, you will need to merge it via @robodoo.

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

fw-bot (Issue Creator) on (2025-02-01 02:01:26 UTC): @gteboul @jbw-odoo this forward port of odoo/odoo#193440 is awaiting action (not merged or closed).

fw-bot (Issue Creator) on (2025-02-02 02:01:39 UTC): @gteboul @jbw-odoo this forward port of odoo/odoo#193440 is awaiting action (not merged or closed).

fw-bot (Issue Creator) on (2025-02-03 02:02:42 UTC): @gteboul @jbw-odoo this forward port of odoo/odoo#193440 is awaiting action (not merged or closed).

gteboul on (2025-02-03 07:04:59 UTC): @robodoo r+

"
2815756443,pull_request,closed,,[FIX] web_editor: Prevent traceback deleting knowledge behavior element,"Deleting a knowledge_behavior element previously caused a traceback due to deleteRange() removing its nodes, leading to an error when attempting to destroy the oKnowledgeBehavior. This fix ensures proper handling of element deletion.

Task-4210216",aath-odoo,2025-01-28 13:56:52+00:00,[],2025-02-04 12:21:13+00:00,2025-02-04 12:21:13+00:00,https://github.com/odoo/odoo/pull/195451,"[('RD', 'research & development, internal work')]","[{'comment_id': 2619079792, 'issue_id': 2815756443, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195451.png)](https://mergebot.odoo.com/odoo/odoo/pull/195451)', 'created_at': datetime.datetime(2025, 1, 28, 13, 56, 54, tzinfo=datetime.timezone.utc)}, {'comment_id': 2633385575, 'issue_id': 2815756443, 'author': 'abd-msyukyu-odoo', 'body': '@robodoo up to saas-17.4', 'created_at': datetime.datetime(2025, 2, 4, 9, 47, 40, tzinfo=datetime.timezone.utc)}, {'comment_id': 2633385741, 'issue_id': 2815756443, 'author': 'robodoo', 'body': ""Forward-porting to 'saas-17.4'."", 'created_at': datetime.datetime(2025, 2, 4, 9, 47, 43, tzinfo=datetime.timezone.utc)}, {'comment_id': 2633395037, 'issue_id': 2815756443, 'author': 'abd-msyukyu-odoo', 'body': ""@aath-odoo Hello, thanks for the update! Take care to not r+ the forward port in 17.0, we'll have to adapt the fix slightly :)\r\n\r\nCheers!"", 'created_at': datetime.datetime(2025, 2, 4, 9, 51, 43, tzinfo=datetime.timezone.utc)}, {'comment_id': 2633396741, 'issue_id': 2815756443, 'author': 'abd-msyukyu-odoo', 'body': '@robodoo r+', 'created_at': datetime.datetime(2025, 2, 4, 9, 52, 29, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-28 13:56:54 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195451.png)](https://mergebot.odoo.com/odoo/odoo/pull/195451)

abd-msyukyu-odoo on (2025-02-04 09:47:40 UTC): @robodoo up to saas-17.4

robodoo on (2025-02-04 09:47:43 UTC): Forward-porting to 'saas-17.4'.

abd-msyukyu-odoo on (2025-02-04 09:51:43 UTC): @aath-odoo Hello, thanks for the update! Take care to not r+ the forward port in 17.0, we'll have to adapt the fix slightly :)

Cheers!

abd-msyukyu-odoo on (2025-02-04 09:52:29 UTC): @robodoo r+

"
2815749735,pull_request,closed,,[FW][FIX] calendar: fix minor styling issues,"Since the update of FullCalendar some styling was not properly applied.

Which leads to the following issues:
- Missing borders
- Cropped text in month views
- Double borders

task-3833841

---
I confirm I have signed the CLA and read the PR guidelines at www.odoo.com/submit-pr

Forward-Port-Of: odoo/odoo#191056",fw-bot,2025-01-28 13:54:15+00:00,[],2025-01-29 01:12:08+00:00,2025-01-29 01:12:08+00:00,https://github.com/odoo/odoo/pull/195450,"[('RD', 'research & development, internal work'), ('forwardport', 'This PR was created by @fw-bot'), ('18.2', None)]","[{'comment_id': 2619073713, 'issue_id': 2815749735, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195450.png)](https://mergebot.odoo.com/odoo/odoo/pull/195450)', 'created_at': datetime.datetime(2025, 1, 28, 13, 54, 16, tzinfo=datetime.timezone.utc)}, {'comment_id': 2619073734, 'issue_id': 2815749735, 'author': 'fw-bot', 'body': '@mano-odoo @rfr-odoo this PR targets master and is the last of the forward-port chain containing:\n* odoo/odoo#195431\n* odoo/odoo#195415\n* odoo/odoo#195394\n\nTo merge the full chain, use\n> @robodoo r+\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 28, 13, 54, 17, tzinfo=datetime.timezone.utc)}, {'comment_id': 2619518577, 'issue_id': 2815749735, 'author': 'mano-odoo', 'body': '@robodoo r+', 'created_at': datetime.datetime(2025, 1, 28, 16, 39, 8, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-28 13:54:16 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195450.png)](https://mergebot.odoo.com/odoo/odoo/pull/195450)

fw-bot (Issue Creator) on (2025-01-28 13:54:17 UTC): @mano-odoo @rfr-odoo this PR targets master and is the last of the forward-port chain containing:
* odoo/odoo#195431
* odoo/odoo#195415
* odoo/odoo#195394

To merge the full chain, use

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

mano-odoo on (2025-01-28 16:39:08 UTC): @robodoo r+

"
2815727996,pull_request,closed,,[FIX] account: avoid too much repetition in line name,"### Steps to reproduce:
- Go to Accounting > Reports > Aged Receivable
- Unfold any customer shown, click on the three dots next to an invoice, and select ""View Journal Entry""
- On the Journal Entry, add the invoice sequence to Customer Reference and Payment Reference
- Go back to the report, you should see the invoice name is now shown 4 times

### Cause:
The bug appeared in this commit (https://github.com/odoo/odoo/commit/eb872c09897eb9edd5b6e5b9e8171fa6764be3dc). When computing the line `display_name`, if there is a name, a reference and `line_name`. The variable line_name already include the reference: 
`name = f'{line.move_id.ref} - {line.move_id.payment_reference}'` (https://github.com/odoo/odoo/commit/a6cbb7c2d3538d57dc8498f0dacf4566ea1492e7) 

So `line_name` is different from `move_name` and the result is: 
`line.move_id.name (line.move_id.ref) line.move_id.ref - line.move_id.payment_reference`

### Solution:
Check if the move_ref and the payment ref are the same, in that case only put one of the two as line_name. Then when computing the display_name, line_name will equal to move_name so line_name will not be included.

opw-4492298",mathcoutant,2025-01-28 13:46:39+00:00,[],2025-01-29 15:25:39+00:00,2025-01-29 15:25:39+00:00,https://github.com/odoo/odoo/pull/195449,"[('OE', 'the report is linked to a support ticket (opw-...)')]","[{'comment_id': 2619053031, 'issue_id': 2815727996, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195449.png)](https://mergebot.odoo.com/odoo/odoo/pull/195449)', 'created_at': datetime.datetime(2025, 1, 28, 13, 46, 42, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-28 13:46:42 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195449.png)](https://mergebot.odoo.com/odoo/odoo/pull/195449)

"
2815690040,pull_request,closed,,[FIX] mail: no crash Object.groupBy is not a function,"This happened when opening the composer in chatter on a outdated browser from as late as november 2023.

This commit adds a function that polyfills when the function is not implemented by the browser.",alexkuhn,2025-01-28 13:33:05+00:00,[],2025-01-28 15:59:57+00:00,2025-01-28 15:59:47+00:00,https://github.com/odoo/odoo/pull/195448,"[('RD', 'research & development, internal work')]","[{'comment_id': 2619012053, 'issue_id': 2815690040, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195448.png)](https://mergebot.odoo.com/odoo/odoo/pull/195448)', 'created_at': datetime.datetime(2025, 1, 28, 13, 33, 7, tzinfo=datetime.timezone.utc)}, {'comment_id': 2619136344, 'issue_id': 2815690040, 'author': 'Levizar', 'body': ""Not sure it is worth fixing.\r\n\r\nAccording to [wikipedia](https://en.wikipedia.org/wiki/Firefox_version_history#:~:text=Firefox%2010%20ESR%20is%20the,an%20ESR%20version%20of%20Firefox.) there are less than 0.09% browser user having a version of firefox < 119.\r\n\r\nIt also means that we will need to use that polyfill everytime we want to use the feature and that's 100% sure some dev (if not ost) will forget about it. (At least, I can tell you that in one month, I will have forget.)\r\n\r\nAlso, there are already other occurrence of `Object.groupBy` in `spreadsheet, spreadsheet_sale_management, pos_sale`."", 'created_at': datetime.datetime(2025, 1, 28, 14, 19, 21, tzinfo=datetime.timezone.utc)}, {'comment_id': 2619413195, 'issue_id': 2815690040, 'author': 'alexkuhn', 'body': '@Levizar Agree, the PR is mostly there to show what would solving this problem imply, including size of this polyfill. Even if this is small, we have a policy to support recent evergreen browser versions, and as you said Firefox 119 is more than a year old, which is definitely not ""recent"".', 'created_at': datetime.datetime(2025, 1, 28, 15, 59, 48, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-28 13:33:07 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195448.png)](https://mergebot.odoo.com/odoo/odoo/pull/195448)

Levizar on (2025-01-28 14:19:21 UTC): Not sure it is worth fixing.

According to [wikipedia](https://en.wikipedia.org/wiki/Firefox_version_history#:~:text=Firefox%2010%20ESR%20is%20the,an%20ESR%20version%20of%20Firefox.) there are less than 0.09% browser user having a version of firefox < 119.

It also means that we will need to use that polyfill everytime we want to use the feature and that's 100% sure some dev (if not ost) will forget about it. (At least, I can tell you that in one month, I will have forget.)

Also, there are already other occurrence of `Object.groupBy` in `spreadsheet, spreadsheet_sale_management, pos_sale`.

alexkuhn (Issue Creator) on (2025-01-28 15:59:48 UTC): @Levizar Agree, the PR is mostly there to show what would solving this problem imply, including size of this polyfill. Even if this is small, we have a policy to support recent evergreen browser versions, and as you said Firefox 119 is more than a year old, which is definitely not ""recent"".

"
2815632520,pull_request,closed,,[FIX] web: add a few emoji shortcodes,"This commit adds a few shortcodes to emojis that felt missing such as `:coffee:`.

Also use single space in the emoji suggestion when an emoji has more than 1 shortcode, for consistency with emoji picker search placeholder and also `,` is distracting: emoji shortcodes have no whitespace so whitespace is enough of a separator.",phenix-factory,2025-01-28 13:10:47+00:00,[],2025-01-31 10:09:37+00:00,2025-01-30 22:59:46+00:00,https://github.com/odoo/odoo/pull/195447,"[('RD', 'research & development, internal work')]","[{'comment_id': 2618959489, 'issue_id': 2815632520, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195447.png)](https://mergebot.odoo.com/odoo/odoo/pull/195447)', 'created_at': datetime.datetime(2025, 1, 28, 13, 10, 50, tzinfo=datetime.timezone.utc)}, {'comment_id': 2625619492, 'issue_id': 2815632520, 'author': 'robodoo', 'body': '@phenix-factory @alexkuhn staging failed: ci/runbot on caea3bb3648e15aad1c88c297e1cf80e236f423c (view more at https://runbot.odoo.com/runbot/build/74253786)', 'created_at': datetime.datetime(2025, 1, 30, 21, 20, 21, tzinfo=datetime.timezone.utc)}, {'comment_id': 2625624179, 'issue_id': 2815632520, 'author': 'seb-odoo', 'body': '@robodoo retry', 'created_at': datetime.datetime(2025, 1, 30, 21, 22, 58, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-28 13:10:50 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195447.png)](https://mergebot.odoo.com/odoo/odoo/pull/195447)

robodoo on (2025-01-30 21:20:21 UTC): @phenix-factory @alexkuhn staging failed: ci/runbot on caea3bb3648e15aad1c88c297e1cf80e236f423c (view more at https://runbot.odoo.com/runbot/build/74253786)

seb-odoo on (2025-01-30 21:22:58 UTC): @robodoo retry

"
2815619169,pull_request,closed,,wip,,romo-odoo,2025-01-28 13:05:45+00:00,[],2025-01-28 15:04:53+00:00,2025-01-28 15:04:50+00:00,https://github.com/odoo/odoo/pull/195446,"[('RD', 'research & development, internal work')]","[{'comment_id': 2618948250, 'issue_id': 2815619169, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195446.png)](https://mergebot.odoo.com/odoo/odoo/pull/195446)', 'created_at': datetime.datetime(2025, 1, 28, 13, 5, 48, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-28 13:05:48 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195446.png)](https://mergebot.odoo.com/odoo/odoo/pull/195446)

"
2815614759,pull_request,closed,,[FW][FIX] web_editor: adapt `border-style` value based on border widths,"[FIX] web_editor: adapt `border-style` value based on border widths

**Problem**:  
Outlook always displays the border of an element if `border-style` is set  
to `solid`, even when all border widths are 0.  

**Solution**:  
Change `border-style` to `none` if all border widths are 0.  

**Steps to Reproduce**:  
1. Open the ""Event: Registration Confirmation"" email template in the web editor.  
2. Add a character and save the template.  
3. Check the saved `body_html`.  
   -> All table elements will have `border-style: solid;` added as inline styling,  
      causing borders to appear in Outlook.  

opw-4211794

---
I confirm I have signed the CLA and read the PR guidelines at www.odoo.com/submit-pr

Forward-Port-Of: odoo/odoo#195282
Forward-Port-Of: odoo/odoo#193973",fw-bot,2025-01-28 13:04:17+00:00,[],2025-01-28 21:04:48+00:00,2025-01-28 21:04:48+00:00,https://github.com/odoo/odoo/pull/195445,"[('OE', 'the report is linked to a support ticket (opw-...)'), ('forwardport', 'This PR was created by @fw-bot')]","[{'comment_id': 2618945031, 'issue_id': 2815614759, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195445.png)](https://mergebot.odoo.com/odoo/odoo/pull/195445)', 'created_at': datetime.datetime(2025, 1, 28, 13, 4, 18, tzinfo=datetime.timezone.utc)}, {'comment_id': 2618945056, 'issue_id': 2815614759, 'author': 'fw-bot', 'body': 'This PR targets saas-18.1 and is part of the forward-port chain. Further PRs will be created up to master.\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 28, 13, 4, 19, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-28 13:04:18 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195445.png)](https://mergebot.odoo.com/odoo/odoo/pull/195445)

fw-bot (Issue Creator) on (2025-01-28 13:04:19 UTC): This PR targets saas-18.1 and is part of the forward-port chain. Further PRs will be created up to master.

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

"
2815604294,pull_request,closed,,[FW][FIX] account: Show partner limit currency,"The credit limit in the partner form view was missing a currency symbol, leading to ambiguity about whether the limit was in the customer's currency or the company's currency.

Displayed the partner limit in the company currency to avoid confusion.

task-4507336


---
I confirm I have signed the CLA and read the PR guidelines at www.odoo.com/submit-pr

Forward-Port-Of: odoo/odoo#195325
Forward-Port-Of: odoo/odoo#194807",fw-bot,2025-01-28 13:00:16+00:00,[],2025-01-30 14:41:37+00:00,2025-01-30 14:41:37+00:00,https://github.com/odoo/odoo/pull/195444,"[('RD', 'research & development, internal work'), ('forwardport', 'This PR was created by @fw-bot')]","[{'comment_id': 2618936338, 'issue_id': 2815604294, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195444.png)](https://mergebot.odoo.com/odoo/odoo/pull/195444)', 'created_at': datetime.datetime(2025, 1, 28, 13, 0, 17, tzinfo=datetime.timezone.utc)}, {'comment_id': 2618936359, 'issue_id': 2815604294, 'author': 'fw-bot', 'body': 'This PR targets saas-17.2 and is part of the forward-port chain. Further PRs will be created up to master.\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 28, 13, 0, 18, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-28 13:00:17 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195444.png)](https://mergebot.odoo.com/odoo/odoo/pull/195444)

fw-bot (Issue Creator) on (2025-01-28 13:00:18 UTC): This PR targets saas-17.2 and is part of the forward-port chain. Further PRs will be created up to master.

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

"
2815603097,pull_request,closed,,[FW][FIX] website_sale: show order ref on all checkout states,"Versions
--------
- 17.0+

Steps
-----
1. Enable Wire Transfer as a payment provider;
2. in eCommerce, add an item to cart;
3. go to checkout;
4. pay via wire transfer.

Issue
-----
The order reference isn't shown below the ""Thank you for your order"" message because the payment transaction hasn't been approved yet.

Solution
--------
Show the order reference regardless of transaction status.

opw-3844583

Forward-Port-Of: odoo/odoo#195228",fw-bot,2025-01-28 12:59:43+00:00,[],2025-01-29 16:28:20+00:00,2025-01-29 16:28:20+00:00,https://github.com/odoo/odoo/pull/195443,"[('OE', 'the report is linked to a support ticket (opw-...)'), ('forwardport', 'This PR was created by @fw-bot')]","[{'comment_id': 2618935143, 'issue_id': 2815603097, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195443.png)](https://mergebot.odoo.com/odoo/odoo/pull/195443)', 'created_at': datetime.datetime(2025, 1, 28, 12, 59, 44, tzinfo=datetime.timezone.utc)}, {'comment_id': 2618935168, 'issue_id': 2815603097, 'author': 'fw-bot', 'body': 'This PR targets saas-17.2 and is part of the forward-port chain. Further PRs will be created up to master.\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 28, 12, 59, 45, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-28 12:59:44 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195443.png)](https://mergebot.odoo.com/odoo/odoo/pull/195443)

fw-bot (Issue Creator) on (2025-01-28 12:59:45 UTC): This PR targets saas-17.2 and is part of the forward-port chain. Further PRs will be created up to master.

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

"
2815602266,pull_request,closed,,[FW][FIX] account_peppol: fix displayed error,"Fix the error displayed error.
The current code causes a key error.

task-no

Forward-Port-Of: odoo/odoo#195388",fw-bot,2025-01-28 12:59:24+00:00,[],2025-01-29 15:01:42+00:00,2025-01-29 15:01:42+00:00,https://github.com/odoo/odoo/pull/195442,"[('RD', 'research & development, internal work'), ('forwardport', 'This PR was created by @fw-bot')]","[{'comment_id': 2618934456, 'issue_id': 2815602266, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195442.png)](https://mergebot.odoo.com/odoo/odoo/pull/195442)', 'created_at': datetime.datetime(2025, 1, 28, 12, 59, 25, tzinfo=datetime.timezone.utc)}, {'comment_id': 2618934486, 'issue_id': 2815602266, 'author': 'fw-bot', 'body': 'This PR targets saas-17.2 and is part of the forward-port chain. Further PRs will be created up to master.\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 28, 12, 59, 26, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-28 12:59:25 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195442.png)](https://mergebot.odoo.com/odoo/odoo/pull/195442)

fw-bot (Issue Creator) on (2025-01-28 12:59:26 UTC): This PR targets saas-17.2 and is part of the forward-port chain. Further PRs will be created up to master.

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

"
2815601196,pull_request,closed,,[FW][FIX] l10n_ar_withholding: use disposable data during coa update,"### Steps to reproduce the issue:

1. Create two Argentinian Companies
2. In _Accounting > Configuration > Settings_ select the following Fiscal Localization Package for both companies: _Argentina - Argentine Generic Chart of Accounts for Exempt Individuals_
2. In _Accounting > Configuration > Accounting > Chart of Accounts_, duplicate an account and change its code to 6.0.0.00.020
3. Install _Argentina - Payment Withholdings_
4. The following issue occurs:

### Explanation:

In `_l10n_ar_withholding_post_init`, for each company, we will compare a previously created dict to the existing accounts. If an account already exists, the data is removed from the dict, and since it is created before we start looping through the Companies to make the comparison, any removed data is removed for the companies that follow as well.

### Fix reasoning:

We will copy the original dict to keep a safe version of the data and only modify the copy during the comparison process.

opw-4446501

Forward-Port-Of: odoo/odoo#194329",fw-bot,2025-01-28 12:58:55+00:00,[],2025-01-28 17:30:32+00:00,2025-01-28 17:30:32+00:00,https://github.com/odoo/odoo/pull/195441,"[('OE', 'the report is linked to a support ticket (opw-...)'), ('forwardport', 'This PR was created by @fw-bot')]","[{'comment_id': 2618933845, 'issue_id': 2815601196, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195441.png)](https://mergebot.odoo.com/odoo/odoo/pull/195441)', 'created_at': datetime.datetime(2025, 1, 28, 12, 59, 9, tzinfo=datetime.timezone.utc)}, {'comment_id': 2618933873, 'issue_id': 2815601196, 'author': 'fw-bot', 'body': 'This PR targets saas-17.2 and is part of the forward-port chain. Further PRs will be created up to master.\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 28, 12, 59, 10, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-28 12:59:09 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195441.png)](https://mergebot.odoo.com/odoo/odoo/pull/195441)

fw-bot (Issue Creator) on (2025-01-28 12:59:10 UTC): This PR targets saas-17.2 and is part of the forward-port chain. Further PRs will be created up to master.

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

"
2815591946,pull_request,closed,,[FIX] point_of_sale: fix CustomerDisplayPosAdapter bad var reference,"Steps to reproduce:
- Set the customer display feature on ""another device"" in the settings
- Open the POS and add products

Reason:
The refactor in 59700feb8fb6e4ca993ffdd1eef6951b9203ca06 badly kept referencing `pos` as a class field instead of a function parameter.

opw-4508838",hadielyakhni,2025-01-28 12:55:35+00:00,[],2025-01-29 09:06:06+00:00,2025-01-29 09:06:06+00:00,https://github.com/odoo/odoo/pull/195440,"[('OE', 'the report is linked to a support ticket (opw-...)')]","[{'comment_id': 2618926416, 'issue_id': 2815591946, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195440.png)](https://mergebot.odoo.com/odoo/odoo/pull/195440)', 'created_at': datetime.datetime(2025, 1, 28, 12, 55, 38, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-28 12:55:38 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195440.png)](https://mergebot.odoo.com/odoo/odoo/pull/195440)

"
2815574605,pull_request,open,,"[IMP] pos_restaurant, pos_*: automatize pending order management","*: point_of_sale, pos_online_payment

Remove manual gestion of pending order in POS and use hashes to manage states.

",davidmonnom,2025-01-28 12:50:11+00:00,[],2025-01-28 13:52:45+00:00,,https://github.com/odoo/odoo/pull/195439,"[('RD', 'research & development, internal work')]","[{'comment_id': 2618914448, 'issue_id': 2815574605, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195439.png)](https://mergebot.odoo.com/odoo/odoo/pull/195439)', 'created_at': datetime.datetime(2025, 1, 28, 12, 50, 13, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-28 12:50:13 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195439.png)](https://mergebot.odoo.com/odoo/odoo/pull/195439)

"
2815566405,pull_request,closed,,[FW][FIX] product_margin: correct product margin report,"- Create a customer invoice with **Product A** priced at 1000 and a quantity of 2.

- Add a line with **Product A** at the same price but with a quantity of -1. Confirm the invoice.

In the product margin report, the `total_margin` for **Product A** is shown as 3000, even though we only sold for 1000 (as shown in the balance report). A similar issue occurs when a line on an invoice has a negative price, for instance, due to a discount on a sales order.

Similarly:

- Create a vendor bill with **Product B**, with a cost of 1000 and a quantity of 2.

- Add a line with **Product B**, with the same cost but a quantity of -1.

In the product margin report, the `total_cost` for **Product B** is shown as 3000, even though we only bought for 1000.

In `_compute_product_margin_fields_values`, the SQL query takes the absolute value of the balance of every account move line to compute `total`. This means negative values become positive and are added to the positive values instead of canceling each other out, creating the above issues. As a result, the product margin report does not align with the balance sheet.

The absolute value is used because `total` is used to compute statistics related to both `out_invoice` (e.g., turnover) and `in_invoice` (e.g., total cost), which both need to be positive. However, the same result can be achieved by inverting the sign for `out_invoice`.

opw-4342691



---
I confirm I have signed the CLA and read the PR guidelines at www.odoo.com/submit-pr

Forward-Port-Of: odoo/odoo#193440",fw-bot,2025-01-28 12:47:04+00:00,[],2025-02-04 15:54:12+00:00,2025-02-04 15:54:12+00:00,https://github.com/odoo/odoo/pull/195438,"[('OE', 'the report is linked to a support ticket (opw-...)'), ('forwardport', 'This PR was created by @fw-bot')]","[{'comment_id': 2618907495, 'issue_id': 2815566405, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195438.png)](https://mergebot.odoo.com/odoo/odoo/pull/195438)', 'created_at': datetime.datetime(2025, 1, 28, 12, 47, 5, tzinfo=datetime.timezone.utc)}, {'comment_id': 2618907524, 'issue_id': 2815566405, 'author': 'fw-bot', 'body': 'This PR targets saas-17.4 and is part of the forward-port chain. Further PRs will be created up to master.\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 28, 12, 47, 6, tzinfo=datetime.timezone.utc)}, {'comment_id': 2619098397, 'issue_id': 2815566405, 'author': 'fw-bot', 'body': '@gteboul @jbw-odoo the next pull request (odoo/odoo#195453) is in conflict. You can merge the chain up to here by saying\n> @robodoo r+\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 28, 14, 4, 10, tzinfo=datetime.timezone.utc)}, {'comment_id': 2628685210, 'issue_id': 2815566405, 'author': 'fw-bot', 'body': '@gteboul @jbw-odoo this forward port of odoo/odoo#193440 is awaiting action (not merged or closed).', 'created_at': datetime.datetime(2025, 2, 1, 2, 1, 27, tzinfo=datetime.timezone.utc)}, {'comment_id': 2629201837, 'issue_id': 2815566405, 'author': 'fw-bot', 'body': '@gteboul @jbw-odoo this forward port of odoo/odoo#193440 is awaiting action (not merged or closed).', 'created_at': datetime.datetime(2025, 2, 2, 2, 1, 41, tzinfo=datetime.timezone.utc)}, {'comment_id': 2629730531, 'issue_id': 2815566405, 'author': 'fw-bot', 'body': '@gteboul @jbw-odoo this forward port of odoo/odoo#193440 is awaiting action (not merged or closed).', 'created_at': datetime.datetime(2025, 2, 3, 2, 2, 44, tzinfo=datetime.timezone.utc)}, {'comment_id': 2633469890, 'issue_id': 2815566405, 'author': 'gteboul', 'body': '@robodoo r+', 'created_at': datetime.datetime(2025, 2, 4, 10, 22, 16, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-28 12:47:05 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195438.png)](https://mergebot.odoo.com/odoo/odoo/pull/195438)

fw-bot (Issue Creator) on (2025-01-28 12:47:06 UTC): This PR targets saas-17.4 and is part of the forward-port chain. Further PRs will be created up to master.

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

fw-bot (Issue Creator) on (2025-01-28 14:04:10 UTC): @gteboul @jbw-odoo the next pull request (odoo/odoo#195453) is in conflict. You can merge the chain up to here by saying

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

fw-bot (Issue Creator) on (2025-02-01 02:01:27 UTC): @gteboul @jbw-odoo this forward port of odoo/odoo#193440 is awaiting action (not merged or closed).

fw-bot (Issue Creator) on (2025-02-02 02:01:41 UTC): @gteboul @jbw-odoo this forward port of odoo/odoo#193440 is awaiting action (not merged or closed).

fw-bot (Issue Creator) on (2025-02-03 02:02:44 UTC): @gteboul @jbw-odoo this forward port of odoo/odoo#193440 is awaiting action (not merged or closed).

gteboul on (2025-02-04 10:22:16 UTC): @robodoo r+

"
2815560898,pull_request,closed,,[FIX] mail: harmonize background of emoji picker and quick reactions,"The emoji picker bg is `bg-100` and the quick reaction menu bg is `bg-view` which seems odd. This PR harmonizes the two backgrounds.

| Before | After |
| ------------- | ------------- |
| ![image](https://github.com/user-attachments/assets/38b80d7a-c4ed-4abf-aad8-616480431d64) | ![image](https://github.com/user-attachments/assets/a77ddb66-b69c-4613-831d-9204a1c81d86)  |
",tsm-odoo,2025-01-28 12:44:46+00:00,[],2025-01-29 00:16:32+00:00,2025-01-28 21:04:52+00:00,https://github.com/odoo/odoo/pull/195437,"[('RD', 'research & development, internal work')]","[{'comment_id': 2618902593, 'issue_id': 2815560898, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195437.png)](https://mergebot.odoo.com/odoo/odoo/pull/195437)', 'created_at': datetime.datetime(2025, 1, 28, 12, 44, 50, tzinfo=datetime.timezone.utc)}, {'comment_id': 2618954440, 'issue_id': 2815560898, 'author': 'robodoo', 'body': 'Merge method set to rebase and fast-forward.', 'created_at': datetime.datetime(2025, 1, 28, 13, 8, 32, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-28 12:44:50 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195437.png)](https://mergebot.odoo.com/odoo/odoo/pull/195437)

robodoo on (2025-01-28 13:08:32 UTC): Merge method set to rebase and fast-forward.

"
2815559252,pull_request,open,,[FIX] html_editor: qweb and toolbar overlay,"**Current behavior before PR:**

- When clicking on a dynamic field, both the qweb overlay and the toolbar would appear simultaneously, causing an overlap.

**Desired behavior after PR is merged:**

- The qweb overlay will now only be shown when the selection is collapsed, ensuring that it does not overlap with the toolbar when it is visible.

task:4243987
",dhba-odoo,2025-01-28 12:44:17+00:00,[],2025-01-28 13:00:21+00:00,,https://github.com/odoo/odoo/pull/195436,"[('RD', 'research & development, internal work')]","[{'comment_id': 2618901361, 'issue_id': 2815559252, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195436.png)](https://mergebot.odoo.com/odoo/odoo/pull/195436)', 'created_at': datetime.datetime(2025, 1, 28, 12, 44, 19, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-28 12:44:19 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195436.png)](https://mergebot.odoo.com/odoo/odoo/pull/195436)

"
2815558142,pull_request,closed,,[FIX] mail: align avatar with composer,"Follow-up of https://github.com/odoo/odoo/pull/195364

PR above made several small UI adjustments, from similar PR made in 18.0. One of the change was to fix avatar alignment with composer. However the alignment fix made sense in 18.0 but not in 18.1.

This commit reverts this part of the improvements, so that the alignment is correct.

Before 
![Screenshot 2025-01-28 at 13 43 35](https://github.com/user-attachments/assets/22896495-ea35-418c-8533-83689a89cd74)

After
![Screenshot 2025-01-28 at 13 43 18](https://github.com/user-attachments/assets/31352d83-f006-48ed-a4b3-e6fa662a53cd)

",alexkuhn,2025-01-28 12:43:55+00:00,[],2025-01-29 00:16:37+00:00,2025-01-28 21:04:57+00:00,https://github.com/odoo/odoo/pull/195435,"[('RD', 'research & development, internal work')]","[{'comment_id': 2618900561, 'issue_id': 2815558142, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195435.png)](https://mergebot.odoo.com/odoo/odoo/pull/195435)', 'created_at': datetime.datetime(2025, 1, 28, 12, 43, 58, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-28 12:43:58 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195435.png)](https://mergebot.odoo.com/odoo/odoo/pull/195435)

"
2815537592,pull_request,open,,[FIX] hr_expense: prevent parseerror when user deletes invoicing categories,"Currently a Traceback appears when the user deletes the categories in 'Invoicing'.

**Error:**
```
ValueError: External ID not found in the system: product.product_category_expenses

ParseError
while parsing /home/odoo/src/odoo/saas-18.1/addons/hr_expense/data/hr_expense_data.xml:5, somewhere inside <record id=""expense_product_meal"" model=""product.product"">
            <field name=""name"">Meals</field>
            <field name=""description"">Restaurants, business lunches, etc.</field>
            <field name=""standard_price"">0.0</field>
            <field name=""type"">service</field>
            <field name=""uom_id"" ref=""uom.product_uom_unit""/>
            <field name=""default_code"">FOOD</field>
            <field name=""can_be_expensed"" eval=""True""/>
            <field name=""sale_ok"" eval=""False""/>
            <field name=""purchase_ok"" eval=""False""/>
            <field name=""categ_id"" ref=""product.product_category_expenses""/>
            <field name=""image_1920"" type=""base64"" file=""hr_expense/static/img/food.svg""/>
        </record>
 ```

### Steps to reproduce above error :-
- Install 'Invoicing' application (without demo data).
- Invoicing > Configuration > Categories, delete all categories.
- Install 'Expenses' application.
- The error appears in the log.

The error occurs because the user deleted the categories, then installed 'Expenses', which was required in that App.

This commit resolves the error by preventing the creation of product using `forcecreate=""False""`.

sentry-6235143606",ayve-odoo,2025-01-28 12:35:55+00:00,[],2025-01-31 13:51:57+00:00,,https://github.com/odoo/odoo/pull/195434,"[('RD', 'research & development, internal work')]","[{'comment_id': 2618884003, 'issue_id': 2815537592, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195434.png)](https://mergebot.odoo.com/odoo/odoo/pull/195434)', 'created_at': datetime.datetime(2025, 1, 28, 12, 35, 58, tzinfo=datetime.timezone.utc)}, {'comment_id': 2620839094, 'issue_id': 2815537592, 'author': 'ayve-odoo', 'body': 'Hello @odoo/sentry_reviewers  👋\r\n\r\nPlease review this small PR.\r\n\r\nThank You 🙂', 'created_at': datetime.datetime(2025, 1, 29, 6, 47, 29, tzinfo=datetime.timezone.utc)}, {'comment_id': 2627405722, 'issue_id': 2815537592, 'author': 'hupo-odoo', 'body': 'Hello, thank you for the fix! Your solution works, but would there not be a way to avoid not creating the expense categories when these invoicing categories are missing. I think of two better solutions (not sure how to implement though):\r\n - either create the expense categories without setting a value in the category field (which is not a required field by the way)\r\n - recreate the category ""expense"" when installing the expense app if is not in the database. \r\n \r\n These 2 solutions would be better since, although the expense categories aren\'t super important, they at least provide basic ideas of what the user could use them for, and it\'s a bit bad that they aren\'t created simply because they lack the category field.', 'created_at': datetime.datetime(2025, 1, 31, 13, 51, 55, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-28 12:35:58 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195434.png)](https://mergebot.odoo.com/odoo/odoo/pull/195434)

ayve-odoo (Issue Creator) on (2025-01-29 06:47:29 UTC): Hello @odoo/sentry_reviewers  👋

Please review this small PR.

Thank You 🙂

hupo-odoo on (2025-01-31 13:51:55 UTC): Hello, thank you for the fix! Your solution works, but would there not be a way to avoid not creating the expense categories when these invoicing categories are missing. I think of two better solutions (not sure how to implement though):
 - either create the expense categories without setting a value in the category field (which is not a required field by the way)
 - recreate the category ""expense"" when installing the expense app if is not in the database. 
 
 These 2 solutions would be better since, although the expense categories aren't super important, they at least provide basic ideas of what the user could use them for, and it's a bit bad that they aren't created simply because they lack the category field.

"
2815533596,pull_request,closed,,[FIX] event_sale: prevent error on upgrading module,"Currently a ``ParseError`` is arising when the user upgrades the ``event_sale`` module after deleting the ``Event Registration`` product from sales.

Steps to reproduce:
---
- Install ``Sale_management`` and ``event`` module (without demo data)
- Open ``Products`` in Sales > Delete ``Event Registration``
- Now upgrade ``event_sale`` module
- The error appears in the log.

Traceback:
---
```
Exception: Cannot update missing record 'event_product.product_product_event'

ParseError: while parsing /home/odoo/src/odoo/saas-18.1/addons/event_sale/data/event_sale_data.xml:4, somewhere inside <record id=""event_product.product_product_event"" model=""product.product"">
            <field name=""invoice_policy"">order</field>
        </record>
```

This commit resolves the issue by preventing the creation of a product using ``forcecreate=""False""``.

sentry-5731062091

---
I confirm I have signed the CLA and read the PR guidelines at www.odoo.com/submit-pr
",aamo-odoo,2025-01-28 12:34:21+00:00,[],2025-02-04 15:54:44+00:00,2025-02-04 15:54:44+00:00,https://github.com/odoo/odoo/pull/195433,"[('RD', 'research & development, internal work')]","[{'comment_id': 2618880628, 'issue_id': 2815533596, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195433.png)](https://mergebot.odoo.com/odoo/odoo/pull/195433)', 'created_at': datetime.datetime(2025, 1, 28, 12, 34, 24, tzinfo=datetime.timezone.utc)}, {'comment_id': 2620999446, 'issue_id': 2815533596, 'author': 'reth-odoo', 'body': ""If it's a parse error isn't this just hiding the issue under the rug?\r\nI don't really get the actual origin of the issue"", 'created_at': datetime.datetime(2025, 1, 29, 8, 40, 30, tzinfo=datetime.timezone.utc)}, {'comment_id': 2621106779, 'issue_id': 2815533596, 'author': 'reth-odoo', 'body': 'Thanks for providing the full traceback.\r\n\r\nSo the actual issue is that if we update an existing xmlid, using noupdate, we must specify `forcecreate=""False""`, enforced by `if self.noupdate and not nodeattr2bool(rec, \'forcecreate\', True):` in `convert.py`->`_tag_record`\r\n\r\nSo I would specify that in the commit message, as ""ParseError"" makes it seem like it\'s a syntax issue, not a logical one.\r\n\r\nOtherwise seems ok then :)', 'created_at': datetime.datetime(2025, 1, 29, 9, 26, 20, tzinfo=datetime.timezone.utc)}, {'comment_id': 2634028124, 'issue_id': 2815533596, 'author': 'awa-odoo', 'body': '@robodoo r+', 'created_at': datetime.datetime(2025, 2, 4, 13, 50, 9, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-28 12:34:24 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195433.png)](https://mergebot.odoo.com/odoo/odoo/pull/195433)

reth-odoo on (2025-01-29 08:40:30 UTC): If it's a parse error isn't this just hiding the issue under the rug?
I don't really get the actual origin of the issue

reth-odoo on (2025-01-29 09:26:20 UTC): Thanks for providing the full traceback.

So the actual issue is that if we update an existing xmlid, using noupdate, we must specify `forcecreate=""False""`, enforced by `if self.noupdate and not nodeattr2bool(rec, 'forcecreate', True):` in `convert.py`->`_tag_record`

So I would specify that in the commit message, as ""ParseError"" makes it seem like it's a syntax issue, not a logical one.

Otherwise seems ok then :)

awa-odoo on (2025-02-04 13:50:09 UTC): @robodoo r+

"
2815517288,pull_request,closed,,[FIX] base: Fix a traceback with the partner merging wizard,"Description of the issue/feature this PR addresses:

Fix a traceback with the partner merging wizard.

Current behavior before PR:

Currently, the partner merging wizard doesn't support fields of type `reference`, because this type of field is never used by Odoo on model `res.partner`.
This will never happend in native Odoo, but some external addons can trigger this traceback.

Desired behavior after PR is merged:

The traceback is fixed and reference fields are treated like any others field types.

---
I confirm I have signed the CLA and read the PR guidelines at www.odoo.com/submit-pr
",BurkhalterY,2025-01-28 12:29:13+00:00,[],2025-01-31 11:44:20+00:00,2025-01-31 11:44:20+00:00,https://github.com/odoo/odoo/pull/195432,"[('CLA', 'Contributor License Agreement')]","[{'comment_id': 2618869251, 'issue_id': 2815517288, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195432.png)](https://mergebot.odoo.com/odoo/odoo/pull/195432)', 'created_at': datetime.datetime(2025, 1, 28, 12, 29, 15, tzinfo=datetime.timezone.utc)}, {'comment_id': 2618872345, 'issue_id': 2815517288, 'author': 'BurkhalterY', 'body': '@ryv-odoo c.f. #190686', 'created_at': datetime.datetime(2025, 1, 28, 12, 30, 41, tzinfo=datetime.timezone.utc)}, {'comment_id': 2619426860, 'issue_id': 2815517288, 'author': 'ryv-odoo', 'body': '@robodoo r+\r\nThanks for your contribution @BurkhalterY', 'created_at': datetime.datetime(2025, 1, 28, 16, 4, 35, tzinfo=datetime.timezone.utc)}, {'comment_id': 2619427011, 'issue_id': 2815517288, 'author': 'robodoo', 'body': '@BurkhalterY @ryv-odoo because this PR has multiple commits, I need to know how to merge it:\n\n* `merge` to merge directly, using the PR as merge commit message\n* `rebase-merge` to rebase and merge, using the PR as merge commit message\n* `rebase-ff` to rebase and fast-forward', 'created_at': datetime.datetime(2025, 1, 28, 16, 4, 38, tzinfo=datetime.timezone.utc)}, {'comment_id': 2619427499, 'issue_id': 2815517288, 'author': 'ryv-odoo', 'body': '@robodoo rebase-ff', 'created_at': datetime.datetime(2025, 1, 28, 16, 4, 50, tzinfo=datetime.timezone.utc)}, {'comment_id': 2619427607, 'issue_id': 2815517288, 'author': 'robodoo', 'body': 'Merge method set to rebase and fast-forward.', 'created_at': datetime.datetime(2025, 1, 28, 16, 4, 53, tzinfo=datetime.timezone.utc)}, {'comment_id': 2620030378, 'issue_id': 2815517288, 'author': 'robodoo', 'body': '@BurkhalterY @ryv-odoo staging failed: ci/runbot on 526da1dd800290863a8c2c49349c1947e65299d5 (view more at https://runbot.odoo.com/runbot/build/74097380)', 'created_at': datetime.datetime(2025, 1, 28, 20, 50, 46, tzinfo=datetime.timezone.utc)}, {'comment_id': 2626712500, 'issue_id': 2815517288, 'author': 'ryv-odoo', 'body': '@robodoo retry\r\n:thinking:', 'created_at': datetime.datetime(2025, 1, 31, 9, 10, 41, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-28 12:29:15 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195432.png)](https://mergebot.odoo.com/odoo/odoo/pull/195432)

BurkhalterY (Issue Creator) on (2025-01-28 12:30:41 UTC): @ryv-odoo c.f. #190686

ryv-odoo on (2025-01-28 16:04:35 UTC): @robodoo r+
Thanks for your contribution @BurkhalterY

robodoo on (2025-01-28 16:04:38 UTC): @BurkhalterY @ryv-odoo because this PR has multiple commits, I need to know how to merge it:

* `merge` to merge directly, using the PR as merge commit message
* `rebase-merge` to rebase and merge, using the PR as merge commit message
* `rebase-ff` to rebase and fast-forward

ryv-odoo on (2025-01-28 16:04:50 UTC): @robodoo rebase-ff

robodoo on (2025-01-28 16:04:53 UTC): Merge method set to rebase and fast-forward.

robodoo on (2025-01-28 20:50:46 UTC): @BurkhalterY @ryv-odoo staging failed: ci/runbot on 526da1dd800290863a8c2c49349c1947e65299d5 (view more at https://runbot.odoo.com/runbot/build/74097380)

ryv-odoo on (2025-01-31 09:10:41 UTC): @robodoo retry
:thinking:

"
2815512111,pull_request,closed,,[FW][FIX] calendar: fix minor styling issues,"Since the update of FullCalendar some styling was not properly applied.

Which leads to the following issues:
- Missing borders
- Cropped text in month views
- Double borders

task-3833841

---
I confirm I have signed the CLA and read the PR guidelines at www.odoo.com/submit-pr

Forward-Port-Of: odoo/odoo#191056",fw-bot,2025-01-28 12:26:52+00:00,[],2025-01-29 02:37:22+00:00,2025-01-29 02:37:22+00:00,https://github.com/odoo/odoo/pull/195431,"[('RD', 'research & development, internal work'), ('forwardport', 'This PR was created by @fw-bot')]","[{'comment_id': 2618864134, 'issue_id': 2815512111, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195431.png)](https://mergebot.odoo.com/odoo/odoo/pull/195431)', 'created_at': datetime.datetime(2025, 1, 28, 12, 26, 53, tzinfo=datetime.timezone.utc)}, {'comment_id': 2618864154, 'issue_id': 2815512111, 'author': 'fw-bot', 'body': 'This PR targets saas-18.1 and is part of the forward-port chain. Further PRs will be created up to master.\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 28, 12, 26, 54, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-28 12:26:53 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195431.png)](https://mergebot.odoo.com/odoo/odoo/pull/195431)

fw-bot (Issue Creator) on (2025-01-28 12:26:54 UTC): This PR targets saas-18.1 and is part of the forward-port chain. Further PRs will be created up to master.

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

"
2815502425,pull_request,closed,,[FW][FIX] web: close form dialog with escape without bluring,"Have a form view opened in a dialog and edit the value of an input field (with onchange='1'), without bluring the input (i.e. such that the ""change"" event isn't fired yet). Press ""Escape"".

Before this commit, it crashed with error ""Component is destroyed"". The reason is that when the dialog closes itself, the ui service focusses the previously active element (an element that was behind the dialog), which in turn blurs the current active element (the input that we edited), which fires the ""change"" event. However, at that point, the form controller is already destroyed, hence the error.

In that flow, we don't want to perform the onchange as we're discarding the form. Actually, we don't want the field to listen to the ""change"" event anymore. We delay for a micro-tick the activation of the previously active element, to wait for owl to have called destroy on the whole component hierarchy, and thus for the ""change"" handler to be removed (in input_field_hook).

The issue could be reproduced in Studio:
 - click on Edit menu
 - open a menu to edit it
 - change its name but to not blur/click out
 - press Esc

This is a backport of odoo/odoo#195238, where we add a test (hoot). The faulty scenario could not be reproduced in the QUnit suite because we do not precisely enough mock events that occur when focusing/bluring elements.

opw-4490577

Description of the issue/feature this PR addresses:

Current behavior before PR:

Desired behavior after PR is merged:




---
I confirm I have signed the CLA and read the PR guidelines at www.odoo.com/submit-pr

Forward-Port-Of: odoo/odoo#195343
Forward-Port-Of: odoo/odoo#195242",fw-bot,2025-01-28 12:22:34+00:00,[],2025-01-29 17:42:36+00:00,2025-01-29 17:42:36+00:00,https://github.com/odoo/odoo/pull/195430,"[('OE', 'the report is linked to a support ticket (opw-...)'), ('forwardport', 'This PR was created by @fw-bot'), ('conflict', 'There was an error while creating this forward-port PR')]","[{'comment_id': 2618855125, 'issue_id': 2815502425, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195430.png)](https://mergebot.odoo.com/odoo/odoo/pull/195430)', 'created_at': datetime.datetime(2025, 1, 28, 12, 22, 39, tzinfo=datetime.timezone.utc)}, {'comment_id': 2618855148, 'issue_id': 2815502425, 'author': 'fw-bot', 'body': '@aab-odoo @kebeclibre cherrypicking of pull request odoo/odoo#195242 failed.\n\nstdout:\n```\nAuto-merging addons/web/static/tests/core/confirmation_dialog.test.js\nCONFLICT (modify/delete): addons/web/static/tests/legacy/core/hotkeys/hotkey_service_tests.js deleted in 1a8aaa2c75cef225b824cd0f1a072fed79fd40e5 and modified in c0638ea84f2a563aeb63179648c6b56b8f008a2b.  Version c0638ea84f2a563aeb63179648c6b56b8f008a2b of addons/web/static/tests/legacy/core/hotkeys/hotkey_service_tests.js left in tree.\n\n```\n\nEither perform the forward-port manually (and push to this branch, proceeding as usual) or close this PR (maybe?).\n\nIn the former case, you may want to edit this PR message as well.\n\n:warning: after resolving this conflict, you will need to merge it via @robodoo.\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 28, 12, 22, 39, tzinfo=datetime.timezone.utc)}, {'comment_id': 2621453614, 'issue_id': 2815502425, 'author': 'robodoo', 'body': ""@aab-odoo @kebeclibre 'ci/runbot' failed on this reviewed PR."", 'created_at': datetime.datetime(2025, 1, 29, 12, 2, 25, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-28 12:22:39 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195430.png)](https://mergebot.odoo.com/odoo/odoo/pull/195430)

fw-bot (Issue Creator) on (2025-01-28 12:22:39 UTC): @aab-odoo @kebeclibre cherrypicking of pull request odoo/odoo#195242 failed.

stdout:
```
Auto-merging addons/web/static/tests/core/confirmation_dialog.test.js
CONFLICT (modify/delete): addons/web/static/tests/legacy/core/hotkeys/hotkey_service_tests.js deleted in 1a8aaa2c75cef225b824cd0f1a072fed79fd40e5 and modified in c0638ea84f2a563aeb63179648c6b56b8f008a2b.  Version c0638ea84f2a563aeb63179648c6b56b8f008a2b of addons/web/static/tests/legacy/core/hotkeys/hotkey_service_tests.js left in tree.

```

Either perform the forward-port manually (and push to this branch, proceeding as usual) or close this PR (maybe?).

In the former case, you may want to edit this PR message as well.

:warning: after resolving this conflict, you will need to merge it via @robodoo.

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

robodoo on (2025-01-29 12:02:25 UTC): @aab-odoo @kebeclibre 'ci/runbot' failed on this reviewed PR.

"
2815499736,pull_request,closed,,[FIX] im_livechat: remove unwanted redirection,"Before this PR, if a chatbot's last step is redirecting to a URL, a visitor could be trapped in an infinite loop of redirection. This is because the chatbot always replays the last step of the script when the page loads.

This PR updated the livechat_active status when all the steps were done and ensured that the chatbot service doesn't start if livechat_active is false.

Task-4518285
",phenix-factory,2025-01-28 12:21:19+00:00,[],2025-02-04 23:02:02+00:00,2025-02-04 23:02:02+00:00,https://github.com/odoo/odoo/pull/195429,"[('RD', 'research & development, internal work')]","[{'comment_id': 2618852384, 'issue_id': 2815499736, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195429.png)](https://mergebot.odoo.com/odoo/odoo/pull/195429)', 'created_at': datetime.datetime(2025, 1, 28, 12, 21, 21, tzinfo=datetime.timezone.utc)}, {'comment_id': 2630646564, 'issue_id': 2815499736, 'author': 'tsm-odoo', 'body': '@robodoo r+', 'created_at': datetime.datetime(2025, 2, 3, 11, 12, 33, tzinfo=datetime.timezone.utc)}, {'comment_id': 2630801114, 'issue_id': 2815499736, 'author': 'tsm-odoo', 'body': '@robodoo r-\r\n\r\nrestart code was removed, we need to put it back or the chat bot wont restart otherwise.', 'created_at': datetime.datetime(2025, 2, 3, 12, 23, 46, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-28 12:21:21 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195429.png)](https://mergebot.odoo.com/odoo/odoo/pull/195429)

tsm-odoo on (2025-02-03 11:12:33 UTC): @robodoo r+

tsm-odoo on (2025-02-03 12:23:46 UTC): @robodoo r-

restart code was removed, we need to put it back or the chat bot wont restart otherwise.

"
2815469591,pull_request,closed,,[FW][FIX] iot_box_image: input acces for odoo user,"Currently, as the user ""odoo"" which runs Odoo service on the IoT Box on images >=25_01 is not in the group ""input"" it does not detect all of the connected USB devices and cannot properly detect keyboard input in KeyboardDriver_L.py

Note: the fix needs the build of a new image to apply it

This PR fixes the issue by adding ""odoo"" to the ""input"" group

task-4432802

Related PR:
https://github.com/odoo/odoo/pull/195306

Forward-Port-Of: odoo/odoo#195307",fw-bot,2025-01-28 12:08:42+00:00,[],2025-01-28 23:33:15+00:00,2025-01-28 23:33:15+00:00,https://github.com/odoo/odoo/pull/195428,"[('RD', 'research & development, internal work'), ('forwardport', 'This PR was created by @fw-bot'), ('18.2', None)]","[{'comment_id': 2618825276, 'issue_id': 2815469591, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195428.png)](https://mergebot.odoo.com/odoo/odoo/pull/195428)', 'created_at': datetime.datetime(2025, 1, 28, 12, 9, 13, tzinfo=datetime.timezone.utc)}, {'comment_id': 2618825293, 'issue_id': 2815469591, 'author': 'fw-bot', 'body': '@Ysoroko @qle-odoo this PR targets master and is the last of the forward-port chain.\n\nTo merge the full chain, use\n> @robodoo r+\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 28, 12, 9, 14, tzinfo=datetime.timezone.utc)}, {'comment_id': 2618849601, 'issue_id': 2815469591, 'author': 'Ysoroko', 'body': '@robodoo r+', 'created_at': datetime.datetime(2025, 1, 28, 12, 20, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-28 12:09:13 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195428.png)](https://mergebot.odoo.com/odoo/odoo/pull/195428)

fw-bot (Issue Creator) on (2025-01-28 12:09:14 UTC): @Ysoroko @qle-odoo this PR targets master and is the last of the forward-port chain.

To merge the full chain, use

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

Ysoroko on (2025-01-28 12:20:00 UTC): @robodoo r+

"
2815468218,pull_request,open,,"[IMP] l10n_ar_website_sale, l10n_ar_withholding: update translations","Task Adhoc side: 44224

Description of the issue/feature this PR addresses:

Current behavior before PR:

Desired behavior after PR is merged:




---
I confirm I have signed the CLA and read the PR guidelines at www.odoo.com/submit-pr
",pablohmontenegro,2025-01-28 12:08:12+00:00,[],2025-01-28 12:13:18+00:00,,https://github.com/odoo/odoo/pull/195427,[],"[{'comment_id': 2618825222, 'issue_id': 2815468218, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195427.png)](https://mergebot.odoo.com/odoo/odoo/pull/195427)', 'created_at': datetime.datetime(2025, 1, 28, 12, 9, 11, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-28 12:09:11 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195427.png)](https://mergebot.odoo.com/odoo/odoo/pull/195427)

"
2815418603,pull_request,closed,,[FW][FIX] web: hide tooltip on html fields in calendar popover,"To reproduce:
=============
- create an event on calendar with description containing html
- on calendar view, click on the event to open the popover and hover on the description field
-> the tooltip is displayed with raw html content

Fix:
====
hide the tooltip on html fields in calendar popover as it's not needed

opw-4356581
---
I confirm I have signed the CLA and read the PR guidelines at www.odoo.com/submit-pr

Forward-Port-Of: odoo/odoo#195149
Forward-Port-Of: odoo/odoo#192104",fw-bot,2025-01-28 11:51:21+00:00,[],2025-01-29 15:20:19+00:00,2025-01-29 15:20:19+00:00,https://github.com/odoo/odoo/pull/195426,"[('OE', 'the report is linked to a support ticket (opw-...)'), ('forwardport', 'This PR was created by @fw-bot'), ('18.2', None)]","[{'comment_id': 2618783616, 'issue_id': 2815418603, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195426.png)](https://mergebot.odoo.com/odoo/odoo/pull/195426)', 'created_at': datetime.datetime(2025, 1, 28, 11, 51, 23, tzinfo=datetime.timezone.utc)}, {'comment_id': 2618783639, 'issue_id': 2815418603, 'author': 'fw-bot', 'body': '@abla001 @aab-odoo this PR targets master and is the last of the forward-port chain containing:\n* odoo/odoo#195405\n\nTo merge the full chain, use\n> @robodoo r+\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 28, 11, 51, 23, tzinfo=datetime.timezone.utc)}, {'comment_id': 2620471604, 'issue_id': 2815418603, 'author': 'fw-bot', 'body': '@abla001 @aab-odoo this forward port of odoo/odoo#192104 is awaiting action (not merged or closed).', 'created_at': datetime.datetime(2025, 1, 29, 2, 1, 17, tzinfo=datetime.timezone.utc)}, {'comment_id': 2620940355, 'issue_id': 2815418603, 'author': 'abla001', 'body': '@robodoo r+', 'created_at': datetime.datetime(2025, 1, 29, 8, 5, 52, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-28 11:51:23 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195426.png)](https://mergebot.odoo.com/odoo/odoo/pull/195426)

fw-bot (Issue Creator) on (2025-01-28 11:51:23 UTC): @abla001 @aab-odoo this PR targets master and is the last of the forward-port chain containing:
* odoo/odoo#195405

To merge the full chain, use

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

fw-bot (Issue Creator) on (2025-01-29 02:01:17 UTC): @abla001 @aab-odoo this forward port of odoo/odoo#192104 is awaiting action (not merged or closed).

abla001 on (2025-01-29 08:05:52 UTC): @robodoo r+

"
2815399387,pull_request,closed,,[FW][FIX] mrp: variant assignation warning,"Issue
-----
When selecting a variant for the bom, all of the component lines lose the ""Apply on variants"" info. This is intended behaviour but can lead to big data losses for larger boms.

Discussed it with PO and we went with a simple user warning when this happens.

Steps to reproduce
-----
- Create product ""A"" with variant ""A1"" and product ""B""
- Create a bom for A
- Create a bom line with ""Apply on variants"" set to A1
- Save the bom
- Change the bom product from A to B
- Save the bom / Leave the page

Ticket:
opw-4182384

Forward-Port-Of: odoo/odoo#191541",fw-bot,2025-01-28 11:43:16+00:00,[],2025-01-28 23:32:59+00:00,2025-01-28 23:32:59+00:00,https://github.com/odoo/odoo/pull/195425,"[('OE', 'the report is linked to a support ticket (opw-...)'), ('forwardport', 'This PR was created by @fw-bot'), ('18.2', None)]","[{'comment_id': 2618766574, 'issue_id': 2815399387, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195425.png)](https://mergebot.odoo.com/odoo/odoo/pull/195425)', 'created_at': datetime.datetime(2025, 1, 28, 11, 43, 18, tzinfo=datetime.timezone.utc)}, {'comment_id': 2618766592, 'issue_id': 2815399387, 'author': 'fw-bot', 'body': '@vandroogenbd @adwid this PR targets master and is the last of the forward-port chain containing:\n* odoo/odoo#195381\n* odoo/odoo#195351\n\nTo merge the full chain, use\n> @robodoo r+\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 28, 11, 43, 18, tzinfo=datetime.timezone.utc)}, {'comment_id': 2618953748, 'issue_id': 2815399387, 'author': 'vandroogenbd', 'body': '@robodoo r+', 'created_at': datetime.datetime(2025, 1, 28, 13, 8, 15, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-28 11:43:18 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195425.png)](https://mergebot.odoo.com/odoo/odoo/pull/195425)

fw-bot (Issue Creator) on (2025-01-28 11:43:18 UTC): @vandroogenbd @adwid this PR targets master and is the last of the forward-port chain containing:
* odoo/odoo#195381
* odoo/odoo#195351

To merge the full chain, use

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

vandroogenbd on (2025-01-28 13:08:15 UTC): @robodoo r+

"
2815342314,pull_request,closed,,[I18N] *: manually sync Greek translations,"Due to the sync being broken the past 2 weeks, manually pull the Greek translations since translations have been added to it recently.

Description of the issue/feature this PR addresses:

Current behavior before PR:

Desired behavior after PR is merged:




---
I confirm I have signed the CLA and read the PR guidelines at www.odoo.com/submit-pr
",ticodoo,2025-01-28 11:19:37+00:00,[],2025-01-29 08:29:09+00:00,2025-01-29 08:29:09+00:00,https://github.com/odoo/odoo/pull/195424,"[('RD', 'research & development, internal work')]","[{'comment_id': 2618711920, 'issue_id': 2815342314, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195424.png)](https://mergebot.odoo.com/odoo/odoo/pull/195424)', 'created_at': datetime.datetime(2025, 1, 28, 11, 19, 41, tzinfo=datetime.timezone.utc)}, {'comment_id': 2618716761, 'issue_id': 2815342314, 'author': 'ticodoo', 'body': '@robodoo fw=no\r\n\r\nonly requested for v18', 'created_at': datetime.datetime(2025, 1, 28, 11, 21, 58, tzinfo=datetime.timezone.utc)}, {'comment_id': 2618716854, 'issue_id': 2815342314, 'author': 'robodoo', 'body': 'Disabled forward-porting.', 'created_at': datetime.datetime(2025, 1, 28, 11, 22, 1, tzinfo=datetime.timezone.utc)}, {'comment_id': 2619048885, 'issue_id': 2815342314, 'author': 'ticodoo', 'body': '@robodoo r+', 'created_at': datetime.datetime(2025, 1, 28, 13, 45, 1, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-28 11:19:41 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195424.png)](https://mergebot.odoo.com/odoo/odoo/pull/195424)

ticodoo (Issue Creator) on (2025-01-28 11:21:58 UTC): @robodoo fw=no

only requested for v18

robodoo on (2025-01-28 11:22:01 UTC): Disabled forward-porting.

ticodoo (Issue Creator) on (2025-01-28 13:45:01 UTC): @robodoo r+

"
2815339224,pull_request,open,,[FW][FIX] point_of_sale: `console.error` unknown issue in `printHtml`,"__Current behavior before commit:__
If an unexpected error that has no body is thrown inside `printHtml`, the popup shows ""undefinedDo you want to print using the web printer?"" and nothing is written in the console, making it impossible to troubleshoot.

__Description of the fix:__
Don't print ""undefined"" in the popup if the error has no body but write the error in the console.

opw-4322339

Forward-Port-Of: odoo/odoo#194985",fw-bot,2025-01-28 11:18:08+00:00,[],2025-02-03 12:57:06+00:00,,https://github.com/odoo/odoo/pull/195423,"[('OE', 'the report is linked to a support ticket (opw-...)'), ('forwardport', 'This PR was created by @fw-bot'), ('conflict', 'There was an error while creating this forward-port PR')]","[{'comment_id': 2618708814, 'issue_id': 2815339224, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195423.png)](https://mergebot.odoo.com/odoo/odoo/pull/195423)', 'created_at': datetime.datetime(2025, 1, 28, 11, 18, 9, tzinfo=datetime.timezone.utc)}, {'comment_id': 2618708844, 'issue_id': 2815339224, 'author': 'fw-bot', 'body': '@Dj0ulo @vlst-odoo cherrypicking of pull request odoo/odoo#194985 failed.\n\nstdout:\n```\nAuto-merging addons/point_of_sale/static/src/app/printer/pos_printer_service.js\nCONFLICT (content): Merge conflict in addons/point_of_sale/static/src/app/printer/pos_printer_service.js\n\n```\n\nEither perform the forward-port manually (and push to this branch, proceeding as usual) or close this PR (maybe?).\n\nIn the former case, you may want to edit this PR message as well.\n\n:warning: after resolving this conflict, you will need to merge it via @robodoo.\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 28, 11, 18, 10, tzinfo=datetime.timezone.utc)}, {'comment_id': 2628684829, 'issue_id': 2815339224, 'author': 'fw-bot', 'body': '@Dj0ulo @vlst-odoo this forward port of odoo/odoo#194985 is awaiting action (not merged or closed).', 'created_at': datetime.datetime(2025, 2, 1, 2, 1, 6, tzinfo=datetime.timezone.utc)}, {'comment_id': 2629201563, 'issue_id': 2815339224, 'author': 'fw-bot', 'body': '@Dj0ulo @vlst-odoo this forward port of odoo/odoo#194985 is awaiting action (not merged or closed).', 'created_at': datetime.datetime(2025, 2, 2, 2, 1, 12, tzinfo=datetime.timezone.utc)}, {'comment_id': 2629729835, 'issue_id': 2815339224, 'author': 'fw-bot', 'body': '@Dj0ulo @vlst-odoo this forward port of odoo/odoo#194985 is awaiting action (not merged or closed).', 'created_at': datetime.datetime(2025, 2, 3, 2, 2, 1, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-28 11:18:09 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195423.png)](https://mergebot.odoo.com/odoo/odoo/pull/195423)

fw-bot (Issue Creator) on (2025-01-28 11:18:10 UTC): @Dj0ulo @vlst-odoo cherrypicking of pull request odoo/odoo#194985 failed.

stdout:
```
Auto-merging addons/point_of_sale/static/src/app/printer/pos_printer_service.js
CONFLICT (content): Merge conflict in addons/point_of_sale/static/src/app/printer/pos_printer_service.js

```

Either perform the forward-port manually (and push to this branch, proceeding as usual) or close this PR (maybe?).

In the former case, you may want to edit this PR message as well.

:warning: after resolving this conflict, you will need to merge it via @robodoo.

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

fw-bot (Issue Creator) on (2025-02-01 02:01:06 UTC): @Dj0ulo @vlst-odoo this forward port of odoo/odoo#194985 is awaiting action (not merged or closed).

fw-bot (Issue Creator) on (2025-02-02 02:01:12 UTC): @Dj0ulo @vlst-odoo this forward port of odoo/odoo#194985 is awaiting action (not merged or closed).

fw-bot (Issue Creator) on (2025-02-03 02:02:01 UTC): @Dj0ulo @vlst-odoo this forward port of odoo/odoo#194985 is awaiting action (not merged or closed).

"
2815338535,pull_request,closed,,[FW][FIX] product_margin: correct product margin report,"- Create a customer invoice with **Product A** priced at 1000 and a quantity of 2.

- Add a line with **Product A** at the same price but with a quantity of -1. Confirm the invoice.

In the product margin report, the `total_margin` for **Product A** is shown as 3000, even though we only sold for 1000 (as shown in the balance report). A similar issue occurs when a line on an invoice has a negative price, for instance, due to a discount on a sales order.

Similarly:

- Create a vendor bill with **Product B**, with a cost of 1000 and a quantity of 2.

- Add a line with **Product B**, with the same cost but a quantity of -1.

In the product margin report, the `total_cost` for **Product B** is shown as 3000, even though we only bought for 1000.

In `_compute_product_margin_fields_values`, the SQL query takes the absolute value of the balance of every account move line to compute `total`. This means negative values become positive and are added to the positive values instead of canceling each other out, creating the above issues. As a result, the product margin report does not align with the balance sheet.

The absolute value is used because `total` is used to compute statistics related to both `out_invoice` (e.g., turnover) and `in_invoice` (e.g., total cost), which both need to be positive. However, the same result can be achieved by inverting the sign for `out_invoice`.

opw-4342691



---
I confirm I have signed the CLA and read the PR guidelines at www.odoo.com/submit-pr

Forward-Port-Of: odoo/odoo#193440",fw-bot,2025-01-28 11:17:49+00:00,[],2025-02-04 11:50:36+00:00,2025-02-04 11:50:36+00:00,https://github.com/odoo/odoo/pull/195422,"[('OE', 'the report is linked to a support ticket (opw-...)'), ('forwardport', 'This PR was created by @fw-bot')]","[{'comment_id': 2618708162, 'issue_id': 2815338535, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195422.png)](https://mergebot.odoo.com/odoo/odoo/pull/195422)', 'created_at': datetime.datetime(2025, 1, 28, 11, 17, 50, tzinfo=datetime.timezone.utc)}, {'comment_id': 2618708182, 'issue_id': 2815338535, 'author': 'fw-bot', 'body': 'This PR targets saas-17.2 and is part of the forward-port chain. Further PRs will be created up to master.\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 28, 11, 17, 51, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-28 11:17:50 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195422.png)](https://mergebot.odoo.com/odoo/odoo/pull/195422)

fw-bot (Issue Creator) on (2025-01-28 11:17:51 UTC): This PR targets saas-17.2 and is part of the forward-port chain. Further PRs will be created up to master.

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

"
2815332142,pull_request,closed,,[FIX] point_of_sale: fix error using .trim() on undefined,"The error was caused by calling .trim() on a variable that could be undefined.

This commit adds a check to ensure the variable is defined before calling .trim()

",davidmonnom,2025-01-28 11:14:47+00:00,[],2025-01-29 13:43:34+00:00,2025-01-29 13:43:34+00:00,https://github.com/odoo/odoo/pull/195421,"[('RD', 'research & development, internal work')]","[{'comment_id': 2618701664, 'issue_id': 2815332142, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195421.png)](https://mergebot.odoo.com/odoo/odoo/pull/195421)', 'created_at': datetime.datetime(2025, 1, 28, 11, 14, 51, tzinfo=datetime.timezone.utc)}, {'comment_id': 2619226735, 'issue_id': 2815332142, 'author': 'caburj', 'body': 'robodoo r+', 'created_at': datetime.datetime(2025, 1, 28, 14, 51, 14, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-28 11:14:51 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195421.png)](https://mergebot.odoo.com/odoo/odoo/pull/195421)

caburj on (2025-01-28 14:51:14 UTC): robodoo r+

"
2815324277,pull_request,closed,,Website Links: Convert public widgets to Interactions,,romo-odoo,2025-01-28 11:10:54+00:00,[],2025-01-28 15:03:51+00:00,2025-01-28 15:03:48+00:00,https://github.com/odoo/odoo/pull/195420,"[('RD', 'research & development, internal work')]","[{'comment_id': 2618693584, 'issue_id': 2815324277, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195420.png)](https://mergebot.odoo.com/odoo/odoo/pull/195420)', 'created_at': datetime.datetime(2025, 1, 28, 11, 10, 57, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-28 11:10:57 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195420.png)](https://mergebot.odoo.com/odoo/odoo/pull/195420)

"
2815321452,pull_request,closed,,[FW][FIX] repair: show recycle lines in repair order report,"Description of the issue/feature this PR addresses:
The ""Recycle"" repair type wasn't integrated properly into the report template
Current behavior before PR:
Repair lines with ""Recycle"" type create empty lines on the repair order report
![grafik](https://github.com/user-attachments/assets/20ffc739-d14d-4f3b-adfe-73b36fa42938)
![grafik](https://github.com/user-attachments/assets/157bd99f-e1ff-4c3b-a89d-7b67284e336b)
Desired behavior after PR is merged:
Repair lines with ""Recycle"" type have their product description printed on the report


---
I confirm I have signed the CLA and read the PR guidelines at www.odoo.com/submit-pr

Forward-Port-Of: odoo/odoo#193502",fw-bot,2025-01-28 11:09:40+00:00,[],2025-01-28 23:32:47+00:00,2025-01-28 23:32:47+00:00,https://github.com/odoo/odoo/pull/195419,"[('RD', 'research & development, internal work'), ('forwardport', 'This PR was created by @fw-bot'), ('18.2', None)]","[{'comment_id': 2618690747, 'issue_id': 2815321452, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195419.png)](https://mergebot.odoo.com/odoo/odoo/pull/195419)', 'created_at': datetime.datetime(2025, 1, 28, 11, 9, 41, tzinfo=datetime.timezone.utc)}, {'comment_id': 2618690768, 'issue_id': 2815321452, 'author': 'fw-bot', 'body': '@AlienAtSystem @ticodoo this PR targets master and is the last of the forward-port chain containing:\n* odoo/odoo#195398\n* odoo/odoo#195354\n* odoo/odoo#195335\n* odoo/odoo#195322\n\nTo merge the full chain, use\n> @robodoo r+\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 28, 11, 9, 42, tzinfo=datetime.timezone.utc)}, {'comment_id': 2618708278, 'issue_id': 2815321452, 'author': 'ticodoo', 'body': '@robodoo r+', 'created_at': datetime.datetime(2025, 1, 28, 11, 17, 53, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-28 11:09:41 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195419.png)](https://mergebot.odoo.com/odoo/odoo/pull/195419)

fw-bot (Issue Creator) on (2025-01-28 11:09:42 UTC): @AlienAtSystem @ticodoo this PR targets master and is the last of the forward-port chain containing:
* odoo/odoo#195398
* odoo/odoo#195354
* odoo/odoo#195335
* odoo/odoo#195322

To merge the full chain, use

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

ticodoo on (2025-01-28 11:17:53 UTC): @robodoo r+

"
2815311083,pull_request,open,,[FIX] l10n_es_edi_tbai_multi_refund: enable selecting refunded vendor bills,"
When trying to select refunded vendor bills with this module, only customer invoices were searchable:


https://github.com/user-attachments/assets/e6b01236-780c-45d9-b03a-0cae83a6f37b



It turns out that the web client has a bug. When there's a field defined twice in the same form, to make it conditionally visible with different properties, and each of the field instances has a different domain, only the last one will be used always.

I couldn't find the fix for that bug, but with this fix I can avoid defining the field twice:
- The field name and help doesn't involve anything specific to customer or vendor invoices.
- The domain itself contains the condition.

Now both customer and vendor refunds allow selecting their corresponding invoices before posting. This makes the feature from https://github.com/odoo/odoo/pull/194130 actually usable.

@moduon MT-8778 OPW-4509823 @RicGR98 



---
I confirm I have signed the CLA and read the PR guidelines at www.odoo.com/submit-pr
",yajo,2025-01-28 11:05:00+00:00,[],2025-02-03 09:03:31+00:00,,https://github.com/odoo/odoo/pull/195418,[],"[{'comment_id': 2618680196, 'issue_id': 2815311083, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195418.png)](https://mergebot.odoo.com/odoo/odoo/pull/195418)', 'created_at': datetime.datetime(2025, 1, 28, 11, 5, 2, tzinfo=datetime.timezone.utc)}, {'comment_id': 2630267763, 'issue_id': 2815311083, 'author': 'RicGR98', 'body': 'Hello,\r\n\r\nI think a rebase is necessary to make runbot green :)', 'created_at': datetime.datetime(2025, 2, 3, 8, 26, 35, tzinfo=datetime.timezone.utc)}, {'comment_id': 2630344786, 'issue_id': 2815311083, 'author': 'yajo', 'body': 'Rebased', 'created_at': datetime.datetime(2025, 2, 3, 9, 3, 30, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-28 11:05:02 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195418.png)](https://mergebot.odoo.com/odoo/odoo/pull/195418)

RicGR98 on (2025-02-03 08:26:35 UTC): Hello,

I think a rebase is necessary to make runbot green :)

yajo (Issue Creator) on (2025-02-03 09:03:30 UTC): Rebased

"
2815293133,pull_request,closed,,Website Mass Mailing: Convert public widgets to Interactions,,romo-odoo,2025-01-28 10:57:05+00:00,[],2025-01-28 15:03:33+00:00,2025-01-28 15:03:30+00:00,https://github.com/odoo/odoo/pull/195417,"[('RD', 'research & development, internal work')]","[{'comment_id': 2618662203, 'issue_id': 2815293133, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195417.png)](https://mergebot.odoo.com/odoo/odoo/pull/195417)', 'created_at': datetime.datetime(2025, 1, 28, 10, 57, 7, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-28 10:57:07 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195417.png)](https://mergebot.odoo.com/odoo/odoo/pull/195417)

"
2815292404,pull_request,closed,,"[FIX] website_blog, *: allow editable headers in side bars","*: website_event, website_slides

Steps to reproduce:

- Go to /blogs, open any blog post
- launch the web editor and activate ""Sidebar""
- Attempt to modify the format of the titles in the sidebar
- Observe that this action is not possible
- The same issue occurs in /slides and /events

The <hx> elements in the blog/event/slides sidebar template were treated as ""unremovable"" and ""unbreakable"" by the editor, preventing users from changing its tag (e.g., from h6 to h2).

This commit wraps the <hx> element in a div to ensure that editable attributes (e.g., oe-id) are applied to the div instead, allowing the editor to handle modifications without triggering a rollback.

opw-4458011
",SergeBayet,2025-01-28 10:56:47+00:00,[],2025-01-31 01:34:54+00:00,2025-01-31 01:34:54+00:00,https://github.com/odoo/odoo/pull/195416,"[('RD', 'research & development, internal work'), ('18.2', None)]","[{'comment_id': 2618661532, 'issue_id': 2815292404, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195416.png)](https://mergebot.odoo.com/odoo/odoo/pull/195416)', 'created_at': datetime.datetime(2025, 1, 28, 10, 56, 50, tzinfo=datetime.timezone.utc)}, {'comment_id': 2624423132, 'issue_id': 2815292404, 'author': 'SergeBayet', 'body': '@bvr-odoo You can r+ if you want. :)', 'created_at': datetime.datetime(2025, 1, 30, 12, 48, 40, tzinfo=datetime.timezone.utc)}, {'comment_id': 2624455220, 'issue_id': 2815292404, 'author': 'qsm-odoo', 'body': '@robodoo delegate=bvr-odoo \r\n@bvr-odoo', 'created_at': datetime.datetime(2025, 1, 30, 13, 1, 13, tzinfo=datetime.timezone.utc)}, {'comment_id': 2624473210, 'issue_id': 2815292404, 'author': 'bvr-odoo', 'body': '@robodoo r+', 'created_at': datetime.datetime(2025, 1, 30, 13, 8, 55, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-28 10:56:50 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195416.png)](https://mergebot.odoo.com/odoo/odoo/pull/195416)

SergeBayet (Issue Creator) on (2025-01-30 12:48:40 UTC): @bvr-odoo You can r+ if you want. :)

qsm-odoo on (2025-01-30 13:01:13 UTC): @robodoo delegate=bvr-odoo 
@bvr-odoo

bvr-odoo on (2025-01-30 13:08:55 UTC): @robodoo r+

"
2815291051,pull_request,closed,,[FW][FIX] calendar: fix minor styling issues,"Since the update of FullCalendar some styling was not properly applied.

Which leads to the following issues:
- Missing borders
- Cropped text in month views
- Double borders

task-3833841

---
I confirm I have signed the CLA and read the PR guidelines at www.odoo.com/submit-pr

Forward-Port-Of: odoo/odoo#191056",fw-bot,2025-01-28 10:56:11+00:00,[],2025-01-29 11:56:50+00:00,2025-01-29 11:56:50+00:00,https://github.com/odoo/odoo/pull/195415,"[('RD', 'research & development, internal work'), ('forwardport', 'This PR was created by @fw-bot')]","[{'comment_id': 2618660067, 'issue_id': 2815291051, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195415.png)](https://mergebot.odoo.com/odoo/odoo/pull/195415)', 'created_at': datetime.datetime(2025, 1, 28, 10, 56, 13, tzinfo=datetime.timezone.utc)}, {'comment_id': 2618660164, 'issue_id': 2815291051, 'author': 'fw-bot', 'body': 'This PR targets 18.0 and is part of the forward-port chain. Further PRs will be created up to master.\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 28, 10, 56, 15, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-28 10:56:13 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195415.png)](https://mergebot.odoo.com/odoo/odoo/pull/195415)

fw-bot (Issue Creator) on (2025-01-28 10:56:15 UTC): This PR targets 18.0 and is part of the forward-port chain. Further PRs will be created up to master.

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

"
2815279937,pull_request,open,,[FIX] account: prevent cancelled moves also from posting,"**Description:**
- From Version saas~13.4, bank statements are fetched and posted automatically [here](https://github.com/odoo/upgrade/blob/fad33ae4912cc4e50a7dbd4694a549ebb0bf736a/migrations/account/saas~13.4.1.1/end-09-payment-refactoring.py#L626) for the respective [domain](https://github.com/odoo/upgrade/blob/fad33ae4912cc4e50a7dbd4694a549ebb0bf736a/migrations/account/saas~13.4.1.1/end-09-payment-refactoring.py#L620) using the [button_post() method](https://github.com/odoo/odoo/tree/14.0/addons/account/models#L417) where ensures no deprecated accounts are used. Through this [commit](https://github.com/odoo/odoo/commit/80c28189ae6b10ad17c4de2a781233a8ffe663a6#diff-96c5c4fc954f9deb57474d052d9c59b68cc41b610205d342949727ece08ac404R409), the state of the moves is checked before posting, where this process posts all moves that are not in the ""posted"" state, including those in the ""cancel"" state.

- During the upgrade from V13, when bank statements transition from ""draft"" to ""posted"", this issue causes moves in the ""cancel"" state to be posted, which is not the intended behavior.

**Steps to Reproduce (V13.0)**
- Install Accounting > Goto overview 
- Create Bank statement > set date[eg: 2020-07-04] <= rc.fiscalyear_lock_date > Add transaction [[domain conditions](https://github.com/odoo/upgrade/blob/fad33ae4912cc4e50a7dbd4694a549ebb0bf736a/migrations/account/saas~13.4.1.1/end-09-payment-refactoring.py#L620)] > Reconcile > Validate
- Goto respective Journal Entries > Cancel it.
- Upgrade to >= V14.0 

**Solution**

- To resolve this issue, this commit ensures that only moves in the ""draft"" state are fetched and posted, excluding moves in the ""cancel"" state also along with the ""posted"" state.


**Current behavior before this PR :** 

**Original db :**

```sql
vrbh_2408781=> select move.id as move_id, move.state as move_state, move.name,aml.parent_state as move_line_state, move.date as move_date,statement.state as statement_state,statement.difference,rc.fiscalyear_lock_date from account_move move join account_move_line aml on aml.move_id=move.id join account_bank_statement statement on statement.id=aml.statement_id join account_bank_statement_line line on line.id=aml.statement_line_id join account_account aa on aa.id=aml.account_id join res_company rc on rc.id=aml.company_id where move.id=1884 and move.date <= rc.fiscalyear_lock_date;
 move_id | move_state |      name       | move_line_state | move_date  | statement_state | difference | fiscalyear_lock_date 
---------+------------+-----------------+-----------------+------------+-----------------+------------+----------------------
    1884 | cancel     | NAB-A/2020/0209 | cancel          | 2020-06-29 | open            |       0.00 | 2023-06-30
    1884 | cancel     | NAB-A/2020/0209 | cancel          | 2020-06-29 | open            |       0.00 | 2023-06-30
```

**Upgraded DB :**

```sql
vrbh_2408781_14.0=> select move.id as move_id, move.state as move_state, move.name,aml.parent_state as move_line_state, move.date as move_date,statement.state as statement_state,statement.difference,rc.fiscalyear_lock_date from account_move move join account_move_line aml on aml.move_id=move.id join account_bank_statement statement on statement.id=aml.statement_id join account_bank_statement_line line on line.id=aml.statement_line_id join account_account aa on aa.id=aml.account_id join res_company rc on rc.id=aml.company_id where move.id=1884 and move.date <= rc.fiscalyear_lock_date;
 move_id | move_state |      name       | move_line_state | move_date  | statement_state | difference | fiscalyear_lock_date 
---------+------------+-----------------+-----------------+------------+-----------------+------------+----------------------
    1884 | posted     | NAB-A/2020/0209 | posted          | 2020-06-29 | posted          |       0.00 | 2023-06-30
    1884 | posted     | NAB-A/2020/0209 | posted          | 2020-06-29 | posted          |       0.00 | 2023-06-30
```

**After this PR :** 

```sql
vrbh_2408781_14.0=> select move.id as move_id, move.state as move_state, move.name,aml.parent_state as move_line_state, move.date as move_date,statement.state as statement_state,statement.difference,rc.fiscalyear_lock_date from account_move move join account_move_line aml on aml.move_id=move.id join account_bank_statement statement on statement.id=aml.statement_id join account_bank_statement_line line on line.id=aml.statement_line_id join account_account aa on aa.id=aml.account_id join res_company rc on rc.id=aml.company_id where move.id=1884 and move.date <= rc.fiscalyear_lock_date;
 move_id | move_state |      name       | move_line_state | move_date  | statement_state | difference | fiscalyear_lock_date 
---------+------------+-----------------+-----------------+------------+-----------------+------------+----------------------
    1884 | cancel     | NAB-A/2020/0209 | cancel          | 2020-06-29 | posted          |       0.00 | 2023-06-30
    1884 | cancel     | NAB-A/2020/0209 | cancel          | 2020-06-29 | posted          |       0.00 | 2023-06-30
```

opw-4415662
upg-2408781

---
I confirm I have signed the CLA and read the PR guidelines at www.odoo.com/submit-pr
",vrbh-odoo,2025-01-28 10:51:30+00:00,[],2025-01-28 11:00:14+00:00,,https://github.com/odoo/odoo/pull/195414,"[('OE', 'the report is linked to a support ticket (opw-...)')]","[{'comment_id': 2618649100, 'issue_id': 2815279937, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195414.png)](https://mergebot.odoo.com/odoo/odoo/pull/195414)', 'created_at': datetime.datetime(2025, 1, 28, 10, 51, 34, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-28 10:51:34 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195414.png)](https://mergebot.odoo.com/odoo/odoo/pull/195414)

"
2815267424,pull_request,open,,[FIX] fix without optimization,"Description of the issue/feature this PR addresses:

Current behavior before PR:

Desired behavior after PR is merged:




---
I confirm I have signed the CLA and read the PR guidelines at www.odoo.com/submit-pr
",mepe-odoo,2025-01-28 10:46:13+00:00,[],2025-01-28 11:00:15+00:00,,https://github.com/odoo/odoo/pull/195413,"[('RD', 'research & development, internal work')]","[{'comment_id': 2618636397, 'issue_id': 2815267424, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195413.png)](https://mergebot.odoo.com/odoo/odoo/pull/195413)', 'created_at': datetime.datetime(2025, 1, 28, 10, 46, 16, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-28 10:46:16 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195413.png)](https://mergebot.odoo.com/odoo/odoo/pull/195413)

"
2815261057,pull_request,closed,,[FW][FIX] mrp: find all child MO,"Steps to reproduce the bug:
- Create a storable product “C1”:
     - MTO + Manufacture
     - BoM:
        - Component: 1 unit of C2
- Create a storable product “P1”
    - Component: 1 unit of C1

- Create a MO to produce one unit of P1:
    - Confirm
- A child MO with one unit of C1 is created
- Update the qty producing of P1 to 2
- A new MO to produce one unit of C1 is created

Problem:
The MO of P1 is linked only to the last MO of C1.
This occurs because the “created_production_id” field in the stock move of C1 (associated with the MO of P1) is updated to reference the most recent MO of C1. Additionally, since the following fix:
https://github.com/odoo/odoo/commit/c5b3f41fbd442def9e97acb023a00862e7d03eb3#diff-6d86bc8c3e9aa22586656b702849c5bbbb00c9b97ffd08bc0842e0e68f8948f9R74
Each new MO has its own procurement group.
As a result, when using the _get_children method:
- The method retrieves stock moves linked to the current procurement group.
- It uses their created_production_id to fetch the associated procurement group and then retrieves the related production_id.
However, since the two child MOs of C1 belong to different procurement groups, only the latest MO is returned.

opw-4450210

Forward-Port-Of: odoo/odoo#194032
Forward-Port-Of: odoo/odoo#192952",fw-bot,2025-01-28 10:43:21+00:00,[],2025-01-29 11:28:06+00:00,2025-01-29 11:28:06+00:00,https://github.com/odoo/odoo/pull/195412,"[('OE', 'the report is linked to a support ticket (opw-...)'), ('forwardport', 'This PR was created by @fw-bot')]","[{'comment_id': 2618629710, 'issue_id': 2815261057, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195412.png)](https://mergebot.odoo.com/odoo/odoo/pull/195412)', 'created_at': datetime.datetime(2025, 1, 28, 10, 43, 23, tzinfo=datetime.timezone.utc)}, {'comment_id': 2618629741, 'issue_id': 2815261057, 'author': 'fw-bot', 'body': 'This PR targets saas-18.1 and is part of the forward-port chain. Further PRs will be created up to master.\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 28, 10, 43, 23, tzinfo=datetime.timezone.utc)}, {'comment_id': 2618722475, 'issue_id': 2815261057, 'author': 'fw-bot', 'body': '@DjamelTouati @Whenrow ci/runbot failed on this forward-port PR', 'created_at': datetime.datetime(2025, 1, 28, 11, 24, 39, tzinfo=datetime.timezone.utc)}, {'comment_id': 2618962967, 'issue_id': 2815261057, 'author': 'fw-bot', 'body': '@DjamelTouati @Whenrow this PR was modified / updated and has become a normal PR. It must be merged directly.', 'created_at': datetime.datetime(2025, 1, 28, 13, 12, 20, tzinfo=datetime.timezone.utc)}, {'comment_id': 2619013724, 'issue_id': 2815261057, 'author': 'DjamelTouati', 'body': 'robodoo r+', 'created_at': datetime.datetime(2025, 1, 28, 13, 33, 35, tzinfo=datetime.timezone.utc)}, {'comment_id': 2619078279, 'issue_id': 2815261057, 'author': 'robodoo', 'body': ""@DjamelTouati @Whenrow 'ci/runbot' failed on this reviewed PR."", 'created_at': datetime.datetime(2025, 1, 28, 13, 56, 14, tzinfo=datetime.timezone.utc)}, {'comment_id': 2621079759, 'issue_id': 2815261057, 'author': 'DjamelTouati', 'body': 'robodoo r+', 'created_at': datetime.datetime(2025, 1, 29, 9, 16, 23, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-28 10:43:23 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195412.png)](https://mergebot.odoo.com/odoo/odoo/pull/195412)

fw-bot (Issue Creator) on (2025-01-28 10:43:23 UTC): This PR targets saas-18.1 and is part of the forward-port chain. Further PRs will be created up to master.

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

fw-bot (Issue Creator) on (2025-01-28 11:24:39 UTC): @DjamelTouati @Whenrow ci/runbot failed on this forward-port PR

fw-bot (Issue Creator) on (2025-01-28 13:12:20 UTC): @DjamelTouati @Whenrow this PR was modified / updated and has become a normal PR. It must be merged directly.

DjamelTouati on (2025-01-28 13:33:35 UTC): robodoo r+

robodoo on (2025-01-28 13:56:14 UTC): @DjamelTouati @Whenrow 'ci/runbot' failed on this reviewed PR.

DjamelTouati on (2025-01-29 09:16:23 UTC): robodoo r+

"
2815257772,pull_request,closed,,Account Peppol: Convert public widget to Interaction,,romo-odoo,2025-01-28 10:41:50+00:00,[],2025-01-30 09:03:21+00:00,2025-01-30 09:03:20+00:00,https://github.com/odoo/odoo/pull/195411,"[('RD', 'research & development, internal work'), ('18.2', None)]","[{'comment_id': 2618626505, 'issue_id': 2815257772, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195411.png)](https://mergebot.odoo.com/odoo/odoo/pull/195411)', 'created_at': datetime.datetime(2025, 1, 28, 10, 41, 53, tzinfo=datetime.timezone.utc)}, {'comment_id': 2623668387, 'issue_id': 2815257772, 'author': 'robodoo', 'body': '@romo-odoo @clbr-odoo because this PR has multiple commits, I need to know how to merge it:\n\n* `merge` to merge directly, using the PR as merge commit message\n* `rebase-merge` to rebase and merge, using the PR as merge commit message\n* `rebase-ff` to rebase and fast-forward', 'created_at': datetime.datetime(2025, 1, 30, 7, 1, 47, tzinfo=datetime.timezone.utc)}, {'comment_id': 2623668746, 'issue_id': 2815257772, 'author': 'clbr-odoo', 'body': '@robodoo rebase-ff', 'created_at': datetime.datetime(2025, 1, 30, 7, 2, 3, tzinfo=datetime.timezone.utc)}, {'comment_id': 2623668814, 'issue_id': 2815257772, 'author': 'robodoo', 'body': 'Merge method set to rebase and fast-forward.', 'created_at': datetime.datetime(2025, 1, 30, 7, 2, 6, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-28 10:41:53 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195411.png)](https://mergebot.odoo.com/odoo/odoo/pull/195411)

robodoo on (2025-01-30 07:01:47 UTC): @romo-odoo @clbr-odoo because this PR has multiple commits, I need to know how to merge it:

* `merge` to merge directly, using the PR as merge commit message
* `rebase-merge` to rebase and merge, using the PR as merge commit message
* `rebase-ff` to rebase and fast-forward

clbr-odoo on (2025-01-30 07:02:03 UTC): @robodoo rebase-ff

robodoo on (2025-01-30 07:02:06 UTC): Merge method set to rebase and fast-forward.

"
2815257454,pull_request,closed,,[FW][FIX] web_editor: prevent insertion of link on ctrl+k with video focused,"This PR addresses an issue where selecting a video and pressing Ctrl+K would introduce a link(anchor tag) on top of the video. The fix ensures that pressing Ctrl+K while a video is focused will no longer insert a link,  resolving the issue of an empty link being added.

task-2819776

Forward-Port-Of: odoo/odoo#195270
Forward-Port-Of: odoo/odoo#162615",fw-bot,2025-01-28 10:41:41+00:00,[],2025-01-29 02:37:27+00:00,2025-01-29 02:37:26+00:00,https://github.com/odoo/odoo/pull/195410,"[('RD', 'research & development, internal work'), ('forwardport', 'This PR was created by @fw-bot')]","[{'comment_id': 2618626129, 'issue_id': 2815257454, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195410.png)](https://mergebot.odoo.com/odoo/odoo/pull/195410)', 'created_at': datetime.datetime(2025, 1, 28, 10, 41, 43, tzinfo=datetime.timezone.utc)}, {'comment_id': 2618626159, 'issue_id': 2815257454, 'author': 'fw-bot', 'body': 'This PR targets saas-18.1 and is part of the forward-port chain. Further PRs will be created up to master.\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 28, 10, 41, 43, tzinfo=datetime.timezone.utc)}, {'comment_id': 2618757683, 'issue_id': 2815257454, 'author': 'fw-bot', 'body': '@perm-odoo @robinlej ci/runbot failed on this forward-port PR', 'created_at': datetime.datetime(2025, 1, 28, 11, 39, 4, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-28 10:41:43 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195410.png)](https://mergebot.odoo.com/odoo/odoo/pull/195410)

fw-bot (Issue Creator) on (2025-01-28 10:41:43 UTC): This PR targets saas-18.1 and is part of the forward-port chain. Further PRs will be created up to master.

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

fw-bot (Issue Creator) on (2025-01-28 11:39:04 UTC): @perm-odoo @robinlej ci/runbot failed on this forward-port PR

"
2815237316,pull_request,open,,Master fix columns count option dery,"[FIX] website: Correct the column count option behavior

Previously, in multiple widgets, changing the number of columns
caused the snippet title to be counted as a column.
This update ensures that the #columns option now works as intended.

To ensure that the modification made to the structure of the snippet 
were consistent even when switching the grid and column layout 
this process has also been modified.

Task-4310468",dery-odoo,2025-01-28 10:32:22+00:00,[],2025-02-07 12:02:29+00:00,,https://github.com/odoo/odoo/pull/195409,"[('RD', 'research & development, internal work')]","[{'comment_id': 2618605445, 'issue_id': 2815237316, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195409.png)](https://mergebot.odoo.com/odoo/odoo/pull/195409)', 'created_at': datetime.datetime(2025, 1, 28, 10, 32, 25, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-28 10:32:25 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195409.png)](https://mergebot.odoo.com/odoo/odoo/pull/195409)

"
2815234790,pull_request,closed,,[FW][FIX] web: respect X2many field context when order is present,"Issue:
If we have a X2many that allows to have inactive records (with `context={'active_test': False}` on the field definition) and we specify a specific order for this X2many in this view, web_read won't respect the context of the field and will filter out inactive records.

This is because to apply a specific order in the web_read, we use search(), which will filter out inactive records from the `corecords` recordset.

Fix:
We fix this by forcing active_test=False before calling search and reapplying the previous context immediately after.

Closes #194311

Forward-Port-Of: odoo/odoo#195297
Forward-Port-Of: odoo/odoo#194379",fw-bot,2025-01-28 10:31:11+00:00,[],2025-01-29 18:21:52+00:00,2025-01-29 18:21:52+00:00,https://github.com/odoo/odoo/pull/195408,"[('RD', 'research & development, internal work'), ('forwardport', 'This PR was created by @fw-bot')]","[{'comment_id': 2618602714, 'issue_id': 2815234790, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195408.png)](https://mergebot.odoo.com/odoo/odoo/pull/195408)', 'created_at': datetime.datetime(2025, 1, 28, 10, 31, 12, tzinfo=datetime.timezone.utc)}, {'comment_id': 2618602729, 'issue_id': 2815234790, 'author': 'fw-bot', 'body': 'This PR targets 18.0 and is part of the forward-port chain. Further PRs will be created up to master.\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 28, 10, 31, 13, tzinfo=datetime.timezone.utc)}, {'comment_id': 2618705059, 'issue_id': 2815234790, 'author': 'fw-bot', 'body': '@aab-odoo @ryv-odoo ci/runbot failed on this forward-port PR', 'created_at': datetime.datetime(2025, 1, 28, 11, 16, 23, tzinfo=datetime.timezone.utc)}, {'comment_id': 2621962529, 'issue_id': 2815234790, 'author': 'ryv-odoo', 'body': '@robodoo r+', 'created_at': datetime.datetime(2025, 1, 29, 15, 25, 20, tzinfo=datetime.timezone.utc)}, {'comment_id': 2621962670, 'issue_id': 2815234790, 'author': 'robodoo', 'body': '@ryv-odoo you may want to rebuild or fix this PR as it has failed CI.', 'created_at': datetime.datetime(2025, 1, 29, 15, 25, 23, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-28 10:31:12 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195408.png)](https://mergebot.odoo.com/odoo/odoo/pull/195408)

fw-bot (Issue Creator) on (2025-01-28 10:31:13 UTC): This PR targets 18.0 and is part of the forward-port chain. Further PRs will be created up to master.

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

fw-bot (Issue Creator) on (2025-01-28 11:16:23 UTC): @aab-odoo @ryv-odoo ci/runbot failed on this forward-port PR

ryv-odoo on (2025-01-29 15:25:20 UTC): @robodoo r+

robodoo on (2025-01-29 15:25:23 UTC): @ryv-odoo you may want to rebuild or fix this PR as it has failed CI.

"
2815234130,pull_request,closed,,[FW][FIX] web_editor: adapt `border-style` value based on border widths,"[FIX] web_editor: adapt `border-style` value based on border widths

**Problem**:  
Outlook always displays the border of an element if `border-style` is set  
to `solid`, even when all border widths are 0.  

**Solution**:  
Change `border-style` to `none` if all border widths are 0.  

**Steps to Reproduce**:  
1. Open the ""Event: Registration Confirmation"" email template in the web editor.  
2. Add a character and save the template.  
3. Check the saved `body_html`.  
   -> All table elements will have `border-style: solid;` added as inline styling,  
      causing borders to appear in Outlook.  

opw-4211794

---
I confirm I have signed the CLA and read the PR guidelines at www.odoo.com/submit-pr

Forward-Port-Of: odoo/odoo#195282
Forward-Port-Of: odoo/odoo#193973",fw-bot,2025-01-28 10:30:53+00:00,[],2025-01-29 11:56:51+00:00,2025-01-29 11:56:51+00:00,https://github.com/odoo/odoo/pull/195407,"[('OE', 'the report is linked to a support ticket (opw-...)'), ('forwardport', 'This PR was created by @fw-bot')]","[{'comment_id': 2618602235, 'issue_id': 2815234130, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195407.png)](https://mergebot.odoo.com/odoo/odoo/pull/195407)', 'created_at': datetime.datetime(2025, 1, 28, 10, 31, tzinfo=datetime.timezone.utc)}, {'comment_id': 2618602256, 'issue_id': 2815234130, 'author': 'fw-bot', 'body': 'This PR targets 18.0 and is part of the forward-port chain. Further PRs will be created up to master.\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 28, 10, 31, tzinfo=datetime.timezone.utc)}, {'comment_id': 2618728489, 'issue_id': 2815234130, 'author': 'fw-bot', 'body': '@walidsahli @dmo-odoo ci/runbot failed on this forward-port PR', 'created_at': datetime.datetime(2025, 1, 28, 11, 27, 16, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-28 10:31:00 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195407.png)](https://mergebot.odoo.com/odoo/odoo/pull/195407)

fw-bot (Issue Creator) on (2025-01-28 10:31:00 UTC): This PR targets 18.0 and is part of the forward-port chain. Further PRs will be created up to master.

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

fw-bot (Issue Creator) on (2025-01-28 11:27:16 UTC): @walidsahli @dmo-odoo ci/runbot failed on this forward-port PR

"
2815226049,pull_request,open,,[FIX] website: prevent bad snippet selection,"In [1], the masonry_block snippet has been exploded into multiple 'sub-snippet'. But this had for consequence that when selecting a block of the snippet one too many option section was appearing because of this multiple level snippet.
(e.g: s_masonry_block > s_masonry_block_default_template > Block) Yet this middle level has no options on its own. so it was unnecessary to have an options section for the 'sub-snippets'. This commit just prevent to be able to select the 'sub-snippets'.

Furthermore, due to those 'sub-snippets' being contained inside the s_masonry_block snippet, they would not get registered in the list of all the snippets, and then the website would failed to determine their version which raised the 'outdated_snippet' alert. Preventing the selection of those 'sub-snippet' thus also prevent the website checking their version.
As of now none of these sub-snippets have different version than the basic s_masonry_block so I guess we can just ignore that since they are not designed to change from the basic s_masonry_block options. And if so should happen in the future they would probably become completely independant snippets.

Steps to reproduce :

- Enter edit mode
- Drag and drop a s_masonry_block snippet
- Select one of the blocks of the snippets
- On the options panel an errored 'Block' option section appeared.
- Click on 'access options anyway', the section is then empty.

[1] : https://github.com/odoo/odoo/pull/183755

task-4508767",dery-odoo,2025-01-28 10:27:20+00:00,[],2025-02-07 15:21:46+00:00,,https://github.com/odoo/odoo/pull/195406,"[('RD', 'research & development, internal work')]","[{'comment_id': 2618593674, 'issue_id': 2815226049, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195406.png)](https://mergebot.odoo.com/odoo/odoo/pull/195406)', 'created_at': datetime.datetime(2025, 1, 28, 10, 27, 24, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-28 10:27:24 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195406.png)](https://mergebot.odoo.com/odoo/odoo/pull/195406)

"
2815207206,pull_request,closed,,[FW][FIX] web: hide tooltip on html fields in calendar popover,"To reproduce:
=============
- create an event on calendar with description containing html
- on calendar view, click on the event to open the popover and hover on the description field
-> the tooltip is displayed with raw html content

Fix:
====
hide the tooltip on html fields in calendar popover as it's not needed

opw-4356581
---
I confirm I have signed the CLA and read the PR guidelines at www.odoo.com/submit-pr

Forward-Port-Of: odoo/odoo#195149
Forward-Port-Of: odoo/odoo#192104",fw-bot,2025-01-28 10:18:45+00:00,[],2025-01-29 09:25:31+00:00,2025-01-29 09:25:31+00:00,https://github.com/odoo/odoo/pull/195405,"[('OE', 'the report is linked to a support ticket (opw-...)'), ('forwardport', 'This PR was created by @fw-bot')]","[{'comment_id': 2618574432, 'issue_id': 2815207206, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195405.png)](https://mergebot.odoo.com/odoo/odoo/pull/195405)', 'created_at': datetime.datetime(2025, 1, 28, 10, 18, 47, tzinfo=datetime.timezone.utc)}, {'comment_id': 2618574452, 'issue_id': 2815207206, 'author': 'fw-bot', 'body': 'This PR targets saas-18.1 and is part of the forward-port chain. Further PRs will be created up to master.\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 28, 10, 18, 47, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-28 10:18:47 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195405.png)](https://mergebot.odoo.com/odoo/odoo/pull/195405)

fw-bot (Issue Creator) on (2025-01-28 10:18:47 UTC): This PR targets saas-18.1 and is part of the forward-port chain. Further PRs will be created up to master.

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

"
2815197211,pull_request,open,,[FW][IMP] point_of_sale: add error details when processing the order,"Description of the issue/feature this PR addresses:

Additional information is needed in the error log to identify the method causing the error.

Current behavior before PR:

Prior to this change, the log received when an error occured was as follows but no information about the code was shown: `odoo.addons.point_of_sale.models.pos_order: Could not fully process the POS Order: Record cannot be modified right now: This cron task is currently being executed and may not be modified Please try again in a few minutes.

Desired behavior after PR is merged:

Information about the method causing the error must be displayed




---
I confirm I have signed the CLA and read the PR guidelines at www.odoo.com/submit-pr

Forward-Port-Of: odoo/odoo#195184",fw-bot,2025-01-28 10:14:14+00:00,[],2025-02-03 02:01:47+00:00,,https://github.com/odoo/odoo/pull/195403,"[('RD', 'research & development, internal work'), ('forwardport', 'This PR was created by @fw-bot'), ('conflict', 'There was an error while creating this forward-port PR')]","[{'comment_id': 2618563958, 'issue_id': 2815197211, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195403.png)](https://mergebot.odoo.com/odoo/odoo/pull/195403)', 'created_at': datetime.datetime(2025, 1, 28, 10, 14, 15, tzinfo=datetime.timezone.utc)}, {'comment_id': 2618563980, 'issue_id': 2815197211, 'author': 'fw-bot', 'body': '@emtz10 @vlst-odoo cherrypicking of pull request odoo/odoo#195184 failed.\n\nstdout:\n```\nAuto-merging addons/point_of_sale/models/pos_order.py\nCONFLICT (content): Merge conflict in addons/point_of_sale/models/pos_order.py\n\n```\n\nEither perform the forward-port manually (and push to this branch, proceeding as usual) or close this PR (maybe?).\n\nIn the former case, you may want to edit this PR message as well.\n\n:warning: after resolving this conflict, you will need to merge it via @robodoo.\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 28, 10, 14, 16, tzinfo=datetime.timezone.utc)}, {'comment_id': 2628684612, 'issue_id': 2815197211, 'author': 'fw-bot', 'body': '@emtz10 @vlst-odoo this forward port of odoo/odoo#195184 is awaiting action (not merged or closed).', 'created_at': datetime.datetime(2025, 2, 1, 2, 0, 55, tzinfo=datetime.timezone.utc)}, {'comment_id': 2629201395, 'issue_id': 2815197211, 'author': 'fw-bot', 'body': '@emtz10 @vlst-odoo this forward port of odoo/odoo#195184 is awaiting action (not merged or closed).', 'created_at': datetime.datetime(2025, 2, 2, 2, 1, tzinfo=datetime.timezone.utc)}, {'comment_id': 2629729544, 'issue_id': 2815197211, 'author': 'fw-bot', 'body': '@emtz10 @vlst-odoo this forward port of odoo/odoo#195184 is awaiting action (not merged or closed).', 'created_at': datetime.datetime(2025, 2, 3, 2, 1, 46, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-28 10:14:15 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195403.png)](https://mergebot.odoo.com/odoo/odoo/pull/195403)

fw-bot (Issue Creator) on (2025-01-28 10:14:16 UTC): @emtz10 @vlst-odoo cherrypicking of pull request odoo/odoo#195184 failed.

stdout:
```
Auto-merging addons/point_of_sale/models/pos_order.py
CONFLICT (content): Merge conflict in addons/point_of_sale/models/pos_order.py

```

Either perform the forward-port manually (and push to this branch, proceeding as usual) or close this PR (maybe?).

In the former case, you may want to edit this PR message as well.

:warning: after resolving this conflict, you will need to merge it via @robodoo.

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

fw-bot (Issue Creator) on (2025-02-01 02:00:55 UTC): @emtz10 @vlst-odoo this forward port of odoo/odoo#195184 is awaiting action (not merged or closed).

fw-bot (Issue Creator) on (2025-02-02 02:01:00 UTC): @emtz10 @vlst-odoo this forward port of odoo/odoo#195184 is awaiting action (not merged or closed).

fw-bot (Issue Creator) on (2025-02-03 02:01:46 UTC): @emtz10 @vlst-odoo this forward port of odoo/odoo#195184 is awaiting action (not merged or closed).

"
2815196407,pull_request,closed,,[IMP] core: api.private,"Explicitly prevent calling non-public ORM methods via RPC, without breaking the API

The ORM contains a series of API methods found on Models and recordsets, next to the main
CRUD methods. Those utility methods are very commonly used in server-side business logic
code, and were historically named without the usual underscore prefix that should mark
them as private (e.g. `_private_method()` vs `public_method()`).

Examples:
- the `browse()` method returns a recordset from a list of IDs, which is really just
  a proxy object prepared for other recordset operations ;
- the `fetch()` and `search_fetch()` methods populate the transactional in-memory cache
  for a set of fields and record ;
- and many more...

The lack of prefix makes writing business logic code a bit simpler, but causes confusion
because these methods look like they are public.

Of course, calling such internal methods over RPC doesn't make sense, and may crash or
cause unexpected results.

This commit marks those internal methods and prevents calling them over RPC. This is
preferred over renaming them with an underscore prefix, as that would break a lot of
existing code without a good reason.

All business logic code must still follow the best-practicce convention of prefixing
non-public method with underscores, by default and by design, to avoid mixing different
conventions. The `@api.private` decorator is reserved for exceptions for ORM methods.

task-4505030
odoo/enterprise#77961
odoo/documentation#11944


---
I confirm I have signed the CLA and read the PR guidelines at www.odoo.com/submit-pr
",kmagusiak,2025-01-28 10:13:53+00:00,[],2025-02-06 15:21:58+00:00,2025-02-06 15:18:35+00:00,https://github.com/odoo/odoo/pull/195402,"[('RD', 'research & development, internal work'), ('18.2', None)]","[{'comment_id': 2618563241, 'issue_id': 2815196407, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195402.png)](https://mergebot.odoo.com/odoo/odoo/pull/195402)', 'created_at': datetime.datetime(2025, 1, 28, 10, 13, 58, tzinfo=datetime.timezone.utc)}, {'comment_id': 2633457642, 'issue_id': 2815196407, 'author': 'Xavier-Do', 'body': '> This PR seems like it mostly encourages exposing methods over RPC without thinking about it by:\r\n\r\nIt feels more like a way to make private a method that was public by mistake without changing the signature if it is not an option because of potential existing usage/overrides. I would say that a new introduced method should be prefixed with _ and this should only be used on existing one, mostly in stable.', 'created_at': datetime.datetime(2025, 2, 4, 10, 17, 43, tzinfo=datetime.timezone.utc)}, {'comment_id': 2633623737, 'issue_id': 2815196407, 'author': 'Gorash', 'body': 'I understand that `@api.private` is added, because it avoids an api/sementics change. (And this change could be backported)\r\n\r\n`@api.public` would be a better security by updating the code migration script so that methods that were not prefixed with `_` are marked public.\r\n\r\nOther than that I have nothing to say about the pr, it seems ok to me.', 'created_at': datetime.datetime(2025, 2, 4, 11, 25, 2, tzinfo=datetime.timezone.utc)}, {'comment_id': 2637253933, 'issue_id': 2815196407, 'author': 'robodoo', 'body': '@rco-odoo you may want to rebuild or fix this PR as it has failed CI.', 'created_at': datetime.datetime(2025, 2, 5, 15, 31, 33, tzinfo=datetime.timezone.utc)}, {'comment_id': 2637309249, 'issue_id': 2815196407, 'author': 'rco-odoo', 'body': '@robodoo override=ci/security\r\n\r\nThe flagged code belongs to some internal functions that are not callable directly or indirectly by eval-ed code.\r\nIt is even safer than the former version, which was accessing a method with `getattr()` on a class instance: this version accesses the method on the class itself.  If the method name is a field name, accessing an instance reads the field, while accessing the class returns the field object itself...', 'created_at': datetime.datetime(2025, 2, 5, 15, 51, 2, tzinfo=datetime.timezone.utc)}, {'comment_id': 2637416036, 'issue_id': 2815196407, 'author': 'rco-odoo', 'body': '@robodoo r+', 'created_at': datetime.datetime(2025, 2, 5, 16, 26, 8, tzinfo=datetime.timezone.utc)}, {'comment_id': 2637646968, 'issue_id': 2815196407, 'author': 'robodoo', 'body': '@kmagusiak @rco-odoo linked pull request(s) odoo/documentation#11944 not ready. Linked PRs are not staged until all of them are ready.', 'created_at': datetime.datetime(2025, 2, 5, 18, 0, 5, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-28 10:13:58 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195402.png)](https://mergebot.odoo.com/odoo/odoo/pull/195402)

Xavier-Do on (2025-02-04 10:17:43 UTC): It feels more like a way to make private a method that was public by mistake without changing the signature if it is not an option because of potential existing usage/overrides. I would say that a new introduced method should be prefixed with _ and this should only be used on existing one, mostly in stable.

Gorash on (2025-02-04 11:25:02 UTC): I understand that `@api.private` is added, because it avoids an api/sementics change. (And this change could be backported)

`@api.public` would be a better security by updating the code migration script so that methods that were not prefixed with `_` are marked public.

Other than that I have nothing to say about the pr, it seems ok to me.

robodoo on (2025-02-05 15:31:33 UTC): @rco-odoo you may want to rebuild or fix this PR as it has failed CI.

rco-odoo on (2025-02-05 15:51:02 UTC): @robodoo override=ci/security

The flagged code belongs to some internal functions that are not callable directly or indirectly by eval-ed code.
It is even safer than the former version, which was accessing a method with `getattr()` on a class instance: this version accesses the method on the class itself.  If the method name is a field name, accessing an instance reads the field, while accessing the class returns the field object itself...

rco-odoo on (2025-02-05 16:26:08 UTC): @robodoo r+

robodoo on (2025-02-05 18:00:05 UTC): @kmagusiak @rco-odoo linked pull request(s) odoo/documentation#11944 not ready. Linked PRs are not staged until all of them are ready.

"
2815194960,pull_request,closed,,[FIX] im_livechat: remove unwanted redirection,"Before this PR, if a chatbot's last step is redirecting to a URL, a visitor could be trapped in an infinite loop of redirection. This is because the chatbot always replays the last step of the script when the page loads.

This PR stores and flags the redirections so we know they are already done.

Task-4518285",phenix-factory,2025-01-28 10:13:18+00:00,[],2025-01-28 12:27:47+00:00,2025-01-28 12:27:47+00:00,https://github.com/odoo/odoo/pull/195401,"[('RD', 'research & development, internal work')]","[{'comment_id': 2618561621, 'issue_id': 2815194960, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195401.png)](https://mergebot.odoo.com/odoo/odoo/pull/195401)', 'created_at': datetime.datetime(2025, 1, 28, 10, 13, 21, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-28 10:13:21 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195401.png)](https://mergebot.odoo.com/odoo/odoo/pull/195401)

"
2815188738,pull_request,closed,,[FW][FIX] web: Fix navigation test hotkeys issue,"Fixes test broken by: be23ed0

https://runbot.odoo.com/odoo/runbot.build.error/109595

---
I confirm I have signed the CLA and read the PR guidelines at www.odoo.com/submit-pr

Forward-Port-Of: odoo/odoo#193969
Forward-Port-Of: odoo/odoo#193764",fw-bot,2025-01-28 10:11:09+00:00,[],2025-01-29 13:49:02+00:00,2025-01-29 13:48:50+00:00,https://github.com/odoo/odoo/pull/195400,"[('RD', 'research & development, internal work'), ('forwardport', 'This PR was created by @fw-bot'), ('18.2', None)]","[{'comment_id': 2618555917, 'issue_id': 2815188738, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195400.png)](https://mergebot.odoo.com/odoo/odoo/pull/195400)', 'created_at': datetime.datetime(2025, 1, 28, 10, 11, 10, tzinfo=datetime.timezone.utc)}, {'comment_id': 2618555943, 'issue_id': 2815188738, 'author': 'fw-bot', 'body': '@BastienFafchamps @aab-odoo this PR targets master and is the last of the forward-port chain containing:\n* odoo/odoo#195313\n* odoo/odoo#195288\n\nTo merge the full chain, use\n> @robodoo r+\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 28, 10, 11, 11, tzinfo=datetime.timezone.utc)}, {'comment_id': 2621186737, 'issue_id': 2815188738, 'author': 'BastienFafchamps', 'body': '@robodoo r+', 'created_at': datetime.datetime(2025, 1, 29, 10, 3, 28, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-28 10:11:10 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195400.png)](https://mergebot.odoo.com/odoo/odoo/pull/195400)

fw-bot (Issue Creator) on (2025-01-28 10:11:11 UTC): @BastienFafchamps @aab-odoo this PR targets master and is the last of the forward-port chain containing:
* odoo/odoo#195313
* odoo/odoo#195288

To merge the full chain, use

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

BastienFafchamps on (2025-01-29 10:03:28 UTC): @robodoo r+

"
2815165697,pull_request,closed,,[FIX] l10n_in: backporting of fiscal position commits,"This PR is backporting of these commits:

[1] Commit https://github.com/odoo/odoo/commit/a1b7d8aba255ec477a030d44897b8ea73d1f37e7
[2] Commit https://github.com/odoo/odoo/commit/3653131d32997392b2170ce542bfc544fd96bef2

These commits introduce the computation of fiscal positions for sales and
purchase documents based on the place of supply. While these changes are
already merged into version 18.1, they are now required in version 17.0.




---
I confirm I have signed the CLA and read the PR guidelines at www.odoo.com/submit-pr
",masm-odoo,2025-01-28 10:01:45+00:00,['masm-odoo'],2025-01-30 05:03:15+00:00,2025-01-29 15:25:02+00:00,https://github.com/odoo/odoo/pull/195399,"[('RD', 'research & development, internal work')]","[{'comment_id': 2618520113, 'issue_id': 2815165697, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195399.png)](https://mergebot.odoo.com/odoo/odoo/pull/195399)', 'created_at': datetime.datetime(2025, 1, 28, 10, 1, 48, tzinfo=datetime.timezone.utc)}, {'comment_id': 2618763973, 'issue_id': 2815165697, 'author': 'hamo-odoo', 'body': '@robodoo up to 18.0', 'created_at': datetime.datetime(2025, 1, 28, 11, 41, 55, tzinfo=datetime.timezone.utc)}, {'comment_id': 2618764045, 'issue_id': 2815165697, 'author': 'robodoo', 'body': ""I'm sorry, @hamo-odoo. I'm afraid I can't do that."", 'created_at': datetime.datetime(2025, 1, 28, 11, 41, 58, tzinfo=datetime.timezone.utc)}, {'comment_id': 2618849041, 'issue_id': 2815165697, 'author': 'masm-odoo', 'body': '@robodoo up to 18.0', 'created_at': datetime.datetime(2025, 1, 28, 12, 19, 43, tzinfo=datetime.timezone.utc)}, {'comment_id': 2618849119, 'issue_id': 2815165697, 'author': 'robodoo', 'body': ""Forward-porting to '18.0'."", 'created_at': datetime.datetime(2025, 1, 28, 12, 19, 45, tzinfo=datetime.timezone.utc)}, {'comment_id': 2621727743, 'issue_id': 2815165697, 'author': 'jco-odoo', 'body': '@robodoo r+', 'created_at': datetime.datetime(2025, 1, 29, 13, 57, 10, tzinfo=datetime.timezone.utc)}, {'comment_id': 2621731259, 'issue_id': 2815165697, 'author': 'jco-odoo', 'body': '@hamo-odoo In master, we could clean the OC out as it will be done by the auto_apply?', 'created_at': datetime.datetime(2025, 1, 29, 13, 58, 40, tzinfo=datetime.timezone.utc)}, {'comment_id': 2623525805, 'issue_id': 2815165697, 'author': 'hamo-odoo', 'body': ""> @hamo-odoo In master, we could clean the OC out as it will be done by the auto_apply?\r\n\r\nI don't think it's still a good idea because as per government [rule 46 tax invoice](https://taxinformation.cbic.gov.in/content-page/explore-rules/1000136/1000001) (n)  Place of supply is mandatory on the invoice.\r\n![image](https://github.com/user-attachments/assets/ae9471dd-5836-4828-b204-c7cc2f36ed0c)\r\n\r\nAlso for GSTR-1 filing (And this goes same for other GSTR reports too) the government says that if the it's a Foreign country, 96-Foreign Country should be displayed on Invoice (~ Other Country in Odoo) \r\nhttps://cbic-gst.gov.in/pdf/circular-184.pdf\r\n![image](https://github.com/user-attachments/assets/760debc6-04ca-4382-9d9d-4313b667acef)"", 'created_at': datetime.datetime(2025, 1, 30, 5, 3, 14, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-28 10:01:48 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195399.png)](https://mergebot.odoo.com/odoo/odoo/pull/195399)

hamo-odoo on (2025-01-28 11:41:55 UTC): @robodoo up to 18.0

robodoo on (2025-01-28 11:41:58 UTC): I'm sorry, @hamo-odoo. I'm afraid I can't do that.

masm-odoo (Issue Creator) on (2025-01-28 12:19:43 UTC): @robodoo up to 18.0

robodoo on (2025-01-28 12:19:45 UTC): Forward-porting to '18.0'.

jco-odoo on (2025-01-29 13:57:10 UTC): @robodoo r+

jco-odoo on (2025-01-29 13:58:40 UTC): @hamo-odoo In master, we could clean the OC out as it will be done by the auto_apply?

hamo-odoo on (2025-01-30 05:03:14 UTC): I don't think it's still a good idea because as per government [rule 46 tax invoice](https://taxinformation.cbic.gov.in/content-page/explore-rules/1000136/1000001) (n)  Place of supply is mandatory on the invoice.
![image](https://github.com/user-attachments/assets/ae9471dd-5836-4828-b204-c7cc2f36ed0c)

Also for GSTR-1 filing (And this goes same for other GSTR reports too) the government says that if the it's a Foreign country, 96-Foreign Country should be displayed on Invoice (~ Other Country in Odoo) 
https://cbic-gst.gov.in/pdf/circular-184.pdf
![image](https://github.com/user-attachments/assets/760debc6-04ca-4382-9d9d-4313b667acef)

"
2815114172,pull_request,closed,,[FW][FIX] repair: show recycle lines in repair order report,"Description of the issue/feature this PR addresses:
The ""Recycle"" repair type wasn't integrated properly into the report template
Current behavior before PR:
Repair lines with ""Recycle"" type create empty lines on the repair order report
![grafik](https://github.com/user-attachments/assets/20ffc739-d14d-4f3b-adfe-73b36fa42938)
![grafik](https://github.com/user-attachments/assets/157bd99f-e1ff-4c3b-a89d-7b67284e336b)
Desired behavior after PR is merged:
Repair lines with ""Recycle"" type have their product description printed on the report


---
I confirm I have signed the CLA and read the PR guidelines at www.odoo.com/submit-pr

Forward-Port-Of: odoo/odoo#193502",fw-bot,2025-01-28 09:42:16+00:00,[],2025-01-28 15:05:11+00:00,2025-01-28 15:05:11+00:00,https://github.com/odoo/odoo/pull/195398,"[('RD', 'research & development, internal work'), ('forwardport', 'This PR was created by @fw-bot')]","[{'comment_id': 2618443996, 'issue_id': 2815114172, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195398.png)](https://mergebot.odoo.com/odoo/odoo/pull/195398)', 'created_at': datetime.datetime(2025, 1, 28, 9, 42, 17, tzinfo=datetime.timezone.utc)}, {'comment_id': 2618444020, 'issue_id': 2815114172, 'author': 'fw-bot', 'body': 'This PR targets saas-18.1 and is part of the forward-port chain. Further PRs will be created up to master.\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 28, 9, 42, 18, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-28 09:42:17 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195398.png)](https://mergebot.odoo.com/odoo/odoo/pull/195398)

fw-bot (Issue Creator) on (2025-01-28 09:42:18 UTC): This PR targets saas-18.1 and is part of the forward-port chain. Further PRs will be created up to master.

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

"
2815067591,pull_request,closed,,[FIX] stock: fix stock report accessing non-existent field,"This commit fixes accessing `stock_move_line.packaging_uom_qty` field
which doesn't exist and changes it to access
`stock_move.packaging_uom_qty` instead.

Runbot : 111967

---
I confirm I have signed the CLA and read the PR guidelines at www.odoo.com/submit-pr
",mohammadhossam,2025-01-28 09:21:51+00:00,[],2025-01-28 15:05:17+00:00,2025-01-28 15:05:17+00:00,https://github.com/odoo/odoo/pull/195397,"[('RD', 'research & development, internal work')]","[{'comment_id': 2618399203, 'issue_id': 2815067591, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195397.png)](https://mergebot.odoo.com/odoo/odoo/pull/195397)', 'created_at': datetime.datetime(2025, 1, 28, 9, 21, 54, tzinfo=datetime.timezone.utc)}, {'comment_id': 2618422757, 'issue_id': 2815067591, 'author': 'Whenrow', 'body': 'robodoo r+ squash \r\n@mohammadhossam I just updated the PR message to link the runbot error :) Thank you', 'created_at': datetime.datetime(2025, 1, 28, 9, 32, 40, tzinfo=datetime.timezone.utc)}, {'comment_id': 2618422833, 'issue_id': 2815067591, 'author': 'robodoo', 'body': 'Merge method set to squash.', 'created_at': datetime.datetime(2025, 1, 28, 9, 32, 42, tzinfo=datetime.timezone.utc)}, {'comment_id': 2618628280, 'issue_id': 2815067591, 'author': 'robodoo', 'body': ""@mohammadhossam @Whenrow 'ci/runbot' failed on this reviewed PR."", 'created_at': datetime.datetime(2025, 1, 28, 10, 42, 44, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-28 09:21:54 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195397.png)](https://mergebot.odoo.com/odoo/odoo/pull/195397)

Whenrow on (2025-01-28 09:32:40 UTC): robodoo r+ squash 
@mohammadhossam I just updated the PR message to link the runbot error :) Thank you

robodoo on (2025-01-28 09:32:42 UTC): Merge method set to squash.

robodoo on (2025-01-28 10:42:44 UTC): @mohammadhossam @Whenrow 'ci/runbot' failed on this reviewed PR.

"
2815067065,pull_request,open,,[FIX] stock: fix import lots dialog layout,"Issue:
The grid elements on the import Lots dialog are placed in one column instead of two, which misses up the layout.

Reproduction steps:
1. install ""purchase_stock""
2. create a product tracked by lots
3. make an RFQ for that product and confirm it
4. click on the generated receipt smart button
5. in ""Operations"" tab, click fa-list icon to open the dialog
6. in the dialog, click ""Import Serials/Lots

Reason:
The bug was introduced in [239e75b1385fa023e97396baa0c8d46c50997dda](https://github.com/odoo/odoo/commit/239e75b1385fa023e97396baa0c8d46c50997dda#diff-1377579fdb76de80cd31ca67d798b752a90600ab4c82a3c8799786a130b7a46fR431-R433), where the following style was added
```css
.o_cell:first-child:last-child {
    grid-column: span 2;
}
```
which applies for the children of the first and the third grid elements; However, since the first and the third grid elements have `display: contents`, the `grid-column: span 2` of their children messes up the grid layout, and makes it 4x1 instead of 2x2.

The fix:
Remove `display: contents` on the first and third grid elements, as it seems to not be useful. Have tested on web and mobile layouts.

opw-4505725",hadielyakhni,2025-01-28 09:21:36+00:00,[],2025-01-29 08:52:34+00:00,,https://github.com/odoo/odoo/pull/195396,"[('OE', 'the report is linked to a support ticket (opw-...)')]","[{'comment_id': 2618398695, 'issue_id': 2815067065, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195396.png)](https://mergebot.odoo.com/odoo/odoo/pull/195396)', 'created_at': datetime.datetime(2025, 1, 28, 9, 21, 39, tzinfo=datetime.timezone.utc)}, {'comment_id': 2619519729, 'issue_id': 2815067065, 'author': 'hadielyakhni', 'body': ""> However, I don't understand the link with the PR in the explanation.\r\n\r\n@lase-odoo, It's the commit that has introduced the bug :) I have updated the PR description 👍🏼"", 'created_at': datetime.datetime(2025, 1, 28, 16, 39, 35, tzinfo=datetime.timezone.utc)}, {'comment_id': 2620893916, 'issue_id': 2815067065, 'author': 'lase-odoo', 'body': ""> > However, I don't understand the link with the PR in the explanation.\r\n> \r\n> @lase-odoo, It's the commit that has introduced the bug :) I have updated the PR description 👍🏼\r\n\r\nYe, that I could figure out. But I can't figure out why the dialog would always believe we are in small setup and hence display as content (d-sm-contents bootstrap behaves as if we were in small setup all the time) because of this change. We are in a dialog added from the form view sure but why are we influenced by the css change of the form controller that way ?"", 'created_at': datetime.datetime(2025, 1, 29, 7, 32, 34, tzinfo=datetime.timezone.utc)}, {'comment_id': 2620949732, 'issue_id': 2815067065, 'author': 'hadielyakhni', 'body': '@lase-odoo, it\'s not that the dialog believes that we\'re in a small setup. `display: contents` does the following\r\n\r\n> display: contents causes an element\'s children to appear as if they were direct children of the element\'s parent, ignoring the element itself. This can be useful when a wrapper element should be ignored when using CSS grid or similar layout techniques.\r\n\r\nSo here, that means that the grid\'s first and third children will ""virtually"" have `grid-column: span 2`. That\'s `display: contents`\'s effect, I will explain below how that leads to the undesired layout we see.\r\n\r\nSince our grid is 2x2 grid, what happens is that the first child now takes the first 2 columns of the first row (bcz of the `span 2` css); **the second child (i.e. the `textarea`) takes the first column of the second row**, and since the first column is small (150px following our css styles), the `textarea` appears so small; the third child, similar to the first child, will span 2 columns too, creating a third row; and finally, the fourth child, similar to the second, will **take the first column of a newly created fourth row** :)\r\n\r\nLet me know if that makes sense.\r\n\r\nsource: https://caniuse.com/css-display-contents', 'created_at': datetime.datetime(2025, 1, 29, 8, 11, 54, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-28 09:21:39 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195396.png)](https://mergebot.odoo.com/odoo/odoo/pull/195396)

hadielyakhni (Issue Creator) on (2025-01-28 16:39:35 UTC): @lase-odoo, It's the commit that has introduced the bug :) I have updated the PR description 👍🏼

lase-odoo on (2025-01-29 07:32:34 UTC): Ye, that I could figure out. But I can't figure out why the dialog would always believe we are in small setup and hence display as content (d-sm-contents bootstrap behaves as if we were in small setup all the time) because of this change. We are in a dialog added from the form view sure but why are we influenced by the css change of the form controller that way ?

hadielyakhni (Issue Creator) on (2025-01-29 08:11:54 UTC): @lase-odoo, it's not that the dialog believes that we're in a small setup. `display: contents` does the following


So here, that means that the grid's first and third children will ""virtually"" have `grid-column: span 2`. That's `display: contents`'s effect, I will explain below how that leads to the undesired layout we see.

Since our grid is 2x2 grid, what happens is that the first child now takes the first 2 columns of the first row (bcz of the `span 2` css); **the second child (i.e. the `textarea`) takes the first column of the second row**, and since the first column is small (150px following our css styles), the `textarea` appears so small; the third child, similar to the first child, will span 2 columns too, creating a third row; and finally, the fourth child, similar to the second, will **take the first column of a newly created fourth row** :)

Let me know if that makes sense.

source: https://caniuse.com/css-display-contents

"
2815066063,pull_request,open,,[IMP] core: allow to fail fast test suite,"Allow to limit to max failures or errors in odoo test suite
when environment variable ODOO_TEST_MAX_FAILED_TESTS is set.
Above that limit, skip all following tests

ODOO_TEST_MAX_FAILED_TESTS must be a non zero int

---
I confirm I have signed the CLA and read the PR guidelines at www.odoo.com/submit-pr
",sts-odoo,2025-01-28 09:21:09+00:00,[],2025-02-04 14:41:03+00:00,,https://github.com/odoo/odoo/pull/195395,"[('RD', 'research & development, internal work')]","[{'comment_id': 2618397755, 'issue_id': 2815066063, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195395.png)](https://mergebot.odoo.com/odoo/odoo/pull/195395)', 'created_at': datetime.datetime(2025, 1, 28, 9, 21, 12, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-28 09:21:12 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195395.png)](https://mergebot.odoo.com/odoo/odoo/pull/195395)

"
2815058136,pull_request,closed,,[FW][FIX] calendar: fix minor styling issues,"Since the update of FullCalendar some styling was not properly applied.

Which leads to the following issues:
- Missing borders
- Cropped text in month views
- Double borders

task-3833841

---
I confirm I have signed the CLA and read the PR guidelines at www.odoo.com/submit-pr

Forward-Port-Of: odoo/odoo#191056",fw-bot,2025-01-28 09:17:17+00:00,[],2025-01-28 19:00:24+00:00,2025-01-28 19:00:24+00:00,https://github.com/odoo/odoo/pull/195394,"[('RD', 'research & development, internal work'), ('forwardport', 'This PR was created by @fw-bot')]","[{'comment_id': 2618389614, 'issue_id': 2815058136, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195394.png)](https://mergebot.odoo.com/odoo/odoo/pull/195394)', 'created_at': datetime.datetime(2025, 1, 28, 9, 17, 18, tzinfo=datetime.timezone.utc)}, {'comment_id': 2618389636, 'issue_id': 2815058136, 'author': 'fw-bot', 'body': 'This PR targets saas-17.4 and is part of the forward-port chain. Further PRs will be created up to master.\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 28, 9, 17, 19, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-28 09:17:18 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195394.png)](https://mergebot.odoo.com/odoo/odoo/pull/195394)

fw-bot (Issue Creator) on (2025-01-28 09:17:19 UTC): This PR targets saas-17.4 and is part of the forward-port chain. Further PRs will be created up to master.

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

"
2815055497,pull_request,closed,,[FIX] web: add a fallback if there is no previous controller,"- open a record with an URL: `/{model}/{id}`;
- delete or archive the record;

Before this commit, an empty form view was displayed, with an incorrect URL: `/{model}/new`. This form view was inconsistent, and would throw an error in some applications (such as accounting). Even if no error was thrown, an error would be thrown if the user clicked on the 'back' button.

This is not the correct behaviour, when deleting or archiving a record, the correct behaviour is :
- if a pager exists, display the next record;
- if not, return to the previous controller (the previous action, usually the multi-record view);

The issue here is that we don't have a previous action or a multi-record view.

Now, in this particular case, we will fallback to the default application.

opw-4354129
",jpp-odoo,2025-01-28 09:15:56+00:00,[],2025-01-29 15:03:16+00:00,2025-01-29 15:01:34+00:00,https://github.com/odoo/odoo/pull/195393,"[('OE', 'the report is linked to a support ticket (opw-...)')]","[{'comment_id': 2618386796, 'issue_id': 2815055497, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195393.png)](https://mergebot.odoo.com/odoo/odoo/pull/195393)', 'created_at': datetime.datetime(2025, 1, 28, 9, 15, 59, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-28 09:15:59 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195393.png)](https://mergebot.odoo.com/odoo/odoo/pull/195393)

"
2815050864,pull_request,open,,[FIX] account: sudo get commercial partner,"Relevant conversation: https://github.com/odoo/upgrade/pull/7113

The error happens when a partner record doesn't have a company_id, making him accessible for the user, but its commercial_partner_id has a company_id that is different from the user's current company, causing an issue here:

https://github.com/odoo/odoo/blob/18.0/addons/account/models/partner.py#L643

```
   File ""/home/odoo/src/odoo/18.0/addons/account_edi_ubl_cii/models/res_partner.py"", line 190, in _compute_invoice_edi_format
    super()._compute_invoice_edi_format()
   File ""/home/odoo/src/odoo/18.0/addons/account/models/partner.py"", line 643, in _compute_invoice_edi_format
    if partner.commercial_partner_id.invoice_edi_format_store == 'none':
   File ""/home/odoo/src/odoo/18.0/odoo/fields.py"", line 1266, in __get__
    recs._fetch_field(self)
   File ""/home/odoo/src/odoo/18.0/odoo/models.py"", line 4058, in _fetch_field
    self.fetch(fnames)
   File ""/home/odoo/src/odoo/18.0/odoo/models.py"", line 4101, in fetch
    raise self.env['ir.rule']._make_access_error('read', forbidden)
 odoo.exceptions.AccessError: Uh-oh! Looks like you have stumbled upon some top-secret records.

Sorry, Omar Ahmed Omar Al Himyari (id=2) doesn't have 'read' access to:
- Contact (res.partner)

If you really, really need access, perhaps you can win over your friendly administrator with a batch of freshly baked cookies.

This seems to be a multi-company issue, you might be able to access the record by switching to the company: Overseas Warehouse Management.
```

Description of the issue/feature this PR addresses:

Current behavior before PR:

Desired behavior after PR is merged:




---
I confirm I have signed the CLA and read the PR guidelines at www.odoo.com/submit-pr
",UemuS,2025-01-28 09:13:41+00:00,[],2025-02-07 15:10:09+00:00,,https://github.com/odoo/odoo/pull/195392,"[('RD', 'research & development, internal work')]","[{'comment_id': 2618382008, 'issue_id': 2815050864, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195392.png)](https://mergebot.odoo.com/odoo/odoo/pull/195392)', 'created_at': datetime.datetime(2025, 1, 28, 9, 13, 45, tzinfo=datetime.timezone.utc)}, {'comment_id': 2618902304, 'issue_id': 2815050864, 'author': 'guva-odoo', 'body': 'not needed, see https://github.com/odoo/upgrade/pull/7113#issuecomment-2618901113\r\nthanks anyway!', 'created_at': datetime.datetime(2025, 1, 28, 12, 44, 42, tzinfo=datetime.timezone.utc)}, {'comment_id': 2634304848, 'issue_id': 2815050864, 'author': 'jbw-odoo', 'body': 'roodoo r+', 'created_at': datetime.datetime(2025, 2, 4, 15, 24, 40, tzinfo=datetime.timezone.utc)}, {'comment_id': 2640004960, 'issue_id': 2815050864, 'author': 'UemuS', 'body': ""> Wouldn't this fix allow using a partner (or it's config) when we shouldn't be able to access it?\r\n\r\nIf said partner is set as the `commercial_partner` (which is the case here) isn't that fine?"", 'created_at': datetime.datetime(2025, 2, 6, 14, 36, 26, tzinfo=datetime.timezone.utc)}, {'comment_id': 2643206553, 'issue_id': 2815050864, 'author': 'william-andre', 'body': 'Well not really because that commercial partner should not be usable on the invoice', 'created_at': datetime.datetime(2025, 2, 7, 15, 10, 7, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-28 09:13:45 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195392.png)](https://mergebot.odoo.com/odoo/odoo/pull/195392)

guva-odoo on (2025-01-28 12:44:42 UTC): not needed, see https://github.com/odoo/upgrade/pull/7113#issuecomment-2618901113
thanks anyway!

jbw-odoo on (2025-02-04 15:24:40 UTC): roodoo r+

UemuS (Issue Creator) on (2025-02-06 14:36:26 UTC): If said partner is set as the `commercial_partner` (which is the case here) isn't that fine?

william-andre on (2025-02-07 15:10:07 UTC): Well not really because that commercial partner should not be usable on the invoice

"
2815050384,pull_request,closed,,[FW][FIX] mrp: find all child MO,"Steps to reproduce the bug:
- Create a storable product “C1”:
     - MTO + Manufacture
     - BoM:
        - Component: 1 unit of C2
- Create a storable product “P1”
    - Component: 1 unit of C1

- Create a MO to produce one unit of P1:
    - Confirm
- A child MO with one unit of C1 is created
- Update the qty producing of P1 to 2
- A new MO to produce one unit of C1 is created

Problem:
The MO of P1 is linked only to the last MO of C1.
This occurs because the “created_production_id” field in the stock move of C1 (associated with the MO of P1) is updated to reference the most recent MO of C1. Additionally, since the following fix:
https://github.com/odoo/odoo/commit/c5b3f41fbd442def9e97acb023a00862e7d03eb3#diff-6d86bc8c3e9aa22586656b702849c5bbbb00c9b97ffd08bc0842e0e68f8948f9R74
Each new MO has its own procurement group.
As a result, when using the _get_children method:
- The method retrieves stock moves linked to the current procurement group.
- It uses their created_production_id to fetch the associated procurement group and then retrieves the related production_id.
However, since the two child MOs of C1 belong to different procurement groups, only the latest MO is returned.

opw-4450210

Forward-Port-Of: odoo/odoo#194032
Forward-Port-Of: odoo/odoo#192952",fw-bot,2025-01-28 09:13:27+00:00,[],2025-01-29 07:11:39+00:00,2025-01-29 07:11:39+00:00,https://github.com/odoo/odoo/pull/195391,"[('OE', 'the report is linked to a support ticket (opw-...)'), ('forwardport', 'This PR was created by @fw-bot')]","[{'comment_id': 2618381498, 'issue_id': 2815050384, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195391.png)](https://mergebot.odoo.com/odoo/odoo/pull/195391)', 'created_at': datetime.datetime(2025, 1, 28, 9, 13, 28, tzinfo=datetime.timezone.utc)}, {'comment_id': 2618381516, 'issue_id': 2815050384, 'author': 'fw-bot', 'body': 'This PR targets 18.0 and is part of the forward-port chain. Further PRs will be created up to master.\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 28, 9, 13, 29, tzinfo=datetime.timezone.utc)}, {'comment_id': 2618656301, 'issue_id': 2815050384, 'author': 'DjamelTouati', 'body': 'robodoo r+', 'created_at': datetime.datetime(2025, 1, 28, 10, 54, 37, tzinfo=datetime.timezone.utc)}, {'comment_id': 2618963034, 'issue_id': 2815050384, 'author': 'fw-bot', 'body': ""@DjamelTouati @Whenrow child PR odoo/odoo#195412 was modified / updated and has become a normal PR. This PR (and any of its parents) will need to be merged independently as approvals won't cross."", 'created_at': datetime.datetime(2025, 1, 28, 13, 12, 21, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-28 09:13:28 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195391.png)](https://mergebot.odoo.com/odoo/odoo/pull/195391)

fw-bot (Issue Creator) on (2025-01-28 09:13:29 UTC): This PR targets 18.0 and is part of the forward-port chain. Further PRs will be created up to master.

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

DjamelTouati on (2025-01-28 10:54:37 UTC): robodoo r+

fw-bot (Issue Creator) on (2025-01-28 13:12:21 UTC): @DjamelTouati @Whenrow child PR odoo/odoo#195412 was modified / updated and has become a normal PR. This PR (and any of its parents) will need to be merged independently as approvals won't cross.

"
2815027608,pull_request,open,,"[FIX] project_sale_expense,project_hr_expense: add expenses from PO to profitability","### Issue:
- in 18.0 when a product expence reinvoice configuration is st to 'at cost' or 'sales price', the expense is not added to the profitability. even tho we see it on the SO.

### Steps To Reproduce:
- Create a product that can be expensed where type is `service`, add cost and sales price.
- Set the product `Create on Order` to `project & task` and `Re-Invoice Costs` to `At cost` or `Sales price`.
- Create a sales order for the product and confirm it.
- Create a purchase order for the product and add the SO project to the PO project.
- Confirm the PO and validate the bill.
- Notice the expense is now added as a sol on the SO.
- Notice the expense is missing in the project profitability.

### Solution:
- in `_get_profitability_sale_order_items_domain` we used to remove the expense lines from the domain. however, since now we are adding them on the SO to be reinvoiced, we should keep them.

### opw-4398193

---
I confirm I have signed the CLA and read the PR guidelines at www.odoo.com/submit-pr
",kawkb,2025-01-28 09:03:18+00:00,[],2025-02-07 13:18:11+00:00,,https://github.com/odoo/odoo/pull/195390,"[('OE', 'the report is linked to a support ticket (opw-...)')]","[{'comment_id': 2618353543, 'issue_id': 2815027608, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195390.png)](https://mergebot.odoo.com/odoo/odoo/pull/195390)', 'created_at': datetime.datetime(2025, 1, 28, 9, 3, 20, tzinfo=datetime.timezone.utc)}, {'comment_id': 2630485323, 'issue_id': 2815027608, 'author': 'Megaaaaaa', 'body': 'Hello, :wave:\r\n\r\nThank you for the fix, sending it to the expenses accounting subteam so you get an accurate review :+1:', 'created_at': datetime.datetime(2025, 2, 3, 10, 3, 23, tzinfo=datetime.timezone.utc)}, {'comment_id': 2630539880, 'issue_id': 2815027608, 'author': 'kawkb', 'body': ""Hello @Megaaaaaa thank you for your review, isn't it supposed to be reviewed by the services team? I don't understand why the expenses accounting should review it?"", 'created_at': datetime.datetime(2025, 2, 3, 10, 26, 18, tzinfo=datetime.timezone.utc)}, {'comment_id': 2630567739, 'issue_id': 2815027608, 'author': 'Megaaaaaa', 'body': ""Hello @kawkb :wave:\r\n\r\nSo actually the hr_expense module is handled by the accounting team so i suppose that's why we got pinged by C3POdoo. Indeed services handles project and sales so they will give the main review but maybe our expense subtem has an input on this so I fuigured i'll ping them :smile:"", 'created_at': datetime.datetime(2025, 2, 3, 10, 38, 13, tzinfo=datetime.timezone.utc)}, {'comment_id': 2633356447, 'issue_id': 2815027608, 'author': 'kawkb', 'body': 'Hello @hupo-odoo can you please take sometime to check this?', 'created_at': datetime.datetime(2025, 2, 4, 9, 36, 28, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-28 09:03:20 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195390.png)](https://mergebot.odoo.com/odoo/odoo/pull/195390)

Megaaaaaa on (2025-02-03 10:03:23 UTC): Hello, :wave:

Thank you for the fix, sending it to the expenses accounting subteam so you get an accurate review :+1:

kawkb (Issue Creator) on (2025-02-03 10:26:18 UTC): Hello @Megaaaaaa thank you for your review, isn't it supposed to be reviewed by the services team? I don't understand why the expenses accounting should review it?

Megaaaaaa on (2025-02-03 10:38:13 UTC): Hello @kawkb :wave:

So actually the hr_expense module is handled by the accounting team so i suppose that's why we got pinged by C3POdoo. Indeed services handles project and sales so they will give the main review but maybe our expense subtem has an input on this so I fuigured i'll ping them :smile:

kawkb (Issue Creator) on (2025-02-04 09:36:28 UTC): Hello @hupo-odoo can you please take sometime to check this?

"
2814992364,pull_request,closed,,[FW][FIX] google_calendar: avoid sync failure on rescheduled all-day events,"Before this commit, syncing a Google Calendar that includes an all-day recurrent event—one of which is rescheduled—would fail entirely. This happened because `full_recurring_event_id` only handled events with a specific date-time format (`T...Z`), causing the regex to break for date-only IDs.

opw-4443780

---
I confirm I have signed the CLA and read the PR guidelines at www.odoo.com/submit-pr

Forward-Port-Of: odoo/odoo#194176",fw-bot,2025-01-28 08:50:14+00:00,[],2025-01-28 15:58:21+00:00,2025-01-28 15:58:18+00:00,https://github.com/odoo/odoo/pull/195389,"[('OE', 'the report is linked to a support ticket (opw-...)'), ('forwardport', 'This PR was created by @fw-bot'), ('18.2', None)]","[{'comment_id': 2618322403, 'issue_id': 2814992364, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195389.png)](https://mergebot.odoo.com/odoo/odoo/pull/195389)', 'created_at': datetime.datetime(2025, 1, 28, 8, 50, 15, tzinfo=datetime.timezone.utc)}, {'comment_id': 2618322421, 'issue_id': 2814992364, 'author': 'fw-bot', 'body': '@pedrambiria @arj-odoo this PR targets master and is the last of the forward-port chain containing:\n* odoo/odoo#195338\n* odoo/odoo#195315\n* odoo/odoo#195299\n* odoo/odoo#195272\n\nTo merge the full chain, use\n> @robodoo r+\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 28, 8, 50, 16, tzinfo=datetime.timezone.utc)}, {'comment_id': 2618363242, 'issue_id': 2814992364, 'author': 'pedrambiria', 'body': '@robodoo r+', 'created_at': datetime.datetime(2025, 1, 28, 9, 5, 59, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-28 08:50:15 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195389.png)](https://mergebot.odoo.com/odoo/odoo/pull/195389)

fw-bot (Issue Creator) on (2025-01-28 08:50:16 UTC): @pedrambiria @arj-odoo this PR targets master and is the last of the forward-port chain containing:
* odoo/odoo#195338
* odoo/odoo#195315
* odoo/odoo#195299
* odoo/odoo#195272

To merge the full chain, use

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

pedrambiria on (2025-01-28 09:05:59 UTC): @robodoo r+

"
2814988682,pull_request,closed,,[FIX] account_peppol: fix displayed error,"Fix the error displayed error.
The current code causes a key error.

task-no
",clbr-odoo,2025-01-28 08:48:52+00:00,[],2025-01-28 12:58:52+00:00,2025-01-28 12:58:52+00:00,https://github.com/odoo/odoo/pull/195388,"[('RD', 'research & development, internal work')]","[{'comment_id': 2618319650, 'issue_id': 2814988682, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195388.png)](https://mergebot.odoo.com/odoo/odoo/pull/195388)', 'created_at': datetime.datetime(2025, 1, 28, 8, 48, 55, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-28 08:48:55 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195388.png)](https://mergebot.odoo.com/odoo/odoo/pull/195388)

"
2814988090,pull_request,closed,,[IMP] mail: channel icons should be square by default,"Current behavior before PR:

Channel icons are generated as circles by default, which is somewhat misleading since setting a new icon would display it in a square format, causing inconsistency.

Desired behavior after PR is merged:

Channel icons will be generated as squares by default, eliminating the previous inconsistency and ensuring a more accurate representation of the final display.

task-id:[4510673](https://www.odoo.com/odoo/project/1519/tasks/4510673)

---
I confirm I have signed the CLA and read the PR guidelines at www.odoo.com/submit-pr
",akap-odoo,2025-01-28 08:48:43+00:00,[],2025-01-30 17:02:01+00:00,2025-01-30 15:32:26+00:00,https://github.com/odoo/odoo/pull/195387,"[('RD', 'research & development, internal work'), ('18.2', None)]","[{'comment_id': 2618319320, 'issue_id': 2814988090, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195387.png)](https://mergebot.odoo.com/odoo/odoo/pull/195387)', 'created_at': datetime.datetime(2025, 1, 28, 8, 48, 45, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-28 08:48:45 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195387.png)](https://mergebot.odoo.com/odoo/odoo/pull/195387)

"
2814975170,pull_request,open,,Saas 18.1 pos rev lowe,"[IMP] point_of_sale, *: revamp UI
*: pos_restaurant

This commit introduces some UI cleaning for the POS.

task-4496287

---
I confirm I have signed the CLA and read the PR guidelines at www.odoo.com/submit-pr
",loukwets,2025-01-28 08:43:44+00:00,[],2025-02-05 08:12:41+00:00,,https://github.com/odoo/odoo/pull/195386,"[('RD', 'research & development, internal work')]","[{'comment_id': 2618302131, 'issue_id': 2814975170, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195386.png)](https://mergebot.odoo.com/odoo/odoo/pull/195386)', 'created_at': datetime.datetime(2025, 1, 28, 8, 43, 46, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-28 08:43:46 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195386.png)](https://mergebot.odoo.com/odoo/odoo/pull/195386)

"
2814944094,pull_request,closed,,[FW][FIX] hr: only generate default avatar if possible,"Steps
-----
- Have a user with 'Employees' Administator rights and no 'Administration' rights.
- Create a new employee.
- When viewing the Kanban views of employees, the image for the newly created employee appears corrupted (the text 'binary file' appears instead of the image).

Cause
-----
When we create a new employee, `_avatar_generate_svg` is called https://github.com/odoo/odoo/blob/717f3a1ab25613c02c2d0b28fa8dd73f4e6c75e0/addons/hr/models/hr_employee.py#L497-L498 that returns a svg/xml base-64 encoded. However, only users with write rights to `ir.ui.view` are able to create svg/xml attachments. https://github.com/odoo/odoo/blob/717f3a1ab25613c02c2d0b28fa8dd73f4e6c75e0/odoo/addons/base/models/ir_attachment.py#L368-L371 Else, the attachment has a text mimetype forced, leading to it being incorrectly displayed.

Change
-----
A default image is not generated at employee creation if the user doesn't have sufficient rights.

opw-4311251

Forward-Port-Of: odoo/odoo#194588
Forward-Port-Of: odoo/odoo#190214",fw-bot,2025-01-28 08:27:33+00:00,[],2025-02-07 13:41:52+00:00,2025-02-07 13:41:52+00:00,https://github.com/odoo/odoo/pull/195385,"[('OE', 'the report is linked to a support ticket (opw-...)'), ('forwardport', 'This PR was created by @fw-bot'), ('18.2', None)]","[{'comment_id': 2618235398, 'issue_id': 2814944094, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195385.png)](https://mergebot.odoo.com/odoo/odoo/pull/195385)', 'created_at': datetime.datetime(2025, 1, 28, 8, 27, 34, tzinfo=datetime.timezone.utc)}, {'comment_id': 2618235452, 'issue_id': 2814944094, 'author': 'fw-bot', 'body': '@taqu-odoo @Bertrand2 this PR targets master and is the last of the forward-port chain containing:\n* odoo/odoo#195321\n\nTo merge the full chain, use\n> @robodoo r+\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 28, 8, 27, 35, tzinfo=datetime.timezone.utc)}, {'comment_id': 2618949024, 'issue_id': 2814944094, 'author': 'taqu-odoo', 'body': 'Hello @Bertrand2 , do you think this should be merged in master too or could it be considered to give more rights to the `group_hr_manager` group to have more consistency?', 'created_at': datetime.datetime(2025, 1, 28, 13, 6, 9, tzinfo=datetime.timezone.utc)}, {'comment_id': 2620471886, 'issue_id': 2814944094, 'author': 'fw-bot', 'body': '@taqu-odoo @Bertrand2 this forward port of odoo/odoo#190214 is awaiting action (not merged or closed).', 'created_at': datetime.datetime(2025, 1, 29, 2, 1, 32, tzinfo=datetime.timezone.utc)}, {'comment_id': 2623354664, 'issue_id': 2814944094, 'author': 'fw-bot', 'body': '@taqu-odoo @Bertrand2 this forward port of odoo/odoo#190214 is awaiting action (not merged or closed).', 'created_at': datetime.datetime(2025, 1, 30, 2, 2, 17, tzinfo=datetime.timezone.utc)}, {'comment_id': 2626137942, 'issue_id': 2814944094, 'author': 'fw-bot', 'body': '@taqu-odoo @Bertrand2 this forward port of odoo/odoo#190214 is awaiting action (not merged or closed).', 'created_at': datetime.datetime(2025, 1, 31, 2, 2, 12, tzinfo=datetime.timezone.utc)}, {'comment_id': 2629202021, 'issue_id': 2814944094, 'author': 'fw-bot', 'body': '@taqu-odoo @Bertrand2 this forward port of odoo/odoo#190214 is awaiting action (not merged or closed).', 'created_at': datetime.datetime(2025, 2, 2, 2, 1, 59, tzinfo=datetime.timezone.utc)}, {'comment_id': 2642495863, 'issue_id': 2814944094, 'author': 'Bertrand2', 'body': 'robodoo r+', 'created_at': datetime.datetime(2025, 2, 7, 10, 11, 14, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-28 08:27:34 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195385.png)](https://mergebot.odoo.com/odoo/odoo/pull/195385)

fw-bot (Issue Creator) on (2025-01-28 08:27:35 UTC): @taqu-odoo @Bertrand2 this PR targets master and is the last of the forward-port chain containing:
* odoo/odoo#195321

To merge the full chain, use

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

taqu-odoo on (2025-01-28 13:06:09 UTC): Hello @Bertrand2 , do you think this should be merged in master too or could it be considered to give more rights to the `group_hr_manager` group to have more consistency?

fw-bot (Issue Creator) on (2025-01-29 02:01:32 UTC): @taqu-odoo @Bertrand2 this forward port of odoo/odoo#190214 is awaiting action (not merged or closed).

fw-bot (Issue Creator) on (2025-01-30 02:02:17 UTC): @taqu-odoo @Bertrand2 this forward port of odoo/odoo#190214 is awaiting action (not merged or closed).

fw-bot (Issue Creator) on (2025-01-31 02:02:12 UTC): @taqu-odoo @Bertrand2 this forward port of odoo/odoo#190214 is awaiting action (not merged or closed).

fw-bot (Issue Creator) on (2025-02-02 02:01:59 UTC): @taqu-odoo @Bertrand2 this forward port of odoo/odoo#190214 is awaiting action (not merged or closed).

Bertrand2 on (2025-02-07 10:11:14 UTC): robodoo r+

"
2814936915,pull_request,closed,,[IMP] hr: update job title if it is not customized,"Problem
----------
When a job position is set to an employee, the job title is updated once. If the name of the job changes, it will not be updated in each employee job title.

task-3710658
",lebm-odoo,2025-01-28 08:24:35+00:00,[],2025-02-05 15:03:09+00:00,2025-02-05 13:54:15+00:00,https://github.com/odoo/odoo/pull/195384,"[('RD', 'research & development, internal work'), ('18.2', None)]","[{'comment_id': 2618222413, 'issue_id': 2814936915, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195384.png)](https://mergebot.odoo.com/odoo/odoo/pull/195384)', 'created_at': datetime.datetime(2025, 1, 28, 8, 24, 38, tzinfo=datetime.timezone.utc)}, {'comment_id': 2636319481, 'issue_id': 2814936915, 'author': 'tivisse', 'body': '@robodoo r+', 'created_at': datetime.datetime(2025, 2, 5, 10, 21, 10, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-28 08:24:38 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195384.png)](https://mergebot.odoo.com/odoo/odoo/pull/195384)

tivisse on (2025-02-05 10:21:10 UTC): @robodoo r+

"
2814903656,pull_request,closed,,[FIX] website: fix scroll issues with header,"Before this commit, the hide on scroll part of the header would not hide properly because its height was computed based on the new height instead of his origine height.

This commit solves the issue be resetting the values before computing the new height.",romo-odoo,2025-01-28 08:08:52+00:00,[],2025-01-28 23:33:31+00:00,2025-01-28 23:33:30+00:00,https://github.com/odoo/odoo/pull/195383,"[('RD', 'research & development, internal work'), ('18.2', None)]","[{'comment_id': 2618174594, 'issue_id': 2814903656, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195383.png)](https://mergebot.odoo.com/odoo/odoo/pull/195383)', 'created_at': datetime.datetime(2025, 1, 28, 8, 8, 55, tzinfo=datetime.timezone.utc)}, {'comment_id': 2618952837, 'issue_id': 2814903656, 'author': 'qsm-odoo', 'body': '@robodoo delegate=bvr-odoo \r\n@bvr-odoo', 'created_at': datetime.datetime(2025, 1, 28, 13, 7, 51, tzinfo=datetime.timezone.utc)}, {'comment_id': 2619034423, 'issue_id': 2814903656, 'author': 'bvr-odoo', 'body': '@robodoo r+', 'created_at': datetime.datetime(2025, 1, 28, 13, 39, 5, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-28 08:08:55 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195383.png)](https://mergebot.odoo.com/odoo/odoo/pull/195383)

qsm-odoo on (2025-01-28 13:07:51 UTC): @robodoo delegate=bvr-odoo 
@bvr-odoo

bvr-odoo on (2025-01-28 13:39:05 UTC): @robodoo r+

"
2814878569,pull_request,closed,,[FIX] account: correct payment resequence,"- Configure an outstanding receipt account (e.g., Bank) for the Bank journal.

- Create an invoice and process the payment.

When attempting to resequence the journal entry corresponding to the `account.payment`, the journal entry is renamed, but the `account.payment` record is not updated accordingly.

https://github.com/odoo/odoo/commit/01b87f1230beac0568f4e3b1b76e547909506892 made the journal entry optional for payments, which broke the resequence.

opw-4437481


---
I confirm I have signed the CLA and read the PR guidelines at www.odoo.com/submit-pr
",gteboul,2025-01-28 07:53:20+00:00,[],2025-02-05 02:45:46+00:00,2025-02-05 02:45:46+00:00,https://github.com/odoo/odoo/pull/195382,"[('OE', 'the report is linked to a support ticket (opw-...)')]","[{'comment_id': 2618148409, 'issue_id': 2814878569, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195382.png)](https://mergebot.odoo.com/odoo/odoo/pull/195382)', 'created_at': datetime.datetime(2025, 1, 28, 7, 53, 22, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-28 07:53:22 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195382.png)](https://mergebot.odoo.com/odoo/odoo/pull/195382)

"
2814877958,pull_request,closed,,[FW][FIX] mrp: variant assignation warning,"Issue
-----
When selecting a variant for the bom, all of the component lines lose the ""Apply on variants"" info. This is intended behaviour but can lead to big data losses for larger boms.

Discussed it with PO and we went with a simple user warning when this happens.

Steps to reproduce
-----
- Create product ""A"" with variant ""A1"" and product ""B""
- Create a bom for A
- Create a bom line with ""Apply on variants"" set to A1
- Save the bom
- Change the bom product from A to B
- Save the bom / Leave the page

Ticket:
opw-4182384

Forward-Port-Of: odoo/odoo#191541",fw-bot,2025-01-28 07:52:55+00:00,[],2025-01-28 19:09:27+00:00,2025-01-28 19:09:27+00:00,https://github.com/odoo/odoo/pull/195381,"[('OE', 'the report is linked to a support ticket (opw-...)'), ('forwardport', 'This PR was created by @fw-bot')]","[{'comment_id': 2618147779, 'issue_id': 2814877958, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195381.png)](https://mergebot.odoo.com/odoo/odoo/pull/195381)', 'created_at': datetime.datetime(2025, 1, 28, 7, 52, 56, tzinfo=datetime.timezone.utc)}, {'comment_id': 2618147786, 'issue_id': 2814877958, 'author': 'fw-bot', 'body': 'This PR targets saas-18.1 and is part of the forward-port chain. Further PRs will be created up to master.\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 28, 7, 52, 57, tzinfo=datetime.timezone.utc)}, {'comment_id': 2618267229, 'issue_id': 2814877958, 'author': 'fw-bot', 'body': '@vandroogenbd @adwid ci/runbot failed on this forward-port PR', 'created_at': datetime.datetime(2025, 1, 28, 8, 35, 13, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-28 07:52:56 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195381.png)](https://mergebot.odoo.com/odoo/odoo/pull/195381)

fw-bot (Issue Creator) on (2025-01-28 07:52:57 UTC): This PR targets saas-18.1 and is part of the forward-port chain. Further PRs will be created up to master.

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

fw-bot (Issue Creator) on (2025-01-28 08:35:13 UTC): @vandroogenbd @adwid ci/runbot failed on this forward-port PR

"
2814820483,pull_request,closed,," [FIX] l10n_es,l10n_es_edi_facturae : Update Taxes and modelo 390","This fix updates the taxes and the modelo 390 tax report

Task: 4453629

Enterprise PR: https://github.com/odoo/enterprise/pull/77941",jbw-odoo,2025-01-28 07:17:34+00:00,[],2025-02-07 20:28:41+00:00,2025-02-03 12:17:13+00:00,https://github.com/odoo/odoo/pull/195380,"[('RD', 'research & development, internal work')]","[{'comment_id': 2618095989, 'issue_id': 2814820483, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195380.png)](https://mergebot.odoo.com/odoo/odoo/pull/195380)', 'created_at': datetime.datetime(2025, 1, 28, 7, 17, 38, tzinfo=datetime.timezone.utc)}, {'comment_id': 2624450404, 'issue_id': 2814820483, 'author': 'jco-odoo', 'body': '@jbw-odoo There is a test in SII failing.  We should check this.   (see the red l10n)', 'created_at': datetime.datetime(2025, 1, 30, 12, 59, 11, tzinfo=datetime.timezone.utc)}, {'comment_id': 2624739640, 'issue_id': 2814820483, 'author': 'chklop', 'body': ""> Not sure why reordering of taxes is done in stable. Also making the services ones active False, does not seem like a good idea, because you need the mapping still? (or how are they going to choose the right tax in case of intra-community?)\r\n\r\nIf you want to lower the diff in stable I'm fine with it, and I can do my big cleanup in master. But at least the fixes in the tax_grids should be there in 17.0"", 'created_at': datetime.datetime(2025, 1, 30, 15, 2, 3, tzinfo=datetime.timezone.utc)}, {'comment_id': 2627262336, 'issue_id': 2814820483, 'author': 'jco-odoo', 'body': '@robodoo r+', 'created_at': datetime.datetime(2025, 1, 31, 12, 58, 15, tzinfo=datetime.timezone.utc)}, {'comment_id': 2627269891, 'issue_id': 2814820483, 'author': 'robodoo', 'body': ""Forward-porting to 'saas-18.1'."", 'created_at': datetime.datetime(2025, 1, 31, 13, 0, 31, tzinfo=datetime.timezone.utc)}, {'comment_id': 2630779851, 'issue_id': 2814820483, 'author': 'pedrobaeza', 'body': '@jbw-odoo @jco-odoo why are you deactivating taxes like 21% VAT services? That ones are very important and the base for a lot of things.', 'created_at': datetime.datetime(2025, 2, 3, 12, 14, 2, tzinfo=datetime.timezone.utc)}, {'comment_id': 2630786696, 'issue_id': 2814820483, 'author': 'jbw-odoo', 'body': '> @jbw-odoo @jco-odoo why are you deactivating taxes like 21% VAT services? That ones are very important and the base for a lot of things.\r\n\r\n@chklop', 'created_at': datetime.datetime(2025, 2, 3, 12, 17, 11, tzinfo=datetime.timezone.utc)}, {'comment_id': 2630786845, 'issue_id': 2814820483, 'author': 'robodoo', 'body': ""@jbw-odoo ya silly goose you can't reopen a merged PR."", 'created_at': datetime.datetime(2025, 2, 3, 12, 17, 15, tzinfo=datetime.timezone.utc)}, {'comment_id': 2630868885, 'issue_id': 2814820483, 'author': 'acysos', 'body': ""@jbw-odoo what you remove 21% Services? It's mandatory in SII, because you have to send the 21% Goods and 21% Services differentiated"", 'created_at': datetime.datetime(2025, 2, 3, 12, 52, 38, tzinfo=datetime.timezone.utc)}, {'comment_id': 2631278550, 'issue_id': 2814820483, 'author': 'jjmaksoud', 'body': ""Hello @jco-odoo , shouldn't this kind of change include a module version bump and a `try_loading`, or at least a `_load` for taxes? especially that a new tax `account_tax_template_s_iva0_g_i` is added. The new tax is loaded in the [init hook ](https://github.com/odoo/odoo/blob/456caea269580c437b621015314a76dfd1d89247/addons/l10n_es_edi_facturae/__init__.py#L16)for `l10n_es_edi_facturae` which did not exist in `16.0` so during an upgrade it will always be in init mode, it will try to update the `l10n_es_edi_facturae_tax_type` for the tax but the tax is not loaded by the main `l10n_es` chart so it ends up trying to create a new tax with all empty values\r\nref runbot [error](https://runbot.odoo.com/odoo/runbot.build.error/114680)"", 'created_at': datetime.datetime(2025, 2, 3, 15, 9, 50, tzinfo=datetime.timezone.utc)}, {'comment_id': 2633123550, 'issue_id': 2814820483, 'author': 'pedrobaeza', 'body': 'Any news on this? This is blocking 17.0 deployments and CIs.', 'created_at': datetime.datetime(2025, 2, 4, 7, 44, 48, tzinfo=datetime.timezone.utc)}, {'comment_id': 2633126758, 'issue_id': 2814820483, 'author': 'jbw-odoo', 'body': ""> Any news on this? This is blocking 17.0 deployments and CIs.\r\n\r\nHello, yes i'm working on a fix"", 'created_at': datetime.datetime(2025, 2, 4, 7, 46, 21, tzinfo=datetime.timezone.utc)}, {'comment_id': 2633141497, 'issue_id': 2814820483, 'author': 'pedrobaeza', 'body': 'Thanks. The most critical one is to revert the active switch, although the `_load` thing is also important.', 'created_at': datetime.datetime(2025, 2, 4, 7, 55, 7, tzinfo=datetime.timezone.utc)}, {'comment_id': 2633193602, 'issue_id': 2814820483, 'author': 'chklop', 'body': ""> @jbw-odoo @jco-odoo why are you deactivating taxes like 21% VAT services? That ones are very important and the base for a lot of things.\r\n\r\n@pedrobaeza \r\nDeactivate taxes is something we do in localisations when those taxes are not always useful. The objective is to make the onboarding less daunting for new databases by avoiding to have cornercase taxes active that are only useful in specific use cases. Activate/deactivate them does nothing else than hiding them. If you specifically need them, you go in Configuration / Settings, you see the list and you can activate them in a click, no harm done.\r\n\r\nSo for example, let's take Sales. 0% EU G (EU B2B for goods) and 0% EU S (EU B2B for services), are kept active. Their base and taxes go in different parts of the modelos 303 and 390. They are different taxes, so we don't hide them. Accountants expect them.\r\n\r\nBut the regular 21% S and 21% G are not different taxes. In other softwares, you usually don't have two taxes. Goods and services sold nationally both do in the same casillas ([07/09] for Modelo 303, [05/06] for Modelo 390).\r\nIn Odoo we create two taxes for Fiscal Position usage. So you can setup your products (G for goods, S for services), so that if this product is then added in SO/invoice with the EU B2B Fiscal position, they are directly mapped to EU G and EU S. We consider this is already a specific use case that requires configuration from the user (setuping products in a database that does EU B2B transactions), and in that case having to go to the list of taxes to activate the ones you need is acceptable.\r\n\r\nBut in the meantime, new users discovering Odoo don't have to face 176 different active taxes, too many of them being very specific or hard to explain."", 'created_at': datetime.datetime(2025, 2, 4, 8, 23, 26, tzinfo=datetime.timezone.utc)}, {'comment_id': 2633211666, 'issue_id': 2814820483, 'author': 'pedrobaeza', 'body': 'They are basic taxes, Christophe, and they are differentiated because applying intra-community fiscal position (and also extra-community by the way), they go to different fields in the models and they have different fiscalization, so you can\'t deactivate a so important tax because ""there are too many"". If they are needed, they should be there. Deactivating it, you are doing that people to not introduce correctly things in the system, and they will have incorrect taxes declarations. Please don\'t do it. It\'s ironic that you introduce 5 different exempt taxes because your data model with SII forces you to do it, and now want to deactivate one of the most important taxes. I think @jco-odoo knows very well our localization, and can tell you about why there\'s so many taxes.\r\n\r\nUnless you change the way fiscal positions work, having one source tax, and mapping to different target taxes depending on other things like country, we need 2 national taxes, one for goods, and other for services.', 'created_at': datetime.datetime(2025, 2, 4, 8, 32, 10, tzinfo=datetime.timezone.utc)}, {'comment_id': 2633336506, 'issue_id': 2814820483, 'author': 'chklop', 'body': ""I understand why we have so many taxes, that's why we don't delete them. I also know that in many cases they are not needed. We just don't activate them all by default because they are not always useful. JCO knows that and that's why he's the reviewer of that PR.\r\n\r\nThe feedback on Fiscal Positions is absolutely correct, and we're indeed working on a revamp of that system for V19. And with that, we aim at removing those useless taxes that are only there for mapping purposes."", 'created_at': datetime.datetime(2025, 2, 4, 9, 28, 28, tzinfo=datetime.timezone.utc)}, {'comment_id': 2633403582, 'issue_id': 2814820483, 'author': 'pedrobaeza', 'body': ""Yes, but that tax specially is one of the most used ones on services company, so it shouldn't be deactivated. IMO, what you should do is:\r\n\r\n- Deactivate target taxes of the fiscal positions (intra-community goods for example) instead of deactivating source taxes.\r\n- But for doing that, first you have to change the fiscal position mappings, as they are not mapping correctly if the source or the target tax is deactivated.\r\n- ¿Auto-activate the tax when used through a fiscal mapping position?"", 'created_at': datetime.datetime(2025, 2, 4, 9, 55, 26, tzinfo=datetime.timezone.utc)}, {'comment_id': 2634488423, 'issue_id': 2814820483, 'author': 'liebana', 'body': 'These changes are not acceptable in a stable version...', 'created_at': datetime.datetime(2025, 2, 4, 16, 32, 15, tzinfo=datetime.timezone.utc)}, {'comment_id': 2635138662, 'issue_id': 2814820483, 'author': 'acysos', 'body': ""> > @jbw-odoo @jco-odoo why are you deactivating taxes like 21% VAT services? That ones are very important and the base for a lot of things.\r\n> \r\n> @pedrobaeza Deactivate taxes is something we do in localisations when those taxes are not always useful. The objective is to make the onboarding less daunting for new databases by avoiding to have cornercase taxes active that are only useful in specific use cases. Activate/deactivate them does nothing else than hiding them. If you specifically need them, you go in Configuration / Settings, you see the list and you can activate them in a click, no harm done.\r\n> \r\n> So for example, let's take Sales. 0% EU G (EU B2B for goods) and 0% EU S (EU B2B for services), are kept active. Their base and taxes go in different parts of the modelos 303 and 390. They are different taxes, so we don't hide them. Accountants expect them.\r\n> \r\n> But the regular 21% S and 21% G are not different taxes. In other softwares, you usually don't have two taxes. Goods and services sold nationally both do in the same casillas ([07/09] for Modelo 303, [05/06] for Modelo 390). In Odoo we create two taxes for Fiscal Position usage. So you can setup your products (G for goods, S for services), so that if this product is then added in SO/invoice with the EU B2B Fiscal position, they are directly mapped to EU G and EU S. We consider this is already a specific use case that requires configuration from the user (setuping products in a database that does EU B2B transactions), and in that case having to go to the list of taxes to activate the ones you need is acceptable.\r\n> \r\n> But in the meantime, new users discovering Odoo don't have to face 176 different active taxes, too many of them being very specific or hard to explain.\r\n\r\n@chklop You are in a mistake because you only write about 303 and 390 model, 21% G and 21% S are not the same. You have to check the spanish SII law: https://sede.agenciatributaria.gob.es/static_files/Sede/Procedimiento_ayuda/G417/FicherosSuministros/V_1_1/SII_Descripcion_ServicioWeb_v1.1_en_gb.pdf\r\n\r\nIn the SII the Goods are sent like DesgloseFactura and Services are sent like DesgloseTipoOperacion. The taxes are different. \r\n\r\nBe careful because there are accountants that have habits, but these habits may not correct. There are software that have this two taxes and other haven't them, this is true, also there are software that separate the account 430 for customer, and Odoo don't separate. Sometimes the best is not the better."", 'created_at': datetime.datetime(2025, 2, 4, 21, 41, 50, tzinfo=datetime.timezone.utc)}, {'comment_id': 2635982923, 'issue_id': 2814820483, 'author': 'nacho-domatix', 'body': ""Agree, please, don't play with this, many companies and users depend on it. Listen to the community."", 'created_at': datetime.datetime(2025, 2, 5, 7, 47, 44, tzinfo=datetime.timezone.utc)}, {'comment_id': 2635996312, 'issue_id': 2814820483, 'author': 'chklop', 'body': ""> These changes are not acceptable in a stable version...\r\n\r\nSorry, we have to update taxes in stable because of the perpetual changes of AEAT on modelos. Those frequent changes challenge our data model and we'll be analyzing on how to improve our tax/reports system to handle this better in the future.\r\n\r\n> In the SII the Goods are sent like DesgloseFactura and Services are sent like DesgloseTipoOperacion. The taxes are different.\r\n\r\nUsing SII is for large companies. Large companies require more setup and configuration (including SII configuration). In that context, reviewing the taxes and activate the ones you need is expected. Those are not gone and it's very easy to do.\r\nBut in many cases they're not. We also target small companies (5-20 people) that have few invoices a year. A simple onboarding is a necessity, not something we can skip in favour of large ones. Having 180 taxes active by default is a nightmare, when 75% of them are for special cases.\r\n\r\n@all: I got the feedback that 21% S is common enough that hiding it by default is not a positive change and doesn't make it that more simple. We'll reactivate it by default, we'll create a separate PR for that."", 'created_at': datetime.datetime(2025, 2, 5, 7, 56, 6, tzinfo=datetime.timezone.utc)}, {'comment_id': 2636028514, 'issue_id': 2814820483, 'author': 'pedrobaeza', 'body': '@chklop If the taxes are still in use, they should be active. It\'s true that this 1st of January, some of the taxes have been deprecated (2% and 7.5%). Just deactivate them, but not the rest!\r\n\r\nI\'m seeing that your change is **worst than expected**, as you have also deactivated all the services taxes, so reactivating only ""21% S"" is not enough, as if you have an intra-community invoice, the corresponding taxes won\'t be remapped because they are disabled.\r\n\r\nPlease re-enable all the taxes that are still in use, or you will get a lot of tickets saying that the taxes declarations are not OK, and this complicates the life of all the Spanish integrators and third-party developments.', 'created_at': datetime.datetime(2025, 2, 5, 8, 13, 47, tzinfo=datetime.timezone.utc)}, {'comment_id': 2637304570, 'issue_id': 2814820483, 'author': 'chklop', 'body': 'I\'ll put it here as well: thanks for the feedback. We reconsidered the decision and we\'ll revert the ""active"" changes to not impact stable too much. This will be done this week. So only necessary changes (taxes and grids changes following modelo 390/303 changes) will be kept.\r\n\r\nIn the near future we\'ll be working on a change regarding the fiscal position system, with the objective in mind to reduce the number of necessary taxes to those that are really useful. Hopefully this will bring a better solution to the onboarding & tax duplication than just deactivating them arbitrarily.', 'created_at': datetime.datetime(2025, 2, 5, 15, 49, 19, tzinfo=datetime.timezone.utc)}, {'comment_id': 2643893123, 'issue_id': 2814820483, 'author': 'giarve', 'body': 'Hi, tried to install 17.0 and changed company chart of accounts to ""not for profit"".\r\n\r\n![image](https://github.com/user-attachments/assets/efb1f524-3cf1-45f2-9852-f31644692acd)\r\n\r\n\r\nthis was raised when saving configuration with an empty database:\r\n![image](https://github.com/user-attachments/assets/81846a7f-04df-423c-a0e1-e66170b3c8aa)\r\n\r\nI imagine this is the correct PR?\r\n\r\nEDIT: It is. After checking out 1 commit below the one introduced by the merge of the PR and saving config again, it succeeded.', 'created_at': datetime.datetime(2025, 2, 7, 19, 38, 41, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-28 07:17:38 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195380.png)](https://mergebot.odoo.com/odoo/odoo/pull/195380)

jco-odoo on (2025-01-30 12:59:11 UTC): @jbw-odoo There is a test in SII failing.  We should check this.   (see the red l10n)

chklop on (2025-01-30 15:02:03 UTC): If you want to lower the diff in stable I'm fine with it, and I can do my big cleanup in master. But at least the fixes in the tax_grids should be there in 17.0

jco-odoo on (2025-01-31 12:58:15 UTC): @robodoo r+

robodoo on (2025-01-31 13:00:31 UTC): Forward-porting to 'saas-18.1'.

pedrobaeza on (2025-02-03 12:14:02 UTC): @jbw-odoo @jco-odoo why are you deactivating taxes like 21% VAT services? That ones are very important and the base for a lot of things.

jbw-odoo (Issue Creator) on (2025-02-03 12:17:11 UTC): @chklop

robodoo on (2025-02-03 12:17:15 UTC): @jbw-odoo ya silly goose you can't reopen a merged PR.

acysos on (2025-02-03 12:52:38 UTC): @jbw-odoo what you remove 21% Services? It's mandatory in SII, because you have to send the 21% Goods and 21% Services differentiated

jjmaksoud on (2025-02-03 15:09:50 UTC): Hello @jco-odoo , shouldn't this kind of change include a module version bump and a `try_loading`, or at least a `_load` for taxes? especially that a new tax `account_tax_template_s_iva0_g_i` is added. The new tax is loaded in the [init hook ](https://github.com/odoo/odoo/blob/456caea269580c437b621015314a76dfd1d89247/addons/l10n_es_edi_facturae/__init__.py#L16)for `l10n_es_edi_facturae` which did not exist in `16.0` so during an upgrade it will always be in init mode, it will try to update the `l10n_es_edi_facturae_tax_type` for the tax but the tax is not loaded by the main `l10n_es` chart so it ends up trying to create a new tax with all empty values
ref runbot [error](https://runbot.odoo.com/odoo/runbot.build.error/114680)

pedrobaeza on (2025-02-04 07:44:48 UTC): Any news on this? This is blocking 17.0 deployments and CIs.

jbw-odoo (Issue Creator) on (2025-02-04 07:46:21 UTC): Hello, yes i'm working on a fix

pedrobaeza on (2025-02-04 07:55:07 UTC): Thanks. The most critical one is to revert the active switch, although the `_load` thing is also important.

chklop on (2025-02-04 08:23:26 UTC): @pedrobaeza 
Deactivate taxes is something we do in localisations when those taxes are not always useful. The objective is to make the onboarding less daunting for new databases by avoiding to have cornercase taxes active that are only useful in specific use cases. Activate/deactivate them does nothing else than hiding them. If you specifically need them, you go in Configuration / Settings, you see the list and you can activate them in a click, no harm done.

So for example, let's take Sales. 0% EU G (EU B2B for goods) and 0% EU S (EU B2B for services), are kept active. Their base and taxes go in different parts of the modelos 303 and 390. They are different taxes, so we don't hide them. Accountants expect them.

But the regular 21% S and 21% G are not different taxes. In other softwares, you usually don't have two taxes. Goods and services sold nationally both do in the same casillas ([07/09] for Modelo 303, [05/06] for Modelo 390).
In Odoo we create two taxes for Fiscal Position usage. So you can setup your products (G for goods, S for services), so that if this product is then added in SO/invoice with the EU B2B Fiscal position, they are directly mapped to EU G and EU S. We consider this is already a specific use case that requires configuration from the user (setuping products in a database that does EU B2B transactions), and in that case having to go to the list of taxes to activate the ones you need is acceptable.

But in the meantime, new users discovering Odoo don't have to face 176 different active taxes, too many of them being very specific or hard to explain.

pedrobaeza on (2025-02-04 08:32:10 UTC): They are basic taxes, Christophe, and they are differentiated because applying intra-community fiscal position (and also extra-community by the way), they go to different fields in the models and they have different fiscalization, so you can't deactivate a so important tax because ""there are too many"". If they are needed, they should be there. Deactivating it, you are doing that people to not introduce correctly things in the system, and they will have incorrect taxes declarations. Please don't do it. It's ironic that you introduce 5 different exempt taxes because your data model with SII forces you to do it, and now want to deactivate one of the most important taxes. I think @jco-odoo knows very well our localization, and can tell you about why there's so many taxes.

Unless you change the way fiscal positions work, having one source tax, and mapping to different target taxes depending on other things like country, we need 2 national taxes, one for goods, and other for services.

chklop on (2025-02-04 09:28:28 UTC): I understand why we have so many taxes, that's why we don't delete them. I also know that in many cases they are not needed. We just don't activate them all by default because they are not always useful. JCO knows that and that's why he's the reviewer of that PR.

The feedback on Fiscal Positions is absolutely correct, and we're indeed working on a revamp of that system for V19. And with that, we aim at removing those useless taxes that are only there for mapping purposes.

pedrobaeza on (2025-02-04 09:55:26 UTC): Yes, but that tax specially is one of the most used ones on services company, so it shouldn't be deactivated. IMO, what you should do is:

- Deactivate target taxes of the fiscal positions (intra-community goods for example) instead of deactivating source taxes.
- But for doing that, first you have to change the fiscal position mappings, as they are not mapping correctly if the source or the target tax is deactivated.
- ¿Auto-activate the tax when used through a fiscal mapping position?

liebana on (2025-02-04 16:32:15 UTC): These changes are not acceptable in a stable version...

acysos on (2025-02-04 21:41:50 UTC): @chklop You are in a mistake because you only write about 303 and 390 model, 21% G and 21% S are not the same. You have to check the spanish SII law: https://sede.agenciatributaria.gob.es/static_files/Sede/Procedimiento_ayuda/G417/FicherosSuministros/V_1_1/SII_Descripcion_ServicioWeb_v1.1_en_gb.pdf

In the SII the Goods are sent like DesgloseFactura and Services are sent like DesgloseTipoOperacion. The taxes are different. 

Be careful because there are accountants that have habits, but these habits may not correct. There are software that have this two taxes and other haven't them, this is true, also there are software that separate the account 430 for customer, and Odoo don't separate. Sometimes the best is not the better.

nacho-domatix on (2025-02-05 07:47:44 UTC): Agree, please, don't play with this, many companies and users depend on it. Listen to the community.

chklop on (2025-02-05 07:56:06 UTC): Sorry, we have to update taxes in stable because of the perpetual changes of AEAT on modelos. Those frequent changes challenge our data model and we'll be analyzing on how to improve our tax/reports system to handle this better in the future.


Using SII is for large companies. Large companies require more setup and configuration (including SII configuration). In that context, reviewing the taxes and activate the ones you need is expected. Those are not gone and it's very easy to do.
But in many cases they're not. We also target small companies (5-20 people) that have few invoices a year. A simple onboarding is a necessity, not something we can skip in favour of large ones. Having 180 taxes active by default is a nightmare, when 75% of them are for special cases.

@all: I got the feedback that 21% S is common enough that hiding it by default is not a positive change and doesn't make it that more simple. We'll reactivate it by default, we'll create a separate PR for that.

pedrobaeza on (2025-02-05 08:13:47 UTC): @chklop If the taxes are still in use, they should be active. It's true that this 1st of January, some of the taxes have been deprecated (2% and 7.5%). Just deactivate them, but not the rest!

I'm seeing that your change is **worst than expected**, as you have also deactivated all the services taxes, so reactivating only ""21% S"" is not enough, as if you have an intra-community invoice, the corresponding taxes won't be remapped because they are disabled.

Please re-enable all the taxes that are still in use, or you will get a lot of tickets saying that the taxes declarations are not OK, and this complicates the life of all the Spanish integrators and third-party developments.

chklop on (2025-02-05 15:49:19 UTC): I'll put it here as well: thanks for the feedback. We reconsidered the decision and we'll revert the ""active"" changes to not impact stable too much. This will be done this week. So only necessary changes (taxes and grids changes following modelo 390/303 changes) will be kept.

In the near future we'll be working on a change regarding the fiscal position system, with the objective in mind to reduce the number of necessary taxes to those that are really useful. Hopefully this will bring a better solution to the onboarding & tax duplication than just deactivating them arbitrarily.

giarve on (2025-02-07 19:38:41 UTC): Hi, tried to install 17.0 and changed company chart of accounts to ""not for profit"".

![image](https://github.com/user-attachments/assets/efb1f524-3cf1-45f2-9852-f31644692acd)


this was raised when saving configuration with an empty database:
![image](https://github.com/user-attachments/assets/81846a7f-04df-423c-a0e1-e66170b3c8aa)

I imagine this is the correct PR?

EDIT: It is. After checking out 1 commit below the one introduced by the merge of the PR and saving config again, it succeeded.

"
2814819066,pull_request,closed,,[FIX] project_timesheet_holidays: prevent deletion of public holiday timesheets,"**Issue:**

Users are able to delete timesheets associated with public holidays, unlike regular time off requests

**Steps to Reproduce:**

   - Ensure ""Time Off"" is enabled in the Timesheet settings.
  - Time Off > Configurations > Public Holidays.
  - Create a new public holiday.
  - Timesheet > My Timesheet (list view).
  - Attempt to delete the timesheet entry corresponding to the public holiday.

The entry is deleted without any warning.

opw-4464411

---
I confirm I have signed the CLA and read the PR guidelines at www.odoo.com/submit-pr
",st-yes,2025-01-28 07:16:35+00:00,[],2025-02-04 20:41:17+00:00,2025-02-04 20:41:17+00:00,https://github.com/odoo/odoo/pull/195379,"[('OE', 'the report is linked to a support ticket (opw-...)')]","[{'comment_id': 2618094527, 'issue_id': 2814819066, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195379.png)](https://mergebot.odoo.com/odoo/odoo/pull/195379)', 'created_at': datetime.datetime(2025, 1, 28, 7, 16, 37, tzinfo=datetime.timezone.utc)}, {'comment_id': 2633688134, 'issue_id': 2814819066, 'author': 'st-yes', 'body': ""@xavierbol you're welcome"", 'created_at': datetime.datetime(2025, 2, 4, 11, 56, 23, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-28 07:16:37 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195379.png)](https://mergebot.odoo.com/odoo/odoo/pull/195379)

st-yes (Issue Creator) on (2025-02-04 11:56:23 UTC): @xavierbol you're welcome

"
2814774608,pull_request,closed,,[FIX] l10n_in_pos: correctly fetch company from backend,"Before this commit:
===
- If the company had no state set, attempting to close the POS session would trigger a company state dialog, redirecting to the company settings page.
- After adding the state and reopening the session, the same dialog would appear again, despite the state being present.

After this commit:
===
- The system correctly fetches the company state from the backend, preventing unnecessary redirections.

related-https://github.com/odoo/enterprise/pull/78507
task-4517944
",meji-odoo,2025-01-28 06:45:15+00:00,[],2025-02-07 15:47:58+00:00,2025-02-07 15:47:58+00:00,https://github.com/odoo/odoo/pull/195378,"[('RD', 'research & development, internal work')]","[{'comment_id': 2618055658, 'issue_id': 2814774608, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195378.png)](https://mergebot.odoo.com/odoo/odoo/pull/195378)', 'created_at': datetime.datetime(2025, 1, 28, 6, 45, 18, tzinfo=datetime.timezone.utc)}, {'comment_id': 2630974329, 'issue_id': 2814774608, 'author': 'meji-odoo', 'body': '@davidmonnom \r\nCode updated : )\r\n\r\nThanks for the review and have a great day : )', 'created_at': datetime.datetime(2025, 2, 3, 13, 13, 18, tzinfo=datetime.timezone.utc)}, {'comment_id': 2642954415, 'issue_id': 2814774608, 'author': 'davidmonnom', 'body': '@robodoo r+', 'created_at': datetime.datetime(2025, 2, 7, 13, 32, 58, tzinfo=datetime.timezone.utc)}, {'comment_id': 2643023741, 'issue_id': 2814774608, 'author': 'robodoo', 'body': '@meji-odoo @davidmonnom linked pull request(s) odoo/enterprise#78507 not ready. Linked PRs are not staged until all of them are ready.', 'created_at': datetime.datetime(2025, 2, 7, 14, 0, 9, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-28 06:45:18 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195378.png)](https://mergebot.odoo.com/odoo/odoo/pull/195378)

meji-odoo (Issue Creator) on (2025-02-03 13:13:18 UTC): @davidmonnom 
Code updated : )

Thanks for the review and have a great day : )

davidmonnom on (2025-02-07 13:32:58 UTC): @robodoo r+

robodoo on (2025-02-07 14:00:09 UTC): @meji-odoo @davidmonnom linked pull request(s) odoo/enterprise#78507 not ready. Linked PRs are not staged until all of them are ready.

"
2814768711,pull_request,closed,,[FIX] point_of_sale: prevent loading empty categories,"Before this commit:
====
- All POS categories were being loaded, even if they had no associated products.

After this commit:
====
- Only categories linked to products are loaded.


Task-4517979
",parp-odoo,2025-01-28 06:40:40+00:00,[],2025-02-03 17:46:17+00:00,2025-02-03 17:46:17+00:00,https://github.com/odoo/odoo/pull/195377,"[('RD', 'research & development, internal work')]","[{'comment_id': 2618050749, 'issue_id': 2814768711, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195377.png)](https://mergebot.odoo.com/odoo/odoo/pull/195377)', 'created_at': datetime.datetime(2025, 1, 28, 6, 40, 43, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-28 06:40:43 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195377.png)](https://mergebot.odoo.com/odoo/odoo/pull/195377)

"
2814705409,pull_request,open,,[IMP] hr_gamification: notification on badge grant,"Previously, notifications were only sent via email when a badge was granted. 
Now, based on user preferences, notifications will be sent to Odoo or via email.

Task-4488373
",dhka-odoo,2025-01-28 05:57:17+00:00,[],2025-02-04 12:47:53+00:00,,https://github.com/odoo/odoo/pull/195376,"[('RD', 'research & development, internal work')]","[{'comment_id': 2617956136, 'issue_id': 2814705409, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195376.png)](https://mergebot.odoo.com/odoo/odoo/pull/195376)', 'created_at': datetime.datetime(2025, 1, 28, 5, 57, 20, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-28 05:57:20 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195376.png)](https://mergebot.odoo.com/odoo/odoo/pull/195376)

"
2814672525,pull_request,closed,,[IMP] mail: Move technical fields on channel form view,"**Current behavior before PR:**

prior to this PR the technical fields are mixed with other fields.

**Desired behavior after PR is merged:**

now it is reorganized into new notebook page called `Extra info`.

task-4510260

---
I confirm I have signed the CLA and read the PR guidelines at www.odoo.com/submit-pr
",jayp-odoo,2025-01-28 05:30:54+00:00,[],2025-01-30 17:02:06+00:00,2025-01-30 15:33:14+00:00,https://github.com/odoo/odoo/pull/195375,"[('RD', 'research & development, internal work'), ('18.2', None)]","[{'comment_id': 2617927416, 'issue_id': 2814672525, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195375.png)](https://mergebot.odoo.com/odoo/odoo/pull/195375)', 'created_at': datetime.datetime(2025, 1, 28, 5, 30, 57, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-28 05:30:57 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195375.png)](https://mergebot.odoo.com/odoo/odoo/pull/195375)

"
2814620131,pull_request,open,,[FIX] point_of_sale: prevent error when loading demo data of furniture or cloth,"We encountered an error when trying to open `Furniture` or `Clothes` from the 
`Dashboard` if the Administrator has been assigned Admin rights to a new user.

Step to Reproduce:
- Install the Point of Sale module without demo data.
- Navigate to `Settings` > `Users` and `create` a new user with `Admin rights` of POS.
- Log in with the newly created admin user.
- Try to load sample data for `Furniture` or `Clothes`.

Traceback:
```
while parsing /home/odoo/src/odoo/saas-18.1/addons/product/data/product_demo.xml:5, somewhere inside
<record id=""base.group_user"" model=""res.groups"">
            <field name=""implied_ids"" eval=""[(4, ref('product.group_product_variant'))]""/>
        </record>
```

Error[2]  generated when solving above problem :

Traceback :
```
while parsing /home/odoo/odoo/community/addons/point_of_sale/data/orders_demo.xml:86, 
somewhere inside <function model=""pos.session"" name=""update_closing_control_state_session"" eval=""[[ref('pos_closed_session_1')], '']""/>
```

This issue was occuring since new users does not have access right of `res.groups`.

This commit will fix the above errors by using Superuser environment to load data..

sentry-6239966848

---
I confirm I have signed the CLA and read the PR guidelines at www.odoo.com/submit-pr
",shka-odoo,2025-01-28 04:50:08+00:00,[],2025-02-06 09:05:38+00:00,,https://github.com/odoo/odoo/pull/195374,"[('RD', 'research & development, internal work')]","[{'comment_id': 2617839384, 'issue_id': 2814620131, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195374.png)](https://mergebot.odoo.com/odoo/odoo/pull/195374)', 'created_at': datetime.datetime(2025, 1, 28, 4, 50, 11, tzinfo=datetime.timezone.utc)}, {'comment_id': 2620866028, 'issue_id': 2814620131, 'author': 'maan-odoo', 'body': 'The issue was generated because the user has admin rights on POS but no rights in model `res.groups`.\r\n\r\nAlso, you need to adapt this with loading pos data for  `Clothes`\r\n\r\nFew remarks in your commit message:\r\n\r\n- Improve the last step in steps to produce, like ""try to load sample data for Furniture""\r\n\r\n- > This commit will fix the above errors by providing access rights to the Admin.\r\n\r\n  - It is not correct. You have used the superUser environment to load data', 'created_at': datetime.datetime(2025, 1, 29, 7, 10, 43, tzinfo=datetime.timezone.utc)}, {'comment_id': 2621176711, 'issue_id': 2814620131, 'author': 'shka-odoo', 'body': '@maan-odoo \r\nThe requested changes are done.\r\nThanks.', 'created_at': datetime.datetime(2025, 1, 29, 9, 59, 7, tzinfo=datetime.timezone.utc)}, {'comment_id': 2621224316, 'issue_id': 2814620131, 'author': 'shka-odoo', 'body': 'Hello @odoo/sentry_reviewers\r\nPlease review this PR.\r\nThanks!', 'created_at': datetime.datetime(2025, 1, 29, 10, 17, 46, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-28 04:50:11 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195374.png)](https://mergebot.odoo.com/odoo/odoo/pull/195374)

maan-odoo on (2025-01-29 07:10:43 UTC): The issue was generated because the user has admin rights on POS but no rights in model `res.groups`.

Also, you need to adapt this with loading pos data for  `Clothes`

Few remarks in your commit message:

- Improve the last step in steps to produce, like ""try to load sample data for Furniture""

- > This commit will fix the above errors by providing access rights to the Admin.

  - It is not correct. You have used the superUser environment to load data

shka-odoo (Issue Creator) on (2025-01-29 09:59:07 UTC): @maan-odoo 
The requested changes are done.
Thanks.

shka-odoo (Issue Creator) on (2025-01-29 10:17:46 UTC): Hello @odoo/sentry_reviewers
Please review this PR.
Thanks!

"
2814562549,pull_request,closed,,[FW][18.1][IMP] mail: several minor discuss style improvements,Forward-Port-Of: odoo/odoo#195364,fw-bot,2025-01-28 03:54:10+00:00,[],2025-01-29 10:10:18+00:00,2025-01-29 02:43:51+00:00,https://github.com/odoo/odoo/pull/195373,"[('RD', 'research & development, internal work'), ('forwardport', 'This PR was created by @fw-bot'), ('conflict', 'There was an error while creating this forward-port PR'), ('18.2', None)]","[{'comment_id': 2617788262, 'issue_id': 2814562549, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195373.png)](https://mergebot.odoo.com/odoo/odoo/pull/195373)', 'created_at': datetime.datetime(2025, 1, 28, 3, 54, 13, tzinfo=datetime.timezone.utc)}, {'comment_id': 2617788270, 'issue_id': 2814562549, 'author': 'fw-bot', 'body': '@alexkuhn cherrypicking of pull request odoo/odoo#195364 failed.\n\n* acbf6bcc18001c85d19b8f6a3e626814010299aa\n* f42eacdbdc1fde7cd86e944f890efb3d75977fd7\n* 26866f48945f96ae58573c6d723b2c16efb3ec3f\n* 820f3a968850a978b3515d0db74d1a8bc55a9bab\n* bb80c564bd8fce9ad8401ec11198e30958dfacca\n* 22e02a777dcc8f31e043889e0114d055d5bfc34d\n* 50609730c96681a5eb4878cd1ef59405852e1d3d\n* f67b1c3b7be8f257841f5b44ee8b3e602d465f25\n* 2051dd6e164b22206657f828f430c6ea305dcb83\n* 44ce1f13ca1bf6847d15bd5706064e44ba2a1274\n* c780190af0448f773f3ffcc78ffd4c7636f7f240\n* 22b80ce7d077b4fddb2ae28ca3a2cf381f6c0f2e\n* d398ecb279309d228b99220aba1697190829c712\n* 716ada4fc9b1ab327c7fe65c84b192cf60253f4d\n* 4864f1d0ac191c14b3306891fb61f5e68ca0cef5\n* 6432358e2ef8717cc5d3708a0349fe52be0bde48\n* 3ca145d1845855a82dc5c5ffe0faa80eb039b55b\n* 85afa56e234cb1929ebbc8fc1905f6e767fa56a3\n* e27a4d37615381a313fff849040e7c6e166dea66\n* 8dd1a4f82d63db983a88cd6272d274e2fd266fdc\n* 30ec12eb0c3c3ea53bb9b07ecdddf78a2774c3d8 <- on this commit\n* 39af55af5b283ca141c01c7765193315a4203441\n* 735a27d9dc9b2952e8673e00218dac76adc66585\n* 0a74022eec2096d925c2d9deaba966f4d174b484\n* c2f4cb485bd19ddf7d596a40867f3813826020f0\n* 8d6a94f4c8f8d30082425b735e3f8f349b2838f1\n* 7ffb229233c1c35932e7938dfc35c70375adc480\n* 78331f2c75244c7f352c66a1ef928769ab85cbf1\n* 121cec28fb45a4738beaf019183623a210e74199\n* adc3425a066e4717b35a2f9aaadb8f33611ef610\n* b457578e157da538356701aa237dde1df8d0c885\n* 0993bd890116842b40ce3af9d523ba138ae27352\n* a7d735585585bd979a6f29762e016402cab39ba4\n\nstdout:\n```\nAuto-merging addons/mail/static/src/core/common/composer.js\nCONFLICT (content): Merge conflict in addons/mail/static/src/core/common/composer.js\nAuto-merging addons/mail/static/src/discuss/core/public_web/sub_channel_list.xml\n\n```\n\nEither perform the forward-port manually (and push to this branch, proceeding as usual) or close this PR (maybe?).\n\nIn the former case, you may want to edit this PR message as well.\n\n:warning: after resolving this conflict, you will need to merge it via @robodoo.\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 28, 3, 54, 13, tzinfo=datetime.timezone.utc)}, {'comment_id': 2620318884, 'issue_id': 2814562549, 'author': 'alexkuhn', 'body': '@robodoo r+', 'created_at': datetime.datetime(2025, 1, 29, 0, 19, 41, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-28 03:54:13 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195373.png)](https://mergebot.odoo.com/odoo/odoo/pull/195373)

fw-bot (Issue Creator) on (2025-01-28 03:54:13 UTC): @alexkuhn cherrypicking of pull request odoo/odoo#195364 failed.

* acbf6bcc18001c85d19b8f6a3e626814010299aa
* f42eacdbdc1fde7cd86e944f890efb3d75977fd7
* 26866f48945f96ae58573c6d723b2c16efb3ec3f
* 820f3a968850a978b3515d0db74d1a8bc55a9bab
* bb80c564bd8fce9ad8401ec11198e30958dfacca
* 22e02a777dcc8f31e043889e0114d055d5bfc34d
* 50609730c96681a5eb4878cd1ef59405852e1d3d
* f67b1c3b7be8f257841f5b44ee8b3e602d465f25
* 2051dd6e164b22206657f828f430c6ea305dcb83
* 44ce1f13ca1bf6847d15bd5706064e44ba2a1274
* c780190af0448f773f3ffcc78ffd4c7636f7f240
* 22b80ce7d077b4fddb2ae28ca3a2cf381f6c0f2e
* d398ecb279309d228b99220aba1697190829c712
* 716ada4fc9b1ab327c7fe65c84b192cf60253f4d
* 4864f1d0ac191c14b3306891fb61f5e68ca0cef5
* 6432358e2ef8717cc5d3708a0349fe52be0bde48
* 3ca145d1845855a82dc5c5ffe0faa80eb039b55b
* 85afa56e234cb1929ebbc8fc1905f6e767fa56a3
* e27a4d37615381a313fff849040e7c6e166dea66
* 8dd1a4f82d63db983a88cd6272d274e2fd266fdc
* 30ec12eb0c3c3ea53bb9b07ecdddf78a2774c3d8 <- on this commit
* 39af55af5b283ca141c01c7765193315a4203441
* 735a27d9dc9b2952e8673e00218dac76adc66585
* 0a74022eec2096d925c2d9deaba966f4d174b484
* c2f4cb485bd19ddf7d596a40867f3813826020f0
* 8d6a94f4c8f8d30082425b735e3f8f349b2838f1
* 7ffb229233c1c35932e7938dfc35c70375adc480
* 78331f2c75244c7f352c66a1ef928769ab85cbf1
* 121cec28fb45a4738beaf019183623a210e74199
* adc3425a066e4717b35a2f9aaadb8f33611ef610
* b457578e157da538356701aa237dde1df8d0c885
* 0993bd890116842b40ce3af9d523ba138ae27352
* a7d735585585bd979a6f29762e016402cab39ba4

stdout:
```
Auto-merging addons/mail/static/src/core/common/composer.js
CONFLICT (content): Merge conflict in addons/mail/static/src/core/common/composer.js
Auto-merging addons/mail/static/src/discuss/core/public_web/sub_channel_list.xml

```

Either perform the forward-port manually (and push to this branch, proceeding as usual) or close this PR (maybe?).

In the former case, you may want to edit this PR message as well.

:warning: after resolving this conflict, you will need to merge it via @robodoo.

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

alexkuhn on (2025-01-29 00:19:41 UTC): @robodoo r+

"
2814377362,pull_request,closed,,[FW][FIX] sms: correctly fetch number on linked partner,"Followup of odoo/odoo#134682 but for code added notably during odoo/odoo@f685e70616e8fe357690cd8e6cfa4543c1d0df24

Also fix the test, as it was not testing the real issue (wrong model used in test).

Task-3743525

Forward-Port-Of: odoo/odoo#195301",fw-bot,2025-01-28 00:57:01+00:00,[],2025-01-28 13:03:01+00:00,2025-01-28 13:02:59+00:00,https://github.com/odoo/odoo/pull/195372,"[('RD', 'research & development, internal work'), ('forwardport', 'This PR was created by @fw-bot'), ('18.2', None)]","[{'comment_id': 2617355035, 'issue_id': 2814377362, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195372.png)](https://mergebot.odoo.com/odoo/odoo/pull/195372)', 'created_at': datetime.datetime(2025, 1, 28, 0, 57, 2, tzinfo=datetime.timezone.utc)}, {'comment_id': 2617355051, 'issue_id': 2814377362, 'author': 'fw-bot', 'body': '@tde-banana-odoo this PR targets master and is the last of the forward-port chain containing:\n* odoo/odoo#195371\n* odoo/odoo#195369\n* odoo/odoo#195366\n* odoo/odoo#195360\n\nTo merge the full chain, use\n> @robodoo r+\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 28, 0, 57, 3, tzinfo=datetime.timezone.utc)}, {'comment_id': 2618228169, 'issue_id': 2814377362, 'author': 'tde-banana-odoo', 'body': '@robodoo r+', 'created_at': datetime.datetime(2025, 1, 28, 8, 26, 3, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-28 00:57:02 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195372.png)](https://mergebot.odoo.com/odoo/odoo/pull/195372)

fw-bot (Issue Creator) on (2025-01-28 00:57:03 UTC): @tde-banana-odoo this PR targets master and is the last of the forward-port chain containing:
* odoo/odoo#195371
* odoo/odoo#195369
* odoo/odoo#195366
* odoo/odoo#195360

To merge the full chain, use

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

tde-banana-odoo on (2025-01-28 08:26:03 UTC): @robodoo r+

"
2814283900,pull_request,closed,,[FW][FIX] sms: correctly fetch number on linked partner,"Followup of odoo/odoo#134682 but for code added notably during odoo/odoo@f685e70616e8fe357690cd8e6cfa4543c1d0df24

Also fix the test, as it was not testing the real issue (wrong model used in test).

Task-3743525

Forward-Port-Of: odoo/odoo#195301",fw-bot,2025-01-27 23:31:00+00:00,[],2025-01-28 12:08:33+00:00,2025-01-28 12:08:33+00:00,https://github.com/odoo/odoo/pull/195371,"[('RD', 'research & development, internal work'), ('forwardport', 'This PR was created by @fw-bot')]","[{'comment_id': 2617129766, 'issue_id': 2814283900, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195371.png)](https://mergebot.odoo.com/odoo/odoo/pull/195371)', 'created_at': datetime.datetime(2025, 1, 27, 23, 31, 1, tzinfo=datetime.timezone.utc)}, {'comment_id': 2617129777, 'issue_id': 2814283900, 'author': 'fw-bot', 'body': 'This PR targets saas-18.1 and is part of the forward-port chain. Further PRs will be created up to master.\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 27, 23, 31, 2, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-27 23:31:01 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195371.png)](https://mergebot.odoo.com/odoo/odoo/pull/195371)

fw-bot (Issue Creator) on (2025-01-27 23:31:02 UTC): This PR targets saas-18.1 and is part of the forward-port chain. Further PRs will be created up to master.

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

"
2814231893,pull_request,closed,,[FW][FIX] point_of_sale: handle CLOSING_SESSION notification,"check commit message for description.

Forward-Port-Of: odoo/odoo#195193",fw-bot,2025-01-27 22:59:14+00:00,[],2025-01-31 13:42:58+00:00,2025-01-31 13:42:58+00:00,https://github.com/odoo/odoo/pull/195370,"[('RD', 'research & development, internal work'), ('forwardport', 'This PR was created by @fw-bot'), ('18.2', None)]","[{'comment_id': 2617074836, 'issue_id': 2814231893, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195370.png)](https://mergebot.odoo.com/odoo/odoo/pull/195370)', 'created_at': datetime.datetime(2025, 1, 27, 22, 59, 15, tzinfo=datetime.timezone.utc)}, {'comment_id': 2617074879, 'issue_id': 2814231893, 'author': 'fw-bot', 'body': '@caburj @davidmonnom this PR targets master and is the last of the forward-port chain containing:\n* odoo/odoo#195348\n\nTo merge the full chain, use\n> @robodoo r+\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 27, 22, 59, 16, tzinfo=datetime.timezone.utc)}, {'comment_id': 2617198833, 'issue_id': 2814231893, 'author': 'fw-bot', 'body': '@caburj @davidmonnom ci/runbot failed on this forward-port PR', 'created_at': datetime.datetime(2025, 1, 27, 23, 48, 53, tzinfo=datetime.timezone.utc)}, {'comment_id': 2626135117, 'issue_id': 2814231893, 'author': 'fw-bot', 'body': '@caburj @davidmonnom this forward port of odoo/odoo#195193 is awaiting action (not merged or closed).', 'created_at': datetime.datetime(2025, 1, 31, 2, 1, 31, tzinfo=datetime.timezone.utc)}, {'comment_id': 2627048152, 'issue_id': 2814231893, 'author': 'caburj', 'body': 'robodoo r+', 'created_at': datetime.datetime(2025, 1, 31, 12, 4, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-27 22:59:15 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195370.png)](https://mergebot.odoo.com/odoo/odoo/pull/195370)

fw-bot (Issue Creator) on (2025-01-27 22:59:16 UTC): @caburj @davidmonnom this PR targets master and is the last of the forward-port chain containing:
* odoo/odoo#195348

To merge the full chain, use

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

fw-bot (Issue Creator) on (2025-01-27 23:48:53 UTC): @caburj @davidmonnom ci/runbot failed on this forward-port PR

fw-bot (Issue Creator) on (2025-01-31 02:01:31 UTC): @caburj @davidmonnom this forward port of odoo/odoo#195193 is awaiting action (not merged or closed).

caburj on (2025-01-31 12:04:00 UTC): robodoo r+

"
2814159275,pull_request,closed,,[FW][FIX] sms: correctly fetch number on linked partner,"Followup of odoo/odoo#134682 but for code added notably during odoo/odoo@f685e70616e8fe357690cd8e6cfa4543c1d0df24

Also fix the test, as it was not testing the real issue (wrong model used in test).

Task-3743525

Forward-Port-Of: odoo/odoo#195301",fw-bot,2025-01-27 22:07:10+00:00,[],2025-01-28 10:18:18+00:00,2025-01-28 10:18:18+00:00,https://github.com/odoo/odoo/pull/195369,"[('RD', 'research & development, internal work'), ('forwardport', 'This PR was created by @fw-bot')]","[{'comment_id': 2616998300, 'issue_id': 2814159275, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195369.png)](https://mergebot.odoo.com/odoo/odoo/pull/195369)', 'created_at': datetime.datetime(2025, 1, 27, 22, 7, 11, tzinfo=datetime.timezone.utc)}, {'comment_id': 2616998332, 'issue_id': 2814159275, 'author': 'fw-bot', 'body': 'This PR targets 18.0 and is part of the forward-port chain. Further PRs will be created up to master.\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 27, 22, 7, 12, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-27 22:07:11 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195369.png)](https://mergebot.odoo.com/odoo/odoo/pull/195369)

fw-bot (Issue Creator) on (2025-01-27 22:07:12 UTC): This PR targets 18.0 and is part of the forward-port chain. Further PRs will be created up to master.

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

"
2814125923,pull_request,open,,[FIX] point_of_sale: ios: download pdf in new tab,"Steps to reproduce:

1. Install pos_loyalty.
2. Make sure the gift card product is loaded in pos.
3. Sell a gift card.
4. [ISSUE] The gift card pdf replaces the pos app. When back is pressed, the pos app reloads which in some cases take time.

This commit proposes a fix that downloads the pdf in a new tab.

",caburj,2025-01-27 21:46:05+00:00,[],2025-01-29 06:37:45+00:00,,https://github.com/odoo/odoo/pull/195368,"[('RD', 'research & development, internal work')]","[{'comment_id': 2616963722, 'issue_id': 2814125923, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195368.png)](https://mergebot.odoo.com/odoo/odoo/pull/195368)', 'created_at': datetime.datetime(2025, 1, 27, 21, 46, 7, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-27 21:46:07 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195368.png)](https://mergebot.odoo.com/odoo/odoo/pull/195368)

"
2814053964,pull_request,closed,,"[FW][FIX] base,web: save update_related_model_id","Before this commit, the resource_ref field of a server action can disappear when the action is saved.

This is due to the following:
- the update_related_model_id is a computed stored READONLY field which leads to it not being included in the web_save rpc and is therefore not saved on the record

The fix consists to ensure the update_related_model_id is saved by making it readonly=False, which is usually what we want when we have a computed stored field.

Task: opw-4513803

Forward-Port-Of: odoo/odoo#195124",fw-bot,2025-01-27 21:03:17+00:00,[],2025-01-31 23:10:08+00:00,2025-01-31 23:10:08+00:00,https://github.com/odoo/odoo/pull/195367,"[('OE', 'the report is linked to a support ticket (opw-...)'), ('forwardport', 'This PR was created by @fw-bot'), ('conflict', 'There was an error while creating this forward-port PR')]","[{'comment_id': 2616887897, 'issue_id': 2814053964, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195367.png)](https://mergebot.odoo.com/odoo/odoo/pull/195367)', 'created_at': datetime.datetime(2025, 1, 27, 21, 3, 18, tzinfo=datetime.timezone.utc)}, {'comment_id': 2616887963, 'issue_id': 2814053964, 'author': 'fw-bot', 'body': '@brboi @ryv-odoo cherrypicking of pull request odoo/odoo#195124 failed.\n\nstdout:\n```\nAuto-merging addons/test_base_automation/tests/test_flow.py\nCONFLICT (content): Merge conflict in addons/test_base_automation/tests/test_flow.py\nAuto-merging odoo/addons/base/models/ir_actions.py\n\n```\n\nEither perform the forward-port manually (and push to this branch, proceeding as usual) or close this PR (maybe?).\n\nIn the former case, you may want to edit this PR message as well.\n\n:warning: after resolving this conflict, you will need to merge it via @robodoo.\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 27, 21, 3, 20, tzinfo=datetime.timezone.utc)}, {'comment_id': 2619244283, 'issue_id': 2814053964, 'author': 'brboi', 'body': '@robodoo r+', 'created_at': datetime.datetime(2025, 1, 28, 14, 57, 32, tzinfo=datetime.timezone.utc)}, {'comment_id': 2619374173, 'issue_id': 2814053964, 'author': 'robodoo', 'body': ""@brboi @ryv-odoo 'ci/runbot' failed on this reviewed PR."", 'created_at': datetime.datetime(2025, 1, 28, 15, 45, 14, tzinfo=datetime.timezone.utc)}, {'comment_id': 2623871456, 'issue_id': 2814053964, 'author': 'brboi', 'body': '@robodoo r+', 'created_at': datetime.datetime(2025, 1, 30, 8, 48, 44, tzinfo=datetime.timezone.utc)}, {'comment_id': 2623940079, 'issue_id': 2814053964, 'author': 'robodoo', 'body': ""@brboi @ryv-odoo 'ci/runbot' failed on this reviewed PR."", 'created_at': datetime.datetime(2025, 1, 30, 9, 20, 7, tzinfo=datetime.timezone.utc)}, {'comment_id': 2626135233, 'issue_id': 2814053964, 'author': 'fw-bot', 'body': '@brboi @ryv-odoo this forward port of odoo/odoo#195124 is awaiting action (not merged or closed).', 'created_at': datetime.datetime(2025, 1, 31, 2, 1, 34, tzinfo=datetime.timezone.utc)}, {'comment_id': 2626829692, 'issue_id': 2814053964, 'author': 'brboi', 'body': '@robodoo r+', 'created_at': datetime.datetime(2025, 1, 31, 10, 9, 26, tzinfo=datetime.timezone.utc)}, {'comment_id': 2626884145, 'issue_id': 2814053964, 'author': 'robodoo', 'body': ""@brboi @ryv-odoo 'ci/runbot' failed on this reviewed PR."", 'created_at': datetime.datetime(2025, 1, 31, 10, 36, 18, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-27 21:03:18 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195367.png)](https://mergebot.odoo.com/odoo/odoo/pull/195367)

fw-bot (Issue Creator) on (2025-01-27 21:03:20 UTC): @brboi @ryv-odoo cherrypicking of pull request odoo/odoo#195124 failed.

stdout:
```
Auto-merging addons/test_base_automation/tests/test_flow.py
CONFLICT (content): Merge conflict in addons/test_base_automation/tests/test_flow.py
Auto-merging odoo/addons/base/models/ir_actions.py

```

Either perform the forward-port manually (and push to this branch, proceeding as usual) or close this PR (maybe?).

In the former case, you may want to edit this PR message as well.

:warning: after resolving this conflict, you will need to merge it via @robodoo.

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

brboi on (2025-01-28 14:57:32 UTC): @robodoo r+

robodoo on (2025-01-28 15:45:14 UTC): @brboi @ryv-odoo 'ci/runbot' failed on this reviewed PR.

brboi on (2025-01-30 08:48:44 UTC): @robodoo r+

robodoo on (2025-01-30 09:20:07 UTC): @brboi @ryv-odoo 'ci/runbot' failed on this reviewed PR.

fw-bot (Issue Creator) on (2025-01-31 02:01:34 UTC): @brboi @ryv-odoo this forward port of odoo/odoo#195124 is awaiting action (not merged or closed).

brboi on (2025-01-31 10:09:26 UTC): @robodoo r+

robodoo on (2025-01-31 10:36:18 UTC): @brboi @ryv-odoo 'ci/runbot' failed on this reviewed PR.

"
2814029391,pull_request,closed,,[FW][FIX] sms: correctly fetch number on linked partner,"Followup of odoo/odoo#134682 but for code added notably during odoo/odoo@f685e70616e8fe357690cd8e6cfa4543c1d0df24

Also fix the test, as it was not testing the real issue (wrong model used in test).

Task-3743525

Forward-Port-Of: odoo/odoo#195301",fw-bot,2025-01-27 20:49:20+00:00,[],2025-01-28 10:30:46+00:00,2025-01-28 10:30:46+00:00,https://github.com/odoo/odoo/pull/195366,"[('RD', 'research & development, internal work'), ('forwardport', 'This PR was created by @fw-bot')]","[{'comment_id': 2616861828, 'issue_id': 2814029391, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195366.png)](https://mergebot.odoo.com/odoo/odoo/pull/195366)', 'created_at': datetime.datetime(2025, 1, 27, 20, 49, 21, tzinfo=datetime.timezone.utc)}, {'comment_id': 2616861853, 'issue_id': 2814029391, 'author': 'fw-bot', 'body': 'This PR targets saas-17.4 and is part of the forward-port chain. Further PRs will be created up to master.\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 27, 20, 49, 22, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-27 20:49:21 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195366.png)](https://mergebot.odoo.com/odoo/odoo/pull/195366)

fw-bot (Issue Creator) on (2025-01-27 20:49:22 UTC): This PR targets saas-17.4 and is part of the forward-port chain. Further PRs will be created up to master.

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

"
2814018215,pull_request,open,,[FW][FIX] google_calendar: allow portal attendees,"Description of the issue/feature this PR addresses:
allow portal attendees to be synced by google calendar

Current behavior before PR:
There was an `AccessError` happening when:
- One portal user was invited to more than one event.
- At least one of them was going to be notified in the future.
- Google cancelled the first of those.

<details>

```
2024-12-11 10:19:02,144 31 INFO odoo odoo.addons.base.models.ir_cron: Manually starting job `Google Calendar: sincronización`.
2024-12-11 10:19:02,151 31 INFO odoo odoo.addons.google_calendar.models.res_users: Calendar Synchro - Starting synchronization for res.users(29,)
2024-12-11 10:19:02,539 31 INFO odoo odoo.addons.google_calendar.models.res_users: Calendar Synchro - Starting synchronization for res.users(15,)
2024-12-11 10:19:03,029 31 INFO odoo odoo.addons.google_calendar.models.res_users: Calendar Synchro - Starting synchronization for res.users(50,)
2024-12-11 10:19:03,414 31 INFO odoo odoo.addons.google_calendar.models.res_users: Calendar Synchro - Starting synchronization for res.users(40,)
2024-12-11 10:19:03,823 31 INFO odoo odoo.addons.google_calendar.models.res_users: Calendar Synchro - Starting synchronization for res.users(52,)
2024-12-11 10:19:04,219 31 INFO odoo odoo.addons.google_calendar.models.res_users: Calendar Synchro - Starting synchronization for res.users(10,)
2024-12-11 10:19:04,580 31 INFO odoo odoo.addons.google_calendar.models.res_users: Calendar Synchro - Starting synchronization for res.users(28,)
2024-12-11 10:19:04,936 31 INFO odoo odoo.addons.google_calendar.models.res_users: Calendar Synchro - Starting synchronization for res.users(2,)
2024-12-11 10:19:05,501 31 INFO odoo odoo.models.unlink: User #2 deleted mail.message records with IDs: [1055490, 1055487, 1055480, 1055478, 1055403]
2024-12-11 10:19:05,518 31 INFO odoo odoo.models.unlink: User #2 deleted calendar.event records with IDs: [2920874, 2920875, 2920880]
2024-12-11 10:19:05,520 31 INFO odoo odoo.models.unlink: User #2 deleted mail.followers records with IDs: [6232226, 6232227, 6232228, 6232229, 6232230, 6232231, 6232232, 6232233, 6232234, 6232235, 6232236, 6232237, 6232238, 6232239, 6232240, 6232241, 6232242, 6232243, 6232270, 6232271, 6232272, 6232283]
2024-12-11 10:19:05,544 31 INFO odoo odoo.addons.base.models.ir_model: Access Denied by ACLs for operation: read, uid: 65, model: calendar.alarm
2024-12-11 10:19:05,545 31 INFO odoo odoo.addons.base.models.ir_model: Access Denied by ACLs for operation: read, uid: 65, model: calendar.alarm
2024-12-11 10:19:05,545 31 ERROR odoo odoo.addons.google_calendar.models.res_users: [res.users(2,)] Calendar Synchro - Exception : No puede ingresar a los registros 'Event Alarm' (calendar.alarm)

Se permite esta operación para los grupos siguientes:
      - User types/Internal User

Póngase en contacto con su administrador para solicitar acceso si es necesario. !
Traceback (most recent call last):
  File ""/opt/odoo/custom/src/odoo/odoo/api.py"", line 997, in get
    cache_value = field_cache[record._ids[0]]
KeyError: 8

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File ""/opt/odoo/custom/src/odoo/odoo/fields.py"", line 1161, in __get__
    value = env.cache.get(record, self)
  File ""/opt/odoo/custom/src/odoo/odoo/api.py"", line 1004, in get
    raise CacheMiss(record, field)
odoo.exceptions.CacheMiss: 'calendar.alarm(8,).alarm_type'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File ""/opt/odoo/custom/src/odoo/odoo/fields.py"", line 1187, in __get__
    recs._fetch_field(self)
  File ""/opt/odoo/custom/src/odoo/odoo/models.py"", line 3210, in _fetch_field
    self._read(fnames)
  File ""/opt/odoo/custom/src/odoo/odoo/models.py"", line 3220, in _read
    self.check_access_rights('read')
  File ""/opt/odoo/custom/src/odoo/odoo/models.py"", line 3480, in check_access_rights
    return self.env['ir.model.access'].check(self._name, operation, raise_exception)
  File ""/opt/odoo/custom/src/odoo/odoo/addons/base/models/ir_model.py"", line 1924, in check
    raise AccessError(msg)
odoo.exceptions.AccessError: No puede ingresar a los registros 'Event Alarm' (calendar.alarm)

Se permite esta operación para los grupos siguientes:
      - User types/Internal User

Póngase en contacto con su administrador para solicitar acceso si es necesario.

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File ""/opt/odoo/auto/addons/google_calendar/models/res_users.py"", line 100, in _sync_all_google_calendar
    user.with_user(user).sudo()._sync_google_calendar(google)
  File ""/opt/odoo/auto/addons/google_calendar/models/res_users.py"", line 79, in _sync_google_calendar
    synced_events = self.env['calendar.event'].with_context(write_dates=events_write_dates)._sync_google2odoo(events - recurrences, default_reminders=default_reminders)
  File ""/opt/odoo/auto/addons/google_calendar/models/google_sync.py"", line 185, in _sync_google2odoo
    cancelled_odoo._cancel()
  File ""/opt/odoo/auto/addons/google_calendar/models/calendar.py"", line 326, in _cancel
    super(Meeting, my_cancelled_records)._cancel()
  File ""/opt/odoo/auto/addons/google_calendar/models/google_sync.py"", line 152, in _cancel
    self.unlink()
  File ""/opt/odoo/auto/addons/calendar/models/calendar_event.py"", line 721, in unlink
    self.env['calendar.alarm_manager']._notify_next_alarm(partner_ids)
  File ""/opt/odoo/auto/addons/calendar/models/calendar_alarm_manager.py"", line 242, in _notify_next_alarm
    notif = self.with_user(user).with_context(allowed_company_ids=user.company_ids.ids).get_next_notif()
  File ""/opt/odoo/auto/addons/calendar/models/calendar_alarm_manager.py"", line 210, in get_next_notif
    last_found = self.do_check_alarm_for_one_date(in_date_format, meeting, max_delta, time_limit, 'notification', after=partner.calendar_last_notif_ack)
  File ""/opt/odoo/auto/addons/calendar/models/calendar_alarm_manager.py"", line 130, in do_check_alarm_for_one_date
    if alarm.alarm_type != alarm_type:
  File ""/opt/odoo/custom/src/odoo/odoo/fields.py"", line 1189, in __get__
    record._fetch_field(self)
  File ""/opt/odoo/custom/src/odoo/odoo/models.py"", line 3210, in _fetch_field
    self._read(fnames)
  File ""/opt/odoo/custom/src/odoo/odoo/models.py"", line 3220, in _read
    self.check_access_rights('read')
  File ""/opt/odoo/custom/src/odoo/odoo/models.py"", line 3480, in check_access_rights
    return self.env['ir.model.access'].check(self._name, operation, raise_exception)
  File ""/opt/odoo/custom/src/odoo/odoo/addons/base/models/ir_model.py"", line 1924, in check
    raise AccessError(msg)
odoo.exceptions.AccessError: No puede ingresar a los registros 'Event Alarm' (calendar.alarm)

Se permite esta operación para los grupos siguientes:
      - User types/Internal User

Póngase en contacto con su administrador para solicitar acceso si es necesario.
2024-12-11 10:19:05,547 31 INFO odoo odoo.addons.base.models.ir_cron: Job `Google Calendar: sincronización` done.
```

</details>

Desired behavior after PR is merged:
Google Sync works.



---
I confirm I have signed the CLA and read the PR guidelines at www.odoo.com/submit-pr


@moduon MT-8345
cc @arj-odoo

Forward-Port-Of: odoo/odoo#190708
Forward-Port-Of: odoo/odoo#190356",fw-bot,2025-01-27 20:42:46+00:00,[],2025-01-27 21:00:12+00:00,,https://github.com/odoo/odoo/pull/195365,"[('RD', 'research & development, internal work'), ('forwardport', 'This PR was created by @fw-bot'), ('conflict', 'There was an error while creating this forward-port PR')]","[{'comment_id': 2616849869, 'issue_id': 2814018215, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195365.png)](https://mergebot.odoo.com/odoo/odoo/pull/195365)', 'created_at': datetime.datetime(2025, 1, 27, 20, 42, 48, tzinfo=datetime.timezone.utc)}, {'comment_id': 2616849975, 'issue_id': 2814018215, 'author': 'fw-bot', 'body': '@Yajo @arj-odoo cherrypicking of pull request odoo/odoo#190356 failed.\n\nstdout:\n```\nAuto-merging addons/calendar/models/calendar_alarm_manager.py\nCONFLICT (content): Merge conflict in addons/calendar/models/calendar_alarm_manager.py\nAuto-merging addons/google_calendar/tests/test_sync_google2odoo.py\nAuto-merging addons/google_calendar/tests/test_sync_odoo2google.py\n\n```\n\nEither perform the forward-port manually (and push to this branch, proceeding as usual) or close this PR (maybe?).\n\nIn the former case, you may want to edit this PR message as well.\n\n:warning: after resolving this conflict, you will need to merge it via @robodoo.\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 27, 20, 42, 50, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-27 20:42:48 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195365.png)](https://mergebot.odoo.com/odoo/odoo/pull/195365)

fw-bot (Issue Creator) on (2025-01-27 20:42:50 UTC): @Yajo @arj-odoo cherrypicking of pull request odoo/odoo#190356 failed.

stdout:
```
Auto-merging addons/calendar/models/calendar_alarm_manager.py
CONFLICT (content): Merge conflict in addons/calendar/models/calendar_alarm_manager.py
Auto-merging addons/google_calendar/tests/test_sync_google2odoo.py
Auto-merging addons/google_calendar/tests/test_sync_odoo2google.py

```

Either perform the forward-port manually (and push to this branch, proceeding as usual) or close this PR (maybe?).

In the former case, you may want to edit this PR message as well.

:warning: after resolving this conflict, you will need to merge it via @robodoo.

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

"
2813998777,pull_request,closed,,[18.1][IMP] mail: several minor discuss style improvements,,alexkuhn,2025-01-27 20:32:05+00:00,[],2025-01-28 10:10:57+00:00,2025-01-28 03:53:53+00:00,https://github.com/odoo/odoo/pull/195364,"[('RD', 'research & development, internal work')]","[{'comment_id': 2616830247, 'issue_id': 2813998777, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195364.png)](https://mergebot.odoo.com/odoo/odoo/pull/195364)', 'created_at': datetime.datetime(2025, 1, 27, 20, 32, 7, tzinfo=datetime.timezone.utc)}, {'comment_id': 2617611132, 'issue_id': 2813998777, 'author': 'alexkuhn', 'body': '@robodoo r+ rebase-ff', 'created_at': datetime.datetime(2025, 1, 28, 2, 21, 1, tzinfo=datetime.timezone.utc)}, {'comment_id': 2617611321, 'issue_id': 2813998777, 'author': 'robodoo', 'body': 'Merge method set to rebase and fast-forward.', 'created_at': datetime.datetime(2025, 1, 28, 2, 21, 4, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-27 20:32:07 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195364.png)](https://mergebot.odoo.com/odoo/odoo/pull/195364)

alexkuhn (Issue Creator) on (2025-01-28 02:21:01 UTC): @robodoo r+ rebase-ff

robodoo on (2025-01-28 02:21:04 UTC): Merge method set to rebase and fast-forward.

"
2813957431,pull_request,open,,[FW][FIX] l10n_*: load taxes for only root companies,"To reproduce:
1) install localization of any of the below modules. 
2) Make branch companies in that localization.
3) install one of the modules below.

we get this
error:https://github.com/odoo/odoo/blob/17.0/addons/account/models/account_tax.py#L200, `Tax names must be unique`, so only load taxes for root companies.

and for tax_group we get this error:

```
The operation cannot be completed:
- Create/update: a mandatory field is not set.
- Delete: another model requires the record being deleted. If possible, archive it instead.

Model: Tax Group (account.tax.group)
Field: Name (name)
```

Description of the issue/feature this PR addresses:

Current behavior before PR:

Desired behavior after PR is merged:




---
I confirm I have signed the CLA and read the PR guidelines at www.odoo.com/submit-pr

Forward-Port-Of: odoo/odoo#193013",fw-bot,2025-01-27 20:12:20+00:00,[],2025-02-05 15:24:50+00:00,,https://github.com/odoo/odoo/pull/195363,"[('RD', 'research & development, internal work'), ('forwardport', 'This PR was created by @fw-bot')]","[{'comment_id': 2616792778, 'issue_id': 2813957431, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195363.png)](https://mergebot.odoo.com/odoo/odoo/pull/195363)', 'created_at': datetime.datetime(2025, 1, 27, 20, 12, 22, tzinfo=datetime.timezone.utc)}, {'comment_id': 2616792816, 'issue_id': 2813957431, 'author': 'fw-bot', 'body': '@asno-odoo @clbr-odoo this PR targets master and is the last of the forward-port chain containing:\n* odoo/odoo#195347\n* odoo/odoo#195324\n* odoo/odoo#195302\n* odoo/odoo#195275\n\nTo merge the full chain, use\n> @robodoo r+\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 27, 20, 12, 24, tzinfo=datetime.timezone.utc)}, {'comment_id': 2618087507, 'issue_id': 2813957431, 'author': 'clbr-odoo', 'body': '@robodoo r+', 'created_at': datetime.datetime(2025, 1, 28, 7, 11, 49, tzinfo=datetime.timezone.utc)}, {'comment_id': 2618314828, 'issue_id': 2813957431, 'author': 'asno-odoo', 'body': 'robodoo r-', 'created_at': datetime.datetime(2025, 1, 28, 8, 46, 39, tzinfo=datetime.timezone.utc)}, {'comment_id': 2618314935, 'issue_id': 2813957431, 'author': 'robodoo', 'body': 'Note that only this forward-port has been unapproved, sibling forward ports may have to be unapproved individually.', 'created_at': datetime.datetime(2025, 1, 28, 8, 46, 42, tzinfo=datetime.timezone.utc)}, {'comment_id': 2618624194, 'issue_id': 2813957431, 'author': 'asno-odoo', 'body': 'robodoo r+', 'created_at': datetime.datetime(2025, 1, 28, 10, 40, 52, tzinfo=datetime.timezone.utc)}, {'comment_id': 2626136855, 'issue_id': 2813957431, 'author': 'fw-bot', 'body': '@asno-odoo @clbr-odoo this forward port of odoo/odoo#193013 is awaiting action (not merged or closed).', 'created_at': datetime.datetime(2025, 1, 31, 2, 1, 56, tzinfo=datetime.timezone.utc)}, {'comment_id': 2628685253, 'issue_id': 2813957431, 'author': 'fw-bot', 'body': '@asno-odoo @clbr-odoo this forward port of odoo/odoo#193013 is awaiting action (not merged or closed).', 'created_at': datetime.datetime(2025, 2, 1, 2, 1, 30, tzinfo=datetime.timezone.utc)}, {'comment_id': 2629201864, 'issue_id': 2813957431, 'author': 'fw-bot', 'body': '@asno-odoo @clbr-odoo this forward port of odoo/odoo#193013 is awaiting action (not merged or closed).', 'created_at': datetime.datetime(2025, 2, 2, 2, 1, 44, tzinfo=datetime.timezone.utc)}, {'comment_id': 2629730634, 'issue_id': 2813957431, 'author': 'fw-bot', 'body': '@asno-odoo @clbr-odoo this forward port of odoo/odoo#193013 is awaiting action (not merged or closed).', 'created_at': datetime.datetime(2025, 2, 3, 2, 2, 50, tzinfo=datetime.timezone.utc)}, {'comment_id': 2637236448, 'issue_id': 2813957431, 'author': 'robodoo', 'body': ""@asno-odoo @clbr-odoo 'ci/runbot' failed on this reviewed PR."", 'created_at': datetime.datetime(2025, 2, 5, 15, 24, 49, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-27 20:12:22 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195363.png)](https://mergebot.odoo.com/odoo/odoo/pull/195363)

fw-bot (Issue Creator) on (2025-01-27 20:12:24 UTC): @asno-odoo @clbr-odoo this PR targets master and is the last of the forward-port chain containing:
* odoo/odoo#195347
* odoo/odoo#195324
* odoo/odoo#195302
* odoo/odoo#195275

To merge the full chain, use

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

clbr-odoo on (2025-01-28 07:11:49 UTC): @robodoo r+

asno-odoo on (2025-01-28 08:46:39 UTC): robodoo r-

robodoo on (2025-01-28 08:46:42 UTC): Note that only this forward-port has been unapproved, sibling forward ports may have to be unapproved individually.

asno-odoo on (2025-01-28 10:40:52 UTC): robodoo r+

fw-bot (Issue Creator) on (2025-01-31 02:01:56 UTC): @asno-odoo @clbr-odoo this forward port of odoo/odoo#193013 is awaiting action (not merged or closed).

fw-bot (Issue Creator) on (2025-02-01 02:01:30 UTC): @asno-odoo @clbr-odoo this forward port of odoo/odoo#193013 is awaiting action (not merged or closed).

fw-bot (Issue Creator) on (2025-02-02 02:01:44 UTC): @asno-odoo @clbr-odoo this forward port of odoo/odoo#193013 is awaiting action (not merged or closed).

fw-bot (Issue Creator) on (2025-02-03 02:02:50 UTC): @asno-odoo @clbr-odoo this forward port of odoo/odoo#193013 is awaiting action (not merged or closed).

robodoo on (2025-02-05 15:24:49 UTC): @asno-odoo @clbr-odoo 'ci/runbot' failed on this reviewed PR.

"
2813935598,pull_request,closed,,Add Amazon ASIN field to the products,"By default, Odoo does not have an Amazon ASIN field on either of the product models. That is something that needs to be custom-added.

I will need this for future work on the Bulk and DF apps, so I've created this module with the sole purpose of adding those fields.
",clh5602,2025-01-27 19:59:59+00:00,[],2025-01-27 20:00:54+00:00,2025-01-27 20:00:54+00:00,https://github.com/odoo/odoo/pull/195362,[],"[{'comment_id': 2616770310, 'issue_id': 2813935598, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195362.png)](https://mergebot.odoo.com/odoo/odoo/pull/195362)', 'created_at': datetime.datetime(2025, 1, 27, 20, 0, 3, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-27 20:00:03 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195362.png)](https://mergebot.odoo.com/odoo/odoo/pull/195362)

"
2813929575,pull_request,closed,,[FW][FIX] hr_holidays: fix accrual plan in hours,"Steps
- create an accrual plan with a level giving 1 hour every month and a carry
over with a maximum of 4 hours. Set accrued gain time at the start of the period
and carry-over time at start of the year.
- create an allocation using this accrual plan, for a time off type in days,
set the start date on the first day of next year.
- go to Time Off Dashboard
- check the balance on the middle of the month of the following year (e.g.
15 january 2026 if the allocation starts on 1 january 2025).

-> ~14 days of time off available: the max postpone amount is not applied,
the time gained is in days and not in hours and more than 1 day is gained/month
(balance a few days after the start of the allocation should be +1 added_value
but is more than that).

Causes:
- the maximum amount of carry over `postpone_max_days` is applied in days
even if the accrual `added_value` is in hours and the UI shows `postpone_max_days`
as ""Up to X hours"".
- `get_future_leaves` returns a number of hours if the allocation is in hours, even
if the time off type is in days.
- the number of hours from the accrual at the beginning of the allocation is too
high if the start of the accrual is in the future and gain time added at the start
of the period due to cache not being invalidated.
https://github.com/odoo/odoo/blob/19c7737fc05539079cde8641bab608c605efacc5/addons/hr_holidays/models/hr_leave_allocation.py#L575-L578

opw-4272315

Forward-Port-Of: odoo/odoo#188728
Forward-Port-Of: odoo/odoo#185699",fw-bot,2025-01-27 19:56:27+00:00,[],2025-01-28 21:05:01+00:00,2025-01-28 21:05:01+00:00,https://github.com/odoo/odoo/pull/195361,"[('OE', 'the report is linked to a support ticket (opw-...)'), ('forwardport', 'This PR was created by @fw-bot')]","[{'comment_id': 2616763931, 'issue_id': 2813929575, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195361.png)](https://mergebot.odoo.com/odoo/odoo/pull/195361)', 'created_at': datetime.datetime(2025, 1, 27, 19, 56, 28, tzinfo=datetime.timezone.utc)}, {'comment_id': 2616763957, 'issue_id': 2813929575, 'author': 'fw-bot', 'body': 'This PR targets saas-18.1 and is part of the forward-port chain. Further PRs will be created up to master.\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 27, 19, 56, 29, tzinfo=datetime.timezone.utc)}, {'comment_id': 2616832114, 'issue_id': 2813929575, 'author': 'fw-bot', 'body': '@taqu-odoo @Bertrand2 ci/runbot failed on this forward-port PR', 'created_at': datetime.datetime(2025, 1, 27, 20, 33, 1, tzinfo=datetime.timezone.utc)}, {'comment_id': 2618722129, 'issue_id': 2813929575, 'author': 'fw-bot', 'body': '@taqu-odoo @Bertrand2 this PR was modified / updated and has become a normal PR. It must be merged directly.', 'created_at': datetime.datetime(2025, 1, 28, 11, 24, 28, tzinfo=datetime.timezone.utc)}, {'comment_id': 2619181209, 'issue_id': 2813929575, 'author': 'Bertrand2', 'body': 'robodoo r+', 'created_at': datetime.datetime(2025, 1, 28, 14, 36, 16, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-27 19:56:28 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195361.png)](https://mergebot.odoo.com/odoo/odoo/pull/195361)

fw-bot (Issue Creator) on (2025-01-27 19:56:29 UTC): This PR targets saas-18.1 and is part of the forward-port chain. Further PRs will be created up to master.

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

fw-bot (Issue Creator) on (2025-01-27 20:33:01 UTC): @taqu-odoo @Bertrand2 ci/runbot failed on this forward-port PR

fw-bot (Issue Creator) on (2025-01-28 11:24:28 UTC): @taqu-odoo @Bertrand2 this PR was modified / updated and has become a normal PR. It must be merged directly.

Bertrand2 on (2025-01-28 14:36:16 UTC): robodoo r+

"
2813895766,pull_request,closed,,[FW][FIX] sms: correctly fetch number on linked partner,"Followup of odoo/odoo#134682 but for code added notably during odoo/odoo@f685e70616e8fe357690cd8e6cfa4543c1d0df24

Also fix the test, as it was not testing the real issue (wrong model used in test).

Task-3743525

Forward-Port-Of: odoo/odoo#195301",fw-bot,2025-01-27 19:38:02+00:00,[],2025-01-28 10:54:07+00:00,2025-01-28 10:54:07+00:00,https://github.com/odoo/odoo/pull/195360,"[('RD', 'research & development, internal work'), ('forwardport', 'This PR was created by @fw-bot')]","[{'comment_id': 2616728834, 'issue_id': 2813895766, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195360.png)](https://mergebot.odoo.com/odoo/odoo/pull/195360)', 'created_at': datetime.datetime(2025, 1, 27, 19, 38, 4, tzinfo=datetime.timezone.utc)}, {'comment_id': 2616728848, 'issue_id': 2813895766, 'author': 'fw-bot', 'body': 'This PR targets saas-17.2 and is part of the forward-port chain. Further PRs will be created up to master.\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 27, 19, 38, 4, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-27 19:38:04 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195360.png)](https://mergebot.odoo.com/odoo/odoo/pull/195360)

fw-bot (Issue Creator) on (2025-01-27 19:38:04 UTC): This PR targets saas-17.2 and is part of the forward-port chain. Further PRs will be created up to master.

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

"
2813893631,pull_request,closed,,"[FW][FIX] base,web: save update_related_model_id","Before this commit, the resource_ref field of a server action can disappear when the action is saved.

This is due to the following:
- the update_related_model_id is a computed stored READONLY field which leads to it not being included in the web_save rpc and is therefore not saved on the record

The fix consists to ensure the update_related_model_id is saved by making it readonly=False, which is usually what we want when we have a computed stored field.

Task: opw-4513803

Forward-Port-Of: odoo/odoo#195124",fw-bot,2025-01-27 19:36:54+00:00,[],2025-01-28 12:07:59+00:00,2025-01-28 12:07:59+00:00,https://github.com/odoo/odoo/pull/195359,"[('OE', 'the report is linked to a support ticket (opw-...)'), ('forwardport', 'This PR was created by @fw-bot')]","[{'comment_id': 2616726612, 'issue_id': 2813893631, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195359.png)](https://mergebot.odoo.com/odoo/odoo/pull/195359)', 'created_at': datetime.datetime(2025, 1, 27, 19, 36, 55, tzinfo=datetime.timezone.utc)}, {'comment_id': 2616726636, 'issue_id': 2813893631, 'author': 'fw-bot', 'body': 'This PR targets saas-17.4 and is part of the forward-port chain. Further PRs will be created up to master.\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 27, 19, 36, 56, tzinfo=datetime.timezone.utc)}, {'comment_id': 2616887922, 'issue_id': 2813893631, 'author': 'fw-bot', 'body': '@brboi @ryv-odoo the next pull request (odoo/odoo#195367) is in conflict. You can merge the chain up to here by saying\n> @robodoo r+\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 27, 21, 3, 19, tzinfo=datetime.timezone.utc)}, {'comment_id': 2618440676, 'issue_id': 2813893631, 'author': 'kebeclibre', 'body': '@robodoo r+', 'created_at': datetime.datetime(2025, 1, 28, 9, 40, 46, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-27 19:36:55 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195359.png)](https://mergebot.odoo.com/odoo/odoo/pull/195359)

fw-bot (Issue Creator) on (2025-01-27 19:36:56 UTC): This PR targets saas-17.4 and is part of the forward-port chain. Further PRs will be created up to master.

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

fw-bot (Issue Creator) on (2025-01-27 21:03:19 UTC): @brboi @ryv-odoo the next pull request (odoo/odoo#195367) is in conflict. You can merge the chain up to here by saying

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

kebeclibre on (2025-01-28 09:40:46 UTC): @robodoo r+

"
2813869277,pull_request,open,,[FW][FIX] google_calendar: allow portal attendees,"Description of the issue/feature this PR addresses:
allow portal attendees to be synced by google calendar

Current behavior before PR:
There was an `AccessError` happening when:
- One portal user was invited to more than one event.
- At least one of them was going to be notified in the future.
- Google cancelled the first of those.

<details>

```
2024-12-11 10:19:02,144 31 INFO odoo odoo.addons.base.models.ir_cron: Manually starting job `Google Calendar: sincronización`.
2024-12-11 10:19:02,151 31 INFO odoo odoo.addons.google_calendar.models.res_users: Calendar Synchro - Starting synchronization for res.users(29,)
2024-12-11 10:19:02,539 31 INFO odoo odoo.addons.google_calendar.models.res_users: Calendar Synchro - Starting synchronization for res.users(15,)
2024-12-11 10:19:03,029 31 INFO odoo odoo.addons.google_calendar.models.res_users: Calendar Synchro - Starting synchronization for res.users(50,)
2024-12-11 10:19:03,414 31 INFO odoo odoo.addons.google_calendar.models.res_users: Calendar Synchro - Starting synchronization for res.users(40,)
2024-12-11 10:19:03,823 31 INFO odoo odoo.addons.google_calendar.models.res_users: Calendar Synchro - Starting synchronization for res.users(52,)
2024-12-11 10:19:04,219 31 INFO odoo odoo.addons.google_calendar.models.res_users: Calendar Synchro - Starting synchronization for res.users(10,)
2024-12-11 10:19:04,580 31 INFO odoo odoo.addons.google_calendar.models.res_users: Calendar Synchro - Starting synchronization for res.users(28,)
2024-12-11 10:19:04,936 31 INFO odoo odoo.addons.google_calendar.models.res_users: Calendar Synchro - Starting synchronization for res.users(2,)
2024-12-11 10:19:05,501 31 INFO odoo odoo.models.unlink: User #2 deleted mail.message records with IDs: [1055490, 1055487, 1055480, 1055478, 1055403]
2024-12-11 10:19:05,518 31 INFO odoo odoo.models.unlink: User #2 deleted calendar.event records with IDs: [2920874, 2920875, 2920880]
2024-12-11 10:19:05,520 31 INFO odoo odoo.models.unlink: User #2 deleted mail.followers records with IDs: [6232226, 6232227, 6232228, 6232229, 6232230, 6232231, 6232232, 6232233, 6232234, 6232235, 6232236, 6232237, 6232238, 6232239, 6232240, 6232241, 6232242, 6232243, 6232270, 6232271, 6232272, 6232283]
2024-12-11 10:19:05,544 31 INFO odoo odoo.addons.base.models.ir_model: Access Denied by ACLs for operation: read, uid: 65, model: calendar.alarm
2024-12-11 10:19:05,545 31 INFO odoo odoo.addons.base.models.ir_model: Access Denied by ACLs for operation: read, uid: 65, model: calendar.alarm
2024-12-11 10:19:05,545 31 ERROR odoo odoo.addons.google_calendar.models.res_users: [res.users(2,)] Calendar Synchro - Exception : No puede ingresar a los registros 'Event Alarm' (calendar.alarm)

Se permite esta operación para los grupos siguientes:
      - User types/Internal User

Póngase en contacto con su administrador para solicitar acceso si es necesario. !
Traceback (most recent call last):
  File ""/opt/odoo/custom/src/odoo/odoo/api.py"", line 997, in get
    cache_value = field_cache[record._ids[0]]
KeyError: 8

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File ""/opt/odoo/custom/src/odoo/odoo/fields.py"", line 1161, in __get__
    value = env.cache.get(record, self)
  File ""/opt/odoo/custom/src/odoo/odoo/api.py"", line 1004, in get
    raise CacheMiss(record, field)
odoo.exceptions.CacheMiss: 'calendar.alarm(8,).alarm_type'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File ""/opt/odoo/custom/src/odoo/odoo/fields.py"", line 1187, in __get__
    recs._fetch_field(self)
  File ""/opt/odoo/custom/src/odoo/odoo/models.py"", line 3210, in _fetch_field
    self._read(fnames)
  File ""/opt/odoo/custom/src/odoo/odoo/models.py"", line 3220, in _read
    self.check_access_rights('read')
  File ""/opt/odoo/custom/src/odoo/odoo/models.py"", line 3480, in check_access_rights
    return self.env['ir.model.access'].check(self._name, operation, raise_exception)
  File ""/opt/odoo/custom/src/odoo/odoo/addons/base/models/ir_model.py"", line 1924, in check
    raise AccessError(msg)
odoo.exceptions.AccessError: No puede ingresar a los registros 'Event Alarm' (calendar.alarm)

Se permite esta operación para los grupos siguientes:
      - User types/Internal User

Póngase en contacto con su administrador para solicitar acceso si es necesario.

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File ""/opt/odoo/auto/addons/google_calendar/models/res_users.py"", line 100, in _sync_all_google_calendar
    user.with_user(user).sudo()._sync_google_calendar(google)
  File ""/opt/odoo/auto/addons/google_calendar/models/res_users.py"", line 79, in _sync_google_calendar
    synced_events = self.env['calendar.event'].with_context(write_dates=events_write_dates)._sync_google2odoo(events - recurrences, default_reminders=default_reminders)
  File ""/opt/odoo/auto/addons/google_calendar/models/google_sync.py"", line 185, in _sync_google2odoo
    cancelled_odoo._cancel()
  File ""/opt/odoo/auto/addons/google_calendar/models/calendar.py"", line 326, in _cancel
    super(Meeting, my_cancelled_records)._cancel()
  File ""/opt/odoo/auto/addons/google_calendar/models/google_sync.py"", line 152, in _cancel
    self.unlink()
  File ""/opt/odoo/auto/addons/calendar/models/calendar_event.py"", line 721, in unlink
    self.env['calendar.alarm_manager']._notify_next_alarm(partner_ids)
  File ""/opt/odoo/auto/addons/calendar/models/calendar_alarm_manager.py"", line 242, in _notify_next_alarm
    notif = self.with_user(user).with_context(allowed_company_ids=user.company_ids.ids).get_next_notif()
  File ""/opt/odoo/auto/addons/calendar/models/calendar_alarm_manager.py"", line 210, in get_next_notif
    last_found = self.do_check_alarm_for_one_date(in_date_format, meeting, max_delta, time_limit, 'notification', after=partner.calendar_last_notif_ack)
  File ""/opt/odoo/auto/addons/calendar/models/calendar_alarm_manager.py"", line 130, in do_check_alarm_for_one_date
    if alarm.alarm_type != alarm_type:
  File ""/opt/odoo/custom/src/odoo/odoo/fields.py"", line 1189, in __get__
    record._fetch_field(self)
  File ""/opt/odoo/custom/src/odoo/odoo/models.py"", line 3210, in _fetch_field
    self._read(fnames)
  File ""/opt/odoo/custom/src/odoo/odoo/models.py"", line 3220, in _read
    self.check_access_rights('read')
  File ""/opt/odoo/custom/src/odoo/odoo/models.py"", line 3480, in check_access_rights
    return self.env['ir.model.access'].check(self._name, operation, raise_exception)
  File ""/opt/odoo/custom/src/odoo/odoo/addons/base/models/ir_model.py"", line 1924, in check
    raise AccessError(msg)
odoo.exceptions.AccessError: No puede ingresar a los registros 'Event Alarm' (calendar.alarm)

Se permite esta operación para los grupos siguientes:
      - User types/Internal User

Póngase en contacto con su administrador para solicitar acceso si es necesario.
2024-12-11 10:19:05,547 31 INFO odoo odoo.addons.base.models.ir_cron: Job `Google Calendar: sincronización` done.
```

</details>

Desired behavior after PR is merged:
Google Sync works.



---
I confirm I have signed the CLA and read the PR guidelines at www.odoo.com/submit-pr


@moduon MT-8345
cc @arj-odoo

Forward-Port-Of: odoo/odoo#190708
Forward-Port-Of: odoo/odoo#190356",fw-bot,2025-01-27 19:23:44+00:00,[],2025-01-27 20:42:50+00:00,,https://github.com/odoo/odoo/pull/195358,"[('RD', 'research & development, internal work'), ('forwardport', 'This PR was created by @fw-bot')]","[{'comment_id': 2616701604, 'issue_id': 2813869277, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195358.png)](https://mergebot.odoo.com/odoo/odoo/pull/195358)', 'created_at': datetime.datetime(2025, 1, 27, 19, 23, 45, tzinfo=datetime.timezone.utc)}, {'comment_id': 2616701623, 'issue_id': 2813869277, 'author': 'fw-bot', 'body': 'This PR targets saas-17.4 and is part of the forward-port chain. Further PRs will be created up to master.\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 27, 19, 23, 46, tzinfo=datetime.timezone.utc)}, {'comment_id': 2616849896, 'issue_id': 2813869277, 'author': 'fw-bot', 'body': '@Yajo @arj-odoo the next pull request (odoo/odoo#195365) is in conflict. You can merge the chain up to here by saying\n> @robodoo r+\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 27, 20, 42, 48, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-27 19:23:45 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195358.png)](https://mergebot.odoo.com/odoo/odoo/pull/195358)

fw-bot (Issue Creator) on (2025-01-27 19:23:46 UTC): This PR targets saas-17.4 and is part of the forward-port chain. Further PRs will be created up to master.

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

fw-bot (Issue Creator) on (2025-01-27 20:42:48 UTC): @Yajo @arj-odoo the next pull request (odoo/odoo#195365) is in conflict. You can merge the chain up to here by saying

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

"
2813863213,pull_request,closed,,[FW][FIX] sale: allow editing delivered quantity on combo item SOLs,"Previously, only the description and taxes could be edited on combo item SOLs. However, the delivered quantity should also be editable.

opw-4454205

Forward-Port-Of: odoo/odoo#195265
Forward-Port-Of: odoo/odoo#194906",fw-bot,2025-01-27 19:20:24+00:00,[],2025-01-28 11:10:21+00:00,2025-01-28 11:10:14+00:00,https://github.com/odoo/odoo/pull/195357,"[('OE', 'the report is linked to a support ticket (opw-...)'), ('forwardport', 'This PR was created by @fw-bot'), ('18.2', None)]","[{'comment_id': 2616695069, 'issue_id': 2813863213, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195357.png)](https://mergebot.odoo.com/odoo/odoo/pull/195357)', 'created_at': datetime.datetime(2025, 1, 27, 19, 20, 25, tzinfo=datetime.timezone.utc)}, {'comment_id': 2616695091, 'issue_id': 2813863213, 'author': 'fw-bot', 'body': '@ltinel @Feyensv this PR targets master and is the last of the forward-port chain.\n\nTo merge the full chain, use\n> @robodoo r+\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 27, 19, 20, 26, tzinfo=datetime.timezone.utc)}, {'comment_id': 2618101689, 'issue_id': 2813863213, 'author': 'ltinel', 'body': '@robodoo r+', 'created_at': datetime.datetime(2025, 1, 28, 7, 21, 49, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-27 19:20:25 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195357.png)](https://mergebot.odoo.com/odoo/odoo/pull/195357)

fw-bot (Issue Creator) on (2025-01-27 19:20:26 UTC): @ltinel @Feyensv this PR targets master and is the last of the forward-port chain.

To merge the full chain, use

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

ltinel on (2025-01-28 07:21:49 UTC): @robodoo r+

"
2813845514,pull_request,closed,,[FW][FIX] l10n_cl: translate VAT in invoice tax total,"Problem: When printing an invoice with l10n_cl installed, the tax total will display the lavel as 'VAT.' The user expects 'VAT' to be translated to maybe 'IVA.' It is hardcoded into the view, thus the .pot file needs to be updated.

Note: Starting from v17, there are missing translations
for strings ""Net Amount"", ""Total"", ""Exempt Amount"" in the
.pot file for the view l10n_cl.tax_totals_widget. However,
these are present for v16. Will probably need to modify
the fw-ports to include these strings in the file.

Purpose: Updating the .pot file to include the hardcoded VAT string will ensure there are translations for that label.

Steps to Reproduce on Runbot:
1. Install l10n_cl and Accounting
2. Add Spanish as a language
3. Switch to the CL company
4. Create an invoice for a customer whose language is Spanish
5. Print the invoice and notice 'VAT' is not translated

opw-4383092




---
I confirm I have signed the CLA and read the PR guidelines at www.odoo.com/submit-pr

Forward-Port-Of: odoo/odoo#194961
Forward-Port-Of: odoo/odoo#190605",fw-bot,2025-01-27 19:11:09+00:00,[],2025-01-31 16:30:26+00:00,2025-01-31 16:30:26+00:00,https://github.com/odoo/odoo/pull/195356,"[('OE', 'the report is linked to a support ticket (opw-...)'), ('forwardport', 'This PR was created by @fw-bot'), ('18.2', None)]","[{'comment_id': 2616675556, 'issue_id': 2813845514, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195356.png)](https://mergebot.odoo.com/odoo/odoo/pull/195356)', 'created_at': datetime.datetime(2025, 1, 27, 19, 11, 11, tzinfo=datetime.timezone.utc)}, {'comment_id': 2616675590, 'issue_id': 2813845514, 'author': 'fw-bot', 'body': '@myhy-odoo @antoine162 this PR targets master and is the last of the forward-port chain containing:\n* odoo/odoo#195157\n\nTo merge the full chain, use\n> @robodoo r+\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 27, 19, 11, 11, tzinfo=datetime.timezone.utc)}, {'comment_id': 2616774943, 'issue_id': 2813845514, 'author': 'fw-bot', 'body': '@myhy-odoo @antoine162 ci/runbot failed on this forward-port PR', 'created_at': datetime.datetime(2025, 1, 27, 20, 2, 35, tzinfo=datetime.timezone.utc)}, {'comment_id': 2616927002, 'issue_id': 2813845514, 'author': 'fw-bot', 'body': '@myhy-odoo @antoine162 ci/runbot failed on this forward-port PR', 'created_at': datetime.datetime(2025, 1, 27, 21, 24, 57, tzinfo=datetime.timezone.utc)}, {'comment_id': 2617222397, 'issue_id': 2813845514, 'author': 'fw-bot', 'body': '@myhy-odoo @antoine162 ci/runbot failed on this forward-port PR', 'created_at': datetime.datetime(2025, 1, 28, 0, 0, 15, tzinfo=datetime.timezone.utc)}, {'comment_id': 2617543178, 'issue_id': 2813845514, 'author': 'fw-bot', 'body': '@myhy-odoo @antoine162 this forward port of odoo/odoo#190605 is awaiting action (not merged or closed).', 'created_at': datetime.datetime(2025, 1, 28, 2, 1, 55, tzinfo=datetime.timezone.utc)}, {'comment_id': 2620471803, 'issue_id': 2813845514, 'author': 'fw-bot', 'body': '@myhy-odoo @antoine162 this forward port of odoo/odoo#190605 is awaiting action (not merged or closed).', 'created_at': datetime.datetime(2025, 1, 29, 2, 1, 28, tzinfo=datetime.timezone.utc)}, {'comment_id': 2622481712, 'issue_id': 2813845514, 'author': 'myhy-odoo', 'body': '@robodoo r+', 'created_at': datetime.datetime(2025, 1, 29, 18, 10, 58, tzinfo=datetime.timezone.utc)}, {'comment_id': 2622906126, 'issue_id': 2813845514, 'author': 'robodoo', 'body': '@myhy-odoo @antoine162 unable to stage: merge conflict', 'created_at': datetime.datetime(2025, 1, 29, 21, 36, 3, tzinfo=datetime.timezone.utc)}, {'comment_id': 2623354601, 'issue_id': 2813845514, 'author': 'fw-bot', 'body': '@myhy-odoo @antoine162 this forward port of odoo/odoo#190605 is awaiting action (not merged or closed).', 'created_at': datetime.datetime(2025, 1, 30, 2, 2, 14, tzinfo=datetime.timezone.utc)}, {'comment_id': 2625238863, 'issue_id': 2813845514, 'author': 'myhy-odoo', 'body': 'Hello @antoine162! Do you know how to resolve the conflicts? I checked out to the dev branch but was unable to see any merge conflicts.', 'created_at': datetime.datetime(2025, 1, 30, 18, 15, 59, tzinfo=datetime.timezone.utc)}, {'comment_id': 2626137569, 'issue_id': 2813845514, 'author': 'fw-bot', 'body': '@myhy-odoo @antoine162 this forward port of odoo/odoo#190605 is awaiting action (not merged or closed).', 'created_at': datetime.datetime(2025, 1, 31, 2, 2, 9, tzinfo=datetime.timezone.utc)}, {'comment_id': 2626829080, 'issue_id': 2813845514, 'author': 'antoine162', 'body': '@myhy-odoo I could see the conflicts when trying to rebase on the latest master :smile: \r\nIn any case, I just resolved them :smile:', 'created_at': datetime.datetime(2025, 1, 31, 10, 9, 8, tzinfo=datetime.timezone.utc)}, {'comment_id': 2626829166, 'issue_id': 2813845514, 'author': 'fw-bot', 'body': '@myhy-odoo @antoine162 this PR was modified / updated and has become a normal PR. It must be merged directly.', 'created_at': datetime.datetime(2025, 1, 31, 10, 9, 10, tzinfo=datetime.timezone.utc)}, {'comment_id': 2626835599, 'issue_id': 2813845514, 'author': 'antoine162', 'body': '@robodoo r+', 'created_at': datetime.datetime(2025, 1, 31, 10, 12, 20, tzinfo=datetime.timezone.utc)}, {'comment_id': 2626919386, 'issue_id': 2813845514, 'author': 'robodoo', 'body': ""@myhy-odoo @antoine162 'ci/runbot' failed on this reviewed PR."", 'created_at': datetime.datetime(2025, 1, 31, 10, 53, 39, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-27 19:11:11 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195356.png)](https://mergebot.odoo.com/odoo/odoo/pull/195356)

fw-bot (Issue Creator) on (2025-01-27 19:11:11 UTC): @myhy-odoo @antoine162 this PR targets master and is the last of the forward-port chain containing:
* odoo/odoo#195157

To merge the full chain, use

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

fw-bot (Issue Creator) on (2025-01-27 20:02:35 UTC): @myhy-odoo @antoine162 ci/runbot failed on this forward-port PR

fw-bot (Issue Creator) on (2025-01-27 21:24:57 UTC): @myhy-odoo @antoine162 ci/runbot failed on this forward-port PR

fw-bot (Issue Creator) on (2025-01-28 00:00:15 UTC): @myhy-odoo @antoine162 ci/runbot failed on this forward-port PR

fw-bot (Issue Creator) on (2025-01-28 02:01:55 UTC): @myhy-odoo @antoine162 this forward port of odoo/odoo#190605 is awaiting action (not merged or closed).

fw-bot (Issue Creator) on (2025-01-29 02:01:28 UTC): @myhy-odoo @antoine162 this forward port of odoo/odoo#190605 is awaiting action (not merged or closed).

myhy-odoo on (2025-01-29 18:10:58 UTC): @robodoo r+

robodoo on (2025-01-29 21:36:03 UTC): @myhy-odoo @antoine162 unable to stage: merge conflict

fw-bot (Issue Creator) on (2025-01-30 02:02:14 UTC): @myhy-odoo @antoine162 this forward port of odoo/odoo#190605 is awaiting action (not merged or closed).

myhy-odoo on (2025-01-30 18:15:59 UTC): Hello @antoine162! Do you know how to resolve the conflicts? I checked out to the dev branch but was unable to see any merge conflicts.

fw-bot (Issue Creator) on (2025-01-31 02:02:09 UTC): @myhy-odoo @antoine162 this forward port of odoo/odoo#190605 is awaiting action (not merged or closed).

antoine162 on (2025-01-31 10:09:08 UTC): @myhy-odoo I could see the conflicts when trying to rebase on the latest master :smile: 
In any case, I just resolved them :smile:

fw-bot (Issue Creator) on (2025-01-31 10:09:10 UTC): @myhy-odoo @antoine162 this PR was modified / updated and has become a normal PR. It must be merged directly.

antoine162 on (2025-01-31 10:12:20 UTC): @robodoo r+

robodoo on (2025-01-31 10:53:39 UTC): @myhy-odoo @antoine162 'ci/runbot' failed on this reviewed PR.

"
2813843483,pull_request,open,,[FW][FIX] html_editor: button command in powerbox should create a button,"Before this commit: Using the button command in the powerbox resulted in the creation of a regular link instead of a button.

After this commit: Executing the button command now correctly creates a primary button as intended.

task-4380129




---
I confirm I have signed the CLA and read the PR guidelines at www.odoo.com/submit-pr

Forward-Port-Of: odoo/odoo#189893",fw-bot,2025-01-27 19:10:16+00:00,[],2025-02-03 02:03:07+00:00,,https://github.com/odoo/odoo/pull/195355,"[('RD', 'research & development, internal work'), ('forwardport', 'This PR was created by @fw-bot'), ('conflict', 'There was an error while creating this forward-port PR')]","[{'comment_id': 2616673660, 'issue_id': 2813843483, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195355.png)](https://mergebot.odoo.com/odoo/odoo/pull/195355)', 'created_at': datetime.datetime(2025, 1, 27, 19, 10, 17, tzinfo=datetime.timezone.utc)}, {'comment_id': 2616673735, 'issue_id': 2813843483, 'author': 'fw-bot', 'body': '@Jinjiu96 @dmo-odoo cherrypicking of pull request odoo/odoo#189893 failed.\n\nstdout:\n```\nAuto-merging addons/html_editor/static/src/main/link/link_popover.js\nCONFLICT (content): Merge conflict in addons/html_editor/static/src/main/link/link_popover.js\n\n```\n\nEither perform the forward-port manually (and push to this branch, proceeding as usual) or close this PR (maybe?).\n\nIn the former case, you may want to edit this PR message as well.\n\n:warning: after resolving this conflict, you will need to merge it via @robodoo.\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 27, 19, 10, 19, tzinfo=datetime.timezone.utc)}, {'comment_id': 2617543820, 'issue_id': 2813843483, 'author': 'fw-bot', 'body': '@Jinjiu96 @dmo-odoo this forward port of odoo/odoo#189893 is awaiting action (not merged or closed).', 'created_at': datetime.datetime(2025, 1, 28, 2, 2, 4, tzinfo=datetime.timezone.utc)}, {'comment_id': 2620471917, 'issue_id': 2813843483, 'author': 'fw-bot', 'body': '@Jinjiu96 @dmo-odoo this forward port of odoo/odoo#189893 is awaiting action (not merged or closed).', 'created_at': datetime.datetime(2025, 1, 29, 2, 1, 34, tzinfo=datetime.timezone.utc)}, {'comment_id': 2621119630, 'issue_id': 2813843483, 'author': 'Jinjiu96', 'body': ""Converted to draft cause it's better to merge it after seb's link change pr"", 'created_at': datetime.datetime(2025, 1, 29, 9, 32, 33, tzinfo=datetime.timezone.utc)}, {'comment_id': 2623354713, 'issue_id': 2813843483, 'author': 'fw-bot', 'body': '@Jinjiu96 @dmo-odoo this forward port of odoo/odoo#189893 is awaiting action (not merged or closed).', 'created_at': datetime.datetime(2025, 1, 30, 2, 2, 19, tzinfo=datetime.timezone.utc)}, {'comment_id': 2626138185, 'issue_id': 2813843483, 'author': 'fw-bot', 'body': '@Jinjiu96 @dmo-odoo this forward port of odoo/odoo#189893 is awaiting action (not merged or closed).', 'created_at': datetime.datetime(2025, 1, 31, 2, 2, 16, tzinfo=datetime.timezone.utc)}, {'comment_id': 2628685526, 'issue_id': 2813843483, 'author': 'fw-bot', 'body': '@Jinjiu96 @dmo-odoo this forward port of odoo/odoo#189893 is awaiting action (not merged or closed).', 'created_at': datetime.datetime(2025, 2, 1, 2, 1, 45, tzinfo=datetime.timezone.utc)}, {'comment_id': 2629202075, 'issue_id': 2813843483, 'author': 'fw-bot', 'body': '@Jinjiu96 @dmo-odoo this forward port of odoo/odoo#189893 is awaiting action (not merged or closed).', 'created_at': datetime.datetime(2025, 2, 2, 2, 2, 5, tzinfo=datetime.timezone.utc)}, {'comment_id': 2629730879, 'issue_id': 2813843483, 'author': 'fw-bot', 'body': '@Jinjiu96 @dmo-odoo this forward port of odoo/odoo#189893 is awaiting action (not merged or closed).', 'created_at': datetime.datetime(2025, 2, 3, 2, 3, 6, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-27 19:10:17 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195355.png)](https://mergebot.odoo.com/odoo/odoo/pull/195355)

fw-bot (Issue Creator) on (2025-01-27 19:10:19 UTC): @Jinjiu96 @dmo-odoo cherrypicking of pull request odoo/odoo#189893 failed.

stdout:
```
Auto-merging addons/html_editor/static/src/main/link/link_popover.js
CONFLICT (content): Merge conflict in addons/html_editor/static/src/main/link/link_popover.js

```

Either perform the forward-port manually (and push to this branch, proceeding as usual) or close this PR (maybe?).

In the former case, you may want to edit this PR message as well.

:warning: after resolving this conflict, you will need to merge it via @robodoo.

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

fw-bot (Issue Creator) on (2025-01-28 02:02:04 UTC): @Jinjiu96 @dmo-odoo this forward port of odoo/odoo#189893 is awaiting action (not merged or closed).

fw-bot (Issue Creator) on (2025-01-29 02:01:34 UTC): @Jinjiu96 @dmo-odoo this forward port of odoo/odoo#189893 is awaiting action (not merged or closed).

Jinjiu96 on (2025-01-29 09:32:33 UTC): Converted to draft cause it's better to merge it after seb's link change pr

fw-bot (Issue Creator) on (2025-01-30 02:02:19 UTC): @Jinjiu96 @dmo-odoo this forward port of odoo/odoo#189893 is awaiting action (not merged or closed).

fw-bot (Issue Creator) on (2025-01-31 02:02:16 UTC): @Jinjiu96 @dmo-odoo this forward port of odoo/odoo#189893 is awaiting action (not merged or closed).

fw-bot (Issue Creator) on (2025-02-01 02:01:45 UTC): @Jinjiu96 @dmo-odoo this forward port of odoo/odoo#189893 is awaiting action (not merged or closed).

fw-bot (Issue Creator) on (2025-02-02 02:02:05 UTC): @Jinjiu96 @dmo-odoo this forward port of odoo/odoo#189893 is awaiting action (not merged or closed).

fw-bot (Issue Creator) on (2025-02-03 02:03:06 UTC): @Jinjiu96 @dmo-odoo this forward port of odoo/odoo#189893 is awaiting action (not merged or closed).

"
2813825762,pull_request,closed,,[FW][FIX] repair: show recycle lines in repair order report,"Description of the issue/feature this PR addresses:
The ""Recycle"" repair type wasn't integrated properly into the report template
Current behavior before PR:
Repair lines with ""Recycle"" type create empty lines on the repair order report
![grafik](https://github.com/user-attachments/assets/20ffc739-d14d-4f3b-adfe-73b36fa42938)
![grafik](https://github.com/user-attachments/assets/157bd99f-e1ff-4c3b-a89d-7b67284e336b)
Desired behavior after PR is merged:
Repair lines with ""Recycle"" type have their product description printed on the report


---
I confirm I have signed the CLA and read the PR guidelines at www.odoo.com/submit-pr

Forward-Port-Of: odoo/odoo#193502",fw-bot,2025-01-27 19:02:03+00:00,[],2025-01-29 07:11:40+00:00,2025-01-29 07:11:40+00:00,https://github.com/odoo/odoo/pull/195354,"[('RD', 'research & development, internal work'), ('forwardport', 'This PR was created by @fw-bot')]","[{'comment_id': 2616655230, 'issue_id': 2813825762, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195354.png)](https://mergebot.odoo.com/odoo/odoo/pull/195354)', 'created_at': datetime.datetime(2025, 1, 27, 19, 2, 4, tzinfo=datetime.timezone.utc)}, {'comment_id': 2616655261, 'issue_id': 2813825762, 'author': 'fw-bot', 'body': 'This PR targets 18.0 and is part of the forward-port chain. Further PRs will be created up to master.\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 27, 19, 2, 5, tzinfo=datetime.timezone.utc)}, {'comment_id': 2616796419, 'issue_id': 2813825762, 'author': 'fw-bot', 'body': '@AlienAtSystem @ticodoo ci/runbot failed on this forward-port PR', 'created_at': datetime.datetime(2025, 1, 27, 20, 14, 29, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-27 19:02:04 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195354.png)](https://mergebot.odoo.com/odoo/odoo/pull/195354)

fw-bot (Issue Creator) on (2025-01-27 19:02:05 UTC): This PR targets 18.0 and is part of the forward-port chain. Further PRs will be created up to master.

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

fw-bot (Issue Creator) on (2025-01-27 20:14:29 UTC): @AlienAtSystem @ticodoo ci/runbot failed on this forward-port PR

"
2813778576,pull_request,closed,,[FW][FIX] web_editor: prevent insertion of link on ctrl+k with video focused,"This PR addresses an issue where selecting a video and pressing Ctrl+K would introduce a link(anchor tag) on top of the video. The fix ensures that pressing Ctrl+K while a video is focused will no longer insert a link,  resolving the issue of an empty link being added.

task-2819776

Forward-Port-Of: odoo/odoo#195270
Forward-Port-Of: odoo/odoo#162615",fw-bot,2025-01-27 18:38:29+00:00,[],2025-01-29 11:56:51+00:00,2025-01-29 11:56:51+00:00,https://github.com/odoo/odoo/pull/195353,"[('RD', 'research & development, internal work'), ('forwardport', 'This PR was created by @fw-bot')]","[{'comment_id': 2616605526, 'issue_id': 2813778576, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195353.png)](https://mergebot.odoo.com/odoo/odoo/pull/195353)', 'created_at': datetime.datetime(2025, 1, 27, 18, 38, 30, tzinfo=datetime.timezone.utc)}, {'comment_id': 2616605546, 'issue_id': 2813778576, 'author': 'fw-bot', 'body': 'This PR targets 18.0 and is part of the forward-port chain. Further PRs will be created up to master.\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 27, 18, 38, 31, tzinfo=datetime.timezone.utc)}, {'comment_id': 2616678319, 'issue_id': 2813778576, 'author': 'fw-bot', 'body': '@perm-odoo @robinlej ci/runbot failed on this forward-port PR', 'created_at': datetime.datetime(2025, 1, 27, 19, 12, 34, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-27 18:38:30 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195353.png)](https://mergebot.odoo.com/odoo/odoo/pull/195353)

fw-bot (Issue Creator) on (2025-01-27 18:38:31 UTC): This PR targets 18.0 and is part of the forward-port chain. Further PRs will be created up to master.

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

fw-bot (Issue Creator) on (2025-01-27 19:12:34 UTC): @perm-odoo @robinlej ci/runbot failed on this forward-port PR

"
2813777858,pull_request,closed,,"[FW][FIX] web_editor, website_blog: new update translation controller","In the current implementation, updating translations for a `blog.post`
via the route
`/web/dataset/call_kw/blog.post/web_update_field_translations`
fails to apply changes when the post has already been translated once.
This issue is caused by how the system fetches `website.default_lang_id`
from the request.

__Current behavior before commit:__
When editing a previously translated field for `blog.post` or
`product.template`, the system retrieves the website from the request to
determine the `source_lang`. This is used to search for the original
term in the source language and update its translation. However, due to
the `website=True` parameter not being set for the controller,the system
defaults to English (`source_lang = 'en_US'`). As a result:

1. The system searches for the original word in English, even if it
exists in another language.
2. The translation update fails because the original word cannot be
found in English.

__Description of the fix:__
A new controller was introduced to specifically handle translation
updates, ensuring the correct language is fetched and the translation
logic is applied correctly.

__Steps to reproduce the issue:__
1. Add 2 or more languages to the website.
2. Set the default language to any language other than English (US).
3. Create a blog post and write text in the default language.
4. Switch to another language, translate the text and save.
5. Edit the translated text again.
The last edits are not saved.

- bug introduced in: [#06346b0][1]
- opw-4239512

[1]: https://github.com/odoo/odoo/commit/06346b049a3a13a9a8b63a4f60151ec24fabb59e

Forward-Port-Of: odoo/odoo#184415",fw-bot,2025-01-27 18:38:07+00:00,[],2025-01-30 14:06:09+00:00,2025-01-30 14:06:09+00:00,https://github.com/odoo/odoo/pull/195352,"[('OE', 'the report is linked to a support ticket (opw-...)'), ('forwardport', 'This PR was created by @fw-bot'), ('conflict', 'There was an error while creating this forward-port PR')]","[{'comment_id': 2616604837, 'issue_id': 2813777858, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195352.png)](https://mergebot.odoo.com/odoo/odoo/pull/195352)', 'created_at': datetime.datetime(2025, 1, 27, 18, 38, 9, tzinfo=datetime.timezone.utc)}, {'comment_id': 2616604858, 'issue_id': 2813777858, 'author': 'fw-bot', 'body': '@vega-odoo @HydrionBurst cherrypicking of pull request odoo/odoo#184415 failed.\n\nstdout:\n```\nAuto-merging addons/web_editor/controllers/main.py\nCONFLICT (content): Merge conflict in addons/web_editor/controllers/main.py\nAuto-merging addons/web_editor/static/src/js/wysiwyg/wysiwyg.js\nAuto-merging addons/website_blog/tests/test_website_blog_flow.py\n\n```\n\nEither perform the forward-port manually (and push to this branch, proceeding as usual) or close this PR (maybe?).\n\nIn the former case, you may want to edit this PR message as well.\n\n:warning: after resolving this conflict, you will need to merge it via @robodoo.\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 27, 18, 38, 9, tzinfo=datetime.timezone.utc)}, {'comment_id': 2621523639, 'issue_id': 2813777858, 'author': 'HydrionBurst', 'body': 'Hi @vega-odoo, could you fix the confict and do the forwardport?', 'created_at': datetime.datetime(2025, 1, 29, 12, 35, 51, tzinfo=datetime.timezone.utc)}, {'comment_id': 2623915321, 'issue_id': 2813777858, 'author': 'vega-odoo', 'body': '@robodoo r+', 'created_at': datetime.datetime(2025, 1, 30, 9, 9, 15, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-27 18:38:09 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195352.png)](https://mergebot.odoo.com/odoo/odoo/pull/195352)

fw-bot (Issue Creator) on (2025-01-27 18:38:09 UTC): @vega-odoo @HydrionBurst cherrypicking of pull request odoo/odoo#184415 failed.

stdout:
```
Auto-merging addons/web_editor/controllers/main.py
CONFLICT (content): Merge conflict in addons/web_editor/controllers/main.py
Auto-merging addons/web_editor/static/src/js/wysiwyg/wysiwyg.js
Auto-merging addons/website_blog/tests/test_website_blog_flow.py

```

Either perform the forward-port manually (and push to this branch, proceeding as usual) or close this PR (maybe?).

In the former case, you may want to edit this PR message as well.

:warning: after resolving this conflict, you will need to merge it via @robodoo.

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

HydrionBurst on (2025-01-29 12:35:51 UTC): Hi @vega-odoo, could you fix the confict and do the forwardport?

vega-odoo on (2025-01-30 09:09:15 UTC): @robodoo r+

"
2813776429,pull_request,closed,,[FW][FIX] mrp: variant assignation warning,"Issue
-----
When selecting a variant for the bom, all of the component lines lose the ""Apply on variants"" info. This is intended behaviour but can lead to big data losses for larger boms.

Discussed it with PO and we went with a simple user warning when this happens.

Steps to reproduce
-----
- Create product ""A"" with variant ""A1"" and product ""B""
- Create a bom for A
- Create a bom line with ""Apply on variants"" set to A1
- Save the bom
- Change the bom product from A to B
- Save the bom / Leave the page

Ticket:
opw-4182384

Forward-Port-Of: odoo/odoo#191541",fw-bot,2025-01-27 18:37:23+00:00,[],2025-01-29 08:29:10+00:00,2025-01-29 08:29:10+00:00,https://github.com/odoo/odoo/pull/195351,"[('OE', 'the report is linked to a support ticket (opw-...)'), ('forwardport', 'This PR was created by @fw-bot')]","[{'comment_id': 2616603526, 'issue_id': 2813776429, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195351.png)](https://mergebot.odoo.com/odoo/odoo/pull/195351)', 'created_at': datetime.datetime(2025, 1, 27, 18, 37, 33, tzinfo=datetime.timezone.utc)}, {'comment_id': 2616603541, 'issue_id': 2813776429, 'author': 'fw-bot', 'body': 'This PR targets 18.0 and is part of the forward-port chain. Further PRs will be created up to master.\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 27, 18, 37, 34, tzinfo=datetime.timezone.utc)}, {'comment_id': 2616678620, 'issue_id': 2813776429, 'author': 'fw-bot', 'body': '@vandroogenbd @adwid ci/runbot failed on this forward-port PR', 'created_at': datetime.datetime(2025, 1, 27, 19, 12, 43, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-27 18:37:33 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195351.png)](https://mergebot.odoo.com/odoo/odoo/pull/195351)

fw-bot (Issue Creator) on (2025-01-27 18:37:34 UTC): This PR targets 18.0 and is part of the forward-port chain. Further PRs will be created up to master.

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

fw-bot (Issue Creator) on (2025-01-27 19:12:43 UTC): @vandroogenbd @adwid ci/runbot failed on this forward-port PR

"
2813752910,pull_request,closed,,[FW][FIX] web: prevent crash on website editor,"__Current behavior before commit:__
jQuery has been removed from `web.assets_backend` in [`b8fc93e`][1], now it's dynamically added with the `ensureJQuery` method. A lot of customers put `web/static/lib/jquery/jquery.js` in `web.assets_backend` (using custom modules) but not `web/static/src/legacy/js/libs/jquery.js`. Therefore `ensureJQuery` doesn't fetch `web._assets_jquery` and therefore
`web/static/src/legacy/js/libs/jquery.js` is never included.

__Description of the fix:__
If jQuery is present, check if the method `getScrollingElement` is defined in jQuery.fn. If not load `/web/static/src/legacy/js/libs/jquery.js`.

__Steps to reproduce the issue in local:__
1. Add back ""web/static/lib/jquery/jquery.js"" in the `web.assets_backend` entry of `addons/web/\_\_manifest\_\_.py` to simulate that a customer added it in a custom module.
2. Open the database and Refresh Assets in the debug menu
3. Try to open the editor Crash: ""TypeError: $(...).getScrollingElement is not a function""

opw-4499576

[1]: https://github.com/odoo/odoo/commit/b8fc93ea97b8

Forward-Port-Of: odoo/odoo#195092",fw-bot,2025-01-27 18:26:14+00:00,[],2025-02-03 23:13:17+00:00,2025-02-03 23:13:17+00:00,https://github.com/odoo/odoo/pull/195350,"[('OE', 'the report is linked to a support ticket (opw-...)'), ('forwardport', 'This PR was created by @fw-bot')]","[{'comment_id': 2616580575, 'issue_id': 2813752910, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195350.png)](https://mergebot.odoo.com/odoo/odoo/pull/195350)', 'created_at': datetime.datetime(2025, 1, 27, 18, 26, 16, tzinfo=datetime.timezone.utc)}, {'comment_id': 2616580601, 'issue_id': 2813752910, 'author': 'fw-bot', 'body': 'This PR targets saas-18.1 and is part of the forward-port chain. Further PRs will be created up to master.\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 27, 18, 26, 16, tzinfo=datetime.timezone.utc)}, {'comment_id': 2616647361, 'issue_id': 2813752910, 'author': 'fw-bot', 'body': '@Dj0ulo @aab-odoo ci/runbot failed on this forward-port PR', 'created_at': datetime.datetime(2025, 1, 27, 18, 58, 13, tzinfo=datetime.timezone.utc)}, {'comment_id': 2626135279, 'issue_id': 2813752910, 'author': 'fw-bot', 'body': '@Dj0ulo @aab-odoo this forward port of odoo/odoo#195092 is awaiting action (not merged or closed).', 'created_at': datetime.datetime(2025, 1, 31, 2, 1, 35, tzinfo=datetime.timezone.utc)}, {'comment_id': 2628684741, 'issue_id': 2813752910, 'author': 'fw-bot', 'body': '@Dj0ulo @aab-odoo this forward port of odoo/odoo#195092 is awaiting action (not merged or closed).', 'created_at': datetime.datetime(2025, 2, 1, 2, 1, 1, tzinfo=datetime.timezone.utc)}, {'comment_id': 2629201472, 'issue_id': 2813752910, 'author': 'fw-bot', 'body': '@Dj0ulo @aab-odoo this forward port of odoo/odoo#195092 is awaiting action (not merged or closed).', 'created_at': datetime.datetime(2025, 2, 2, 2, 1, 6, tzinfo=datetime.timezone.utc)}, {'comment_id': 2629729670, 'issue_id': 2813752910, 'author': 'fw-bot', 'body': '@Dj0ulo @aab-odoo this forward port of odoo/odoo#195092 is awaiting action (not merged or closed).', 'created_at': datetime.datetime(2025, 2, 3, 2, 1, 52, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-27 18:26:16 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195350.png)](https://mergebot.odoo.com/odoo/odoo/pull/195350)

fw-bot (Issue Creator) on (2025-01-27 18:26:16 UTC): This PR targets saas-18.1 and is part of the forward-port chain. Further PRs will be created up to master.

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

fw-bot (Issue Creator) on (2025-01-27 18:58:13 UTC): @Dj0ulo @aab-odoo ci/runbot failed on this forward-port PR

fw-bot (Issue Creator) on (2025-01-31 02:01:35 UTC): @Dj0ulo @aab-odoo this forward port of odoo/odoo#195092 is awaiting action (not merged or closed).

fw-bot (Issue Creator) on (2025-02-01 02:01:01 UTC): @Dj0ulo @aab-odoo this forward port of odoo/odoo#195092 is awaiting action (not merged or closed).

fw-bot (Issue Creator) on (2025-02-02 02:01:06 UTC): @Dj0ulo @aab-odoo this forward port of odoo/odoo#195092 is awaiting action (not merged or closed).

fw-bot (Issue Creator) on (2025-02-03 02:01:52 UTC): @Dj0ulo @aab-odoo this forward port of odoo/odoo#195092 is awaiting action (not merged or closed).

"
2813751218,pull_request,closed,,"[FW][IMP] point_of_sale, pos_*: reduce XHR request and improve devices sync","*: pos_restaurant, pos_event

Reduce number of XHR request by handling preparation change notification
directly in the backend.

The synchronisation is now more robust, each time we receive a request
all local ids are checked to ensure that the record wasn't deleted or
modified in the meantime.

Forward-Port-Of: odoo/odoo#195151",fw-bot,2025-01-27 18:25:50+00:00,[],2025-02-04 11:32:46+00:00,2025-02-04 11:32:46+00:00,https://github.com/odoo/odoo/pull/195349,"[('RD', 'research & development, internal work'), ('forwardport', 'This PR was created by @fw-bot'), ('conflict', 'There was an error while creating this forward-port PR')]","[{'comment_id': 2616579729, 'issue_id': 2813751218, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195349.png)](https://mergebot.odoo.com/odoo/odoo/pull/195349)', 'created_at': datetime.datetime(2025, 1, 27, 18, 25, 53, tzinfo=datetime.timezone.utc)}, {'comment_id': 2616579787, 'issue_id': 2813751218, 'author': 'fw-bot', 'body': '@davidmonnom cherrypicking of pull request odoo/odoo#195151 failed.\n\nstdout:\n```\nAuto-merging addons/point_of_sale/models/pos_config.py\nAuto-merging addons/point_of_sale/models/pos_order.py\nCONFLICT (content): Merge conflict in addons/point_of_sale/models/pos_order.py\nAuto-merging addons/point_of_sale/static/src/app/models/data_service_options.js\nCONFLICT (content): Merge conflict in addons/point_of_sale/static/src/app/models/data_service_options.js\nAuto-merging addons/point_of_sale/static/src/app/models/related_models.js\nCONFLICT (content): Merge conflict in addons/point_of_sale/static/src/app/models/related_models.js\nAuto-merging addons/point_of_sale/static/src/app/services/data_service.js\nCONFLICT (content): Merge conflict in addons/point_of_sale/static/src/app/services/data_service.js\nAuto-merging addons/point_of_sale/static/src/app/services/pos_store.js\nCONFLICT (content): Merge conflict in addons/point_of_sale/static/src/app/services/pos_store.js\nAuto-merging addons/pos_event/static/src/app/models/data_service_options.js\nCONFLICT (file location): addons/pos_restaurant/static/src/overrides/models/devices_synchronisation.js added in 7111f1aadd30694a7e9575f4d139b3263f01643f inside a directory that was renamed in fd229b8b99e8757e1a7f22ccf32450b51d7ee356, suggesting it should perhaps be moved to addons/pos_restaurant/static/src/app/models/devices_synchronisation.js.\nCONFLICT (modify/delete): addons/pos_restaurant/static/src/overrides/models/pos_store.js deleted in fd229b8b99e8757e1a7f22ccf32450b51d7ee356 and modified in 7111f1aadd30694a7e9575f4d139b3263f01643f.  Version 7111f1aadd30694a7e9575f4d139b3263f01643f of addons/pos_restaurant/static/src/overrides/models/pos_store.js left in tree.\nAuto-merging addons/pos_restaurant/static/tests/tours/pos_restaurant_tour.js\n\n```\n\nEither perform the forward-port manually (and push to this branch, proceeding as usual) or close this PR (maybe?).\n\nIn the former case, you may want to edit this PR message as well.\n\n:warning: after resolving this conflict, you will need to merge it via @robodoo.\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 27, 18, 25, 54, tzinfo=datetime.timezone.utc)}, {'comment_id': 2626135184, 'issue_id': 2813751218, 'author': 'fw-bot', 'body': '@davidmonnom this forward port of odoo/odoo#195151 is awaiting action (not merged or closed).', 'created_at': datetime.datetime(2025, 1, 31, 2, 1, 32, tzinfo=datetime.timezone.utc)}, {'comment_id': 2628684644, 'issue_id': 2813751218, 'author': 'fw-bot', 'body': '@davidmonnom this forward port of odoo/odoo#195151 is awaiting action (not merged or closed).', 'created_at': datetime.datetime(2025, 2, 1, 2, 0, 57, tzinfo=datetime.timezone.utc)}, {'comment_id': 2629201414, 'issue_id': 2813751218, 'author': 'fw-bot', 'body': '@davidmonnom this forward port of odoo/odoo#195151 is awaiting action (not merged or closed).', 'created_at': datetime.datetime(2025, 2, 2, 2, 1, 1, tzinfo=datetime.timezone.utc)}, {'comment_id': 2629729577, 'issue_id': 2813751218, 'author': 'fw-bot', 'body': '@davidmonnom this forward port of odoo/odoo#195151 is awaiting action (not merged or closed).', 'created_at': datetime.datetime(2025, 2, 3, 2, 1, 48, tzinfo=datetime.timezone.utc)}, {'comment_id': 2633341835, 'issue_id': 2813751218, 'author': 'davidmonnom', 'body': '@robodoo r+', 'created_at': datetime.datetime(2025, 2, 4, 9, 30, 40, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-27 18:25:53 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195349.png)](https://mergebot.odoo.com/odoo/odoo/pull/195349)

fw-bot (Issue Creator) on (2025-01-27 18:25:54 UTC): @davidmonnom cherrypicking of pull request odoo/odoo#195151 failed.

stdout:
```
Auto-merging addons/point_of_sale/models/pos_config.py
Auto-merging addons/point_of_sale/models/pos_order.py
CONFLICT (content): Merge conflict in addons/point_of_sale/models/pos_order.py
Auto-merging addons/point_of_sale/static/src/app/models/data_service_options.js
CONFLICT (content): Merge conflict in addons/point_of_sale/static/src/app/models/data_service_options.js
Auto-merging addons/point_of_sale/static/src/app/models/related_models.js
CONFLICT (content): Merge conflict in addons/point_of_sale/static/src/app/models/related_models.js
Auto-merging addons/point_of_sale/static/src/app/services/data_service.js
CONFLICT (content): Merge conflict in addons/point_of_sale/static/src/app/services/data_service.js
Auto-merging addons/point_of_sale/static/src/app/services/pos_store.js
CONFLICT (content): Merge conflict in addons/point_of_sale/static/src/app/services/pos_store.js
Auto-merging addons/pos_event/static/src/app/models/data_service_options.js
CONFLICT (file location): addons/pos_restaurant/static/src/overrides/models/devices_synchronisation.js added in 7111f1aadd30694a7e9575f4d139b3263f01643f inside a directory that was renamed in fd229b8b99e8757e1a7f22ccf32450b51d7ee356, suggesting it should perhaps be moved to addons/pos_restaurant/static/src/app/models/devices_synchronisation.js.
CONFLICT (modify/delete): addons/pos_restaurant/static/src/overrides/models/pos_store.js deleted in fd229b8b99e8757e1a7f22ccf32450b51d7ee356 and modified in 7111f1aadd30694a7e9575f4d139b3263f01643f.  Version 7111f1aadd30694a7e9575f4d139b3263f01643f of addons/pos_restaurant/static/src/overrides/models/pos_store.js left in tree.
Auto-merging addons/pos_restaurant/static/tests/tours/pos_restaurant_tour.js

```

Either perform the forward-port manually (and push to this branch, proceeding as usual) or close this PR (maybe?).

In the former case, you may want to edit this PR message as well.

:warning: after resolving this conflict, you will need to merge it via @robodoo.

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

fw-bot (Issue Creator) on (2025-01-31 02:01:32 UTC): @davidmonnom this forward port of odoo/odoo#195151 is awaiting action (not merged or closed).

fw-bot (Issue Creator) on (2025-02-01 02:00:57 UTC): @davidmonnom this forward port of odoo/odoo#195151 is awaiting action (not merged or closed).

fw-bot (Issue Creator) on (2025-02-02 02:01:01 UTC): @davidmonnom this forward port of odoo/odoo#195151 is awaiting action (not merged or closed).

fw-bot (Issue Creator) on (2025-02-03 02:01:48 UTC): @davidmonnom this forward port of odoo/odoo#195151 is awaiting action (not merged or closed).

davidmonnom on (2025-02-04 09:30:40 UTC): @robodoo r+

"
2813749426,pull_request,closed,,[FW][FIX] point_of_sale: handle CLOSING_SESSION notification,"check commit message for description.

Forward-Port-Of: odoo/odoo#195193",fw-bot,2025-01-27 18:25:15+00:00,[],2025-01-31 13:50:51+00:00,2025-01-31 13:50:51+00:00,https://github.com/odoo/odoo/pull/195348,"[('RD', 'research & development, internal work'), ('forwardport', 'This PR was created by @fw-bot')]","[{'comment_id': 2616578526, 'issue_id': 2813749426, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195348.png)](https://mergebot.odoo.com/odoo/odoo/pull/195348)', 'created_at': datetime.datetime(2025, 1, 27, 18, 25, 16, tzinfo=datetime.timezone.utc)}, {'comment_id': 2616578553, 'issue_id': 2813749426, 'author': 'fw-bot', 'body': 'This PR targets saas-18.1 and is part of the forward-port chain. Further PRs will be created up to master.\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 27, 18, 25, 17, tzinfo=datetime.timezone.utc)}, {'comment_id': 2616688647, 'issue_id': 2813749426, 'author': 'fw-bot', 'body': '@caburj @davidmonnom ci/runbot failed on this forward-port PR', 'created_at': datetime.datetime(2025, 1, 27, 19, 16, 50, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-27 18:25:16 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195348.png)](https://mergebot.odoo.com/odoo/odoo/pull/195348)

fw-bot (Issue Creator) on (2025-01-27 18:25:17 UTC): This PR targets saas-18.1 and is part of the forward-port chain. Further PRs will be created up to master.

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

fw-bot (Issue Creator) on (2025-01-27 19:16:50 UTC): @caburj @davidmonnom ci/runbot failed on this forward-port PR

"
2813743712,pull_request,open,,[FW][FIX] l10n_*: load taxes for only root companies,"To reproduce:
1) install localization of any of the below modules. 
2) Make branch companies in that localization.
3) install one of the modules below.

we get this
error:https://github.com/odoo/odoo/blob/17.0/addons/account/models/account_tax.py#L200, `Tax names must be unique`, so only load taxes for root companies.

and for tax_group we get this error:

```
The operation cannot be completed:
- Create/update: a mandatory field is not set.
- Delete: another model requires the record being deleted. If possible, archive it instead.

Model: Tax Group (account.tax.group)
Field: Name (name)
```

Description of the issue/feature this PR addresses:

Current behavior before PR:

Desired behavior after PR is merged:




---
I confirm I have signed the CLA and read the PR guidelines at www.odoo.com/submit-pr

Forward-Port-Of: odoo/odoo#193013",fw-bot,2025-01-27 18:23:15+00:00,[],2025-02-05 14:32:51+00:00,,https://github.com/odoo/odoo/pull/195347,"[('RD', 'research & development, internal work'), ('forwardport', 'This PR was created by @fw-bot')]","[{'comment_id': 2616574472, 'issue_id': 2813743712, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195347.png)](https://mergebot.odoo.com/odoo/odoo/pull/195347)', 'created_at': datetime.datetime(2025, 1, 27, 18, 23, 18, tzinfo=datetime.timezone.utc)}, {'comment_id': 2616574507, 'issue_id': 2813743712, 'author': 'fw-bot', 'body': 'This PR targets saas-18.1 and is part of the forward-port chain. Further PRs will be created up to master.\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 27, 18, 23, 19, tzinfo=datetime.timezone.utc)}, {'comment_id': 2618315376, 'issue_id': 2813743712, 'author': 'asno-odoo', 'body': 'robodoo r-', 'created_at': datetime.datetime(2025, 1, 28, 8, 46, 54, tzinfo=datetime.timezone.utc)}, {'comment_id': 2618315466, 'issue_id': 2813743712, 'author': 'robodoo', 'body': 'Note that only this forward-port has been unapproved, sibling forward ports may have to be unapproved individually.', 'created_at': datetime.datetime(2025, 1, 28, 8, 46, 56, tzinfo=datetime.timezone.utc)}, {'comment_id': 2637016776, 'issue_id': 2813743712, 'author': 'fw-bot', 'body': '@asno-odoo @clbr-odoo this PR was modified / updated and has become a normal PR. It must be merged directly.', 'created_at': datetime.datetime(2025, 2, 5, 14, 32, 50, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-27 18:23:18 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195347.png)](https://mergebot.odoo.com/odoo/odoo/pull/195347)

fw-bot (Issue Creator) on (2025-01-27 18:23:19 UTC): This PR targets saas-18.1 and is part of the forward-port chain. Further PRs will be created up to master.

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

asno-odoo on (2025-01-28 08:46:54 UTC): robodoo r-

robodoo on (2025-01-28 08:46:56 UTC): Note that only this forward-port has been unapproved, sibling forward ports may have to be unapproved individually.

fw-bot (Issue Creator) on (2025-02-05 14:32:50 UTC): @asno-odoo @clbr-odoo this PR was modified / updated and has become a normal PR. It must be merged directly.

"
2813710801,pull_request,open,,[IMP] l10n_mx: new default data for ISR Witheld tax,"This commit adds new tax ISR 1.25 witheld RESICO for mexican localization

target: 17 -> master
task-4486643

Linked PR: [odoo/enterprise#78048](https://github.com/odoo/enterprise/pull/78048)

---
I confirm I have signed the CLA and read the PR guidelines at www.odoo.com/submit-pr
",leml-odoo,2025-01-27 18:07:15+00:00,[],2025-01-29 20:17:46+00:00,,https://github.com/odoo/odoo/pull/195346,"[('RD', 'research & development, internal work')]","[{'comment_id': 2616540694, 'issue_id': 2813710801, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195346.png)](https://mergebot.odoo.com/odoo/odoo/pull/195346)', 'created_at': datetime.datetime(2025, 1, 27, 18, 7, 18, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-27 18:07:18 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195346.png)](https://mergebot.odoo.com/odoo/odoo/pull/195346)

"
2813704982,pull_request,closed,,Hn sar,"Description of the issue/feature this PR addresses:

Current behavior before PR:

Desired behavior after PR is merged:




---
I confirm I have signed the CLA and read the PR guidelines at www.odoo.com/submit-pr
",guifarro,2025-01-27 18:04:36+00:00,[],2025-01-27 18:08:14+00:00,2025-01-27 18:08:06+00:00,https://github.com/odoo/odoo/pull/195345,[],"[{'comment_id': 2616534757, 'issue_id': 2813704982, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195345.png)](https://mergebot.odoo.com/odoo/odoo/pull/195345)', 'created_at': datetime.datetime(2025, 1, 27, 18, 4, 41, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-27 18:04:41 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195345.png)](https://mergebot.odoo.com/odoo/odoo/pull/195345)

"
2813701161,pull_request,closed,,"[IMP] point_of_sale, pos_restaurant: tour for testing synchronisation","Before we had no solution to test the synchronisation of the pos. In classic tours websocket are not supported. And we cannot launch two tours in parallel.

This commit add the possibility to load test assets in the PoS during our development. That's allow us to launch tour in loop in two different browser and test the synchronisation by creating orders, payment etc.

Tour assets are only added by adding `&tours=True` in the URL of the PoS interface.




",davidmonnom,2025-01-27 18:03:04+00:00,[],2025-01-31 23:10:09+00:00,2025-01-31 23:10:09+00:00,https://github.com/odoo/odoo/pull/195344,"[('RD', 'research & development, internal work')]","[{'comment_id': 2616531554, 'issue_id': 2813701161, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195344.png)](https://mergebot.odoo.com/odoo/odoo/pull/195344)', 'created_at': datetime.datetime(2025, 1, 27, 18, 3, 7, tzinfo=datetime.timezone.utc)}, {'comment_id': 2627705492, 'issue_id': 2813701161, 'author': 'caburj', 'body': 'robodoo r+', 'created_at': datetime.datetime(2025, 1, 31, 16, 8, 23, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-27 18:03:07 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195344.png)](https://mergebot.odoo.com/odoo/odoo/pull/195344)

caburj on (2025-01-31 16:08:23 UTC): robodoo r+

"
2813700912,pull_request,closed,,[FW][FIX] web: close form dialog with escape without bluring,"Have a form view opened in a dialog and edit the value of an input field (with onchange='1'), without bluring the input (i.e. such that the ""change"" event isn't fired yet). Press ""Escape"".

Before this commit, it crashed with error ""Component is destroyed"". The reason is that when the dialog closes itself, the ui service focusses the previously active element (an element that was behind the dialog), which in turn blurs the current active element (the input that we edited), which fires the ""change"" event. However, at that point, the form controller is already destroyed, hence the error.

In that flow, we don't want to perform the onchange as we're discarding the form. Actually, we don't want the field to listen to the ""change"" event anymore. We delay for a micro-tick the activation of the previously active element, to wait for owl to have called destroy on the whole component hierarchy, and thus for the ""change"" handler to be removed (in input_field_hook).

The issue could be reproduced in Studio:
 - click on Edit menu
 - open a menu to edit it
 - change its name but to not blur/click out
 - press Esc

This is a backport of odoo/odoo#195238, where we add a test (hoot). The faulty scenario could not be reproduced in the QUnit suite because we do not precisely enough mock events that occur when focusing/bluring elements.

opw-4490577

Description of the issue/feature this PR addresses:

Current behavior before PR:

Desired behavior after PR is merged:




---
I confirm I have signed the CLA and read the PR guidelines at www.odoo.com/submit-pr

Forward-Port-Of: odoo/odoo#195242",fw-bot,2025-01-27 18:02:57+00:00,[],2025-01-28 12:22:38+00:00,2025-01-28 12:22:38+00:00,https://github.com/odoo/odoo/pull/195343,"[('OE', 'the report is linked to a support ticket (opw-...)'), ('forwardport', 'This PR was created by @fw-bot'), ('conflict', 'There was an error while creating this forward-port PR')]","[{'comment_id': 2616531259, 'issue_id': 2813700912, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195343.png)](https://mergebot.odoo.com/odoo/odoo/pull/195343)', 'created_at': datetime.datetime(2025, 1, 27, 18, 2, 58, tzinfo=datetime.timezone.utc)}, {'comment_id': 2616531290, 'issue_id': 2813700912, 'author': 'fw-bot', 'body': '@aab-odoo @kebeclibre cherrypicking of pull request odoo/odoo#195242 failed.\n\nstdout:\n```\nAuto-merging addons/web/static/src/core/ui/ui_service.js\nCONFLICT (modify/delete): addons/web/static/tests/core/confirmation_dialog_tests.js deleted in 25da25ed773f9be453055e22488df4399868cf0e and modified in a08c01852482d2bd424b0a7aeb0df22fa7e2544d.  Version a08c01852482d2bd424b0a7aeb0df22fa7e2544d of addons/web/static/tests/core/confirmation_dialog_tests.js left in tree.\nCONFLICT (modify/delete): addons/web/static/tests/core/dialog_tests.js deleted in 25da25ed773f9be453055e22488df4399868cf0e and modified in a08c01852482d2bd424b0a7aeb0df22fa7e2544d.  Version a08c01852482d2bd424b0a7aeb0df22fa7e2544d of addons/web/static/tests/core/dialog_tests.js left in tree.\nAuto-merging addons/web/static/tests/legacy/core/hotkeys/hotkey_service_tests.js\n\n```\n\nEither perform the forward-port manually (and push to this branch, proceeding as usual) or close this PR (maybe?).\n\nIn the former case, you may want to edit this PR message as well.\n\n:warning: after resolving this conflict, you will need to merge it via @robodoo.\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 27, 18, 2, 59, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-27 18:02:58 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195343.png)](https://mergebot.odoo.com/odoo/odoo/pull/195343)

fw-bot (Issue Creator) on (2025-01-27 18:02:59 UTC): @aab-odoo @kebeclibre cherrypicking of pull request odoo/odoo#195242 failed.

stdout:
```
Auto-merging addons/web/static/src/core/ui/ui_service.js
CONFLICT (modify/delete): addons/web/static/tests/core/confirmation_dialog_tests.js deleted in 25da25ed773f9be453055e22488df4399868cf0e and modified in a08c01852482d2bd424b0a7aeb0df22fa7e2544d.  Version a08c01852482d2bd424b0a7aeb0df22fa7e2544d of addons/web/static/tests/core/confirmation_dialog_tests.js left in tree.
CONFLICT (modify/delete): addons/web/static/tests/core/dialog_tests.js deleted in 25da25ed773f9be453055e22488df4399868cf0e and modified in a08c01852482d2bd424b0a7aeb0df22fa7e2544d.  Version a08c01852482d2bd424b0a7aeb0df22fa7e2544d of addons/web/static/tests/core/dialog_tests.js left in tree.
Auto-merging addons/web/static/tests/legacy/core/hotkeys/hotkey_service_tests.js

```

Either perform the forward-port manually (and push to this branch, proceeding as usual) or close this PR (maybe?).

In the former case, you may want to edit this PR message as well.

:warning: after resolving this conflict, you will need to merge it via @robodoo.

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

"
2813699340,pull_request,closed,,"[FW][FIX] base,web: save update_related_model_id","Before this commit, the resource_ref field of a server action can disappear when the action is saved.

This is due to the following:
- the update_related_model_id is a computed stored READONLY field which leads to it not being included in the web_save rpc and is therefore not saved on the record

The fix consists to ensure the update_related_model_id is saved by making it readonly=False, which is usually what we want when we have a computed stored field.

Task: opw-4513803

Forward-Port-Of: odoo/odoo#195124",fw-bot,2025-01-27 18:02:09+00:00,[],2025-01-28 12:22:24+00:00,2025-01-28 12:22:24+00:00,https://github.com/odoo/odoo/pull/195342,"[('OE', 'the report is linked to a support ticket (opw-...)'), ('forwardport', 'This PR was created by @fw-bot')]","[{'comment_id': 2616529654, 'issue_id': 2813699340, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195342.png)](https://mergebot.odoo.com/odoo/odoo/pull/195342)', 'created_at': datetime.datetime(2025, 1, 27, 18, 2, 11, tzinfo=datetime.timezone.utc)}, {'comment_id': 2616529682, 'issue_id': 2813699340, 'author': 'fw-bot', 'body': 'This PR targets saas-17.2 and is part of the forward-port chain. Further PRs will be created up to master.\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 27, 18, 2, 12, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-27 18:02:11 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195342.png)](https://mergebot.odoo.com/odoo/odoo/pull/195342)

fw-bot (Issue Creator) on (2025-01-27 18:02:12 UTC): This PR targets saas-17.2 and is part of the forward-port chain. Further PRs will be created up to master.

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

"
2813698569,pull_request,open,,[FW][FIX] google_calendar: allow portal attendees,"Description of the issue/feature this PR addresses:
allow portal attendees to be synced by google calendar

Current behavior before PR:
There was an `AccessError` happening when:
- One portal user was invited to more than one event.
- At least one of them was going to be notified in the future.
- Google cancelled the first of those.

<details>

```
2024-12-11 10:19:02,144 31 INFO odoo odoo.addons.base.models.ir_cron: Manually starting job `Google Calendar: sincronización`.
2024-12-11 10:19:02,151 31 INFO odoo odoo.addons.google_calendar.models.res_users: Calendar Synchro - Starting synchronization for res.users(29,)
2024-12-11 10:19:02,539 31 INFO odoo odoo.addons.google_calendar.models.res_users: Calendar Synchro - Starting synchronization for res.users(15,)
2024-12-11 10:19:03,029 31 INFO odoo odoo.addons.google_calendar.models.res_users: Calendar Synchro - Starting synchronization for res.users(50,)
2024-12-11 10:19:03,414 31 INFO odoo odoo.addons.google_calendar.models.res_users: Calendar Synchro - Starting synchronization for res.users(40,)
2024-12-11 10:19:03,823 31 INFO odoo odoo.addons.google_calendar.models.res_users: Calendar Synchro - Starting synchronization for res.users(52,)
2024-12-11 10:19:04,219 31 INFO odoo odoo.addons.google_calendar.models.res_users: Calendar Synchro - Starting synchronization for res.users(10,)
2024-12-11 10:19:04,580 31 INFO odoo odoo.addons.google_calendar.models.res_users: Calendar Synchro - Starting synchronization for res.users(28,)
2024-12-11 10:19:04,936 31 INFO odoo odoo.addons.google_calendar.models.res_users: Calendar Synchro - Starting synchronization for res.users(2,)
2024-12-11 10:19:05,501 31 INFO odoo odoo.models.unlink: User #2 deleted mail.message records with IDs: [1055490, 1055487, 1055480, 1055478, 1055403]
2024-12-11 10:19:05,518 31 INFO odoo odoo.models.unlink: User #2 deleted calendar.event records with IDs: [2920874, 2920875, 2920880]
2024-12-11 10:19:05,520 31 INFO odoo odoo.models.unlink: User #2 deleted mail.followers records with IDs: [6232226, 6232227, 6232228, 6232229, 6232230, 6232231, 6232232, 6232233, 6232234, 6232235, 6232236, 6232237, 6232238, 6232239, 6232240, 6232241, 6232242, 6232243, 6232270, 6232271, 6232272, 6232283]
2024-12-11 10:19:05,544 31 INFO odoo odoo.addons.base.models.ir_model: Access Denied by ACLs for operation: read, uid: 65, model: calendar.alarm
2024-12-11 10:19:05,545 31 INFO odoo odoo.addons.base.models.ir_model: Access Denied by ACLs for operation: read, uid: 65, model: calendar.alarm
2024-12-11 10:19:05,545 31 ERROR odoo odoo.addons.google_calendar.models.res_users: [res.users(2,)] Calendar Synchro - Exception : No puede ingresar a los registros 'Event Alarm' (calendar.alarm)

Se permite esta operación para los grupos siguientes:
      - User types/Internal User

Póngase en contacto con su administrador para solicitar acceso si es necesario. !
Traceback (most recent call last):
  File ""/opt/odoo/custom/src/odoo/odoo/api.py"", line 997, in get
    cache_value = field_cache[record._ids[0]]
KeyError: 8

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File ""/opt/odoo/custom/src/odoo/odoo/fields.py"", line 1161, in __get__
    value = env.cache.get(record, self)
  File ""/opt/odoo/custom/src/odoo/odoo/api.py"", line 1004, in get
    raise CacheMiss(record, field)
odoo.exceptions.CacheMiss: 'calendar.alarm(8,).alarm_type'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File ""/opt/odoo/custom/src/odoo/odoo/fields.py"", line 1187, in __get__
    recs._fetch_field(self)
  File ""/opt/odoo/custom/src/odoo/odoo/models.py"", line 3210, in _fetch_field
    self._read(fnames)
  File ""/opt/odoo/custom/src/odoo/odoo/models.py"", line 3220, in _read
    self.check_access_rights('read')
  File ""/opt/odoo/custom/src/odoo/odoo/models.py"", line 3480, in check_access_rights
    return self.env['ir.model.access'].check(self._name, operation, raise_exception)
  File ""/opt/odoo/custom/src/odoo/odoo/addons/base/models/ir_model.py"", line 1924, in check
    raise AccessError(msg)
odoo.exceptions.AccessError: No puede ingresar a los registros 'Event Alarm' (calendar.alarm)

Se permite esta operación para los grupos siguientes:
      - User types/Internal User

Póngase en contacto con su administrador para solicitar acceso si es necesario.

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File ""/opt/odoo/auto/addons/google_calendar/models/res_users.py"", line 100, in _sync_all_google_calendar
    user.with_user(user).sudo()._sync_google_calendar(google)
  File ""/opt/odoo/auto/addons/google_calendar/models/res_users.py"", line 79, in _sync_google_calendar
    synced_events = self.env['calendar.event'].with_context(write_dates=events_write_dates)._sync_google2odoo(events - recurrences, default_reminders=default_reminders)
  File ""/opt/odoo/auto/addons/google_calendar/models/google_sync.py"", line 185, in _sync_google2odoo
    cancelled_odoo._cancel()
  File ""/opt/odoo/auto/addons/google_calendar/models/calendar.py"", line 326, in _cancel
    super(Meeting, my_cancelled_records)._cancel()
  File ""/opt/odoo/auto/addons/google_calendar/models/google_sync.py"", line 152, in _cancel
    self.unlink()
  File ""/opt/odoo/auto/addons/calendar/models/calendar_event.py"", line 721, in unlink
    self.env['calendar.alarm_manager']._notify_next_alarm(partner_ids)
  File ""/opt/odoo/auto/addons/calendar/models/calendar_alarm_manager.py"", line 242, in _notify_next_alarm
    notif = self.with_user(user).with_context(allowed_company_ids=user.company_ids.ids).get_next_notif()
  File ""/opt/odoo/auto/addons/calendar/models/calendar_alarm_manager.py"", line 210, in get_next_notif
    last_found = self.do_check_alarm_for_one_date(in_date_format, meeting, max_delta, time_limit, 'notification', after=partner.calendar_last_notif_ack)
  File ""/opt/odoo/auto/addons/calendar/models/calendar_alarm_manager.py"", line 130, in do_check_alarm_for_one_date
    if alarm.alarm_type != alarm_type:
  File ""/opt/odoo/custom/src/odoo/odoo/fields.py"", line 1189, in __get__
    record._fetch_field(self)
  File ""/opt/odoo/custom/src/odoo/odoo/models.py"", line 3210, in _fetch_field
    self._read(fnames)
  File ""/opt/odoo/custom/src/odoo/odoo/models.py"", line 3220, in _read
    self.check_access_rights('read')
  File ""/opt/odoo/custom/src/odoo/odoo/models.py"", line 3480, in check_access_rights
    return self.env['ir.model.access'].check(self._name, operation, raise_exception)
  File ""/opt/odoo/custom/src/odoo/odoo/addons/base/models/ir_model.py"", line 1924, in check
    raise AccessError(msg)
odoo.exceptions.AccessError: No puede ingresar a los registros 'Event Alarm' (calendar.alarm)

Se permite esta operación para los grupos siguientes:
      - User types/Internal User

Póngase en contacto con su administrador para solicitar acceso si es necesario.
2024-12-11 10:19:05,547 31 INFO odoo odoo.addons.base.models.ir_cron: Job `Google Calendar: sincronización` done.
```

</details>

Desired behavior after PR is merged:
Google Sync works.



---
I confirm I have signed the CLA and read the PR guidelines at www.odoo.com/submit-pr


@moduon MT-8345
cc @arj-odoo

Forward-Port-Of: odoo/odoo#190708
Forward-Port-Of: odoo/odoo#190356",fw-bot,2025-01-27 18:01:47+00:00,[],2025-01-27 19:00:23+00:00,,https://github.com/odoo/odoo/pull/195341,"[('RD', 'research & development, internal work'), ('forwardport', 'This PR was created by @fw-bot')]","[{'comment_id': 2616528793, 'issue_id': 2813698569, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195341.png)](https://mergebot.odoo.com/odoo/odoo/pull/195341)', 'created_at': datetime.datetime(2025, 1, 27, 18, 1, 49, tzinfo=datetime.timezone.utc)}, {'comment_id': 2616528822, 'issue_id': 2813698569, 'author': 'fw-bot', 'body': 'This PR targets saas-17.2 and is part of the forward-port chain. Further PRs will be created up to master.\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 27, 18, 1, 49, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-27 18:01:49 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195341.png)](https://mergebot.odoo.com/odoo/odoo/pull/195341)

fw-bot (Issue Creator) on (2025-01-27 18:01:49 UTC): This PR targets saas-17.2 and is part of the forward-port chain. Further PRs will be created up to master.

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

"
2813697599,pull_request,closed,,[FW][FIX] website_sale_loyalty: Decimal rounding comparison issue,"Steps
-----
1. Add an item to the cart (ensure the total price has decimals).
2. During checkout, apply a coupon (e.g., a 50% discount).
3. Attempt to validate the payment.


Issue
-----
The frontend user encounters the following error:
""Cannot process payment: applied reward was changed or has expired.""

Cause
-----
In some cases, the comparison between initial_amount and the new amount_total fails due to a small decimal difference (e.g., 0.00002).

Solution
--------
Use the float_compare function to handle precise rounding.

Description of the issue/feature this PR addresses:

Current behavior before PR:

Desired behavior after PR is merged:




---
I confirm I have signed the CLA and read the PR guidelines at www.odoo.com/submit-pr

Forward-Port-Of: odoo/odoo#195266",fw-bot,2025-01-27 18:01:23+00:00,[],2025-01-28 16:21:37+00:00,2025-01-28 16:21:37+00:00,https://github.com/odoo/odoo/pull/195340,"[('RD', 'research & development, internal work'), ('forwardport', 'This PR was created by @fw-bot'), ('conflict', 'There was an error while creating this forward-port PR')]","[{'comment_id': 2616527376, 'issue_id': 2813697599, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195340.png)](https://mergebot.odoo.com/odoo/odoo/pull/195340)', 'created_at': datetime.datetime(2025, 1, 27, 18, 1, 26, tzinfo=datetime.timezone.utc)}, {'comment_id': 2616527460, 'issue_id': 2813697599, 'author': 'fw-bot', 'body': '@mohamedlaminelalmi @Demesmaeker cherrypicking of pull request odoo/odoo#195266 failed.\n\nstdout:\n```\nAuto-merging addons/website_sale_loyalty/controllers/main.py\nCONFLICT (content): Merge conflict in addons/website_sale_loyalty/controllers/main.py\n\n```\n\nEither perform the forward-port manually (and push to this branch, proceeding as usual) or close this PR (maybe?).\n\nIn the former case, you may want to edit this PR message as well.\n\n:warning: after resolving this conflict, you will need to merge it via @robodoo.\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 27, 18, 1, 27, tzinfo=datetime.timezone.utc)}, {'comment_id': 2616897956, 'issue_id': 2813697599, 'author': 'mohamedlaminelalmi', 'body': ""@Demesmaeker What should i do in this case? Create another PR for saas-17.2 ? \r\nI can't resolve the conflicts directly on the source branch.\r\nThank u!"", 'created_at': datetime.datetime(2025, 1, 27, 21, 8, 51, tzinfo=datetime.timezone.utc)}, {'comment_id': 2618235637, 'issue_id': 2813697599, 'author': 'Demesmaeker', 'body': ""Hello @mohamedlaminelalmi :grinning: \r\nNo worry, I'll take over from here ^^\r\nHave a very nice day!"", 'created_at': datetime.datetime(2025, 1, 28, 8, 27, 38, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-27 18:01:26 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195340.png)](https://mergebot.odoo.com/odoo/odoo/pull/195340)

fw-bot (Issue Creator) on (2025-01-27 18:01:27 UTC): @mohamedlaminelalmi @Demesmaeker cherrypicking of pull request odoo/odoo#195266 failed.

stdout:
```
Auto-merging addons/website_sale_loyalty/controllers/main.py
CONFLICT (content): Merge conflict in addons/website_sale_loyalty/controllers/main.py

```

Either perform the forward-port manually (and push to this branch, proceeding as usual) or close this PR (maybe?).

In the former case, you may want to edit this PR message as well.

:warning: after resolving this conflict, you will need to merge it via @robodoo.

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

mohamedlaminelalmi on (2025-01-27 21:08:51 UTC): @Demesmaeker What should i do in this case? Create another PR for saas-17.2 ? 
I can't resolve the conflicts directly on the source branch.
Thank u!

Demesmaeker on (2025-01-28 08:27:38 UTC): Hello @mohamedlaminelalmi :grinning: 
No worry, I'll take over from here ^^
Have a very nice day!

"
2813696531,pull_request,closed,,"[FW][FIX] {purchase_,}stock: merge multi lingual POL created by the same RR","### Steps to reproduce:

- In the settings: - Add a second language say FR + Change the language - Enable Multi-step routes
- Put your warehouse in receipt in 2-steps.
- Create a storable product with a different FR name and a set vendor
- Click on the ""Reordering Rules"" smart button of the product form
- Create a reordering rule using the buy route for your product
- Add a quantity to reorder > ""Order Once""
- Open the associated purchase order in a second window
- Repeat the operation of adding a quantity to reorder > ""Order Once"" ** A new POL is created instead of being merged to the first one**

### Cause of the issue:

Clicking on Order once will trigger a call of the `_run_pull`. At the end of this call, a stock move will be created and confirmed but the user of the env will be replaced by a SUPERUSER_ID for access rights purposes:
https://github.com/odoo/odoo/blob/39d7207aae187d055f19c7bce41df8110c045185/addons/stock/models/stock_rule.py#L283-L286 However, while the move data's were correctly generated using the language of the user that clicked on order once:
https://github.com/odoo/odoo/blob/39d7207aae187d055f19c7bce41df8110c045185/addons/stock/models/stock_rule.py#L278 https://github.com/odoo/odoo/blob/39d7207aae187d055f19c7bce41df8110c045185/addons/stock/models/stock_rule.py#L315 The language that will be used during the action confirm to compare with the picking description in the procurement values will be the language of the new user that is the SUPERUSER_ID in en_US: https://github.com/odoo/odoo/blob/39d7207aae187d055f19c7bce41df8110c045185/addons/stock/models/stock_move.py#L1451-L1456 This will lead to a set (and incorrect) `product_description_variants` on that procurement. However, this value will be used to determine in the `_run_buy` if an existing POL could absorb the newly created need: https://github.com/odoo/odoo/blob/39d7207aae187d055f19c7bce41df8110c045185/addons/purchase_stock/models/stock_rule.py#L131-L135 https://github.com/odoo/odoo/blob/39d7207aae187d055f19c7bce41df8110c045185/addons/purchase_stock/models/purchase_order_line.py#L341-L350 Since already existing POL will not be found to match the incorrect `product_description_variants` a new one will be created on that same PO.

### Fix:

We do not rely on the language of the user in case it is the SUPERUSER_ID.

opw-4397376
---
I confirm I have signed the CLA and read the PR guidelines at www.odoo.com/submit-pr

Forward-Port-Of: odoo/odoo#192751",fw-bot,2025-01-27 18:00:59+00:00,[],2025-02-05 13:42:14+00:00,2025-02-05 13:42:14+00:00,https://github.com/odoo/odoo/pull/195339,"[('OE', 'the report is linked to a support ticket (opw-...)'), ('forwardport', 'This PR was created by @fw-bot'), ('conflict', 'There was an error while creating this forward-port PR')]","[{'comment_id': 2616526361, 'issue_id': 2813696531, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195339.png)](https://mergebot.odoo.com/odoo/odoo/pull/195339)', 'created_at': datetime.datetime(2025, 1, 27, 18, 1, 3, tzinfo=datetime.timezone.utc)}, {'comment_id': 2616526386, 'issue_id': 2813696531, 'author': 'fw-bot', 'body': '@lase-odoo @ticodoo cherrypicking of pull request odoo/odoo#192751 failed.\n\nstdout:\n```\nAuto-merging addons/purchase_stock/tests/test_reordering_rule.py\nAuto-merging addons/stock/models/stock_move.py\nCONFLICT (content): Merge conflict in addons/stock/models/stock_move.py\n\n```\n\nEither perform the forward-port manually (and push to this branch, proceeding as usual) or close this PR (maybe?).\n\nIn the former case, you may want to edit this PR message as well.\n\n:warning: after resolving this conflict, you will need to merge it via @robodoo.\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 27, 18, 1, 4, tzinfo=datetime.timezone.utc)}, {'comment_id': 2626136887, 'issue_id': 2813696531, 'author': 'fw-bot', 'body': '@lase-odoo @ticodoo this forward port of odoo/odoo#192751 is awaiting action (not merged or closed).', 'created_at': datetime.datetime(2025, 1, 31, 2, 1, 57, tzinfo=datetime.timezone.utc)}, {'comment_id': 2628685277, 'issue_id': 2813696531, 'author': 'fw-bot', 'body': '@lase-odoo @ticodoo this forward port of odoo/odoo#192751 is awaiting action (not merged or closed).', 'created_at': datetime.datetime(2025, 2, 1, 2, 1, 32, tzinfo=datetime.timezone.utc)}, {'comment_id': 2629201879, 'issue_id': 2813696531, 'author': 'fw-bot', 'body': '@lase-odoo @ticodoo this forward port of odoo/odoo#192751 is awaiting action (not merged or closed).', 'created_at': datetime.datetime(2025, 2, 2, 2, 1, 45, tzinfo=datetime.timezone.utc)}, {'comment_id': 2629730654, 'issue_id': 2813696531, 'author': 'fw-bot', 'body': '@lase-odoo @ticodoo this forward port of odoo/odoo#192751 is awaiting action (not merged or closed).', 'created_at': datetime.datetime(2025, 2, 3, 2, 2, 51, tzinfo=datetime.timezone.utc)}, {'comment_id': 2633766293, 'issue_id': 2813696531, 'author': 'lase-odoo', 'body': 'robodoo r+', 'created_at': datetime.datetime(2025, 2, 4, 12, 30, 22, tzinfo=datetime.timezone.utc)}, {'comment_id': 2634008912, 'issue_id': 2813696531, 'author': 'robodoo', 'body': '@lase-odoo @ticodoo staging failed: ci/runbot on d5a9dc658d2317c5cbb91a10fb43eb4210e59f47 (view more at https://runbot.odoo.com/runbot/build/74469935)', 'created_at': datetime.datetime(2025, 2, 4, 13, 43, 40, tzinfo=datetime.timezone.utc)}, {'comment_id': 2636049951, 'issue_id': 2813696531, 'author': 'lase-odoo', 'body': 'robodoo retry', 'created_at': datetime.datetime(2025, 2, 5, 8, 25, 22, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-27 18:01:03 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195339.png)](https://mergebot.odoo.com/odoo/odoo/pull/195339)

fw-bot (Issue Creator) on (2025-01-27 18:01:04 UTC): @lase-odoo @ticodoo cherrypicking of pull request odoo/odoo#192751 failed.

stdout:
```
Auto-merging addons/purchase_stock/tests/test_reordering_rule.py
Auto-merging addons/stock/models/stock_move.py
CONFLICT (content): Merge conflict in addons/stock/models/stock_move.py

```

Either perform the forward-port manually (and push to this branch, proceeding as usual) or close this PR (maybe?).

In the former case, you may want to edit this PR message as well.

:warning: after resolving this conflict, you will need to merge it via @robodoo.

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

fw-bot (Issue Creator) on (2025-01-31 02:01:57 UTC): @lase-odoo @ticodoo this forward port of odoo/odoo#192751 is awaiting action (not merged or closed).

fw-bot (Issue Creator) on (2025-02-01 02:01:32 UTC): @lase-odoo @ticodoo this forward port of odoo/odoo#192751 is awaiting action (not merged or closed).

fw-bot (Issue Creator) on (2025-02-02 02:01:45 UTC): @lase-odoo @ticodoo this forward port of odoo/odoo#192751 is awaiting action (not merged or closed).

fw-bot (Issue Creator) on (2025-02-03 02:02:51 UTC): @lase-odoo @ticodoo this forward port of odoo/odoo#192751 is awaiting action (not merged or closed).

lase-odoo on (2025-02-04 12:30:22 UTC): robodoo r+

robodoo on (2025-02-04 13:43:40 UTC): @lase-odoo @ticodoo staging failed: ci/runbot on d5a9dc658d2317c5cbb91a10fb43eb4210e59f47 (view more at https://runbot.odoo.com/runbot/build/74469935)

lase-odoo on (2025-02-05 08:25:22 UTC): robodoo retry

"
2813691179,pull_request,closed,,[FW][FIX] google_calendar: avoid sync failure on rescheduled all-day events,"Before this commit, syncing a Google Calendar that includes an all-day recurrent event—one of which is rescheduled—would fail entirely. This happened because `full_recurring_event_id` only handled events with a specific date-time format (`T...Z`), causing the regex to break for date-only IDs.

opw-4443780

---
I confirm I have signed the CLA and read the PR guidelines at www.odoo.com/submit-pr

Forward-Port-Of: odoo/odoo#194176",fw-bot,2025-01-27 17:58:19+00:00,[],2025-01-28 12:08:49+00:00,2025-01-28 12:08:49+00:00,https://github.com/odoo/odoo/pull/195338,"[('OE', 'the report is linked to a support ticket (opw-...)'), ('forwardport', 'This PR was created by @fw-bot')]","[{'comment_id': 2616520660, 'issue_id': 2813691179, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195338.png)](https://mergebot.odoo.com/odoo/odoo/pull/195338)', 'created_at': datetime.datetime(2025, 1, 27, 17, 58, 20, tzinfo=datetime.timezone.utc)}, {'comment_id': 2616520684, 'issue_id': 2813691179, 'author': 'fw-bot', 'body': 'This PR targets saas-18.1 and is part of the forward-port chain. Further PRs will be created up to master.\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 27, 17, 58, 21, tzinfo=datetime.timezone.utc)}, {'comment_id': 2616621052, 'issue_id': 2813691179, 'author': 'fw-bot', 'body': '@pedrambiria @arj-odoo ci/runbot failed on this forward-port PR', 'created_at': datetime.datetime(2025, 1, 27, 18, 46, 15, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-27 17:58:20 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195338.png)](https://mergebot.odoo.com/odoo/odoo/pull/195338)

fw-bot (Issue Creator) on (2025-01-27 17:58:21 UTC): This PR targets saas-18.1 and is part of the forward-port chain. Further PRs will be created up to master.

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

fw-bot (Issue Creator) on (2025-01-27 18:46:15 UTC): @pedrambiria @arj-odoo ci/runbot failed on this forward-port PR

"
2813674248,pull_request,closed,,[FIX] website_sale_loyalty: avoid TaxCloud interaction on validation,"Versions
--------
- 16.0
- 17.0

TaxCloud integration was removed in saas-17.2+

Issue
-----
Commit a565cc14a63dc added a call to `_update_programs_and_rewards` to validate applied rewards when initiating a payment transaction.

One problem is that this removes tax amounts applied by TaxCloud. A call `validate_taxes_on_sales_order` was added to re-apply them, but these may still differ from before the call, leading to a `ValidationError` when the applied rewards are all valid.

Solution
--------
Validate rewards by simply checking their date ranges. This way, TaxCloud values won't get affected.

opw-4304241",lvsz,2025-01-27 17:50:08+00:00,[],2025-02-06 08:57:01+00:00,2025-02-06 08:57:01+00:00,https://github.com/odoo/odoo/pull/195337,"[('OE', 'the report is linked to a support ticket (opw-...)')]","[{'comment_id': 2616503130, 'issue_id': 2813674248, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195337.png)](https://mergebot.odoo.com/odoo/odoo/pull/195337)', 'created_at': datetime.datetime(2025, 1, 27, 17, 50, 11, tzinfo=datetime.timezone.utc)}, {'comment_id': 2616503180, 'issue_id': 2813674248, 'author': 'lvsz', 'body': 'robodoo up to 17.0', 'created_at': datetime.datetime(2025, 1, 27, 17, 50, 12, tzinfo=datetime.timezone.utc)}, {'comment_id': 2616503257, 'issue_id': 2813674248, 'author': 'robodoo', 'body': ""Forward-porting to '17.0'."", 'created_at': datetime.datetime(2025, 1, 27, 17, 50, 15, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-27 17:50:11 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195337.png)](https://mergebot.odoo.com/odoo/odoo/pull/195337)

lvsz (Issue Creator) on (2025-01-27 17:50:12 UTC): robodoo up to 17.0

robodoo on (2025-01-27 17:50:15 UTC): Forward-porting to '17.0'.

"
2813669909,pull_request,closed,,[FW][FIX] account: draft badge in blue,"In the account move view, since this commit:
https://github.com/odoo/odoo/commit/9b47dd1158b2819c74431f30ff137cbb13ce0d4f We made a new column that is status_in_payment but with that we removed the decoration for draft moves

task-4497735




---
I confirm I have signed the CLA and read the PR guidelines at www.odoo.com/submit-pr

Forward-Port-Of: odoo/odoo#194380",fw-bot,2025-01-27 17:48:11+00:00,[],2025-01-28 11:10:25+00:00,2025-01-28 11:10:25+00:00,https://github.com/odoo/odoo/pull/195336,"[('RD', 'research & development, internal work'), ('forwardport', 'This PR was created by @fw-bot'), ('18.2', None)]","[{'comment_id': 2616499046, 'issue_id': 2813669909, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195336.png)](https://mergebot.odoo.com/odoo/odoo/pull/195336)', 'created_at': datetime.datetime(2025, 1, 27, 17, 48, 13, tzinfo=datetime.timezone.utc)}, {'comment_id': 2616499078, 'issue_id': 2813669909, 'author': 'fw-bot', 'body': '@malb-odoo @rugo-odoo this PR targets master and is the last of the forward-port chain containing:\n* odoo/odoo#195319\n\nTo merge the full chain, use\n> @robodoo r+\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 27, 17, 48, 13, tzinfo=datetime.timezone.utc)}, {'comment_id': 2618101163, 'issue_id': 2813669909, 'author': 'malb-odoo', 'body': '@robodoo r+', 'created_at': datetime.datetime(2025, 1, 28, 7, 21, 25, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-27 17:48:13 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195336.png)](https://mergebot.odoo.com/odoo/odoo/pull/195336)

fw-bot (Issue Creator) on (2025-01-27 17:48:13 UTC): @malb-odoo @rugo-odoo this PR targets master and is the last of the forward-port chain containing:
* odoo/odoo#195319

To merge the full chain, use

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

malb-odoo on (2025-01-28 07:21:25 UTC): @robodoo r+

"
2813664635,pull_request,closed,,[FW][FIX] repair: show recycle lines in repair order report,"Description of the issue/feature this PR addresses:
The ""Recycle"" repair type wasn't integrated properly into the report template
Current behavior before PR:
Repair lines with ""Recycle"" type create empty lines on the repair order report
![grafik](https://github.com/user-attachments/assets/20ffc739-d14d-4f3b-adfe-73b36fa42938)
![grafik](https://github.com/user-attachments/assets/157bd99f-e1ff-4c3b-a89d-7b67284e336b)
Desired behavior after PR is merged:
Repair lines with ""Recycle"" type have their product description printed on the report


---
I confirm I have signed the CLA and read the PR guidelines at www.odoo.com/submit-pr

Forward-Port-Of: odoo/odoo#193502",fw-bot,2025-01-27 17:45:36+00:00,[],2025-01-28 13:57:57+00:00,2025-01-28 13:57:57+00:00,https://github.com/odoo/odoo/pull/195335,"[('RD', 'research & development, internal work'), ('forwardport', 'This PR was created by @fw-bot')]","[{'comment_id': 2616493595, 'issue_id': 2813664635, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195335.png)](https://mergebot.odoo.com/odoo/odoo/pull/195335)', 'created_at': datetime.datetime(2025, 1, 27, 17, 45, 38, tzinfo=datetime.timezone.utc)}, {'comment_id': 2616493617, 'issue_id': 2813664635, 'author': 'fw-bot', 'body': 'This PR targets saas-17.4 and is part of the forward-port chain. Further PRs will be created up to master.\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 27, 17, 45, 38, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-27 17:45:38 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195335.png)](https://mergebot.odoo.com/odoo/odoo/pull/195335)

fw-bot (Issue Creator) on (2025-01-27 17:45:38 UTC): This PR targets saas-17.4 and is part of the forward-port chain. Further PRs will be created up to master.

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

"
2813657129,pull_request,closed,,[FW][FIX] mail: properly display table separators,"**Problem**:
When adding a table in the chatter and logging/sending, the table is not displayed properly. This issue is same as:
https://github.com/odoo/odoo/commit/99c5a73b2ffc9bef6128059c51574c70cdfc6767. Grouped styles like `border`, `padding`, and `border-radius` do not propagate their values to substyles when variables are used in the value.

**Solution**:
Apply same fix in `convert_inline` of `mail`

**Steps to Reproduce**:
1. Open the full composer.
2. Add a table.
3. Log a note.
4. Observe that `td` borders are not visible.

opw-4483477

---
I confirm I have signed the CLA and read the PR guidelines at www.odoo.com/submit-pr

Forward-Port-Of: odoo/odoo#194528",fw-bot,2025-01-27 17:42:14+00:00,[],2025-01-28 11:10:30+00:00,2025-01-28 11:10:30+00:00,https://github.com/odoo/odoo/pull/195334,"[('OE', 'the report is linked to a support ticket (opw-...)'), ('forwardport', 'This PR was created by @fw-bot'), ('18.2', None)]","[{'comment_id': 2616485908, 'issue_id': 2813657129, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195334.png)](https://mergebot.odoo.com/odoo/odoo/pull/195334)', 'created_at': datetime.datetime(2025, 1, 27, 17, 42, 16, tzinfo=datetime.timezone.utc)}, {'comment_id': 2616485931, 'issue_id': 2813657129, 'author': 'fw-bot', 'body': '@walidsahli @abd-msyukyu-odoo this PR targets master and is the last of the forward-port chain containing:\n* odoo/odoo#195320\n\nTo merge the full chain, use\n> @robodoo r+\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 27, 17, 42, 16, tzinfo=datetime.timezone.utc)}, {'comment_id': 2616580213, 'issue_id': 2813657129, 'author': 'fw-bot', 'body': '@walidsahli @abd-msyukyu-odoo ci/runbot failed on this forward-port PR', 'created_at': datetime.datetime(2025, 1, 27, 18, 26, 6, tzinfo=datetime.timezone.utc)}, {'comment_id': 2618041503, 'issue_id': 2813657129, 'author': 'walidsahli', 'body': '@robodoo r+', 'created_at': datetime.datetime(2025, 1, 28, 6, 33, 5, tzinfo=datetime.timezone.utc)}, {'comment_id': 2618041533, 'issue_id': 2813657129, 'author': 'robodoo', 'body': '@walidsahli you may want to rebuild or fix this PR as it has failed CI.', 'created_at': datetime.datetime(2025, 1, 28, 6, 33, 7, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-27 17:42:16 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195334.png)](https://mergebot.odoo.com/odoo/odoo/pull/195334)

fw-bot (Issue Creator) on (2025-01-27 17:42:16 UTC): @walidsahli @abd-msyukyu-odoo this PR targets master and is the last of the forward-port chain containing:
* odoo/odoo#195320

To merge the full chain, use

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

fw-bot (Issue Creator) on (2025-01-27 18:26:06 UTC): @walidsahli @abd-msyukyu-odoo ci/runbot failed on this forward-port PR

walidsahli on (2025-01-28 06:33:05 UTC): @robodoo r+

robodoo on (2025-01-28 06:33:07 UTC): @walidsahli you may want to rebuild or fix this PR as it has failed CI.

"
2813652985,pull_request,closed,,[FW][IMP] spreadsheet_account: Add formula ODOO.RESIDUAL and ODOO.PARTNER.BALANCE,"Problem
---------
There is currently no formula to get the residual amount of accounts nor to get the balance of a partner in a given period of time in spreadsheets.

Objective
---------
Add the formula ODOO.RESIDUAL and ODOO.PARTNER.BALANCE that do just that

ODOO.RESIDUAL should take the following parameters:
- account_codes (mandatory)(can be more than one separate by ,): could be optional, in that case it could set the domain to all receivables/payables accounts
- due_date_range or expected_date (optional): date range referred to due dates (not AML date)
- offset (optional): adding the possibility of the offset to be not only “Year” but also, a specific date or other periods like Month, Quarter.
- company_id (optional)
- include_unposted (optional) (default: false)

ODOO.PARTNER.BALANCE should take the following paramters:
- partner_ids (mandatory) (can be more than one separate by ,)
- accound_codes (optional) (the prefix of the account(s))
- date_range (optional) (21/12/2022,Q1 2022, 12/2022, 2022)
- offset (optional) (default: 0)
- company_id (optional)
- include_unposted (optional) (default: false)

Solution
---------
1. Define the spreadsheet function with the correct parameters in `accounting_function.js`
2. Hook it to the data source so that it can perform server calls
3. Craft that server python function to returns the list a residual amounts for the given list of parameters.
4. Adds some tests.

Task-3679808

---
I confirm I have signed the CLA and read the PR guidelines at www.odoo.com/submit-pr

Forward-Port-Of: odoo/odoo#194945
Forward-Port-Of: odoo/odoo#194567",fw-bot,2025-01-27 17:40:23+00:00,[],2025-01-28 15:58:23+00:00,2025-01-28 15:58:23+00:00,https://github.com/odoo/odoo/pull/195333,"[('RD', 'research & development, internal work'), ('forwardport', 'This PR was created by @fw-bot'), ('conflict', 'There was an error while creating this forward-port PR'), ('18.2', None)]","[{'comment_id': 2616481732, 'issue_id': 2813652985, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195333.png)](https://mergebot.odoo.com/odoo/odoo/pull/195333)', 'created_at': datetime.datetime(2025, 1, 27, 17, 40, 25, tzinfo=datetime.timezone.utc)}, {'comment_id': 2616481752, 'issue_id': 2813652985, 'author': 'fw-bot', 'body': '@aboo-odoo @william-andre cherrypicking of pull request odoo/odoo#194567 failed.\n\nstdout:\n```\nAuto-merging addons/spreadsheet_account/i18n/spreadsheet_account.pot\nCONFLICT (content): Merge conflict in addons/spreadsheet_account/i18n/spreadsheet_account.pot\n\n```\n\nEither perform the forward-port manually (and push to this branch, proceeding as usual) or close this PR (maybe?).\n\nIn the former case, you may want to edit this PR message as well.\n\n:warning: after resolving this conflict, you will need to merge it via @robodoo.\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 27, 17, 40, 25, tzinfo=datetime.timezone.utc)}, {'comment_id': 2617540451, 'issue_id': 2813652985, 'author': 'fw-bot', 'body': '@aboo-odoo @william-andre this forward port of odoo/odoo#194567 is awaiting action (not merged or closed).', 'created_at': datetime.datetime(2025, 1, 28, 2, 1, 12, tzinfo=datetime.timezone.utc)}, {'comment_id': 2618562073, 'issue_id': 2813652985, 'author': 'aboo-odoo', 'body': '@robodoo r+', 'created_at': datetime.datetime(2025, 1, 28, 10, 13, 32, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-27 17:40:25 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195333.png)](https://mergebot.odoo.com/odoo/odoo/pull/195333)

fw-bot (Issue Creator) on (2025-01-27 17:40:25 UTC): @aboo-odoo @william-andre cherrypicking of pull request odoo/odoo#194567 failed.

stdout:
```
Auto-merging addons/spreadsheet_account/i18n/spreadsheet_account.pot
CONFLICT (content): Merge conflict in addons/spreadsheet_account/i18n/spreadsheet_account.pot

```

Either perform the forward-port manually (and push to this branch, proceeding as usual) or close this PR (maybe?).

In the former case, you may want to edit this PR message as well.

:warning: after resolving this conflict, you will need to merge it via @robodoo.

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

fw-bot (Issue Creator) on (2025-01-28 02:01:12 UTC): @aboo-odoo @william-andre this forward port of odoo/odoo#194567 is awaiting action (not merged or closed).

aboo-odoo on (2025-01-28 10:13:32 UTC): @robodoo r+

"
2813651218,pull_request,open,,[FW][FIX] account: cash basis use in invoicing,"Before this commit, due to the group place on the setting, the cash basis option was not displayed to user with only invoicing. Now, we want the user (with only invoicing) to be able to see it but not modifying the account on the settings.

It will allow the users to choose the tax exigibility on the taxes, which for french user is important since depending on that the sentence ""Option to pay tax on debits"" will be displayed on the invoice.

task: 4342603




---
I confirm I have signed the CLA and read the PR guidelines at www.odoo.com/submit-pr

Forward-Port-Of: odoo/odoo#190995",fw-bot,2025-01-27 17:39:31+00:00,[],2025-02-03 07:39:51+00:00,,https://github.com/odoo/odoo/pull/195332,"[('RD', 'research & development, internal work'), ('forwardport', 'This PR was created by @fw-bot'), ('conflict', 'There was an error while creating this forward-port PR')]","[{'comment_id': 2616479918, 'issue_id': 2813651218, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195332.png)](https://mergebot.odoo.com/odoo/odoo/pull/195332)', 'created_at': datetime.datetime(2025, 1, 27, 17, 39, 32, tzinfo=datetime.timezone.utc)}, {'comment_id': 2616479948, 'issue_id': 2813651218, 'author': 'fw-bot', 'body': '@malb-odoo @rugo-odoo cherrypicking of pull request odoo/odoo#190995 failed.\n\nstdout:\n```\nAuto-merging addons/account/views/account_tax_views.xml\nCONFLICT (content): Merge conflict in addons/account/views/account_tax_views.xml\nAuto-merging addons/account/views/res_config_settings_views.xml\nCONFLICT (content): Merge conflict in addons/account/views/res_config_settings_views.xml\n\n```\n\nEither perform the forward-port manually (and push to this branch, proceeding as usual) or close this PR (maybe?).\n\nIn the former case, you may want to edit this PR message as well.\n\n:warning: after resolving this conflict, you will need to merge it via @robodoo.\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 27, 17, 39, 33, tzinfo=datetime.timezone.utc)}, {'comment_id': 2626137334, 'issue_id': 2813651218, 'author': 'fw-bot', 'body': '@malb-odoo @rugo-odoo this forward port of odoo/odoo#190995 is awaiting action (not merged or closed).', 'created_at': datetime.datetime(2025, 1, 31, 2, 2, 7, tzinfo=datetime.timezone.utc)}, {'comment_id': 2628685420, 'issue_id': 2813651218, 'author': 'fw-bot', 'body': '@malb-odoo @rugo-odoo this forward port of odoo/odoo#190995 is awaiting action (not merged or closed).', 'created_at': datetime.datetime(2025, 2, 1, 2, 1, 39, tzinfo=datetime.timezone.utc)}, {'comment_id': 2629201958, 'issue_id': 2813651218, 'author': 'fw-bot', 'body': '@malb-odoo @rugo-odoo this forward port of odoo/odoo#190995 is awaiting action (not merged or closed).', 'created_at': datetime.datetime(2025, 2, 2, 2, 1, 53, tzinfo=datetime.timezone.utc)}, {'comment_id': 2629730754, 'issue_id': 2813651218, 'author': 'fw-bot', 'body': '@malb-odoo @rugo-odoo this forward port of odoo/odoo#190995 is awaiting action (not merged or closed).', 'created_at': datetime.datetime(2025, 2, 3, 2, 2, 57, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-27 17:39:32 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195332.png)](https://mergebot.odoo.com/odoo/odoo/pull/195332)

fw-bot (Issue Creator) on (2025-01-27 17:39:33 UTC): @malb-odoo @rugo-odoo cherrypicking of pull request odoo/odoo#190995 failed.

stdout:
```
Auto-merging addons/account/views/account_tax_views.xml
CONFLICT (content): Merge conflict in addons/account/views/account_tax_views.xml
Auto-merging addons/account/views/res_config_settings_views.xml
CONFLICT (content): Merge conflict in addons/account/views/res_config_settings_views.xml

```

Either perform the forward-port manually (and push to this branch, proceeding as usual) or close this PR (maybe?).

In the former case, you may want to edit this PR message as well.

:warning: after resolving this conflict, you will need to merge it via @robodoo.

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

fw-bot (Issue Creator) on (2025-01-31 02:02:07 UTC): @malb-odoo @rugo-odoo this forward port of odoo/odoo#190995 is awaiting action (not merged or closed).

fw-bot (Issue Creator) on (2025-02-01 02:01:39 UTC): @malb-odoo @rugo-odoo this forward port of odoo/odoo#190995 is awaiting action (not merged or closed).

fw-bot (Issue Creator) on (2025-02-02 02:01:53 UTC): @malb-odoo @rugo-odoo this forward port of odoo/odoo#190995 is awaiting action (not merged or closed).

fw-bot (Issue Creator) on (2025-02-03 02:02:57 UTC): @malb-odoo @rugo-odoo this forward port of odoo/odoo#190995 is awaiting action (not merged or closed).

"
2813650502,pull_request,closed,,[FW][FIX] website: fix required fields conditionally hidden,"Steps to Reproduce:

- Go to the website editor.
- Add a form to the page.
- Select the form and change the default action from ""Send an email"" to ""Create an opportunity.""
- Select the ""Subject"" field.
- Set the visibility condition of the ""Subject"" field to ""visible only if the phone number is set.""
- Since this is a mandatory field, define a default value for the ""Subject"" field.
- Save the changes.
- Fill out the form but leave the phone number field empty so that the ""Subject"" field does not appear.
- Attempt to submit the form.
- Bug: the form is not sent and there is an error message.

The error occurs preventing the record from being created because all required fields are not present, we should use the default value as it has been provided.

This commit prevents adding the ""disabled"" attribute to inputs that are required for models.

opw-4447039

Forward-Port-Of: odoo/odoo#194902",fw-bot,2025-01-27 17:39:10+00:00,[],2025-01-29 16:43:37+00:00,2025-01-29 16:43:37+00:00,https://github.com/odoo/odoo/pull/195331,"[('OE', 'the report is linked to a support ticket (opw-...)'), ('forwardport', 'This PR was created by @fw-bot')]","[{'comment_id': 2616479031, 'issue_id': 2813650502, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195331.png)](https://mergebot.odoo.com/odoo/odoo/pull/195331)', 'created_at': datetime.datetime(2025, 1, 27, 17, 39, 11, tzinfo=datetime.timezone.utc)}, {'comment_id': 2616479055, 'issue_id': 2813650502, 'author': 'fw-bot', 'body': 'This PR targets 17.0 and is part of the forward-port chain. Further PRs will be created up to master.\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 27, 17, 39, 12, tzinfo=datetime.timezone.utc)}, {'comment_id': 2616607599, 'issue_id': 2813650502, 'author': 'fw-bot', 'body': '@bvr-odoo @SergeBayet ci/runbot failed on this forward-port PR', 'created_at': datetime.datetime(2025, 1, 27, 18, 39, 32, tzinfo=datetime.timezone.utc)}, {'comment_id': 2618315482, 'issue_id': 2813650502, 'author': 'SergeBayet', 'body': '@bvr-odoo Here it comes :) good luck with the FW-ports... :crossed_fingers:', 'created_at': datetime.datetime(2025, 1, 28, 8, 46, 56, tzinfo=datetime.timezone.utc)}, {'comment_id': 2618562337, 'issue_id': 2813650502, 'author': 'fw-bot', 'body': '@bvr-odoo @SergeBayet this PR was modified / updated and has become a normal PR. It must be merged directly.', 'created_at': datetime.datetime(2025, 1, 28, 10, 13, 40, tzinfo=datetime.timezone.utc)}, {'comment_id': 2618566729, 'issue_id': 2813650502, 'author': 'bvr-odoo', 'body': '> @bvr-odoo Here it comes :) good luck with the FW-ports... 🤞\r\n\r\nFixed, I just had to change the name of the field added in the test, which was ""Field D"" and already existed in version 17.0.', 'created_at': datetime.datetime(2025, 1, 28, 10, 15, 25, tzinfo=datetime.timezone.utc)}, {'comment_id': 2621838707, 'issue_id': 2813650502, 'author': 'SergeBayet', 'body': '@robodoo r+', 'created_at': datetime.datetime(2025, 1, 29, 14, 39, 7, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-27 17:39:11 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195331.png)](https://mergebot.odoo.com/odoo/odoo/pull/195331)

fw-bot (Issue Creator) on (2025-01-27 17:39:12 UTC): This PR targets 17.0 and is part of the forward-port chain. Further PRs will be created up to master.

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

fw-bot (Issue Creator) on (2025-01-27 18:39:32 UTC): @bvr-odoo @SergeBayet ci/runbot failed on this forward-port PR

SergeBayet on (2025-01-28 08:46:56 UTC): @bvr-odoo Here it comes :) good luck with the FW-ports... :crossed_fingers:

fw-bot (Issue Creator) on (2025-01-28 10:13:40 UTC): @bvr-odoo @SergeBayet this PR was modified / updated and has become a normal PR. It must be merged directly.

bvr-odoo on (2025-01-28 10:15:25 UTC): Fixed, I just had to change the name of the field added in the test, which was ""Field D"" and already existed in version 17.0.

SergeBayet on (2025-01-29 14:39:07 UTC): @robodoo r+

"
2813641981,pull_request,closed,,[FW][FIX] account: prevent an error when print and send an invoice,"Currently, an error occurs when attempting to print and send an invoice that is in a draft state.

Step to produce:

- Install the `account` module.
- Go to Invoicing / Customers / Invoices, Create one invoice without a customer and invoice line, and come to the list view of Invoices.
- Select this invoice and click on 'Print & Send'.

`AttributeError: 'bool' object has no attribute 'replace'`

The issue occurs because the system attempts to replace the name at [1] to generate a PDF file name. But the invoice's name is not available.

Link [1]: https://github.com/odoo/odoo/blob/41de88b930e569daea7624ee3655cef218f9136f/addons/account/models/account_move.py#L5739

To resolve this issue, Raise a user error if the user attempts to select the 'Print & Send' action on an invoice that is not in the confirmed state.


Sentry-6185757435

---
I confirm I have signed the CLA and read the PR guidelines at www.odoo.com/submit-pr

Forward-Port-Of: odoo/odoo#192020",fw-bot,2025-01-27 17:36:05+00:00,[],2025-01-28 06:08:09+00:00,2025-01-28 06:08:09+00:00,https://github.com/odoo/odoo/pull/195330,"[('RD', 'research & development, internal work'), ('forwardport', 'This PR was created by @fw-bot'), ('18.2', None)]","[{'comment_id': 2616467546, 'issue_id': 2813641981, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195330.png)](https://mergebot.odoo.com/odoo/odoo/pull/195330)', 'created_at': datetime.datetime(2025, 1, 27, 17, 36, 6, tzinfo=datetime.timezone.utc)}, {'comment_id': 2616467583, 'issue_id': 2813641981, 'author': 'fw-bot', 'body': '@mega-odoo @rugo-odoo this PR targets master and is the last of the forward-port chain containing:\n* odoo/odoo#195318\n\nTo merge the full chain, use\n> @robodoo r+\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 27, 17, 36, 7, tzinfo=datetime.timezone.utc)}, {'comment_id': 2617825965, 'issue_id': 2813641981, 'author': 'mega-odoo', 'body': '@robodoo r+', 'created_at': datetime.datetime(2025, 1, 28, 4, 35, 54, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-27 17:36:06 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195330.png)](https://mergebot.odoo.com/odoo/odoo/pull/195330)

fw-bot (Issue Creator) on (2025-01-27 17:36:07 UTC): @mega-odoo @rugo-odoo this PR targets master and is the last of the forward-port chain containing:
* odoo/odoo#195318

To merge the full chain, use

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

mega-odoo on (2025-01-28 04:35:54 UTC): @robodoo r+

"
2813623735,pull_request,closed,,"[FIX] base: show all groups menu in group view
","
Scenario: set a menu to be visible only to a group you don't have
Result: the menu is not shown in the list of menu on the group form view

Why: in 17.0, web_read was added that is adding a search for ordering
results of x2many according to order in specification. This is
interfering with custom code of ir.ui.menu that is filtering out menu
that are not visible (in the interface) to you.

Fix: add context key that bypass the ir.ui.menu filtering in the
res.groups window action.

opw-4376374
",nle-odoo,2025-01-27 17:28:35+00:00,[],2025-01-30 23:49:06+00:00,2025-01-30 23:49:06+00:00,https://github.com/odoo/odoo/pull/195329,"[('OE', 'the report is linked to a support ticket (opw-...)')]","[{'comment_id': 2616447445, 'issue_id': 2813623735, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195329.png)](https://mergebot.odoo.com/odoo/odoo/pull/195329)', 'created_at': datetime.datetime(2025, 1, 27, 17, 28, 42, tzinfo=datetime.timezone.utc)}, {'comment_id': 2618868725, 'issue_id': 2813623735, 'author': 'nle-odoo', 'body': 'Thanks and good catch.\r\n\r\nSince saas-18.1 https://github.com/odoo/odoo/commit/47be89719ef885387d0018975ee2aeda3ad078f2 the `ir.ui.menu.full_list` context key was removed and we only do this filtering in method `ir.ui.menu().load_menus` and `ir.ui.menu().get_user_roots`.\r\n\r\nrobodoo up to 18.0', 'created_at': datetime.datetime(2025, 1, 28, 12, 29, 1, tzinfo=datetime.timezone.utc)}, {'comment_id': 2618868819, 'issue_id': 2813623735, 'author': 'robodoo', 'body': ""Forward-porting to '18.0'."", 'created_at': datetime.datetime(2025, 1, 28, 12, 29, 3, tzinfo=datetime.timezone.utc)}, {'comment_id': 2624821362, 'issue_id': 2813623735, 'author': 'nle-odoo', 'body': 'robodoo r+', 'created_at': datetime.datetime(2025, 1, 30, 15, 31, 41, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-27 17:28:42 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195329.png)](https://mergebot.odoo.com/odoo/odoo/pull/195329)

nle-odoo (Issue Creator) on (2025-01-28 12:29:01 UTC): Thanks and good catch.

Since saas-18.1 https://github.com/odoo/odoo/commit/47be89719ef885387d0018975ee2aeda3ad078f2 the `ir.ui.menu.full_list` context key was removed and we only do this filtering in method `ir.ui.menu().load_menus` and `ir.ui.menu().get_user_roots`.

robodoo up to 18.0

robodoo on (2025-01-28 12:29:03 UTC): Forward-porting to '18.0'.

nle-odoo (Issue Creator) on (2025-01-30 15:31:41 UTC): robodoo r+

"
2813598340,pull_request,closed,,[FIX] sale: round discount floats display,"## Versions:
17.0+
No fix needed in 16.0 as the discount was not displayed this way.

## Issue:
Discount descriptions contain long string floats while it should be truncated for human reading.

## Steps to reproduce:
- Activate `Discounts` through settings;
- Create a new sale order for any client with at least 1 product;
- Click the `Discount` button on the form;
- Apply a 7% `Global Discount`;
- Read the `Discount` product's description.

## Cause:
Some numbers cannot be represented correctly in Python (including 7, 3.3 etc.).

opw-4485316",barracudapps,2025-01-27 17:18:21+00:00,[],2025-01-28 14:29:34+00:00,2025-01-28 14:29:34+00:00,https://github.com/odoo/odoo/pull/195328,"[('OE', 'the report is linked to a support ticket (opw-...)')]","[{'comment_id': 2616417302, 'issue_id': 2813598340, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195328.png)](https://mergebot.odoo.com/odoo/odoo/pull/195328)', 'created_at': datetime.datetime(2025, 1, 27, 17, 18, 24, tzinfo=datetime.timezone.utc)}, {'comment_id': 2618920980, 'issue_id': 2813598340, 'author': 'barracudapps', 'body': '@robodoo r+', 'created_at': datetime.datetime(2025, 1, 28, 12, 53, 9, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-27 17:18:24 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195328.png)](https://mergebot.odoo.com/odoo/odoo/pull/195328)

barracudapps (Issue Creator) on (2025-01-28 12:53:09 UTC): @robodoo r+

"
2813544015,pull_request,closed,,[FW][FIX] l10n_hu_edi: price include tax,"[FIX] l10n_hu_edi: price include tax

Price unit was not properly calculated:
* Didn't remove the discount.
* Didn't take into account price included taxes.

We also removed a test use case that didn't make sense.

Task-id: 4236755

---
I confirm I have signed the CLA and read the PR guidelines at www.odoo.com/submit-pr

Forward-Port-Of: odoo/odoo#190095",fw-bot,2025-01-27 16:54:12+00:00,[],2025-02-03 19:00:20+00:00,2025-02-03 19:00:20+00:00,https://github.com/odoo/odoo/pull/195326,"[('RD', 'research & development, internal work'), ('forwardport', 'This PR was created by @fw-bot'), ('conflict', 'There was an error while creating this forward-port PR')]","[{'comment_id': 2616356950, 'issue_id': 2813544015, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195326.png)](https://mergebot.odoo.com/odoo/odoo/pull/195326)', 'created_at': datetime.datetime(2025, 1, 27, 16, 54, 13, tzinfo=datetime.timezone.utc)}, {'comment_id': 2616357112, 'issue_id': 2813544015, 'author': 'fw-bot', 'body': '@rugo-odoo @smetl cherrypicking of pull request odoo/odoo#190095 failed.\n\nstdout:\n```\nAuto-merging addons/l10n_hu_edi/models/account_move.py\nAuto-merging addons/l10n_hu_edi/tests/common.py\nCONFLICT (content): Merge conflict in addons/l10n_hu_edi/tests/common.py\nAuto-merging addons/l10n_hu_edi/tests/invoice_xmls/invoice_complex_eur.xml\nCONFLICT (content): Merge conflict in addons/l10n_hu_edi/tests/invoice_xmls/invoice_complex_eur.xml\nAuto-merging addons/l10n_hu_edi/tests/test_invoice_xml.py\nCONFLICT (content): Merge conflict in addons/l10n_hu_edi/tests/test_invoice_xml.py\n\n```\n\nEither perform the forward-port manually (and push to this branch, proceeding as usual) or close this PR (maybe?).\n\nIn the former case, you may want to edit this PR message as well.\n\n:warning: after resolving this conflict, you will need to merge it via @robodoo.\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 27, 16, 54, 18, tzinfo=datetime.timezone.utc)}, {'comment_id': 2626138041, 'issue_id': 2813544015, 'author': 'fw-bot', 'body': '@rugo-odoo @smetl this forward port of odoo/odoo#190095 is awaiting action (not merged or closed).', 'created_at': datetime.datetime(2025, 1, 31, 2, 2, 13, tzinfo=datetime.timezone.utc)}, {'comment_id': 2628685466, 'issue_id': 2813544015, 'author': 'fw-bot', 'body': '@rugo-odoo @smetl this forward port of odoo/odoo#190095 is awaiting action (not merged or closed).', 'created_at': datetime.datetime(2025, 2, 1, 2, 1, 42, tzinfo=datetime.timezone.utc)}, {'comment_id': 2629202051, 'issue_id': 2813544015, 'author': 'fw-bot', 'body': '@rugo-odoo @smetl this forward port of odoo/odoo#190095 is awaiting action (not merged or closed).', 'created_at': datetime.datetime(2025, 2, 2, 2, 2, 2, tzinfo=datetime.timezone.utc)}, {'comment_id': 2629730842, 'issue_id': 2813544015, 'author': 'fw-bot', 'body': '@rugo-odoo @smetl this forward port of odoo/odoo#190095 is awaiting action (not merged or closed).', 'created_at': datetime.datetime(2025, 2, 3, 2, 3, 3, tzinfo=datetime.timezone.utc)}, {'comment_id': 2631470960, 'issue_id': 2813544015, 'author': 'rugo-odoo', 'body': '@robodoo r+', 'created_at': datetime.datetime(2025, 2, 3, 16, 22, 21, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-27 16:54:13 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195326.png)](https://mergebot.odoo.com/odoo/odoo/pull/195326)

fw-bot (Issue Creator) on (2025-01-27 16:54:18 UTC): @rugo-odoo @smetl cherrypicking of pull request odoo/odoo#190095 failed.

stdout:
```
Auto-merging addons/l10n_hu_edi/models/account_move.py
Auto-merging addons/l10n_hu_edi/tests/common.py
CONFLICT (content): Merge conflict in addons/l10n_hu_edi/tests/common.py
Auto-merging addons/l10n_hu_edi/tests/invoice_xmls/invoice_complex_eur.xml
CONFLICT (content): Merge conflict in addons/l10n_hu_edi/tests/invoice_xmls/invoice_complex_eur.xml
Auto-merging addons/l10n_hu_edi/tests/test_invoice_xml.py
CONFLICT (content): Merge conflict in addons/l10n_hu_edi/tests/test_invoice_xml.py

```

Either perform the forward-port manually (and push to this branch, proceeding as usual) or close this PR (maybe?).

In the former case, you may want to edit this PR message as well.

:warning: after resolving this conflict, you will need to merge it via @robodoo.

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

fw-bot (Issue Creator) on (2025-01-31 02:02:13 UTC): @rugo-odoo @smetl this forward port of odoo/odoo#190095 is awaiting action (not merged or closed).

fw-bot (Issue Creator) on (2025-02-01 02:01:42 UTC): @rugo-odoo @smetl this forward port of odoo/odoo#190095 is awaiting action (not merged or closed).

fw-bot (Issue Creator) on (2025-02-02 02:02:02 UTC): @rugo-odoo @smetl this forward port of odoo/odoo#190095 is awaiting action (not merged or closed).

fw-bot (Issue Creator) on (2025-02-03 02:03:03 UTC): @rugo-odoo @smetl this forward port of odoo/odoo#190095 is awaiting action (not merged or closed).

rugo-odoo on (2025-02-03 16:22:21 UTC): @robodoo r+

"
2813486587,pull_request,closed,,[FW][FIX] account: Show partner limit currency,"The credit limit in the partner form view was missing a currency symbol, leading to ambiguity about whether the limit was in the customer's currency or the company's currency.

Displayed the partner limit in the company currency to avoid confusion.

task-4507336


---
I confirm I have signed the CLA and read the PR guidelines at www.odoo.com/submit-pr

Forward-Port-Of: odoo/odoo#194807",fw-bot,2025-01-27 16:32:19+00:00,[],2025-01-28 12:59:04+00:00,2025-01-28 12:59:04+00:00,https://github.com/odoo/odoo/pull/195325,"[('RD', 'research & development, internal work'), ('forwardport', 'This PR was created by @fw-bot'), ('conflict', 'There was an error while creating this forward-port PR')]","[{'comment_id': 2616297879, 'issue_id': 2813486587, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195325.png)](https://mergebot.odoo.com/odoo/odoo/pull/195325)', 'created_at': datetime.datetime(2025, 1, 27, 16, 32, 20, tzinfo=datetime.timezone.utc)}, {'comment_id': 2616297904, 'issue_id': 2813486587, 'author': 'fw-bot', 'body': '@seifgneedy @hupo-odoo cherrypicking of pull request odoo/odoo#194807 failed.\n\nstdout:\n```\nAuto-merging addons/account/views/partner_view.xml\nCONFLICT (content): Merge conflict in addons/account/views/partner_view.xml\n\n```\n\nEither perform the forward-port manually (and push to this branch, proceeding as usual) or close this PR (maybe?).\n\nIn the former case, you may want to edit this PR message as well.\n\n:warning: after resolving this conflict, you will need to merge it via @robodoo.\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 27, 16, 32, 21, tzinfo=datetime.timezone.utc)}, {'comment_id': 2618468500, 'issue_id': 2813486587, 'author': 'seifgneedy', 'body': '@robodoo r+', 'created_at': datetime.datetime(2025, 1, 28, 9, 53, 17, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-27 16:32:20 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195325.png)](https://mergebot.odoo.com/odoo/odoo/pull/195325)

fw-bot (Issue Creator) on (2025-01-27 16:32:21 UTC): @seifgneedy @hupo-odoo cherrypicking of pull request odoo/odoo#194807 failed.

stdout:
```
Auto-merging addons/account/views/partner_view.xml
CONFLICT (content): Merge conflict in addons/account/views/partner_view.xml

```

Either perform the forward-port manually (and push to this branch, proceeding as usual) or close this PR (maybe?).

In the former case, you may want to edit this PR message as well.

:warning: after resolving this conflict, you will need to merge it via @robodoo.

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

seifgneedy on (2025-01-28 09:53:17 UTC): @robodoo r+

"
2813485221,pull_request,closed,,[FW][FIX] l10n_*: load taxes for only root companies,"To reproduce:
1) install localization of any of the below modules. 
2) Make branch companies in that localization.
3) install one of the modules below.

we get this
error:https://github.com/odoo/odoo/blob/17.0/addons/account/models/account_tax.py#L200, `Tax names must be unique`, so only load taxes for root companies.

and for tax_group we get this error:

```
The operation cannot be completed:
- Create/update: a mandatory field is not set.
- Delete: another model requires the record being deleted. If possible, archive it instead.

Model: Tax Group (account.tax.group)
Field: Name (name)
```

Description of the issue/feature this PR addresses:

Current behavior before PR:

Desired behavior after PR is merged:




---
I confirm I have signed the CLA and read the PR guidelines at www.odoo.com/submit-pr

Forward-Port-Of: odoo/odoo#193013",fw-bot,2025-01-27 16:31:43+00:00,[],2025-01-29 07:11:40+00:00,2025-01-29 07:11:40+00:00,https://github.com/odoo/odoo/pull/195324,"[('RD', 'research & development, internal work'), ('forwardport', 'This PR was created by @fw-bot')]","[{'comment_id': 2616296373, 'issue_id': 2813485221, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195324.png)](https://mergebot.odoo.com/odoo/odoo/pull/195324)', 'created_at': datetime.datetime(2025, 1, 27, 16, 31, 45, tzinfo=datetime.timezone.utc)}, {'comment_id': 2616296447, 'issue_id': 2813485221, 'author': 'fw-bot', 'body': 'This PR targets 18.0 and is part of the forward-port chain. Further PRs will be created up to master.\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 27, 16, 31, 47, tzinfo=datetime.timezone.utc)}, {'comment_id': 2618316180, 'issue_id': 2813485221, 'author': 'asno-odoo', 'body': 'robodoo r-', 'created_at': datetime.datetime(2025, 1, 28, 8, 47, 14, tzinfo=datetime.timezone.utc)}, {'comment_id': 2618316284, 'issue_id': 2813485221, 'author': 'robodoo', 'body': 'Note that only this forward-port has been unapproved, sibling forward ports may have to be unapproved individually.', 'created_at': datetime.datetime(2025, 1, 28, 8, 47, 17, tzinfo=datetime.timezone.utc)}, {'comment_id': 2618620955, 'issue_id': 2813485221, 'author': 'fw-bot', 'body': '@asno-odoo @clbr-odoo this PR was modified / updated and has become a normal PR. It must be merged directly.', 'created_at': datetime.datetime(2025, 1, 28, 10, 39, 23, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-27 16:31:45 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195324.png)](https://mergebot.odoo.com/odoo/odoo/pull/195324)

fw-bot (Issue Creator) on (2025-01-27 16:31:47 UTC): This PR targets 18.0 and is part of the forward-port chain. Further PRs will be created up to master.

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

asno-odoo on (2025-01-28 08:47:14 UTC): robodoo r-

robodoo on (2025-01-28 08:47:17 UTC): Note that only this forward-port has been unapproved, sibling forward ports may have to be unapproved individually.

fw-bot (Issue Creator) on (2025-01-28 10:39:23 UTC): @asno-odoo @clbr-odoo this PR was modified / updated and has become a normal PR. It must be merged directly.

"
2813483805,pull_request,closed,,[FW][FIX] base: fallback first currency rate,"When creating a new database or activating a new currency, the first rate fetched will often be set only starting ""today"".

This can lead to issues when creating invoices in the past, especially if the conversion rate is very different from 1.

Instead of only using a fallback on 1, we also fallback on the oldest rate in the database if available.

Forward-Port-Of: odoo/odoo#195241
Forward-Port-Of: odoo/odoo#194500",fw-bot,2025-01-27 16:31:11+00:00,[],2025-01-28 17:30:27+00:00,2025-01-28 17:30:27+00:00,https://github.com/odoo/odoo/pull/195323,"[('RD', 'research & development, internal work'), ('forwardport', 'This PR was created by @fw-bot'), ('conflict', 'There was an error while creating this forward-port PR')]","[{'comment_id': 2616294769, 'issue_id': 2813483805, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195323.png)](https://mergebot.odoo.com/odoo/odoo/pull/195323)', 'created_at': datetime.datetime(2025, 1, 27, 16, 31, 12, tzinfo=datetime.timezone.utc)}, {'comment_id': 2616294802, 'issue_id': 2813483805, 'author': 'fw-bot', 'body': '@william-andre @gawa-odoo cherrypicking of pull request odoo/odoo#194500 failed.\n\nstdout:\n```\nAuto-merging addons/account/tests/common.py\nAuto-merging addons/account/tests/test_account_move_out_invoice.py\nCONFLICT (content): Merge conflict in addons/account/tests/test_account_move_out_invoice.py\nAuto-merging odoo/addons/base/models/res_currency.py\n\n```\n\nEither perform the forward-port manually (and push to this branch, proceeding as usual) or close this PR (maybe?).\n\nIn the former case, you may want to edit this PR message as well.\n\n:warning: after resolving this conflict, you will need to merge it via @robodoo.\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 27, 16, 31, 13, tzinfo=datetime.timezone.utc)}, {'comment_id': 2618395344, 'issue_id': 2813483805, 'author': 'william-andre', 'body': '@robodoo r+', 'created_at': datetime.datetime(2025, 1, 28, 9, 19, 59, tzinfo=datetime.timezone.utc)}, {'comment_id': 2618554576, 'issue_id': 2813483805, 'author': 'robodoo', 'body': ""@william-andre @gawa-odoo 'ci/runbot' failed on this reviewed PR."", 'created_at': datetime.datetime(2025, 1, 28, 10, 10, 37, tzinfo=datetime.timezone.utc)}, {'comment_id': 2619092020, 'issue_id': 2813483805, 'author': 'william-andre', 'body': '@robodoo r+', 'created_at': datetime.datetime(2025, 1, 28, 14, 1, 36, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-27 16:31:12 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195323.png)](https://mergebot.odoo.com/odoo/odoo/pull/195323)

fw-bot (Issue Creator) on (2025-01-27 16:31:13 UTC): @william-andre @gawa-odoo cherrypicking of pull request odoo/odoo#194500 failed.

stdout:
```
Auto-merging addons/account/tests/common.py
Auto-merging addons/account/tests/test_account_move_out_invoice.py
CONFLICT (content): Merge conflict in addons/account/tests/test_account_move_out_invoice.py
Auto-merging odoo/addons/base/models/res_currency.py

```

Either perform the forward-port manually (and push to this branch, proceeding as usual) or close this PR (maybe?).

In the former case, you may want to edit this PR message as well.

:warning: after resolving this conflict, you will need to merge it via @robodoo.

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

william-andre on (2025-01-28 09:19:59 UTC): @robodoo r+

robodoo on (2025-01-28 10:10:37 UTC): @william-andre @gawa-odoo 'ci/runbot' failed on this reviewed PR.

william-andre on (2025-01-28 14:01:36 UTC): @robodoo r+

"
2813482593,pull_request,closed,,[FW][FIX] repair: show recycle lines in repair order report,"Description of the issue/feature this PR addresses:
The ""Recycle"" repair type wasn't integrated properly into the report template
Current behavior before PR:
Repair lines with ""Recycle"" type create empty lines on the repair order report
![grafik](https://github.com/user-attachments/assets/20ffc739-d14d-4f3b-adfe-73b36fa42938)
![grafik](https://github.com/user-attachments/assets/157bd99f-e1ff-4c3b-a89d-7b67284e336b)
Desired behavior after PR is merged:
Repair lines with ""Recycle"" type have their product description printed on the report


---
I confirm I have signed the CLA and read the PR guidelines at www.odoo.com/submit-pr

Forward-Port-Of: odoo/odoo#193502",fw-bot,2025-01-27 16:30:47+00:00,[],2025-01-28 13:42:35+00:00,2025-01-28 13:42:35+00:00,https://github.com/odoo/odoo/pull/195322,"[('RD', 'research & development, internal work'), ('forwardport', 'This PR was created by @fw-bot')]","[{'comment_id': 2616293864, 'issue_id': 2813482593, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195322.png)](https://mergebot.odoo.com/odoo/odoo/pull/195322)', 'created_at': datetime.datetime(2025, 1, 27, 16, 30, 53, tzinfo=datetime.timezone.utc)}, {'comment_id': 2616293914, 'issue_id': 2813482593, 'author': 'fw-bot', 'body': 'This PR targets saas-17.2 and is part of the forward-port chain. Further PRs will be created up to master.\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 27, 16, 30, 54, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-27 16:30:53 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195322.png)](https://mergebot.odoo.com/odoo/odoo/pull/195322)

fw-bot (Issue Creator) on (2025-01-27 16:30:54 UTC): This PR targets saas-17.2 and is part of the forward-port chain. Further PRs will be created up to master.

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

"
2813464545,pull_request,closed,,[FW][FIX] hr: only generate default avatar if possible,"Steps
-----
- Have a user with 'Employees' Administator rights and no 'Administration' rights.
- Create a new employee.
- When viewing the Kanban views of employees, the image for the newly created employee appears corrupted (the text 'binary file' appears instead of the image).

Cause
-----
When we create a new employee, `_avatar_generate_svg` is called https://github.com/odoo/odoo/blob/717f3a1ab25613c02c2d0b28fa8dd73f4e6c75e0/addons/hr/models/hr_employee.py#L497-L498 that returns a svg/xml base-64 encoded. However, only users with write rights to `ir.ui.view` are able to create svg/xml attachments. https://github.com/odoo/odoo/blob/717f3a1ab25613c02c2d0b28fa8dd73f4e6c75e0/odoo/addons/base/models/ir_attachment.py#L368-L371 Else, the attachment has a text mimetype forced, leading to it being incorrectly displayed.

Change
-----
A default image is not generated at employee creation if the user doesn't have sufficient rights.

opw-4311251

Forward-Port-Of: odoo/odoo#194588
Forward-Port-Of: odoo/odoo#190214",fw-bot,2025-01-27 16:23:10+00:00,[],2025-01-28 22:37:59+00:00,2025-01-28 22:37:58+00:00,https://github.com/odoo/odoo/pull/195321,"[('OE', 'the report is linked to a support ticket (opw-...)'), ('forwardport', 'This PR was created by @fw-bot')]","[{'comment_id': 2616264347, 'issue_id': 2813464545, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195321.png)](https://mergebot.odoo.com/odoo/odoo/pull/195321)', 'created_at': datetime.datetime(2025, 1, 27, 16, 23, 12, tzinfo=datetime.timezone.utc)}, {'comment_id': 2616264424, 'issue_id': 2813464545, 'author': 'fw-bot', 'body': 'This PR targets saas-18.1 and is part of the forward-port chain. Further PRs will be created up to master.\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 27, 16, 23, 12, tzinfo=datetime.timezone.utc)}, {'comment_id': 2616395104, 'issue_id': 2813464545, 'author': 'fw-bot', 'body': '@taqu-odoo @Bertrand2 ci/runbot failed on this forward-port PR', 'created_at': datetime.datetime(2025, 1, 27, 17, 9, 24, tzinfo=datetime.timezone.utc)}, {'comment_id': 2617543716, 'issue_id': 2813464545, 'author': 'fw-bot', 'body': '@taqu-odoo @Bertrand2 this forward port of odoo/odoo#190214 is awaiting action (not merged or closed).', 'created_at': datetime.datetime(2025, 1, 28, 2, 2, 3, tzinfo=datetime.timezone.utc)}, {'comment_id': 2619148895, 'issue_id': 2813464545, 'author': 'taqu-odoo', 'body': 'robodoo r+', 'created_at': datetime.datetime(2025, 1, 28, 14, 24, 8, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-27 16:23:12 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195321.png)](https://mergebot.odoo.com/odoo/odoo/pull/195321)

fw-bot (Issue Creator) on (2025-01-27 16:23:12 UTC): This PR targets saas-18.1 and is part of the forward-port chain. Further PRs will be created up to master.

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

fw-bot (Issue Creator) on (2025-01-27 17:09:24 UTC): @taqu-odoo @Bertrand2 ci/runbot failed on this forward-port PR

fw-bot (Issue Creator) on (2025-01-28 02:02:03 UTC): @taqu-odoo @Bertrand2 this forward port of odoo/odoo#190214 is awaiting action (not merged or closed).

taqu-odoo on (2025-01-28 14:24:08 UTC): robodoo r+

"
2813463229,pull_request,closed,,[FW][FIX] mail: properly display table separators,"**Problem**:
When adding a table in the chatter and logging/sending, the table is not displayed properly. This issue is same as:
https://github.com/odoo/odoo/commit/99c5a73b2ffc9bef6128059c51574c70cdfc6767. Grouped styles like `border`, `padding`, and `border-radius` do not propagate their values to substyles when variables are used in the value.

**Solution**:
Apply same fix in `convert_inline` of `mail`

**Steps to Reproduce**:
1. Open the full composer.
2. Add a table.
3. Log a note.
4. Observe that `td` borders are not visible.

opw-4483477

---
I confirm I have signed the CLA and read the PR guidelines at www.odoo.com/submit-pr

Forward-Port-Of: odoo/odoo#194528",fw-bot,2025-01-27 16:22:33+00:00,[],2025-01-28 10:18:13+00:00,2025-01-28 10:18:13+00:00,https://github.com/odoo/odoo/pull/195320,"[('OE', 'the report is linked to a support ticket (opw-...)'), ('forwardport', 'This PR was created by @fw-bot')]","[{'comment_id': 2616260383, 'issue_id': 2813463229, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195320.png)](https://mergebot.odoo.com/odoo/odoo/pull/195320)', 'created_at': datetime.datetime(2025, 1, 27, 16, 22, 36, tzinfo=datetime.timezone.utc)}, {'comment_id': 2616260479, 'issue_id': 2813463229, 'author': 'fw-bot', 'body': 'This PR targets saas-18.1 and is part of the forward-port chain. Further PRs will be created up to master.\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 27, 16, 22, 37, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-27 16:22:36 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195320.png)](https://mergebot.odoo.com/odoo/odoo/pull/195320)

fw-bot (Issue Creator) on (2025-01-27 16:22:37 UTC): This PR targets saas-18.1 and is part of the forward-port chain. Further PRs will be created up to master.

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

"
2813460618,pull_request,closed,,[FW][FIX] account: draft badge in blue,"In the account move view, since this commit:
https://github.com/odoo/odoo/commit/9b47dd1158b2819c74431f30ff137cbb13ce0d4f We made a new column that is status_in_payment but with that we removed the decoration for draft moves

task-4497735




---
I confirm I have signed the CLA and read the PR guidelines at www.odoo.com/submit-pr

Forward-Port-Of: odoo/odoo#194380",fw-bot,2025-01-27 16:21:31+00:00,[],2025-01-28 12:08:08+00:00,2025-01-28 12:08:08+00:00,https://github.com/odoo/odoo/pull/195319,"[('RD', 'research & development, internal work'), ('forwardport', 'This PR was created by @fw-bot')]","[{'comment_id': 2616251272, 'issue_id': 2813460618, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195319.png)](https://mergebot.odoo.com/odoo/odoo/pull/195319)', 'created_at': datetime.datetime(2025, 1, 27, 16, 21, 32, tzinfo=datetime.timezone.utc)}, {'comment_id': 2616251408, 'issue_id': 2813460618, 'author': 'fw-bot', 'body': 'This PR targets saas-18.1 and is part of the forward-port chain. Further PRs will be created up to master.\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 27, 16, 21, 33, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-27 16:21:32 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195319.png)](https://mergebot.odoo.com/odoo/odoo/pull/195319)

fw-bot (Issue Creator) on (2025-01-27 16:21:33 UTC): This PR targets saas-18.1 and is part of the forward-port chain. Further PRs will be created up to master.

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

"
2813459381,pull_request,closed,,[FW][FIX] account: prevent an error when print and send an invoice,"Currently, an error occurs when attempting to print and send an invoice that is in a draft state.

Step to produce:

- Install the `account` module.
- Go to Invoicing / Customers / Invoices, Create one invoice without a customer and invoice line, and come to the list view of Invoices.
- Select this invoice and click on 'Print & Send'.

`AttributeError: 'bool' object has no attribute 'replace'`

The issue occurs because the system attempts to replace the name at [1] to generate a PDF file name. But the invoice's name is not available.

Link [1]: https://github.com/odoo/odoo/blob/41de88b930e569daea7624ee3655cef218f9136f/addons/account/models/account_move.py#L5739

To resolve this issue, Raise a user error if the user attempts to select the 'Print & Send' action on an invoice that is not in the confirmed state.


Sentry-6185757435

---
I confirm I have signed the CLA and read the PR guidelines at www.odoo.com/submit-pr

Forward-Port-Of: odoo/odoo#192020",fw-bot,2025-01-27 16:21:07+00:00,[],2025-01-28 06:05:31+00:00,2025-01-28 06:05:31+00:00,https://github.com/odoo/odoo/pull/195318,"[('RD', 'research & development, internal work'), ('forwardport', 'This PR was created by @fw-bot')]","[{'comment_id': 2616250791, 'issue_id': 2813459381, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195318.png)](https://mergebot.odoo.com/odoo/odoo/pull/195318)', 'created_at': datetime.datetime(2025, 1, 27, 16, 21, 30, tzinfo=datetime.timezone.utc)}, {'comment_id': 2616250918, 'issue_id': 2813459381, 'author': 'fw-bot', 'body': 'This PR targets saas-18.1 and is part of the forward-port chain. Further PRs will be created up to master.\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 27, 16, 21, 30, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-27 16:21:30 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195318.png)](https://mergebot.odoo.com/odoo/odoo/pull/195318)

fw-bot (Issue Creator) on (2025-01-27 16:21:30 UTC): This PR targets saas-18.1 and is part of the forward-port chain. Further PRs will be created up to master.

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

"
2813452041,pull_request,closed,,[FIX] l10n_it: do not allow xml as main attachment by default,"**Issue:**
When ""l10n_it"" is installed, an override of ""_message_set_main_attachment_id"" method is changing the default value of ""filter_xml"" param from True to False, which is impacting the general behavior when the module is installed. As a consequence, xml files can be set as main attachment of a bill, which generates unreadable PDF files when using ""Print > Original Bills"" action on a bill.

opw-4439034


---
I confirm I have signed the CLA and read the PR guidelines at www.odoo.com/submit-pr
",kitan191,2025-01-27 16:18:16+00:00,[],2025-01-29 13:43:33+00:00,2025-01-29 13:43:33+00:00,https://github.com/odoo/odoo/pull/195317,"[('OE', 'the report is linked to a support ticket (opw-...)')]","[{'comment_id': 2616208855, 'issue_id': 2813452041, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195317.png)](https://mergebot.odoo.com/odoo/odoo/pull/195317)', 'created_at': datetime.datetime(2025, 1, 27, 16, 18, 19, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-27 16:18:19 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195317.png)](https://mergebot.odoo.com/odoo/odoo/pull/195317)

"
2813445681,pull_request,closed,,[FIX] website: fix not available items in search results,"This commit fixes the width of not available items inside the search results list and the search result dropdown.

We achieve the fix by using the same approach used in this commit: https://github.com/odoo/odoo/commit/9ffbc8720b84f51d5d03a7e11c74c19b62cf46c0

opw-4444222
task-4517564

---
I confirm I have signed the CLA and read the PR guidelines at www.odoo.com/submit-pr
",anso-odoo,2025-01-27 16:16:05+00:00,[],2025-01-30 10:27:12+00:00,2025-01-30 10:27:12+00:00,https://github.com/odoo/odoo/pull/195316,"[('OE', 'the report is linked to a support ticket (opw-...)')]","[{'comment_id': 2616196621, 'issue_id': 2813445681, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195316.png)](https://mergebot.odoo.com/odoo/odoo/pull/195316)', 'created_at': datetime.datetime(2025, 1, 27, 16, 16, 8, tzinfo=datetime.timezone.utc)}, {'comment_id': 2621153946, 'issue_id': 2813445681, 'author': 'anso-odoo', 'body': ""@SergeBayet Maybe you can have a look at this one ? I'm using your approach to fix the issue in both the dropdown and in page results. We figured out that the issue was already in 16.0. WDYT ?"", 'created_at': datetime.datetime(2025, 1, 29, 9, 48, 38, tzinfo=datetime.timezone.utc)}, {'comment_id': 2621220277, 'issue_id': 2813445681, 'author': 'SergeBayet', 'body': ""> @SergeBayet Maybe you can have a look at this one ? I'm using your approach to fix the issue in both the dropdown and in page results. We figured out that the issue was already in 16.0. WDYT ?\r\n\r\n@Brieuc-brd helped me for the fix I've addressed. That seems correct to me. @Brieuc-brd ?"", 'created_at': datetime.datetime(2025, 1, 29, 10, 16, 11, tzinfo=datetime.timezone.utc)}, {'comment_id': 2621457506, 'issue_id': 2813445681, 'author': 'anso-odoo', 'body': 'Thanks @SergeBayet, I discussed with BRD and this PR is ready for tech review 👍', 'created_at': datetime.datetime(2025, 1, 29, 12, 4, 18, tzinfo=datetime.timezone.utc)}, {'comment_id': 2622130281, 'issue_id': 2813445681, 'author': 'qsm-odoo', 'body': '@robodoo delegate=SergeBayet \r\n@SergeBayet', 'created_at': datetime.datetime(2025, 1, 29, 16, 30, 12, tzinfo=datetime.timezone.utc)}, {'comment_id': 2623865857, 'issue_id': 2813445681, 'author': 'SergeBayet', 'body': '@robodoo r+', 'created_at': datetime.datetime(2025, 1, 30, 8, 45, 45, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-27 16:16:08 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195316.png)](https://mergebot.odoo.com/odoo/odoo/pull/195316)

anso-odoo (Issue Creator) on (2025-01-29 09:48:38 UTC): @SergeBayet Maybe you can have a look at this one ? I'm using your approach to fix the issue in both the dropdown and in page results. We figured out that the issue was already in 16.0. WDYT ?

SergeBayet on (2025-01-29 10:16:11 UTC): @Brieuc-brd helped me for the fix I've addressed. That seems correct to me. @Brieuc-brd ?

anso-odoo (Issue Creator) on (2025-01-29 12:04:18 UTC): Thanks @SergeBayet, I discussed with BRD and this PR is ready for tech review 👍

qsm-odoo on (2025-01-29 16:30:12 UTC): @robodoo delegate=SergeBayet 
@SergeBayet

SergeBayet on (2025-01-30 08:45:45 UTC): @robodoo r+

"
2813443511,pull_request,closed,,[FW][FIX] google_calendar: avoid sync failure on rescheduled all-day events,"Before this commit, syncing a Google Calendar that includes an all-day recurrent event—one of which is rescheduled—would fail entirely. This happened because `full_recurring_event_id` only handled events with a specific date-time format (`T...Z`), causing the regex to break for date-only IDs.

opw-4443780

---
I confirm I have signed the CLA and read the PR guidelines at www.odoo.com/submit-pr

Forward-Port-Of: odoo/odoo#194176",fw-bot,2025-01-27 16:15:13+00:00,[],2025-01-28 14:32:39+00:00,2025-01-28 14:32:39+00:00,https://github.com/odoo/odoo/pull/195315,"[('OE', 'the report is linked to a support ticket (opw-...)'), ('forwardport', 'This PR was created by @fw-bot')]","[{'comment_id': 2616194385, 'issue_id': 2813443511, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195315.png)](https://mergebot.odoo.com/odoo/odoo/pull/195315)', 'created_at': datetime.datetime(2025, 1, 27, 16, 15, 14, tzinfo=datetime.timezone.utc)}, {'comment_id': 2616194419, 'issue_id': 2813443511, 'author': 'fw-bot', 'body': 'This PR targets 18.0 and is part of the forward-port chain. Further PRs will be created up to master.\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 27, 16, 15, 15, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-27 16:15:14 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195315.png)](https://mergebot.odoo.com/odoo/odoo/pull/195315)

fw-bot (Issue Creator) on (2025-01-27 16:15:15 UTC): This PR targets 18.0 and is part of the forward-port chain. Further PRs will be created up to master.

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

"
2813418065,pull_request,open,,[FIX] account: basic user report rights,"With the introduction of Invoicing Enterprise (access to bank recon etc) a new user group was created ""Invoicing & Banks"" (`group_account_basic`) This group should also be able to access the customer statement / partner ledger (from the partner smart button)

Task-4465208",h4818,2025-01-27 16:04:13+00:00,[],2025-01-30 15:49:32+00:00,,https://github.com/odoo/odoo/pull/195314,"[('RD', 'research & development, internal work')]","[{'comment_id': 2616165628, 'issue_id': 2813418065, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195314.png)](https://mergebot.odoo.com/odoo/odoo/pull/195314)', 'created_at': datetime.datetime(2025, 1, 27, 16, 4, 17, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-27 16:04:17 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195314.png)](https://mergebot.odoo.com/odoo/odoo/pull/195314)

"
2813402724,pull_request,closed,,[FW][FIX] web: Fix navigation test hotkeys issue,"Fixes test broken by: be23ed0

https://runbot.odoo.com/odoo/runbot.build.error/109595

---
I confirm I have signed the CLA and read the PR guidelines at www.odoo.com/submit-pr

Forward-Port-Of: odoo/odoo#193969
Forward-Port-Of: odoo/odoo#193764",fw-bot,2025-01-27 15:57:46+00:00,[],2025-01-28 12:09:09+00:00,2025-01-28 12:09:09+00:00,https://github.com/odoo/odoo/pull/195313,"[('RD', 'research & development, internal work'), ('forwardport', 'This PR was created by @fw-bot')]","[{'comment_id': 2616148220, 'issue_id': 2813402724, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195313.png)](https://mergebot.odoo.com/odoo/odoo/pull/195313)', 'created_at': datetime.datetime(2025, 1, 27, 15, 57, 48, tzinfo=datetime.timezone.utc)}, {'comment_id': 2616148263, 'issue_id': 2813402724, 'author': 'fw-bot', 'body': 'This PR targets saas-18.1 and is part of the forward-port chain. Further PRs will be created up to master.\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 27, 15, 57, 48, tzinfo=datetime.timezone.utc)}, {'comment_id': 2616400797, 'issue_id': 2813402724, 'author': 'fw-bot', 'body': '@BastienFafchamps @aab-odoo ci/runbot failed on this forward-port PR', 'created_at': datetime.datetime(2025, 1, 27, 17, 11, 35, tzinfo=datetime.timezone.utc)}, {'comment_id': 2617541457, 'issue_id': 2813402724, 'author': 'fw-bot', 'body': '@BastienFafchamps @aab-odoo this forward port of odoo/odoo#193764 is awaiting action (not merged or closed).', 'created_at': datetime.datetime(2025, 1, 28, 2, 1, 28, tzinfo=datetime.timezone.utc)}, {'comment_id': 2618389543, 'issue_id': 2813402724, 'author': 'BastienFafchamps', 'body': '@robodoo r+', 'created_at': datetime.datetime(2025, 1, 28, 9, 17, 16, tzinfo=datetime.timezone.utc)}, {'comment_id': 2618389665, 'issue_id': 2813402724, 'author': 'robodoo', 'body': '@BastienFafchamps you may want to rebuild or fix this PR as it has failed CI.', 'created_at': datetime.datetime(2025, 1, 28, 9, 17, 20, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-27 15:57:48 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195313.png)](https://mergebot.odoo.com/odoo/odoo/pull/195313)

fw-bot (Issue Creator) on (2025-01-27 15:57:48 UTC): This PR targets saas-18.1 and is part of the forward-port chain. Further PRs will be created up to master.

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

fw-bot (Issue Creator) on (2025-01-27 17:11:35 UTC): @BastienFafchamps @aab-odoo ci/runbot failed on this forward-port PR

fw-bot (Issue Creator) on (2025-01-28 02:01:28 UTC): @BastienFafchamps @aab-odoo this forward port of odoo/odoo#193764 is awaiting action (not merged or closed).

BastienFafchamps on (2025-01-28 09:17:16 UTC): @robodoo r+

robodoo on (2025-01-28 09:17:20 UTC): @BastienFafchamps you may want to rebuild or fix this PR as it has failed CI.

"
2813402264,pull_request,open,,[FIX] account: outbound shouldnt require validated bank account,"The `require_partner_bank_account` flag on the payment shouldn't require the `allow_out_payment` flag on it when the payment type is `inbound` as it leads to confusion.

This generates an issue with the `l10n_it_riba` RiBa payment method. It requires the bank account, but the money is incoming, not outgoing.

Enterprise PR: odoo/enterprise#77901

Task [link](https://www.odoo.com/odoo/project/967/tasks/4497749)
task-4497749",lordkrandel,2025-01-27 15:57:37+00:00,[],2025-01-27 16:23:12+00:00,,https://github.com/odoo/odoo/pull/195312,"[('RD', 'research & development, internal work')]","[{'comment_id': 2616147867, 'issue_id': 2813402264, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195312.png)](https://mergebot.odoo.com/odoo/odoo/pull/195312)', 'created_at': datetime.datetime(2025, 1, 27, 15, 57, 40, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-27 15:57:40 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195312.png)](https://mergebot.odoo.com/odoo/odoo/pull/195312)

"
2813401650,pull_request,closed,,"[FW][IMP] account_edi_ubl_cii,account_peppol: Peppol First amendments","- Improvements of message of Peppol/BIS3 related warnings of the Print & Send wizards.
- Wording improvements for clarity.
- Make the ""What is Peppol"" modal more present. Change its flow: the ""activate"" buttons
now leads to the Peppol registration wizard if the company is not registered yet.

task-4478365

Forward-Port-Of: odoo/odoo#194460
Forward-Port-Of: odoo/odoo#193714",fw-bot,2025-01-27 15:57:22+00:00,[],2025-01-28 04:26:09+00:00,2025-01-28 04:26:09+00:00,https://github.com/odoo/odoo/pull/195311,"[('RD', 'research & development, internal work'), ('forwardport', 'This PR was created by @fw-bot'), ('18.2', None)]","[{'comment_id': 2616147112, 'issue_id': 2813401650, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195311.png)](https://mergebot.odoo.com/odoo/odoo/pull/195311)', 'created_at': datetime.datetime(2025, 1, 27, 15, 57, 24, tzinfo=datetime.timezone.utc)}, {'comment_id': 2616147150, 'issue_id': 2813401650, 'author': 'fw-bot', 'body': '@clbr-odoo @antoine162 this PR targets master and is the last of the forward-port chain.\n\nTo merge the full chain, use\n> @robodoo r+\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 27, 15, 57, 24, tzinfo=datetime.timezone.utc)}, {'comment_id': 2616159663, 'issue_id': 2813401650, 'author': 'clbr-odoo', 'body': '@robodoo r+', 'created_at': datetime.datetime(2025, 1, 27, 16, 2, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-27 15:57:24 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195311.png)](https://mergebot.odoo.com/odoo/odoo/pull/195311)

fw-bot (Issue Creator) on (2025-01-27 15:57:24 UTC): @clbr-odoo @antoine162 this PR targets master and is the last of the forward-port chain.

To merge the full chain, use

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

clbr-odoo on (2025-01-27 16:02:00 UTC): @robodoo r+

"
2813400759,pull_request,closed,,[FW][FIX] web: remove error notification when loading an image,"There is already a placeholder image displayed when an image fails to load.

opw-4419565

Forward-Port-Of: odoo/odoo#194266
Forward-Port-Of: odoo/odoo#193825",fw-bot,2025-01-27 15:57:00+00:00,[],2025-01-28 13:03:06+00:00,2025-01-28 13:03:06+00:00,https://github.com/odoo/odoo/pull/195310,"[('OE', 'the report is linked to a support ticket (opw-...)'), ('forwardport', 'This PR was created by @fw-bot'), ('18.2', None)]","[{'comment_id': 2616146050, 'issue_id': 2813400759, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195310.png)](https://mergebot.odoo.com/odoo/odoo/pull/195310)', 'created_at': datetime.datetime(2025, 1, 27, 15, 57, 1, tzinfo=datetime.timezone.utc)}, {'comment_id': 2616146091, 'issue_id': 2813400759, 'author': 'fw-bot', 'body': '@hubvd @aab-odoo this PR targets master and is the last of the forward-port chain.\n\nTo merge the full chain, use\n> @robodoo r+\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 27, 15, 57, 2, tzinfo=datetime.timezone.utc)}, {'comment_id': 2617541364, 'issue_id': 2813400759, 'author': 'fw-bot', 'body': '@hubvd @aab-odoo this forward port of odoo/odoo#193825 is awaiting action (not merged or closed).', 'created_at': datetime.datetime(2025, 1, 28, 2, 1, 26, tzinfo=datetime.timezone.utc)}, {'comment_id': 2618183527, 'issue_id': 2813400759, 'author': 'hubvd', 'body': '@robodoo r+', 'created_at': datetime.datetime(2025, 1, 28, 8, 13, 7, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-27 15:57:01 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195310.png)](https://mergebot.odoo.com/odoo/odoo/pull/195310)

fw-bot (Issue Creator) on (2025-01-27 15:57:02 UTC): @hubvd @aab-odoo this PR targets master and is the last of the forward-port chain.

To merge the full chain, use

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

fw-bot (Issue Creator) on (2025-01-28 02:01:26 UTC): @hubvd @aab-odoo this forward port of odoo/odoo#193825 is awaiting action (not merged or closed).

hubvd on (2025-01-28 08:13:07 UTC): @robodoo r+

"
2813399837,pull_request,closed,,[FW][IMP] mail: minimize notification email layout,"Email notifications typically include:
1) A header with elements such as an access button, title, or subtitle.
2) A footer with sender information and a ""Powered by Odoo"" link.

While these elements provide valuable context, they can clutter email threads, especially in interleaved responses.

This commit introduces a dynamic mechanism to streamline email notifications by conditionally hiding the header and footer based on predefined criteria:

By default,
- The header will be displayed only if it contains an access button.
- The footer will be displayed if it contains an access button and the email is sent from an internal user and if the email is a notification  about an invoice, a Purchase order (PO) or a Sales order (SO).

To ensure flexibility, new context variables are introduced:
- `email_notification_allow_header`, `email_notification_allow_footer`: Enable or disable the conditional hiding mechanism.
- `email_notification_force_header`, `email_notification_force_footer`: Force the display of the header and footer regardless of conditions.

Additionally, the ribbon indicating that an email is internal has been removed to further simplify the layout.

These updates reduce email size, improve readability in threaded conversations, and ensure that critical information is highlighted without unnecessary clutter.

Task-4128966

Forward-Port-Of: odoo/odoo#194439
Forward-Port-Of: odoo/odoo#190390",fw-bot,2025-01-27 15:56:38+00:00,[],2025-01-29 13:50:08+00:00,2025-01-29 13:50:08+00:00,https://github.com/odoo/odoo/pull/195309,"[('RD', 'research & development, internal work'), ('forwardport', 'This PR was created by @fw-bot'), ('conflict', 'There was an error while creating this forward-port PR'), ('18.2', None)]","[{'comment_id': 2616145097, 'issue_id': 2813399837, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195309.png)](https://mergebot.odoo.com/odoo/odoo/pull/195309)', 'created_at': datetime.datetime(2025, 1, 27, 15, 56, 39, tzinfo=datetime.timezone.utc)}, {'comment_id': 2616145129, 'issue_id': 2813399837, 'author': 'fw-bot', 'body': '@julien-banken @tde-banana-odoo cherrypicking of pull request odoo/odoo#190390 failed.\n\nstdout:\n```\nAuto-merging addons/account/models/account_move_send.py\nCONFLICT (content): Merge conflict in addons/account/models/account_move_send.py\nAuto-merging addons/mail/data/mail_templates_invite.xml\nAuto-merging addons/mail/models/mail_thread.py\nAuto-merging addons/mail/tests/common.py\nAuto-merging addons/purchase/models/purchase_order.py\nAuto-merging addons/sale/models/sale_order.py\n\n```\n\nEither perform the forward-port manually (and push to this branch, proceeding as usual) or close this PR (maybe?).\n\nIn the former case, you may want to edit this PR message as well.\n\n:warning: after resolving this conflict, you will need to merge it via @robodoo.\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 27, 15, 56, 40, tzinfo=datetime.timezone.utc)}, {'comment_id': 2617543501, 'issue_id': 2813399837, 'author': 'fw-bot', 'body': '@julien-banken @tde-banana-odoo this forward port of odoo/odoo#190390 is awaiting action (not merged or closed).', 'created_at': datetime.datetime(2025, 1, 28, 2, 2, tzinfo=datetime.timezone.utc)}, {'comment_id': 2620471838, 'issue_id': 2813399837, 'author': 'fw-bot', 'body': '@julien-banken @tde-banana-odoo this forward port of odoo/odoo#190390 is awaiting action (not merged or closed).', 'created_at': datetime.datetime(2025, 1, 29, 2, 1, 29, tzinfo=datetime.timezone.utc)}, {'comment_id': 2621092092, 'issue_id': 2813399837, 'author': 'julien-banken', 'body': '@robodoo r+', 'created_at': datetime.datetime(2025, 1, 29, 9, 20, 47, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-27 15:56:39 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195309.png)](https://mergebot.odoo.com/odoo/odoo/pull/195309)

fw-bot (Issue Creator) on (2025-01-27 15:56:40 UTC): @julien-banken @tde-banana-odoo cherrypicking of pull request odoo/odoo#190390 failed.

stdout:
```
Auto-merging addons/account/models/account_move_send.py
CONFLICT (content): Merge conflict in addons/account/models/account_move_send.py
Auto-merging addons/mail/data/mail_templates_invite.xml
Auto-merging addons/mail/models/mail_thread.py
Auto-merging addons/mail/tests/common.py
Auto-merging addons/purchase/models/purchase_order.py
Auto-merging addons/sale/models/sale_order.py

```

Either perform the forward-port manually (and push to this branch, proceeding as usual) or close this PR (maybe?).

In the former case, you may want to edit this PR message as well.

:warning: after resolving this conflict, you will need to merge it via @robodoo.

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

fw-bot (Issue Creator) on (2025-01-28 02:02:00 UTC): @julien-banken @tde-banana-odoo this forward port of odoo/odoo#190390 is awaiting action (not merged or closed).

fw-bot (Issue Creator) on (2025-01-29 02:01:29 UTC): @julien-banken @tde-banana-odoo this forward port of odoo/odoo#190390 is awaiting action (not merged or closed).

julien-banken on (2025-01-29 09:20:47 UTC): @robodoo r+

"
2813398203,pull_request,closed,,[FW] Hoot fixes,"This commit handles various fixes for the Hoot testing framework & other frontend unit test helpers.

Enterprise: https://github.com/odoo/enterprise/pull/77245

---
I confirm I have signed the CLA and read the PR guidelines at www.odoo.com/submit-pr

Forward-Port-Of: odoo/odoo#194093
Forward-Port-Of: odoo/odoo#193937",fw-bot,2025-01-27 15:55:59+00:00,[],2025-01-29 13:50:00+00:00,2025-01-29 13:50:00+00:00,https://github.com/odoo/odoo/pull/195308,"[('RD', 'research & development, internal work'), ('forwardport', 'This PR was created by @fw-bot'), ('18.2', None)]","[{'comment_id': 2616144161, 'issue_id': 2813398203, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195308.png)](https://mergebot.odoo.com/odoo/odoo/pull/195308)', 'created_at': datetime.datetime(2025, 1, 27, 15, 56, 17, tzinfo=datetime.timezone.utc)}, {'comment_id': 2616144226, 'issue_id': 2813398203, 'author': 'fw-bot', 'body': '@jum-odoo @mcm-odoo this PR targets master and is the last of the forward-port chain.\n\nTo merge the full chain, use\n> @robodoo r+\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 27, 15, 56, 18, tzinfo=datetime.timezone.utc)}, {'comment_id': 2618377640, 'issue_id': 2813398203, 'author': 'jum-odoo', 'body': '@robodoo r+', 'created_at': datetime.datetime(2025, 1, 28, 9, 11, 43, tzinfo=datetime.timezone.utc)}, {'comment_id': 2620143282, 'issue_id': 2813398203, 'author': 'robodoo', 'body': '@jum-odoo @mcm-odoo linked pull request(s) odoo/enterprise#77893 not ready. Linked PRs are not staged until all of them are ready.', 'created_at': datetime.datetime(2025, 1, 28, 22, 0, 4, tzinfo=datetime.timezone.utc)}, {'comment_id': 2620471393, 'issue_id': 2813398203, 'author': 'fw-bot', 'body': '@jum-odoo @mcm-odoo this forward port of odoo/odoo#193937 is awaiting action (not merged or closed).', 'created_at': datetime.datetime(2025, 1, 29, 2, 1, 5, tzinfo=datetime.timezone.utc)}, {'comment_id': 2620967331, 'issue_id': 2813398203, 'author': 'fw-bot', 'body': '@jum-odoo @mcm-odoo this PR was modified / updated and has become a normal PR. It must be merged directly.', 'created_at': datetime.datetime(2025, 1, 29, 8, 22, 16, tzinfo=datetime.timezone.utc)}, {'comment_id': 2621074885, 'issue_id': 2813398203, 'author': 'jum-odoo', 'body': '@robodoo rebase-ff delegate+ r+', 'created_at': datetime.datetime(2025, 1, 29, 9, 14, 2, tzinfo=datetime.timezone.utc)}, {'comment_id': 2621074979, 'issue_id': 2813398203, 'author': 'robodoo', 'body': 'Merge method set to rebase and fast-forward.', 'created_at': datetime.datetime(2025, 1, 29, 9, 14, 5, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-27 15:56:17 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195308.png)](https://mergebot.odoo.com/odoo/odoo/pull/195308)

fw-bot (Issue Creator) on (2025-01-27 15:56:18 UTC): @jum-odoo @mcm-odoo this PR targets master and is the last of the forward-port chain.

To merge the full chain, use

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

jum-odoo on (2025-01-28 09:11:43 UTC): @robodoo r+

robodoo on (2025-01-28 22:00:04 UTC): @jum-odoo @mcm-odoo linked pull request(s) odoo/enterprise#77893 not ready. Linked PRs are not staged until all of them are ready.

fw-bot (Issue Creator) on (2025-01-29 02:01:05 UTC): @jum-odoo @mcm-odoo this forward port of odoo/odoo#193937 is awaiting action (not merged or closed).

fw-bot (Issue Creator) on (2025-01-29 08:22:16 UTC): @jum-odoo @mcm-odoo this PR was modified / updated and has become a normal PR. It must be merged directly.

jum-odoo on (2025-01-29 09:14:02 UTC): @robodoo rebase-ff delegate+ r+

robodoo on (2025-01-29 09:14:05 UTC): Merge method set to rebase and fast-forward.

"
2813347646,pull_request,closed,,[FIX] iot_box_image: input acces for odoo user,"Currently, as the user ""odoo"" which runs Odoo service on the IoT Box on images >=25_01 is not in the group ""input"" it does not detect all of the connected USB devices and cannot properly detect keyboard input in KeyboardDriver_L.py

Note: the fix needs the build of a new image to apply it

This PR fixes the issue by adding ""odoo"" to the ""input"" group

task-4432802

Related PR:
https://github.com/odoo/odoo/pull/195306
",Ysoroko,2025-01-27 15:35:17+00:00,[],2025-01-28 12:08:29+00:00,2025-01-28 12:08:29+00:00,https://github.com/odoo/odoo/pull/195307,"[('RD', 'research & development, internal work')]","[{'comment_id': 2616088929, 'issue_id': 2813347646, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195307.png)](https://mergebot.odoo.com/odoo/odoo/pull/195307)', 'created_at': datetime.datetime(2025, 1, 27, 15, 35, 20, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-27 15:35:20 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195307.png)](https://mergebot.odoo.com/odoo/odoo/pull/195307)

"
2813339425,pull_request,closed,,[FIX] hw_drivers: fix foot pedals,"Currently foot pedals often don't send their input to Odoo This is due to the fact that the foot pedals are detected as 1 usb device which is associated with 3 separate event files for its 3 different fonctionalities (a foot switch can work as a keyboard, a mouse and a joystick)
Our current code only detects input from one of these 3 event files (the last one in the list) while the input is actually only sent to the keyboard event file.

Since ""evdev"" and ""usb core"" libraries don't allow us to determine which evdev device is the right one this PR allows listening to all of the event files associated to a usb device to read input from all of them.

This PR also adds some comment to simplify the understanding of the input detection and event files structure on Linux.

Note: on IoT Box images > 25.01 the user ""odoo"" which runs Odoo service needs to be in the group ""input"" to be able to correctly detect evdev devices and have access to their event files.

task-4432802

Related PR:
#195307",Ysoroko,2025-01-27 15:31:47+00:00,[],2025-01-29 11:23:02+00:00,2025-01-29 11:23:02+00:00,https://github.com/odoo/odoo/pull/195306,"[('RD', 'research & development, internal work')]","[{'comment_id': 2616079830, 'issue_id': 2813339425, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195306.png)](https://mergebot.odoo.com/odoo/odoo/pull/195306)', 'created_at': datetime.datetime(2025, 1, 27, 15, 31, 50, tzinfo=datetime.timezone.utc)}, {'comment_id': 2618370010, 'issue_id': 2813339425, 'author': 'robodoo', 'body': '@Ysoroko @qle-odoo staging failed: ci/runbot on bd15d4688837c9adaf4f669c195f28c0dc8d57b8 (view more at https://runbot.odoo.com/runbot/build/74067569)', 'created_at': datetime.datetime(2025, 1, 28, 9, 8, 9, tzinfo=datetime.timezone.utc)}, {'comment_id': 2621130344, 'issue_id': 2813339425, 'author': 'Ysoroko', 'body': '@robodoo retry', 'created_at': datetime.datetime(2025, 1, 29, 9, 37, 33, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-27 15:31:50 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195306.png)](https://mergebot.odoo.com/odoo/odoo/pull/195306)

robodoo on (2025-01-28 09:08:09 UTC): @Ysoroko @qle-odoo staging failed: ci/runbot on bd15d4688837c9adaf4f669c195f28c0dc8d57b8 (view more at https://runbot.odoo.com/runbot/build/74067569)

Ysoroko (Issue Creator) on (2025-01-29 09:37:33 UTC): @robodoo retry

"
2813329120,pull_request,open,,[FIX] website_sale: fix overlapping divs on mobile,"The navigation buttons on the cart were repositioned on the screen for mobile view by setting position to absolute.
However this causes an issue if a user adds blocks from the editor below the checkout screen, since  disregards
the height of the element.
To fix this the height of the element is set on the placeholder element to which the navigation buttons are anchored.

opw-4498660



---
I confirm I have signed the CLA and read the PR guidelines at www.odoo.com/submit-pr
",livaios,2025-01-27 15:27:48+00:00,[],2025-02-07 15:45:26+00:00,,https://github.com/odoo/odoo/pull/195305,"[('OE', 'the report is linked to a support ticket (opw-...)')]","[{'comment_id': 2616068696, 'issue_id': 2813329120, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195305.png)](https://mergebot.odoo.com/odoo/odoo/pull/195305)', 'created_at': datetime.datetime(2025, 1, 27, 15, 27, 51, tzinfo=datetime.timezone.utc)}, {'comment_id': 2637375954, 'issue_id': 2813329120, 'author': 'livaios', 'body': 'Since its mostly a design fix, @stefanorigano I would appreciate your review on this :slightly_smiling_face:', 'created_at': datetime.datetime(2025, 2, 5, 16, 11, 11, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-27 15:27:51 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195305.png)](https://mergebot.odoo.com/odoo/odoo/pull/195305)

livaios (Issue Creator) on (2025-02-05 16:11:11 UTC): Since its mostly a design fix, @stefanorigano I would appreciate your review on this :slightly_smiling_face:

"
2813327199,pull_request,closed,,[FIX] account: compute journal_id payment register,"Steps:

- Install `account_sepa_drect_debit`
- Duplicate the default bank journal and add a bank account
- Create an invoice for a partner with valid mandate
- Open the payment register wizard
- Change journal from default one to the duplicated one
- Select 'SEPA Direct Debit' as payment method
- Click on 'Create payments'
-> Validation Error: ""The selected payment method is not available ...""

Cause:

In `account_sepa_direct_debit.action_create_payments`, the `journal_id` is recomputed when
calling the `write` method on the wizard.

Fix:

Dont recompute the `journal_id` if it is already in
`available_journal_ids`

Note:

We do the same for `payment_method_line_id`

opw-4485191
",guva-odoo,2025-01-27 15:27:03+00:00,[],2025-01-28 17:05:25+00:00,2025-01-28 17:05:25+00:00,https://github.com/odoo/odoo/pull/195304,"[('OE', 'the report is linked to a support ticket (opw-...)')]","[{'comment_id': 2616066659, 'issue_id': 2813327199, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195304.png)](https://mergebot.odoo.com/odoo/odoo/pull/195304)', 'created_at': datetime.datetime(2025, 1, 27, 15, 27, 5, tzinfo=datetime.timezone.utc)}, {'comment_id': 2616079205, 'issue_id': 2813327199, 'author': 'guva-odoo', 'body': 'enterprise pr with test: https://github.com/odoo/enterprise/pull/77602', 'created_at': datetime.datetime(2025, 1, 27, 15, 31, 36, tzinfo=datetime.timezone.utc)}, {'comment_id': 2617222149, 'issue_id': 2813327199, 'author': 'robodoo', 'body': '@guva-odoo @william-andre linked pull request(s) odoo/enterprise#77602 not ready. Linked PRs are not staged until all of them are ready.', 'created_at': datetime.datetime(2025, 1, 28, 0, 0, 3, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-27 15:27:05 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195304.png)](https://mergebot.odoo.com/odoo/odoo/pull/195304)

guva-odoo (Issue Creator) on (2025-01-27 15:31:36 UTC): enterprise pr with test: https://github.com/odoo/enterprise/pull/77602

robodoo on (2025-01-28 00:00:03 UTC): @guva-odoo @william-andre linked pull request(s) odoo/enterprise#77602 not ready. Linked PRs are not staged until all of them are ready.

"
2813308883,pull_request,closed,,[FIX] stock_account: avoid traceback when processing valuation lot,"Steps to reproduce the bug:
- Create a storable product “P1”:
    - Product category: “AVCO”
    - BoM:
        - Type: Kit
        - Components:
            - C1: Tracked by lot and valuated by lot
            - C2
- Create a purchase order:
    - 1 unit of P1 → Price: $10
- Confirm the PO

- Go to the reception:
    - Set a new lot (Lot_1) for C1
    - Validate the reception

Problem:
A traceback is triggered:
```
new_std_price = move_cost[lot]
~~~~~~~~~^^^^^ KeyError: stock.lot(19,)""
```

When validating the picking, the moves will first be validated, and then
the product price will be updated before the move is marked as done:
https://github.com/odoo/odoo/blob/168f4d75ef724ee99ffaf7884730facd8ed936bb/addons/stock_account/models/stock_move.py#L387-L388

The move cost is retrieved using the _get_price_unit function:
https://github.com/odoo/odoo/commit/2d933b83613ad52d76ab457201adecac6fcf184b#diff-ad6229e976ce0bd1592e805b88e9813ac4e3f6fb989d3dfb8dfb8b70af03cd58R403

However, since move.product_id is different from move.purchase_line,
the parent product will be treated as a kit, and the unit price of the
kit product will be used instead: https://github.com/odoo/odoo/blob/17.0/addons/purchase_mrp/models/stock_move.py#L19
Based on this, the unit price for each component is calculated using
the cost_share and the bom_lines quantities. This is then stored in a
dictionary with an empty record of the ```”stock.lot”``` model:

When attempting to access the dictionary using the lot key from the move,
no result is returned, leading to an error.
https://github.com/odoo/odoo/blob/2d933b83613ad52d76ab457201adecac6fcf184b/addons/stock_account/models/stock_move.py#L425

Solution:
The process should account for the fact that the move product is a
component of a kit. Therefore, the price should be directly retrieved
from the dictionary without requiring a key.

opw-4434390",DjamelTouati,2025-01-27 15:19:47+00:00,[],2025-01-30 14:06:13+00:00,2025-01-30 14:06:13+00:00,https://github.com/odoo/odoo/pull/195303,"[('OE', 'the report is linked to a support ticket (opw-...)')]","[{'comment_id': 2616047669, 'issue_id': 2813308883, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195303.png)](https://mergebot.odoo.com/odoo/odoo/pull/195303)', 'created_at': datetime.datetime(2025, 1, 27, 15, 19, 50, tzinfo=datetime.timezone.utc)}, {'comment_id': 2624009798, 'issue_id': 2813308883, 'author': 'Whenrow', 'body': 'robodoo r+', 'created_at': datetime.datetime(2025, 1, 30, 9, 51, 12, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-27 15:19:50 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195303.png)](https://mergebot.odoo.com/odoo/odoo/pull/195303)

Whenrow on (2025-01-30 09:51:12 UTC): robodoo r+

"
2813265267,pull_request,closed,,[FW][FIX] l10n_*: load taxes for only root companies,"To reproduce:
1) install localization of any of the below modules. 
2) Make branch companies in that localization.
3) install one of the modules below.

we get this
error:https://github.com/odoo/odoo/blob/17.0/addons/account/models/account_tax.py#L200, `Tax names must be unique`, so only load taxes for root companies.

and for tax_group we get this error:

```
The operation cannot be completed:
- Create/update: a mandatory field is not set.
- Delete: another model requires the record being deleted. If possible, archive it instead.

Model: Tax Group (account.tax.group)
Field: Name (name)
```

Description of the issue/feature this PR addresses:

Current behavior before PR:

Desired behavior after PR is merged:




---
I confirm I have signed the CLA and read the PR guidelines at www.odoo.com/submit-pr

Forward-Port-Of: odoo/odoo#193013",fw-bot,2025-01-27 15:02:15+00:00,[],2025-01-28 09:13:15+00:00,2025-01-28 09:13:15+00:00,https://github.com/odoo/odoo/pull/195302,"[('RD', 'research & development, internal work'), ('forwardport', 'This PR was created by @fw-bot')]","[{'comment_id': 2616000615, 'issue_id': 2813265267, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195302.png)](https://mergebot.odoo.com/odoo/odoo/pull/195302)', 'created_at': datetime.datetime(2025, 1, 27, 15, 2, 17, tzinfo=datetime.timezone.utc)}, {'comment_id': 2616000683, 'issue_id': 2813265267, 'author': 'fw-bot', 'body': 'This PR targets saas-17.4 and is part of the forward-port chain. Further PRs will be created up to master.\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 27, 15, 2, 19, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-27 15:02:17 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195302.png)](https://mergebot.odoo.com/odoo/odoo/pull/195302)

fw-bot (Issue Creator) on (2025-01-27 15:02:19 UTC): This PR targets saas-17.4 and is part of the forward-port chain. Further PRs will be created up to master.

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

"
2813263141,pull_request,closed,,[FIX] sms: correctly fetch number on linked partner,"Followup of odoo/odoo#134682 but for code added notably during odoo/odoo@f685e70616e8fe357690cd8e6cfa4543c1d0df24

Also fix the test, as it was not testing the real issue (wrong model used in test).

Task-3743525",tde-banana-odoo,2025-01-27 15:01:23+00:00,[],2025-01-27 19:37:49+00:00,2025-01-27 19:37:49+00:00,https://github.com/odoo/odoo/pull/195301,"[('RD', 'research & development, internal work')]","[{'comment_id': 2615998184, 'issue_id': 2813263141, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195301.png)](https://mergebot.odoo.com/odoo/odoo/pull/195301)', 'created_at': datetime.datetime(2025, 1, 27, 15, 1, 26, tzinfo=datetime.timezone.utc)}, {'comment_id': 2616001475, 'issue_id': 2813263141, 'author': 'tde-banana-odoo', 'body': '@robodoo r+', 'created_at': datetime.datetime(2025, 1, 27, 15, 2, 36, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-27 15:01:26 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195301.png)](https://mergebot.odoo.com/odoo/odoo/pull/195301)

tde-banana-odoo (Issue Creator) on (2025-01-27 15:02:36 UTC): @robodoo r+

"
2813254333,pull_request,closed,,[FW][FIX] base: merge partner with ir.property w/o company,"Scenario:

- have two res.partner with ir.property with res_id and without company_id (eg. by editing the ir.property and removing it)
- merge these partners => UniqueViolation error because of unicity of (fields_id, company_id, res_id) constraint of ir_property table

Why:

The query merging property doesn't take NULL into account for company_id when checking if the destination partner already has this property.

Also a savepoint was used, without ignoring the error so the import could not be done if an error happened.

Fix:

Take the case where both records have NULL company_id into account.

Also ignore error and log a warning when a legitimate error happens because of duplicate ir.property in source records.

Note:

This issue should only happen when:

- modifying ir.property directly
- after a migration with a res.partner field becoming company_dependent field, the partners without company would get an ir.property without company_id

Without the fix, the added test would fail because of an error at each _merge call.

opw-4300572
opw-4030442

Forward-Port-Of: odoo/odoo#194942
Forward-Port-Of: odoo/odoo#188673",fw-bot,2025-01-27 14:57:58+00:00,[],2025-01-27 16:56:30+00:00,2025-01-27 16:56:08+00:00,https://github.com/odoo/odoo/pull/195300,"[('OE', 'the report is linked to a support ticket (opw-...)'), ('forwardport', 'This PR was created by @fw-bot'), ('conflict', 'There was an error while creating this forward-port PR')]","[{'comment_id': 2615988982, 'issue_id': 2813254333, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195300.png)](https://mergebot.odoo.com/odoo/odoo/pull/195300)', 'created_at': datetime.datetime(2025, 1, 27, 14, 57, 59, tzinfo=datetime.timezone.utc)}, {'comment_id': 2615989088, 'issue_id': 2813254333, 'author': 'fw-bot', 'body': '@nle-odoo @ryv-odoo cherrypicking of pull request odoo/odoo#188673 failed.\n\nstdout:\n```\nAuto-merging odoo/addons/base/tests/test_res_partner.py\nAuto-merging odoo/addons/base/wizard/base_partner_merge.py\nCONFLICT (content): Merge conflict in odoo/addons/base/wizard/base_partner_merge.py\n\n```\n\nEither perform the forward-port manually (and push to this branch, proceeding as usual) or close this PR (maybe?).\n\nIn the former case, you may want to edit this PR message as well.\n\n:warning: after resolving this conflict, you will need to merge it via @robodoo.\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 27, 14, 58, 1, tzinfo=datetime.timezone.utc)}, {'comment_id': 2616361726, 'issue_id': 2813254333, 'author': 'nle-odoo', 'body': ""in 18.0, the refactor to use ir.default and a JSONB field make the main fix non-necessary, the added try/except/pass could possibly be useful but it's not sure (and if it was useful, we would get a feedback about this and we could check if there is a real error or not) so for now I'm closing this"", 'created_at': datetime.datetime(2025, 1, 27, 16, 56, 8, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-27 14:57:59 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195300.png)](https://mergebot.odoo.com/odoo/odoo/pull/195300)

fw-bot (Issue Creator) on (2025-01-27 14:58:01 UTC): @nle-odoo @ryv-odoo cherrypicking of pull request odoo/odoo#188673 failed.

stdout:
```
Auto-merging odoo/addons/base/tests/test_res_partner.py
Auto-merging odoo/addons/base/wizard/base_partner_merge.py
CONFLICT (content): Merge conflict in odoo/addons/base/wizard/base_partner_merge.py

```

Either perform the forward-port manually (and push to this branch, proceeding as usual) or close this PR (maybe?).

In the former case, you may want to edit this PR message as well.

:warning: after resolving this conflict, you will need to merge it via @robodoo.

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

nle-odoo on (2025-01-27 16:56:08 UTC): in 18.0, the refactor to use ir.default and a JSONB field make the main fix non-necessary, the added try/except/pass could possibly be useful but it's not sure (and if it was useful, we would get a feedback about this and we could check if there is a real error or not) so for now I'm closing this

"
2813249162,pull_request,closed,,[FW][FIX] google_calendar: avoid sync failure on rescheduled all-day events,"Before this commit, syncing a Google Calendar that includes an all-day recurrent event—one of which is rescheduled—would fail entirely. This happened because `full_recurring_event_id` only handled events with a specific date-time format (`T...Z`), causing the regex to break for date-only IDs.

opw-4443780

---
I confirm I have signed the CLA and read the PR guidelines at www.odoo.com/submit-pr

Forward-Port-Of: odoo/odoo#194176",fw-bot,2025-01-27 14:55:57+00:00,[],2025-01-28 10:30:57+00:00,2025-01-28 10:30:57+00:00,https://github.com/odoo/odoo/pull/195299,"[('OE', 'the report is linked to a support ticket (opw-...)'), ('forwardport', 'This PR was created by @fw-bot')]","[{'comment_id': 2615983816, 'issue_id': 2813249162, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195299.png)](https://mergebot.odoo.com/odoo/odoo/pull/195299)', 'created_at': datetime.datetime(2025, 1, 27, 14, 56, tzinfo=datetime.timezone.utc)}, {'comment_id': 2615983935, 'issue_id': 2813249162, 'author': 'fw-bot', 'body': 'This PR targets saas-17.4 and is part of the forward-port chain. Further PRs will be created up to master.\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 27, 14, 56, 3, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-27 14:56:00 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195299.png)](https://mergebot.odoo.com/odoo/odoo/pull/195299)

fw-bot (Issue Creator) on (2025-01-27 14:56:03 UTC): This PR targets saas-17.4 and is part of the forward-port chain. Further PRs will be created up to master.

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

"
2813240128,pull_request,closed,,[FW][FIX] l10n_hu_edi: price include tax,"[FIX] l10n_hu_edi: price include tax

Price unit was not properly calculated:
* Didn't remove the discount.
* Didn't take into account price included taxes.

We also removed a test use case that didn't make sense.

Task-id: 4236755

---
I confirm I have signed the CLA and read the PR guidelines at www.odoo.com/submit-pr

Forward-Port-Of: odoo/odoo#190095",fw-bot,2025-01-27 14:52:23+00:00,[],2025-02-04 18:22:03+00:00,2025-02-04 18:22:03+00:00,https://github.com/odoo/odoo/pull/195298,"[('RD', 'research & development, internal work'), ('forwardport', 'This PR was created by @fw-bot')]","[{'comment_id': 2615974385, 'issue_id': 2813240128, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195298.png)](https://mergebot.odoo.com/odoo/odoo/pull/195298)', 'created_at': datetime.datetime(2025, 1, 27, 14, 52, 24, tzinfo=datetime.timezone.utc)}, {'comment_id': 2615974410, 'issue_id': 2813240128, 'author': 'fw-bot', 'body': 'This PR targets saas-17.4 and is part of the forward-port chain. Further PRs will be created up to master.\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 27, 14, 52, 25, tzinfo=datetime.timezone.utc)}, {'comment_id': 2616356970, 'issue_id': 2813240128, 'author': 'fw-bot', 'body': '@rugo-odoo @smetl the next pull request (odoo/odoo#195326) is in conflict. You can merge the chain up to here by saying\n> @robodoo r+\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 27, 16, 54, 14, tzinfo=datetime.timezone.utc)}, {'comment_id': 2626138116, 'issue_id': 2813240128, 'author': 'fw-bot', 'body': '@rugo-odoo @smetl this forward port of odoo/odoo#190095 is awaiting action (not merged or closed).', 'created_at': datetime.datetime(2025, 1, 31, 2, 2, 15, tzinfo=datetime.timezone.utc)}, {'comment_id': 2628685499, 'issue_id': 2813240128, 'author': 'fw-bot', 'body': '@rugo-odoo @smetl this forward port of odoo/odoo#190095 is awaiting action (not merged or closed).', 'created_at': datetime.datetime(2025, 2, 1, 2, 1, 44, tzinfo=datetime.timezone.utc)}, {'comment_id': 2629202062, 'issue_id': 2813240128, 'author': 'fw-bot', 'body': '@rugo-odoo @smetl this forward port of odoo/odoo#190095 is awaiting action (not merged or closed).', 'created_at': datetime.datetime(2025, 2, 2, 2, 2, 3, tzinfo=datetime.timezone.utc)}, {'comment_id': 2629730860, 'issue_id': 2813240128, 'author': 'fw-bot', 'body': '@rugo-odoo @smetl this forward port of odoo/odoo#190095 is awaiting action (not merged or closed).', 'created_at': datetime.datetime(2025, 2, 3, 2, 3, 4, tzinfo=datetime.timezone.utc)}, {'comment_id': 2630750640, 'issue_id': 2813240128, 'author': 'rugo-odoo', 'body': '@robodoo r+', 'created_at': datetime.datetime(2025, 2, 3, 12, 1, 18, tzinfo=datetime.timezone.utc)}, {'comment_id': 2631977107, 'issue_id': 2813240128, 'author': 'robodoo', 'body': '@rugo-odoo @smetl staging failed: ci/l10n on 916aedbd64ef6c70e2253aef900e0150b7685577 (view more at https://runbot.odoo.com/runbot/build/74416000)', 'created_at': datetime.datetime(2025, 2, 3, 20, 14, 59, tzinfo=datetime.timezone.utc)}, {'comment_id': 2633221291, 'issue_id': 2813240128, 'author': 'rugo-odoo', 'body': '@robodoo retry', 'created_at': datetime.datetime(2025, 2, 4, 8, 36, 54, tzinfo=datetime.timezone.utc)}, {'comment_id': 2634168911, 'issue_id': 2813240128, 'author': 'xmo-odoo', 'body': '@robodoo r-\r\n\r\nThe staging failed *in a test you added*, have you considered there might be an issue with that test? It broke 2 other stagings on the branch:\r\n\r\n- https://runbot.odoo.com/runbot/build/74465363\r\n- https://runbot.odoo.com/runbot/build/74462799\r\n\r\nAnd that makes every other PR in the sequence suspicious.', 'created_at': datetime.datetime(2025, 2, 4, 14, 37, 23, tzinfo=datetime.timezone.utc)}, {'comment_id': 2634169193, 'issue_id': 2813240128, 'author': 'robodoo', 'body': 'Note that only this forward-port has been unapproved, sibling forward ports may have to be unapproved individually.', 'created_at': datetime.datetime(2025, 2, 4, 14, 37, 26, tzinfo=datetime.timezone.utc)}, {'comment_id': 2634223932, 'issue_id': 2813240128, 'author': 'fw-bot', 'body': '@rugo-odoo @smetl this PR was modified / updated and has become a normal PR. It must be merged directly.', 'created_at': datetime.datetime(2025, 2, 4, 14, 55, 9, tzinfo=datetime.timezone.utc)}, {'comment_id': 2634437314, 'issue_id': 2813240128, 'author': 'rugo-odoo', 'body': '@robodoo r+', 'created_at': datetime.datetime(2025, 2, 4, 16, 11, 59, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-27 14:52:24 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195298.png)](https://mergebot.odoo.com/odoo/odoo/pull/195298)

fw-bot (Issue Creator) on (2025-01-27 14:52:25 UTC): This PR targets saas-17.4 and is part of the forward-port chain. Further PRs will be created up to master.

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

fw-bot (Issue Creator) on (2025-01-27 16:54:14 UTC): @rugo-odoo @smetl the next pull request (odoo/odoo#195326) is in conflict. You can merge the chain up to here by saying

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

fw-bot (Issue Creator) on (2025-01-31 02:02:15 UTC): @rugo-odoo @smetl this forward port of odoo/odoo#190095 is awaiting action (not merged or closed).

fw-bot (Issue Creator) on (2025-02-01 02:01:44 UTC): @rugo-odoo @smetl this forward port of odoo/odoo#190095 is awaiting action (not merged or closed).

fw-bot (Issue Creator) on (2025-02-02 02:02:03 UTC): @rugo-odoo @smetl this forward port of odoo/odoo#190095 is awaiting action (not merged or closed).

fw-bot (Issue Creator) on (2025-02-03 02:03:04 UTC): @rugo-odoo @smetl this forward port of odoo/odoo#190095 is awaiting action (not merged or closed).

rugo-odoo on (2025-02-03 12:01:18 UTC): @robodoo r+

robodoo on (2025-02-03 20:14:59 UTC): @rugo-odoo @smetl staging failed: ci/l10n on 916aedbd64ef6c70e2253aef900e0150b7685577 (view more at https://runbot.odoo.com/runbot/build/74416000)

rugo-odoo on (2025-02-04 08:36:54 UTC): @robodoo retry

xmo-odoo on (2025-02-04 14:37:23 UTC): @robodoo r-

The staging failed *in a test you added*, have you considered there might be an issue with that test? It broke 2 other stagings on the branch:

- https://runbot.odoo.com/runbot/build/74465363
- https://runbot.odoo.com/runbot/build/74462799

And that makes every other PR in the sequence suspicious.

robodoo on (2025-02-04 14:37:26 UTC): Note that only this forward-port has been unapproved, sibling forward ports may have to be unapproved individually.

fw-bot (Issue Creator) on (2025-02-04 14:55:09 UTC): @rugo-odoo @smetl this PR was modified / updated and has become a normal PR. It must be merged directly.

rugo-odoo on (2025-02-04 16:11:59 UTC): @robodoo r+

"
2813239151,pull_request,closed,,[FW][FIX] web: respect X2many field context when order is present,"Issue:
If we have a X2many that allows to have inactive records (with `context={'active_test': False}` on the field definition) and we specify a specific order for this X2many in this view, web_read won't respect the context of the field and will filter out inactive records.

This is because to apply a specific order in the web_read, we use search(), which will filter out inactive records from the `corecords` recordset.

Fix:
We fix this by forcing active_test=False before calling search and reapplying the previous context immediately after.

Closes #194311

Forward-Port-Of: odoo/odoo#194379",fw-bot,2025-01-27 14:52:00+00:00,[],2025-01-28 10:30:50+00:00,2025-01-28 10:30:50+00:00,https://github.com/odoo/odoo/pull/195297,"[('RD', 'research & development, internal work'), ('forwardport', 'This PR was created by @fw-bot'), ('conflict', 'There was an error while creating this forward-port PR')]","[{'comment_id': 2615973413, 'issue_id': 2813239151, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195297.png)](https://mergebot.odoo.com/odoo/odoo/pull/195297)', 'created_at': datetime.datetime(2025, 1, 27, 14, 52, 2, tzinfo=datetime.timezone.utc)}, {'comment_id': 2615973523, 'issue_id': 2813239151, 'author': 'fw-bot', 'body': '@aab-odoo @ryv-odoo cherrypicking of pull request odoo/odoo#194379 failed.\n\nstdout:\n```\nAuto-merging addons/web/models/models.py\nAuto-merging odoo/addons/test_new_api/models/test_unity_read.py\nCONFLICT (content): Merge conflict in odoo/addons/test_new_api/models/test_unity_read.py\nAuto-merging odoo/addons/test_new_api/tests/test_unity_read.py\n\n```\n\nEither perform the forward-port manually (and push to this branch, proceeding as usual) or close this PR (maybe?).\n\nIn the former case, you may want to edit this PR message as well.\n\n:warning: after resolving this conflict, you will need to merge it via @robodoo.\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 27, 14, 52, 4, tzinfo=datetime.timezone.utc)}, {'comment_id': 2616165756, 'issue_id': 2813239151, 'author': 'ryv-odoo', 'body': '@robodoo r+', 'created_at': datetime.datetime(2025, 1, 27, 16, 4, 20, tzinfo=datetime.timezone.utc)}, {'comment_id': 2616176571, 'issue_id': 2813239151, 'author': 'robodoo', 'body': ""@aab-odoo @ryv-odoo 'ci/runbot' failed on this reviewed PR."", 'created_at': datetime.datetime(2025, 1, 27, 16, 8, 16, tzinfo=datetime.timezone.utc)}, {'comment_id': 2618146969, 'issue_id': 2813239151, 'author': 'ryv-odoo', 'body': '@robodoo r+', 'created_at': datetime.datetime(2025, 1, 28, 7, 52, 25, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-27 14:52:02 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195297.png)](https://mergebot.odoo.com/odoo/odoo/pull/195297)

fw-bot (Issue Creator) on (2025-01-27 14:52:04 UTC): @aab-odoo @ryv-odoo cherrypicking of pull request odoo/odoo#194379 failed.

stdout:
```
Auto-merging addons/web/models/models.py
Auto-merging odoo/addons/test_new_api/models/test_unity_read.py
CONFLICT (content): Merge conflict in odoo/addons/test_new_api/models/test_unity_read.py
Auto-merging odoo/addons/test_new_api/tests/test_unity_read.py

```

Either perform the forward-port manually (and push to this branch, proceeding as usual) or close this PR (maybe?).

In the former case, you may want to edit this PR message as well.

:warning: after resolving this conflict, you will need to merge it via @robodoo.

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

ryv-odoo on (2025-01-27 16:04:20 UTC): @robodoo r+

robodoo on (2025-01-27 16:08:16 UTC): @aab-odoo @ryv-odoo 'ci/runbot' failed on this reviewed PR.

ryv-odoo on (2025-01-28 07:52:25 UTC): @robodoo r+

"
2813200564,pull_request,closed,,[FW][FIX] web: handle field sorting should include id,"This commit makes the same fix as [1] but it does t for kanban views instead of list views.

We discovered in task [2] we were developing for the master branch that we needed this fix and that we wanted to fix it from 17.0

[1]: ecc0a38a1d3b04f854d761fd498b120a4dfef5ad
[2]: opw-4370092

Task: opw-4370092

Forward-Port-Of: odoo/odoo#195130
Forward-Port-Of: odoo/odoo#194859",fw-bot,2025-01-27 14:36:32+00:00,[],2025-01-29 02:37:33+00:00,2025-01-29 02:37:33+00:00,https://github.com/odoo/odoo/pull/195296,"[('OE', 'the report is linked to a support ticket (opw-...)'), ('forwardport', 'This PR was created by @fw-bot')]","[{'comment_id': 2615933360, 'issue_id': 2813200564, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195296.png)](https://mergebot.odoo.com/odoo/odoo/pull/195296)', 'created_at': datetime.datetime(2025, 1, 27, 14, 36, 34, tzinfo=datetime.timezone.utc)}, {'comment_id': 2615933394, 'issue_id': 2813200564, 'author': 'fw-bot', 'body': 'This PR targets saas-18.1 and is part of the forward-port chain. Further PRs will be created up to master.\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 27, 14, 36, 35, tzinfo=datetime.timezone.utc)}, {'comment_id': 2616134310, 'issue_id': 2813200564, 'author': 'fw-bot', 'body': '@brboi @kebeclibre ci/runbot failed on this forward-port PR', 'created_at': datetime.datetime(2025, 1, 27, 15, 52, 37, tzinfo=datetime.timezone.utc)}, {'comment_id': 2617539613, 'issue_id': 2813200564, 'author': 'fw-bot', 'body': '@brboi @kebeclibre this forward port of odoo/odoo#194859 is awaiting action (not merged or closed).', 'created_at': datetime.datetime(2025, 1, 28, 2, 1, tzinfo=datetime.timezone.utc)}, {'comment_id': 2619291602, 'issue_id': 2813200564, 'author': 'fw-bot', 'body': '@brboi @kebeclibre this PR was modified / updated and has become a normal PR. It must be merged directly.', 'created_at': datetime.datetime(2025, 1, 28, 15, 14, 13, tzinfo=datetime.timezone.utc)}, {'comment_id': 2619293134, 'issue_id': 2813200564, 'author': 'brboi', 'body': '@robodoo r+', 'created_at': datetime.datetime(2025, 1, 28, 15, 14, 50, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-27 14:36:34 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195296.png)](https://mergebot.odoo.com/odoo/odoo/pull/195296)

fw-bot (Issue Creator) on (2025-01-27 14:36:35 UTC): This PR targets saas-18.1 and is part of the forward-port chain. Further PRs will be created up to master.

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

fw-bot (Issue Creator) on (2025-01-27 15:52:37 UTC): @brboi @kebeclibre ci/runbot failed on this forward-port PR

fw-bot (Issue Creator) on (2025-01-28 02:01:00 UTC): @brboi @kebeclibre this forward port of odoo/odoo#194859 is awaiting action (not merged or closed).

fw-bot (Issue Creator) on (2025-01-28 15:14:13 UTC): @brboi @kebeclibre this PR was modified / updated and has become a normal PR. It must be merged directly.

brboi on (2025-01-28 15:14:50 UTC): @robodoo r+

"
2813199144,pull_request,closed,,[FW][IMP] l10n_es_edi_sii: add cancellation,"Description of the issue/feature this PR addresses:

Current behavior before PR:

Desired behavior after PR is merged:




---
I confirm I have signed the CLA and read the PR guidelines at www.odoo.com/submit-pr

Forward-Port-Of: odoo/odoo#194734
Forward-Port-Of: odoo/odoo#192048",fw-bot,2025-01-27 14:35:56+00:00,[],2025-01-28 17:59:28+00:00,2025-01-28 17:59:27+00:00,https://github.com/odoo/odoo/pull/195295,"[('RD', 'research & development, internal work'), ('forwardport', 'This PR was created by @fw-bot'), ('18.2', None)]","[{'comment_id': 2615932153, 'issue_id': 2813199144, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195295.png)](https://mergebot.odoo.com/odoo/odoo/pull/195295)', 'created_at': datetime.datetime(2025, 1, 27, 14, 36, 8, tzinfo=datetime.timezone.utc)}, {'comment_id': 2615932187, 'issue_id': 2813199144, 'author': 'fw-bot', 'body': '@jco-odoo @RicGR98 this PR targets master and is the last of the forward-port chain containing:\n* odoo/odoo#195261\n\nTo merge the full chain, use\n> @robodoo r+\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 27, 14, 36, 9, tzinfo=datetime.timezone.utc)}, {'comment_id': 2617542607, 'issue_id': 2813199144, 'author': 'fw-bot', 'body': '@jco-odoo @RicGR98 this forward port of odoo/odoo#192048 is awaiting action (not merged or closed).', 'created_at': datetime.datetime(2025, 1, 28, 2, 1, 46, tzinfo=datetime.timezone.utc)}, {'comment_id': 2618343864, 'issue_id': 2813199144, 'author': 'jco-odoo', 'body': '@robodoo r+', 'created_at': datetime.datetime(2025, 1, 28, 9, 0, 12, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-27 14:36:08 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195295.png)](https://mergebot.odoo.com/odoo/odoo/pull/195295)

fw-bot (Issue Creator) on (2025-01-27 14:36:09 UTC): @jco-odoo @RicGR98 this PR targets master and is the last of the forward-port chain containing:
* odoo/odoo#195261

To merge the full chain, use

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

fw-bot (Issue Creator) on (2025-01-28 02:01:46 UTC): @jco-odoo @RicGR98 this forward port of odoo/odoo#192048 is awaiting action (not merged or closed).

jco-odoo on (2025-01-28 09:00:12 UTC): @robodoo r+

"
2813188901,pull_request,closed,,[FW][FIX] portal: prevent Sign duplication in edit mode,"**Problem:**
When editing the ""Sign & Pay"" modal in customer preview for a sale
order, changes are not saved due to multiple issues:
1. Saving the signature component directly results in only the
   signature UI being saved, missing the logic and props of the
   original component.
2. If the signature component is saved with other fields, it gets
   duplicated upon saving due to `<owl-component />` behavior. This
   re-renders every saved component and mounts those passed as props,
   causing duplication and breaking functionality.
   - Reference: public_component_service.js

**Solution:**
1. Hide the signature component during editing to prevent saving its
   UI-only state, preserving its logic and props.

**Steps to Reproduce:**
1. Create a sale order.
2. Click on ""Customer Preview.""
3. Enable edit mode.
4. Open the ""Sign & Pay"" modal, modify the content, and save.
   - The signature UI duplicates

**opw-4216372**
---
I confirm I have signed the CLA and read the PR guidelines at www.odoo.com/submit-pr

Forward-Port-Of: odoo/odoo#187707",fw-bot,2025-01-27 14:31:49+00:00,[],2025-01-28 04:26:02+00:00,2025-01-28 04:26:02+00:00,https://github.com/odoo/odoo/pull/195294,"[('OE', 'the report is linked to a support ticket (opw-...)'), ('forwardport', 'This PR was created by @fw-bot'), ('18.2', None)]","[{'comment_id': 2615920764, 'issue_id': 2813188901, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195294.png)](https://mergebot.odoo.com/odoo/odoo/pull/195294)', 'created_at': datetime.datetime(2025, 1, 27, 14, 31, 51, tzinfo=datetime.timezone.utc)}, {'comment_id': 2615920797, 'issue_id': 2813188901, 'author': 'fw-bot', 'body': '@walidsahli @arj-odoo this PR targets master and is the last of the forward-port chain containing:\n* odoo/odoo#195267\n* odoo/odoo#195244\n* odoo/odoo#195220\n* odoo/odoo#195211\n\nTo merge the full chain, use\n> @robodoo r+\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 27, 14, 31, 52, tzinfo=datetime.timezone.utc)}, {'comment_id': 2616348648, 'issue_id': 2813188901, 'author': 'walidsahli', 'body': '@robodoo r+', 'created_at': datetime.datetime(2025, 1, 27, 16, 51, 40, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-27 14:31:51 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195294.png)](https://mergebot.odoo.com/odoo/odoo/pull/195294)

fw-bot (Issue Creator) on (2025-01-27 14:31:52 UTC): @walidsahli @arj-odoo this PR targets master and is the last of the forward-port chain containing:
* odoo/odoo#195267
* odoo/odoo#195244
* odoo/odoo#195220
* odoo/odoo#195211

To merge the full chain, use

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

walidsahli on (2025-01-27 16:51:40 UTC): @robodoo r+

"
2813180268,pull_request,closed,,[FW][FIX] sale: product desctiption readonly,"Steps:
- Install sale_project
- Create a service type product
- Create a SO and confirm it
- In the confirmed order add a SOL with the new product

Issue:
- cannot edit the description of the new SOL

Cause:
- readonly for the SOL is set based on product_updatable and product_updatable is set false when product type service even for new order line

Fix
- Updated the readonly condition to account for new lines

opw - 4473488

---
I confirm I have signed the CLA and read the PR guidelines at www.odoo.com/submit-pr

Forward-Port-Of: odoo/odoo#194979",fw-bot,2025-01-27 14:28:26+00:00,[],2025-01-28 04:25:35+00:00,2025-01-28 04:25:29+00:00,https://github.com/odoo/odoo/pull/195293,"[('OE', 'the report is linked to a support ticket (opw-...)'), ('forwardport', 'This PR was created by @fw-bot'), ('18.2', None)]","[{'comment_id': 2615911379, 'issue_id': 2813180268, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195293.png)](https://mergebot.odoo.com/odoo/odoo/pull/195293)', 'created_at': datetime.datetime(2025, 1, 27, 14, 28, 27, tzinfo=datetime.timezone.utc)}, {'comment_id': 2615911406, 'issue_id': 2813180268, 'author': 'fw-bot', 'body': '@dere-odoo @Feyensv this PR targets master and is the last of the forward-port chain containing:\n* odoo/odoo#195263\n\nTo merge the full chain, use\n> @robodoo r+\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 27, 14, 28, 27, tzinfo=datetime.timezone.utc)}, {'comment_id': 2615961820, 'issue_id': 2813180268, 'author': 'Feyensv', 'body': '@robodoo r+', 'created_at': datetime.datetime(2025, 1, 27, 14, 47, 39, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-27 14:28:27 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195293.png)](https://mergebot.odoo.com/odoo/odoo/pull/195293)

fw-bot (Issue Creator) on (2025-01-27 14:28:27 UTC): @dere-odoo @Feyensv this PR targets master and is the last of the forward-port chain containing:
* odoo/odoo#195263

To merge the full chain, use

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

Feyensv on (2025-01-27 14:47:39 UTC): @robodoo r+

"
2813174784,pull_request,closed,,[I18N] *: re-export pot files,"One had a duplicate msgid (i.e. broke the sync) and needed to be re-exported, so re-export them all to fix all other out of date pot files.




---
I confirm I have signed the CLA and read the PR guidelines at www.odoo.com/submit-pr
",ticodoo,2025-01-27 14:26:17+00:00,[],2025-01-27 19:55:38+00:00,2025-01-27 19:55:38+00:00,https://github.com/odoo/odoo/pull/195292,"[('RD', 'research & development, internal work')]","[{'comment_id': 2615906048, 'issue_id': 2813174784, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195292.png)](https://mergebot.odoo.com/odoo/odoo/pull/195292)', 'created_at': datetime.datetime(2025, 1, 27, 14, 26, 21, tzinfo=datetime.timezone.utc)}, {'comment_id': 2615908718, 'issue_id': 2813174784, 'author': 'ticodoo', 'body': '@robodoo fw=no', 'created_at': datetime.datetime(2025, 1, 27, 14, 27, 25, tzinfo=datetime.timezone.utc)}, {'comment_id': 2615908819, 'issue_id': 2813174784, 'author': 'robodoo', 'body': 'Disabled forward-porting.', 'created_at': datetime.datetime(2025, 1, 27, 14, 27, 27, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-27 14:26:21 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195292.png)](https://mergebot.odoo.com/odoo/odoo/pull/195292)

ticodoo (Issue Creator) on (2025-01-27 14:27:25 UTC): @robodoo fw=no

robodoo on (2025-01-27 14:27:27 UTC): Disabled forward-porting.

"
2813168422,pull_request,closed,,[IMP] web: escape translated strings that contain markup,"Automatically escape source terms and non-markup values passed to `_t` if at least one of the inserted values is a markup.

This approach is believed to have the following benefits:

- More XSS-proof
    - Any piece of HTML that needs to be inserted has to be wrapped in a call to markup. This will increase the number of lines requiring special attention that will be caught by the CI/Security check.
    - Any part of the translated string that's not markup is escaped
 - Better syntax
    - It eliminates the need for the sprintf function to insert markup into the safely escaped translated string, as well as the need for the escape function to escape the string itself and the interpolated non-markup values.
  - API consistency (i.e. it matches the behavior of gettext with markups [as it currently exists](https://github.com/odoo/odoo/blob/bd6789ee4fd749d308e3715899ca2fc0e0ce005f/odoo/tools/translate.py#L457-L468) on the Python side)

## Before
```js
return markup(
    sprintf(escape(_t(""Create %(value)s as a new %(field)s?"")), {
        value: `<strong>${escape(this.props.value)}</strong>`,
        field: escape(this.props.name),
    })
);
```
## After
```js
return _t(""Create %(value)s as a new %(field)s?"", {
    value: markup(`<strong>${escape(this.props.value)}</strong>`),
    field: this.props.name,
});
```

Task-4519529",oomsveta,2025-01-27 14:23:49+00:00,[],2025-01-30 15:32:16+00:00,2025-01-30 15:32:16+00:00,https://github.com/odoo/odoo/pull/195291,"[('RD', 'research & development, internal work'), ('18.2', None)]","[{'comment_id': 2615899543, 'issue_id': 2813168422, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195291.png)](https://mergebot.odoo.com/odoo/odoo/pull/195291)', 'created_at': datetime.datetime(2025, 1, 27, 14, 23, 52, tzinfo=datetime.timezone.utc)}, {'comment_id': 2621285281, 'issue_id': 2813168422, 'author': 'ged-odoo', 'body': 'a quick grep find some other case that should probably be converted. \r\n- account_move_service, 24\r\n- portal_composer, 117\r\n- project_task_form_controller 54 67 \r\n- slide_course_quiz 563\r\n\r\n(non exhaustive list!!!)', 'created_at': datetime.datetime(2025, 1, 29, 10, 45, 14, tzinfo=datetime.timezone.utc)}, {'comment_id': 2621287302, 'issue_id': 2813168422, 'author': 'ged-odoo', 'body': 'also in enterprise. for ex, documents_action_helper (i think the best way to find them is to grep all occurences of `@web/core/utils/strings`)', 'created_at': datetime.datetime(2025, 1, 29, 10, 46, 9, tzinfo=datetime.timezone.utc)}, {'comment_id': 2621290479, 'issue_id': 2813168422, 'author': 'ged-odoo', 'body': 'hmm, some of my examples are wrong, not related to tranlations. sorry', 'created_at': datetime.datetime(2025, 1, 29, 10, 47, 38, tzinfo=datetime.timezone.utc)}, {'comment_id': 2623632967, 'issue_id': 2813168422, 'author': 'mart-e', 'body': '@robodoo override=ci/security\r\nReason: markup containing escaped variable parts', 'created_at': datetime.datetime(2025, 1, 30, 6, 34, 49, tzinfo=datetime.timezone.utc)}, {'comment_id': 2624165372, 'issue_id': 2813168422, 'author': 'oomsveta', 'body': 'robodoo rebase-ff', 'created_at': datetime.datetime(2025, 1, 30, 10, 58, 13, tzinfo=datetime.timezone.utc)}, {'comment_id': 2624165507, 'issue_id': 2813168422, 'author': 'robodoo', 'body': 'Merge method set to rebase and fast-forward.', 'created_at': datetime.datetime(2025, 1, 30, 10, 58, 16, tzinfo=datetime.timezone.utc)}, {'comment_id': 2624174948, 'issue_id': 2813168422, 'author': 'oomsveta', 'body': 'robodoo r+', 'created_at': datetime.datetime(2025, 1, 30, 11, 2, 21, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-27 14:23:52 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195291.png)](https://mergebot.odoo.com/odoo/odoo/pull/195291)

ged-odoo on (2025-01-29 10:45:14 UTC): a quick grep find some other case that should probably be converted. 
- account_move_service, 24
- portal_composer, 117
- project_task_form_controller 54 67 
- slide_course_quiz 563

(non exhaustive list!!!)

ged-odoo on (2025-01-29 10:46:09 UTC): also in enterprise. for ex, documents_action_helper (i think the best way to find them is to grep all occurences of `@web/core/utils/strings`)

ged-odoo on (2025-01-29 10:47:38 UTC): hmm, some of my examples are wrong, not related to tranlations. sorry

mart-e on (2025-01-30 06:34:49 UTC): @robodoo override=ci/security
Reason: markup containing escaped variable parts

oomsveta (Issue Creator) on (2025-01-30 10:58:13 UTC): robodoo rebase-ff

robodoo on (2025-01-30 10:58:16 UTC): Merge method set to rebase and fast-forward.

oomsveta (Issue Creator) on (2025-01-30 11:02:21 UTC): robodoo r+

"
2813168369,pull_request,open,,[FW][IMP] stock: hide XLSX export action in quant list view for moves,"The cogwheel dropdown menu is unwanted and only contains the 'Export All' button, which is disabled with an attribute. This commit extends the existing base tree view for this specific use to avoid interfering with other views that use/extend it.

Task ID: [4471980](https://www.odoo.com/odoo/project/966/tasks/4471980)

Forward-Port-Of: odoo/odoo#195148
Forward-Port-Of: odoo/odoo#193987",fw-bot,2025-01-27 14:23:48+00:00,[],2025-02-03 02:02:36+00:00,,https://github.com/odoo/odoo/pull/195290,"[('RD', 'research & development, internal work'), ('forwardport', 'This PR was created by @fw-bot')]","[{'comment_id': 2615899450, 'issue_id': 2813168369, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195290.png)](https://mergebot.odoo.com/odoo/odoo/pull/195290)', 'created_at': datetime.datetime(2025, 1, 27, 14, 23, 50, tzinfo=datetime.timezone.utc)}, {'comment_id': 2615899485, 'issue_id': 2813168369, 'author': 'fw-bot', 'body': '@lugr-odoo @amoyaux this PR targets master and is the last of the forward-port chain containing:\n* odoo/odoo#195262\n\nTo merge the full chain, use\n> @robodoo r+\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 27, 14, 23, 50, tzinfo=datetime.timezone.utc)}, {'comment_id': 2617541052, 'issue_id': 2813168369, 'author': 'fw-bot', 'body': '@lugr-odoo @amoyaux this forward port of odoo/odoo#193987 is awaiting action (not merged or closed).', 'created_at': datetime.datetime(2025, 1, 28, 2, 1, 22, tzinfo=datetime.timezone.utc)}, {'comment_id': 2620471336, 'issue_id': 2813168369, 'author': 'fw-bot', 'body': '@lugr-odoo @amoyaux this forward port of odoo/odoo#193987 is awaiting action (not merged or closed).', 'created_at': datetime.datetime(2025, 1, 29, 2, 1, 2, tzinfo=datetime.timezone.utc)}, {'comment_id': 2623354228, 'issue_id': 2813168369, 'author': 'fw-bot', 'body': '@lugr-odoo @amoyaux this forward port of odoo/odoo#193987 is awaiting action (not merged or closed).', 'created_at': datetime.datetime(2025, 1, 30, 2, 1, 56, tzinfo=datetime.timezone.utc)}, {'comment_id': 2626136790, 'issue_id': 2813168369, 'author': 'fw-bot', 'body': '@lugr-odoo @amoyaux this forward port of odoo/odoo#193987 is awaiting action (not merged or closed).', 'created_at': datetime.datetime(2025, 1, 31, 2, 1, 53, tzinfo=datetime.timezone.utc)}, {'comment_id': 2628685136, 'issue_id': 2813168369, 'author': 'fw-bot', 'body': '@lugr-odoo @amoyaux this forward port of odoo/odoo#193987 is awaiting action (not merged or closed).', 'created_at': datetime.datetime(2025, 2, 1, 2, 1, 23, tzinfo=datetime.timezone.utc)}, {'comment_id': 2629201798, 'issue_id': 2813168369, 'author': 'fw-bot', 'body': '@lugr-odoo @amoyaux this forward port of odoo/odoo#193987 is awaiting action (not merged or closed).', 'created_at': datetime.datetime(2025, 2, 2, 2, 1, 36, tzinfo=datetime.timezone.utc)}, {'comment_id': 2629730388, 'issue_id': 2813168369, 'author': 'fw-bot', 'body': '@lugr-odoo @amoyaux this forward port of odoo/odoo#193987 is awaiting action (not merged or closed).', 'created_at': datetime.datetime(2025, 2, 3, 2, 2, 35, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-27 14:23:50 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195290.png)](https://mergebot.odoo.com/odoo/odoo/pull/195290)

fw-bot (Issue Creator) on (2025-01-27 14:23:50 UTC): @lugr-odoo @amoyaux this PR targets master and is the last of the forward-port chain containing:
* odoo/odoo#195262

To merge the full chain, use

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

fw-bot (Issue Creator) on (2025-01-28 02:01:22 UTC): @lugr-odoo @amoyaux this forward port of odoo/odoo#193987 is awaiting action (not merged or closed).

fw-bot (Issue Creator) on (2025-01-29 02:01:02 UTC): @lugr-odoo @amoyaux this forward port of odoo/odoo#193987 is awaiting action (not merged or closed).

fw-bot (Issue Creator) on (2025-01-30 02:01:56 UTC): @lugr-odoo @amoyaux this forward port of odoo/odoo#193987 is awaiting action (not merged or closed).

fw-bot (Issue Creator) on (2025-01-31 02:01:53 UTC): @lugr-odoo @amoyaux this forward port of odoo/odoo#193987 is awaiting action (not merged or closed).

fw-bot (Issue Creator) on (2025-02-01 02:01:23 UTC): @lugr-odoo @amoyaux this forward port of odoo/odoo#193987 is awaiting action (not merged or closed).

fw-bot (Issue Creator) on (2025-02-02 02:01:36 UTC): @lugr-odoo @amoyaux this forward port of odoo/odoo#193987 is awaiting action (not merged or closed).

fw-bot (Issue Creator) on (2025-02-03 02:02:35 UTC): @lugr-odoo @amoyaux this forward port of odoo/odoo#193987 is awaiting action (not merged or closed).

"
2813164720,pull_request,closed,,[FW][FIX] loyalty: fix expiration date condition,"Steps:
- Install sale app.
- Enable Loyalty settings.
- Try to create a card on a loyalty.

Issue:
- Giving validation error.

Casue:
- In [PR] forgot to check expiration_date set or not before raise an error.

Fix:
- Added condition to check if expiration_date set or not on card before raising an error.

[PR]: https://github.com/odoo/odoo/pull/171453

opw-4492179
opw-4490587
opw-4504188
opw-4495530

Forward-Port-Of: odoo/odoo#195202
Forward-Port-Of: odoo/odoo#194785",fw-bot,2025-01-27 14:22:19+00:00,[],2025-01-29 02:37:49+00:00,2025-01-29 02:37:49+00:00,https://github.com/odoo/odoo/pull/195289,"[('OE', 'the report is linked to a support ticket (opw-...)'), ('forwardport', 'This PR was created by @fw-bot'), ('conflict', 'There was an error while creating this forward-port PR')]","[{'comment_id': 2615895735, 'issue_id': 2813164720, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195289.png)](https://mergebot.odoo.com/odoo/odoo/pull/195289)', 'created_at': datetime.datetime(2025, 1, 27, 14, 22, 20, tzinfo=datetime.timezone.utc)}, {'comment_id': 2615895770, 'issue_id': 2813164720, 'author': 'fw-bot', 'body': '@kcv-odoo @Demesmaeker cherrypicking of pull request odoo/odoo#194785 failed.\n\nstdout:\n```\nAuto-merging addons/loyalty/models/loyalty_card.py\nAuto-merging addons/pos_loyalty/models/pos_order.py\nCONFLICT (content): Merge conflict in addons/pos_loyalty/models/pos_order.py\nAuto-merging addons/pos_loyalty/static/src/overrides/components/payment_screen/payment_screen.js\nCONFLICT (content): Merge conflict in addons/pos_loyalty/static/src/overrides/components/payment_screen/payment_screen.js\n\n```\n\nEither perform the forward-port manually (and push to this branch, proceeding as usual) or close this PR (maybe?).\n\nIn the former case, you may want to edit this PR message as well.\n\n:warning: after resolving this conflict, you will need to merge it via @robodoo.\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 27, 14, 22, 21, tzinfo=datetime.timezone.utc)}, {'comment_id': 2617539824, 'issue_id': 2813164720, 'author': 'fw-bot', 'body': '@kcv-odoo @Demesmaeker this forward port of odoo/odoo#194785 is awaiting action (not merged or closed).', 'created_at': datetime.datetime(2025, 1, 28, 2, 1, 3, tzinfo=datetime.timezone.utc)}, {'comment_id': 2617945214, 'issue_id': 2813164720, 'author': 'kcv-odoo', 'body': 'Hello @Demesmaeker :bird: \r\n\r\nhttps://github.com/odoo/odoo/pull/183044\r\nPR adding date_to in pos still not merged in 18.0. Should we move forward with just adding condition or adapt that FW PR to ensure expiration field is not set on newly created loyalty card from POS', 'created_at': datetime.datetime(2025, 1, 28, 5, 47, 3, tzinfo=datetime.timezone.utc)}, {'comment_id': 2618274380, 'issue_id': 2813164720, 'author': 'Demesmaeker', 'body': ""Hello @kcv-odoo :duck: \r\nLet's continue with just the condition here so that we can close it, and keep an eye on the other one to ensure the problem isn't reappearing in their Forward-port"", 'created_at': datetime.datetime(2025, 1, 28, 8, 36, 59, tzinfo=datetime.timezone.utc)}, {'comment_id': 2618334096, 'issue_id': 2813164720, 'author': 'kcv-odoo', 'body': '@robodoo r+', 'created_at': datetime.datetime(2025, 1, 28, 8, 56, 6, tzinfo=datetime.timezone.utc)}, {'comment_id': 2618334166, 'issue_id': 2813164720, 'author': 'robodoo', 'body': '@kcv-odoo you may want to rebuild or fix this PR as it has failed CI.', 'created_at': datetime.datetime(2025, 1, 28, 8, 56, 8, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-27 14:22:20 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195289.png)](https://mergebot.odoo.com/odoo/odoo/pull/195289)

fw-bot (Issue Creator) on (2025-01-27 14:22:21 UTC): @kcv-odoo @Demesmaeker cherrypicking of pull request odoo/odoo#194785 failed.

stdout:
```
Auto-merging addons/loyalty/models/loyalty_card.py
Auto-merging addons/pos_loyalty/models/pos_order.py
CONFLICT (content): Merge conflict in addons/pos_loyalty/models/pos_order.py
Auto-merging addons/pos_loyalty/static/src/overrides/components/payment_screen/payment_screen.js
CONFLICT (content): Merge conflict in addons/pos_loyalty/static/src/overrides/components/payment_screen/payment_screen.js

```

Either perform the forward-port manually (and push to this branch, proceeding as usual) or close this PR (maybe?).

In the former case, you may want to edit this PR message as well.

:warning: after resolving this conflict, you will need to merge it via @robodoo.

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

fw-bot (Issue Creator) on (2025-01-28 02:01:03 UTC): @kcv-odoo @Demesmaeker this forward port of odoo/odoo#194785 is awaiting action (not merged or closed).

kcv-odoo on (2025-01-28 05:47:03 UTC): Hello @Demesmaeker :bird: 

https://github.com/odoo/odoo/pull/183044
PR adding date_to in pos still not merged in 18.0. Should we move forward with just adding condition or adapt that FW PR to ensure expiration field is not set on newly created loyalty card from POS

Demesmaeker on (2025-01-28 08:36:59 UTC): Hello @kcv-odoo :duck: 
Let's continue with just the condition here so that we can close it, and keep an eye on the other one to ensure the problem isn't reappearing in their Forward-port

kcv-odoo on (2025-01-28 08:56:06 UTC): @robodoo r+

robodoo on (2025-01-28 08:56:08 UTC): @kcv-odoo you may want to rebuild or fix this PR as it has failed CI.

"
2813163238,pull_request,closed,,[FW][FIX] web: Fix navigation test hotkeys issue,"Fixes test broken by: be23ed0

https://runbot.odoo.com/odoo/runbot.build.error/109595

---
I confirm I have signed the CLA and read the PR guidelines at www.odoo.com/submit-pr

Forward-Port-Of: odoo/odoo#193969
Forward-Port-Of: odoo/odoo#193764",fw-bot,2025-01-27 14:21:44+00:00,[],2025-01-29 04:15:09+00:00,2025-01-29 04:15:09+00:00,https://github.com/odoo/odoo/pull/195288,"[('RD', 'research & development, internal work'), ('forwardport', 'This PR was created by @fw-bot')]","[{'comment_id': 2615894255, 'issue_id': 2813163238, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195288.png)](https://mergebot.odoo.com/odoo/odoo/pull/195288)', 'created_at': datetime.datetime(2025, 1, 27, 14, 21, 47, tzinfo=datetime.timezone.utc)}, {'comment_id': 2615894283, 'issue_id': 2813163238, 'author': 'fw-bot', 'body': 'This PR targets 18.0 and is part of the forward-port chain. Further PRs will be created up to master.\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 27, 14, 21, 47, tzinfo=datetime.timezone.utc)}, {'comment_id': 2618388847, 'issue_id': 2813163238, 'author': 'BastienFafchamps', 'body': '@robodoo r+', 'created_at': datetime.datetime(2025, 1, 28, 9, 16, 58, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-27 14:21:47 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195288.png)](https://mergebot.odoo.com/odoo/odoo/pull/195288)

fw-bot (Issue Creator) on (2025-01-27 14:21:47 UTC): This PR targets 18.0 and is part of the forward-port chain. Further PRs will be created up to master.

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

BastienFafchamps on (2025-01-28 09:16:58 UTC): @robodoo r+

"
2813161719,pull_request,closed,,[IMP] hr_attendance: hide refuse button if no extra hours,"Since logging new attendance is approved by default, the refuse button for rejecting extra zero hours should be invisible.

task-4320142

Description of the issue/feature this PR addresses:

Current behavior before PR:

Desired behavior after PR is merged:




---
I confirm I have signed the CLA and read the PR guidelines at www.odoo.com/submit-pr
",ataha1,2025-01-27 14:21:07+00:00,[],2025-02-04 12:35:17+00:00,2025-02-04 12:35:17+00:00,https://github.com/odoo/odoo/pull/195287,"[('RD', 'research & development, internal work')]","[{'comment_id': 2615892680, 'issue_id': 2813161719, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195287.png)](https://mergebot.odoo.com/odoo/odoo/pull/195287)', 'created_at': datetime.datetime(2025, 1, 27, 14, 21, 10, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-27 14:21:10 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195287.png)](https://mergebot.odoo.com/odoo/odoo/pull/195287)

"
2813152832,pull_request,closed,,[FW][FIX] sale_pdf_quote_builder: quote builder tab not visible immediately,"Steps to Reproduce:
- Ensure no headers or footers are in Configuration > Headers/Footers.
- Create a new Sale Order (SO).
- Add a partner to the SO.
- Add a product to the SO that has a document linked to it.
- The `Quote Builder` tab does not appear until the SO is saved and reopened.

Issue:
The `Quote Builder` tab did not appear immediately after adding a product with linked documents. This required saving and reopening the SO to make the tab visible, causing inconvenience to users.

Cause:
The `_compute_available_product_document_ids` method lacked an `@api.depends` decorator for fields `product_id` and `product_template_id`. As a result, the dependent field `is_pdf_quote_builder_available` was not updated dynamically.

Fix:
Added the `@api.depends` decorator to `_compute_available_product_document_ids`, ensuring the computation is triggered immediately when `product_id` or `product_template_id` changes. This ensures that
`is_pdf_quote_builder_available` is recalculated dynamically, making the `Quote Builder` tab visible immediately.

- Also added `compute_sudo` on `available_product_document_ids` field to ensure
available documents consistancy even though users have different access.

opw-4364152

Forward-Port-Of: odoo/odoo#195028
Forward-Port-Of: odoo/odoo#191344",fw-bot,2025-01-27 14:17:26+00:00,[],2025-01-28 02:59:29+00:00,2025-01-28 02:59:24+00:00,https://github.com/odoo/odoo/pull/195286,"[('OE', 'the report is linked to a support ticket (opw-...)'), ('forwardport', 'This PR was created by @fw-bot'), ('18.2', None)]","[{'comment_id': 2615883451, 'issue_id': 2813152832, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195286.png)](https://mergebot.odoo.com/odoo/odoo/pull/195286)', 'created_at': datetime.datetime(2025, 1, 27, 14, 17, 28, tzinfo=datetime.timezone.utc)}, {'comment_id': 2615883556, 'issue_id': 2813152832, 'author': 'fw-bot', 'body': '@jeep-odoo @Demesmaeker this PR targets master and is the last of the forward-port chain.\n\nTo merge the full chain, use\n> @robodoo r+\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 27, 14, 17, 30, tzinfo=datetime.timezone.utc)}, {'comment_id': 2616049065, 'issue_id': 2813152832, 'author': 'Demesmaeker', 'body': '@robodoo r+', 'created_at': datetime.datetime(2025, 1, 27, 15, 20, 23, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-27 14:17:28 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195286.png)](https://mergebot.odoo.com/odoo/odoo/pull/195286)

fw-bot (Issue Creator) on (2025-01-27 14:17:30 UTC): @jeep-odoo @Demesmaeker this PR targets master and is the last of the forward-port chain.

To merge the full chain, use

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

Demesmaeker on (2025-01-27 15:20:23 UTC): @robodoo r+

"
2813146393,pull_request,open,,"[FIX] website_sale_{collect,stock}: reuse the logic instead of override","Before this commit when click and collect was activated the logic of website_sale_stock was disabled which caused a lot of confusion with checking product stock. Now the logic would be extended rather than overriden letting stock features be still active.

task-4531354

See also:

- https://github.com/odoo/enterprise/pull/78387",vchu-odoo,2025-01-27 14:14:46+00:00,[],2025-02-06 08:37:23+00:00,,https://github.com/odoo/odoo/pull/195285,"[('RD', 'research & development, internal work')]","[{'comment_id': 2615876635, 'issue_id': 2813146393, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195285.png)](https://mergebot.odoo.com/odoo/odoo/pull/195285)', 'created_at': datetime.datetime(2025, 1, 27, 14, 14, 49, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-27 14:14:49 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195285.png)](https://mergebot.odoo.com/odoo/odoo/pull/195285)

"
2813139548,pull_request,closed,,[FIX] *: tours,"In this commit, we fix multiple tours on step that can cause non deterministic behaviors:

- show_expense_receipt_tour: Wait the chatter is loaded to prevent lost focus on the input targetted on the next step.
- discuss_channel_tour: use hover helper to concat three steps.
- website_gray_color_palette: use range hoot helper and wait ui loading appears before to wait it disappears... In the goal to change tour engine and base it on waitFor instead of MutationObserver, these additionnal steps are crucial.
- website_form_contactus_submit: wait livechat if module is installed.
- course_member: wait the modal is shown before click on element inside.

Description of the issue/feature this PR addresses:

Current behavior before PR:

Desired behavior after PR is merged:




---
I confirm I have signed the CLA and read the PR guidelines at www.odoo.com/submit-pr
",pipu-odoo,2025-01-27 14:12:01+00:00,[],2025-01-28 14:32:40+00:00,2025-01-28 14:32:40+00:00,https://github.com/odoo/odoo/pull/195284,"[('RD', 'research & development, internal work')]","[{'comment_id': 2615870015, 'issue_id': 2813139548, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195284.png)](https://mergebot.odoo.com/odoo/odoo/pull/195284)', 'created_at': datetime.datetime(2025, 1, 27, 14, 12, 4, tzinfo=datetime.timezone.utc)}, {'comment_id': 2618378329, 'issue_id': 2813139548, 'author': 'bastien-ipb', 'body': '@robodoo r+', 'created_at': datetime.datetime(2025, 1, 28, 9, 12, 2, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-27 14:12:04 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195284.png)](https://mergebot.odoo.com/odoo/odoo/pull/195284)

bastien-ipb on (2025-01-28 09:12:02 UTC): @robodoo r+

"
2813127129,pull_request,open,,[FIX] resource : Remove date condition when computing avg hours per day,"### Steps to reproduce:
	- Go to Working schedule
	- Add the starting and ending dates for each line
	- Notice that the average hours per day will become 0

### Cause:
When computing 'hours_per_day' we are fetching the attendances sum all their duration and divide them by their count. When fetching those attendances we are filtering them on some conditions one of those is not getting the attendance line if it has start and end dates.

https://github.com/odoo/odoo/blob/74784c26b7cfcea13e75b2939f377521aa40a492/addons/resource/models/resource_calendar.py#L164-L168

### Fix:
As per discussed with GMF it is better to remove the date condition.

opw-4471522",yoba-odoo,2025-01-27 14:06:56+00:00,[],2025-01-28 10:39:43+00:00,,https://github.com/odoo/odoo/pull/195283,"[('OE', 'the report is linked to a support ticket (opw-...)')]","[{'comment_id': 2615857764, 'issue_id': 2813127129, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195283.png)](https://mergebot.odoo.com/odoo/odoo/pull/195283)', 'created_at': datetime.datetime(2025, 1, 27, 14, 7, 2, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-27 14:07:02 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195283.png)](https://mergebot.odoo.com/odoo/odoo/pull/195283)

"
2813095587,pull_request,closed,,[FW][FIX] web_editor: adapt `border-style` value based on border widths,"[FIX] web_editor: adapt `border-style` value based on border widths

**Problem**:  
Outlook always displays the border of an element if `border-style` is set  
to `solid`, even when all border widths are 0.  

**Solution**:  
Change `border-style` to `none` if all border widths are 0.  

**Steps to Reproduce**:  
1. Open the ""Event: Registration Confirmation"" email template in the web editor.  
2. Add a character and save the template.  
3. Check the saved `body_html`.  
   -> All table elements will have `border-style: solid;` added as inline styling,  
      causing borders to appear in Outlook.  

opw-4211794

---
I confirm I have signed the CLA and read the PR guidelines at www.odoo.com/submit-pr

Forward-Port-Of: odoo/odoo#195074
Forward-Port-Of: odoo/odoo#193973",fw-bot,2025-01-27 13:54:11+00:00,[],2025-01-28 10:30:41+00:00,2025-01-28 10:30:41+00:00,https://github.com/odoo/odoo/pull/195282,"[('OE', 'the report is linked to a support ticket (opw-...)'), ('forwardport', 'This PR was created by @fw-bot')]","[{'comment_id': 2615825252, 'issue_id': 2813095587, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195282.png)](https://mergebot.odoo.com/odoo/odoo/pull/195282)', 'created_at': datetime.datetime(2025, 1, 27, 13, 54, 13, tzinfo=datetime.timezone.utc)}, {'comment_id': 2615825279, 'issue_id': 2813095587, 'author': 'fw-bot', 'body': 'This PR targets saas-17.4 and is part of the forward-port chain. Further PRs will be created up to master.\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 27, 13, 54, 13, tzinfo=datetime.timezone.utc)}, {'comment_id': 2615915179, 'issue_id': 2813095587, 'author': 'fw-bot', 'body': '@walidsahli @dmo-odoo ci/runbot failed on this forward-port PR', 'created_at': datetime.datetime(2025, 1, 27, 14, 29, 53, tzinfo=datetime.timezone.utc)}, {'comment_id': 2617541165, 'issue_id': 2813095587, 'author': 'fw-bot', 'body': '@walidsahli @dmo-odoo this forward port of odoo/odoo#193973 is awaiting action (not merged or closed).', 'created_at': datetime.datetime(2025, 1, 28, 2, 1, 23, tzinfo=datetime.timezone.utc)}, {'comment_id': 2618056508, 'issue_id': 2813095587, 'author': 'fw-bot', 'body': '@walidsahli @dmo-odoo this PR was modified / updated and has become a normal PR. It must be merged directly.', 'created_at': datetime.datetime(2025, 1, 28, 6, 46, 3, tzinfo=datetime.timezone.utc)}, {'comment_id': 2618057182, 'issue_id': 2813095587, 'author': 'walidsahli', 'body': '@robodoo r+', 'created_at': datetime.datetime(2025, 1, 28, 6, 46, 38, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-27 13:54:13 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195282.png)](https://mergebot.odoo.com/odoo/odoo/pull/195282)

fw-bot (Issue Creator) on (2025-01-27 13:54:13 UTC): This PR targets saas-17.4 and is part of the forward-port chain. Further PRs will be created up to master.

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

fw-bot (Issue Creator) on (2025-01-27 14:29:53 UTC): @walidsahli @dmo-odoo ci/runbot failed on this forward-port PR

fw-bot (Issue Creator) on (2025-01-28 02:01:23 UTC): @walidsahli @dmo-odoo this forward port of odoo/odoo#193973 is awaiting action (not merged or closed).

fw-bot (Issue Creator) on (2025-01-28 06:46:03 UTC): @walidsahli @dmo-odoo this PR was modified / updated and has become a normal PR. It must be merged directly.

walidsahli on (2025-01-28 06:46:38 UTC): @robodoo r+

"
2813085728,pull_request,closed,,[REM] *: useless finally: pass,"Not sure who ""invented"" that, but it doesn't do anything.
",xmo-odoo,2025-01-27 13:50:06+00:00,[],2025-01-28 02:59:28+00:00,2025-01-28 02:59:28+00:00,https://github.com/odoo/odoo/pull/195281,"[('RD', 'research & development, internal work'), ('18.2', None)]","[{'comment_id': 2615815640, 'issue_id': 2813085728, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195281.png)](https://mergebot.odoo.com/odoo/odoo/pull/195281)', 'created_at': datetime.datetime(2025, 1, 27, 13, 50, 10, tzinfo=datetime.timezone.utc)}, {'comment_id': 2615816320, 'issue_id': 2813085728, 'author': 'xmo-odoo', 'body': '@robodoo r+', 'created_at': datetime.datetime(2025, 1, 27, 13, 50, 27, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-27 13:50:10 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195281.png)](https://mergebot.odoo.com/odoo/odoo/pull/195281)

xmo-odoo (Issue Creator) on (2025-01-27 13:50:27 UTC): @robodoo r+

"
2813040728,pull_request,closed,,[FIX] tools: support for easy local ro testing,"A regression introduced by #193728 removes the support for local read-only testing without a real replica.

Before this change, it was possible to test a readonly like behavior by providing a `--db_replica_host=` to the command line. The empty replica will still use a socket connection to the main server, but would work as if a replica host was given. The distinction between an empty string and False was used to make it work

Since b1f7be518e2075c546bcedc0f4ba6dd62dff3c8f the default is not False but an empty string, leading to the readonly behavior even without a replica.

This pr proposes to introduce a new dev mode flag to enable the replica mode, without False vs empty string check avoiding some confusion.

",Xavier-Do,2025-01-27 13:31:31+00:00,[],2025-01-29 16:40:52+00:00,2025-01-29 16:40:52+00:00,https://github.com/odoo/odoo/pull/195280,"[('RD', 'research & development, internal work')]","[{'comment_id': 2615772113, 'issue_id': 2813040728, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195280.png)](https://mergebot.odoo.com/odoo/odoo/pull/195280)', 'created_at': datetime.datetime(2025, 1, 27, 13, 31, 34, tzinfo=datetime.timezone.utc)}, {'comment_id': 2615959130, 'issue_id': 2813040728, 'author': 'Xavier-Do', 'body': 'Both solution works for me \r\n\r\nThe argument to change it is that the Falsy but not False behaviour is fragile and can be confusing, leading to the previous fix. Since it is a flag only used for testing, changing it is not a big deal.  If you prefer the backward-compatible solution despite that feel free to force-push this branch :)', 'created_at': datetime.datetime(2025, 1, 27, 14, 46, 39, tzinfo=datetime.timezone.utc)}, {'comment_id': 2615964122, 'issue_id': 2813040728, 'author': 'Julien00859', 'body': ""Or introduce the new `--dev` mode, but keep the backward compatibility for an empty string (with a deprecation warning). If we take this direction then I'll advocate for something like:\r\n\r\n```py\r\ndef _postprocess_options(...):\r\n    ...\r\n    if self['db_replica_host'] == '':\r\n        self._runtime_config['db_replica_host'] = None\r\n        if 'replica' not in self['dev_mode']:\r\n            self._warn(...)\r\n            self._runtime_config['dev_mode'] = self['dev_mode'] + ['replica']\r\n```\r\nAnd we should test it.\r\n\r\nBtw I feel sorry that you are fixing my bug, I can fix it myself if you prefer."", 'created_at': datetime.datetime(2025, 1, 27, 14, 48, 27, tzinfo=datetime.timezone.utc)}, {'comment_id': 2615965623, 'issue_id': 2813040728, 'author': 'Julien00859', 'body': "">  If you prefer the backward-compatible solution despite that feel free to force-push this branch :)\r\n\r\nOk I'm doing that, wait a sec :)"", 'created_at': datetime.datetime(2025, 1, 27, 14, 49, 3, tzinfo=datetime.timezone.utc)}, {'comment_id': 2621763940, 'issue_id': 2813040728, 'author': 'Xavier-Do', 'body': 'LGTM\r\n\r\n@johandem FYI it was adapted a little for a better backward compatibility\r\n\r\n@robodoo r+', 'created_at': datetime.datetime(2025, 1, 29, 14, 11, 46, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-27 13:31:34 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195280.png)](https://mergebot.odoo.com/odoo/odoo/pull/195280)

Xavier-Do (Issue Creator) on (2025-01-27 14:46:39 UTC): Both solution works for me 

The argument to change it is that the Falsy but not False behaviour is fragile and can be confusing, leading to the previous fix. Since it is a flag only used for testing, changing it is not a big deal.  If you prefer the backward-compatible solution despite that feel free to force-push this branch :)

Julien00859 on (2025-01-27 14:48:27 UTC): Or introduce the new `--dev` mode, but keep the backward compatibility for an empty string (with a deprecation warning). If we take this direction then I'll advocate for something like:

```py
def _postprocess_options(...):
    ...
    if self['db_replica_host'] == '':
        self._runtime_config['db_replica_host'] = None
        if 'replica' not in self['dev_mode']:
            self._warn(...)
            self._runtime_config['dev_mode'] = self['dev_mode'] + ['replica']
```
And we should test it.

Btw I feel sorry that you are fixing my bug, I can fix it myself if you prefer.

Julien00859 on (2025-01-27 14:49:03 UTC): Ok I'm doing that, wait a sec :)

Xavier-Do (Issue Creator) on (2025-01-29 14:11:46 UTC): LGTM

@johandem FYI it was adapted a little for a better backward compatibility

@robodoo r+

"
2813036636,pull_request,open,,"[IMP] account, *: change name of Journal to Sales and Purchases","The journal have a name that implies that you should only have Customer Invoices or Vendor Bills but you can also get refunds and credit notes.

task-4427096




---
I confirm I have signed the CLA and read the PR guidelines at www.odoo.com/submit-pr
",gawa-odoo,2025-01-27 13:29:46+00:00,[],2025-02-03 10:25:12+00:00,,https://github.com/odoo/odoo/pull/195279,"[('RD', 'research & development, internal work')]","[{'comment_id': 2615768316, 'issue_id': 2813036636, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195279.png)](https://mergebot.odoo.com/odoo/odoo/pull/195279)', 'created_at': datetime.datetime(2025, 1, 27, 13, 29, 49, tzinfo=datetime.timezone.utc)}, {'comment_id': 2619250205, 'issue_id': 2813036636, 'author': 'chklop', 'body': 'Cool, thanks @gawa-odoo! :+1:', 'created_at': datetime.datetime(2025, 1, 28, 14, 59, 40, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-27 13:29:49 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195279.png)](https://mergebot.odoo.com/odoo/odoo/pull/195279)

chklop on (2025-01-28 14:59:40 UTC): Cool, thanks @gawa-odoo! :+1:

"
2813033726,pull_request,open,,[FIX] web: save record when user clicks the call icon while creating a new record,"Currently an exception was generated when the user tries to save the new employee record after clicking on call icon.

Steps to reproduce:
1) Install HR module
2) Create a new employee record by giving employee name 
3) Click on the call icon of work phone
4) Now tries to save the new employee record

Error: `KeyError:  name`

This issue occurs because, while clicking the call widget, it creates the record but does not update it in the browser.

As a result, when the user tries to save manually, It again  creates the record with an empty vals_list.

So it will leads to the above traceback from the below lines

https://github.com/odoo/odoo/blob/2d64d94487d24278dc3c6615343a793e1ec94daf/addons/hr/models/hr_employee.py#L386

This fix will resolve the issue by adding an on-click event to save the record and populate it in the browser, so the user doesn't have to save it manually again, and I have added a test for this issue.

sentry-6234873849

---
I confirm I have signed the CLA and read the PR guidelines at www.odoo.com/submit-pr
",kkuj-odoo,2025-01-27 13:28:32+00:00,[],2025-02-06 12:43:11+00:00,,https://github.com/odoo/odoo/pull/195278,"[('RD', 'research & development, internal work')]","[{'comment_id': 2615765569, 'issue_id': 2813033726, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195278.png)](https://mergebot.odoo.com/odoo/odoo/pull/195278)', 'created_at': datetime.datetime(2025, 1, 27, 13, 28, 35, tzinfo=datetime.timezone.utc)}, {'comment_id': 2623847642, 'issue_id': 2813033726, 'author': 'kkuj-odoo', 'body': 'Hello @odoo/sentry_reviewers \r\nCould you please review this PR 🙂\r\nThanks', 'created_at': datetime.datetime(2025, 1, 30, 8, 35, 45, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-27 13:28:35 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195278.png)](https://mergebot.odoo.com/odoo/odoo/pull/195278)

kkuj-odoo (Issue Creator) on (2025-01-30 08:35:45 UTC): Hello @odoo/sentry_reviewers 
Could you please review this PR 🙂
Thanks

"
2813030262,pull_request,closed,,[FW][FIX] base: merge partner with ir.property w/o company,"Scenario:

- have two res.partner with ir.property with res_id and without company_id (eg. by editing the ir.property and removing it)
- merge these partners => UniqueViolation error because of unicity of (fields_id, company_id, res_id) constraint of ir_property table

Why:

The query merging property doesn't take NULL into account for company_id when checking if the destination partner already has this property.

Also a savepoint was used, without ignoring the error so the import could not be done if an error happened.

Fix:

Take the case where both records have NULL company_id into account.

Also ignore error and log a warning when a legitimate error happens because of duplicate ir.property in source records.

Note:

This issue should only happen when:

- modifying ir.property directly
- after a migration with a res.partner field becoming company_dependent field, the partners without company would get an ir.property without company_id

Without the fix, the added test would fail because of an error at each _merge call.

opw-4300572
opw-4030442

Forward-Port-Of: odoo/odoo#194942
Forward-Port-Of: odoo/odoo#188673",fw-bot,2025-01-27 13:27:06+00:00,[],2025-01-27 18:37:09+00:00,2025-01-27 18:37:09+00:00,https://github.com/odoo/odoo/pull/195277,"[('OE', 'the report is linked to a support ticket (opw-...)'), ('forwardport', 'This PR was created by @fw-bot')]","[{'comment_id': 2615762242, 'issue_id': 2813030262, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195277.png)](https://mergebot.odoo.com/odoo/odoo/pull/195277)', 'created_at': datetime.datetime(2025, 1, 27, 13, 27, 8, tzinfo=datetime.timezone.utc)}, {'comment_id': 2615762272, 'issue_id': 2813030262, 'author': 'fw-bot', 'body': 'This PR targets saas-17.4 and is part of the forward-port chain. Further PRs will be created up to master.\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 27, 13, 27, 8, tzinfo=datetime.timezone.utc)}, {'comment_id': 2615989013, 'issue_id': 2813030262, 'author': 'fw-bot', 'body': '@nle-odoo @ryv-odoo the next pull request (odoo/odoo#195300) is in conflict. You can merge the chain up to here by saying\n> @robodoo r+\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 27, 14, 58, tzinfo=datetime.timezone.utc)}, {'comment_id': 2616142102, 'issue_id': 2813030262, 'author': 'nle-odoo', 'body': 'robodoo r+', 'created_at': datetime.datetime(2025, 1, 27, 15, 55, 31, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-27 13:27:08 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195277.png)](https://mergebot.odoo.com/odoo/odoo/pull/195277)

fw-bot (Issue Creator) on (2025-01-27 13:27:08 UTC): This PR targets saas-17.4 and is part of the forward-port chain. Further PRs will be created up to master.

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

fw-bot (Issue Creator) on (2025-01-27 14:58:00 UTC): @nle-odoo @ryv-odoo the next pull request (odoo/odoo#195300) is in conflict. You can merge the chain up to here by saying

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

nle-odoo on (2025-01-27 15:55:31 UTC): robodoo r+

"
2813020666,pull_request,closed,,[FW][FIX] web: view_service: mark loadViews as async,"Before this commit, loadViews didn't benefit from the ""async"" protection of services. Indeed, when used in a component (via useService), the promise returned by loadViews could be resolved (when the rpc returned), even if the component had been destroyed meanwhile. This could lead to code in a destroyed component being executed, and eventually doing an rpc, which would lead to the crash `Error: Component is destroyed`.

This could be reproduced in a form view with an x2many field, whose form view isn't inline (i.e. needs to be fetched when a record is clicked). In such a form view, click on a record in the x2many, then, during the call to get_views, toggle the home menu (for instance).

Description of the issue/feature this PR addresses:

Current behavior before PR:

Desired behavior after PR is merged:




---
I confirm I have signed the CLA and read the PR guidelines at www.odoo.com/submit-pr

Forward-Port-Of: odoo/odoo#195143",fw-bot,2025-01-27 13:22:58+00:00,[],2025-01-27 17:06:14+00:00,2025-01-27 17:06:14+00:00,https://github.com/odoo/odoo/pull/195276,"[('RD', 'research & development, internal work'), ('forwardport', 'This PR was created by @fw-bot'), ('conflict', 'There was an error while creating this forward-port PR')]","[{'comment_id': 2615753114, 'issue_id': 2813020666, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195276.png)](https://mergebot.odoo.com/odoo/odoo/pull/195276)', 'created_at': datetime.datetime(2025, 1, 27, 13, 22, 59, tzinfo=datetime.timezone.utc)}, {'comment_id': 2615753215, 'issue_id': 2813020666, 'author': 'fw-bot', 'body': '@aab-odoo @polymorphe57 cherrypicking of pull request odoo/odoo#195143 failed.\n\nstdout:\n```\nAuto-merging addons/web/static/src/views/view_service.js\nCONFLICT (modify/delete): addons/web/static/tests/views/form/form_view_tests.js deleted in 74784c26b7cfcea13e75b2939f377521aa40a492 and modified in 21dedfd25a599bfc2525ff92af133cda86cc4e28.  Version 21dedfd25a599bfc2525ff92af133cda86cc4e28 of addons/web/static/tests/views/form/form_view_tests.js left in tree.\n\n```\n\nEither perform the forward-port manually (and push to this branch, proceeding as usual) or close this PR (maybe?).\n\nIn the former case, you may want to edit this PR message as well.\n\n:warning: after resolving this conflict, you will need to merge it via @robodoo.\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 27, 13, 23, 1, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-27 13:22:59 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195276.png)](https://mergebot.odoo.com/odoo/odoo/pull/195276)

fw-bot (Issue Creator) on (2025-01-27 13:23:01 UTC): @aab-odoo @polymorphe57 cherrypicking of pull request odoo/odoo#195143 failed.

stdout:
```
Auto-merging addons/web/static/src/views/view_service.js
CONFLICT (modify/delete): addons/web/static/tests/views/form/form_view_tests.js deleted in 74784c26b7cfcea13e75b2939f377521aa40a492 and modified in 21dedfd25a599bfc2525ff92af133cda86cc4e28.  Version 21dedfd25a599bfc2525ff92af133cda86cc4e28 of addons/web/static/tests/views/form/form_view_tests.js left in tree.

```

Either perform the forward-port manually (and push to this branch, proceeding as usual) or close this PR (maybe?).

In the former case, you may want to edit this PR message as well.

:warning: after resolving this conflict, you will need to merge it via @robodoo.

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

"
2813019711,pull_request,closed,,[FW][FIX] l10n_*: load taxes for only root companies,"To reproduce:
1) install localization of any of the below modules. 
2) Make branch companies in that localization.
3) install one of the modules below.

we get this
error:https://github.com/odoo/odoo/blob/17.0/addons/account/models/account_tax.py#L200, `Tax names must be unique`, so only load taxes for root companies.

and for tax_group we get this error:

```
The operation cannot be completed:
- Create/update: a mandatory field is not set.
- Delete: another model requires the record being deleted. If possible, archive it instead.

Model: Tax Group (account.tax.group)
Field: Name (name)
```

Description of the issue/feature this PR addresses:

Current behavior before PR:

Desired behavior after PR is merged:




---
I confirm I have signed the CLA and read the PR guidelines at www.odoo.com/submit-pr

Forward-Port-Of: odoo/odoo#193013",fw-bot,2025-01-27 13:22:33+00:00,[],2025-01-28 09:17:01+00:00,2025-01-28 09:17:01+00:00,https://github.com/odoo/odoo/pull/195275,"[('RD', 'research & development, internal work'), ('forwardport', 'This PR was created by @fw-bot')]","[{'comment_id': 2615752281, 'issue_id': 2813019711, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195275.png)](https://mergebot.odoo.com/odoo/odoo/pull/195275)', 'created_at': datetime.datetime(2025, 1, 27, 13, 22, 36, tzinfo=datetime.timezone.utc)}, {'comment_id': 2615752350, 'issue_id': 2813019711, 'author': 'fw-bot', 'body': 'This PR targets saas-17.2 and is part of the forward-port chain. Further PRs will be created up to master.\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 27, 13, 22, 37, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-27 13:22:36 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195275.png)](https://mergebot.odoo.com/odoo/odoo/pull/195275)

fw-bot (Issue Creator) on (2025-01-27 13:22:37 UTC): This PR targets saas-17.2 and is part of the forward-port chain. Further PRs will be created up to master.

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

"
2813018369,pull_request,closed,,[FW][FIX] l10n_hu_edi: price include tax,"[FIX] l10n_hu_edi: price include tax

Price unit was not properly calculated:
* Didn't remove the discount.
* Didn't take into account price included taxes.

We also removed a test use case that didn't make sense.

Task-id: 4236755

---
I confirm I have signed the CLA and read the PR guidelines at www.odoo.com/submit-pr

Forward-Port-Of: odoo/odoo#190095",fw-bot,2025-01-27 13:21:59+00:00,[],2025-02-03 13:39:30+00:00,2025-02-03 13:39:30+00:00,https://github.com/odoo/odoo/pull/195274,"[('RD', 'research & development, internal work'), ('forwardport', 'This PR was created by @fw-bot')]","[{'comment_id': 2615750931, 'issue_id': 2813018369, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195274.png)](https://mergebot.odoo.com/odoo/odoo/pull/195274)', 'created_at': datetime.datetime(2025, 1, 27, 13, 22, tzinfo=datetime.timezone.utc)}, {'comment_id': 2615750957, 'issue_id': 2813018369, 'author': 'fw-bot', 'body': 'This PR targets saas-17.2 and is part of the forward-port chain. Further PRs will be created up to master.\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 27, 13, 22, 1, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-27 13:22:00 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195274.png)](https://mergebot.odoo.com/odoo/odoo/pull/195274)

fw-bot (Issue Creator) on (2025-01-27 13:22:01 UTC): This PR targets saas-17.2 and is part of the forward-port chain. Further PRs will be created up to master.

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

"
2813017026,pull_request,closed,,[FW][FIX] web: respect X2many field context when order is present,"Issue:
If we have a X2many that allows to have inactive records (with `context={'active_test': False}` on the field definition) and we specify a specific order for this X2many in this view, web_read won't respect the context of the field and will filter out inactive records.

This is because to apply a specific order in the web_read, we use search(), which will filter out inactive records from the `corecords` recordset.

Fix:
We fix this by forcing active_test=False before calling search and reapplying the previous context immediately after.

Closes #194311

Forward-Port-Of: odoo/odoo#194379",fw-bot,2025-01-27 13:21:23+00:00,[],2025-01-27 17:52:36+00:00,2025-01-27 17:52:36+00:00,https://github.com/odoo/odoo/pull/195273,"[('RD', 'research & development, internal work'), ('forwardport', 'This PR was created by @fw-bot')]","[{'comment_id': 2615749488, 'issue_id': 2813017026, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195273.png)](https://mergebot.odoo.com/odoo/odoo/pull/195273)', 'created_at': datetime.datetime(2025, 1, 27, 13, 21, 24, tzinfo=datetime.timezone.utc)}, {'comment_id': 2615749520, 'issue_id': 2813017026, 'author': 'fw-bot', 'body': 'This PR targets saas-17.2 and is part of the forward-port chain. Further PRs will be created up to master.\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 27, 13, 21, 25, tzinfo=datetime.timezone.utc)}, {'comment_id': 2615973449, 'issue_id': 2813017026, 'author': 'fw-bot', 'body': '@aab-odoo @ryv-odoo the next pull request (odoo/odoo#195297) is in conflict. You can merge the chain up to here by saying\n> @robodoo r+\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 27, 14, 52, 2, tzinfo=datetime.timezone.utc)}, {'comment_id': 2616087449, 'issue_id': 2813017026, 'author': 'aab-odoo', 'body': '@robodoo r+', 'created_at': datetime.datetime(2025, 1, 27, 15, 34, 45, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-27 13:21:24 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195273.png)](https://mergebot.odoo.com/odoo/odoo/pull/195273)

fw-bot (Issue Creator) on (2025-01-27 13:21:25 UTC): This PR targets saas-17.2 and is part of the forward-port chain. Further PRs will be created up to master.

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

fw-bot (Issue Creator) on (2025-01-27 14:52:02 UTC): @aab-odoo @ryv-odoo the next pull request (odoo/odoo#195297) is in conflict. You can merge the chain up to here by saying

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

aab-odoo on (2025-01-27 15:34:45 UTC): @robodoo r+

"
2813016081,pull_request,closed,,[FW][FIX] google_calendar: avoid sync failure on rescheduled all-day events,"Before this commit, syncing a Google Calendar that includes an all-day recurrent event—one of which is rescheduled—would fail entirely. This happened because `full_recurring_event_id` only handled events with a specific date-time format (`T...Z`), causing the regex to break for date-only IDs.

opw-4443780

---
I confirm I have signed the CLA and read the PR guidelines at www.odoo.com/submit-pr

Forward-Port-Of: odoo/odoo#194176",fw-bot,2025-01-27 13:20:58+00:00,[],2025-01-28 10:54:14+00:00,2025-01-28 10:54:14+00:00,https://github.com/odoo/odoo/pull/195272,"[('OE', 'the report is linked to a support ticket (opw-...)'), ('forwardport', 'This PR was created by @fw-bot')]","[{'comment_id': 2615748590, 'issue_id': 2813016081, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195272.png)](https://mergebot.odoo.com/odoo/odoo/pull/195272)', 'created_at': datetime.datetime(2025, 1, 27, 13, 21, tzinfo=datetime.timezone.utc)}, {'comment_id': 2615748618, 'issue_id': 2813016081, 'author': 'fw-bot', 'body': 'This PR targets saas-17.2 and is part of the forward-port chain. Further PRs will be created up to master.\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 27, 13, 21, 1, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-27 13:21:00 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195272.png)](https://mergebot.odoo.com/odoo/odoo/pull/195272)

fw-bot (Issue Creator) on (2025-01-27 13:21:01 UTC): This PR targets saas-17.2 and is part of the forward-port chain. Further PRs will be created up to master.

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

"
2812999596,pull_request,closed,,[FW][FIX] web_editor: prevent insertion of link on ctrl+k with video focused,"This PR addresses an issue where selecting a video and pressing Ctrl+K would introduce a link(anchor tag) on top of the video. The fix ensures that pressing Ctrl+K while a video is focused will no longer insert a link,  resolving the issue of an empty link being added.

task-2819776

Forward-Port-Of: odoo/odoo#193447
Forward-Port-Of: odoo/odoo#162615",fw-bot,2025-01-27 13:13:59+00:00,[],2025-01-27 18:37:27+00:00,2025-01-27 18:37:27+00:00,https://github.com/odoo/odoo/pull/195270,"[('RD', 'research & development, internal work'), ('forwardport', 'This PR was created by @fw-bot'), ('conflict', 'There was an error while creating this forward-port PR')]","[{'comment_id': 2615732425, 'issue_id': 2812999596, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195270.png)](https://mergebot.odoo.com/odoo/odoo/pull/195270)', 'created_at': datetime.datetime(2025, 1, 27, 13, 14, tzinfo=datetime.timezone.utc)}, {'comment_id': 2615732532, 'issue_id': 2812999596, 'author': 'fw-bot', 'body': '@perm-odoo @robinlej cherrypicking of pull request odoo/odoo#162615 failed.\n\nstdout:\n```\nAuto-merging addons/web_editor/static/src/js/wysiwyg/wysiwyg.js\nCONFLICT (content): Merge conflict in addons/web_editor/static/src/js/wysiwyg/wysiwyg.js\n\n```\n\nEither perform the forward-port manually (and push to this branch, proceeding as usual) or close this PR (maybe?).\n\nIn the former case, you may want to edit this PR message as well.\n\n:warning: after resolving this conflict, you will need to merge it via @robodoo.\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 27, 13, 14, 3, tzinfo=datetime.timezone.utc)}, {'comment_id': 2616306174, 'issue_id': 2812999596, 'author': 'robinlej', 'body': '@robodoo r+', 'created_at': datetime.datetime(2025, 1, 27, 16, 34, 56, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-27 13:14:00 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195270.png)](https://mergebot.odoo.com/odoo/odoo/pull/195270)

fw-bot (Issue Creator) on (2025-01-27 13:14:03 UTC): @perm-odoo @robinlej cherrypicking of pull request odoo/odoo#162615 failed.

stdout:
```
Auto-merging addons/web_editor/static/src/js/wysiwyg/wysiwyg.js
CONFLICT (content): Merge conflict in addons/web_editor/static/src/js/wysiwyg/wysiwyg.js

```

Either perform the forward-port manually (and push to this branch, proceeding as usual) or close this PR (maybe?).

In the former case, you may want to edit this PR message as well.

:warning: after resolving this conflict, you will need to merge it via @robodoo.

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

robinlej on (2025-01-27 16:34:56 UTC): @robodoo r+

"
2812996720,pull_request,open,,[FIX] web: conserve keyboard nav after selecting an emoji category,"Before this PR, the keyboard navigation capability was lost after clicking on a category.
This PR adds a tabindex to avoid losing focus on the emoji picker.
",phenix-factory,2025-01-27 13:12:47+00:00,[],2025-01-29 14:36:04+00:00,,https://github.com/odoo/odoo/pull/195269,"[('RD', 'research & development, internal work')]","[{'comment_id': 2615729739, 'issue_id': 2812996720, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195269.png)](https://mergebot.odoo.com/odoo/odoo/pull/195269)', 'created_at': datetime.datetime(2025, 1, 27, 13, 12, 50, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-27 13:12:50 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195269.png)](https://mergebot.odoo.com/odoo/odoo/pull/195269)

"
2812974890,pull_request,closed,,[FIX] account: prevent error on opening catalog,"This error occurs when we click on the ``Catalog`` button in move lines.

Steps to reproduce:
---
- Install ``Invoicing`` module
- Open NEW invoice > Click on ``Catalog`` in Invoice lines

Traceback:
---
```
IndexError: list index out of range
  File ""odoo/http.py"", line 2406, in __call__
    response = request._serve_db()
  File ""odoo/http.py"", line 1934, in _serve_db
    return self._transactioning(
  File ""odoo/http.py"", line 1997, in _transactioning
    return service_model.retrying(func, env=self.env)
  File ""odoo/service/model.py"", line 137, in retrying
    result = func()
  File ""odoo/http.py"", line 1964, in _serve_ir_http
    response = self.dispatcher.dispatch(rule.endpoint, args)
  File ""odoo/http.py"", line 2214, in dispatch
    result = self.request.registry['ir.http']._dispatch(endpoint)
  File ""odoo/addons/base/models/ir_http.py"", line 334, in _dispatch
    result = endpoint(**request.params)
  File ""odoo/http.py"", line 733, in route_wrapper
    result = endpoint(self, *args, **params_ok)
  File ""addons/web/controllers/dataset.py"", line 31, in call_kw
    return call_kw(request.env[model], method, args, kwargs)
  File ""odoo/service/model.py"", line 51, in call_kw
    ids, args = args[0], args[1:]
```

The issue arises because the absence of the ``@api.model`` decorator in the original implementation prevents Odoo's ORM from properly recognizing the method as a ``model method``. To resolve this, the ``@api.model`` decorator was added above the ``search_read`` method.

sentry-6232832214

---
I confirm I have signed the CLA and read the PR guidelines at www.odoo.com/submit-pr
",aamo-odoo,2025-01-27 13:03:22+00:00,[],2025-01-31 18:24:18+00:00,2025-01-31 18:24:18+00:00,https://github.com/odoo/odoo/pull/195268,"[('RD', 'research & development, internal work')]","[{'comment_id': 2615707900, 'issue_id': 2812974890, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195268.png)](https://mergebot.odoo.com/odoo/odoo/pull/195268)', 'created_at': datetime.datetime(2025, 1, 27, 13, 3, 26, tzinfo=datetime.timezone.utc)}, {'comment_id': 2621066343, 'issue_id': 2812974890, 'author': 'adwid', 'body': ""Introduced by d2e857855f1b0a3326b07f8a5f1f82260cf18f14\r\nLuckily, only 18.1 is impacted\r\nConsidering how simple/basic/important the use case is, we should cover it with a test... \r\nIt can even be a tour if you want to, but we can't let things like that unprotected"", 'created_at': datetime.datetime(2025, 1, 29, 9, 9, 59, tzinfo=datetime.timezone.utc)}, {'comment_id': 2627505449, 'issue_id': 2812974890, 'author': 'adwid', 'body': 'robodoo r+', 'created_at': datetime.datetime(2025, 1, 31, 14, 37, 7, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-27 13:03:26 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195268.png)](https://mergebot.odoo.com/odoo/odoo/pull/195268)

adwid on (2025-01-29 09:09:59 UTC): Introduced by d2e857855f1b0a3326b07f8a5f1f82260cf18f14
Luckily, only 18.1 is impacted
Considering how simple/basic/important the use case is, we should cover it with a test... 
It can even be a tour if you want to, but we can't let things like that unprotected

adwid on (2025-01-31 14:37:07 UTC): robodoo r+

"
2812967861,pull_request,closed,,[FW][FIX] portal: prevent Sign duplication in edit mode,"**Problem:**
When editing the ""Sign & Pay"" modal in customer preview for a sale
order, changes are not saved due to multiple issues:
1. Saving the signature component directly results in only the
   signature UI being saved, missing the logic and props of the
   original component.
2. If the signature component is saved with other fields, it gets
   duplicated upon saving due to `<owl-component />` behavior. This
   re-renders every saved component and mounts those passed as props,
   causing duplication and breaking functionality.
   - Reference: public_component_service.js

**Solution:**
1. Hide the signature component during editing to prevent saving its
   UI-only state, preserving its logic and props.

**Steps to Reproduce:**
1. Create a sale order.
2. Click on ""Customer Preview.""
3. Enable edit mode.
4. Open the ""Sign & Pay"" modal, modify the content, and save.
   - The signature UI duplicates

**opw-4216372**
---
I confirm I have signed the CLA and read the PR guidelines at www.odoo.com/submit-pr

Forward-Port-Of: odoo/odoo#187707",fw-bot,2025-01-27 13:00:32+00:00,[],2025-01-27 19:20:17+00:00,2025-01-27 19:20:17+00:00,https://github.com/odoo/odoo/pull/195267,"[('OE', 'the report is linked to a support ticket (opw-...)'), ('forwardport', 'This PR was created by @fw-bot')]","[{'comment_id': 2615701266, 'issue_id': 2812967861, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195267.png)](https://mergebot.odoo.com/odoo/odoo/pull/195267)', 'created_at': datetime.datetime(2025, 1, 27, 13, 0, 34, tzinfo=datetime.timezone.utc)}, {'comment_id': 2615701294, 'issue_id': 2812967861, 'author': 'fw-bot', 'body': 'This PR targets saas-18.1 and is part of the forward-port chain. Further PRs will be created up to master.\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 27, 13, 0, 35, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-27 13:00:34 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195267.png)](https://mergebot.odoo.com/odoo/odoo/pull/195267)

fw-bot (Issue Creator) on (2025-01-27 13:00:35 UTC): This PR targets saas-18.1 and is part of the forward-port chain. Further PRs will be created up to master.

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

"
2812967635,pull_request,closed,,[FIX] website_sale_loyalty: Decimal rounding comparison issue,"Steps
-----
1. Add an item to the cart (ensure the total price has decimals).
2. During checkout, apply a coupon (e.g., a 50% discount).
3. Attempt to validate the payment.


Issue
-----
The frontend user encounters the following error:
""Cannot process payment: applied reward was changed or has expired.""

Cause
-----
In some cases, the comparison between initial_amount and the new amount_total fails due to a small decimal difference (e.g., 0.00002).

Solution
--------
Use the float_compare function to handle precise rounding.

Description of the issue/feature this PR addresses:

Current behavior before PR:

Desired behavior after PR is merged:




---
I confirm I have signed the CLA and read the PR guidelines at www.odoo.com/submit-pr
",mohamedlaminelalmi,2025-01-27 13:00:26+00:00,[],2025-01-27 18:00:40+00:00,2025-01-27 18:00:40+00:00,https://github.com/odoo/odoo/pull/195266,"[('Website', '')]","[{'comment_id': 2615701095, 'issue_id': 2812967635, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195266.png)](https://mergebot.odoo.com/odoo/odoo/pull/195266)', 'created_at': datetime.datetime(2025, 1, 27, 13, 0, 29, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-27 13:00:29 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195266.png)](https://mergebot.odoo.com/odoo/odoo/pull/195266)

"
2812963470,pull_request,closed,,[FW][FIX] sale: allow editing delivered quantity on combo item SOLs,"Previously, only the description and taxes could be edited on combo item SOLs. However, the delivered quantity should also be editable.

opw-4454205

Forward-Port-Of: odoo/odoo#194906",fw-bot,2025-01-27 12:58:39+00:00,[],2025-01-27 19:20:13+00:00,2025-01-27 19:20:13+00:00,https://github.com/odoo/odoo/pull/195265,"[('OE', 'the report is linked to a support ticket (opw-...)'), ('forwardport', 'This PR was created by @fw-bot'), ('conflict', 'There was an error while creating this forward-port PR')]","[{'comment_id': 2615696991, 'issue_id': 2812963470, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195265.png)](https://mergebot.odoo.com/odoo/odoo/pull/195265)', 'created_at': datetime.datetime(2025, 1, 27, 12, 58, 41, tzinfo=datetime.timezone.utc)}, {'comment_id': 2615697122, 'issue_id': 2812963470, 'author': 'fw-bot', 'body': '@ltinel @Feyensv cherrypicking of pull request odoo/odoo#194906 failed.\n\nstdout:\n```\nAuto-merging addons/sale/static/src/js/sale_order_line_field/sale_order_line_field.js\nCONFLICT (content): Merge conflict in addons/sale/static/src/js/sale_order_line_field/sale_order_line_field.js\n\n```\n\nEither perform the forward-port manually (and push to this branch, proceeding as usual) or close this PR (maybe?).\n\nIn the former case, you may want to edit this PR message as well.\n\n:warning: after resolving this conflict, you will need to merge it via @robodoo.\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 27, 12, 58, 44, tzinfo=datetime.timezone.utc)}, {'comment_id': 2615998168, 'issue_id': 2812963470, 'author': 'ltinel', 'body': '@robodoo r+', 'created_at': datetime.datetime(2025, 1, 27, 15, 1, 26, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-27 12:58:41 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195265.png)](https://mergebot.odoo.com/odoo/odoo/pull/195265)

fw-bot (Issue Creator) on (2025-01-27 12:58:44 UTC): @ltinel @Feyensv cherrypicking of pull request odoo/odoo#194906 failed.

stdout:
```
Auto-merging addons/sale/static/src/js/sale_order_line_field/sale_order_line_field.js
CONFLICT (content): Merge conflict in addons/sale/static/src/js/sale_order_line_field/sale_order_line_field.js

```

Either perform the forward-port manually (and push to this branch, proceeding as usual) or close this PR (maybe?).

In the former case, you may want to edit this PR message as well.

:warning: after resolving this conflict, you will need to merge it via @robodoo.

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

ltinel on (2025-01-27 15:01:26 UTC): @robodoo r+

"
2812962743,pull_request,closed,,[FIX] l10n_sa_edi_pos: prevent error when validating zero total orders,"Before this commit, attempting to validate an order with a zero total (such as when fully paid using an eWallet) would result in an error.

opw-4487591

---
I confirm I have signed the CLA and read the PR guidelines at www.odoo.com/submit-pr
",pedrambiria,2025-01-27 12:58:21+00:00,[],2025-01-30 14:06:11+00:00,2025-01-30 14:06:11+00:00,https://github.com/odoo/odoo/pull/195264,"[('OE', 'the report is linked to a support ticket (opw-...)')]","[{'comment_id': 2615696369, 'issue_id': 2812962743, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195264.png)](https://mergebot.odoo.com/odoo/odoo/pull/195264)', 'created_at': datetime.datetime(2025, 1, 27, 12, 58, 25, tzinfo=datetime.timezone.utc)}, {'comment_id': 2619195749, 'issue_id': 2812962743, 'author': 'hupo-odoo', 'body': ""Hello, could you please provide a clear step-by-step description of how to reach the error ? Because I can't figure out how you managed to post the invoice with eWallet. I keep getting the issue that eWallet line doens't have a tax line set on it"", 'created_at': datetime.datetime(2025, 1, 28, 14, 41, 14, tzinfo=datetime.timezone.utc)}, {'comment_id': 2619336624, 'issue_id': 2812962743, 'author': 'pedrambiria', 'body': ""@hupo-odoo Hello,\r\nTo solve that issue, you need to find the eWallet product, and set a tax on it. It's better to set a 0% tax for it."", 'created_at': datetime.datetime(2025, 1, 28, 15, 31, 11, tzinfo=datetime.timezone.utc)}, {'comment_id': 2621235349, 'issue_id': 2812962743, 'author': 'hupo-odoo', 'body': ""Thank you for the explanation. I have managed to finish an order with the POS with the SA company with a zero total amount without any error so I don't know what's the issue. Would you mind provide the complete step-by-step process to reach the error in your commit message. That is what is usually done when fixing a bug."", 'created_at': datetime.datetime(2025, 1, 29, 10, 23, 13, tzinfo=datetime.timezone.utc)}, {'comment_id': 2621361606, 'issue_id': 2812962743, 'author': 'pedrambiria', 'body': '@hupo-odoo Reproducing the issue is straightforward for those familiar with the PoS. Including detailed module usage instructions in the commit message isn’t necessary. The issue arises when validating a zero-amount order without any payment. For example, if you create a PoS order totaling zero (e.g., by applying a 100% discount), proceed to the payment screen without adding any payment lines, and then validate the order, the problem occurs. While I previously mentioned using an eWallet as an example, it’s not required to replicate the issue. The key is processing an order with a total of zero and finalizing it without specifying a payment method.', 'created_at': datetime.datetime(2025, 1, 29, 11, 16, 29, tzinfo=datetime.timezone.utc)}, {'comment_id': 2623991220, 'issue_id': 2812962743, 'author': 'hupo-odoo', 'body': '@robodoo r+', 'created_at': datetime.datetime(2025, 1, 30, 9, 43, 12, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-27 12:58:25 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195264.png)](https://mergebot.odoo.com/odoo/odoo/pull/195264)

hupo-odoo on (2025-01-28 14:41:14 UTC): Hello, could you please provide a clear step-by-step description of how to reach the error ? Because I can't figure out how you managed to post the invoice with eWallet. I keep getting the issue that eWallet line doens't have a tax line set on it

pedrambiria (Issue Creator) on (2025-01-28 15:31:11 UTC): @hupo-odoo Hello,
To solve that issue, you need to find the eWallet product, and set a tax on it. It's better to set a 0% tax for it.

hupo-odoo on (2025-01-29 10:23:13 UTC): Thank you for the explanation. I have managed to finish an order with the POS with the SA company with a zero total amount without any error so I don't know what's the issue. Would you mind provide the complete step-by-step process to reach the error in your commit message. That is what is usually done when fixing a bug.

pedrambiria (Issue Creator) on (2025-01-29 11:16:29 UTC): @hupo-odoo Reproducing the issue is straightforward for those familiar with the PoS. Including detailed module usage instructions in the commit message isn’t necessary. The issue arises when validating a zero-amount order without any payment. For example, if you create a PoS order totaling zero (e.g., by applying a 100% discount), proceed to the payment screen without adding any payment lines, and then validate the order, the problem occurs. While I previously mentioned using an eWallet as an example, it’s not required to replicate the issue. The key is processing an order with a total of zero and finalizing it without specifying a payment method.

hupo-odoo on (2025-01-30 09:43:12 UTC): @robodoo r+

"
2812962520,pull_request,closed,,[FW][FIX] sale: product desctiption readonly,"Steps:
- Install sale_project
- Create a service type product
- Create a SO and confirm it
- In the confirmed order add a SOL with the new product

Issue:
- cannot edit the description of the new SOL

Cause:
- readonly for the SOL is set based on product_updatable and product_updatable is set false when product type service even for new order line

Fix
- Updated the readonly condition to account for new lines

opw - 4473488

---
I confirm I have signed the CLA and read the PR guidelines at www.odoo.com/submit-pr

Forward-Port-Of: odoo/odoo#194979",fw-bot,2025-01-27 12:58:16+00:00,[],2025-01-27 17:40:08+00:00,2025-01-27 17:40:08+00:00,https://github.com/odoo/odoo/pull/195263,"[('OE', 'the report is linked to a support ticket (opw-...)'), ('forwardport', 'This PR was created by @fw-bot')]","[{'comment_id': 2615696097, 'issue_id': 2812962520, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195263.png)](https://mergebot.odoo.com/odoo/odoo/pull/195263)', 'created_at': datetime.datetime(2025, 1, 27, 12, 58, 17, tzinfo=datetime.timezone.utc)}, {'comment_id': 2615696127, 'issue_id': 2812962520, 'author': 'fw-bot', 'body': 'This PR targets saas-18.1 and is part of the forward-port chain. Further PRs will be created up to master.\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 27, 12, 58, 18, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-27 12:58:17 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195263.png)](https://mergebot.odoo.com/odoo/odoo/pull/195263)

fw-bot (Issue Creator) on (2025-01-27 12:58:18 UTC): This PR targets saas-18.1 and is part of the forward-port chain. Further PRs will be created up to master.

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

"
2812961146,pull_request,open,,[FW][IMP] stock: hide XLSX export action in quant list view for moves,"The cogwheel dropdown menu is unwanted and only contains the 'Export All' button, which is disabled with an attribute. This commit extends the existing base tree view for this specific use to avoid interfering with other views that use/extend it.

Task ID: [4471980](https://www.odoo.com/odoo/project/966/tasks/4471980)

Forward-Port-Of: odoo/odoo#195148
Forward-Port-Of: odoo/odoo#193987",fw-bot,2025-01-27 12:57:41+00:00,[],2025-01-27 13:00:15+00:00,,https://github.com/odoo/odoo/pull/195262,"[('RD', 'research & development, internal work'), ('forwardport', 'This PR was created by @fw-bot')]","[{'comment_id': 2615694785, 'issue_id': 2812961146, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195262.png)](https://mergebot.odoo.com/odoo/odoo/pull/195262)', 'created_at': datetime.datetime(2025, 1, 27, 12, 57, 42, tzinfo=datetime.timezone.utc)}, {'comment_id': 2615694812, 'issue_id': 2812961146, 'author': 'fw-bot', 'body': 'This PR targets saas-18.1 and is part of the forward-port chain. Further PRs will be created up to master.\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 27, 12, 57, 43, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-27 12:57:42 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195262.png)](https://mergebot.odoo.com/odoo/odoo/pull/195262)

fw-bot (Issue Creator) on (2025-01-27 12:57:43 UTC): This PR targets saas-18.1 and is part of the forward-port chain. Further PRs will be created up to master.

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

"
2812960254,pull_request,closed,,[FW][IMP] l10n_es_edi_sii: add cancellation,"Description of the issue/feature this PR addresses:

Current behavior before PR:

Desired behavior after PR is merged:




---
I confirm I have signed the CLA and read the PR guidelines at www.odoo.com/submit-pr

Forward-Port-Of: odoo/odoo#194734
Forward-Port-Of: odoo/odoo#192048",fw-bot,2025-01-27 12:57:17+00:00,[],2025-01-28 12:08:45+00:00,2025-01-28 12:08:45+00:00,https://github.com/odoo/odoo/pull/195261,"[('RD', 'research & development, internal work'), ('forwardport', 'This PR was created by @fw-bot')]","[{'comment_id': 2615694013, 'issue_id': 2812960254, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195261.png)](https://mergebot.odoo.com/odoo/odoo/pull/195261)', 'created_at': datetime.datetime(2025, 1, 27, 12, 57, 20, tzinfo=datetime.timezone.utc)}, {'comment_id': 2615694041, 'issue_id': 2812960254, 'author': 'fw-bot', 'body': 'This PR targets saas-18.1 and is part of the forward-port chain. Further PRs will be created up to master.\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 27, 12, 57, 21, tzinfo=datetime.timezone.utc)}, {'comment_id': 2615806022, 'issue_id': 2812960254, 'author': 'fw-bot', 'body': '@jco-odoo @RicGR98 ci/runbot failed on this forward-port PR', 'created_at': datetime.datetime(2025, 1, 27, 13, 46, 1, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-27 12:57:20 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195261.png)](https://mergebot.odoo.com/odoo/odoo/pull/195261)

fw-bot (Issue Creator) on (2025-01-27 12:57:21 UTC): This PR targets saas-18.1 and is part of the forward-port chain. Further PRs will be created up to master.

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

fw-bot (Issue Creator) on (2025-01-27 13:46:01 UTC): @jco-odoo @RicGR98 ci/runbot failed on this forward-port PR

"
2812959645,pull_request,open,,[IMP] website_event: add a snippet which shows live events,"**Purpose:**
Show live events on website page.

**Specifications:**
Create a new snippet for live events.
- If there's an event live/ongoing, the snippet will display the cover of the event.
- On clicking on the cover, it should redirect to the track page if there's one live,
- If there's no live track then, redirect to event page.

Task-4254375
",nihp-odoo,2025-01-27 12:57:02+00:00,[],2025-02-04 12:39:05+00:00,,https://github.com/odoo/odoo/pull/195260,"[('RD', 'research & development, internal work')]","[{'comment_id': 2615693952, 'issue_id': 2812959645, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195260.png)](https://mergebot.odoo.com/odoo/odoo/pull/195260)', 'created_at': datetime.datetime(2025, 1, 27, 12, 57, 19, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-27 12:57:19 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195260.png)](https://mergebot.odoo.com/odoo/odoo/pull/195260)

"
2812928699,pull_request,closed,,[FIX] point_of_sale: allow validation of zero-total orders,"Before this commit, a rounding error could leading to scenarios where
orders with a zero total could not be validated. For instance, adding
a product priced at $70 with a 15% tax included and then applying an
eWallet payment in PoS would result in a zero total. However, during
the payment step, the system erroneously prompted for an additional
zero-amount payment line, causing confusion and preventing order
validation.

opw-4487591

---
I confirm I have signed the CLA and read the PR guidelines at www.odoo.com/submit-pr
",pedrambiria,2025-01-27 12:43:42+00:00,[],2025-01-28 14:32:40+00:00,2025-01-28 14:32:40+00:00,https://github.com/odoo/odoo/pull/195258,"[('OE', 'the report is linked to a support ticket (opw-...)')]","[{'comment_id': 2615663211, 'issue_id': 2812928699, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195258.png)](https://mergebot.odoo.com/odoo/odoo/pull/195258)', 'created_at': datetime.datetime(2025, 1, 27, 12, 43, 45, tzinfo=datetime.timezone.utc)}, {'comment_id': 2617325192, 'issue_id': 2812928699, 'author': 'robodoo', 'body': '@pedrambiria @caburj staging failed: ci/runbot on 480536134826e6a7f4a8c8bfb3d77841998d96bc (view more at https://runbot.odoo.com/runbot/build/74038551)', 'created_at': datetime.datetime(2025, 1, 28, 0, 45, 14, tzinfo=datetime.timezone.utc)}, {'comment_id': 2618364080, 'issue_id': 2812928699, 'author': 'pedrambiria', 'body': 'robodoo retry', 'created_at': datetime.datetime(2025, 1, 28, 9, 6, 20, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-27 12:43:45 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195258.png)](https://mergebot.odoo.com/odoo/odoo/pull/195258)

robodoo on (2025-01-28 00:45:14 UTC): @pedrambiria @caburj staging failed: ci/runbot on 480536134826e6a7f4a8c8bfb3d77841998d96bc (view more at https://runbot.odoo.com/runbot/build/74038551)

pedrambiria (Issue Creator) on (2025-01-28 09:06:20 UTC): robodoo retry

"
2812897460,pull_request,closed,,[FW][FIX] web: view_service: mark loadViews as async,"Before this commit, loadViews didn't benefit from the ""async"" protection of services. Indeed, when used in a component (via useService), the promise returned by loadViews could be resolved (when the rpc returned), even if the component had been destroyed meanwhile. This could lead to code in a destroyed component being executed, and eventually doing an rpc, which would lead to the crash `Error: Component is destroyed`.

This could be reproduced in a form view with an x2many field, whose form view isn't inline (i.e. needs to be fetched when a record is clicked). In such a form view, click on a record in the x2many, then, during the call to `get_views`, toggle the home menu (for instance).

Description of the issue/feature this PR addresses:

Current behavior before PR:

Desired behavior after PR is merged:




---
I confirm I have signed the CLA and read the PR guidelines at www.odoo.com/submit-pr

Forward-Port-Of: odoo/odoo#195139",fw-bot,2025-01-27 12:30:05+00:00,[],2025-01-28 01:17:43+00:00,2025-01-28 01:17:37+00:00,https://github.com/odoo/odoo/pull/195257,"[('RD', 'research & development, internal work'), ('forwardport', 'This PR was created by @fw-bot'), ('18.2', None)]","[{'comment_id': 2615633575, 'issue_id': 2812897460, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195257.png)](https://mergebot.odoo.com/odoo/odoo/pull/195257)', 'created_at': datetime.datetime(2025, 1, 27, 12, 30, 7, tzinfo=datetime.timezone.utc)}, {'comment_id': 2615633601, 'issue_id': 2812897460, 'author': 'fw-bot', 'body': '@aab-odoo @polymorphe57 this PR targets master and is the last of the forward-port chain containing:\n* odoo/odoo#195239\n\nTo merge the full chain, use\n> @robodoo r+\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 27, 12, 30, 7, tzinfo=datetime.timezone.utc)}, {'comment_id': 2615649898, 'issue_id': 2812897460, 'author': 'aab-odoo', 'body': 'robodoo r+', 'created_at': datetime.datetime(2025, 1, 27, 12, 37, 31, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-27 12:30:07 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195257.png)](https://mergebot.odoo.com/odoo/odoo/pull/195257)

fw-bot (Issue Creator) on (2025-01-27 12:30:07 UTC): @aab-odoo @polymorphe57 this PR targets master and is the last of the forward-port chain containing:
* odoo/odoo#195239

To merge the full chain, use

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

aab-odoo on (2025-01-27 12:37:31 UTC): robodoo r+

"
2812896488,pull_request,closed,,[FW][FIX] sale_purchase: read service_to_purchase from the order's company,"Steps to reproduce:

1. Create two companies: Company A and Company B
2. Create a service product
3. Configure the product to be purchased on Company A and not on Company B
4. Create a sales order on Company B, while logged in Company A
5. Confirm the order

Expected result:

The service PO is created on Company B, even though it was configured not to.



---
I confirm I have signed the CLA and read the PR guidelines at www.odoo.com/submit-pr

Forward-Port-Of: odoo/odoo#195088
Forward-Port-Of: odoo/odoo#177659",fw-bot,2025-01-27 12:29:40+00:00,[],2025-01-28 01:17:41+00:00,2025-01-28 01:17:41+00:00,https://github.com/odoo/odoo/pull/195256,"[('RD', 'research & development, internal work'), ('forwardport', 'This PR was created by @fw-bot'), ('18.2', None)]","[{'comment_id': 2615632615, 'issue_id': 2812896488, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195256.png)](https://mergebot.odoo.com/odoo/odoo/pull/195256)', 'created_at': datetime.datetime(2025, 1, 27, 12, 29, 41, tzinfo=datetime.timezone.utc)}, {'comment_id': 2615632640, 'issue_id': 2812896488, 'author': 'fw-bot', 'body': '@ivantodorovich @ticodoo this PR targets master and is the last of the forward-port chain.\n\nTo merge the full chain, use\n> @robodoo r+\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 27, 12, 29, 42, tzinfo=datetime.timezone.utc)}, {'comment_id': 2615633572, 'issue_id': 2812896488, 'author': 'ticodoo', 'body': '@robodoo r+', 'created_at': datetime.datetime(2025, 1, 27, 12, 30, 7, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-27 12:29:41 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195256.png)](https://mergebot.odoo.com/odoo/odoo/pull/195256)

fw-bot (Issue Creator) on (2025-01-27 12:29:42 UTC): @ivantodorovich @ticodoo this PR targets master and is the last of the forward-port chain.

To merge the full chain, use

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

ticodoo on (2025-01-27 12:30:07 UTC): @robodoo r+

"
2812895570,pull_request,closed,,[FW][FIX] l10n_in_ewaybill_irn: Add missing JSON payload preparation for transportation details,"Implemented _prepare_ewaybill_transportation_json_payload to address a missed
requirement for generating e-way bill transportation details when processed through IRN.

Added corresponding tests to ensure proper functionality and coverage.

This fixes gaps in the integration with the e-invoice and EDI workflows.

Forward-Port-Of: odoo/odoo#195214",fw-bot,2025-01-27 12:29:17+00:00,[],2025-01-28 01:17:46+00:00,2025-01-28 01:17:45+00:00,https://github.com/odoo/odoo/pull/195255,"[('RD', 'research & development, internal work'), ('forwardport', 'This PR was created by @fw-bot'), ('18.2', None)]","[{'comment_id': 2615631796, 'issue_id': 2812895570, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195255.png)](https://mergebot.odoo.com/odoo/odoo/pull/195255)', 'created_at': datetime.datetime(2025, 1, 27, 12, 29, 19, tzinfo=datetime.timezone.utc)}, {'comment_id': 2615631810, 'issue_id': 2812895570, 'author': 'fw-bot', 'body': '@hamo-odoo @jco-odoo this PR targets master and is the last of the forward-port chain.\n\nTo merge the full chain, use\n> @robodoo r+\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 27, 12, 29, 19, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-27 12:29:19 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195255.png)](https://mergebot.odoo.com/odoo/odoo/pull/195255)

fw-bot (Issue Creator) on (2025-01-27 12:29:19 UTC): @hamo-odoo @jco-odoo this PR targets master and is the last of the forward-port chain.

To merge the full chain, use

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

"
2812894221,pull_request,closed,,[FW][IMP] point_of_sale: revert send mail server action,"Before this commit:
==========
- The Send Mail server action was removed in the SM cleanup PR while improving the mail template flow. This improvement broke down the email marketing flow from PoS.

After this commit:
==========
- Send Mail server action reverted to do email marketing from PoS.

task-4464312

Forward-Port-Of: odoo/odoo#193894",fw-bot,2025-01-27 12:28:43+00:00,[],2025-01-28 01:17:50+00:00,2025-01-28 01:17:50+00:00,https://github.com/odoo/odoo/pull/195254,"[('RD', 'research & development, internal work'), ('forwardport', 'This PR was created by @fw-bot'), ('18.2', None)]","[{'comment_id': 2615630844, 'issue_id': 2812894221, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195254.png)](https://mergebot.odoo.com/odoo/odoo/pull/195254)', 'created_at': datetime.datetime(2025, 1, 27, 12, 28, 51, tzinfo=datetime.timezone.utc)}, {'comment_id': 2615630872, 'issue_id': 2812894221, 'author': 'fw-bot', 'body': '@paan-odoo @davidmonnom this PR targets master and is the last of the forward-port chain.\n\nTo merge the full chain, use\n> @robodoo r+\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 27, 12, 28, 52, tzinfo=datetime.timezone.utc)}, {'comment_id': 2615632875, 'issue_id': 2812894221, 'author': 'paan-odoo', 'body': '@robodoo r+', 'created_at': datetime.datetime(2025, 1, 27, 12, 29, 48, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-27 12:28:51 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195254.png)](https://mergebot.odoo.com/odoo/odoo/pull/195254)

fw-bot (Issue Creator) on (2025-01-27 12:28:52 UTC): @paan-odoo @davidmonnom this PR targets master and is the last of the forward-port chain.

To merge the full chain, use

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

paan-odoo on (2025-01-27 12:29:48 UTC): @robodoo r+

"
2812877444,pull_request,open,,"[FIX] pos_restaurant,product: prevent parseerror when user deletes combo choices","Currently a Traceback occurs when the user deletes the combo choices.

Error: `ParseError: while parsing /home/odoo/src/odoo/saas-18.1/addons/pos_restaurant/data/scenarios/restaurant_data.xml:607 A combo product must contain at least 1 combo choice.`

Steps to reproduce above error :-
- Install 'Point of Sale' application.
- Open POS and click 'Restaurant' button.
- POS > Products > Combo Choices, delete the combo choices.
- Now archive the 'Restaurant' in POS, again click 'Restaurant' and delete it.
- Open POS again and click 'Restaurant' button.
- The error appears in the log.

The error occurs because the user deleted combo choices, and when 'Restaurant' is clicked again, it tries to access the deleted combo choices.

This commit fixes the error by checking if the master data is loaded again through the `context`.

sentry-6233666117",ayve-odoo,2025-01-27 12:21:30+00:00,[],2025-01-27 13:21:04+00:00,,https://github.com/odoo/odoo/pull/195253,"[('RD', 'research & development, internal work')]","[{'comment_id': 2615615065, 'issue_id': 2812877444, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195253.png)](https://mergebot.odoo.com/odoo/odoo/pull/195253)', 'created_at': datetime.datetime(2025, 1, 27, 12, 21, 33, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-27 12:21:33 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195253.png)](https://mergebot.odoo.com/odoo/odoo/pull/195253)

"
2812864301,pull_request,closed,,"[FIX] iap_account,sms: fix traceback when acessing iap accounts","A traceback occurs when the user tries to open IAP accounts after uninstalling the SMS module.

To reproduce:
1) Install hr
2) open IAP accounts from settings/technical/iap/iap accounts 
3) Create a new iap account with service as `SMS`
4) Uninstall `SMS` module
5) Try to open the iap accounts again

Error:-
```
ValueError: Invalid field 'sender_name' in 'iap.account'
```

This error occurs from the below line

https://github.com/odoo/odoo/blob/1e7c2ca8c929d15c9015b960f7fcbe4560413e98/addons/iap/models/iap_account.py#L128

Because when the user creates an iap account with service_name as `SMS`,
We include `sender_name` in the dict of updating fields.

https://github.com/odoo/odoo/blob/1e7c2ca8c929d15c9015b960f7fcbe4560413e98/addons/iap/models/iap_account.py#L123-L126

But, the `sender_name` field is defined in the SMS module, 
So it will lead to the above traceback as the `SMS` module is uninstalled.

https://github.com/odoo/odoo/blob/1e7c2ca8c929d15c9015b960f7fcbe4560413e98/addons/sms/models/iap_account.py#L9

sentry-6249864173

",alsh-odoo,2025-01-27 12:15:29+00:00,[],2025-01-29 05:27:40+00:00,2025-01-29 05:27:40+00:00,https://github.com/odoo/odoo/pull/195252,"[('RD', 'research & development, internal work')]","[{'comment_id': 2615602175, 'issue_id': 2812864301, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195252.png)](https://mergebot.odoo.com/odoo/odoo/pull/195252)', 'created_at': datetime.datetime(2025, 1, 27, 12, 15, 32, tzinfo=datetime.timezone.utc)}, {'comment_id': 2615613127, 'issue_id': 2812864301, 'author': 'alsh-odoo', 'body': 'Ola @odoo/sentry_reviewers :wave: \r\n\r\nPlease review this PR\r\n\r\nThank You :slightly_smiling_face:', 'created_at': datetime.datetime(2025, 1, 27, 12, 20, 43, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-27 12:15:32 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195252.png)](https://mergebot.odoo.com/odoo/odoo/pull/195252)

alsh-odoo (Issue Creator) on (2025-01-27 12:20:43 UTC): Ola @odoo/sentry_reviewers :wave: 

Please review this PR

Thank You :slightly_smiling_face:

"
2812852687,pull_request,closed,,[FIX] partner_autocomple: partner autocomplete partner_gid field,"`partner_gid` was missing from `res_company_form_view_onboarding` view which was creating a bug when applying the partner autocomplete.

Rollback of odoo/195000 as it created issues if you uninstalled `partner_autocomplete`. The field will still be present in the view, but it wouldn't exist in the database.

opw-4489441

---
I confirm I have signed the CLA and read the PR guidelines at www.odoo.com/submit-pr
",rugo-odoo,2025-01-27 12:10:17+00:00,[],2025-01-29 07:11:41+00:00,2025-01-29 07:11:41+00:00,https://github.com/odoo/odoo/pull/195251,"[('OE', 'the report is linked to a support ticket (opw-...)')]","[{'comment_id': 2615591105, 'issue_id': 2812852687, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195251.png)](https://mergebot.odoo.com/odoo/odoo/pull/195251)', 'created_at': datetime.datetime(2025, 1, 27, 12, 10, 20, tzinfo=datetime.timezone.utc)}, {'comment_id': 2618412316, 'issue_id': 2812852687, 'author': 'robodoo', 'body': '@RicGR98 you may want to rebuild or fix this PR as it has failed CI.', 'created_at': datetime.datetime(2025, 1, 28, 9, 27, 55, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-27 12:10:20 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195251.png)](https://mergebot.odoo.com/odoo/odoo/pull/195251)

robodoo on (2025-01-28 09:27:55 UTC): @RicGR98 you may want to rebuild or fix this PR as it has failed CI.

"
2812846867,pull_request,open,,[IMP] pos*: minimal rights shouldn't edit product,"Before:
===
- Users with minimal rights could edit products and enable/disable self-ordering.

After:
===
- Restricted users with minimal rights from editing products and toggling self-ordering.

Task: 4509050",djip-odoo,2025-01-27 12:07:39+00:00,[],2025-01-27 13:00:27+00:00,,https://github.com/odoo/odoo/pull/195250,"[('RD', 'research & development, internal work')]","[{'comment_id': 2615585330, 'issue_id': 2812846867, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195250.png)](https://mergebot.odoo.com/odoo/odoo/pull/195250)', 'created_at': datetime.datetime(2025, 1, 27, 12, 7, 44, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-27 12:07:44 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195250.png)](https://mergebot.odoo.com/odoo/odoo/pull/195250)

"
2812812896,pull_request,closed,,[FW][FIX] web_editor: prevent insertion of link on ctrl+k with video focused,"This PR addresses an issue where selecting a video and pressing Ctrl+K would introduce a link(anchor tag) on top of the video. The fix ensures that pressing Ctrl+K while a video is focused will no longer insert a link,  resolving the issue of an empty link being added.

task-2819776

Forward-Port-Of: odoo/odoo#193447
Forward-Port-Of: odoo/odoo#162615",fw-bot,2025-01-27 11:52:24+00:00,[],2025-01-27 14:59:52+00:00,2025-01-27 14:59:52+00:00,https://github.com/odoo/odoo/pull/195249,"[('RD', 'research & development, internal work'), ('forwardport', 'This PR was created by @fw-bot')]","[{'comment_id': 2615552977, 'issue_id': 2812812896, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195249.png)](https://mergebot.odoo.com/odoo/odoo/pull/195249)', 'created_at': datetime.datetime(2025, 1, 27, 11, 52, 25, tzinfo=datetime.timezone.utc)}, {'comment_id': 2615553007, 'issue_id': 2812812896, 'author': 'fw-bot', 'body': 'This PR targets saas-17.2 and is part of the forward-port chain. Further PRs will be created up to master.\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 27, 11, 52, 26, tzinfo=datetime.timezone.utc)}, {'comment_id': 2615732465, 'issue_id': 2812812896, 'author': 'fw-bot', 'body': '@perm-odoo @robinlej the next pull request (odoo/odoo#195270) is in conflict. You can merge the chain up to here by saying\n> @robodoo r+\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 27, 13, 14, 1, tzinfo=datetime.timezone.utc)}, {'comment_id': 2615750884, 'issue_id': 2812812896, 'author': 'robinlej', 'body': '@robodoo r+', 'created_at': datetime.datetime(2025, 1, 27, 13, 21, 59, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-27 11:52:25 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195249.png)](https://mergebot.odoo.com/odoo/odoo/pull/195249)

fw-bot (Issue Creator) on (2025-01-27 11:52:26 UTC): This PR targets saas-17.2 and is part of the forward-port chain. Further PRs will be created up to master.

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

fw-bot (Issue Creator) on (2025-01-27 13:14:01 UTC): @perm-odoo @robinlej the next pull request (odoo/odoo#195270) is in conflict. You can merge the chain up to here by saying

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

robinlej on (2025-01-27 13:21:59 UTC): @robodoo r+

"
2812812106,pull_request,closed,,[FW][FIX] web_editor: adapt `border-style` value based on border widths,"[FIX] web_editor: adapt `border-style` value based on border widths

**Problem**:  
Outlook always displays the border of an element if `border-style` is set  
to `solid`, even when all border widths are 0.  

**Solution**:  
Change `border-style` to `none` if all border widths are 0.  

**Steps to Reproduce**:  
1. Open the ""Event: Registration Confirmation"" email template in the web editor.  
2. Add a character and save the template.  
3. Check the saved `body_html`.  
   -> All table elements will have `border-style: solid;` added as inline styling,  
      causing borders to appear in Outlook.  

opw-4211794

---
I confirm I have signed the CLA and read the PR guidelines at www.odoo.com/submit-pr

Forward-Port-Of: odoo/odoo#195074
Forward-Port-Of: odoo/odoo#193973",fw-bot,2025-01-27 11:52:01+00:00,[],2025-01-28 07:59:49+00:00,2025-01-28 07:59:49+00:00,https://github.com/odoo/odoo/pull/195248,"[('OE', 'the report is linked to a support ticket (opw-...)'), ('forwardport', 'This PR was created by @fw-bot')]","[{'comment_id': 2615552219, 'issue_id': 2812812106, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195248.png)](https://mergebot.odoo.com/odoo/odoo/pull/195248)', 'created_at': datetime.datetime(2025, 1, 27, 11, 52, 3, tzinfo=datetime.timezone.utc)}, {'comment_id': 2615552246, 'issue_id': 2812812106, 'author': 'fw-bot', 'body': 'This PR targets saas-17.2 and is part of the forward-port chain. Further PRs will be created up to master.\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 27, 11, 52, 3, tzinfo=datetime.timezone.utc)}, {'comment_id': 2615606524, 'issue_id': 2812812106, 'author': 'fw-bot', 'body': '@walidsahli @dmo-odoo ci/runbot failed on this forward-port PR', 'created_at': datetime.datetime(2025, 1, 27, 12, 17, 42, tzinfo=datetime.timezone.utc)}, {'comment_id': 2618056543, 'issue_id': 2812812106, 'author': 'fw-bot', 'body': ""@walidsahli @dmo-odoo child PR odoo/odoo#195282 was modified / updated and has become a normal PR. This PR (and any of its parents) will need to be merged independently as approvals won't cross."", 'created_at': datetime.datetime(2025, 1, 28, 6, 46, 5, tzinfo=datetime.timezone.utc)}, {'comment_id': 2618056921, 'issue_id': 2812812106, 'author': 'walidsahli', 'body': '@robodoo r+', 'created_at': datetime.datetime(2025, 1, 28, 6, 46, 25, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-27 11:52:03 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195248.png)](https://mergebot.odoo.com/odoo/odoo/pull/195248)

fw-bot (Issue Creator) on (2025-01-27 11:52:03 UTC): This PR targets saas-17.2 and is part of the forward-port chain. Further PRs will be created up to master.

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

fw-bot (Issue Creator) on (2025-01-27 12:17:42 UTC): @walidsahli @dmo-odoo ci/runbot failed on this forward-port PR

fw-bot (Issue Creator) on (2025-01-28 06:46:05 UTC): @walidsahli @dmo-odoo child PR odoo/odoo#195282 was modified / updated and has become a normal PR. This PR (and any of its parents) will need to be merged independently as approvals won't cross.

walidsahli on (2025-01-28 06:46:25 UTC): @robodoo r+

"
2812811263,pull_request,closed,,[FW][FIX] web: view_service: mark loadViews as async,"Before this commit, loadViews didn't benefit from the ""async"" protection of services. Indeed, when used in a component (via useService), the promise returned by loadViews could be resolved (when the rpc returned), even if the component had been destroyed meanwhile. This could lead to code in a destroyed component being executed, and eventually doing an rpc, which would lead to the crash `Error: Component is destroyed`.

This could be reproduced in a form view with an x2many field, whose form view isn't inline (i.e. needs to be fetched when a record is clicked). In such a form view, click on a record in the x2many, then, during the call to get_views, toggle the home menu (for instance).

Description of the issue/feature this PR addresses:

Current behavior before PR:

Desired behavior after PR is merged:




---
I confirm I have signed the CLA and read the PR guidelines at www.odoo.com/submit-pr

Forward-Port-Of: odoo/odoo#195143",fw-bot,2025-01-27 11:51:37+00:00,[],2025-01-27 14:59:56+00:00,2025-01-27 14:59:56+00:00,https://github.com/odoo/odoo/pull/195247,"[('RD', 'research & development, internal work'), ('forwardport', 'This PR was created by @fw-bot')]","[{'comment_id': 2615551430, 'issue_id': 2812811263, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195247.png)](https://mergebot.odoo.com/odoo/odoo/pull/195247)', 'created_at': datetime.datetime(2025, 1, 27, 11, 51, 39, tzinfo=datetime.timezone.utc)}, {'comment_id': 2615551454, 'issue_id': 2812811263, 'author': 'fw-bot', 'body': 'This PR targets saas-17.2 and is part of the forward-port chain. Further PRs will be created up to master.\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 27, 11, 51, 39, tzinfo=datetime.timezone.utc)}, {'comment_id': 2615753146, 'issue_id': 2812811263, 'author': 'fw-bot', 'body': '@aab-odoo @polymorphe57 the next pull request (odoo/odoo#195276) is in conflict. You can merge the chain up to here by saying\n> @robodoo r+\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 27, 13, 23, tzinfo=datetime.timezone.utc)}, {'comment_id': 2615755893, 'issue_id': 2812811263, 'author': 'aab-odoo', 'body': '@robodoo r+', 'created_at': datetime.datetime(2025, 1, 27, 13, 24, 18, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-27 11:51:39 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195247.png)](https://mergebot.odoo.com/odoo/odoo/pull/195247)

fw-bot (Issue Creator) on (2025-01-27 11:51:39 UTC): This PR targets saas-17.2 and is part of the forward-port chain. Further PRs will be created up to master.

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

fw-bot (Issue Creator) on (2025-01-27 13:23:00 UTC): @aab-odoo @polymorphe57 the next pull request (odoo/odoo#195276) is in conflict. You can merge the chain up to here by saying

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

aab-odoo on (2025-01-27 13:24:18 UTC): @robodoo r+

"
2812799176,pull_request,closed,,[FW][FIX] hr_attendance : negative overtime not taken into account in report,"steps:
- create an attendance for one day with less worked hours than the daily hours
- create another attendance for the next day with hours to compensate the previous day's missing time
- got to the attendance report : you have worked overtime although that overtime was only compensating for the previous day

This worked in 16.0, but got broken by the attendance refactor and the introduction of the overtime_hours field in hr.attendance. This commit fixes the computation of the field to include negative overtimes.

opw-4337755

Forward-Port-Of: odoo/odoo#192699",fw-bot,2025-01-27 11:46:07+00:00,[],2025-01-27 15:48:51+00:00,2025-01-27 15:48:51+00:00,https://github.com/odoo/odoo/pull/195246,"[('OE', 'the report is linked to a support ticket (opw-...)'), ('forwardport', 'This PR was created by @fw-bot')]","[{'comment_id': 2615540282, 'issue_id': 2812799176, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195246.png)](https://mergebot.odoo.com/odoo/odoo/pull/195246)', 'created_at': datetime.datetime(2025, 1, 27, 11, 46, 9, tzinfo=datetime.timezone.utc)}, {'comment_id': 2615540305, 'issue_id': 2812799176, 'author': 'fw-bot', 'body': '@loleloup @Bertrand2 this PR targets saas-17.4 and is the last of the forward-port chain containing:\n* odoo/odoo#195222\n\nTo merge the full chain, use\n> @robodoo r+\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 27, 11, 46, 9, tzinfo=datetime.timezone.utc)}, {'comment_id': 2615862486, 'issue_id': 2812799176, 'author': 'Bertrand2', 'body': 'robodoo r+', 'created_at': datetime.datetime(2025, 1, 27, 14, 8, 55, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-27 11:46:09 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195246.png)](https://mergebot.odoo.com/odoo/odoo/pull/195246)

fw-bot (Issue Creator) on (2025-01-27 11:46:09 UTC): @loleloup @Bertrand2 this PR targets saas-17.4 and is the last of the forward-port chain containing:
* odoo/odoo#195222

To merge the full chain, use

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

Bertrand2 on (2025-01-27 14:08:55 UTC): robodoo r+

"
2812794869,pull_request,closed,,"[FIX] {sale,pos}_loyalty: properly apply coupon with tax included pricing","Steps to reproduce:
- Configure a product with a price of 229.
- Assign a tax to the product with the 'Included in Price' option enabled under advanced settings.
- Create a new Discount Program with the program type set to 'Discount Code'.
- Set a discount of  per order, using the same tax as the product.
- Create a sales order with the configured product.
- Apply the coupon code to the order.

Issue:
- The total amount of the sales order does not reduce to 0 as expected.
- The computed coupon discount amount is incorrect.

Cause:
- The case for handling tax-included pricing was not taken into consideration when calculating the discount.

Fix:
- Use the sum of line.price_total when tax-included pricing is applied to accurately compute the price_unit of the reward.

opw-4486030

---
I confirm I have signed the CLA and read the PR guidelines at www.odoo.com/submit-pr
",shrm-odoo,2025-01-27 11:44:05+00:00,[],2025-02-05 08:42:16+00:00,2025-02-05 08:42:16+00:00,https://github.com/odoo/odoo/pull/195245,"[('OE', 'the report is linked to a support ticket (opw-...)')]","[{'comment_id': 2615536373, 'issue_id': 2812794869, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195245.png)](https://mergebot.odoo.com/odoo/odoo/pull/195245)', 'created_at': datetime.datetime(2025, 1, 27, 11, 44, 8, tzinfo=datetime.timezone.utc)}, {'comment_id': 2636083671, 'issue_id': 2812794869, 'author': 'Demesmaeker', 'body': ""Hello @shrm-odoo :duck: \r\nAs a discount should have the same taxes as the products it's discounting, this shouldn't happen. This was due to the previous task being wrong. This'll instead be solved [here](https://github.com/odoo/odoo/pull/196252) by reverting the commit that allowed to set taxes directly in a reward. _(The code was good BTW, the task wasn't, so nothing against what you did, as you delivered exactly what was asked. Same as here, where you did solve the problem.)_\r\nSo I'm closing this as we'll address the root instead.\r\nHave a very nice day!"", 'created_at': datetime.datetime(2025, 2, 5, 8, 42, 16, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-27 11:44:08 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195245.png)](https://mergebot.odoo.com/odoo/odoo/pull/195245)

Demesmaeker on (2025-02-05 08:42:16 UTC): Hello @shrm-odoo :duck: 
As a discount should have the same taxes as the products it's discounting, this shouldn't happen. This was due to the previous task being wrong. This'll instead be solved [here](https://github.com/odoo/odoo/pull/196252) by reverting the commit that allowed to set taxes directly in a reward. _(The code was good BTW, the task wasn't, so nothing against what you did, as you delivered exactly what was asked. Same as here, where you did solve the problem.)_
So I'm closing this as we'll address the root instead.
Have a very nice day!

"
2812764654,pull_request,closed,,[FW][FIX] portal: prevent Sign duplication in edit mode,"**Problem:**
When editing the ""Sign & Pay"" modal in customer preview for a sale
order, changes are not saved due to multiple issues:
1. Saving the signature component directly results in only the
   signature UI being saved, missing the logic and props of the
   original component.
2. If the signature component is saved with other fields, it gets
   duplicated upon saving due to `<owl-component />` behavior. This
   re-renders every saved component and mounts those passed as props,
   causing duplication and breaking functionality.
   - Reference: public_component_service.js

**Solution:**
1. Hide the signature component during editing to prevent saving its
   UI-only state, preserving its logic and props.

**Steps to Reproduce:**
1. Create a sale order.
2. Click on ""Customer Preview.""
3. Enable edit mode.
4. Open the ""Sign & Pay"" modal, modify the content, and save.
   - The signature UI duplicates

**opw-4216372**
---
I confirm I have signed the CLA and read the PR guidelines at www.odoo.com/submit-pr

Forward-Port-Of: odoo/odoo#187707",fw-bot,2025-01-27 11:30:20+00:00,[],2025-01-28 07:59:52+00:00,2025-01-28 07:59:51+00:00,https://github.com/odoo/odoo/pull/195244,"[('OE', 'the report is linked to a support ticket (opw-...)'), ('forwardport', 'This PR was created by @fw-bot')]","[{'comment_id': 2615507692, 'issue_id': 2812764654, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195244.png)](https://mergebot.odoo.com/odoo/odoo/pull/195244)', 'created_at': datetime.datetime(2025, 1, 27, 11, 30, 22, tzinfo=datetime.timezone.utc)}, {'comment_id': 2615507721, 'issue_id': 2812764654, 'author': 'fw-bot', 'body': 'This PR targets 18.0 and is part of the forward-port chain. Further PRs will be created up to master.\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 27, 11, 30, 22, tzinfo=datetime.timezone.utc)}, {'comment_id': 2617098405, 'issue_id': 2812764654, 'author': 'robodoo', 'body': '@walidsahli @arj-odoo staging failed: ci/runbot on 7d6d3a55f1f9c512a42f7f6fd278ba124d8a2258 (view more at https://runbot.odoo.com/runbot/build/74033895)', 'created_at': datetime.datetime(2025, 1, 27, 23, 14, 8, tzinfo=datetime.timezone.utc)}, {'comment_id': 2618042487, 'issue_id': 2812764654, 'author': 'walidsahli', 'body': '@robodoo retry', 'created_at': datetime.datetime(2025, 1, 28, 6, 34, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-27 11:30:22 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195244.png)](https://mergebot.odoo.com/odoo/odoo/pull/195244)

fw-bot (Issue Creator) on (2025-01-27 11:30:22 UTC): This PR targets 18.0 and is part of the forward-port chain. Further PRs will be created up to master.

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

robodoo on (2025-01-27 23:14:08 UTC): @walidsahli @arj-odoo staging failed: ci/runbot on 7d6d3a55f1f9c512a42f7f6fd278ba124d8a2258 (view more at https://runbot.odoo.com/runbot/build/74033895)

walidsahli on (2025-01-28 06:34:00 UTC): @robodoo retry

"
2812758523,pull_request,closed,,[IMP] l10n_es: mod390 2024 update,"TODO commit msg
",jbw-odoo,2025-01-27 11:27:25+00:00,[],2025-01-27 13:54:33+00:00,2025-01-27 13:54:33+00:00,https://github.com/odoo/odoo/pull/195243,"[('RD', 'research & development, internal work')]","[{'comment_id': 2615501505, 'issue_id': 2812758523, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195243.png)](https://mergebot.odoo.com/odoo/odoo/pull/195243)', 'created_at': datetime.datetime(2025, 1, 27, 11, 27, 29, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-27 11:27:29 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195243.png)](https://mergebot.odoo.com/odoo/odoo/pull/195243)

"
2812725795,pull_request,closed,,[FIX] web: close form dialog with escape without bluring,"Have a form view opened in a dialog and edit the value of an input field (with onchange='1'), without bluring the input (i.e. such that the ""change"" event isn't fired yet). Press ""Escape"".

Before this commit, it crashed with error ""Component is destroyed"". The reason is that when the dialog closes itself, the ui service focusses the previously active element (an element that was behind the dialog), which in turn blurs the current active element (the input that we edited), which fires the ""change"" event. However, at that point, the form controller is already destroyed, hence the error.

In that flow, we don't want to perform the onchange as we're discarding the form. Actually, we don't want the field to listen to the ""change"" event anymore. We delay for a micro-tick the activation of the previously active element, to wait for owl to have called destroy on the whole component hierarchy, and thus for the ""change"" handler to be removed (in input_field_hook).

The issue could be reproduced in Studio:
 - click on Edit menu
 - open a menu to edit it
 - change its name but to not blur/click out
 - press Esc

This is a backport of odoo/odoo#195238, where we add a test (hoot). The faulty scenario could not be reproduced in the QUnit suite because we do not precisely enough mock events that occur when focusing/bluring elements.

opw-4490577

Description of the issue/feature this PR addresses:

Current behavior before PR:

Desired behavior after PR is merged:




---
I confirm I have signed the CLA and read the PR guidelines at www.odoo.com/submit-pr
",aab-odoo,2025-01-27 11:12:21+00:00,[],2025-01-27 18:01:02+00:00,2025-01-27 18:01:02+00:00,https://github.com/odoo/odoo/pull/195242,"[('OE', 'the report is linked to a support ticket (opw-...)')]","[{'comment_id': 2615468937, 'issue_id': 2812725795, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195242.png)](https://mergebot.odoo.com/odoo/odoo/pull/195242)', 'created_at': datetime.datetime(2025, 1, 27, 11, 12, 25, tzinfo=datetime.timezone.utc)}, {'comment_id': 2616102611, 'issue_id': 2812725795, 'author': 'kebeclibre', 'body': 'robodoo r+ delegate+', 'created_at': datetime.datetime(2025, 1, 27, 15, 40, 39, tzinfo=datetime.timezone.utc)}, {'comment_id': 2616102771, 'issue_id': 2812725795, 'author': 'robodoo', 'body': '@kebeclibre you may want to rebuild or fix this PR as it has failed CI.', 'created_at': datetime.datetime(2025, 1, 27, 15, 40, 43, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-27 11:12:25 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195242.png)](https://mergebot.odoo.com/odoo/odoo/pull/195242)

kebeclibre on (2025-01-27 15:40:39 UTC): robodoo r+ delegate+

robodoo on (2025-01-27 15:40:43 UTC): @kebeclibre you may want to rebuild or fix this PR as it has failed CI.

"
2812718629,pull_request,closed,,[FW][FIX] base: fallback first currency rate,"When creating a new database or activating a new currency, the first rate fetched will often be set only starting ""today"".

This can lead to issues when creating invoices in the past, especially if the conversion rate is very different from 1.

Instead of only using a fallback on 1, we also fallback on the oldest rate in the database if available.

Forward-Port-Of: odoo/odoo#194500",fw-bot,2025-01-27 11:09:14+00:00,[],2025-01-27 16:30:34+00:00,2025-01-27 16:30:34+00:00,https://github.com/odoo/odoo/pull/195241,"[('RD', 'research & development, internal work'), ('forwardport', 'This PR was created by @fw-bot'), ('conflict', 'There was an error while creating this forward-port PR')]","[{'comment_id': 2615461913, 'issue_id': 2812718629, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195241.png)](https://mergebot.odoo.com/odoo/odoo/pull/195241)', 'created_at': datetime.datetime(2025, 1, 27, 11, 9, 15, tzinfo=datetime.timezone.utc)}, {'comment_id': 2615461951, 'issue_id': 2812718629, 'author': 'fw-bot', 'body': '@william-andre @gawa-odoo cherrypicking of pull request odoo/odoo#194500 failed.\n\nstdout:\n```\nAuto-merging addons/account/tests/common.py\nAuto-merging addons/account/tests/test_account_move_out_invoice.py\nAuto-merging odoo/addons/base/models/res_currency.py\nCONFLICT (content): Merge conflict in odoo/addons/base/models/res_currency.py\n\n```\n\nEither perform the forward-port manually (and push to this branch, proceeding as usual) or close this PR (maybe?).\n\nIn the former case, you may want to edit this PR message as well.\n\n:warning: after resolving this conflict, you will need to merge it via @robodoo.\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 27, 11, 9, 16, tzinfo=datetime.timezone.utc)}, {'comment_id': 2615700386, 'issue_id': 2812718629, 'author': 'william-andre', 'body': '@robodoo r+', 'created_at': datetime.datetime(2025, 1, 27, 13, 0, 11, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-27 11:09:15 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195241.png)](https://mergebot.odoo.com/odoo/odoo/pull/195241)

fw-bot (Issue Creator) on (2025-01-27 11:09:16 UTC): @william-andre @gawa-odoo cherrypicking of pull request odoo/odoo#194500 failed.

stdout:
```
Auto-merging addons/account/tests/common.py
Auto-merging addons/account/tests/test_account_move_out_invoice.py
Auto-merging odoo/addons/base/models/res_currency.py
CONFLICT (content): Merge conflict in odoo/addons/base/models/res_currency.py

```

Either perform the forward-port manually (and push to this branch, proceeding as usual) or close this PR (maybe?).

In the former case, you may want to edit this PR message as well.

:warning: after resolving this conflict, you will need to merge it via @robodoo.

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

william-andre on (2025-01-27 13:00:11 UTC): @robodoo r+

"
2812712779,pull_request,closed,,[FW][I18N] point_of_sale: make receipt header fully translated,"Because 'Tax ID' was within the `t-esc` the term was never translated. This goes against some country's compliance requirements for receipts, so we make it translatable now.

Description of the issue/feature this PR addresses:

Current behavior before PR:

Desired behavior after PR is merged:




---
I confirm I have signed the CLA and read the PR guidelines at www.odoo.com/submit-pr

Forward-Port-Of: odoo/odoo#195103
Forward-Port-Of: odoo/odoo#194801",fw-bot,2025-01-27 11:06:41+00:00,[],2025-01-28 16:34:02+00:00,2025-01-28 16:34:02+00:00,https://github.com/odoo/odoo/pull/195240,"[('RD', 'research & development, internal work'), ('forwardport', 'This PR was created by @fw-bot'), ('conflict', 'There was an error while creating this forward-port PR')]","[{'comment_id': 2615456446, 'issue_id': 2812712779, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195240.png)](https://mergebot.odoo.com/odoo/odoo/pull/195240)', 'created_at': datetime.datetime(2025, 1, 27, 11, 6, 42, tzinfo=datetime.timezone.utc)}, {'comment_id': 2615456475, 'issue_id': 2812712779, 'author': 'fw-bot', 'body': '@ticodoo @oomsveta cherrypicking of pull request odoo/odoo#194801 failed.\n\nstdout:\n```\nAuto-merging addons/point_of_sale/i18n/point_of_sale.pot\nAuto-merging addons/point_of_sale/static/src/app/screens/receipt_screen/receipt/receipt_header/receipt_header.js\nCONFLICT (content): Merge conflict in addons/point_of_sale/static/src/app/screens/receipt_screen/receipt/receipt_header/receipt_header.js\nAuto-merging addons/point_of_sale/static/src/app/screens/receipt_screen/receipt/receipt_header/receipt_header.xml\nCONFLICT (content): Merge conflict in addons/point_of_sale/static/src/app/screens/receipt_screen/receipt/receipt_header/receipt_header.xml\n\n```\n\nEither perform the forward-port manually (and push to this branch, proceeding as usual) or close this PR (maybe?).\n\nIn the former case, you may want to edit this PR message as well.\n\n:warning: after resolving this conflict, you will need to merge it via @robodoo.\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 27, 11, 6, 43, tzinfo=datetime.timezone.utc)}, {'comment_id': 2616162406, 'issue_id': 2812712779, 'author': 'ticodoo', 'body': '@robodoo r+', 'created_at': datetime.datetime(2025, 1, 27, 16, 3, 2, tzinfo=datetime.timezone.utc)}, {'comment_id': 2616318545, 'issue_id': 2812712779, 'author': 'robodoo', 'body': ""@ticodoo @oomsveta 'ci/runbot' failed on this reviewed PR."", 'created_at': datetime.datetime(2025, 1, 27, 16, 39, 47, tzinfo=datetime.timezone.utc)}, {'comment_id': 2617539723, 'issue_id': 2812712779, 'author': 'fw-bot', 'body': '@ticodoo @oomsveta this forward port of odoo/odoo#194801 is awaiting action (not merged or closed).', 'created_at': datetime.datetime(2025, 1, 28, 2, 1, 2, tzinfo=datetime.timezone.utc)}, {'comment_id': 2618387077, 'issue_id': 2812712779, 'author': 'ticodoo', 'body': '@robodoo r+', 'created_at': datetime.datetime(2025, 1, 28, 9, 16, 7, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-27 11:06:42 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195240.png)](https://mergebot.odoo.com/odoo/odoo/pull/195240)

fw-bot (Issue Creator) on (2025-01-27 11:06:43 UTC): @ticodoo @oomsveta cherrypicking of pull request odoo/odoo#194801 failed.

stdout:
```
Auto-merging addons/point_of_sale/i18n/point_of_sale.pot
Auto-merging addons/point_of_sale/static/src/app/screens/receipt_screen/receipt/receipt_header/receipt_header.js
CONFLICT (content): Merge conflict in addons/point_of_sale/static/src/app/screens/receipt_screen/receipt/receipt_header/receipt_header.js
Auto-merging addons/point_of_sale/static/src/app/screens/receipt_screen/receipt/receipt_header/receipt_header.xml
CONFLICT (content): Merge conflict in addons/point_of_sale/static/src/app/screens/receipt_screen/receipt/receipt_header/receipt_header.xml

```

Either perform the forward-port manually (and push to this branch, proceeding as usual) or close this PR (maybe?).

In the former case, you may want to edit this PR message as well.

:warning: after resolving this conflict, you will need to merge it via @robodoo.

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

ticodoo on (2025-01-27 16:03:02 UTC): @robodoo r+

robodoo on (2025-01-27 16:39:47 UTC): @ticodoo @oomsveta 'ci/runbot' failed on this reviewed PR.

fw-bot (Issue Creator) on (2025-01-28 02:01:02 UTC): @ticodoo @oomsveta this forward port of odoo/odoo#194801 is awaiting action (not merged or closed).

ticodoo on (2025-01-28 09:16:07 UTC): @robodoo r+

"
2812711313,pull_request,closed,,[FW][FIX] web: view_service: mark loadViews as async,"Before this commit, loadViews didn't benefit from the ""async"" protection of services. Indeed, when used in a component (via useService), the promise returned by loadViews could be resolved (when the rpc returned), even if the component had been destroyed meanwhile. This could lead to code in a destroyed component being executed, and eventually doing an rpc, which would lead to the crash `Error: Component is destroyed`.

This could be reproduced in a form view with an x2many field, whose form view isn't inline (i.e. needs to be fetched when a record is clicked). In such a form view, click on a record in the x2many, then, during the call to `get_views`, toggle the home menu (for instance).

Description of the issue/feature this PR addresses:

Current behavior before PR:

Desired behavior after PR is merged:




---
I confirm I have signed the CLA and read the PR guidelines at www.odoo.com/submit-pr

Forward-Port-Of: odoo/odoo#195139",fw-bot,2025-01-27 11:06:02+00:00,[],2025-01-27 15:55:28+00:00,2025-01-27 15:55:28+00:00,https://github.com/odoo/odoo/pull/195239,"[('RD', 'research & development, internal work'), ('forwardport', 'This PR was created by @fw-bot')]","[{'comment_id': 2615455091, 'issue_id': 2812711313, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195239.png)](https://mergebot.odoo.com/odoo/odoo/pull/195239)', 'created_at': datetime.datetime(2025, 1, 27, 11, 6, 4, tzinfo=datetime.timezone.utc)}, {'comment_id': 2615455119, 'issue_id': 2812711313, 'author': 'fw-bot', 'body': 'This PR targets saas-18.1 and is part of the forward-port chain. Further PRs will be created up to master.\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 27, 11, 6, 5, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-27 11:06:04 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195239.png)](https://mergebot.odoo.com/odoo/odoo/pull/195239)

fw-bot (Issue Creator) on (2025-01-27 11:06:05 UTC): This PR targets saas-18.1 and is part of the forward-port chain. Further PRs will be created up to master.

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

"
2812699558,pull_request,closed,,18.0 form dialog escape fix aab,"Description of the issue/feature this PR addresses:

Current behavior before PR:

Desired behavior after PR is merged:




---
I confirm I have signed the CLA and read the PR guidelines at www.odoo.com/submit-pr
",aab-odoo,2025-01-27 11:00:50+00:00,[],2025-01-29 15:25:40+00:00,2025-01-29 15:25:40+00:00,https://github.com/odoo/odoo/pull/195238,"[('RD', 'research & development, internal work')]","[{'comment_id': 2615443731, 'issue_id': 2812699558, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195238.png)](https://mergebot.odoo.com/odoo/odoo/pull/195238)', 'created_at': datetime.datetime(2025, 1, 27, 11, 0, 53, tzinfo=datetime.timezone.utc)}, {'comment_id': 2621189872, 'issue_id': 2812699558, 'author': 'kebeclibre', 'body': '@robodoo rebase-ff r+ delegate+', 'created_at': datetime.datetime(2025, 1, 29, 10, 4, 51, tzinfo=datetime.timezone.utc)}, {'comment_id': 2621189954, 'issue_id': 2812699558, 'author': 'robodoo', 'body': 'Merge method set to rebase and fast-forward.', 'created_at': datetime.datetime(2025, 1, 29, 10, 4, 53, tzinfo=datetime.timezone.utc)}, {'comment_id': 2621190009, 'issue_id': 2812699558, 'author': 'robodoo', 'body': '@kebeclibre you may want to rebuild or fix this PR as it has failed CI.', 'created_at': datetime.datetime(2025, 1, 29, 10, 4, 55, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-27 11:00:53 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195238.png)](https://mergebot.odoo.com/odoo/odoo/pull/195238)

kebeclibre on (2025-01-29 10:04:51 UTC): @robodoo rebase-ff r+ delegate+

robodoo on (2025-01-29 10:04:53 UTC): Merge method set to rebase and fast-forward.

robodoo on (2025-01-29 10:04:55 UTC): @kebeclibre you may want to rebuild or fix this PR as it has failed CI.

"
2812697763,pull_request,closed,,[FIX] mail: delay chat window changes until chat hub is loaded,"Changes to chat window done before chat hub is loaded would either be overriden by the initial chat hub state, or overriding the initial state depending on when during the restore process the change would happen.

This commit ensures the initial state is always restored before doing other changes.",seb-odoo,2025-01-27 11:00:02+00:00,['seb-odoo'],2025-01-30 22:50:09+00:00,2025-01-30 19:01:57+00:00,https://github.com/odoo/odoo/pull/195237,"[('RD', 'research & development, internal work'), ('Discuss', 'channels, livechat, chatter')]","[{'comment_id': 2615441846, 'issue_id': 2812697763, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195237.png)](https://mergebot.odoo.com/odoo/odoo/pull/195237)', 'created_at': datetime.datetime(2025, 1, 27, 11, 0, 5, tzinfo=datetime.timezone.utc)}, {'comment_id': 2624299617, 'issue_id': 2812697763, 'author': 'robodoo', 'body': '@tsm-odoo you may want to rebuild or fix this PR as it has failed CI.', 'created_at': datetime.datetime(2025, 1, 30, 11, 58, 42, tzinfo=datetime.timezone.utc)}, {'comment_id': 2624998918, 'issue_id': 2812697763, 'author': 'seb-odoo', 'body': 'Fixes of today:\r\n- ignore not-found threads (forgot to verify it after the latest code cleanup)\r\n- proper order of chat window (not depending on order of promise resolution)\r\n- null default for local storage stuff\r\n\r\n@robodoo r+', 'created_at': datetime.datetime(2025, 1, 30, 16, 38, 12, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-27 11:00:05 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195237.png)](https://mergebot.odoo.com/odoo/odoo/pull/195237)

robodoo on (2025-01-30 11:58:42 UTC): @tsm-odoo you may want to rebuild or fix this PR as it has failed CI.

seb-odoo (Issue Creator) on (2025-01-30 16:38:12 UTC): Fixes of today:
- ignore not-found threads (forgot to verify it after the latest code cleanup)
- proper order of chat window (not depending on order of promise resolution)
- null default for local storage stuff

@robodoo r+

"
2812696256,pull_request,closed,,[IMP] web: display emoji shortcodes inside the emoji picker,"This PR introduces a way for users to see the emoji shortcodes and use them later with the "":"" shortcut.

Task-4516909

![Screenshot 2025-01-28 at 11 17 35](https://github.com/user-attachments/assets/422042aa-688f-4703-8192-bcb9b70e540b)
",phenix-factory,2025-01-27 10:59:23+00:00,[],2025-01-29 00:16:09+00:00,2025-01-28 19:09:34+00:00,https://github.com/odoo/odoo/pull/195236,"[('RD', 'research & development, internal work')]","[{'comment_id': 2615440509, 'issue_id': 2812696256, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195236.png)](https://mergebot.odoo.com/odoo/odoo/pull/195236)', 'created_at': datetime.datetime(2025, 1, 27, 10, 59, 29, tzinfo=datetime.timezone.utc)}, {'comment_id': 2615866880, 'issue_id': 2812696256, 'author': 'alexkuhn', 'body': ""Showing in the search placeholder is good.\r\nThe bottom, while this seems like a good idea, it doesn't work with categories shown at the bottom.\r\n\r\n1. Either we really want this => we need a bigger change of UI, e.g. move the categories on the side like Discord\r\n2. Either we keep categories at bottom, but then we should show the shortcode in the search input\r\n\r\nMost emoji pickers use 2., and this is the less effort required, so I would move to this one.\r\nAnd shortcode is visible in hover menu of message reaction, so there are already quite a few places that train users to learn popular emoji shortcodes."", 'created_at': datetime.datetime(2025, 1, 27, 14, 10, 44, tzinfo=datetime.timezone.utc)}, {'comment_id': 2615882340, 'issue_id': 2812696256, 'author': 'phenix-factory', 'body': '@alexkuhn I have removed the bottom bar', 'created_at': datetime.datetime(2025, 1, 27, 14, 17, tzinfo=datetime.timezone.utc)}, {'comment_id': 2618863281, 'issue_id': 2812696256, 'author': 'robodoo', 'body': ""@phenix-factory @alexkuhn 'ci/runbot' failed on this reviewed PR."", 'created_at': datetime.datetime(2025, 1, 28, 12, 26, 29, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-27 10:59:29 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195236.png)](https://mergebot.odoo.com/odoo/odoo/pull/195236)

alexkuhn on (2025-01-27 14:10:44 UTC): Showing in the search placeholder is good.
The bottom, while this seems like a good idea, it doesn't work with categories shown at the bottom.

1. Either we really want this => we need a bigger change of UI, e.g. move the categories on the side like Discord
2. Either we keep categories at bottom, but then we should show the shortcode in the search input

Most emoji pickers use 2., and this is the less effort required, so I would move to this one.
And shortcode is visible in hover menu of message reaction, so there are already quite a few places that train users to learn popular emoji shortcodes.

phenix-factory (Issue Creator) on (2025-01-27 14:17:00 UTC): @alexkuhn I have removed the bottom bar

robodoo on (2025-01-28 12:26:29 UTC): @phenix-factory @alexkuhn 'ci/runbot' failed on this reviewed PR.

"
2812692680,pull_request,closed,,[IMP] spreadsheet: update o_spreadsheet to latest version,"### Contains the following commits:

https://github.com/odoo/o-spreadsheet/commit/63a13e54f [REL] 18.2.0-alpha.3 Task: 0
https://github.com/odoo/o-spreadsheet/commit/4a901a462 [FIX] TextValueProvider: Avoid duplicate key in template Task: 4483494
https://github.com/odoo/o-spreadsheet/commit/904e66c1f [FIX] formulas: binary search returning incorrect index for multiple exact matches Task: 4328300
https://github.com/odoo/o-spreadsheet/commit/e1ccac794 [FIX] selection: drag and drop resized cols and rows Task: 4454025
https://github.com/odoo/o-spreadsheet/commit/8a6c91851 [FIX] popover: wrong position on updated popover Task: 3814260
https://github.com/odoo/o-spreadsheet/commit/3828fb8cc [IMP] Colors are now dynamically computed for SelectionInput Task: 0
https://github.com/odoo/o-spreadsheet/commit/011e2237a [IMP] Chart: keep customization when deleting a series Task: 0
https://github.com/odoo/o-spreadsheet/commit/7f6e7ed9a [IMP] charts: allow to reorder data series Task: 3994495
https://github.com/odoo/o-spreadsheet/commit/ed08d0567 [REM] charts: remove unused combo chart config panel Task: 3994495
https://github.com/odoo/o-spreadsheet/commit/061d635be [FIX] Selection: selection follows the moved header Task: 4461901
https://github.com/odoo/o-spreadsheet/commit/7ba8016e3 [FIX] icons: Missing dimension on icon Task: 4461359
https://github.com/odoo/o-spreadsheet/commit/44683ccf3 [FIX] chart tooltip: create app only on demand Task: 0
https://github.com/odoo/o-spreadsheet/commit/624bdbeab [REF] range: rename useFixedReference Task: 4506120
https://github.com/odoo/o-spreadsheet/commit/24a922064 [IMP] BorderEditorWidget: Reset position on close Task: 4475869
https://github.com/odoo/o-spreadsheet/commit/c8f85ecb8 [FIX] GridComposer: Fix CellReference pill display Task: 4501136
https://github.com/odoo/o-spreadsheet/commit/4240bc532 [IMP] pivot: add support for date(time) measures Task: 3989393
https://github.com/odoo/o-spreadsheet/commit/361330ecf [FIX] renderer: Fix grid rendering Task: 4448426

Co-authored-by: Anthony Hendrickx (anhe) <anhe@odoo.com>
Co-authored-by: Alexis Lacroix (laa) <laa@odoo.com>
Co-authored-by: Lucas Lefèvre (lul) <lul@odoo.com>
Co-authored-by: Dhrutik Patel (dhrp) <dhrp@odoo.com>
Co-authored-by: Adrien Minne (adrm) <adrm@odoo.com>
Co-authored-by: Mehdi Rachico (mera) <mera@odoo.com>
Co-authored-by: Florian Damhaut (flda) <flda@odoo.com>
Co-authored-by: Rémi Rahir (rar) <rar@odoo.com>
Co-authored-by: Pierre Rousseau (pro) <pro@odoo.com>
Co-authored-by: Vincent Schippefilt (vsc) <vsc@odoo.com>
",rrahir,2025-01-27 10:57:50+00:00,[],2025-01-27 22:33:39+00:00,2025-01-27 22:33:38+00:00,https://github.com/odoo/odoo/pull/195235,"[('RD', 'research & development, internal work'), ('18.2', None)]","[{'comment_id': 2615437081, 'issue_id': 2812692680, 'author': 'rrahir', 'body': 'robodoo fw=no', 'created_at': datetime.datetime(2025, 1, 27, 10, 57, 52, tzinfo=datetime.timezone.utc)}, {'comment_id': 2615437112, 'issue_id': 2812692680, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195235.png)](https://mergebot.odoo.com/odoo/odoo/pull/195235)', 'created_at': datetime.datetime(2025, 1, 27, 10, 57, 53, tzinfo=datetime.timezone.utc)}, {'comment_id': 2615437187, 'issue_id': 2812692680, 'author': 'robodoo', 'body': 'Disabled forward-porting.', 'created_at': datetime.datetime(2025, 1, 27, 10, 57, 55, tzinfo=datetime.timezone.utc)}, {'comment_id': 2615635262, 'issue_id': 2812692680, 'author': 'pro-odoo', 'body': 'robodoo r+', 'created_at': datetime.datetime(2025, 1, 27, 12, 30, 54, tzinfo=datetime.timezone.utc)}]","rrahir (Issue Creator) on (2025-01-27 10:57:52 UTC): robodoo fw=no

robodoo on (2025-01-27 10:57:53 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195235.png)](https://mergebot.odoo.com/odoo/odoo/pull/195235)

robodoo on (2025-01-27 10:57:55 UTC): Disabled forward-porting.

pro-odoo on (2025-01-27 12:30:54 UTC): robodoo r+

"
2812691886,pull_request,closed,,[FIX] spreadsheet: update o_spreadsheet to latest version,"### Contains the following commits:

https://github.com/odoo/o-spreadsheet/commit/7ffac1e6e [REL] 18.1.3 Task: 0
https://github.com/odoo/o-spreadsheet/commit/7365956a3 [FIX] TextValueProvider: Avoid duplicate key in template Task: 4483494
https://github.com/odoo/o-spreadsheet/commit/14bd65a68 [FIX] formulas: binary search returning incorrect index for multiple exact matches Task: 4328300
https://github.com/odoo/o-spreadsheet/commit/967f484a9 [FIX] selection: drag and drop resized cols and rows Task: 4454025
https://github.com/odoo/o-spreadsheet/commit/c2b340c95 [FIX] popover: wrong position on updated popover Task: 3814260
https://github.com/odoo/o-spreadsheet/commit/a8ed632af [FIX] Selection: selection follows the moved header Task: 4461901
https://github.com/odoo/o-spreadsheet/commit/655904b57 [FIX] icons: Missing dimension on icon Task: 4461359
https://github.com/odoo/o-spreadsheet/commit/739edba84 [FIX] GridComposer: Fix CellReference pill display Task: 4501136
https://github.com/odoo/o-spreadsheet/commit/817bf51d4 [FIX] renderer: Fix grid rendering Task: 4448426

Co-authored-by: Anthony Hendrickx (anhe) <anhe@odoo.com>
Co-authored-by: Alexis Lacroix (laa) <laa@odoo.com>
Co-authored-by: Lucas Lefèvre (lul) <lul@odoo.com>
Co-authored-by: Dhrutik Patel (dhrp) <dhrp@odoo.com>
Co-authored-by: Adrien Minne (adrm) <adrm@odoo.com>
Co-authored-by: Mehdi Rachico (mera) <mera@odoo.com>
Co-authored-by: Florian Damhaut (flda) <flda@odoo.com>
Co-authored-by: Rémi Rahir (rar) <rar@odoo.com>
Co-authored-by: Pierre Rousseau (pro) <pro@odoo.com>
Co-authored-by: Vincent Schippefilt (vsc) <vsc@odoo.com>
",rrahir,2025-01-27 10:57:30+00:00,[],2025-01-27 15:55:51+00:00,2025-01-27 15:55:51+00:00,https://github.com/odoo/odoo/pull/195234,"[('RD', 'research & development, internal work')]","[{'comment_id': 2615436365, 'issue_id': 2812691886, 'author': 'rrahir', 'body': 'robodoo fw=no', 'created_at': datetime.datetime(2025, 1, 27, 10, 57, 32, tzinfo=datetime.timezone.utc)}, {'comment_id': 2615436399, 'issue_id': 2812691886, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195234.png)](https://mergebot.odoo.com/odoo/odoo/pull/195234)', 'created_at': datetime.datetime(2025, 1, 27, 10, 57, 33, tzinfo=datetime.timezone.utc)}, {'comment_id': 2615436433, 'issue_id': 2812691886, 'author': 'robodoo', 'body': 'Disabled forward-porting.', 'created_at': datetime.datetime(2025, 1, 27, 10, 57, 34, tzinfo=datetime.timezone.utc)}, {'comment_id': 2615792829, 'issue_id': 2812691886, 'author': 'pro-odoo', 'body': 'robodoo r+', 'created_at': datetime.datetime(2025, 1, 27, 13, 40, 29, tzinfo=datetime.timezone.utc)}]","rrahir (Issue Creator) on (2025-01-27 10:57:32 UTC): robodoo fw=no

robodoo on (2025-01-27 10:57:33 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195234.png)](https://mergebot.odoo.com/odoo/odoo/pull/195234)

robodoo on (2025-01-27 10:57:34 UTC): Disabled forward-porting.

pro-odoo on (2025-01-27 13:40:29 UTC): robodoo r+

"
2812691005,pull_request,closed,,[FIX] spreadsheet: update o_spreadsheet to latest version,"### Contains the following commits:

https://github.com/odoo/o-spreadsheet/commit/e8c6bd14c [REL] 18.0.11 Task: 0
https://github.com/odoo/o-spreadsheet/commit/1ae4dd4d6 [FIX] TextValueProvider: Avoid duplicate key in template Task: 4483494
https://github.com/odoo/o-spreadsheet/commit/b7a2d6f33 [FIX] formulas: binary search returning incorrect index for multiple exact matches Task: 4328300
https://github.com/odoo/o-spreadsheet/commit/a23b0534c [FIX] selection: drag and drop resized cols and rows Task: 4454025
https://github.com/odoo/o-spreadsheet/commit/6dae73692 [FIX] popover: wrong position on updated popover Task: 3814260
https://github.com/odoo/o-spreadsheet/commit/96928270e [FIX] Selection: selection follows the moved header Task: 4461901
https://github.com/odoo/o-spreadsheet/commit/6405df3ce [FIX] icons: Missing dimension on icon Task: 4461359
https://github.com/odoo/o-spreadsheet/commit/a0401a35f [IMP] xlsx: support import/export of data validation rules Task: 4505529
https://github.com/odoo/o-spreadsheet/commit/f0537e96b [FIX] GridComposer: Fix CellReference pill display Task: 4501136
https://github.com/odoo/o-spreadsheet/commit/eccd9fa51 [FIX] renderer: Fix grid rendering Task: 4448426

Co-authored-by: Anthony Hendrickx (anhe) <anhe@odoo.com>
Co-authored-by: Alexis Lacroix (laa) <laa@odoo.com>
Co-authored-by: Lucas Lefèvre (lul) <lul@odoo.com>
Co-authored-by: Dhrutik Patel (dhrp) <dhrp@odoo.com>
Co-authored-by: Adrien Minne (adrm) <adrm@odoo.com>
Co-authored-by: Mehdi Rachico (mera) <mera@odoo.com>
Co-authored-by: Florian Damhaut (flda) <flda@odoo.com>
Co-authored-by: Rémi Rahir (rar) <rar@odoo.com>
Co-authored-by: Pierre Rousseau (pro) <pro@odoo.com>
Co-authored-by: Vincent Schippefilt (vsc) <vsc@odoo.com>
",rrahir,2025-01-27 10:57:05+00:00,[],2025-01-27 14:35:52+00:00,2025-01-27 14:35:52+00:00,https://github.com/odoo/odoo/pull/195233,"[('RD', 'research & development, internal work')]","[{'comment_id': 2615435526, 'issue_id': 2812691005, 'author': 'rrahir', 'body': 'robodoo fw=no', 'created_at': datetime.datetime(2025, 1, 27, 10, 57, 7, tzinfo=datetime.timezone.utc)}, {'comment_id': 2615435541, 'issue_id': 2812691005, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195233.png)](https://mergebot.odoo.com/odoo/odoo/pull/195233)', 'created_at': datetime.datetime(2025, 1, 27, 10, 57, 8, tzinfo=datetime.timezone.utc)}, {'comment_id': 2615435607, 'issue_id': 2812691005, 'author': 'robodoo', 'body': 'Disabled forward-porting.', 'created_at': datetime.datetime(2025, 1, 27, 10, 57, 10, tzinfo=datetime.timezone.utc)}, {'comment_id': 2615634736, 'issue_id': 2812691005, 'author': 'pro-odoo', 'body': 'robodoo r+', 'created_at': datetime.datetime(2025, 1, 27, 12, 30, 40, tzinfo=datetime.timezone.utc)}]","rrahir (Issue Creator) on (2025-01-27 10:57:07 UTC): robodoo fw=no

robodoo on (2025-01-27 10:57:08 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195233.png)](https://mergebot.odoo.com/odoo/odoo/pull/195233)

robodoo on (2025-01-27 10:57:10 UTC): Disabled forward-porting.

pro-odoo on (2025-01-27 12:30:40 UTC): robodoo r+

"
2812690089,pull_request,closed,,[FIX] spreadsheet: update o_spreadsheet to latest version,"### Contains the following commits:

https://github.com/odoo/o-spreadsheet/commit/f2a78402c [REL] 17.4.19 Task: 0
https://github.com/odoo/o-spreadsheet/commit/e3cc173c9 [FIX] TextValueProvider: Avoid duplicate key in template Task: 4483494
https://github.com/odoo/o-spreadsheet/commit/d555caa6d [FIX] formulas: binary search returning incorrect index for multiple exact matches Task: 4328300
https://github.com/odoo/o-spreadsheet/commit/cbe2abc70 [FIX] selection: drag and drop resized cols and rows Task: 4454025
https://github.com/odoo/o-spreadsheet/commit/2d24564b4 [FIX] popover: wrong position on updated popover Task: 3814260
https://github.com/odoo/o-spreadsheet/commit/393c9c3e4 [FIX] Selection: selection follows the moved header Task: 4461901
https://github.com/odoo/o-spreadsheet/commit/96b3e26f2 [FIX] GridComposer: Fix CellReference pill display Task: 4501136
https://github.com/odoo/o-spreadsheet/commit/63f342113 [FIX] renderer: Fix grid rendering Task: 4448426

Co-authored-by: Anthony Hendrickx (anhe) <anhe@odoo.com>
Co-authored-by: Alexis Lacroix (laa) <laa@odoo.com>
Co-authored-by: Lucas Lefèvre (lul) <lul@odoo.com>
Co-authored-by: Dhrutik Patel (dhrp) <dhrp@odoo.com>
Co-authored-by: Adrien Minne (adrm) <adrm@odoo.com>
Co-authored-by: Mehdi Rachico (mera) <mera@odoo.com>
Co-authored-by: Florian Damhaut (flda) <flda@odoo.com>
Co-authored-by: Rémi Rahir (rar) <rar@odoo.com>
Co-authored-by: Pierre Rousseau (pro) <pro@odoo.com>
Co-authored-by: Vincent Schippefilt (vsc) <vsc@odoo.com>
",rrahir,2025-01-27 10:56:40+00:00,[],2025-01-27 14:21:45+00:00,2025-01-27 14:21:45+00:00,https://github.com/odoo/odoo/pull/195232,"[('RD', 'research & development, internal work')]","[{'comment_id': 2615434571, 'issue_id': 2812690089, 'author': 'rrahir', 'body': 'robodoo fw=no', 'created_at': datetime.datetime(2025, 1, 27, 10, 56, 42, tzinfo=datetime.timezone.utc)}, {'comment_id': 2615434595, 'issue_id': 2812690089, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195232.png)](https://mergebot.odoo.com/odoo/odoo/pull/195232)', 'created_at': datetime.datetime(2025, 1, 27, 10, 56, 43, tzinfo=datetime.timezone.utc)}, {'comment_id': 2615434648, 'issue_id': 2812690089, 'author': 'robodoo', 'body': 'Disabled forward-porting.', 'created_at': datetime.datetime(2025, 1, 27, 10, 56, 44, tzinfo=datetime.timezone.utc)}, {'comment_id': 2615634242, 'issue_id': 2812690089, 'author': 'pro-odoo', 'body': 'robodoo r+', 'created_at': datetime.datetime(2025, 1, 27, 12, 30, 25, tzinfo=datetime.timezone.utc)}]","rrahir (Issue Creator) on (2025-01-27 10:56:42 UTC): robodoo fw=no

robodoo on (2025-01-27 10:56:43 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195232.png)](https://mergebot.odoo.com/odoo/odoo/pull/195232)

robodoo on (2025-01-27 10:56:44 UTC): Disabled forward-porting.

pro-odoo on (2025-01-27 12:30:25 UTC): robodoo r+

"
2812689203,pull_request,closed,,[FIX] spreadsheet: update o_spreadsheet to latest version,"### Contains the following commits:

https://github.com/odoo/o-spreadsheet/commit/6ea43fb2e [REL] 17.2.33 Task: 0
https://github.com/odoo/o-spreadsheet/commit/3672862dd [FIX] formulas: binary search returning incorrect index for multiple exact matches Task: 4328300
https://github.com/odoo/o-spreadsheet/commit/c051e6373 [FIX] selection: drag and drop resized cols and rows Task: 4454025
https://github.com/odoo/o-spreadsheet/commit/6c26c50b0 [FIX] popover: wrong position on updated popover Task: 3814260
https://github.com/odoo/o-spreadsheet/commit/945563e8a [FIX] Selection: selection follows the moved header Task: 4461901
https://github.com/odoo/o-spreadsheet/commit/03d164a45 [FIX] TextValueProvider: Avoid duplicate key in template Task: 4483494
https://github.com/odoo/o-spreadsheet/commit/2754a7c2c [FIX] GridComposer: Fix CellReference pill display Task: 4501136
https://github.com/odoo/o-spreadsheet/commit/c5970f775 [FIX] renderer: Fix grid rendering Task: 4448426

Co-authored-by: Anthony Hendrickx (anhe) <anhe@odoo.com>
Co-authored-by: Alexis Lacroix (laa) <laa@odoo.com>
Co-authored-by: Lucas Lefèvre (lul) <lul@odoo.com>
Co-authored-by: Dhrutik Patel (dhrp) <dhrp@odoo.com>
Co-authored-by: Adrien Minne (adrm) <adrm@odoo.com>
Co-authored-by: Mehdi Rachico (mera) <mera@odoo.com>
Co-authored-by: Florian Damhaut (flda) <flda@odoo.com>
Co-authored-by: Rémi Rahir (rar) <rar@odoo.com>
Co-authored-by: Pierre Rousseau (pro) <pro@odoo.com>
Co-authored-by: Vincent Schippefilt (vsc) <vsc@odoo.com>
",rrahir,2025-01-27 10:56:16+00:00,[],2025-01-27 14:59:45+00:00,2025-01-27 14:59:45+00:00,https://github.com/odoo/odoo/pull/195231,"[('RD', 'research & development, internal work')]","[{'comment_id': 2615433601, 'issue_id': 2812689203, 'author': 'rrahir', 'body': 'robodoo fw=no', 'created_at': datetime.datetime(2025, 1, 27, 10, 56, 18, tzinfo=datetime.timezone.utc)}, {'comment_id': 2615433664, 'issue_id': 2812689203, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195231.png)](https://mergebot.odoo.com/odoo/odoo/pull/195231)', 'created_at': datetime.datetime(2025, 1, 27, 10, 56, 20, tzinfo=datetime.timezone.utc)}, {'comment_id': 2615433734, 'issue_id': 2812689203, 'author': 'robodoo', 'body': 'Disabled forward-porting.', 'created_at': datetime.datetime(2025, 1, 27, 10, 56, 21, tzinfo=datetime.timezone.utc)}]","rrahir (Issue Creator) on (2025-01-27 10:56:18 UTC): robodoo fw=no

robodoo on (2025-01-27 10:56:20 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195231.png)](https://mergebot.odoo.com/odoo/odoo/pull/195231)

robodoo on (2025-01-27 10:56:21 UTC): Disabled forward-porting.

"
2812688353,pull_request,closed,,[FIX] spreadsheet: update o_spreadsheet to latest version,"### Contains the following commits:

https://github.com/odoo/o-spreadsheet/commit/1df062cf6 [REL] 17.0.46 Task: 0
https://github.com/odoo/o-spreadsheet/commit/cb9413948 [FIX] formulas: binary search returning incorrect index for multiple exact matches Task: 4328300
https://github.com/odoo/o-spreadsheet/commit/49bf06f85 [FIX] selection: drag and drop resized cols and rows Task: 4454025
https://github.com/odoo/o-spreadsheet/commit/c49ed0778 [FIX] popover: wrong position on updated popover Task: 3814260
https://github.com/odoo/o-spreadsheet/commit/8aa127dda [FIX] GridComposer: Fix CellReference pill display Task: 4501136
https://github.com/odoo/o-spreadsheet/commit/44979e28b [FIX] renderer: Fix grid rendering Task: 4448426

Co-authored-by: Anthony Hendrickx (anhe) <anhe@odoo.com>
Co-authored-by: Alexis Lacroix (laa) <laa@odoo.com>
Co-authored-by: Lucas Lefèvre (lul) <lul@odoo.com>
Co-authored-by: Dhrutik Patel (dhrp) <dhrp@odoo.com>
Co-authored-by: Adrien Minne (adrm) <adrm@odoo.com>
Co-authored-by: Mehdi Rachico (mera) <mera@odoo.com>
Co-authored-by: Florian Damhaut (flda) <flda@odoo.com>
Co-authored-by: Rémi Rahir (rar) <rar@odoo.com>
Co-authored-by: Pierre Rousseau (pro) <pro@odoo.com>
Co-authored-by: Vincent Schippefilt (vsc) <vsc@odoo.com>
",rrahir,2025-01-27 10:55:53+00:00,[],2025-01-27 14:57:30+00:00,2025-01-27 14:57:30+00:00,https://github.com/odoo/odoo/pull/195230,"[('RD', 'research & development, internal work')]","[{'comment_id': 2615432771, 'issue_id': 2812688353, 'author': 'rrahir', 'body': 'robodoo fw=no', 'created_at': datetime.datetime(2025, 1, 27, 10, 55, 54, tzinfo=datetime.timezone.utc)}, {'comment_id': 2615432806, 'issue_id': 2812688353, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195230.png)](https://mergebot.odoo.com/odoo/odoo/pull/195230)', 'created_at': datetime.datetime(2025, 1, 27, 10, 55, 55, tzinfo=datetime.timezone.utc)}, {'comment_id': 2615432864, 'issue_id': 2812688353, 'author': 'robodoo', 'body': 'Disabled forward-porting.', 'created_at': datetime.datetime(2025, 1, 27, 10, 55, 57, tzinfo=datetime.timezone.utc)}]","rrahir (Issue Creator) on (2025-01-27 10:55:54 UTC): robodoo fw=no

robodoo on (2025-01-27 10:55:55 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195230.png)](https://mergebot.odoo.com/odoo/odoo/pull/195230)

robodoo on (2025-01-27 10:55:57 UTC): Disabled forward-porting.

"
2812687202,pull_request,closed,,[FIX] spreadsheet: update o_spreadsheet to latest version,"### Contains the following commits:

https://github.com/odoo/o-spreadsheet/commit/4886b0b10 [REL] 16.0.58 Task: 0
https://github.com/odoo/o-spreadsheet/commit/e83048734 [FIX] formulas: binary search returning incorrect index for multiple exact matches Task: 4328300
https://github.com/odoo/o-spreadsheet/commit/f76407ac7 [FIX] selection: drag and drop resized cols and rows Task: 4454025
https://github.com/odoo/o-spreadsheet/commit/db9509f79 [FIX] renderer: Fix grid rendering Task: 4448426

Co-authored-by: Anthony Hendrickx (anhe) <anhe@odoo.com>
Co-authored-by: Alexis Lacroix (laa) <laa@odoo.com>
Co-authored-by: Lucas Lefèvre (lul) <lul@odoo.com>
Co-authored-by: Dhrutik Patel (dhrp) <dhrp@odoo.com>
Co-authored-by: Adrien Minne (adrm) <adrm@odoo.com>
Co-authored-by: Mehdi Rachico (mera) <mera@odoo.com>
Co-authored-by: Florian Damhaut (flda) <flda@odoo.com>
Co-authored-by: Rémi Rahir (rar) <rar@odoo.com>
Co-authored-by: Pierre Rousseau (pro) <pro@odoo.com>
Co-authored-by: Vincent Schippefilt (vsc) <vsc@odoo.com>
",rrahir,2025-01-27 10:55:21+00:00,[],2025-01-27 17:38:53+00:00,2025-01-27 17:38:52+00:00,https://github.com/odoo/odoo/pull/195229,"[('RD', 'research & development, internal work')]","[{'comment_id': 2615431604, 'issue_id': 2812687202, 'author': 'rrahir', 'body': 'robodoo fw=no', 'created_at': datetime.datetime(2025, 1, 27, 10, 55, 23, tzinfo=datetime.timezone.utc)}, {'comment_id': 2615431631, 'issue_id': 2812687202, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195229.png)](https://mergebot.odoo.com/odoo/odoo/pull/195229)', 'created_at': datetime.datetime(2025, 1, 27, 10, 55, 24, tzinfo=datetime.timezone.utc)}, {'comment_id': 2615431709, 'issue_id': 2812687202, 'author': 'robodoo', 'body': 'Disabled forward-porting.', 'created_at': datetime.datetime(2025, 1, 27, 10, 55, 26, tzinfo=datetime.timezone.utc)}, {'comment_id': 2615632741, 'issue_id': 2812687202, 'author': 'pro-odoo', 'body': 'robodoo r+', 'created_at': datetime.datetime(2025, 1, 27, 12, 29, 45, tzinfo=datetime.timezone.utc)}, {'comment_id': 2615787855, 'issue_id': 2812687202, 'author': 'robodoo', 'body': '@rrahir @pro-odoo staging failed: ci/runbot (view more at https://runbot.odoo.com/runbot/build/74002689)', 'created_at': datetime.datetime(2025, 1, 27, 13, 38, 23, tzinfo=datetime.timezone.utc)}, {'comment_id': 2615792258, 'issue_id': 2812687202, 'author': 'pro-odoo', 'body': 'robodoo retry', 'created_at': datetime.datetime(2025, 1, 27, 13, 40, 16, tzinfo=datetime.timezone.utc)}]","rrahir (Issue Creator) on (2025-01-27 10:55:23 UTC): robodoo fw=no

robodoo on (2025-01-27 10:55:24 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195229.png)](https://mergebot.odoo.com/odoo/odoo/pull/195229)

robodoo on (2025-01-27 10:55:26 UTC): Disabled forward-porting.

pro-odoo on (2025-01-27 12:29:45 UTC): robodoo r+

robodoo on (2025-01-27 13:38:23 UTC): @rrahir @pro-odoo staging failed: ci/runbot (view more at https://runbot.odoo.com/runbot/build/74002689)

pro-odoo on (2025-01-27 13:40:16 UTC): robodoo retry

"
2812685144,pull_request,closed,,[FIX] website_sale: show order ref on all checkout states,"Versions
--------
- 17.0+

Steps
-----
1. Enable Wire Transfer as a payment provider;
2. in eCommerce, add an item to cart;
3. go to checkout;
4. pay via wire transfer.

Issue
-----
The order reference isn't shown below the ""Thank you for your order"" message because the payment transaction hasn't been approved yet.

Solution
--------
Show the order reference regardless of transaction status.

opw-3844583",lvsz,2025-01-27 10:54:25+00:00,[],2025-01-28 12:58:57+00:00,2025-01-28 12:58:57+00:00,https://github.com/odoo/odoo/pull/195228,"[('OE', 'the report is linked to a support ticket (opw-...)')]","[{'comment_id': 2615429610, 'issue_id': 2812685144, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195228.png)](https://mergebot.odoo.com/odoo/odoo/pull/195228)', 'created_at': datetime.datetime(2025, 1, 27, 10, 54, 29, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-27 10:54:29 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195228.png)](https://mergebot.odoo.com/odoo/odoo/pull/195228)

"
2812678110,pull_request,closed,,[FW][FIX] account: cash basis journal for last payment,"If you pay an invoice with multiple payments some roundings are made for the taxes. On the last payment, the error from those roundings are put on a move to make sure that the exact amount of the invoice is paid.

That move was put on the wrong journal. It was put in the 'Exchange Difference' journal instead of the 'Cash Basis Taxes'.

opw-4460696

---
I confirm I have signed the CLA and read the PR guidelines at www.odoo.com/submit-pr

Forward-Port-Of: odoo/odoo#193994",fw-bot,2025-01-27 10:51:10+00:00,[],2025-01-27 22:33:43+00:00,2025-01-27 22:33:43+00:00,https://github.com/odoo/odoo/pull/195227,"[('OE', 'the report is linked to a support ticket (opw-...)'), ('forwardport', 'This PR was created by @fw-bot'), ('18.2', None)]","[{'comment_id': 2615422078, 'issue_id': 2812678110, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195227.png)](https://mergebot.odoo.com/odoo/odoo/pull/195227)', 'created_at': datetime.datetime(2025, 1, 27, 10, 51, 11, tzinfo=datetime.timezone.utc)}, {'comment_id': 2615422107, 'issue_id': 2812678110, 'author': 'fw-bot', 'body': '@rugo-odoo @william-andre this PR targets master and is the last of the forward-port chain containing:\n* odoo/odoo#195140\n* odoo/odoo#195133\n* odoo/odoo#195119\n* odoo/odoo#195099\n\nTo merge the full chain, use\n> @robodoo r+\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 27, 10, 51, 12, tzinfo=datetime.timezone.utc)}, {'comment_id': 2615612935, 'issue_id': 2812678110, 'author': 'rugo-odoo', 'body': '@robodoo r+', 'created_at': datetime.datetime(2025, 1, 27, 12, 20, 37, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-27 10:51:11 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195227.png)](https://mergebot.odoo.com/odoo/odoo/pull/195227)

fw-bot (Issue Creator) on (2025-01-27 10:51:12 UTC): @rugo-odoo @william-andre this PR targets master and is the last of the forward-port chain containing:
* odoo/odoo#195140
* odoo/odoo#195133
* odoo/odoo#195119
* odoo/odoo#195099

To merge the full chain, use

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

rugo-odoo on (2025-01-27 12:20:37 UTC): @robodoo r+

"
2812672186,pull_request,closed,,"[FW][IMP] l10n_sa, l10n_sa_edi: Improved Report Spacing","Description of the issue/feature this PR addresses:
Task ID: 4342267

Current behavior before PR:
-Error When printing draft invoice due to unset invoice_date.

-Report spacing between header & body in second page overlaps due to paperformat spacing.
Due to the long address format of saudi arabia, the default paperformat header spacing and margin top are not enough to show the full address without overlapping the second and onward pages.

-English labels on the exchange rate table in l10n_sa_edi are translated and not shown together with the arabic labels.

-Remove unnecessary spans in xpaths

Desired behavior after PR is merged:
-Fix printing draft invoice with invoice_date as today's date

-Fix report spacing header by adding a new A4 paperformat for l10n_sa which is set as the saudi arabia companies default paper format.

-Fix exchange rate table to show both arabic and english labels and remove unnecessary translations (no longer used)

-Remove unnecessary spans in xpath.



---
I confirm I have signed the CLA and read the PR guidelines at www.odoo.com/submit-pr

Forward-Port-Of: odoo/odoo#195034
Forward-Port-Of: odoo/odoo#190172",fw-bot,2025-01-27 10:48:22+00:00,[],2025-01-29 07:11:41+00:00,2025-01-29 07:11:41+00:00,https://github.com/odoo/odoo/pull/195226,"[('RD', 'research & development, internal work'), ('forwardport', 'This PR was created by @fw-bot'), ('conflict', 'There was an error while creating this forward-port PR')]","[{'comment_id': 2615415890, 'issue_id': 2812672186, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195226.png)](https://mergebot.odoo.com/odoo/odoo/pull/195226)', 'created_at': datetime.datetime(2025, 1, 27, 10, 48, 23, tzinfo=datetime.timezone.utc)}, {'comment_id': 2615415915, 'issue_id': 2812672186, 'author': 'fw-bot', 'body': '@alny-odoo @gawa-odoo cherrypicking of pull request odoo/odoo#190172 failed.\n\nstdout:\n```\nAuto-merging addons/l10n_gcc_invoice/views/report_invoice.xml\nCONFLICT (content): Merge conflict in addons/l10n_gcc_invoice/views/report_invoice.xml\nAuto-merging addons/l10n_sa/demo/demo_company.xml\n\n```\n\nEither perform the forward-port manually (and push to this branch, proceeding as usual) or close this PR (maybe?).\n\nIn the former case, you may want to edit this PR message as well.\n\n:warning: after resolving this conflict, you will need to merge it via @robodoo.\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 27, 10, 48, 24, tzinfo=datetime.timezone.utc)}, {'comment_id': 2618788546, 'issue_id': 2812672186, 'author': 'alny-odoo', 'body': '@robodoo r+', 'created_at': datetime.datetime(2025, 1, 28, 11, 53, 41, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-27 10:48:23 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195226.png)](https://mergebot.odoo.com/odoo/odoo/pull/195226)

fw-bot (Issue Creator) on (2025-01-27 10:48:24 UTC): @alny-odoo @gawa-odoo cherrypicking of pull request odoo/odoo#190172 failed.

stdout:
```
Auto-merging addons/l10n_gcc_invoice/views/report_invoice.xml
CONFLICT (content): Merge conflict in addons/l10n_gcc_invoice/views/report_invoice.xml
Auto-merging addons/l10n_sa/demo/demo_company.xml

```

Either perform the forward-port manually (and push to this branch, proceeding as usual) or close this PR (maybe?).

In the former case, you may want to edit this PR message as well.

:warning: after resolving this conflict, you will need to merge it via @robodoo.

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

alny-odoo on (2025-01-28 11:53:41 UTC): @robodoo r+

"
2812657913,pull_request,open,,[FIX] payment_paypal: removing unsupported payload data,"Description of the issue/feature this PR addresses:
Currently, the payload contains unsupported data and due to this, payment with PayPal results in error. 

Current behavior before PR:
Sending payment request to PayPal API via portal button ""Pay Now"" results in error:  'The communication with the API failed. Details: Request is not well-formed, syntactically incorrect, or violates schema.'.

Desired behavior after PR is merged:
After clicking ""Pay Now"" in portal, visitor is successfully redirected to PayPal for payment.


---
I confirm I have signed the CLA and read the PR guidelines at www.odoo.com/submit-pr
",KDRdev,2025-01-27 10:41:49+00:00,[],2025-02-05 21:44:07+00:00,,https://github.com/odoo/odoo/pull/195225,"[('CLA', 'Contributor License Agreement'), ('Payment', 'Payment providers')]","[{'comment_id': 2615401604, 'issue_id': 2812657913, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195225.png)](https://mergebot.odoo.com/odoo/odoo/pull/195225)', 'created_at': datetime.datetime(2025, 1, 27, 10, 41, 53, tzinfo=datetime.timezone.utc)}, {'comment_id': 2619123994, 'issue_id': 2812657913, 'author': 'livaios', 'body': 'Hello @KDRdev,\r\nThis payload data is in fact supported.\r\nDid you make sure the email and name on your company were the correct format and not empty?', 'created_at': datetime.datetime(2025, 1, 28, 14, 14, 29, tzinfo=datetime.timezone.utc)}, {'comment_id': 2619503812, 'issue_id': 2812657913, 'author': 'KDRdev', 'body': 'Hello @livaios\r\nYou\'re right. The problem in my case seems to be the empty value in field ""email"" in company settings in Odoo.\r\nOn the other hand, the part of the payload in question is not mentioned in the current PayPal API documentation, so I\'m wondering why must it be there? Please check the API docs at the link below.\r\nhttps://developer.paypal.com/docs/api/orders/v2/#orders_create!ct=application/json&path=purchase_units/payee&t=request', 'created_at': datetime.datetime(2025, 1, 28, 16, 33, 17, tzinfo=datetime.timezone.utc)}, {'comment_id': 2621216075, 'issue_id': 2812657913, 'author': 'livaios', 'body': ""Hello @KDRdev,\r\n\r\nIt's true that its not required by PayPal however we try to provide all the data we can because it helps avoid companies being detected as fraudulent in their fraud detection.\r\n\r\nLet me suggest only deleting `business_email` from `display_data` and adding this code after the payload creation\r\n```python\r\n        # PayPal does not accept None set to fields and to avoid users getting errors when email\r\n        # is not set on company we will add it conditionally since its not a required field.\r\n        if company_email := self.provider_id.company_id.email:\r\n            payload['purchase_units'][0]['payee']['display_data']['business_email'] = company_email\r\n            \r\n```"", 'created_at': datetime.datetime(2025, 1, 29, 10, 15, 19, tzinfo=datetime.timezone.utc)}, {'comment_id': 2637589042, 'issue_id': 2812657913, 'author': 'KDRdev', 'body': 'Hello @livaios. That looks fine, I can update the PR as per your suggestion.\r\n\r\nI noticed one more issue (probably a minor one) - it may happen that \'country_code\' is \'False\' in payload, but PayPal requires this value to be present. This may happen, for example, during payment workflow testing with user ""admin"", which by default has no country set. I can suggest adding some checks that would prevent such behaviour.\r\n\r\nAnother solution would be to make the error message more detailed: API response provides extra info, which part of the request caused error, so we could either show this to the user or at least log.', 'created_at': datetime.datetime(2025, 2, 5, 17, 34, 55, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-27 10:41:53 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195225.png)](https://mergebot.odoo.com/odoo/odoo/pull/195225)

livaios on (2025-01-28 14:14:29 UTC): Hello @KDRdev,
This payload data is in fact supported.
Did you make sure the email and name on your company were the correct format and not empty?

KDRdev (Issue Creator) on (2025-01-28 16:33:17 UTC): Hello @livaios
You're right. The problem in my case seems to be the empty value in field ""email"" in company settings in Odoo.
On the other hand, the part of the payload in question is not mentioned in the current PayPal API documentation, so I'm wondering why must it be there? Please check the API docs at the link below.
https://developer.paypal.com/docs/api/orders/v2/#orders_create!ct=application/json&path=purchase_units/payee&t=request

livaios on (2025-01-29 10:15:19 UTC): Hello @KDRdev,

It's true that its not required by PayPal however we try to provide all the data we can because it helps avoid companies being detected as fraudulent in their fraud detection.

Let me suggest only deleting `business_email` from `display_data` and adding this code after the payload creation
```python
        # PayPal does not accept None set to fields and to avoid users getting errors when email
        # is not set on company we will add it conditionally since its not a required field.
        if company_email := self.provider_id.company_id.email:
            payload['purchase_units'][0]['payee']['display_data']['business_email'] = company_email
            
```

KDRdev (Issue Creator) on (2025-02-05 17:34:55 UTC): Hello @livaios. That looks fine, I can update the PR as per your suggestion.

I noticed one more issue (probably a minor one) - it may happen that 'country_code' is 'False' in payload, but PayPal requires this value to be present. This may happen, for example, during payment workflow testing with user ""admin"", which by default has no country set. I can suggest adding some checks that would prevent such behaviour.

Another solution would be to make the error message more detailed: API response provides extra info, which part of the request caused error, so we could either show this to the user or at least log.

"
2812649696,pull_request,open,,[FIX] web: filter duplicate selected records from the list view,"In the context of grouping records on a Many2Many field (e.g. tags of tasks) in the list view, it's possible to select the same record multiple times. In such case, when modifying the selected records, there could be duplicated ids in the arguments of the different RPCs (write, unlink, call). Processing the same record multiple times in backend could cause unexpected issues. 
So in this PR, we filter out the duplicated records ids before each call, to work with a clean recordset in backend.

version-17.4

---
I confirm I have signed the CLA and read the PR guidelines at www.odoo.com/submit-pr
",deneuvillem,2025-01-27 10:38:03+00:00,[],2025-01-27 15:54:43+00:00,,https://github.com/odoo/odoo/pull/195224,"[('RD', 'research & development, internal work')]","[{'comment_id': 2615393191, 'issue_id': 2812649696, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195224.png)](https://mergebot.odoo.com/odoo/odoo/pull/195224)', 'created_at': datetime.datetime(2025, 1, 27, 10, 38, 7, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-27 10:38:07 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195224.png)](https://mergebot.odoo.com/odoo/odoo/pull/195224)

"
2812648801,pull_request,closed,,[FIX] hr_holidays : Calculate duration of leave when flexible hours,"### Steps to reproduce:
	- Create a working schedule that is flexible
	- Assign this working schedule to an Employee
	- Create a time off type and set the request unit to be 'half day'
	- Create an allocation for the created time off type for the employee with the flexible working schedule
	- Create a leave for the mentioned employee with the created time off type for 1 day
	- Notice the duration of the leave is 2 days not 1

### Cause:
When creating a working schedule we compute the duration of the periods and since 'attendance.calendar_id.hours_per_day' won't have a value each period will be 1 day. https://github.com/odoo/odoo/blob/18.0/addons/resource/models/resource_calendar_attendance.py#L82

So, when getting the duration of the leave where its request_unit is not 'day' the duration will be the summation of the periods' duration of the working schedule for the employee which in this case will be 1 for each period -each day has 2 periods with the value of 1-

### Fix:
Check if the employee if on flexible hours we calcualte the duration as the difference between the date_to and date_from rounded up in days

opw-4309551",yoba-odoo,2025-01-27 10:37:40+00:00,[],2025-01-29 15:25:35+00:00,2025-01-29 15:25:35+00:00,https://github.com/odoo/odoo/pull/195223,"[('OE', 'the report is linked to a support ticket (opw-...)')]","[{'comment_id': 2615392334, 'issue_id': 2812648801, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195223.png)](https://mergebot.odoo.com/odoo/odoo/pull/195223)', 'created_at': datetime.datetime(2025, 1, 27, 10, 37, 43, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-27 10:37:43 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195223.png)](https://mergebot.odoo.com/odoo/odoo/pull/195223)

"
2812627879,pull_request,closed,,[FW][FIX] hr_attendance : negative overtime not taken into account in report,"steps:
- create an attendance for one day with less worked hours than the daily hours
- create another attendance for the next day with hours to compensate the previous day's missing time
- got to the attendance report : you have worked overtime although that overtime was only compensating for the previous day

This worked in 16.0, but got broken by the attendance refactor and the introduction of the overtime_hours field in hr.attendance. This commit fixes the computation of the field to include negative overtimes.

opw-4337755

Forward-Port-Of: odoo/odoo#192699",fw-bot,2025-01-27 10:27:59+00:00,[],2025-01-27 16:32:36+00:00,2025-01-27 16:32:35+00:00,https://github.com/odoo/odoo/pull/195222,"[('OE', 'the report is linked to a support ticket (opw-...)'), ('forwardport', 'This PR was created by @fw-bot')]","[{'comment_id': 2615371336, 'issue_id': 2812627879, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195222.png)](https://mergebot.odoo.com/odoo/odoo/pull/195222)', 'created_at': datetime.datetime(2025, 1, 27, 10, 28, tzinfo=datetime.timezone.utc)}, {'comment_id': 2615371360, 'issue_id': 2812627879, 'author': 'fw-bot', 'body': 'This PR targets saas-17.2 and is part of the forward-port chain. Further PRs will be created up to master.\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 27, 10, 28, 1, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-27 10:28:00 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195222.png)](https://mergebot.odoo.com/odoo/odoo/pull/195222)

fw-bot (Issue Creator) on (2025-01-27 10:28:01 UTC): This PR targets saas-17.2 and is part of the forward-port chain. Further PRs will be created up to master.

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

"
2812626446,pull_request,closed,,[FW][FIX] web: form tests: fix non deterministic tests,"Those tests are sometimes failing since [1]. This commit is essentially a partial backport of [2], from the hoot suite to the qunit one. The other suites changed in [2] were already fixed in this version.

[1] odoo/odoo#189147
[2] odoo/odoo#190157

runbot issue-109694

Description of the issue/feature this PR addresses:

Current behavior before PR:

Desired behavior after PR is merged:




---
I confirm I have signed the CLA and read the PR guidelines at www.odoo.com/submit-pr

Forward-Port-Of: odoo/odoo#195197",fw-bot,2025-01-27 10:27:18+00:00,[],2025-01-31 10:52:46+00:00,2025-01-31 10:52:46+00:00,https://github.com/odoo/odoo/pull/195221,"[('RD', 'research & development, internal work'), ('forwardport', 'This PR was created by @fw-bot')]","[{'comment_id': 2615369863, 'issue_id': 2812626446, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195221.png)](https://mergebot.odoo.com/odoo/odoo/pull/195221)', 'created_at': datetime.datetime(2025, 1, 27, 10, 27, 20, tzinfo=datetime.timezone.utc)}, {'comment_id': 2615369892, 'issue_id': 2812626446, 'author': 'fw-bot', 'body': 'This PR targets saas-17.2 and is part of the forward-port chain. Further PRs will be created up to master.\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 27, 10, 27, 21, tzinfo=datetime.timezone.utc)}, {'comment_id': 2615423793, 'issue_id': 2812626446, 'author': 'fw-bot', 'body': '@aab-odoo @pipu-odoo ci/runbot failed on this forward-port PR', 'created_at': datetime.datetime(2025, 1, 27, 10, 51, 53, tzinfo=datetime.timezone.utc)}, {'comment_id': 2626135036, 'issue_id': 2812626446, 'author': 'fw-bot', 'body': '@aab-odoo @pipu-odoo this forward port of odoo/odoo#195197 is awaiting action (not merged or closed).', 'created_at': datetime.datetime(2025, 1, 31, 2, 1, 29, tzinfo=datetime.timezone.utc)}, {'comment_id': 2626654991, 'issue_id': 2812626446, 'author': 'fw-bot', 'body': '@aab-odoo @pipu-odoo the next pull request (odoo/odoo#195944) is in conflict. You can merge the chain up to here by saying\n> @robodoo r+\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 31, 8, 39, 21, tzinfo=datetime.timezone.utc)}, {'comment_id': 2626696436, 'issue_id': 2812626446, 'author': 'aab-odoo', 'body': '@robodoo r+', 'created_at': datetime.datetime(2025, 1, 31, 9, 2, 26, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-27 10:27:20 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195221.png)](https://mergebot.odoo.com/odoo/odoo/pull/195221)

fw-bot (Issue Creator) on (2025-01-27 10:27:21 UTC): This PR targets saas-17.2 and is part of the forward-port chain. Further PRs will be created up to master.

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

fw-bot (Issue Creator) on (2025-01-27 10:51:53 UTC): @aab-odoo @pipu-odoo ci/runbot failed on this forward-port PR

fw-bot (Issue Creator) on (2025-01-31 02:01:29 UTC): @aab-odoo @pipu-odoo this forward port of odoo/odoo#195197 is awaiting action (not merged or closed).

fw-bot (Issue Creator) on (2025-01-31 08:39:21 UTC): @aab-odoo @pipu-odoo the next pull request (odoo/odoo#195944) is in conflict. You can merge the chain up to here by saying

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

aab-odoo on (2025-01-31 09:02:26 UTC): @robodoo r+

"
2812591416,pull_request,closed,,[FW][FIX] portal: prevent Sign duplication in edit mode,"**Problem:**
When editing the ""Sign & Pay"" modal in customer preview for a sale
order, changes are not saved due to multiple issues:
1. Saving the signature component directly results in only the
   signature UI being saved, missing the logic and props of the
   original component.
2. If the signature component is saved with other fields, it gets
   duplicated upon saving due to `<owl-component />` behavior. This
   re-renders every saved component and mounts those passed as props,
   causing duplication and breaking functionality.
   - Reference: public_component_service.js

**Solution:**
1. Hide the signature component during editing to prevent saving its
   UI-only state, preserving its logic and props.

**Steps to Reproduce:**
1. Create a sale order.
2. Click on ""Customer Preview.""
3. Enable edit mode.
4. Open the ""Sign & Pay"" modal, modify the content, and save.
   - The signature UI duplicates

**opw-4216372**
---
I confirm I have signed the CLA and read the PR guidelines at www.odoo.com/submit-pr

Forward-Port-Of: odoo/odoo#187707",fw-bot,2025-01-27 10:11:50+00:00,[],2025-01-27 18:37:32+00:00,2025-01-27 18:37:32+00:00,https://github.com/odoo/odoo/pull/195220,"[('OE', 'the report is linked to a support ticket (opw-...)'), ('forwardport', 'This PR was created by @fw-bot')]","[{'comment_id': 2615335345, 'issue_id': 2812591416, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195220.png)](https://mergebot.odoo.com/odoo/odoo/pull/195220)', 'created_at': datetime.datetime(2025, 1, 27, 10, 11, 51, tzinfo=datetime.timezone.utc)}, {'comment_id': 2615335368, 'issue_id': 2812591416, 'author': 'fw-bot', 'body': 'This PR targets saas-17.4 and is part of the forward-port chain. Further PRs will be created up to master.\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 27, 10, 11, 52, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-27 10:11:51 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195220.png)](https://mergebot.odoo.com/odoo/odoo/pull/195220)

fw-bot (Issue Creator) on (2025-01-27 10:11:52 UTC): This PR targets saas-17.4 and is part of the forward-port chain. Further PRs will be created up to master.

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

"
2812542529,pull_request,closed,,[FIX] mail: display user avatar in push notifications instead of odooBot,"**Current behavior before PR:**

Push notifications displayed the Odoo Bot icon regardless of the actual message author.

**Desired behavior after PR is merged:**

The push notifications now correctly display the avatar of the message author.

Task-[4510479](https://www.odoo.com/odoo/project/1519/tasks/4510479)

---
I confirm I have signed the CLA and read the PR guidelines at www.odoo.com/submit-pr
",ramh-odoo,2025-01-27 09:50:41+00:00,[],2025-01-30 10:02:29+00:00,2025-01-29 20:26:26+00:00,https://github.com/odoo/odoo/pull/195219,"[('RD', 'research & development, internal work')]","[{'comment_id': 2615287208, 'issue_id': 2812542529, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195219.png)](https://mergebot.odoo.com/odoo/odoo/pull/195219)', 'created_at': datetime.datetime(2025, 1, 27, 9, 50, 44, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-27 09:50:44 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195219.png)](https://mergebot.odoo.com/odoo/odoo/pull/195219)

"
2812535967,pull_request,open,,Added phonenumbers module,"python phonenumbers module is required by peppol which is required for account

Description of the issue/feature this PR addresses:

Current behavior before PR: account-module can't be installed

Desired behavior after PR is merged: account-module can be installed




---
I confirm I have signed the CLA and read the PR guidelines at www.odoo.com/submit-pr
",NickAustria,2025-01-27 09:47:47+00:00,[],2025-01-27 10:00:12+00:00,,https://github.com/odoo/odoo/pull/195218,"[('Packaging', 'Anything related to packaged Odoo installations (docker, .exe, .deb, etc)')]","[{'comment_id': 2615280868, 'issue_id': 2812535967, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195218.png)](https://mergebot.odoo.com/odoo/odoo/pull/195218)', 'created_at': datetime.datetime(2025, 1, 27, 9, 47, 51, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-27 09:47:51 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195218.png)](https://mergebot.odoo.com/odoo/odoo/pull/195218)

"
2812478041,pull_request,open,,"[FW][FIX] mrp{,_subcontracting_purchase}: make MO date set consistent","**Current behavior:**
Having some product with a subcontract BoM and using the unarchived 'Subcontract' picking type and creating a purchase order to the subcontractor for that product: changing the `scheduled_date` of the generated receipt will improperly set the start/end date on the subcontracting MO which was generated alongside the receipt.

Specifically, the `scheduled_date` of the receipt should correspond to the `date_finished` of the MO- however currently it is incorrectly modifying the MO `date_start` instead.

**Expected behavior:**
Modifying `scheduled_date` on the receipt will in turn modify the `date_finished` of the MO.

**Steps to reproduce:**
*Unarchive the Subcontract picking type operation*
1. Create a final product with a subcontract type BoM, on the BoM set some positive value for Manuf. Lead Time (in miscellaneous tab)

2. Create a purchase order to the subcontractor for that product

3. Confirm the PO -> observe that on creation, the scheduled date of the receipt matches the end date of the MO

4. Change the scheduled date of the receipt (for example, 10 days in the future) -> observe that after saving, the MO date correspondence is inverted (end date = scheduled date + lead time) instead of the start date being set with respect to the end time (like on creation), the end date gets set with respect to the start date

**Cause of the issue:**
It's an inconsistency with how the fields (start, end) are calculated and when.

**Fix:**
Make this case behave the same as the creation does- that is, end date is informed by the receipt's scheduled date and the start date of the MO is set by subtracting the lead time from there.

opw-4231548

Forward-Port-Of: odoo/odoo#193868
Forward-Port-Of: odoo/odoo#188389",fw-bot,2025-01-27 09:21:19+00:00,[],2025-01-28 09:05:31+00:00,,https://github.com/odoo/odoo/pull/195217,"[('OE', 'the report is linked to a support ticket (opw-...)'), ('forwardport', 'This PR was created by @fw-bot')]","[{'comment_id': 2615223713, 'issue_id': 2812478041, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195217.png)](https://mergebot.odoo.com/odoo/odoo/pull/195217)', 'created_at': datetime.datetime(2025, 1, 27, 9, 21, 21, tzinfo=datetime.timezone.utc)}, {'comment_id': 2615223737, 'issue_id': 2812478041, 'author': 'fw-bot', 'body': '@ethanrobv @svs-odoo this PR targets master and is the last of the forward-port chain.\n\nTo merge the full chain, use\n> @robodoo r+\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 27, 9, 21, 21, tzinfo=datetime.timezone.utc)}, {'comment_id': 2618361989, 'issue_id': 2812478041, 'author': 'niyasraphy', 'body': 'https://github.com/odoo/odoo/pull/188389#issuecomment-2616899405\r\n\r\nOPW: 4501158', 'created_at': datetime.datetime(2025, 1, 28, 9, 5, 29, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-27 09:21:21 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195217.png)](https://mergebot.odoo.com/odoo/odoo/pull/195217)

fw-bot (Issue Creator) on (2025-01-27 09:21:21 UTC): @ethanrobv @svs-odoo this PR targets master and is the last of the forward-port chain.

To merge the full chain, use

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

niyasraphy on (2025-01-28 09:05:29 UTC): https://github.com/odoo/odoo/pull/188389#issuecomment-2616899405

OPW: 4501158

"
2812470269,pull_request,closed,,[FIX] l10n_sa_edi: InvoiceTypeCode for Individuals Exports,"When doing an export, a lot of information are computed depending on the
partner, the company and the transaction.
This commit will modify the field Invoice Type Transaction which is defined in a
structure of 7-digit code: Standard Invoice must have 01 as the first 2 digits
and 02 for simplified tax invoice.
Other 5 digits depend on nature of the transaction.

Before this commit we used to send for Individual contacts, 0200000 for all
invoices, where the country of the Customer is not Saudi Arabia. But it's
actually wrong and we should send 0100100 which is a simple export invoice.

To fix that issues we added a condition for an invoice to be simplified that the
partner need to be an individual from Saudi Arabia.

task-4504987




---
I confirm I have signed the CLA and read the PR guidelines at www.odoo.com/submit-pr
",malb-odoo,2025-01-27 09:17:31+00:00,[],2025-02-07 13:57:01+00:00,2025-02-07 13:57:01+00:00,https://github.com/odoo/odoo/pull/195216,"[('RD', 'research & development, internal work')]","[{'comment_id': 2615215682, 'issue_id': 2812470269, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195216.png)](https://mergebot.odoo.com/odoo/odoo/pull/195216)', 'created_at': datetime.datetime(2025, 1, 27, 9, 17, 33, tzinfo=datetime.timezone.utc)}, {'comment_id': 2621388644, 'issue_id': 2812470269, 'author': 'khfa-odoo', 'body': '@ygu-odoo @malb-odoo lgtm', 'created_at': datetime.datetime(2025, 1, 29, 11, 30, 18, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-27 09:17:33 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195216.png)](https://mergebot.odoo.com/odoo/odoo/pull/195216)

khfa-odoo on (2025-01-29 11:30:18 UTC): @ygu-odoo @malb-odoo lgtm

"
2812454978,pull_request,closed,,[FIX] l10n_in_ewaybill_irn: Add missing JSON payload preparation for transportation details,"Implemented _prepare_ewaybill_transportation_json_payload to address a missed
requirement for generating e-way bill transportation details when processed through IRN.

Added corresponding tests to ensure proper functionality and coverage.

This fixes gaps in the integration with the e-invoice and EDI workflows.",hamo-odoo,2025-01-27 09:10:23+00:00,[],2025-01-27 12:28:41+00:00,2025-01-27 12:28:41+00:00,https://github.com/odoo/odoo/pull/195214,"[('RD', 'research & development, internal work')]","[{'comment_id': 2615200265, 'issue_id': 2812454978, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195214.png)](https://mergebot.odoo.com/odoo/odoo/pull/195214)', 'created_at': datetime.datetime(2025, 1, 27, 9, 10, 27, tzinfo=datetime.timezone.utc)}, {'comment_id': 2615396960, 'issue_id': 2812454978, 'author': 'jco-odoo', 'body': '@robodoo r+', 'created_at': datetime.datetime(2025, 1, 27, 10, 39, 49, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-27 09:10:27 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195214.png)](https://mergebot.odoo.com/odoo/odoo/pull/195214)

jco-odoo on (2025-01-27 10:39:49 UTC): @robodoo r+

"
2812451328,pull_request,open,,[IMP] core: sum monetary column in groupby only if same currency,"Currently, if you go on the list view of model displaying a monetary field, then group by an other field, it will sum the monetary column. This actually make sense only if all the records in the groupby have the same currency.
To face this issue, the dev can set `group_operator=None`, but then the column will never be aggregated, even if the user group the records by currency.
Or we can extend the read_group to decide to aggregate only if there's a group by currency, which is fine, but this mean it has to be written for every monetary fields in Odoo.

This commit adds a new `group_operator` for the monetary type, that will sum only if all the records have the same currency. The currency field is taken by calling `get_currency_field` on the monetary field.

As we only aggregate on stored field, this only works if the currency field is stored on the model.
If not, the fallback is to do the sum, as before this commit.

task-4357294
",Arnaud-Sibille,2025-01-27 09:08:41+00:00,[],2025-01-27 10:21:04+00:00,,https://github.com/odoo/odoo/pull/195213,"[('RD', 'research & development, internal work')]","[{'comment_id': 2615196649, 'issue_id': 2812451328, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195213.png)](https://mergebot.odoo.com/odoo/odoo/pull/195213)', 'created_at': datetime.datetime(2025, 1, 27, 9, 8, 43, tzinfo=datetime.timezone.utc)}, {'comment_id': 2615352491, 'issue_id': 2812451328, 'author': 'Arnaud-Sibille', 'body': ""Hello @ryv-odoo  ,\r\n\r\nThis is a follow-up of the PR in v16 I made: https://github.com/odoo/odoo/pull/191226\r\nwhere you made some comments and suggested to make it directly in master.\r\n\r\nConcerning your comments:\r\n\r\n> Only sum works, it is ok but limited. We should find a way to be more generic.\r\n\r\nFrom what I see, making it more generic would involve extanding the syntax of the\r\n`read_group` `fields` paramater\r\n(https://github.com/odoo/odoo/blob/e3db891d444f8e07f5fe24c72d896ca44ce76446/odoo/orm/models.py#L2659-L2661).\r\nfor example having `['amount:sum', 'currency_id:if_only_one&amount_currency:sum']`\r\n\r\nThat would involve adding in `READ_GROUP_AGGREGATE`:\r\n`'if_only_one': lambda table, expr: SQL('CASE WHEN COUNT(DISTINCT(%s)) == 1 THEN MAX(%s) ELSE NULL END', expr),`\r\nand create the mechanism to return the second statement only if the first one return a non null value.\r\n\r\nDon't know if that would work nicely, as I haven't explored that route yet\r\n\r\n\r\n> We can actually manage this from the webclient by asking count_distinct of the monetary (and we should enforce that the currency field is aggregable).\r\n\r\nThat would work, it would require to track the `web_read_group` calls and post-process the response each time.  I personnaly think it would be nicer to havie it by default, but if not possible, I will go that route.\r\n\r\n\r\n>NULL is actually a confusing value, it will be converted to False later in read_group if I remember correctly. And False == 0 in Python.\r\n\r\nI think it works fine in this case, `NULL` in SQL is converted to `False` in python which is converted to an empty value in the web client.\r\n\r\n\r\n\r\nI don't think my current solution is pretty, so I'm open to discussion and I can come to see you whenever you want on monday/tuesday/thursday.\r\nAnd if we decide to not have this mechanism at the framework level, I will fallback to post-process the `web_read_group` calls in the js.\r\n\r\nThanks in advance!"", 'created_at': datetime.datetime(2025, 1, 27, 10, 19, 34, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-27 09:08:43 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195213.png)](https://mergebot.odoo.com/odoo/odoo/pull/195213)

Arnaud-Sibille (Issue Creator) on (2025-01-27 10:19:34 UTC): Hello @ryv-odoo  ,

This is a follow-up of the PR in v16 I made: https://github.com/odoo/odoo/pull/191226
where you made some comments and suggested to make it directly in master.

Concerning your comments:


From what I see, making it more generic would involve extanding the syntax of the
`read_group` `fields` paramater
(https://github.com/odoo/odoo/blob/e3db891d444f8e07f5fe24c72d896ca44ce76446/odoo/orm/models.py#L2659-L2661).
for example having `['amount:sum', 'currency_id:if_only_one&amount_currency:sum']`

That would involve adding in `READ_GROUP_AGGREGATE`:
`'if_only_one': lambda table, expr: SQL('CASE WHEN COUNT(DISTINCT(%s)) == 1 THEN MAX(%s) ELSE NULL END', expr),`
and create the mechanism to return the second statement only if the first one return a non null value.

Don't know if that would work nicely, as I haven't explored that route yet



That would work, it would require to track the `web_read_group` calls and post-process the response each time.  I personnaly think it would be nicer to havie it by default, but if not possible, I will go that route.



I think it works fine in this case, `NULL` in SQL is converted to `False` in python which is converted to an empty value in the web client.



I don't think my current solution is pretty, so I'm open to discussion and I can come to see you whenever you want on monday/tuesday/thursday.
And if we decide to not have this mechanism at the framework level, I will fallback to post-process the `web_read_group` calls in the js.

Thanks in advance!

"
2812429449,pull_request,open,,"[FW][FIX] {sale_purchase_,}stock: capture accurate dest. location in forecast","**Current behavior:**
The `report.stock.quantity` view may attribute and incorrect
destination location with a move when building the report:

Specifically, it will coalesce a move's `location_dest_id` and
`location_final_id` regardless of the state of the move and
where the product qty was actually transferred to.

**Expected behavior:**
If the move is completed, the actual location of where it moved
product should be used to fill in the destination location.

**Steps to reproduce:**
1. Enable 2-step delivery

2. Create an in move for some tracked productA -> validate

3. Create a sale order for the same productA, confirm, then
validate the first picking in the chain

4. Look at the forecast for productA, observe that it has the
positive quantity from the in move furter in the past then it
should

**Cause of the issue:**
When a StockMove was completed, it's `location_final_id` was
taken over its `location_dest_id`, which meant the actual
location that the move transferred product to was not reflected
in the quantity report, meaning you could have a case as
described above where the forecast quantity becomes imbalanced
because it is not properly counting moves against would-be
offsetting ones.

**Fix:**
Don't prefer `location_final_id` when `move.state == 'done'`.

opw-4311583

Forward-Port-Of: odoo/odoo#192440",fw-bot,2025-01-27 08:58:21+00:00,[],2025-02-06 14:33:15+00:00,,https://github.com/odoo/odoo/pull/195212,"[('OE', 'the report is linked to a support ticket (opw-...)'), ('forwardport', 'This PR was created by @fw-bot'), ('conflict', 'There was an error while creating this forward-port PR')]","[{'comment_id': 2615174335, 'issue_id': 2812429449, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195212.png)](https://mergebot.odoo.com/odoo/odoo/pull/195212)', 'created_at': datetime.datetime(2025, 1, 27, 8, 58, 22, tzinfo=datetime.timezone.utc)}, {'comment_id': 2615174363, 'issue_id': 2812429449, 'author': 'fw-bot', 'body': '@ethanrobv @adwid cherrypicking of pull request odoo/odoo#192440 failed.\n\nstdout:\n```\nAuto-merging addons/sale_purchase_stock/tests/test_sale_purchase_stock_flow.py\nCONFLICT (content): Merge conflict in addons/sale_purchase_stock/tests/test_sale_purchase_stock_flow.py\n\n```\n\nEither perform the forward-port manually (and push to this branch, proceeding as usual) or close this PR (maybe?).\n\nIn the former case, you may want to edit this PR message as well.\n\n:warning: after resolving this conflict, you will need to merge it via @robodoo.\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 27, 8, 58, 23, tzinfo=datetime.timezone.utc)}, {'comment_id': 2626136916, 'issue_id': 2812429449, 'author': 'fw-bot', 'body': '@ethanrobv @adwid this forward port of odoo/odoo#192440 is awaiting action (not merged or closed).', 'created_at': datetime.datetime(2025, 1, 31, 2, 1, 59, tzinfo=datetime.timezone.utc)}, {'comment_id': 2628685303, 'issue_id': 2812429449, 'author': 'fw-bot', 'body': '@ethanrobv @adwid this forward port of odoo/odoo#192440 is awaiting action (not merged or closed).', 'created_at': datetime.datetime(2025, 2, 1, 2, 1, 33, tzinfo=datetime.timezone.utc)}, {'comment_id': 2629201892, 'issue_id': 2812429449, 'author': 'fw-bot', 'body': '@ethanrobv @adwid this forward port of odoo/odoo#192440 is awaiting action (not merged or closed).', 'created_at': datetime.datetime(2025, 2, 2, 2, 1, 47, tzinfo=datetime.timezone.utc)}, {'comment_id': 2629730676, 'issue_id': 2812429449, 'author': 'fw-bot', 'body': '@ethanrobv @adwid this forward port of odoo/odoo#192440 is awaiting action (not merged or closed).', 'created_at': datetime.datetime(2025, 2, 3, 2, 2, 52, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-27 08:58:22 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195212.png)](https://mergebot.odoo.com/odoo/odoo/pull/195212)

fw-bot (Issue Creator) on (2025-01-27 08:58:23 UTC): @ethanrobv @adwid cherrypicking of pull request odoo/odoo#192440 failed.

stdout:
```
Auto-merging addons/sale_purchase_stock/tests/test_sale_purchase_stock_flow.py
CONFLICT (content): Merge conflict in addons/sale_purchase_stock/tests/test_sale_purchase_stock_flow.py

```

Either perform the forward-port manually (and push to this branch, proceeding as usual) or close this PR (maybe?).

In the former case, you may want to edit this PR message as well.

:warning: after resolving this conflict, you will need to merge it via @robodoo.

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

fw-bot (Issue Creator) on (2025-01-31 02:01:59 UTC): @ethanrobv @adwid this forward port of odoo/odoo#192440 is awaiting action (not merged or closed).

fw-bot (Issue Creator) on (2025-02-01 02:01:33 UTC): @ethanrobv @adwid this forward port of odoo/odoo#192440 is awaiting action (not merged or closed).

fw-bot (Issue Creator) on (2025-02-02 02:01:47 UTC): @ethanrobv @adwid this forward port of odoo/odoo#192440 is awaiting action (not merged or closed).

fw-bot (Issue Creator) on (2025-02-03 02:02:52 UTC): @ethanrobv @adwid this forward port of odoo/odoo#192440 is awaiting action (not merged or closed).

"
2812428640,pull_request,closed,,[FW][FIX] portal: prevent Sign duplication in edit mode,"**Problem:**
When editing the ""Sign & Pay"" modal in customer preview for a sale
order, changes are not saved due to multiple issues:
1. Saving the signature component directly results in only the
   signature UI being saved, missing the logic and props of the
   original component.
2. If the signature component is saved with other fields, it gets
   duplicated upon saving due to `<owl-component />` behavior. This
   re-renders every saved component and mounts those passed as props,
   causing duplication and breaking functionality.
   - Reference: public_component_service.js

**Solution:**
1. Hide the signature component during editing to prevent saving its
   UI-only state, preserving its logic and props.

**Steps to Reproduce:**
1. Create a sale order.
2. Click on ""Customer Preview.""
3. Enable edit mode.
4. Open the ""Sign & Pay"" modal, modify the content, and save.
   - The signature UI duplicates

**opw-4216372**
---
I confirm I have signed the CLA and read the PR guidelines at www.odoo.com/submit-pr

Forward-Port-Of: odoo/odoo#187707",fw-bot,2025-01-27 08:57:59+00:00,[],2025-01-27 19:16:01+00:00,2025-01-27 19:16:01+00:00,https://github.com/odoo/odoo/pull/195211,"[('OE', 'the report is linked to a support ticket (opw-...)'), ('forwardport', 'This PR was created by @fw-bot')]","[{'comment_id': 2615173538, 'issue_id': 2812428640, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195211.png)](https://mergebot.odoo.com/odoo/odoo/pull/195211)', 'created_at': datetime.datetime(2025, 1, 27, 8, 58, tzinfo=datetime.timezone.utc)}, {'comment_id': 2615173567, 'issue_id': 2812428640, 'author': 'fw-bot', 'body': 'This PR targets saas-17.2 and is part of the forward-port chain. Further PRs will be created up to master.\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 27, 8, 58, 1, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-27 08:58:00 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195211.png)](https://mergebot.odoo.com/odoo/odoo/pull/195211)

fw-bot (Issue Creator) on (2025-01-27 08:58:01 UTC): This PR targets saas-17.2 and is part of the forward-port chain. Further PRs will be created up to master.

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

"
2812422219,pull_request,closed,,[FW][FIX] test_lint: fix comprehension issue when assigned,"This commit add support for comprenhension expression on assign node

Forward-Port-Of: odoo/odoo#194878",fw-bot,2025-01-27 08:54:52+00:00,[],2025-01-28 16:25:17+00:00,2025-01-28 16:25:17+00:00,https://github.com/odoo/odoo/pull/195210,"[('RD', 'research & development, internal work'), ('forwardport', 'This PR was created by @fw-bot')]","[{'comment_id': 2615166794, 'issue_id': 2812422219, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195210.png)](https://mergebot.odoo.com/odoo/odoo/pull/195210)', 'created_at': datetime.datetime(2025, 1, 27, 8, 54, 54, tzinfo=datetime.timezone.utc)}, {'comment_id': 2615166815, 'issue_id': 2812422219, 'author': 'fw-bot', 'body': 'This PR targets saas-17.4 and is part of the forward-port chain. Further PRs will be created up to master.\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 27, 8, 54, 54, tzinfo=datetime.timezone.utc)}, {'comment_id': 2615192281, 'issue_id': 2812422219, 'author': 'fw-bot', 'body': '@flvr-odoo ci/runbot failed on this forward-port PR', 'created_at': datetime.datetime(2025, 1, 27, 9, 6, 38, tzinfo=datetime.timezone.utc)}, {'comment_id': 2617539407, 'issue_id': 2812422219, 'author': 'fw-bot', 'body': '@flvr-odoo this forward port of odoo/odoo#194878 is awaiting action (not merged or closed).', 'created_at': datetime.datetime(2025, 1, 28, 2, 0, 57, tzinfo=datetime.timezone.utc)}, {'comment_id': 2618634291, 'issue_id': 2812422219, 'author': 'flvr-odoo', 'body': 'robodoo r+', 'created_at': datetime.datetime(2025, 1, 28, 10, 45, 18, tzinfo=datetime.timezone.utc)}, {'comment_id': 2618928347, 'issue_id': 2812422219, 'author': 'robodoo', 'body': '@flvr-odoo linked pull request(s) odoo/enterprise#77956 not ready. Linked PRs are not staged until all of them are ready.', 'created_at': datetime.datetime(2025, 1, 28, 12, 56, 32, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-27 08:54:54 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195210.png)](https://mergebot.odoo.com/odoo/odoo/pull/195210)

fw-bot (Issue Creator) on (2025-01-27 08:54:54 UTC): This PR targets saas-17.4 and is part of the forward-port chain. Further PRs will be created up to master.

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

fw-bot (Issue Creator) on (2025-01-27 09:06:38 UTC): @flvr-odoo ci/runbot failed on this forward-port PR

fw-bot (Issue Creator) on (2025-01-28 02:00:57 UTC): @flvr-odoo this forward port of odoo/odoo#194878 is awaiting action (not merged or closed).

flvr-odoo on (2025-01-28 10:45:18 UTC): robodoo r+

robodoo on (2025-01-28 12:56:32 UTC): @flvr-odoo linked pull request(s) odoo/enterprise#77956 not ready. Linked PRs are not staged until all of them are ready.

"
2812419536,pull_request,closed,,[FIX] html_editor: correctly position close icon on file upload notification,"**Problem**:
The close icon on the file upload notification is misplaced, appearing at the top-left instead of the expected position on the right.

Before fix:
![image](https://github.com/user-attachments/assets/206defd6-f7ff-4f17-9816-9c4450827070)

After fix:
![image](https://github.com/user-attachments/assets/fc3d84e1-821c-4c51-906b-55c057bd33ae)

**Solution**:
Adjust the button's position to appear on the right side of the notification.

**Steps to Reproduce**:
1. Open the Editor.
2. Upload a file.
3. Observe that the close button appears on the top-left instead of the right.

opw-4512322

---
I confirm I have signed the CLA and read the PR guidelines at www.odoo.com/submit-pr
",walidsahli,2025-01-27 08:53:31+00:00,[],2025-02-08 01:04:23+00:00,2025-02-08 01:04:23+00:00,https://github.com/odoo/odoo/pull/195209,"[('OE', 'the report is linked to a support ticket (opw-...)')]","[{'comment_id': 2615163856, 'issue_id': 2812419536, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195209.png)](https://mergebot.odoo.com/odoo/odoo/pull/195209)', 'created_at': datetime.datetime(2025, 1, 27, 8, 53, 34, tzinfo=datetime.timezone.utc)}, {'comment_id': 2631035070, 'issue_id': 2812419536, 'author': 'dmo-odoo', 'body': '@robodoo r+', 'created_at': datetime.datetime(2025, 2, 3, 13, 39, 28, tzinfo=datetime.timezone.utc)}, {'comment_id': 2631035266, 'issue_id': 2812419536, 'author': 'robodoo', 'body': '@dmo-odoo you may want to rebuild or fix this PR as it has failed CI.', 'created_at': datetime.datetime(2025, 2, 3, 13, 39, 33, tzinfo=datetime.timezone.utc)}, {'comment_id': 2631101218, 'issue_id': 2812419536, 'author': 'robodoo', 'body': ""@walidsahli @dmo-odoo 'ci/runbot' failed on this reviewed PR."", 'created_at': datetime.datetime(2025, 2, 3, 14, 6, 18, tzinfo=datetime.timezone.utc)}, {'comment_id': 2639239886, 'issue_id': 2812419536, 'author': 'walidsahli', 'body': '@dmo-odoo i changed class names, to not override existing classes which broke some tours.', 'created_at': datetime.datetime(2025, 2, 6, 9, 16, 31, tzinfo=datetime.timezone.utc)}, {'comment_id': 2643024442, 'issue_id': 2812419536, 'author': 'dmo-odoo', 'body': '@robodoo r+', 'created_at': datetime.datetime(2025, 2, 7, 14, 0, 31, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-27 08:53:34 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195209.png)](https://mergebot.odoo.com/odoo/odoo/pull/195209)

dmo-odoo on (2025-02-03 13:39:28 UTC): @robodoo r+

robodoo on (2025-02-03 13:39:33 UTC): @dmo-odoo you may want to rebuild or fix this PR as it has failed CI.

robodoo on (2025-02-03 14:06:18 UTC): @walidsahli @dmo-odoo 'ci/runbot' failed on this reviewed PR.

walidsahli (Issue Creator) on (2025-02-06 09:16:31 UTC): @dmo-odoo i changed class names, to not override existing classes which broke some tours.

dmo-odoo on (2025-02-07 14:00:31 UTC): @robodoo r+

"
2812412127,pull_request,open,,Master hr recruitment interface promenade,"Description of the issue/feature this PR addresses:

Current behavior before PR:

Desired behavior after PR is merged:




---
I confirm I have signed the CLA and read the PR guidelines at www.odoo.com/submit-pr
",abdelrahmankhaledg,2025-01-27 08:49:47+00:00,[],2025-02-05 14:11:19+00:00,,https://github.com/odoo/odoo/pull/195208,"[('RD', 'research & development, internal work')]","[{'comment_id': 2615155956, 'issue_id': 2812412127, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195208.png)](https://mergebot.odoo.com/odoo/odoo/pull/195208)', 'created_at': datetime.datetime(2025, 1, 27, 8, 49, 50, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-27 08:49:50 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195208.png)](https://mergebot.odoo.com/odoo/odoo/pull/195208)

"
2812411284,pull_request,open,,[IMP] html_editor: custom selection for separator,"**Description of the issue/feature this PR addresses:**

- Selecting a separator didn’t apply any visual highlight, unlike text which was highlighted upon selection.
  Current behavior before PR:

**Desired behavior after PR is merged:**

-  A custom highlight is now applied when a separator is selected, ensuring it behaves like a text selection.

task:3332560",dhba-odoo,2025-01-27 08:49:21+00:00,[],2025-02-04 13:28:45+00:00,,https://github.com/odoo/odoo/pull/195207,"[('RD', 'research & development, internal work')]","[{'comment_id': 2615155095, 'issue_id': 2812411284, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195207.png)](https://mergebot.odoo.com/odoo/odoo/pull/195207)', 'created_at': datetime.datetime(2025, 1, 27, 8, 49, 25, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-27 08:49:25 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195207.png)](https://mergebot.odoo.com/odoo/odoo/pull/195207)

"
2812397623,pull_request,closed,,[FW][FIX] auth_oauth: ensure werkzeug 3 compatibility,"Description of the issue/feature this PR addresses:
The method werkzeug.http.parse_www_authenticate_header has been removed in werkzeug 3 and later. This causes an issue in Odoo when using python 3.12, as the requirements.txt specifies werkzeug 3.0.1. This results in a misleading error stating that auth_signup is not installed on the database when authenticating a new user with an OAuth provider.

Current behavior before PR:
When attempting to authenticate a new user with an OAuth provider in Odoo using Python 3.12, the method werkzeug.http.parse_www_authenticate_header is called. Since this method is removed in Werkzeug 3.0.1, a misleading error message about auth_signup not being installed on the database is displayed.

Desired behavior after PR is merged:
The code will use WWWAuthenticate.from_header for parsing the WWW-Authenticate header if available, otherwise, it will fall back to using werkzeug.http.parse_www_authenticate_header for compatibility with older versions of Werkzeug (2.0 and 2.2). The misleading error message will no longer appear, and OAuth authentication will work as expected.

Fixes #194002


---
I confirm I have signed the CLA and read the PR guidelines at www.odoo.com/submit-pr

Forward-Port-Of: odoo/odoo#194484",fw-bot,2025-01-27 08:42:18+00:00,[],2025-01-27 20:58:24+00:00,2025-01-27 20:58:22+00:00,https://github.com/odoo/odoo/pull/195206,"[('RD', 'research & development, internal work'), ('forwardport', 'This PR was created by @fw-bot'), ('18.2', None)]","[{'comment_id': 2615140780, 'issue_id': 2812397623, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195206.png)](https://mergebot.odoo.com/odoo/odoo/pull/195206)', 'created_at': datetime.datetime(2025, 1, 27, 8, 42, 20, tzinfo=datetime.timezone.utc)}, {'comment_id': 2615140793, 'issue_id': 2812397623, 'author': 'fw-bot', 'body': '@0yik @xmo-odoo this PR targets master and is the last of the forward-port chain containing:\n* odoo/odoo#194607\n* odoo/odoo#194586\n* odoo/odoo#194561\n* odoo/odoo#194537\n\nTo merge the full chain, use\n> @robodoo r+\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 27, 8, 42, 20, tzinfo=datetime.timezone.utc)}, {'comment_id': 2615159636, 'issue_id': 2812397623, 'author': 'xmo-odoo', 'body': '@robodoo r+', 'created_at': datetime.datetime(2025, 1, 27, 8, 51, 35, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-27 08:42:20 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195206.png)](https://mergebot.odoo.com/odoo/odoo/pull/195206)

fw-bot (Issue Creator) on (2025-01-27 08:42:20 UTC): @0yik @xmo-odoo this PR targets master and is the last of the forward-port chain containing:
* odoo/odoo#194607
* odoo/odoo#194586
* odoo/odoo#194561
* odoo/odoo#194537

To merge the full chain, use

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

xmo-odoo on (2025-01-27 08:51:35 UTC): @robodoo r+

"
2812370401,pull_request,closed,,[FW][17.0][FIX] mail: Render message actions correctly with component,"**Description of the issue/feature this PR addresses:**
When a custom module (e.g., [OCA/social#1536](https://github.com/OCA/social/pull/1536)) adds a new message action using `component` (previously named `callComponent`), it is not invoked in certain scenarios.

**Current behavior before PR:**

Currently, Odoo only renders the custom component for quick actions. However, the remaining actions, rendered as DropdownItem, do not invoke the custom component.

**Desired behavior after PR is merged:**

This commit ensures consistent rendering behavior, invoking the `component` for all actions, whether quick actions or dropdown items.

Complementary to: https://github.com/odoo/odoo/pull/131426


@phenix-factory @alexkuhn coud you please review this?

CC @pedrobaeza @chienandalu 

---
I confirm I have signed the CLA and read the PR guidelines at www.odoo.com/submit-pr

Forward-Port-Of: odoo/odoo#195185
Forward-Port-Of: odoo/odoo#194643",fw-bot,2025-01-27 08:28:03+00:00,[],2025-01-27 23:00:07+00:00,2025-01-27 20:58:27+00:00,https://github.com/odoo/odoo/pull/195205,"[('RD', 'research & development, internal work'), ('forwardport', 'This PR was created by @fw-bot'), ('18.2', None)]","[{'comment_id': 2615112438, 'issue_id': 2812370401, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195205.png)](https://mergebot.odoo.com/odoo/odoo/pull/195205)', 'created_at': datetime.datetime(2025, 1, 27, 8, 28, 6, tzinfo=datetime.timezone.utc)}, {'comment_id': 2615112514, 'issue_id': 2812370401, 'author': 'fw-bot', 'body': '@celm1990 @alexkuhn this PR targets master and is the last of the forward-port chain containing:\n* odoo/odoo#195189\n\nTo merge the full chain, use\n> @robodoo r+\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 27, 8, 28, 9, tzinfo=datetime.timezone.utc)}, {'comment_id': 2615339287, 'issue_id': 2812370401, 'author': 'alexkuhn', 'body': '@robodoo r+', 'created_at': datetime.datetime(2025, 1, 27, 10, 13, 41, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-27 08:28:06 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195205.png)](https://mergebot.odoo.com/odoo/odoo/pull/195205)

fw-bot (Issue Creator) on (2025-01-27 08:28:09 UTC): @celm1990 @alexkuhn this PR targets master and is the last of the forward-port chain containing:
* odoo/odoo#195189

To merge the full chain, use

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

alexkuhn on (2025-01-27 10:13:41 UTC): @robodoo r+

"
2812365727,pull_request,closed,,[FW][FIX] website: fix unable to enter edit mode on old browsers,"Since commit [1], we added a selector using the "":has"" pseudo-class in the template that defines where ""inner content"" blocks can be dropped. It is no longer possible to enter edit mode (a traceback occurs) starting from Odoo version 18.0 and in browsers older than Chrome 112 or Firefox 121.

This bug happens because the same selector, used by jQuery, combines both the "":has"" pseudo-class and the "":is"" pseudo-class (this "":is"" pseudo-class was introduced into the same selector by commit [2] starting from Odoo version 18.0). This is not compatible with the older browsers mentioned above.

The bug only appears in version 18. However, we already fixed this in 16.0 in case potential customizations had added the "":is"" pseudo-class to the same selector.

[1]: https://github.com/odoo/odoo/commit/65a85009800dfa45526ebdc41d3a0a808b2e9f6d
[2]: https://github.com/odoo/odoo/commit/e0fc83760f991fa2fea39763bb2709d9e0182316

opw-4494945

Forward-Port-Of: odoo/odoo#194908
Forward-Port-Of: odoo/odoo#194676",fw-bot,2025-01-27 08:25:31+00:00,[],2025-02-05 15:20:11+00:00,2025-02-05 15:20:10+00:00,https://github.com/odoo/odoo/pull/195204,"[('OE', 'the report is linked to a support ticket (opw-...)'), ('forwardport', 'This PR was created by @fw-bot'), ('conflict', 'There was an error while creating this forward-port PR'), ('18.2', None)]","[{'comment_id': 2615107463, 'issue_id': 2812365727, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195204.png)](https://mergebot.odoo.com/odoo/odoo/pull/195204)', 'created_at': datetime.datetime(2025, 1, 27, 8, 25, 32, tzinfo=datetime.timezone.utc)}, {'comment_id': 2615107528, 'issue_id': 2812365727, 'author': 'fw-bot', 'body': '@bvr-odoo @qsm-odoo cherrypicking of pull request odoo/odoo#194676 failed.\n\nstdout:\n```\nAuto-merging addons/website/static/src/js/editor/snippets.editor.js\nCONFLICT (content): Merge conflict in addons/website/static/src/js/editor/snippets.editor.js\n\n```\n\nEither perform the forward-port manually (and push to this branch, proceeding as usual) or close this PR (maybe?).\n\nIn the former case, you may want to edit this PR message as well.\n\n:warning: after resolving this conflict, you will need to merge it via @robodoo.\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 27, 8, 25, 34, tzinfo=datetime.timezone.utc)}, {'comment_id': 2617539916, 'issue_id': 2812365727, 'author': 'fw-bot', 'body': '@bvr-odoo @qsm-odoo this forward port of odoo/odoo#194676 is awaiting action (not merged or closed).', 'created_at': datetime.datetime(2025, 1, 28, 2, 1, 5, tzinfo=datetime.timezone.utc)}, {'comment_id': 2620471097, 'issue_id': 2812365727, 'author': 'fw-bot', 'body': '@bvr-odoo @qsm-odoo this forward port of odoo/odoo#194676 is awaiting action (not merged or closed).', 'created_at': datetime.datetime(2025, 1, 29, 2, 0, 50, tzinfo=datetime.timezone.utc)}, {'comment_id': 2623354036, 'issue_id': 2812365727, 'author': 'fw-bot', 'body': '@bvr-odoo @qsm-odoo this forward port of odoo/odoo#194676 is awaiting action (not merged or closed).', 'created_at': datetime.datetime(2025, 1, 30, 2, 1, 46, tzinfo=datetime.timezone.utc)}, {'comment_id': 2626136232, 'issue_id': 2812365727, 'author': 'fw-bot', 'body': '@bvr-odoo @qsm-odoo this forward port of odoo/odoo#194676 is awaiting action (not merged or closed).', 'created_at': datetime.datetime(2025, 1, 31, 2, 1, 44, tzinfo=datetime.timezone.utc)}, {'comment_id': 2628684975, 'issue_id': 2812365727, 'author': 'fw-bot', 'body': '@bvr-odoo @qsm-odoo this forward port of odoo/odoo#194676 is awaiting action (not merged or closed).', 'created_at': datetime.datetime(2025, 2, 1, 2, 1, 14, tzinfo=datetime.timezone.utc)}, {'comment_id': 2629201708, 'issue_id': 2812365727, 'author': 'fw-bot', 'body': '@bvr-odoo @qsm-odoo this forward port of odoo/odoo#194676 is awaiting action (not merged or closed).', 'created_at': datetime.datetime(2025, 2, 2, 2, 1, 24, tzinfo=datetime.timezone.utc)}, {'comment_id': 2636798004, 'issue_id': 2812365727, 'author': 'bvr-odoo', 'body': '@robodoo r+', 'created_at': datetime.datetime(2025, 2, 5, 13, 1, 39, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-27 08:25:32 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195204.png)](https://mergebot.odoo.com/odoo/odoo/pull/195204)

fw-bot (Issue Creator) on (2025-01-27 08:25:34 UTC): @bvr-odoo @qsm-odoo cherrypicking of pull request odoo/odoo#194676 failed.

stdout:
```
Auto-merging addons/website/static/src/js/editor/snippets.editor.js
CONFLICT (content): Merge conflict in addons/website/static/src/js/editor/snippets.editor.js

```

Either perform the forward-port manually (and push to this branch, proceeding as usual) or close this PR (maybe?).

In the former case, you may want to edit this PR message as well.

:warning: after resolving this conflict, you will need to merge it via @robodoo.

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

fw-bot (Issue Creator) on (2025-01-28 02:01:05 UTC): @bvr-odoo @qsm-odoo this forward port of odoo/odoo#194676 is awaiting action (not merged or closed).

fw-bot (Issue Creator) on (2025-01-29 02:00:50 UTC): @bvr-odoo @qsm-odoo this forward port of odoo/odoo#194676 is awaiting action (not merged or closed).

fw-bot (Issue Creator) on (2025-01-30 02:01:46 UTC): @bvr-odoo @qsm-odoo this forward port of odoo/odoo#194676 is awaiting action (not merged or closed).

fw-bot (Issue Creator) on (2025-01-31 02:01:44 UTC): @bvr-odoo @qsm-odoo this forward port of odoo/odoo#194676 is awaiting action (not merged or closed).

fw-bot (Issue Creator) on (2025-02-01 02:01:14 UTC): @bvr-odoo @qsm-odoo this forward port of odoo/odoo#194676 is awaiting action (not merged or closed).

fw-bot (Issue Creator) on (2025-02-02 02:01:24 UTC): @bvr-odoo @qsm-odoo this forward port of odoo/odoo#194676 is awaiting action (not merged or closed).

bvr-odoo on (2025-02-05 13:01:39 UTC): @robodoo r+

"
2812345864,pull_request,closed,,[IMP] core: onchange should compute fields without dependencies,"When creating a new record from a form view, a computed field without dependencies will be initialized to `False` instead of being computed.  We simply make sure that such a field is computed instead.",rco-odoo,2025-01-27 08:14:30+00:00,[],2025-02-06 16:54:28+00:00,2025-02-06 16:54:28+00:00,https://github.com/odoo/odoo/pull/195203,"[('RD', 'research & development, internal work'), ('18.2', None)]","[{'comment_id': 2615086935, 'issue_id': 2812345864, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195203.png)](https://mergebot.odoo.com/odoo/odoo/pull/195203)', 'created_at': datetime.datetime(2025, 1, 27, 8, 14, 33, tzinfo=datetime.timezone.utc)}, {'comment_id': 2615305495, 'issue_id': 2812345864, 'author': 'Feyensv', 'body': ""Care to explain what you're trying to improve/fix here please :pray: ?"", 'created_at': datetime.datetime(2025, 1, 27, 9, 58, 49, tzinfo=datetime.timezone.utc)}, {'comment_id': 2615662118, 'issue_id': 2812345864, 'author': 'Gorash', 'body': ""@Feyensv When open a form view on new record (in create mode), computes that don't have depends return false (from the onchange). There is no value (unless you put them in default or add an unnecessary dependency). In write mode on an existing record, computes correctly return the result."", 'created_at': datetime.datetime(2025, 1, 27, 12, 43, 14, tzinfo=datetime.timezone.utc)}, {'comment_id': 2615799716, 'issue_id': 2812345864, 'author': 'Feyensv', 'body': ""> When open a form view on new record (in create mode), computes that don't have depends return false (from the onchange). There is no value (unless you put them in default or add an unnecessary dependency). In write mode on an existing record, computes correctly return the result.\r\n\r\nIndeed, it has been a problem for some time, glad to know that we won't need to add dumb dependencies anymore then :partying_face:"", 'created_at': datetime.datetime(2025, 1, 27, 13, 43, 23, tzinfo=datetime.timezone.utc)}, {'comment_id': 2619484281, 'issue_id': 2812345864, 'author': 'rco-odoo', 'body': '@ryv-odoo I changed the implementation, following your suggestion.  Can you review it again?', 'created_at': datetime.datetime(2025, 1, 28, 16, 25, 38, tzinfo=datetime.timezone.utc)}, {'comment_id': 2639796027, 'issue_id': 2812345864, 'author': 'rco-odoo', 'body': '@robodoo r+', 'created_at': datetime.datetime(2025, 2, 6, 13, 13, 30, tzinfo=datetime.timezone.utc)}, {'comment_id': 2639796169, 'issue_id': 2812345864, 'author': 'robodoo', 'body': '@rco-odoo because this PR has multiple commits, I need to know how to merge it:\n\n* `merge` to merge directly, using the PR as merge commit message\n* `rebase-merge` to rebase and merge, using the PR as merge commit message\n* `rebase-ff` to rebase and fast-forward', 'created_at': datetime.datetime(2025, 2, 6, 13, 13, 34, tzinfo=datetime.timezone.utc)}, {'comment_id': 2639913622, 'issue_id': 2812345864, 'author': 'rco-odoo', 'body': '@robodoo rebase-ff', 'created_at': datetime.datetime(2025, 2, 6, 14, 1, 35, tzinfo=datetime.timezone.utc)}, {'comment_id': 2639913723, 'issue_id': 2812345864, 'author': 'robodoo', 'body': 'Merge method set to rebase and fast-forward.', 'created_at': datetime.datetime(2025, 2, 6, 14, 1, 37, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-27 08:14:33 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195203.png)](https://mergebot.odoo.com/odoo/odoo/pull/195203)

Feyensv on (2025-01-27 09:58:49 UTC): Care to explain what you're trying to improve/fix here please :pray: ?

Gorash on (2025-01-27 12:43:14 UTC): @Feyensv When open a form view on new record (in create mode), computes that don't have depends return false (from the onchange). There is no value (unless you put them in default or add an unnecessary dependency). In write mode on an existing record, computes correctly return the result.

Feyensv on (2025-01-27 13:43:23 UTC): Indeed, it has been a problem for some time, glad to know that we won't need to add dumb dependencies anymore then :partying_face:

rco-odoo (Issue Creator) on (2025-01-28 16:25:38 UTC): @ryv-odoo I changed the implementation, following your suggestion.  Can you review it again?

rco-odoo (Issue Creator) on (2025-02-06 13:13:30 UTC): @robodoo r+

robodoo on (2025-02-06 13:13:34 UTC): @rco-odoo because this PR has multiple commits, I need to know how to merge it:

* `merge` to merge directly, using the PR as merge commit message
* `rebase-merge` to rebase and merge, using the PR as merge commit message
* `rebase-ff` to rebase and fast-forward

rco-odoo (Issue Creator) on (2025-02-06 14:01:35 UTC): @robodoo rebase-ff

robodoo on (2025-02-06 14:01:37 UTC): Merge method set to rebase and fast-forward.

"
2812296870,pull_request,closed,,[FW][FIX] loyalty: fix expiration date condition,"Steps:
- Install sale app.
- Enable Loyalty settings.
- Try to create a card on a loyalty.

Issue:
- Giving validation error.

Casue:
- In [PR] forgot to check expiration_date set or not before raise an error.

Fix:
- Added condition to check if expiration_date set or not on card before raising an error.

[PR]: https://github.com/odoo/odoo/pull/171453

opw-4492179
opw-4490587
opw-4504188
opw-4495530

Forward-Port-Of: odoo/odoo#194928
Forward-Port-Of: odoo/odoo#194785",fw-bot,2025-01-27 07:45:15+00:00,[],2025-01-27 14:21:36+00:00,2025-01-27 14:21:36+00:00,https://github.com/odoo/odoo/pull/195202,"[('OE', 'the report is linked to a support ticket (opw-...)'), ('forwardport', 'This PR was created by @fw-bot'), ('conflict', 'There was an error while creating this forward-port PR')]","[{'comment_id': 2615038347, 'issue_id': 2812296870, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195202.png)](https://mergebot.odoo.com/odoo/odoo/pull/195202)', 'created_at': datetime.datetime(2025, 1, 27, 7, 45, 16, tzinfo=datetime.timezone.utc)}, {'comment_id': 2615038368, 'issue_id': 2812296870, 'author': 'fw-bot', 'body': '@kcv-odoo @Demesmaeker cherrypicking of pull request odoo/odoo#194785 failed.\n\nstdout:\n```\nAuto-merging addons/pos_loyalty/models/pos_order.py\nAuto-merging addons/pos_loyalty/static/src/overrides/components/payment_screen/payment_screen.js\nCONFLICT (content): Merge conflict in addons/pos_loyalty/static/src/overrides/components/payment_screen/payment_screen.js\n\n```\n\nEither perform the forward-port manually (and push to this branch, proceeding as usual) or close this PR (maybe?).\n\nIn the former case, you may want to edit this PR message as well.\n\n:warning: after resolving this conflict, you will need to merge it via @robodoo.\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 27, 7, 45, 17, tzinfo=datetime.timezone.utc)}, {'comment_id': 2615169150, 'issue_id': 2812296870, 'author': 'kcv-odoo', 'body': '@robodoo r+', 'created_at': datetime.datetime(2025, 1, 27, 8, 55, 56, tzinfo=datetime.timezone.utc)}, {'comment_id': 2615220393, 'issue_id': 2812296870, 'author': 'robodoo', 'body': ""@kcv-odoo @Demesmaeker 'ci/runbot' failed on this reviewed PR."", 'created_at': datetime.datetime(2025, 1, 27, 9, 19, 48, tzinfo=datetime.timezone.utc)}, {'comment_id': 2615502542, 'issue_id': 2812296870, 'author': 'kcv-odoo', 'body': '@robodoo r+', 'created_at': datetime.datetime(2025, 1, 27, 11, 27, 59, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-27 07:45:16 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195202.png)](https://mergebot.odoo.com/odoo/odoo/pull/195202)

fw-bot (Issue Creator) on (2025-01-27 07:45:17 UTC): @kcv-odoo @Demesmaeker cherrypicking of pull request odoo/odoo#194785 failed.

stdout:
```
Auto-merging addons/pos_loyalty/models/pos_order.py
Auto-merging addons/pos_loyalty/static/src/overrides/components/payment_screen/payment_screen.js
CONFLICT (content): Merge conflict in addons/pos_loyalty/static/src/overrides/components/payment_screen/payment_screen.js

```

Either perform the forward-port manually (and push to this branch, proceeding as usual) or close this PR (maybe?).

In the former case, you may want to edit this PR message as well.

:warning: after resolving this conflict, you will need to merge it via @robodoo.

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

kcv-odoo on (2025-01-27 08:55:56 UTC): @robodoo r+

robodoo on (2025-01-27 09:19:48 UTC): @kcv-odoo @Demesmaeker 'ci/runbot' failed on this reviewed PR.

kcv-odoo on (2025-01-27 11:27:59 UTC): @robodoo r+

"
2812172714,pull_request,closed,,Master resize observer error fix aab,"Description of the issue/feature this PR addresses:

Current behavior before PR:

Desired behavior after PR is merged:




---
I confirm I have signed the CLA and read the PR guidelines at www.odoo.com/submit-pr
",aab-odoo,2025-01-27 06:18:44+00:00,[],2025-01-28 02:59:42+00:00,2025-01-28 02:59:42+00:00,https://github.com/odoo/odoo/pull/195200,"[('RD', 'research & development, internal work'), ('18.2', None)]","[{'comment_id': 2614928729, 'issue_id': 2812172714, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195200.png)](https://mergebot.odoo.com/odoo/odoo/pull/195200)', 'created_at': datetime.datetime(2025, 1, 27, 6, 18, 47, tzinfo=datetime.timezone.utc)}, {'comment_id': 2616115052, 'issue_id': 2812172714, 'author': 'kebeclibre', 'body': 'allez, vooruit!\r\nrobodoo rebase-ff r+ delegate+', 'created_at': datetime.datetime(2025, 1, 27, 15, 45, 26, tzinfo=datetime.timezone.utc)}, {'comment_id': 2616115180, 'issue_id': 2812172714, 'author': 'robodoo', 'body': 'Merge method set to rebase and fast-forward.', 'created_at': datetime.datetime(2025, 1, 27, 15, 45, 29, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-27 06:18:47 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195200.png)](https://mergebot.odoo.com/odoo/odoo/pull/195200)

kebeclibre on (2025-01-27 15:45:26 UTC): allez, vooruit!
robodoo rebase-ff r+ delegate+

robodoo on (2025-01-27 15:45:29 UTC): Merge method set to rebase and fast-forward.

"
2812152436,pull_request,open,,[IMP] hr_recruitment: rearrange the attachments on the demo data,"In this PR, the demo data for the attachments has been rearranged
so that we don't need to create it for the application.
Also, it will be disabled from the OCR in the candidate model.

Task-4438455

",yava-odoo,2025-01-27 06:02:40+00:00,[],2025-01-27 07:00:12+00:00,,https://github.com/odoo/odoo/pull/195199,"[('RD', 'research & development, internal work')]","[{'comment_id': 2614910543, 'issue_id': 2812152436, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195199.png)](https://mergebot.odoo.com/odoo/odoo/pull/195199)', 'created_at': datetime.datetime(2025, 1, 27, 6, 2, 43, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-27 06:02:43 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195199.png)](https://mergebot.odoo.com/odoo/odoo/pull/195199)

"
2812147126,pull_request,open,,[ADD] l10n_uy_website_sale: add Ecommerce module for Uruguay,"This PR add Ecommerce related bridge module for Uruguay
country to add Uruguay related field in address checkout
form and `my/account` page.

task-3628329",kcv-odoo,2025-01-27 05:58:21+00:00,[],2025-02-04 06:56:27+00:00,,https://github.com/odoo/odoo/pull/195198,"[('RD', 'research & development, internal work')]","[{'comment_id': 2614905720, 'issue_id': 2812147126, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195198.png)](https://mergebot.odoo.com/odoo/odoo/pull/195198)', 'created_at': datetime.datetime(2025, 1, 27, 5, 58, 23, tzinfo=datetime.timezone.utc)}, {'comment_id': 2618019934, 'issue_id': 2812147126, 'author': 'kcv-odoo', 'body': 'Hello @fvz-odoo \r\n\r\nSet CI as default ID type for Uruguay localisation.\r\n\r\nHave nice day!', 'created_at': datetime.datetime(2025, 1, 28, 6, 24, 13, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-27 05:58:23 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195198.png)](https://mergebot.odoo.com/odoo/odoo/pull/195198)

kcv-odoo (Issue Creator) on (2025-01-28 06:24:13 UTC): Hello @fvz-odoo 

Set CI as default ID type for Uruguay localisation.

Have nice day!

"
2812142322,pull_request,closed,,[FIX] web: form tests: fix non deterministic tests,"Those tests are sometimes failing since [1]. This commit is essentially a partial backport of [2], from the hoot suite to the qunit one. The other suites changed in [2] were already fixed in this version.

[1] odoo/odoo#189147
[2] odoo/odoo#190157

runbot issue-109694

Description of the issue/feature this PR addresses:

Current behavior before PR:

Desired behavior after PR is merged:




---
I confirm I have signed the CLA and read the PR guidelines at www.odoo.com/submit-pr
",aab-odoo,2025-01-27 05:54:04+00:00,[],2025-01-27 10:27:01+00:00,2025-01-27 10:27:01+00:00,https://github.com/odoo/odoo/pull/195197,"[('RD', 'research & development, internal work')]","[{'comment_id': 2614901598, 'issue_id': 2812142322, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195197.png)](https://mergebot.odoo.com/odoo/odoo/pull/195197)', 'created_at': datetime.datetime(2025, 1, 27, 5, 54, 6, tzinfo=datetime.timezone.utc)}, {'comment_id': 2615048322, 'issue_id': 2812142322, 'author': 'pipu-odoo', 'body': 'LGTM !', 'created_at': datetime.datetime(2025, 1, 27, 7, 52, 7, tzinfo=datetime.timezone.utc)}, {'comment_id': 2615048481, 'issue_id': 2812142322, 'author': 'pipu-odoo', 'body': '@robodoo r+', 'created_at': datetime.datetime(2025, 1, 27, 7, 52, 12, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-27 05:54:06 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195197.png)](https://mergebot.odoo.com/odoo/odoo/pull/195197)

pipu-odoo on (2025-01-27 07:52:07 UTC): LGTM !

pipu-odoo on (2025-01-27 07:52:12 UTC): @robodoo r+

"
2812095516,pull_request,closed,,"[IMP] pos, pos_restaurant: use pos config name as prefix for session names","Before this commit:
- Session names were always prefixed with `POS`.

After this commit:
- Session names are now prefixed with the corresponding POS configuration name, making them more descriptive.
- For example:
  - `Furniture Shop/00001`
  - `Restaurant/00002`

Task: 4512713

",parp-odoo,2025-01-27 05:09:45+00:00,[],2025-02-07 16:48:06+00:00,2025-02-07 16:48:06+00:00,https://github.com/odoo/odoo/pull/195196,"[('RD', 'research & development, internal work'), ('18.2', None)]","[{'comment_id': 2614860577, 'issue_id': 2812095516, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195196.png)](https://mergebot.odoo.com/odoo/odoo/pull/195196)', 'created_at': datetime.datetime(2025, 1, 27, 5, 9, 49, tzinfo=datetime.timezone.utc)}, {'comment_id': 2642941781, 'issue_id': 2812095516, 'author': 'davidmonnom', 'body': '@robodoo r+', 'created_at': datetime.datetime(2025, 2, 7, 13, 30, 8, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-27 05:09:49 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195196.png)](https://mergebot.odoo.com/odoo/odoo/pull/195196)

davidmonnom on (2025-02-07 13:30:08 UTC): @robodoo r+

"
2812084810,pull_request,open,,[IMP] web: minimize address bar on scroll in iOS Safari,"On iOS Safari, the address bar doesn't minimize when scrolling, which reduces the usable screen space and impacts user experience. This commit addresses the issue by adjusting the CSS to ensure the address bar minimizes when the user begins to scroll.

Changes:
- Modified `html, body, #wrapwrap` selector to `html, body, `#wrapwrap:not(.o_safari_browser)` to allow proper scrolling behavior.
- Added `min-height: 100%` and `width: 100%` properties to `#wrapwrap` when it has the class `o_safari_browser`.
- Applied `overflow: hidden !important` to `.modal-open #wrapwrap` to ensure the overflow is hidden when a modal is open.
- Updated the `@media screen` block to apply `overflow: hidden` to `html` and `body` only when `#wrapwrap` does not have the class `o_safari_browser`.
- Ensured `#wrapwrap` has `overflow: auto` when it does not have the class `o_safari_browser`.

This change enhances the content visibility and reduces distractions for users on iOS Safari.

task-4177998",shsa-odoo,2025-01-27 04:59:35+00:00,[],2025-01-27 05:00:11+00:00,,https://github.com/odoo/odoo/pull/195195,"[('RD', 'research & development, internal work')]","[{'comment_id': 2614851404, 'issue_id': 2812084810, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195195.png)](https://mergebot.odoo.com/odoo/odoo/pull/195195)', 'created_at': datetime.datetime(2025, 1, 27, 4, 59, 37, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-27 04:59:37 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195195.png)](https://mergebot.odoo.com/odoo/odoo/pull/195195)

"
2812072173,pull_request,open,,[FIX] point_of_sale: payment update not reflected on backend after return,"Before this commit:
==========
- When the user returns to the payment screen from the floor screen and updates the payment line, the changes are not reflected in the backend.

After this commit:
==========
- Payment line changes will reflect in the backend after returning to the payment screen.

task- 4512036
",paan-odoo,2025-01-27 04:46:20+00:00,[],2025-01-27 05:00:12+00:00,,https://github.com/odoo/odoo/pull/195194,"[('RD', 'research & development, internal work')]","[{'comment_id': 2614840389, 'issue_id': 2812072173, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195194.png)](https://mergebot.odoo.com/odoo/odoo/pull/195194)', 'created_at': datetime.datetime(2025, 1, 27, 4, 46, 24, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-27 04:46:24 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195194.png)](https://mergebot.odoo.com/odoo/odoo/pull/195194)

"
2811884671,pull_request,closed,,[FIX] point_of_sale: handle CLOSING_SESSION notification,check commit message for description.,caburj,2025-01-27 00:46:16+00:00,[],2025-01-27 18:24:37+00:00,2025-01-27 18:24:37+00:00,https://github.com/odoo/odoo/pull/195193,"[('RD', 'research & development, internal work')]","[{'comment_id': 2614670027, 'issue_id': 2811884671, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195193.png)](https://mergebot.odoo.com/odoo/odoo/pull/195193)', 'created_at': datetime.datetime(2025, 1, 27, 0, 46, 19, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-27 00:46:19 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195193.png)](https://mergebot.odoo.com/odoo/odoo/pull/195193)

"
2811801635,pull_request,open,,"[REF] mrp,stock: refactor stock tests","Description of the issue/feature this PR addresses:

Current behavior before PR:

Desired behavior after PR is merged:




---
I confirm I have signed the CLA and read the PR guidelines at www.odoo.com/submit-pr
",pfertyk,2025-01-26 21:39:02+00:00,[],2025-02-06 15:02:54+00:00,,https://github.com/odoo/odoo/pull/195192,"[('RD', 'research & development, internal work')]","[{'comment_id': 2614601561, 'issue_id': 2811801635, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195192.png)](https://mergebot.odoo.com/odoo/odoo/pull/195192)', 'created_at': datetime.datetime(2025, 1, 26, 21, 39, 5, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-26 21:39:05 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195192.png)](https://mergebot.odoo.com/odoo/odoo/pull/195192)

"
2811754916,pull_request,closed,,[FW][FIX] mail: mentions in channel threads respect channel group,"Follow-up of https://github.com/odoo/odoo/pull/176758

Commit above adds elligible partners in `@` mention suggestions, when the channel is restricted.

However, channel threads could mention anyone, which is unintended.

Steps to reproduce:
- open a restricted channel, e.g. `#general`
- open or make a sub-thread on this channel
- type `@` in composer

=> non-internal users are shows in suggestion list.

This happens because when the channel is restricted, this limits the amount of partners in the mention list. Problem is that channel threads do not set their `group_public_id`, and instead the parent value should be checked. This was not taken into account, which lead to unrestricted list of suggestions in these channels.

This commit fixes the issue by checking the parent channel `group_public_id` for listing the elligible people that can be mentioned.

Before
![Screenshot 2025-01-24 at 15 11 23](https://github.com/user-attachments/assets/fe4ff3ad-b223-439a-bf0a-61dd3a85523f)

After
![Screenshot 2025-01-24 at 15 10 50](https://github.com/user-attachments/assets/ac75d0af-d13b-4a5c-9b7d-aa7fe16c5792)

Forward-Port-Of: odoo/odoo#195064",fw-bot,2025-01-26 19:48:35+00:00,[],2025-01-29 10:11:18+00:00,2025-01-29 05:32:40+00:00,https://github.com/odoo/odoo/pull/195191,"[('RD', 'research & development, internal work'), ('forwardport', 'This PR was created by @fw-bot'), ('conflict', 'There was an error while creating this forward-port PR')]","[{'comment_id': 2614566798, 'issue_id': 2811754916, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195191.png)](https://mergebot.odoo.com/odoo/odoo/pull/195191)', 'created_at': datetime.datetime(2025, 1, 26, 19, 48, 37, tzinfo=datetime.timezone.utc)}, {'comment_id': 2614566803, 'issue_id': 2811754916, 'author': 'fw-bot', 'body': '@alexkuhn cherrypicking of pull request odoo/odoo#195064 failed.\n\nstdout:\n```\nAuto-merging addons/mail/models/discuss/res_partner.py\nCONFLICT (content): Merge conflict in addons/mail/models/discuss/res_partner.py\nAuto-merging addons/mail/static/src/core/common/suggestion_service.js\nAuto-merging addons/mail/static/tests/discuss/core/public_web/sub_channels.test.js\nCONFLICT (content): Merge conflict in addons/mail/static/tests/discuss/core/public_web/sub_channels.test.js\nAuto-merging addons/mail/static/tests/mock_server/mock_models/res_partner.js\n\n```\n\nEither perform the forward-port manually (and push to this branch, proceeding as usual) or close this PR (maybe?).\n\nIn the former case, you may want to edit this PR message as well.\n\n:warning: after resolving this conflict, you will need to merge it via @robodoo.\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 26, 19, 48, 37, tzinfo=datetime.timezone.utc)}, {'comment_id': 2620347585, 'issue_id': 2811754916, 'author': 'alexkuhn', 'body': '@robodoo r+', 'created_at': datetime.datetime(2025, 1, 29, 0, 43, 44, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-26 19:48:37 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195191.png)](https://mergebot.odoo.com/odoo/odoo/pull/195191)

fw-bot (Issue Creator) on (2025-01-26 19:48:37 UTC): @alexkuhn cherrypicking of pull request odoo/odoo#195064 failed.

stdout:
```
Auto-merging addons/mail/models/discuss/res_partner.py
CONFLICT (content): Merge conflict in addons/mail/models/discuss/res_partner.py
Auto-merging addons/mail/static/src/core/common/suggestion_service.js
Auto-merging addons/mail/static/tests/discuss/core/public_web/sub_channels.test.js
CONFLICT (content): Merge conflict in addons/mail/static/tests/discuss/core/public_web/sub_channels.test.js
Auto-merging addons/mail/static/tests/mock_server/mock_models/res_partner.js

```

Either perform the forward-port manually (and push to this branch, proceeding as usual) or close this PR (maybe?).

In the former case, you may want to edit this PR message as well.

:warning: after resolving this conflict, you will need to merge it via @robodoo.

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

alexkuhn on (2025-01-29 00:43:44 UTC): @robodoo r+

"
2811263148,pull_request,closed,,[FW][17.0][FIX] mail: Render message actions correctly with component,"**Description of the issue/feature this PR addresses:**
When a custom module (e.g., [OCA/social#1536](https://github.com/OCA/social/pull/1536)) adds a new message action using `component` (previously named `callComponent`), it is not invoked in certain scenarios.

**Current behavior before PR:**

Currently, Odoo only renders the custom component for quick actions. However, the remaining actions, rendered as DropdownItem, do not invoke the custom component.

**Desired behavior after PR is merged:**

This commit ensures consistent rendering behavior, invoking the `component` for all actions, whether quick actions or dropdown items.

Complementary to: https://github.com/odoo/odoo/pull/131426


@phenix-factory @alexkuhn coud you please review this?

CC @pedrobaeza @chienandalu 

---
I confirm I have signed the CLA and read the PR guidelines at www.odoo.com/submit-pr

Forward-Port-Of: odoo/odoo#195185
Forward-Port-Of: odoo/odoo#194643",fw-bot,2025-01-26 01:36:50+00:00,[],2025-01-27 14:37:58+00:00,2025-01-27 14:17:08+00:00,https://github.com/odoo/odoo/pull/195189,"[('RD', 'research & development, internal work'), ('forwardport', 'This PR was created by @fw-bot')]","[{'comment_id': 2614165612, 'issue_id': 2811263148, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195189.png)](https://mergebot.odoo.com/odoo/odoo/pull/195189)', 'created_at': datetime.datetime(2025, 1, 26, 1, 36, 51, tzinfo=datetime.timezone.utc)}, {'comment_id': 2614165615, 'issue_id': 2811263148, 'author': 'fw-bot', 'body': 'This PR targets saas-18.1 and is part of the forward-port chain. Further PRs will be created up to master.\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 26, 1, 36, 52, tzinfo=datetime.timezone.utc)}, {'comment_id': 2614171902, 'issue_id': 2811263148, 'author': 'fw-bot', 'body': '@celm1990 @alexkuhn this forward port of odoo/odoo#194643 is awaiting action (not merged or closed).', 'created_at': datetime.datetime(2025, 1, 26, 2, 1, 13, tzinfo=datetime.timezone.utc)}, {'comment_id': 2614176733, 'issue_id': 2811263148, 'author': 'fw-bot', 'body': '@celm1990 @alexkuhn ci/runbot failed on this forward-port PR', 'created_at': datetime.datetime(2025, 1, 26, 2, 17, 41, tzinfo=datetime.timezone.utc)}, {'comment_id': 2614722632, 'issue_id': 2811263148, 'author': 'fw-bot', 'body': '@celm1990 @alexkuhn this forward port of odoo/odoo#194643 is awaiting action (not merged or closed).', 'created_at': datetime.datetime(2025, 1, 27, 2, 1, 42, tzinfo=datetime.timezone.utc)}, {'comment_id': 2615327162, 'issue_id': 2811263148, 'author': 'fw-bot', 'body': '@celm1990 @alexkuhn this PR was modified / updated and has become a normal PR. It must be merged directly.', 'created_at': datetime.datetime(2025, 1, 27, 10, 8, 18, tzinfo=datetime.timezone.utc)}, {'comment_id': 2615330640, 'issue_id': 2811263148, 'author': 'alexkuhn', 'body': '@robodoo r+', 'created_at': datetime.datetime(2025, 1, 27, 10, 9, 51, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-26 01:36:51 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195189.png)](https://mergebot.odoo.com/odoo/odoo/pull/195189)

fw-bot (Issue Creator) on (2025-01-26 01:36:52 UTC): This PR targets saas-18.1 and is part of the forward-port chain. Further PRs will be created up to master.

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

fw-bot (Issue Creator) on (2025-01-26 02:01:13 UTC): @celm1990 @alexkuhn this forward port of odoo/odoo#194643 is awaiting action (not merged or closed).

fw-bot (Issue Creator) on (2025-01-26 02:17:41 UTC): @celm1990 @alexkuhn ci/runbot failed on this forward-port PR

fw-bot (Issue Creator) on (2025-01-27 02:01:42 UTC): @celm1990 @alexkuhn this forward port of odoo/odoo#194643 is awaiting action (not merged or closed).

fw-bot (Issue Creator) on (2025-01-27 10:08:18 UTC): @celm1990 @alexkuhn this PR was modified / updated and has become a normal PR. It must be merged directly.

alexkuhn on (2025-01-27 10:09:51 UTC): @robodoo r+

"
2811222106,pull_request,closed,,[FW][FIX] mail: fix call record button aspect ratio,"Purpose of this commit:
The call record button, when active, was unintentionally assigned an aspect ratio of 1, causing its height and width to become equal. This commit fixes the issue.

Before/After
![image](https://github.com/user-attachments/assets/06d95954-8229-4bbe-8e35-8856c8c51502) 
![image](https://github.com/user-attachments/assets/ada42816-95be-4c76-a22d-fb60b4d02780)





---
I confirm I have signed the CLA and read the PR guidelines at www.odoo.com/submit-pr

Forward-Port-Of: odoo/odoo#192163",fw-bot,2025-01-25 23:29:49+00:00,[],2025-01-26 15:02:50+00:00,2025-01-26 03:11:17+00:00,https://github.com/odoo/odoo/pull/195188,"[('RD', 'research & development, internal work'), ('forwardport', 'This PR was created by @fw-bot'), ('18.2', None)]","[{'comment_id': 2614134390, 'issue_id': 2811222106, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195188.png)](https://mergebot.odoo.com/odoo/odoo/pull/195188)', 'created_at': datetime.datetime(2025, 1, 25, 23, 29, 50, tzinfo=datetime.timezone.utc)}, {'comment_id': 2614134393, 'issue_id': 2811222106, 'author': 'fw-bot', 'body': '@maad-odoo @alexkuhn this PR targets master and is the last of the forward-port chain.\n\nTo merge the full chain, use\n> @robodoo r+\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 25, 23, 29, 50, tzinfo=datetime.timezone.utc)}, {'comment_id': 2614142669, 'issue_id': 2811222106, 'author': 'alexkuhn', 'body': '@robodoo r+', 'created_at': datetime.datetime(2025, 1, 26, 0, 5, 25, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-25 23:29:50 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195188.png)](https://mergebot.odoo.com/odoo/odoo/pull/195188)

fw-bot (Issue Creator) on (2025-01-25 23:29:50 UTC): @maad-odoo @alexkuhn this PR targets master and is the last of the forward-port chain.

To merge the full chain, use

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

alexkuhn on (2025-01-26 00:05:25 UTC): @robodoo r+

"
2811222025,pull_request,closed,,"[FW][IMP] mail: insert emoji using "":""","[A previous PR](https://github.com/odoo/odoo/pull/192953) moved the canned response delimiter to ""::"".

This PR introduces emoji suggestions on "":"".

2 extra char after `:` is necessary to trigger the suggestion, so
that this doesn't conflict with "":"" when used for punctuation,
or also the few emoji substitutions like "":p"".

<img width=""718"" alt=""Screenshot 2025-01-22 at 16 21 44"" src=""https://github.com/user-attachments/assets/9b0646c7-bf27-4563-aee0-d0d44686074c"" />

Forward-Port-Of: odoo/odoo#194514",fw-bot,2025-01-25 23:29:32+00:00,[],2025-01-26 15:02:55+00:00,2025-01-26 03:11:21+00:00,https://github.com/odoo/odoo/pull/195187,"[('RD', 'research & development, internal work'), ('forwardport', 'This PR was created by @fw-bot'), ('18.2', None)]","[{'comment_id': 2614134331, 'issue_id': 2811222025, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195187.png)](https://mergebot.odoo.com/odoo/odoo/pull/195187)', 'created_at': datetime.datetime(2025, 1, 25, 23, 29, 34, tzinfo=datetime.timezone.utc)}, {'comment_id': 2614134334, 'issue_id': 2811222025, 'author': 'fw-bot', 'body': '@phenix-factory @alexkuhn this PR targets master and is the last of the forward-port chain.\n\nTo merge the full chain, use\n> @robodoo r+\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 25, 23, 29, 34, tzinfo=datetime.timezone.utc)}, {'comment_id': 2614142622, 'issue_id': 2811222025, 'author': 'alexkuhn', 'body': '@robodoo r+', 'created_at': datetime.datetime(2025, 1, 26, 0, 5, 16, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-25 23:29:34 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195187.png)](https://mergebot.odoo.com/odoo/odoo/pull/195187)

fw-bot (Issue Creator) on (2025-01-25 23:29:34 UTC): @phenix-factory @alexkuhn this PR targets master and is the last of the forward-port chain.

To merge the full chain, use

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

alexkuhn on (2025-01-26 00:05:16 UTC): @robodoo r+

"
2811188253,pull_request,closed,,[FW][FIX] mail: msg post in group chat with mention shows blue bubble,"Before this commit, when posting a message with a `@` mention in group chat, the message had blue bubble instead of green bubble. This color means that the message is not recognized as a self message.

Steps to reproduce:
- make group chat
- post a message with `@` mention
=> the message bubble is blue rather than green

This problem is a consequence of https://github.com/odoo/odoo/pull/176758 In this PR, when mentioning from any channel, the `groups_id` of partners from mention suggestions could be returned. If the users are in the group of group_public of channel, this means these partners could be invited in the channel. This is useful to make them elligible for `@` mention even when they are not member. This partial knowledge of the group id of partner is provided to client code so that the suggestions are shown too, since the list results in the JS modeling.

This PR however introduced a silent crash in JS code from this LOC: https://github.com/odoo/odoo/pull/176758/files#diff-515b5eba2d7fbff9826774f16c701063cfd9c95967287eaec36b16db66ef8c48R102

The server data may send `[ADD, null]` for partner `groups_id`, which is the case in group chat. The internal code of JS models does not expect this kind of command data: it crashes because `ADD` command assumes the other part is genuine data or record(s). However `null` means nothingness, so internally the `target` is missing thus it leads to a crash in the internal code of JS models.

Why is the crash not bubbled then? Well, this is silently ignored in business code by the fetch mention function, in `fetchSuggestions`.

The silent crash is suspicious, but not necessarily the primary cause of the problem... No no no. Internal code of JS models has made a bigger sin: the silent crash aborts the pending update cycle, thus not flushing it. This is a huge problem, because the implementation of update cycle is made in a way that its integrity depends on no crash during the update cycle. That's because the synchronous processing of update cycle defines layers of update cycle with a
global counter that is incremented and decremented. The 1st update cycle layer manages the flush, while the other layers do the operations without flush.

If there's a crash during the update cycle, the update cycle is aborted but its counter is preserved. Let's say the counter is 4: that means the update queues are never flushed, because the only way to change this value is through `MAKE_UPDATE`, and this function only preserves its value or temporarily increases it.

So what's the deal with the green bubble being blue? Well, there's a computed field `isSelfAuthored` that was never computed because of the silent crash. Thus it had the default value `false` rather than `true` for self messages.

While the symptoms show blue bubble instead of green bubble, which feels cute but not a big deal... This was actually a side-effect of a much much bigger issue that compromises the overall modeling of JS. Yes, that's like having an eye tickling, thinking that we're just tired but it's actually a symptom of final stage cancer.

Do not worry though: this commit doesn't cure cancer, but it fixes this problem as follow: `fetchSuggestions` in business code should not silently catch non-abort errors, and bubble it.

Forward-Port-Of: odoo/odoo#195150
Forward-Port-Of: odoo/odoo#194755",fw-bot,2025-01-25 21:40:21+00:00,[],2025-01-26 15:02:30+00:00,2025-01-26 01:40:14+00:00,https://github.com/odoo/odoo/pull/195186,"[('RD', 'research & development, internal work'), ('forwardport', 'This PR was created by @fw-bot'), ('18.2', None)]","[{'comment_id': 2614108261, 'issue_id': 2811188253, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195186.png)](https://mergebot.odoo.com/odoo/odoo/pull/195186)', 'created_at': datetime.datetime(2025, 1, 25, 21, 40, 22, tzinfo=datetime.timezone.utc)}, {'comment_id': 2614108264, 'issue_id': 2811188253, 'author': 'fw-bot', 'body': '@alexkuhn @seb-odoo this PR targets master and is the last of the forward-port chain.\n\nTo merge the full chain, use\n> @robodoo r+\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 25, 21, 40, 23, tzinfo=datetime.timezone.utc)}, {'comment_id': 2614108513, 'issue_id': 2811188253, 'author': 'alexkuhn', 'body': '@robodoo r+', 'created_at': datetime.datetime(2025, 1, 25, 21, 41, 20, tzinfo=datetime.timezone.utc)}, {'comment_id': 2614138025, 'issue_id': 2811188253, 'author': 'robodoo', 'body': '@alexkuhn @seb-odoo staging failed: ci/runbot on 47d3873642a964f05b16b3daebd5e8163be19246 (view more at https://runbot.odoo.com/runbot/build/73969763)', 'created_at': datetime.datetime(2025, 1, 25, 23, 44, 34, tzinfo=datetime.timezone.utc)}, {'comment_id': 2614142759, 'issue_id': 2811188253, 'author': 'alexkuhn', 'body': '@robodoo retry', 'created_at': datetime.datetime(2025, 1, 26, 0, 5, 45, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-25 21:40:22 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195186.png)](https://mergebot.odoo.com/odoo/odoo/pull/195186)

fw-bot (Issue Creator) on (2025-01-25 21:40:23 UTC): @alexkuhn @seb-odoo this PR targets master and is the last of the forward-port chain.

To merge the full chain, use

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

alexkuhn on (2025-01-25 21:41:20 UTC): @robodoo r+

robodoo on (2025-01-25 23:44:34 UTC): @alexkuhn @seb-odoo staging failed: ci/runbot on 47d3873642a964f05b16b3daebd5e8163be19246 (view more at https://runbot.odoo.com/runbot/build/73969763)

alexkuhn on (2025-01-26 00:05:45 UTC): @robodoo retry

"
2811176382,pull_request,closed,,[FW][17.0][FIX] mail: Render message actions correctly with callComponent,"**Description of the issue/feature this PR addresses:**
When a custom module (e.g., [OCA/social#1536](https://github.com/OCA/social/pull/1536)) adds a new message action using `callComponent`, it is not invoked in certain scenarios.

**Current behavior before PR:**

Odoo only invokes `callComponent` for `quick actions` (2 or 3 actions). For remaining actions rendered as `DropdownItem`, the `callComponent` is not invoked.

**Desired behavior after PR is merged:**

This commit ensures consistent rendering behavior, invoking the `callComponent` for all actions, whether quick actions or dropdown items.

Complementary to: https://github.com/odoo/odoo/pull/131426


@phenix-factory @alexkuhn coud you please review this?

CC @pedrobaeza @chienandalu 

---
I confirm I have signed the CLA and read the PR guidelines at www.odoo.com/submit-pr

Forward-Port-Of: odoo/odoo#194751
Forward-Port-Of: odoo/odoo#194643",fw-bot,2025-01-25 21:07:11+00:00,[],2025-01-26 15:02:26+00:00,2025-01-26 01:36:28+00:00,https://github.com/odoo/odoo/pull/195185,"[('RD', 'research & development, internal work'), ('forwardport', 'This PR was created by @fw-bot'), ('conflict', 'There was an error while creating this forward-port PR')]","[{'comment_id': 2614100134, 'issue_id': 2811176382, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195185.png)](https://mergebot.odoo.com/odoo/odoo/pull/195185)', 'created_at': datetime.datetime(2025, 1, 25, 21, 7, 13, tzinfo=datetime.timezone.utc)}, {'comment_id': 2614100148, 'issue_id': 2811176382, 'author': 'fw-bot', 'body': '@celm1990 @alexkuhn cherrypicking of pull request odoo/odoo#194643 failed.\n\nstdout:\n```\nAuto-merging addons/mail/static/src/core/common/message.xml\nCONFLICT (content): Merge conflict in addons/mail/static/src/core/common/message.xml\n\n```\n\nEither perform the forward-port manually (and push to this branch, proceeding as usual) or close this PR (maybe?).\n\nIn the former case, you may want to edit this PR message as well.\n\n:warning: after resolving this conflict, you will need to merge it via @robodoo.\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 25, 21, 7, 15, tzinfo=datetime.timezone.utc)}, {'comment_id': 2614101462, 'issue_id': 2811176382, 'author': 'alexkuhn', 'body': '@robodoo r+', 'created_at': datetime.datetime(2025, 1, 25, 21, 11, 54, tzinfo=datetime.timezone.utc)}, {'comment_id': 2614134245, 'issue_id': 2811176382, 'author': 'robodoo', 'body': '@celm1990 @alexkuhn staging failed: ci/runbot on b1e0331fc049cdb36eb2b2e9131cf8ef77129d97 (view more at https://runbot.odoo.com/runbot/build/73969623)', 'created_at': datetime.datetime(2025, 1, 25, 23, 29, 7, tzinfo=datetime.timezone.utc)}, {'comment_id': 2614142148, 'issue_id': 2811176382, 'author': 'alexkuhn', 'body': '@robodoo retry', 'created_at': datetime.datetime(2025, 1, 26, 0, 3, 48, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-25 21:07:13 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195185.png)](https://mergebot.odoo.com/odoo/odoo/pull/195185)

fw-bot (Issue Creator) on (2025-01-25 21:07:15 UTC): @celm1990 @alexkuhn cherrypicking of pull request odoo/odoo#194643 failed.

stdout:
```
Auto-merging addons/mail/static/src/core/common/message.xml
CONFLICT (content): Merge conflict in addons/mail/static/src/core/common/message.xml

```

Either perform the forward-port manually (and push to this branch, proceeding as usual) or close this PR (maybe?).

In the former case, you may want to edit this PR message as well.

:warning: after resolving this conflict, you will need to merge it via @robodoo.

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

alexkuhn on (2025-01-25 21:11:54 UTC): @robodoo r+

robodoo on (2025-01-25 23:29:07 UTC): @celm1990 @alexkuhn staging failed: ci/runbot on b1e0331fc049cdb36eb2b2e9131cf8ef77129d97 (view more at https://runbot.odoo.com/runbot/build/73969623)

alexkuhn on (2025-01-26 00:03:48 UTC): @robodoo retry

"
2811160586,pull_request,closed,,[IMP] point_of_sale: add error details when processing the order,"Description of the issue/feature this PR addresses:

Additional information is needed in the error log to identify the method causing the error.

Current behavior before PR:

Prior to this change, the log received when an error occured was as follows but no information about the code was shown: `odoo.addons.point_of_sale.models.pos_order: Could not fully process the POS Order: Record cannot be modified right now: This cron task is currently being executed and may not be modified Please try again in a few minutes.

Desired behavior after PR is merged:

Information about the method causing the error must be displayed




---
I confirm I have signed the CLA and read the PR guidelines at www.odoo.com/submit-pr
",emtz10,2025-01-25 20:23:26+00:00,[],2025-01-28 10:13:53+00:00,2025-01-28 10:13:53+00:00,https://github.com/odoo/odoo/pull/195184,"[('Point of Sale', '')]","[{'comment_id': 2614088543, 'issue_id': 2811160586, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195184.png)](https://mergebot.odoo.com/odoo/odoo/pull/195184)', 'created_at': datetime.datetime(2025, 1, 25, 20, 23, 29, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-25 20:23:29 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195184.png)](https://mergebot.odoo.com/odoo/odoo/pull/195184)

"
2811148180,pull_request,closed,,[FW][17.0][FIX] mail: Render message actions correctly with callComponent,"**Description of the issue/feature this PR addresses:**
When a custom module (e.g., [OCA/social#1536](https://github.com/OCA/social/pull/1536)) adds a new message action using `callComponent`, it is not invoked in certain scenarios.

**Current behavior before PR:**

Odoo only invokes `callComponent` for `quick actions` (2 or 3 actions). For remaining actions rendered as `DropdownItem`, the `callComponent` is not invoked.

**Desired behavior after PR is merged:**

This commit ensures consistent rendering behavior, invoking the `callComponent` for all actions, whether quick actions or dropdown items.

Complementary to: https://github.com/odoo/odoo/pull/131426


@phenix-factory @alexkuhn coud you please review this?

CC @pedrobaeza @chienandalu 

---
I confirm I have signed the CLA and read the PR guidelines at www.odoo.com/submit-pr

Forward-Port-Of: odoo/odoo#194751
Forward-Port-Of: odoo/odoo#194643",fw-bot,2025-01-25 19:48:06+00:00,[],2025-01-25 22:58:30+00:00,2025-01-25 22:37:06+00:00,https://github.com/odoo/odoo/pull/195183,"[('RD', 'research & development, internal work'), ('forwardport', 'This PR was created by @fw-bot')]","[{'comment_id': 2614079627, 'issue_id': 2811148180, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195183.png)](https://mergebot.odoo.com/odoo/odoo/pull/195183)', 'created_at': datetime.datetime(2025, 1, 25, 19, 48, 7, tzinfo=datetime.timezone.utc)}, {'comment_id': 2614079629, 'issue_id': 2811148180, 'author': 'fw-bot', 'body': 'This PR targets saas-17.4 and is part of the forward-port chain. Further PRs will be created up to master.\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 25, 19, 48, 8, tzinfo=datetime.timezone.utc)}, {'comment_id': 2614100138, 'issue_id': 2811148180, 'author': 'fw-bot', 'body': '@celm1990 @alexkuhn the next pull request (odoo/odoo#195185) is in conflict. You can merge the chain up to here by saying\n> @robodoo r+\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 25, 21, 7, 13, tzinfo=datetime.timezone.utc)}, {'comment_id': 2614100846, 'issue_id': 2811148180, 'author': 'alexkuhn', 'body': '@robodoo r+', 'created_at': datetime.datetime(2025, 1, 25, 21, 9, 34, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-25 19:48:07 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195183.png)](https://mergebot.odoo.com/odoo/odoo/pull/195183)

fw-bot (Issue Creator) on (2025-01-25 19:48:08 UTC): This PR targets saas-17.4 and is part of the forward-port chain. Further PRs will be created up to master.

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

fw-bot (Issue Creator) on (2025-01-25 21:07:13 UTC): @celm1990 @alexkuhn the next pull request (odoo/odoo#195185) is in conflict. You can merge the chain up to here by saying

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

alexkuhn on (2025-01-25 21:09:34 UTC): @robodoo r+

"
2811144605,pull_request,closed,,[FW][IMP] mail: jump to unread on chat window focus from tab key,"With this commit each time a chat window gets focused from the tab key it will scroll down to the newest unread message in the thread.

task-4452871

Forward-Port-Of: odoo/odoo#194570",fw-bot,2025-01-25 19:38:03+00:00,[],2025-01-26 18:27:51+00:00,2025-01-26 16:19:28+00:00,https://github.com/odoo/odoo/pull/195182,"[('RD', 'research & development, internal work'), ('forwardport', 'This PR was created by @fw-bot'), ('18.2', None)]","[{'comment_id': 2614076997, 'issue_id': 2811144605, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195182.png)](https://mergebot.odoo.com/odoo/odoo/pull/195182)', 'created_at': datetime.datetime(2025, 1, 25, 19, 38, 4, tzinfo=datetime.timezone.utc)}, {'comment_id': 2614077000, 'issue_id': 2811144605, 'author': 'fw-bot', 'body': '@Atovange @alexkuhn this PR targets master and is the last of the forward-port chain.\n\nTo merge the full chain, use\n> @robodoo r+\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 25, 19, 38, 5, tzinfo=datetime.timezone.utc)}, {'comment_id': 2614460447, 'issue_id': 2811144605, 'author': 'alexkuhn', 'body': '@robodoo r+', 'created_at': datetime.datetime(2025, 1, 26, 15, 3, 47, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-25 19:38:04 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195182.png)](https://mergebot.odoo.com/odoo/odoo/pull/195182)

fw-bot (Issue Creator) on (2025-01-25 19:38:05 UTC): @Atovange @alexkuhn this PR targets master and is the last of the forward-port chain.

To merge the full chain, use

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

alexkuhn on (2025-01-26 15:03:47 UTC): @robodoo r+

"
2811144509,pull_request,closed,,[FW][FIX] discuss: remove toaster notifications for messages and emails,"**Current behavior before PR:**

Toaster notifications were used for new messages and emails(when handle in odoo), creating redundancy with chat bubbles and systray counters. Leading to a less user-friendly experience.

**Desired behavior after PR is merged:**

Toaster notifications have been removed for new messages and emails.

Task-[4309515](https://www.odoo.com/odoo/project/1519/tasks/4309515)

---
I confirm I have signed the CLA and read the PR guidelines at www.odoo.com/submit-pr

Forward-Port-Of: odoo/odoo#192504",fw-bot,2025-01-25 19:37:46+00:00,[],2025-01-26 18:27:04+00:00,2025-01-26 16:19:24+00:00,https://github.com/odoo/odoo/pull/195181,"[('RD', 'research & development, internal work'), ('forwardport', 'This PR was created by @fw-bot'), ('18.2', None)]","[{'comment_id': 2614076921, 'issue_id': 2811144509, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195181.png)](https://mergebot.odoo.com/odoo/odoo/pull/195181)', 'created_at': datetime.datetime(2025, 1, 25, 19, 37, 47, tzinfo=datetime.timezone.utc)}, {'comment_id': 2614076926, 'issue_id': 2811144509, 'author': 'fw-bot', 'body': '@ramh-odoo @alexkuhn this PR targets master and is the last of the forward-port chain.\n\nTo merge the full chain, use\n> @robodoo r+\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 25, 19, 37, 48, tzinfo=datetime.timezone.utc)}, {'comment_id': 2614460378, 'issue_id': 2811144509, 'author': 'alexkuhn', 'body': '@robodoo r+', 'created_at': datetime.datetime(2025, 1, 26, 15, 3, 36, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-25 19:37:47 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195181.png)](https://mergebot.odoo.com/odoo/odoo/pull/195181)

fw-bot (Issue Creator) on (2025-01-25 19:37:48 UTC): @ramh-odoo @alexkuhn this PR targets master and is the last of the forward-port chain.

To merge the full chain, use

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

alexkuhn on (2025-01-26 15:03:36 UTC): @robodoo r+

"
2810933387,pull_request,open,,[FIX] PostgreSQL Error: could not obtain lock on row in relation “ir_cron”,"Description of the issue/feature this PR addresses: Resolves the PostgreSQL error: Could not obtain lock on row in relation ""ir_cron""

Current behavior before PR: The function fetch_mail tries to update a locked record. (The blog article referred to in the commit proves this.)

Desired behavior after PR is merged: The PostgreSQL error no longer occurs.


Additional information can be found in the following blog article:

https://elementure.nl/en/odoo/unraveling-the-postgresql-error-could-not-obtain-lock-on-row-in-relation-ir_cron


---
I confirm I have signed the CLA and read the PR guidelines at www.odoo.com/submit-pr
",ezoer-elementure,2025-01-25 11:24:34+00:00,[],2025-01-25 12:00:11+00:00,,https://github.com/odoo/odoo/pull/195180,"[('Discuss', 'channels, livechat, chatter')]","[{'comment_id': 2613934000, 'issue_id': 2810933387, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195180.png)](https://mergebot.odoo.com/odoo/odoo/pull/195180)', 'created_at': datetime.datetime(2025, 1, 25, 11, 24, 37, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-25 11:24:37 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195180.png)](https://mergebot.odoo.com/odoo/odoo/pull/195180)

"
2810912412,pull_request,closed,,[FW][FIX] account: no frequent accounts,"The name search on the account field (account.account on account move line) looks for frequently used accounts for the partner. When no search text is provided, the name search suggests accounts that were previously used. When there are no frequent accounts, the name search returns nothing.

To reproduce

- create a vendor bill
- select a partner that has never been billed
- add a line
- click the account many2one field dropdown

Since no account options are available, the dropdown flashes open and quickly disappears.

Forward-Port-Of: odoo/odoo#194303
Forward-Port-Of: odoo/odoo#193999",fw-bot,2025-01-25 10:29:20+00:00,[],2025-01-25 13:48:00+00:00,2025-01-25 13:48:00+00:00,https://github.com/odoo/odoo/pull/195179,"[('RD', 'research & development, internal work'), ('forwardport', 'This PR was created by @fw-bot'), ('18.2', None)]","[{'comment_id': 2613918685, 'issue_id': 2810912412, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195179.png)](https://mergebot.odoo.com/odoo/odoo/pull/195179)', 'created_at': datetime.datetime(2025, 1, 25, 10, 29, 21, tzinfo=datetime.timezone.utc)}, {'comment_id': 2613918690, 'issue_id': 2810912412, 'author': 'fw-bot', 'body': '@h4818 @william-andre this PR targets master and is the last of the forward-port chain containing:\n* odoo/odoo#194917\n\nTo merge the full chain, use\n> @robodoo r+\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 25, 10, 29, 22, tzinfo=datetime.timezone.utc)}, {'comment_id': 2613938665, 'issue_id': 2810912412, 'author': 'william-andre', 'body': '@robodoo r+', 'created_at': datetime.datetime(2025, 1, 25, 11, 44, 57, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-25 10:29:21 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195179.png)](https://mergebot.odoo.com/odoo/odoo/pull/195179)

fw-bot (Issue Creator) on (2025-01-25 10:29:22 UTC): @h4818 @william-andre this PR targets master and is the last of the forward-port chain containing:
* odoo/odoo#194917

To merge the full chain, use

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

william-andre on (2025-01-25 11:44:57 UTC): @robodoo r+

"
2810898756,pull_request,closed,,[FW][IMP] l10n_my_edi: Various improvements,"Brings various needed improvements to the module, either in place or
via a new extended module.

- Neutralization resets to pre-production
- Better handling of errors when generating the file by using the commercial partner
as expected.
- Align all the flows which update the invoice status to ensure that the data is
consistent.
- Improve validation for some special cases (lines without products, tax exemption)
- Add a new field for Malaysian TIN, mostly for foreign entities.
Will be used by default in all flows for MyInvois, with fallback on the Tax ID if empty.
- Classification code on invoice line, making the use of products optional.
- Rework the views for all fields related to ID on res.partner to align with other similar
fields. They will be Readonly on res.partner with a parent id, but displays the value of
the commercial partner.
- Industrial classification on the partner.
- ""Full"" support of self billing.
- Reworked flow to send to MyInvois BEFORE send & print. Which adds support for the
QR code generation, and new field to store the QR code long ID.
- Send & Print can no longer be used to send invoices to MyInvois after the new
module is installed

Task-4363294

---
I confirm I have signed the CLA and read the PR guidelines at www.odoo.com/submit-pr

Forward-Port-Of: odoo/odoo#195174
Forward-Port-Of: odoo/odoo#193497",fw-bot,2025-01-25 09:57:30+00:00,[],2025-02-08 12:36:36+00:00,2025-01-25 12:31:52+00:00,https://github.com/odoo/odoo/pull/195177,"[('RD', 'research & development, internal work'), ('forwardport', 'This PR was created by @fw-bot'), ('18.2', None)]","[{'comment_id': 2613882310, 'issue_id': 2810898756, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195177.png)](https://mergebot.odoo.com/odoo/odoo/pull/195177)', 'created_at': datetime.datetime(2025, 1, 25, 9, 57, 32, tzinfo=datetime.timezone.utc)}, {'comment_id': 2613882334, 'issue_id': 2810898756, 'author': 'fw-bot', 'body': '@vin-odoo @william-andre this PR targets master and is the last of the forward-port chain containing:\n* odoo/odoo#195175\n\nTo merge the full chain, use\n> @robodoo r+\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 25, 9, 57, 32, tzinfo=datetime.timezone.utc)}, {'comment_id': 2613887640, 'issue_id': 2810898756, 'author': 'vin-odoo', 'body': '@robodoo r+', 'created_at': datetime.datetime(2025, 1, 25, 9, 59, 50, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-25 09:57:32 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195177.png)](https://mergebot.odoo.com/odoo/odoo/pull/195177)

fw-bot (Issue Creator) on (2025-01-25 09:57:32 UTC): @vin-odoo @william-andre this PR targets master and is the last of the forward-port chain containing:
* odoo/odoo#195175

To merge the full chain, use

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

vin-odoo on (2025-01-25 09:59:50 UTC): @robodoo r+

"
2810881508,pull_request,closed,,[IMP] release: update to PEP440 identifier,"The release levels are specified in PEP440 as ""a|b|rc"".
https://peps.python.org/pep-0440/

odoo/documentation#11863


---
I confirm I have signed the CLA and read the PR guidelines at www.odoo.com/submit-pr
",kmagusiak,2025-01-25 09:22:00+00:00,[],2025-01-28 07:30:31+00:00,2025-01-27 20:58:31+00:00,https://github.com/odoo/odoo/pull/195176,"[('RD', 'research & development, internal work'), ('18.2', None)]","[{'comment_id': 2613859244, 'issue_id': 2810881508, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195176.png)](https://mergebot.odoo.com/odoo/odoo/pull/195176)', 'created_at': datetime.datetime(2025, 1, 25, 9, 22, 2, tzinfo=datetime.timezone.utc)}, {'comment_id': 2615242705, 'issue_id': 2810881508, 'author': 'kmagusiak', 'body': ""@KangOl Could you check if you would be impacted by this change?\r\nI found you just sort by version, but that shouldn't impact you."", 'created_at': datetime.datetime(2025, 1, 27, 9, 30, 10, tzinfo=datetime.timezone.utc)}, {'comment_id': 2615434635, 'issue_id': 2810881508, 'author': 'd-fence', 'body': 'robodoo r+', 'created_at': datetime.datetime(2025, 1, 27, 10, 56, 44, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-25 09:22:02 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195176.png)](https://mergebot.odoo.com/odoo/odoo/pull/195176)

kmagusiak (Issue Creator) on (2025-01-27 09:30:10 UTC): @KangOl Could you check if you would be impacted by this change?
I found you just sort by version, but that shouldn't impact you.

d-fence on (2025-01-27 10:56:44 UTC): robodoo r+

"
2810859737,pull_request,closed,,[FW][IMP] l10n_my_edi: Various improvements,"Brings various needed improvements to the module, either in place or
via a new extended module.

- Neutralization resets to pre-production
- Better handling of errors when generating the file by using the commercial partner
as expected.
- Align all the flows which update the invoice status to ensure that the data is
consistent.
- Improve validation for some special cases (lines without products, tax exemption)
- Add a new field for Malaysian TIN, mostly for foreign entities.
Will be used by default in all flows for MyInvois, with fallback on the Tax ID if empty.
- Classification code on invoice line, making the use of products optional.
- Rework the views for all fields related to ID on res.partner to align with other similar
fields. They will be Readonly on res.partner with a parent id, but displays the value of
the commercial partner.
- Industrial classification on the partner.
- ""Full"" support of self billing.
- Reworked flow to send to MyInvois BEFORE send & print. Which adds support for the
QR code generation, and new field to store the QR code long ID.
- Send & Print can no longer be used to send invoices to MyInvois after the new
module is installed

Task-4363294

---
I confirm I have signed the CLA and read the PR guidelines at www.odoo.com/submit-pr

Forward-Port-Of: odoo/odoo#195174
Forward-Port-Of: odoo/odoo#193497",fw-bot,2025-01-25 08:47:10+00:00,[],2025-02-08 12:36:34+00:00,2025-01-25 12:15:24+00:00,https://github.com/odoo/odoo/pull/195175,"[('RD', 'research & development, internal work'), ('forwardport', 'This PR was created by @fw-bot')]","[{'comment_id': 2613847235, 'issue_id': 2810859737, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195175.png)](https://mergebot.odoo.com/odoo/odoo/pull/195175)', 'created_at': datetime.datetime(2025, 1, 25, 8, 47, 11, tzinfo=datetime.timezone.utc)}, {'comment_id': 2613847238, 'issue_id': 2810859737, 'author': 'fw-bot', 'body': 'This PR targets saas-18.1 and is part of the forward-port chain. Further PRs will be created up to master.\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 25, 8, 47, 12, tzinfo=datetime.timezone.utc)}, {'comment_id': 2613884884, 'issue_id': 2810859737, 'author': 'fw-bot', 'body': '@vin-odoo @william-andre this PR was modified / updated and has become a normal PR. It must be merged directly.', 'created_at': datetime.datetime(2025, 1, 25, 9, 58, 39, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-25 08:47:11 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195175.png)](https://mergebot.odoo.com/odoo/odoo/pull/195175)

fw-bot (Issue Creator) on (2025-01-25 08:47:12 UTC): This PR targets saas-18.1 and is part of the forward-port chain. Further PRs will be created up to master.

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

fw-bot (Issue Creator) on (2025-01-25 09:58:39 UTC): @vin-odoo @william-andre this PR was modified / updated and has become a normal PR. It must be merged directly.

"
2810786469,pull_request,closed,,[FW][IMP] l10n_my_edi: Various improvements,"Brings various needed improvements to the module, either in place or
via a new extended module.

- Neutralization resets to pre-production
- Better handling of errors when generating the file by using the commercial partner
as expected.
- Align all the flows which update the invoice status to ensure that the data is
consistent.
- Improve validation for some special cases (lines without products, tax exemption)
- Add a new field for Malaysian TIN, mostly for foreign entities.
Will be used by default in all flows for MyInvois, with fallback on the Tax ID if empty.
- Classification code on invoice line, making the use of products optional.
- Rework the views for all fields related to ID on res.partner to align with other similar
fields. They will be Readonly on res.partner with a parent id, but displays the value of
the commercial partner.
- Industrial classification on the partner.
- ""Full"" support of self billing.
- Reworked flow to send to MyInvois BEFORE send & print. Which adds support for the
QR code generation, and new field to store the QR code long ID.
- Send & Print can no longer be used to send invoices to MyInvois after the new
module is installed

Task-4363294

---
I confirm I have signed the CLA and read the PR guidelines at www.odoo.com/submit-pr

Forward-Port-Of: odoo/odoo#195160
Forward-Port-Of: odoo/odoo#193497",fw-bot,2025-01-25 05:41:21+00:00,[],2025-02-08 10:27:43+00:00,2025-01-25 08:46:21+00:00,https://github.com/odoo/odoo/pull/195174,"[('RD', 'research & development, internal work'), ('forwardport', 'This PR was created by @fw-bot'), ('conflict', 'There was an error while creating this forward-port PR')]","[{'comment_id': 2613794531, 'issue_id': 2810786469, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195174.png)](https://mergebot.odoo.com/odoo/odoo/pull/195174)', 'created_at': datetime.datetime(2025, 1, 25, 5, 41, 23, tzinfo=datetime.timezone.utc)}, {'comment_id': 2613794535, 'issue_id': 2810786469, 'author': 'fw-bot', 'body': '@vin-odoo @william-andre cherrypicking of pull request odoo/odoo#193497 failed.\n\nstdout:\n```\nAuto-merging addons/l10n_my_edi/models/account_edi_xml_ubl_my.py\nAuto-merging addons/l10n_my_edi/models/account_move.py\nAuto-merging addons/l10n_my_edi/models/res_partner.py\nAuto-merging addons/l10n_my_edi/tests/test_submissions.py\nAuto-merging addons/l10n_my_edi/views/res_partner_view.xml\nCONFLICT (content): Merge conflict in addons/l10n_my_edi/views/res_partner_view.xml\nAuto-merging addons/l10n_my_ubl_pint/models/res_partner.py\nCONFLICT (content): Merge conflict in addons/l10n_my_ubl_pint/models/res_partner.py\n\n```\n\nEither perform the forward-port manually (and push to this branch, proceeding as usual) or close this PR (maybe?).\n\nIn the former case, you may want to edit this PR message as well.\n\n:warning: after resolving this conflict, you will need to merge it via @robodoo.\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 25, 5, 41, 23, tzinfo=datetime.timezone.utc)}, {'comment_id': 2613825437, 'issue_id': 2810786469, 'author': 'vin-odoo', 'body': '@robodoo r+', 'created_at': datetime.datetime(2025, 1, 25, 7, 31, 22, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-25 05:41:23 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195174.png)](https://mergebot.odoo.com/odoo/odoo/pull/195174)

fw-bot (Issue Creator) on (2025-01-25 05:41:23 UTC): @vin-odoo @william-andre cherrypicking of pull request odoo/odoo#193497 failed.

stdout:
```
Auto-merging addons/l10n_my_edi/models/account_edi_xml_ubl_my.py
Auto-merging addons/l10n_my_edi/models/account_move.py
Auto-merging addons/l10n_my_edi/models/res_partner.py
Auto-merging addons/l10n_my_edi/tests/test_submissions.py
Auto-merging addons/l10n_my_edi/views/res_partner_view.xml
CONFLICT (content): Merge conflict in addons/l10n_my_edi/views/res_partner_view.xml
Auto-merging addons/l10n_my_ubl_pint/models/res_partner.py
CONFLICT (content): Merge conflict in addons/l10n_my_ubl_pint/models/res_partner.py

```

Either perform the forward-port manually (and push to this branch, proceeding as usual) or close this PR (maybe?).

In the former case, you may want to edit this PR message as well.

:warning: after resolving this conflict, you will need to merge it via @robodoo.

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

vin-odoo on (2025-01-25 07:31:22 UTC): @robodoo r+

"
2810752844,pull_request,closed,,"[FW][17.0][FIX] sale_project: avoid error column reference ""id"" is ambiguous","Description of the issue/feature this PR addresses:
I can't reproduce the error in Runbot, but the error is real.
Try opening the project settings.
![image](https://github.com/user-attachments/assets/8a36063b-a60e-44ca-b0a8-2d2131b6b193)

![image](https://github.com/user-attachments/assets/13b6362e-8619-4eb1-9174-543831cba61a)

Current behavior before PR:

Desired behavior after PR is merged:




---
I confirm I have signed the CLA and read the PR guidelines at www.odoo.com/submit-pr

Forward-Port-Of: odoo/odoo#179592",fw-bot,2025-01-25 04:22:44+00:00,[],2025-02-03 12:40:34+00:00,2025-02-03 12:40:34+00:00,https://github.com/odoo/odoo/pull/195173,"[('RD', 'research & development, internal work'), ('forwardport', 'This PR was created by @fw-bot'), ('18.2', None)]","[{'comment_id': 2613771912, 'issue_id': 2810752844, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195173.png)](https://mergebot.odoo.com/odoo/odoo/pull/195173)', 'created_at': datetime.datetime(2025, 1, 25, 4, 22, 45, tzinfo=datetime.timezone.utc)}, {'comment_id': 2613771915, 'issue_id': 2810752844, 'author': 'fw-bot', 'body': '@celm1990 @xavierbol this PR targets master and is the last of the forward-port chain containing:\n* odoo/odoo#195172\n* odoo/odoo#195165\n* odoo/odoo#195159\n* odoo/odoo#195153\n\nTo merge the full chain, use\n> @robodoo r+\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 25, 4, 22, 46, tzinfo=datetime.timezone.utc)}, {'comment_id': 2613783105, 'issue_id': 2810752844, 'author': 'fw-bot', 'body': '@celm1990 @xavierbol ci/runbot failed on this forward-port PR', 'created_at': datetime.datetime(2025, 1, 25, 5, 3, 21, tzinfo=datetime.timezone.utc)}, {'comment_id': 2617544224, 'issue_id': 2810752844, 'author': 'fw-bot', 'body': '@celm1990 @xavierbol this forward port of odoo/odoo#179592 is awaiting action (not merged or closed).', 'created_at': datetime.datetime(2025, 1, 28, 2, 2, 10, tzinfo=datetime.timezone.utc)}, {'comment_id': 2620471988, 'issue_id': 2810752844, 'author': 'fw-bot', 'body': '@celm1990 @xavierbol this forward port of odoo/odoo#179592 is awaiting action (not merged or closed).', 'created_at': datetime.datetime(2025, 1, 29, 2, 1, 39, tzinfo=datetime.timezone.utc)}, {'comment_id': 2623354788, 'issue_id': 2810752844, 'author': 'fw-bot', 'body': '@celm1990 @xavierbol this forward port of odoo/odoo#179592 is awaiting action (not merged or closed).', 'created_at': datetime.datetime(2025, 1, 30, 2, 2, 22, tzinfo=datetime.timezone.utc)}, {'comment_id': 2626138319, 'issue_id': 2810752844, 'author': 'fw-bot', 'body': '@celm1990 @xavierbol this forward port of odoo/odoo#179592 is awaiting action (not merged or closed).', 'created_at': datetime.datetime(2025, 1, 31, 2, 2, 21, tzinfo=datetime.timezone.utc)}, {'comment_id': 2628685625, 'issue_id': 2810752844, 'author': 'fw-bot', 'body': '@celm1990 @xavierbol this forward port of odoo/odoo#179592 is awaiting action (not merged or closed).', 'created_at': datetime.datetime(2025, 2, 1, 2, 1, 51, tzinfo=datetime.timezone.utc)}, {'comment_id': 2629202182, 'issue_id': 2810752844, 'author': 'fw-bot', 'body': '@celm1990 @xavierbol this forward port of odoo/odoo#179592 is awaiting action (not merged or closed).', 'created_at': datetime.datetime(2025, 2, 2, 2, 2, 15, tzinfo=datetime.timezone.utc)}, {'comment_id': 2629731130, 'issue_id': 2810752844, 'author': 'fw-bot', 'body': '@celm1990 @xavierbol this forward port of odoo/odoo#179592 is awaiting action (not merged or closed).', 'created_at': datetime.datetime(2025, 2, 3, 2, 3, 24, tzinfo=datetime.timezone.utc)}, {'comment_id': 2630366275, 'issue_id': 2810752844, 'author': 'xavierbol', 'body': 'robodoo r+', 'created_at': datetime.datetime(2025, 2, 3, 9, 12, 1, tzinfo=datetime.timezone.utc)}, {'comment_id': 2630366364, 'issue_id': 2810752844, 'author': 'robodoo', 'body': '@xavierbol you may want to rebuild or fix this PR as it has failed CI.', 'created_at': datetime.datetime(2025, 2, 3, 9, 12, 3, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-25 04:22:45 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195173.png)](https://mergebot.odoo.com/odoo/odoo/pull/195173)

fw-bot (Issue Creator) on (2025-01-25 04:22:46 UTC): @celm1990 @xavierbol this PR targets master and is the last of the forward-port chain containing:
* odoo/odoo#195172
* odoo/odoo#195165
* odoo/odoo#195159
* odoo/odoo#195153

To merge the full chain, use

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

fw-bot (Issue Creator) on (2025-01-25 05:03:21 UTC): @celm1990 @xavierbol ci/runbot failed on this forward-port PR

fw-bot (Issue Creator) on (2025-01-28 02:02:10 UTC): @celm1990 @xavierbol this forward port of odoo/odoo#179592 is awaiting action (not merged or closed).

fw-bot (Issue Creator) on (2025-01-29 02:01:39 UTC): @celm1990 @xavierbol this forward port of odoo/odoo#179592 is awaiting action (not merged or closed).

fw-bot (Issue Creator) on (2025-01-30 02:02:22 UTC): @celm1990 @xavierbol this forward port of odoo/odoo#179592 is awaiting action (not merged or closed).

fw-bot (Issue Creator) on (2025-01-31 02:02:21 UTC): @celm1990 @xavierbol this forward port of odoo/odoo#179592 is awaiting action (not merged or closed).

fw-bot (Issue Creator) on (2025-02-01 02:01:51 UTC): @celm1990 @xavierbol this forward port of odoo/odoo#179592 is awaiting action (not merged or closed).

fw-bot (Issue Creator) on (2025-02-02 02:02:15 UTC): @celm1990 @xavierbol this forward port of odoo/odoo#179592 is awaiting action (not merged or closed).

fw-bot (Issue Creator) on (2025-02-03 02:03:24 UTC): @celm1990 @xavierbol this forward port of odoo/odoo#179592 is awaiting action (not merged or closed).

xavierbol on (2025-02-03 09:12:01 UTC): robodoo r+

robodoo on (2025-02-03 09:12:03 UTC): @xavierbol you may want to rebuild or fix this PR as it has failed CI.

"
2810715943,pull_request,closed,,"[FW][17.0][FIX] sale_project: avoid error column reference ""id"" is ambiguous","Description of the issue/feature this PR addresses:
I can't reproduce the error in Runbot, but the error is real.
Try opening the project settings.
![image](https://github.com/user-attachments/assets/8a36063b-a60e-44ca-b0a8-2d2131b6b193)

![image](https://github.com/user-attachments/assets/13b6362e-8619-4eb1-9174-543831cba61a)

Current behavior before PR:

Desired behavior after PR is merged:




---
I confirm I have signed the CLA and read the PR guidelines at www.odoo.com/submit-pr

Forward-Port-Of: odoo/odoo#179592",fw-bot,2025-01-25 02:59:17+00:00,[],2025-02-03 11:39:04+00:00,2025-02-03 11:39:04+00:00,https://github.com/odoo/odoo/pull/195172,"[('RD', 'research & development, internal work'), ('forwardport', 'This PR was created by @fw-bot')]","[{'comment_id': 2613743850, 'issue_id': 2810715943, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195172.png)](https://mergebot.odoo.com/odoo/odoo/pull/195172)', 'created_at': datetime.datetime(2025, 1, 25, 2, 59, 18, tzinfo=datetime.timezone.utc)}, {'comment_id': 2613743852, 'issue_id': 2810715943, 'author': 'fw-bot', 'body': 'This PR targets saas-18.1 and is part of the forward-port chain. Further PRs will be created up to master.\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 25, 2, 59, 18, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-25 02:59:18 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195172.png)](https://mergebot.odoo.com/odoo/odoo/pull/195172)

fw-bot (Issue Creator) on (2025-01-25 02:59:18 UTC): This PR targets saas-18.1 and is part of the forward-port chain. Further PRs will be created up to master.

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

"
2810710942,pull_request,closed,,[FW][FIX] account: domestic currency comp exist,"We are not gonna find a value for domestic_currency_companies everytime, sometime they simply don't exist. In that case, we should check that they exist before we call _get_table_builder_domestic_currency.

otherwise syntax of this query: https://github.com/odoo/odoo/blob/18.0/addons/account/models/res_currency.py#L157 is gonna be wrong.

Description of the issue/feature this PR addresses:

Current behavior before PR:

Desired behavior after PR is merged:




---
I confirm I have signed the CLA and read the PR guidelines at www.odoo.com/submit-pr

Forward-Port-Of: odoo/odoo#195111
Forward-Port-Of: odoo/odoo#193964",fw-bot,2025-01-25 02:45:18+00:00,[],2025-01-25 15:04:13+00:00,2025-01-25 15:04:12+00:00,https://github.com/odoo/odoo/pull/195171,"[('RD', 'research & development, internal work'), ('forwardport', 'This PR was created by @fw-bot'), ('18.2', None)]","[{'comment_id': 2613739139, 'issue_id': 2810710942, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195171.png)](https://mergebot.odoo.com/odoo/odoo/pull/195171)', 'created_at': datetime.datetime(2025, 1, 25, 2, 45, 20, tzinfo=datetime.timezone.utc)}, {'comment_id': 2613739144, 'issue_id': 2810710942, 'author': 'fw-bot', 'body': '@asno-odoo @oco-odoo this PR targets master and is the last of the forward-port chain.\n\nTo merge the full chain, use\n> @robodoo r+\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 25, 2, 45, 20, tzinfo=datetime.timezone.utc)}, {'comment_id': 2613971280, 'issue_id': 2810710942, 'author': 'asno-odoo', 'body': 'robodoo r+', 'created_at': datetime.datetime(2025, 1, 25, 13, 46, 38, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-25 02:45:20 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195171.png)](https://mergebot.odoo.com/odoo/odoo/pull/195171)

fw-bot (Issue Creator) on (2025-01-25 02:45:20 UTC): @asno-odoo @oco-odoo this PR targets master and is the last of the forward-port chain.

To merge the full chain, use

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

asno-odoo on (2025-01-25 13:46:38 UTC): robodoo r+

"
2810710802,pull_request,closed,,[FW][FW][FIX] core: inherit translations better when upgrade,"Before:
The typofix feature treats terms in the old and new values with similar text content as the same term, migrating the translations of the old term to the new term.

For example

The old value has the mapping:
'Draft': 'Brouillon'

The new value contains the term:
'<span invisible=""name or name_placeholder or quick_edit_mode"">Draft</span>'

Since the old term and the new term share the same text content, 'Draft', after `write`, the new term reuses the old translation of 'Draft'. However, the translation 'Brouillon' is always visible, unlike its en_US counterpart.

This behavior is acceptable in non-upgrade mode because the user writes the en_US value and is responsible for verifying translations afterward. However, it is problematic during upgrades because users cannot easily identify which records have changed and need to be rechecked.

After:
The translation inheritance behavior can be described as below Translations can be inherited after `write` from old terms to new terms which share the very close text contents
1. when `write` in production mode, text contents for translation terms are more important than the HTML/XML structures of them, and the old term translations should be remained as much as possible. Because
    * the writing user is responsible to recheck all translations after `write`.
    * it is easier for the writing user to copy technical HTML/XML structures than translate text contents for a language they may not know.
    * the feature can also be used as typofix when the only small diff is the text content
2. when `write` in upgrade time, the HTML/XML structure is more important than the text content, and the new term structure should be remained as much as possible. Because
    * HTML/XML structures might be changed a lot after upgrade, which may contain behavior relevant diff (e.g. `invisible`), even if text contents are not changed.
    * users have no idea which records' values are changed during upgrade and are hard to recheck their translations.
    * new terms are highly likely to be correctly translated in the latest po files which will be imported during upgrade.
    * the typofix feature can still be remained when the only small diff is the text content

Based on the above feature analysis, we use the below new strategy
1. translations can be inherited only if the old source term and the new source term share the same HTML/XML structure
2. translations can be inherited only if the old translation term and the new source term share the same HTML/XML structure
3. when translations are inherited, MODIFIER_ATTRS will be synchronized with the new source term, other attributes will be copied from the source term if available.

Forward-Port-Of: #194181

Description of the issue/feature this PR addresses:

Current behavior before PR:

Desired behavior after PR is merged:




---
I confirm I have signed the CLA and read the PR guidelines at www.odoo.com/submit-pr

Forward-Port-Of: odoo/odoo#195079
Forward-Port-Of: odoo/odoo#194816",fw-bot,2025-01-25 02:45:00+00:00,[],2025-01-25 18:34:01+00:00,2025-01-25 18:34:01+00:00,https://github.com/odoo/odoo/pull/195170,"[('RD', 'research & development, internal work'), ('forwardport', 'This PR was created by @fw-bot'), ('18.2', None)]","[{'comment_id': 2613739042, 'issue_id': 2810710802, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195170.png)](https://mergebot.odoo.com/odoo/odoo/pull/195170)', 'created_at': datetime.datetime(2025, 1, 25, 2, 45, 2, tzinfo=datetime.timezone.utc)}, {'comment_id': 2613739045, 'issue_id': 2810710802, 'author': 'fw-bot', 'body': '@HydrionBurst @rco-odoo this PR targets master and is the last of the forward-port chain.\n\nTo merge the full chain, use\n> @robodoo r+\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 25, 2, 45, 2, tzinfo=datetime.timezone.utc)}, {'comment_id': 2614038840, 'issue_id': 2810710802, 'author': 'HydrionBurst', 'body': '@robodoo r+', 'created_at': datetime.datetime(2025, 1, 25, 17, 28, 1, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-25 02:45:02 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195170.png)](https://mergebot.odoo.com/odoo/odoo/pull/195170)

fw-bot (Issue Creator) on (2025-01-25 02:45:02 UTC): @HydrionBurst @rco-odoo this PR targets master and is the last of the forward-port chain.

To merge the full chain, use

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

HydrionBurst on (2025-01-25 17:28:01 UTC): @robodoo r+

"
2810710709,pull_request,closed,,[FW][FIX] core: deprecated type='json' alias for type='jsonrpc',"Commit 67b6ef3 changed `@route(type='json')` for `@route(type='jsonrpc')` but with no deprecation warning. Using `@route(type='json')` resulted in a (not so obvious) AssertionError.

In this work, we restored `type='json'` as a deprecated alias to `type='jsonrpc'`, the warning is only logged once. We also improved the assertion message so it lists the valid types.

If you need cross-version compatibility (down to 16.0) you might also do:

	from odoo.http import JsonRPCDispatcher
	@route(..., type=JsonRPCDispatcher.routing_type)

There's also a upgrade-code script to help you change all `type='json'` to `type='jsonrpc'`:

	odoo-bin upgrade_code --help
	odoo-bin upgrade_code --script route-jsonrpc

task-4257153

Forward-Port-Of: odoo/odoo#195132",fw-bot,2025-01-25 02:44:44+00:00,[],2025-01-27 02:00:28+00:00,2025-01-27 02:00:27+00:00,https://github.com/odoo/odoo/pull/195169,"[('RD', 'research & development, internal work'), ('forwardport', 'This PR was created by @fw-bot'), ('18.2', None)]","[{'comment_id': 2613738962, 'issue_id': 2810710709, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195169.png)](https://mergebot.odoo.com/odoo/odoo/pull/195169)', 'created_at': datetime.datetime(2025, 1, 25, 2, 44, 45, tzinfo=datetime.timezone.utc)}, {'comment_id': 2613738967, 'issue_id': 2810710709, 'author': 'fw-bot', 'body': '@Julien00859 @odony this PR targets master and is the last of the forward-port chain.\n\nTo merge the full chain, use\n> @robodoo r+\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 25, 2, 44, 46, tzinfo=datetime.timezone.utc)}, {'comment_id': 2614644320, 'issue_id': 2810710709, 'author': 'Julien00859', 'body': '@robodoo r+', 'created_at': datetime.datetime(2025, 1, 27, 0, 4, 27, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-25 02:44:45 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195169.png)](https://mergebot.odoo.com/odoo/odoo/pull/195169)

fw-bot (Issue Creator) on (2025-01-25 02:44:46 UTC): @Julien00859 @odony this PR targets master and is the last of the forward-port chain.

To merge the full chain, use

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

Julien00859 on (2025-01-27 00:04:27 UTC): @robodoo r+

"
2810710603,pull_request,closed,,[FW][IMP] mail: show call participants after stopping screen share,"With this commit after stopping screen share the focus ill not be on the card of the user that was precedently sharing the screen.

task-4448823

Forward-Port-Of: odoo/odoo#193442",fw-bot,2025-01-25 02:44:27+00:00,[],2025-01-25 17:49:44+00:00,2025-01-25 13:48:05+00:00,https://github.com/odoo/odoo/pull/195168,"[('RD', 'research & development, internal work'), ('forwardport', 'This PR was created by @fw-bot'), ('18.2', None)]","[{'comment_id': 2613738946, 'issue_id': 2810710603, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195168.png)](https://mergebot.odoo.com/odoo/odoo/pull/195168)', 'created_at': datetime.datetime(2025, 1, 25, 2, 44, 43, tzinfo=datetime.timezone.utc)}, {'comment_id': 2613738950, 'issue_id': 2810710603, 'author': 'fw-bot', 'body': '@alexkuhn this PR targets master and is the last of the forward-port chain.\n\nTo merge the full chain, use\n> @robodoo r+\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 25, 2, 44, 43, tzinfo=datetime.timezone.utc)}, {'comment_id': 2613947508, 'issue_id': 2810710603, 'author': 'alexkuhn', 'body': '@robodoo r+', 'created_at': datetime.datetime(2025, 1, 25, 12, 17, 33, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-25 02:44:43 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195168.png)](https://mergebot.odoo.com/odoo/odoo/pull/195168)

fw-bot (Issue Creator) on (2025-01-25 02:44:43 UTC): @alexkuhn this PR targets master and is the last of the forward-port chain.

To merge the full chain, use

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

alexkuhn on (2025-01-25 12:17:33 UTC): @robodoo r+

"
2810698141,pull_request,closed,,[IMP] base: improve test_uncommented_invisible_field error message,"### Description of the issue/feature this PR addresses:
Since this PR #162009, all uncommented invisible fields raise an error.
This commit improves the error message from the method `test_uncommented_invisible_field` by showing which line of the view should be removed/commented.

The error message before this commit :
```
Addons: 'module_name'   Views: ['view_name1', 'view_name2']
```

After:
```
Addon: 'module_name'
   View: view_name1
      Fields:
         <field name=""field1"" invisible=""1"">
         <field name=""field2"" invisible=""1"">
   View: view_name2
      Fields:
         <field name=""field1"" invisible=""1"">
```

The main benefit of this change is to display in a single test all uncommented fields that need to be fixed.

---
I confirm I have signed the CLA and read the PR guidelines at www.odoo.com/submit-pr
",cro-odoo,2025-01-25 02:12:17+00:00,[],2025-01-29 13:48:25+00:00,2025-01-29 13:48:25+00:00,https://github.com/odoo/odoo/pull/195166,"[('RD', 'research & development, internal work')]","[{'comment_id': 2613726391, 'issue_id': 2810698141, 'author': 'robodoo', 'body': 'This PR targets the disabled branch odoo/odoo:saas-17.3, it needs to be retargeted before it can be merged.', 'created_at': datetime.datetime(2025, 1, 25, 2, 12, 20, tzinfo=datetime.timezone.utc)}, {'comment_id': 2613726399, 'issue_id': 2810698141, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195166.png)](https://mergebot.odoo.com/odoo/odoo/pull/195166)', 'created_at': datetime.datetime(2025, 1, 25, 2, 12, 21, tzinfo=datetime.timezone.utc)}, {'comment_id': 2613728956, 'issue_id': 2810698141, 'author': 'robodoo', 'body': 'This PR targets the disabled branch odoo/odoo:saas-17.3, it needs to be retargeted before it can be merged.', 'created_at': datetime.datetime(2025, 1, 25, 2, 18, 59, tzinfo=datetime.timezone.utc)}, {'comment_id': 2618975924, 'issue_id': 2810698141, 'author': 'cro-odoo', 'body': '@kmagusiak sorry, I did the wrong rebase (saas-17.3 instead of saas-17.4), to make up for it, here is the link to compare my changes https://github.com/odoo/odoo/compare/979ede8..9d4b258 \r\n\r\nif you have time, you can check also this ? #193918 \r\n\r\nthanks !', 'created_at': datetime.datetime(2025, 1, 28, 13, 18, 14, tzinfo=datetime.timezone.utc)}, {'comment_id': 2621184509, 'issue_id': 2810698141, 'author': 'ryv-odoo', 'body': '@robodoo r+\r\nthx @cro-odoo', 'created_at': datetime.datetime(2025, 1, 29, 10, 2, 30, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-25 02:12:20 UTC): This PR targets the disabled branch odoo/odoo:saas-17.3, it needs to be retargeted before it can be merged.

robodoo on (2025-01-25 02:12:21 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195166.png)](https://mergebot.odoo.com/odoo/odoo/pull/195166)

robodoo on (2025-01-25 02:18:59 UTC): This PR targets the disabled branch odoo/odoo:saas-17.3, it needs to be retargeted before it can be merged.

cro-odoo (Issue Creator) on (2025-01-28 13:18:14 UTC): @kmagusiak sorry, I did the wrong rebase (saas-17.3 instead of saas-17.4), to make up for it, here is the link to compare my changes https://github.com/odoo/odoo/compare/979ede8..9d4b258 

if you have time, you can check also this ? #193918 

thanks !

ryv-odoo on (2025-01-29 10:02:30 UTC): @robodoo r+
thx @cro-odoo

"
2810687040,pull_request,closed,,"[FW][17.0][FIX] sale_project: avoid error column reference ""id"" is ambiguous","Description of the issue/feature this PR addresses:
I can't reproduce the error in Runbot, but the error is real.
Try opening the project settings.
![image](https://github.com/user-attachments/assets/8a36063b-a60e-44ca-b0a8-2d2131b6b193)

![image](https://github.com/user-attachments/assets/13b6362e-8619-4eb1-9174-543831cba61a)

Current behavior before PR:

Desired behavior after PR is merged:




---
I confirm I have signed the CLA and read the PR guidelines at www.odoo.com/submit-pr

Forward-Port-Of: odoo/odoo#179592",fw-bot,2025-01-25 01:44:53+00:00,[],2025-02-03 13:08:38+00:00,2025-02-03 13:08:38+00:00,https://github.com/odoo/odoo/pull/195165,"[('RD', 'research & development, internal work'), ('forwardport', 'This PR was created by @fw-bot')]","[{'comment_id': 2613713618, 'issue_id': 2810687040, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195165.png)](https://mergebot.odoo.com/odoo/odoo/pull/195165)', 'created_at': datetime.datetime(2025, 1, 25, 1, 44, 55, tzinfo=datetime.timezone.utc)}, {'comment_id': 2613713621, 'issue_id': 2810687040, 'author': 'fw-bot', 'body': 'This PR targets 18.0 and is part of the forward-port chain. Further PRs will be created up to master.\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 25, 1, 44, 55, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-25 01:44:55 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195165.png)](https://mergebot.odoo.com/odoo/odoo/pull/195165)

fw-bot (Issue Creator) on (2025-01-25 01:44:55 UTC): This PR targets 18.0 and is part of the forward-port chain. Further PRs will be created up to master.

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

"
2810686647,pull_request,open,,[FIX] point_of_sale: avoid creating change payment with amount = 0,"Issue from commit
https://github.com/odoo/odoo/commit/91a943b2655efcc45dfa865d61aaeff77060e8f7





---
I confirm I have signed the CLA and read the PR guidelines at www.odoo.com/submit-pr
",royle-vietnam,2025-01-25 01:43:54+00:00,[],2025-02-08 04:26:08+00:00,,https://github.com/odoo/odoo/pull/195164,"[('Point of Sale', '')]","[{'comment_id': 2613713253, 'issue_id': 2810686647, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195164.png)](https://mergebot.odoo.com/odoo/odoo/pull/195164)', 'created_at': datetime.datetime(2025, 1, 25, 1, 43, 57, tzinfo=datetime.timezone.utc)}, {'comment_id': 2613714002, 'issue_id': 2810686647, 'author': 'royle-vietnam', 'body': 'Hi @kawkb @agr-odoo, can you review this PR, thanks', 'created_at': datetime.datetime(2025, 1, 25, 1, 45, 52, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-25 01:43:57 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195164.png)](https://mergebot.odoo.com/odoo/odoo/pull/195164)

royle-vietnam (Issue Creator) on (2025-01-25 01:45:52 UTC): Hi @kawkb @agr-odoo, can you review this PR, thanks

"
2810682511,pull_request,closed,,[FW][FIX] product: search on attribute,"Steps to reproduce:
---

- Go to purchase -> config -> Products -> Attributes
- Search

Issue:
---

There was no search attribute for the autocompletion.The changes in
comportment is due to the changes in https://github.com/odoo/odoo/commit/72c5ed9f18bc9e2b1dde7029742d9feb34a4c52f .

Fix:
---

Added the name field to the search view.

opw-4434672

---
I confirm I have signed the CLA and read the PR guidelines at www.odoo.com/submit-pr

Forward-Port-Of: odoo/odoo#194477",fw-bot,2025-01-25 01:34:29+00:00,[],2025-01-27 12:32:20+00:00,2025-01-27 12:32:19+00:00,https://github.com/odoo/odoo/pull/195163,"[('OE', 'the report is linked to a support ticket (opw-...)'), ('forwardport', 'This PR was created by @fw-bot'), ('18.2', None)]","[{'comment_id': 2613709470, 'issue_id': 2810682511, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195163.png)](https://mergebot.odoo.com/odoo/odoo/pull/195163)', 'created_at': datetime.datetime(2025, 1, 25, 1, 34, 30, tzinfo=datetime.timezone.utc)}, {'comment_id': 2613709475, 'issue_id': 2810682511, 'author': 'fw-bot', 'body': '@jaeschwa @Feyensv this PR targets master and is the last of the forward-port chain containing:\n* odoo/odoo#195155\n\nTo merge the full chain, use\n> @robodoo r+\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 25, 1, 34, 31, tzinfo=datetime.timezone.utc)}, {'comment_id': 2615174894, 'issue_id': 2810682511, 'author': 'jaeschwa', 'body': '@robodoo r+', 'created_at': datetime.datetime(2025, 1, 27, 8, 58, 38, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-25 01:34:30 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195163.png)](https://mergebot.odoo.com/odoo/odoo/pull/195163)

fw-bot (Issue Creator) on (2025-01-25 01:34:31 UTC): @jaeschwa @Feyensv this PR targets master and is the last of the forward-port chain containing:
* odoo/odoo#195155

To merge the full chain, use

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

jaeschwa on (2025-01-27 08:58:38 UTC): @robodoo r+

"
2810678988,pull_request,closed,,[FW][FIX] purchase: Fix taxes in the purchase order portal view,"From saas-17.4, the ""description"" field on ""account.tax"" has been changed from Char to Html. However, the portal view for the purchase order does not correctly render HTML fields in the taxes column.

As a result, the taxes are displayed using only the ""name"" field in the portal purchase order view.

opw-4439126

---
I confirm I have signed the CLA and read the PR guidelines at www.odoo.com/submit-pr

Forward-Port-Of: odoo/odoo#194272
Forward-Port-Of: odoo/odoo#193677",fw-bot,2025-01-25 01:27:52+00:00,[],2025-01-28 04:25:58+00:00,2025-01-28 04:25:58+00:00,https://github.com/odoo/odoo/pull/195162,"[('OE', 'the report is linked to a support ticket (opw-...)'), ('forwardport', 'This PR was created by @fw-bot'), ('conflict', 'There was an error while creating this forward-port PR'), ('18.2', None)]","[{'comment_id': 2613706058, 'issue_id': 2810678988, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195162.png)](https://mergebot.odoo.com/odoo/odoo/pull/195162)', 'created_at': datetime.datetime(2025, 1, 25, 1, 27, 53, tzinfo=datetime.timezone.utc)}, {'comment_id': 2613706082, 'issue_id': 2810678988, 'author': 'fw-bot', 'body': '@jrbr-odoo @clesgow cherrypicking of pull request odoo/odoo#193677 failed.\n\nstdout:\n```\nAuto-merging addons/purchase/views/portal_templates.xml\nCONFLICT (content): Merge conflict in addons/purchase/views/portal_templates.xml\n\n```\n\nEither perform the forward-port manually (and push to this branch, proceeding as usual) or close this PR (maybe?).\n\nIn the former case, you may want to edit this PR message as well.\n\n:warning: after resolving this conflict, you will need to merge it via @robodoo.\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 25, 1, 27, 55, tzinfo=datetime.timezone.utc)}, {'comment_id': 2613721821, 'issue_id': 2810678988, 'author': 'fw-bot', 'body': '@jrbr-odoo @clesgow this forward port of odoo/odoo#193677 is awaiting action (not merged or closed).', 'created_at': datetime.datetime(2025, 1, 25, 2, 1, 17, tzinfo=datetime.timezone.utc)}, {'comment_id': 2614172129, 'issue_id': 2810678988, 'author': 'fw-bot', 'body': '@jrbr-odoo @clesgow this forward port of odoo/odoo#193677 is awaiting action (not merged or closed).', 'created_at': datetime.datetime(2025, 1, 26, 2, 1, 34, tzinfo=datetime.timezone.utc)}, {'comment_id': 2614723024, 'issue_id': 2810678988, 'author': 'fw-bot', 'body': '@jrbr-odoo @clesgow this forward port of odoo/odoo#193677 is awaiting action (not merged or closed).', 'created_at': datetime.datetime(2025, 1, 27, 2, 2, 7, tzinfo=datetime.timezone.utc)}, {'comment_id': 2616345314, 'issue_id': 2810678988, 'author': 'jrbr-odoo', 'body': '@robodoo r+', 'created_at': datetime.datetime(2025, 1, 27, 16, 50, 20, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-25 01:27:53 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195162.png)](https://mergebot.odoo.com/odoo/odoo/pull/195162)

fw-bot (Issue Creator) on (2025-01-25 01:27:55 UTC): @jrbr-odoo @clesgow cherrypicking of pull request odoo/odoo#193677 failed.

stdout:
```
Auto-merging addons/purchase/views/portal_templates.xml
CONFLICT (content): Merge conflict in addons/purchase/views/portal_templates.xml

```

Either perform the forward-port manually (and push to this branch, proceeding as usual) or close this PR (maybe?).

In the former case, you may want to edit this PR message as well.

:warning: after resolving this conflict, you will need to merge it via @robodoo.

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

fw-bot (Issue Creator) on (2025-01-25 02:01:17 UTC): @jrbr-odoo @clesgow this forward port of odoo/odoo#193677 is awaiting action (not merged or closed).

fw-bot (Issue Creator) on (2025-01-26 02:01:34 UTC): @jrbr-odoo @clesgow this forward port of odoo/odoo#193677 is awaiting action (not merged or closed).

fw-bot (Issue Creator) on (2025-01-27 02:02:07 UTC): @jrbr-odoo @clesgow this forward port of odoo/odoo#193677 is awaiting action (not merged or closed).

jrbr-odoo on (2025-01-27 16:50:20 UTC): @robodoo r+

"
2810675216,pull_request,closed,,[FW][FIX] mrp_subcontracting: remove duplicate detailed operation button,"Issue:
===========
Currently, the 'Detailed Operation' button appears twice on each product move for subcontracting receipts.

Steps to Reproduce:
===========================
1. Create a Bill of Materials (BOM) with the type set to 'Subcontracting'.
2. Create a Purchase Order (PO) for the product associated with the BOM.
3. Navigate to the receipt for that PO.
4. Observe that the 'Detailed Operation' button appears twice for each move.

With this commit:
=====================

A duplicate detailed operation button was displayed in each product
move for subcontracting receipts due to code duplication,
leading to redundancy and confusion. This fix removes the
extra button to ensure a clear and intuitive UI.

task-4467313

Forward-Port-Of: odoo/odoo#193344",fw-bot,2025-01-25 01:19:53+00:00,[],2025-02-08 06:14:53+00:00,2025-01-25 06:14:18+00:00,https://github.com/odoo/odoo/pull/195161,"[('RD', 'research & development, internal work'), ('forwardport', 'This PR was created by @fw-bot'), ('18.2', None)]","[{'comment_id': 2613702449, 'issue_id': 2810675216, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195161.png)](https://mergebot.odoo.com/odoo/odoo/pull/195161)', 'created_at': datetime.datetime(2025, 1, 25, 1, 19, 54, tzinfo=datetime.timezone.utc)}, {'comment_id': 2613702454, 'issue_id': 2810675216, 'author': 'fw-bot', 'body': '@dhha-odoo @amoyaux this PR targets master and is the last of the forward-port chain.\n\nTo merge the full chain, use\n> @robodoo r+\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 25, 1, 19, 54, tzinfo=datetime.timezone.utc)}, {'comment_id': 2613783014, 'issue_id': 2810675216, 'author': 'dhha-odoo', 'body': 'robodoo r+', 'created_at': datetime.datetime(2025, 1, 25, 5, 3, 4, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-25 01:19:54 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195161.png)](https://mergebot.odoo.com/odoo/odoo/pull/195161)

fw-bot (Issue Creator) on (2025-01-25 01:19:54 UTC): @dhha-odoo @amoyaux this PR targets master and is the last of the forward-port chain.

To merge the full chain, use

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

dhha-odoo on (2025-01-25 05:03:04 UTC): robodoo r+

"
2810626177,pull_request,closed,,[FW][IMP] l10n_my_edi: Various improvements,"Brings various needed improvements to the module, either in place or
via a new extended module.

- Neutralization resets to pre-production
- Better handling of errors when generating the file by using the commercial partner
as expected.
- Align all the flows which update the invoice status to ensure that the data is
consistent.
- Improve validation for some special cases (lines without products, tax exemption)
- Add a new field for Malaysian TIN, mostly for foreign entities.
Will be used by default in all flows for MyInvois, with fallback on the Tax ID if empty.
- Classification code on invoice line, making the use of products optional.
- Rework the views for all fields related to ID on res.partner to align with other similar
fields. They will be Readonly on res.partner with a parent id, but displays the value of
the commercial partner.
- Industrial classification on the partner.
- ""Full"" support of self billing.
- Reworked flow to send to MyInvois BEFORE send & print. Which adds support for the
QR code generation, and new field to store the QR code long ID.
- Send & Print can no longer be used to send invoices to MyInvois after the new
module is installed

Task-4363294

---
I confirm I have signed the CLA and read the PR guidelines at www.odoo.com/submit-pr

Forward-Port-Of: odoo/odoo#193497",fw-bot,2025-01-25 00:14:30+00:00,[],2025-02-08 05:46:37+00:00,2025-01-25 05:41:15+00:00,https://github.com/odoo/odoo/pull/195160,"[('RD', 'research & development, internal work'), ('forwardport', 'This PR was created by @fw-bot'), ('conflict', 'There was an error while creating this forward-port PR')]","[{'comment_id': 2613635738, 'issue_id': 2810626177, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195160.png)](https://mergebot.odoo.com/odoo/odoo/pull/195160)', 'created_at': datetime.datetime(2025, 1, 25, 0, 14, 31, tzinfo=datetime.timezone.utc)}, {'comment_id': 2613635783, 'issue_id': 2810626177, 'author': 'fw-bot', 'body': '@vin-odoo @william-andre cherrypicking of pull request odoo/odoo#193497 failed.\n\nstdout:\n```\nAuto-merging addons/l10n_my_edi/models/account_edi_xml_ubl_my.py\nAuto-merging addons/l10n_my_edi/models/account_move.py\nAuto-merging addons/l10n_my_edi/tests/test_file_generation.py\nCONFLICT (content): Merge conflict in addons/l10n_my_edi/tests/test_file_generation.py\nAuto-merging addons/l10n_my_edi/tests/test_submissions.py\n\n```\n\nEither perform the forward-port manually (and push to this branch, proceeding as usual) or close this PR (maybe?).\n\nIn the former case, you may want to edit this PR message as well.\n\n:warning: after resolving this conflict, you will need to merge it via @robodoo.\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 25, 0, 14, 34, tzinfo=datetime.timezone.utc)}, {'comment_id': 2613772984, 'issue_id': 2810626177, 'author': 'vin-odoo', 'body': '@robodoo r+', 'created_at': datetime.datetime(2025, 1, 25, 4, 26, 24, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-25 00:14:31 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195160.png)](https://mergebot.odoo.com/odoo/odoo/pull/195160)

fw-bot (Issue Creator) on (2025-01-25 00:14:34 UTC): @vin-odoo @william-andre cherrypicking of pull request odoo/odoo#193497 failed.

stdout:
```
Auto-merging addons/l10n_my_edi/models/account_edi_xml_ubl_my.py
Auto-merging addons/l10n_my_edi/models/account_move.py
Auto-merging addons/l10n_my_edi/tests/test_file_generation.py
CONFLICT (content): Merge conflict in addons/l10n_my_edi/tests/test_file_generation.py
Auto-merging addons/l10n_my_edi/tests/test_submissions.py

```

Either perform the forward-port manually (and push to this branch, proceeding as usual) or close this PR (maybe?).

In the former case, you may want to edit this PR message as well.

:warning: after resolving this conflict, you will need to merge it via @robodoo.

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

vin-odoo on (2025-01-25 04:26:24 UTC): @robodoo r+

"
2810625102,pull_request,closed,,"[FW][17.0][FIX] sale_project: avoid error column reference ""id"" is ambiguous","Description of the issue/feature this PR addresses:
I can't reproduce the error in Runbot, but the error is real.
Try opening the project settings.
![image](https://github.com/user-attachments/assets/8a36063b-a60e-44ca-b0a8-2d2131b6b193)

![image](https://github.com/user-attachments/assets/13b6362e-8619-4eb1-9174-543831cba61a)

Current behavior before PR:

Desired behavior after PR is merged:




---
I confirm I have signed the CLA and read the PR guidelines at www.odoo.com/submit-pr

Forward-Port-Of: odoo/odoo#179592",fw-bot,2025-01-25 00:12:54+00:00,[],2025-02-03 13:06:15+00:00,2025-02-03 13:06:15+00:00,https://github.com/odoo/odoo/pull/195159,"[('RD', 'research & development, internal work'), ('forwardport', 'This PR was created by @fw-bot')]","[{'comment_id': 2613634561, 'issue_id': 2810625102, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195159.png)](https://mergebot.odoo.com/odoo/odoo/pull/195159)', 'created_at': datetime.datetime(2025, 1, 25, 0, 12, 55, tzinfo=datetime.timezone.utc)}, {'comment_id': 2613634563, 'issue_id': 2810625102, 'author': 'fw-bot', 'body': 'This PR targets saas-17.4 and is part of the forward-port chain. Further PRs will be created up to master.\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 25, 0, 12, 56, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-25 00:12:55 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195159.png)](https://mergebot.odoo.com/odoo/odoo/pull/195159)

fw-bot (Issue Creator) on (2025-01-25 00:12:56 UTC): This PR targets saas-17.4 and is part of the forward-port chain. Further PRs will be created up to master.

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

"
2810623082,pull_request,closed,,[FW][FIX] purchase: Fix taxes in the purchase order portal view,"From saas-17.4, the ""description"" field on ""account.tax"" has been changed from Char to Html. However, the portal view for the purchase order does not correctly render HTML fields in the taxes column.

As a result, the taxes are displayed using only the ""name"" field in the portal purchase order view.

opw-4439126

---
I confirm I have signed the CLA and read the PR guidelines at www.odoo.com/submit-pr

Forward-Port-Of: odoo/odoo#194272
Forward-Port-Of: odoo/odoo#193677",fw-bot,2025-01-25 00:10:14+00:00,[],2025-02-08 05:06:15+00:00,2025-01-25 04:06:53+00:00,https://github.com/odoo/odoo/pull/195158,"[('OE', 'the report is linked to a support ticket (opw-...)'), ('forwardport', 'This PR was created by @fw-bot')]","[{'comment_id': 2613632494, 'issue_id': 2810623082, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195158.png)](https://mergebot.odoo.com/odoo/odoo/pull/195158)', 'created_at': datetime.datetime(2025, 1, 25, 0, 10, 16, tzinfo=datetime.timezone.utc)}, {'comment_id': 2613632499, 'issue_id': 2810623082, 'author': 'fw-bot', 'body': 'This PR targets saas-18.1 and is part of the forward-port chain. Further PRs will be created up to master.\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 25, 0, 10, 17, tzinfo=datetime.timezone.utc)}, {'comment_id': 2613706067, 'issue_id': 2810623082, 'author': 'fw-bot', 'body': '@jrbr-odoo @clesgow the next pull request (odoo/odoo#195162) is in conflict. You can merge the chain up to here by saying\n> @robodoo r+\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 25, 1, 27, 53, tzinfo=datetime.timezone.utc)}, {'comment_id': 2613710312, 'issue_id': 2810623082, 'author': 'jrbr-odoo', 'body': '@robodoo r+', 'created_at': datetime.datetime(2025, 1, 25, 1, 36, 37, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-25 00:10:16 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195158.png)](https://mergebot.odoo.com/odoo/odoo/pull/195158)

fw-bot (Issue Creator) on (2025-01-25 00:10:17 UTC): This PR targets saas-18.1 and is part of the forward-port chain. Further PRs will be created up to master.

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

fw-bot (Issue Creator) on (2025-01-25 01:27:53 UTC): @jrbr-odoo @clesgow the next pull request (odoo/odoo#195162) is in conflict. You can merge the chain up to here by saying

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

jrbr-odoo on (2025-01-25 01:36:37 UTC): @robodoo r+

"
2810622725,pull_request,closed,,[FW][FIX] l10n_cl: translate VAT in invoice tax total,"Problem: When printing an invoice with l10n_cl installed, the tax total will display the lavel as 'VAT.' The user expects 'VAT' to be translated to maybe 'IVA.' It is hardcoded into the view, thus the .pot file needs to be updated.

Note: Starting from v17, there are missing translations
for strings ""Net Amount"", ""Total"", ""Exempt Amount"" in the
.pot file for the view l10n_cl.tax_totals_widget. However,
these are present for v16. Will probably need to modify
the fw-ports to include these strings in the file.

Purpose: Updating the .pot file to include the hardcoded VAT string will ensure there are translations for that label.

Steps to Reproduce on Runbot:
1. Install l10n_cl and Accounting
2. Add Spanish as a language
3. Switch to the CL company
4. Create an invoice for a customer whose language is Spanish
5. Print the invoice and notice 'VAT' is not translated

opw-4383092




---
I confirm I have signed the CLA and read the PR guidelines at www.odoo.com/submit-pr

Forward-Port-Of: odoo/odoo#194961
Forward-Port-Of: odoo/odoo#190605",fw-bot,2025-01-25 00:09:47+00:00,[],2025-01-27 21:04:26+00:00,2025-01-27 21:04:26+00:00,https://github.com/odoo/odoo/pull/195157,"[('OE', 'the report is linked to a support ticket (opw-...)'), ('forwardport', 'This PR was created by @fw-bot')]","[{'comment_id': 2613632117, 'issue_id': 2810622725, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195157.png)](https://mergebot.odoo.com/odoo/odoo/pull/195157)', 'created_at': datetime.datetime(2025, 1, 25, 0, 9, 48, tzinfo=datetime.timezone.utc)}, {'comment_id': 2613632131, 'issue_id': 2810622725, 'author': 'fw-bot', 'body': 'This PR targets saas-18.1 and is part of the forward-port chain. Further PRs will be created up to master.\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 25, 0, 9, 48, tzinfo=datetime.timezone.utc)}, {'comment_id': 2613703073, 'issue_id': 2810622725, 'author': 'fw-bot', 'body': '@myhy-odoo @antoine162 ci/runbot failed on this forward-port PR', 'created_at': datetime.datetime(2025, 1, 25, 1, 21, 13, tzinfo=datetime.timezone.utc)}, {'comment_id': 2614723596, 'issue_id': 2810622725, 'author': 'fw-bot', 'body': '@myhy-odoo @antoine162 this forward port of odoo/odoo#190605 is awaiting action (not merged or closed).', 'created_at': datetime.datetime(2025, 1, 27, 2, 2, 39, tzinfo=datetime.timezone.utc)}, {'comment_id': 2616677441, 'issue_id': 2810622725, 'author': 'myhy-odoo', 'body': '@robodoo r+', 'created_at': datetime.datetime(2025, 1, 27, 19, 12, 8, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-25 00:09:48 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195157.png)](https://mergebot.odoo.com/odoo/odoo/pull/195157)

fw-bot (Issue Creator) on (2025-01-25 00:09:48 UTC): This PR targets saas-18.1 and is part of the forward-port chain. Further PRs will be created up to master.

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

fw-bot (Issue Creator) on (2025-01-25 01:21:13 UTC): @myhy-odoo @antoine162 ci/runbot failed on this forward-port PR

fw-bot (Issue Creator) on (2025-01-27 02:02:39 UTC): @myhy-odoo @antoine162 this forward port of odoo/odoo#190605 is awaiting action (not merged or closed).

myhy-odoo on (2025-01-27 19:12:08 UTC): @robodoo r+

"
2810622245,pull_request,closed,,[FW][FIX] mail: mark as read depends on inbox counter,"Before this commit, when got a needaction_message from records that you don't have access to, you will see the counter of the inbox but you cannot mark it as read.

The reason was that the mark as read action was based on the isEmpty of the thread but if you don't have access to the record, the message will not be fetched and the computation was not correct.

The fix is to depend on the inbox counter so that the behavior of the red dot is consistent with the mark as read action.

![5666720560](https://github.com/user-attachments/assets/ec800614-448e-4608-84d2-5add1599c1d2)

---
I confirm I have signed the CLA and read the PR guidelines at www.odoo.com/submit-pr

Forward-Port-Of: odoo/odoo#195056",fw-bot,2025-01-25 00:09:23+00:00,[],2025-01-27 10:14:21+00:00,2025-01-27 08:33:18+00:00,https://github.com/odoo/odoo/pull/195156,"[('RD', 'research & development, internal work'), ('forwardport', 'This PR was created by @fw-bot')]","[{'comment_id': 2613631826, 'issue_id': 2810622245, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195156.png)](https://mergebot.odoo.com/odoo/odoo/pull/195156)', 'created_at': datetime.datetime(2025, 1, 25, 0, 9, 25, tzinfo=datetime.timezone.utc)}, {'comment_id': 2613631835, 'issue_id': 2810622245, 'author': 'fw-bot', 'body': 'This PR targets saas-18.1 and is part of the forward-port chain. Further PRs will be created up to master.\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 25, 0, 9, 25, tzinfo=datetime.timezone.utc)}, {'comment_id': 2613677336, 'issue_id': 2810622245, 'author': 'fw-bot', 'body': '@zel-odoo @alexkuhn ci/runbot failed on this forward-port PR', 'created_at': datetime.datetime(2025, 1, 25, 0, 47, 32, tzinfo=datetime.timezone.utc)}, {'comment_id': 2613946731, 'issue_id': 2810622245, 'author': 'alexkuhn', 'body': 'The test now shows the message as deleted, most likely because we are aware of existence of the message but not its body, thus defaults to `\'\'` (empty string) therefore assumes this is deleted:\r\n\r\n<img width=""1281"" alt=""Screenshot 2025-01-25 at 13 00 54"" src=""https://github.com/user-attachments/assets/134165fb-b06d-4400-80e5-c724ddbc828a"" />\r\n\r\nSo in practice the message is displayed and this doesn\'t prevent from clicking on mark as read. The test showing ""message is deleted"" is most likely an over-sight of the test, as I don\'t think the `message.body` is restricted by access rights on thread. The issue in 18.0 comes from `thread.isEmpty` filtering the message in JS, which is no longer a problem thanks to showing deleted messages explicitly in 18.1\r\n\r\nI suppose fw-port of this fix is not necessary.', 'created_at': datetime.datetime(2025, 1, 25, 12, 14, 45, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-25 00:09:25 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195156.png)](https://mergebot.odoo.com/odoo/odoo/pull/195156)

fw-bot (Issue Creator) on (2025-01-25 00:09:25 UTC): This PR targets saas-18.1 and is part of the forward-port chain. Further PRs will be created up to master.

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

fw-bot (Issue Creator) on (2025-01-25 00:47:32 UTC): @zel-odoo @alexkuhn ci/runbot failed on this forward-port PR

alexkuhn on (2025-01-25 12:14:45 UTC): The test now shows the message as deleted, most likely because we are aware of existence of the message but not its body, thus defaults to `''` (empty string) therefore assumes this is deleted:

<img width=""1281"" alt=""Screenshot 2025-01-25 at 13 00 54"" src=""https://github.com/user-attachments/assets/134165fb-b06d-4400-80e5-c724ddbc828a"" />

So in practice the message is displayed and this doesn't prevent from clicking on mark as read. The test showing ""message is deleted"" is most likely an over-sight of the test, as I don't think the `message.body` is restricted by access rights on thread. The issue in 18.0 comes from `thread.isEmpty` filtering the message in JS, which is no longer a problem thanks to showing deleted messages explicitly in 18.1

I suppose fw-port of this fix is not necessary.

"
2810621912,pull_request,closed,,[FW][FIX] product: search on attribute,"Steps to reproduce:
---

- Go to purchase -> config -> Products -> Attributes
- Search

Issue:
---

There was no search attribute for the autocompletion.The changes in
comportment is due to the changes in https://github.com/odoo/odoo/commit/72c5ed9f18bc9e2b1dde7029742d9feb34a4c52f .

Fix:
---

Added the name field to the search view.

opw-4434672

---
I confirm I have signed the CLA and read the PR guidelines at www.odoo.com/submit-pr

Forward-Port-Of: odoo/odoo#194477",fw-bot,2025-01-25 00:08:57+00:00,[],2025-01-27 10:59:20+00:00,2025-01-27 10:59:20+00:00,https://github.com/odoo/odoo/pull/195155,"[('OE', 'the report is linked to a support ticket (opw-...)'), ('forwardport', 'This PR was created by @fw-bot')]","[{'comment_id': 2613631668, 'issue_id': 2810621912, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195155.png)](https://mergebot.odoo.com/odoo/odoo/pull/195155)', 'created_at': datetime.datetime(2025, 1, 25, 0, 9, 11, tzinfo=datetime.timezone.utc)}, {'comment_id': 2613631678, 'issue_id': 2810621912, 'author': 'fw-bot', 'body': 'This PR targets saas-18.1 and is part of the forward-port chain. Further PRs will be created up to master.\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 25, 0, 9, 11, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-25 00:09:11 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195155.png)](https://mergebot.odoo.com/odoo/odoo/pull/195155)

fw-bot (Issue Creator) on (2025-01-25 00:09:11 UTC): This PR targets saas-18.1 and is part of the forward-port chain. Further PRs will be created up to master.

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

"
2810531668,pull_request,closed,,[FW][FIX] web_editor: change inline editor root to block on save,"**Problem**:
When we have `<b t-field=""html"">`, it is rendered in the DOM as
`<b data-oe-attr=""...""><p>content</p></b>`. When this is converted to a string
and parsed in the backend, the `html.fromstring` method removes the `p` from
the `b` because `b` is an inline element and cannot contain block elements.
This results in:
`<b data-oe-attr=""...""></b><p>content</p>`.

Since this structure has two root elements, the parser wraps them in a block
element (`div`), generating:
`<div><b data-oe-attr=""...""></b><p>content</p></div>`.

This causes a traceback when trying to access `data-oe` attributes, as they
are expected to be in the root element.

**Solution**:
Convert any `b` elements used as HTML fields to `div` elements before saving.

---
I confirm I have signed the CLA and read the PR guidelines at www.odoo.com/submit-pr

Forward-Port-Of: odoo/odoo#194872",fw-bot,2025-01-24 23:01:49+00:00,[],2025-01-28 07:56:07+00:00,2025-01-28 07:56:07+00:00,https://github.com/odoo/odoo/pull/195154,"[('RD', 'research & development, internal work'), ('forwardport', 'This PR was created by @fw-bot'), ('18.2', None)]","[{'comment_id': 2613559531, 'issue_id': 2810531668, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195154.png)](https://mergebot.odoo.com/odoo/odoo/pull/195154)', 'created_at': datetime.datetime(2025, 1, 24, 23, 1, 50, tzinfo=datetime.timezone.utc)}, {'comment_id': 2613559544, 'issue_id': 2810531668, 'author': 'fw-bot', 'body': '@walidsahli @dmo-odoo this PR targets master and is the last of the forward-port chain containing:\n* odoo/odoo#195147\n* odoo/odoo#195141\n* odoo/odoo#195134\n* odoo/odoo#195121\n\nTo merge the full chain, use\n> @robodoo r+\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 24, 23, 1, 51, tzinfo=datetime.timezone.utc)}, {'comment_id': 2613606591, 'issue_id': 2810531668, 'author': 'fw-bot', 'body': '@walidsahli @dmo-odoo ci/runbot failed on this forward-port PR', 'created_at': datetime.datetime(2025, 1, 24, 23, 46, 23, tzinfo=datetime.timezone.utc)}, {'comment_id': 2617539509, 'issue_id': 2810531668, 'author': 'fw-bot', 'body': '@walidsahli @dmo-odoo this forward port of odoo/odoo#194872 is awaiting action (not merged or closed).', 'created_at': datetime.datetime(2025, 1, 28, 2, 0, 58, tzinfo=datetime.timezone.utc)}, {'comment_id': 2618045359, 'issue_id': 2810531668, 'author': 'walidsahli', 'body': '@robodoo r+', 'created_at': datetime.datetime(2025, 1, 28, 6, 36, 35, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-24 23:01:50 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195154.png)](https://mergebot.odoo.com/odoo/odoo/pull/195154)

fw-bot (Issue Creator) on (2025-01-24 23:01:51 UTC): @walidsahli @dmo-odoo this PR targets master and is the last of the forward-port chain containing:
* odoo/odoo#195147
* odoo/odoo#195141
* odoo/odoo#195134
* odoo/odoo#195121

To merge the full chain, use

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

fw-bot (Issue Creator) on (2025-01-24 23:46:23 UTC): @walidsahli @dmo-odoo ci/runbot failed on this forward-port PR

fw-bot (Issue Creator) on (2025-01-28 02:00:58 UTC): @walidsahli @dmo-odoo this forward port of odoo/odoo#194872 is awaiting action (not merged or closed).

walidsahli on (2025-01-28 06:36:35 UTC): @robodoo r+

"
2810520178,pull_request,closed,,"[FW][17.0][FIX] sale_project: avoid error column reference ""id"" is ambiguous","Description of the issue/feature this PR addresses:
I can't reproduce the error in Runbot, but the error is real.
Try opening the project settings.
![image](https://github.com/user-attachments/assets/8a36063b-a60e-44ca-b0a8-2d2131b6b193)

![image](https://github.com/user-attachments/assets/13b6362e-8619-4eb1-9174-543831cba61a)

Current behavior before PR:

Desired behavior after PR is merged:




---
I confirm I have signed the CLA and read the PR guidelines at www.odoo.com/submit-pr

Forward-Port-Of: odoo/odoo#179592",fw-bot,2025-01-24 22:54:34+00:00,[],2025-02-03 10:57:45+00:00,2025-02-03 10:57:45+00:00,https://github.com/odoo/odoo/pull/195153,"[('RD', 'research & development, internal work'), ('forwardport', 'This PR was created by @fw-bot')]","[{'comment_id': 2613550273, 'issue_id': 2810520178, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195153.png)](https://mergebot.odoo.com/odoo/odoo/pull/195153)', 'created_at': datetime.datetime(2025, 1, 24, 22, 54, 35, tzinfo=datetime.timezone.utc)}, {'comment_id': 2613550282, 'issue_id': 2810520178, 'author': 'fw-bot', 'body': 'This PR targets saas-17.2 and is part of the forward-port chain. Further PRs will be created up to master.\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 24, 22, 54, 36, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-24 22:54:35 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195153.png)](https://mergebot.odoo.com/odoo/odoo/pull/195153)

fw-bot (Issue Creator) on (2025-01-24 22:54:36 UTC): This PR targets saas-17.2 and is part of the forward-port chain. Further PRs will be created up to master.

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

"
2810519619,pull_request,closed,,[FW][IMP] l10n_my_edi: Various improvements,"Brings various needed improvements to the module, either in place or
via a new extended module.

- Neutralization resets to pre-production
- Better handling of errors when generating the file by using the commercial partner
as expected.
- Align all the flows which update the invoice status to ensure that the data is
consistent.
- Improve validation for some special cases (lines without products, tax exemption)
- Add a new field for Malaysian TIN, mostly for foreign entities.
Will be used by default in all flows for MyInvois, with fallback on the Tax ID if empty.
- Classification code on invoice line, making the use of products optional.
- Rework the views for all fields related to ID on res.partner to align with other similar
fields. They will be Readonly on res.partner with a parent id, but displays the value of
the commercial partner.
- Industrial classification on the partner.
- ""Full"" support of self billing.
- Reworked flow to send to MyInvois BEFORE send & print. Which adds support for the
QR code generation, and new field to store the QR code long ID.
- Send & Print can no longer be used to send invoices to MyInvois after the new
module is installed

Task-4363294

---
I confirm I have signed the CLA and read the PR guidelines at www.odoo.com/submit-pr

Forward-Port-Of: odoo/odoo#193497",fw-bot,2025-01-24 22:54:07+00:00,[],2025-02-08 06:14:52+00:00,2025-01-25 06:11:32+00:00,https://github.com/odoo/odoo/pull/195152,"[('RD', 'research & development, internal work'), ('forwardport', 'This PR was created by @fw-bot')]","[{'comment_id': 2613549813, 'issue_id': 2810519619, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195152.png)](https://mergebot.odoo.com/odoo/odoo/pull/195152)', 'created_at': datetime.datetime(2025, 1, 24, 22, 54, 9, tzinfo=datetime.timezone.utc)}, {'comment_id': 2613549827, 'issue_id': 2810519619, 'author': 'fw-bot', 'body': 'This PR targets saas-17.2 and is part of the forward-port chain. Further PRs will be created up to master.\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 24, 22, 54, 9, tzinfo=datetime.timezone.utc)}, {'comment_id': 2613635757, 'issue_id': 2810519619, 'author': 'fw-bot', 'body': '@vin-odoo @william-andre the next pull request (odoo/odoo#195160) is in conflict. You can merge the chain up to here by saying\n> @robodoo r+\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 25, 0, 14, 32, tzinfo=datetime.timezone.utc)}, {'comment_id': 2613746041, 'issue_id': 2810519619, 'author': 'fw-bot', 'body': '@vin-odoo @william-andre this PR was modified / updated and has become a normal PR. It must be merged directly.', 'created_at': datetime.datetime(2025, 1, 25, 3, 3, 58, tzinfo=datetime.timezone.utc)}, {'comment_id': 2613772967, 'issue_id': 2810519619, 'author': 'vin-odoo', 'body': '@robodoo r+', 'created_at': datetime.datetime(2025, 1, 25, 4, 26, 21, tzinfo=datetime.timezone.utc)}, {'comment_id': 2613781007, 'issue_id': 2810519619, 'author': 'robodoo', 'body': '@vin-odoo @william-andre staging failed: ci/runbot on 870a58ad43efd155f00cb1aa67d51eb51e9a7945 (view more at https://runbot.odoo.com/runbot/build/73942394)', 'created_at': datetime.datetime(2025, 1, 25, 4, 56, 2, tzinfo=datetime.timezone.utc)}, {'comment_id': 2613781644, 'issue_id': 2810519619, 'author': 'vin-odoo', 'body': '@robodoo retry', 'created_at': datetime.datetime(2025, 1, 25, 4, 58, 46, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-24 22:54:09 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195152.png)](https://mergebot.odoo.com/odoo/odoo/pull/195152)

fw-bot (Issue Creator) on (2025-01-24 22:54:09 UTC): This PR targets saas-17.2 and is part of the forward-port chain. Further PRs will be created up to master.

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

fw-bot (Issue Creator) on (2025-01-25 00:14:32 UTC): @vin-odoo @william-andre the next pull request (odoo/odoo#195160) is in conflict. You can merge the chain up to here by saying

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

fw-bot (Issue Creator) on (2025-01-25 03:03:58 UTC): @vin-odoo @william-andre this PR was modified / updated and has become a normal PR. It must be merged directly.

vin-odoo on (2025-01-25 04:26:21 UTC): @robodoo r+

robodoo on (2025-01-25 04:56:02 UTC): @vin-odoo @william-andre staging failed: ci/runbot on 870a58ad43efd155f00cb1aa67d51eb51e9a7945 (view more at https://runbot.odoo.com/runbot/build/73942394)

vin-odoo on (2025-01-25 04:58:46 UTC): @robodoo retry

"
2810472612,pull_request,closed,,"[IMP] point_of_sale, pos_*: reduce XHR request and improve devices sync","*: pos_restaurant, pos_event

Reduce number of XHR request by handling preparation change notification
directly in the backend.

The synchronisation is now more robust, each time we receive a request
all local ids are checked to ensure that the record wasn't deleted or
modified in the meantime.
",davidmonnom,2025-01-24 22:15:50+00:00,[],2025-01-27 18:24:38+00:00,2025-01-27 18:24:38+00:00,https://github.com/odoo/odoo/pull/195151,"[('RD', 'research & development, internal work')]","[{'comment_id': 2613490162, 'issue_id': 2810472612, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195151.png)](https://mergebot.odoo.com/odoo/odoo/pull/195151)', 'created_at': datetime.datetime(2025, 1, 24, 22, 15, 52, tzinfo=datetime.timezone.utc)}, {'comment_id': 2615499116, 'issue_id': 2810472612, 'author': 'caburj', 'body': 'robodoo r+', 'created_at': datetime.datetime(2025, 1, 27, 11, 26, 22, tzinfo=datetime.timezone.utc)}, {'comment_id': 2615505043, 'issue_id': 2810472612, 'author': 'caburj', 'body': 'robodoo delegate+\r\n\r\nplease make sure the commit title and commit message is correct.', 'created_at': datetime.datetime(2025, 1, 27, 11, 29, 6, tzinfo=datetime.timezone.utc)}, {'comment_id': 2615505730, 'issue_id': 2810472612, 'author': 'caburj', 'body': 'robodoo r-', 'created_at': datetime.datetime(2025, 1, 27, 11, 29, 25, tzinfo=datetime.timezone.utc)}, {'comment_id': 2615506755, 'issue_id': 2810472612, 'author': 'caburj', 'body': 'robodoo delegate+', 'created_at': datetime.datetime(2025, 1, 27, 11, 29, 54, tzinfo=datetime.timezone.utc)}, {'comment_id': 2615965433, 'issue_id': 2810472612, 'author': 'davidmonnom', 'body': '@robodoo r+', 'created_at': datetime.datetime(2025, 1, 27, 14, 48, 57, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-24 22:15:52 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195151.png)](https://mergebot.odoo.com/odoo/odoo/pull/195151)

caburj on (2025-01-27 11:26:22 UTC): robodoo r+

caburj on (2025-01-27 11:29:06 UTC): robodoo delegate+

please make sure the commit title and commit message is correct.

caburj on (2025-01-27 11:29:25 UTC): robodoo r-

caburj on (2025-01-27 11:29:54 UTC): robodoo delegate+

davidmonnom (Issue Creator) on (2025-01-27 14:48:57 UTC): @robodoo r+

"
2810465722,pull_request,closed,,[FW][FIX] mail: msg post in group chat with mention shows blue bubble,"Before this commit, when posting a message with a `@` mention in group chat, the message had blue bubble instead of green bubble. This color means that the message is not recognized as a self message.

Steps to reproduce:
- make group chat
- post a message with `@` mention
=> the message bubble is blue rather than green

This problem is a consequence of https://github.com/odoo/odoo/pull/176758 In this PR, when mentioning from any channel, the `groups_id` of partners from mention suggestions could be returned. If the users are in the group of group_public of channel, this means these partners could be invited in the channel. This is useful to make them elligible for `@` mention even when they are not member. This partial knowledge of the group id of partner is provided to client code so that the suggestions are shown too, since the list results in the JS modeling.

This PR however introduced a silent crash in JS code from this LOC: https://github.com/odoo/odoo/pull/176758/files#diff-515b5eba2d7fbff9826774f16c701063cfd9c95967287eaec36b16db66ef8c48R102

The server data may send `[ADD, null]` for partner `groups_id`, which is the case in group chat. The internal code of JS models does not expect this kind of command data: it crashes because `ADD` command assumes the other part is genuine data or record(s). However `null` means nothingness, so internally the `target` is missing thus it leads to a crash in the internal code of JS models.

Why is the crash not bubbled then? Well, this is silently ignored in business code by the fetch mention function, in `fetchSuggestions`.

The silent crash is suspicious, but not necessarily the primary cause of the problem... No no no. Internal code of JS models has made a bigger sin: the silent crash aborts the pending update cycle, thus not flushing it. This is a huge problem, because the implementation of update cycle is made in a way that its integrity depends on no crash during the update cycle. That's because the synchronous processing of update cycle defines layers of update cycle with a
global counter that is incremented and decremented. The 1st update cycle layer manages the flush, while the other layers do the operations without flush.

If there's a crash during the update cycle, the update cycle is aborted but its counter is preserved. Let's say the counter is 4: that means the update queues are never flushed, because the only way to change this value is through `MAKE_UPDATE`, and this function only preserves its value or temporarily increases it.

So what's the deal with the green bubble being blue? Well, there's a computed field `isSelfAuthored` that was never computed because of the silent crash. Thus it had the default value `false` rather than `true` for self messages.

While the symptoms show blue bubble instead of green bubble, which feels cute but not a big deal... This was actually a side-effect of a much much bigger issue that compromises the overall modeling of JS. Yes, that's like having an eye tickling, thinking that we're just tired but it's actually a symptom of final stage cancer.

Do not worry though: this commit doesn't cure cancer, but it fixes this problem as follow: `fetchSuggestions` in business code should not silently catch non-abort errors, and bubble it.

Forward-Port-Of: odoo/odoo#194755",fw-bot,2025-01-24 22:10:12+00:00,[],2025-01-25 21:41:10+00:00,2025-01-25 21:40:06+00:00,https://github.com/odoo/odoo/pull/195150,"[('RD', 'research & development, internal work'), ('forwardport', 'This PR was created by @fw-bot'), ('conflict', 'There was an error while creating this forward-port PR')]","[{'comment_id': 2613480174, 'issue_id': 2810465722, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195150.png)](https://mergebot.odoo.com/odoo/odoo/pull/195150)', 'created_at': datetime.datetime(2025, 1, 24, 22, 10, 13, tzinfo=datetime.timezone.utc)}, {'comment_id': 2613480294, 'issue_id': 2810465722, 'author': 'fw-bot', 'body': '@alexkuhn @seb-odoo cherrypicking of pull request odoo/odoo#194755 failed.\n\nstdout:\n```\nAuto-merging addons/mail/models/discuss/res_partner.py\nCONFLICT (content): Merge conflict in addons/mail/models/discuss/res_partner.py\nAuto-merging addons/mail/static/src/core/common/suggestion_hook.js\n\n```\n\nEither perform the forward-port manually (and push to this branch, proceeding as usual) or close this PR (maybe?).\n\nIn the former case, you may want to edit this PR message as well.\n\n:warning: after resolving this conflict, you will need to merge it via @robodoo.\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 24, 22, 10, 14, tzinfo=datetime.timezone.utc)}, {'comment_id': 2614039617, 'issue_id': 2810465722, 'author': 'alexkuhn', 'body': '@robodoo r+', 'created_at': datetime.datetime(2025, 1, 25, 17, 30, 34, tzinfo=datetime.timezone.utc)}, {'comment_id': 2614057285, 'issue_id': 2810465722, 'author': 'robodoo', 'body': '@alexkuhn @seb-odoo staging failed: ci/runbot on 62e774c5233e342f79eb1c9d8cb9361e37bd0022 (view more at https://runbot.odoo.com/runbot/build/73944790)', 'created_at': datetime.datetime(2025, 1, 25, 18, 28, 3, tzinfo=datetime.timezone.utc)}, {'comment_id': 2614085955, 'issue_id': 2810465722, 'author': 'alexkuhn', 'body': '@robodoo retry', 'created_at': datetime.datetime(2025, 1, 25, 20, 13, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-24 22:10:13 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195150.png)](https://mergebot.odoo.com/odoo/odoo/pull/195150)

fw-bot (Issue Creator) on (2025-01-24 22:10:14 UTC): @alexkuhn @seb-odoo cherrypicking of pull request odoo/odoo#194755 failed.

stdout:
```
Auto-merging addons/mail/models/discuss/res_partner.py
CONFLICT (content): Merge conflict in addons/mail/models/discuss/res_partner.py
Auto-merging addons/mail/static/src/core/common/suggestion_hook.js

```

Either perform the forward-port manually (and push to this branch, proceeding as usual) or close this PR (maybe?).

In the former case, you may want to edit this PR message as well.

:warning: after resolving this conflict, you will need to merge it via @robodoo.

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

alexkuhn on (2025-01-25 17:30:34 UTC): @robodoo r+

robodoo on (2025-01-25 18:28:03 UTC): @alexkuhn @seb-odoo staging failed: ci/runbot on 62e774c5233e342f79eb1c9d8cb9361e37bd0022 (view more at https://runbot.odoo.com/runbot/build/73944790)

alexkuhn on (2025-01-25 20:13:00 UTC): @robodoo retry

"
2810454132,pull_request,closed,,[FW][FIX] web: hide tooltip on html fields in calendar popover,"To reproduce:
=============
- create an event on calendar with description containing html
- on calendar view, click on the event to open the popover and hover on the description field
-> the tooltip is displayed with raw html content

Fix:
====
hide the tooltip on html fields in calendar popover as it's not needed

opw-4356581
---
I confirm I have signed the CLA and read the PR guidelines at www.odoo.com/submit-pr

Forward-Port-Of: odoo/odoo#194750
Forward-Port-Of: odoo/odoo#192104",fw-bot,2025-01-24 22:03:30+00:00,[],2025-01-28 10:18:17+00:00,2025-01-28 10:18:17+00:00,https://github.com/odoo/odoo/pull/195149,"[('OE', 'the report is linked to a support ticket (opw-...)'), ('forwardport', 'This PR was created by @fw-bot'), ('conflict', 'There was an error while creating this forward-port PR')]","[{'comment_id': 2613457926, 'issue_id': 2810454132, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195149.png)](https://mergebot.odoo.com/odoo/odoo/pull/195149)', 'created_at': datetime.datetime(2025, 1, 24, 22, 3, 31, tzinfo=datetime.timezone.utc)}, {'comment_id': 2613457953, 'issue_id': 2810454132, 'author': 'fw-bot', 'body': '@abla001 @aab-odoo cherrypicking of pull request odoo/odoo#192104 failed.\n\nstdout:\n```\nAuto-merging addons/web/static/tests/views/calendar/calendar_view.test.js\nCONFLICT (content): Merge conflict in addons/web/static/tests/views/calendar/calendar_view.test.js\n\n```\n\nEither perform the forward-port manually (and push to this branch, proceeding as usual) or close this PR (maybe?).\n\nIn the former case, you may want to edit this PR message as well.\n\n:warning: after resolving this conflict, you will need to merge it via @robodoo.\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 24, 22, 3, 32, tzinfo=datetime.timezone.utc)}, {'comment_id': 2613721911, 'issue_id': 2810454132, 'author': 'fw-bot', 'body': '@abla001 @aab-odoo this forward port of odoo/odoo#192104 is awaiting action (not merged or closed).', 'created_at': datetime.datetime(2025, 1, 25, 2, 1, 31, tzinfo=datetime.timezone.utc)}, {'comment_id': 2614172299, 'issue_id': 2810454132, 'author': 'fw-bot', 'body': '@abla001 @aab-odoo this forward port of odoo/odoo#192104 is awaiting action (not merged or closed).', 'created_at': datetime.datetime(2025, 1, 26, 2, 1, 49, tzinfo=datetime.timezone.utc)}, {'comment_id': 2614723364, 'issue_id': 2810454132, 'author': 'fw-bot', 'body': '@abla001 @aab-odoo this forward port of odoo/odoo#192104 is awaiting action (not merged or closed).', 'created_at': datetime.datetime(2025, 1, 27, 2, 2, 27, tzinfo=datetime.timezone.utc)}, {'comment_id': 2617542410, 'issue_id': 2810454132, 'author': 'fw-bot', 'body': '@abla001 @aab-odoo this forward port of odoo/odoo#192104 is awaiting action (not merged or closed).', 'created_at': datetime.datetime(2025, 1, 28, 2, 1, 43, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-24 22:03:31 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195149.png)](https://mergebot.odoo.com/odoo/odoo/pull/195149)

fw-bot (Issue Creator) on (2025-01-24 22:03:32 UTC): @abla001 @aab-odoo cherrypicking of pull request odoo/odoo#192104 failed.

stdout:
```
Auto-merging addons/web/static/tests/views/calendar/calendar_view.test.js
CONFLICT (content): Merge conflict in addons/web/static/tests/views/calendar/calendar_view.test.js

```

Either perform the forward-port manually (and push to this branch, proceeding as usual) or close this PR (maybe?).

In the former case, you may want to edit this PR message as well.

:warning: after resolving this conflict, you will need to merge it via @robodoo.

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

fw-bot (Issue Creator) on (2025-01-25 02:01:31 UTC): @abla001 @aab-odoo this forward port of odoo/odoo#192104 is awaiting action (not merged or closed).

fw-bot (Issue Creator) on (2025-01-26 02:01:49 UTC): @abla001 @aab-odoo this forward port of odoo/odoo#192104 is awaiting action (not merged or closed).

fw-bot (Issue Creator) on (2025-01-27 02:02:27 UTC): @abla001 @aab-odoo this forward port of odoo/odoo#192104 is awaiting action (not merged or closed).

fw-bot (Issue Creator) on (2025-01-28 02:01:43 UTC): @abla001 @aab-odoo this forward port of odoo/odoo#192104 is awaiting action (not merged or closed).

"
2810444640,pull_request,closed,,[FW][IMP] stock: hide XLSX export action in quant list view for moves,"The cogwheel dropdown menu is unwanted and only contains the 'Export All' button, which is disabled with an attribute. This commit extends the existing base tree view for this specific use to avoid interfering with other views that use/extend it.

Task ID: [4471980](https://www.odoo.com/odoo/project/966/tasks/4471980)

Forward-Port-Of: odoo/odoo#193987",fw-bot,2025-01-24 21:56:56+00:00,[],2025-01-27 12:56:54+00:00,2025-01-27 12:56:54+00:00,https://github.com/odoo/odoo/pull/195148,"[('RD', 'research & development, internal work'), ('forwardport', 'This PR was created by @fw-bot'), ('conflict', 'There was an error while creating this forward-port PR')]","[{'comment_id': 2613447783, 'issue_id': 2810444640, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195148.png)](https://mergebot.odoo.com/odoo/odoo/pull/195148)', 'created_at': datetime.datetime(2025, 1, 24, 21, 56, 57, tzinfo=datetime.timezone.utc)}, {'comment_id': 2613447848, 'issue_id': 2810444640, 'author': 'fw-bot', 'body': '@lugr-odoo @amoyaux cherrypicking of pull request odoo/odoo#193987 failed.\n\nstdout:\n```\nAuto-merging addons/stock/views/stock_quant_views.xml\nCONFLICT (content): Merge conflict in addons/stock/views/stock_quant_views.xml\n\n```\n\nEither perform the forward-port manually (and push to this branch, proceeding as usual) or close this PR (maybe?).\n\nIn the former case, you may want to edit this PR message as well.\n\n:warning: after resolving this conflict, you will need to merge it via @robodoo.\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 24, 21, 56, 59, tzinfo=datetime.timezone.utc)}, {'comment_id': 2615295803, 'issue_id': 2810444640, 'author': 'amoyaux', 'body': 'robodoo r+', 'created_at': datetime.datetime(2025, 1, 27, 9, 54, 33, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-24 21:56:57 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195148.png)](https://mergebot.odoo.com/odoo/odoo/pull/195148)

fw-bot (Issue Creator) on (2025-01-24 21:56:59 UTC): @lugr-odoo @amoyaux cherrypicking of pull request odoo/odoo#193987 failed.

stdout:
```
Auto-merging addons/stock/views/stock_quant_views.xml
CONFLICT (content): Merge conflict in addons/stock/views/stock_quant_views.xml

```

Either perform the forward-port manually (and push to this branch, proceeding as usual) or close this PR (maybe?).

In the former case, you may want to edit this PR message as well.

:warning: after resolving this conflict, you will need to merge it via @robodoo.

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

amoyaux on (2025-01-27 09:54:33 UTC): robodoo r+

"
2810426836,pull_request,closed,,[FW][FIX] web_editor: change inline editor root to block on save,"**Problem**:
When we have `<b t-field=""html"">`, it is rendered in the DOM as
`<b data-oe-attr=""...""><p>content</p></b>`. When this is converted to a string
and parsed in the backend, the `html.fromstring` method removes the `p` from
the `b` because `b` is an inline element and cannot contain block elements.
This results in:
`<b data-oe-attr=""...""></b><p>content</p>`.

Since this structure has two root elements, the parser wraps them in a block
element (`div`), generating:
`<div><b data-oe-attr=""...""></b><p>content</p></div>`.

This causes a traceback when trying to access `data-oe` attributes, as they
are expected to be in the root element.

**Solution**:
Convert any `b` elements used as HTML fields to `div` elements before saving.

---
I confirm I have signed the CLA and read the PR guidelines at www.odoo.com/submit-pr

Forward-Port-Of: odoo/odoo#194872",fw-bot,2025-01-24 21:43:34+00:00,[],2025-01-28 10:18:18+00:00,2025-01-28 10:18:18+00:00,https://github.com/odoo/odoo/pull/195147,"[('RD', 'research & development, internal work'), ('forwardport', 'This PR was created by @fw-bot')]","[{'comment_id': 2613428945, 'issue_id': 2810426836, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195147.png)](https://mergebot.odoo.com/odoo/odoo/pull/195147)', 'created_at': datetime.datetime(2025, 1, 24, 21, 43, 35, tzinfo=datetime.timezone.utc)}, {'comment_id': 2613428963, 'issue_id': 2810426836, 'author': 'fw-bot', 'body': 'This PR targets saas-18.1 and is part of the forward-port chain. Further PRs will be created up to master.\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 24, 21, 43, 36, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-24 21:43:35 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195147.png)](https://mergebot.odoo.com/odoo/odoo/pull/195147)

fw-bot (Issue Creator) on (2025-01-24 21:43:36 UTC): This PR targets saas-18.1 and is part of the forward-port chain. Further PRs will be created up to master.

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

"
2810413639,pull_request,closed,,[FW][FIX] test_lint: fix comprehension issue when assigned,"This commit add support for comprenhension expression on assign node

Forward-Port-Of: odoo/odoo#194878",fw-bot,2025-01-24 21:34:45+00:00,[],2025-01-28 12:22:33+00:00,2025-01-28 12:22:33+00:00,https://github.com/odoo/odoo/pull/195146,"[('RD', 'research & development, internal work'), ('forwardport', 'This PR was created by @fw-bot')]","[{'comment_id': 2613417070, 'issue_id': 2810413639, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195146.png)](https://mergebot.odoo.com/odoo/odoo/pull/195146)', 'created_at': datetime.datetime(2025, 1, 24, 21, 34, 53, tzinfo=datetime.timezone.utc)}, {'comment_id': 2613417095, 'issue_id': 2810413639, 'author': 'fw-bot', 'body': 'This PR targets saas-17.2 and is part of the forward-port chain. Further PRs will be created up to master.\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 24, 21, 34, 54, tzinfo=datetime.timezone.utc)}, {'comment_id': 2613454762, 'issue_id': 2810413639, 'author': 'fw-bot', 'body': '@flvr-odoo ci/runbot failed on this forward-port PR', 'created_at': datetime.datetime(2025, 1, 24, 22, 1, 14, tzinfo=datetime.timezone.utc)}, {'comment_id': 2618459536, 'issue_id': 2810413639, 'author': 'flvr-odoo', 'body': 'robodoo r+', 'created_at': datetime.datetime(2025, 1, 28, 9, 49, 33, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-24 21:34:53 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195146.png)](https://mergebot.odoo.com/odoo/odoo/pull/195146)

fw-bot (Issue Creator) on (2025-01-24 21:34:54 UTC): This PR targets saas-17.2 and is part of the forward-port chain. Further PRs will be created up to master.

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

fw-bot (Issue Creator) on (2025-01-24 22:01:14 UTC): @flvr-odoo ci/runbot failed on this forward-port PR

flvr-odoo on (2025-01-28 09:49:33 UTC): robodoo r+

"
2810380963,pull_request,closed,,[FW][FIX] im_livechat: auto popup always open,"Livechats can be configured to automatically open a chat window when a visitor opens a page. This should only occur once per visitor not to bother visitors.

Before this PR, this occured each time the visitor accessed the page. The information on whether the popup was donce once is stored in the local storage but is incorrectly checked. This PR fixes the issue.

opw-4503667

Forward-Port-Of: odoo/odoo#195075",fw-bot,2025-01-24 21:10:45+00:00,[],2025-01-25 17:49:41+00:00,2025-01-25 13:47:56+00:00,https://github.com/odoo/odoo/pull/195145,"[('OE', 'the report is linked to a support ticket (opw-...)'), ('forwardport', 'This PR was created by @fw-bot'), ('18.2', None)]","[{'comment_id': 2613385215, 'issue_id': 2810380963, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195145.png)](https://mergebot.odoo.com/odoo/odoo/pull/195145)', 'created_at': datetime.datetime(2025, 1, 24, 21, 10, 46, tzinfo=datetime.timezone.utc)}, {'comment_id': 2613385231, 'issue_id': 2810380963, 'author': 'fw-bot', 'body': '@tsm-odoo @alexkuhn this PR targets master and is the last of the forward-port chain containing:\n* odoo/odoo#195136\n\nTo merge the full chain, use\n> @robodoo r+\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 24, 21, 10, 47, tzinfo=datetime.timezone.utc)}, {'comment_id': 2613938573, 'issue_id': 2810380963, 'author': 'alexkuhn', 'body': '@robodoo r+', 'created_at': datetime.datetime(2025, 1, 25, 11, 44, 29, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-24 21:10:46 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195145.png)](https://mergebot.odoo.com/odoo/odoo/pull/195145)

fw-bot (Issue Creator) on (2025-01-24 21:10:47 UTC): @tsm-odoo @alexkuhn this PR targets master and is the last of the forward-port chain containing:
* odoo/odoo#195136

To merge the full chain, use

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

alexkuhn on (2025-01-25 11:44:29 UTC): @robodoo r+

"
2810376131,pull_request,closed,,[FW][FIX] mail: update systray counter on discard of native notification,"**Current behavior before PR:**

Since [1](https://github.com/odoo/odoo/pull/192336) when a user discarded the `Turn on notifications` option from the 
messaging menu,  the systray notification counter was not updated. 
This issue occurred due to an incorrectly written condition.

**Desired behavior after PR is merged:**

The issue is resolved, and the systray notification counter is correctly 
updated when the user discards the native notification prompt.


---
I confirm I have signed the CLA and read the PR guidelines at www.odoo.com/submit-pr

Forward-Port-Of: odoo/odoo#194700",fw-bot,2025-01-24 21:07:17+00:00,[],2025-01-25 17:49:33+00:00,2025-01-25 13:47:51+00:00,https://github.com/odoo/odoo/pull/195144,"[('RD', 'research & development, internal work'), ('forwardport', 'This PR was created by @fw-bot'), ('18.2', None)]","[{'comment_id': 2613380522, 'issue_id': 2810376131, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195144.png)](https://mergebot.odoo.com/odoo/odoo/pull/195144)', 'created_at': datetime.datetime(2025, 1, 24, 21, 7, 19, tzinfo=datetime.timezone.utc)}, {'comment_id': 2613380533, 'issue_id': 2810376131, 'author': 'fw-bot', 'body': '@ramh-odoo @alexkuhn this PR targets master and is the last of the forward-port chain containing:\n* odoo/odoo#195138\n\nTo merge the full chain, use\n> @robodoo r+\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 24, 21, 7, 19, tzinfo=datetime.timezone.utc)}, {'comment_id': 2613938530, 'issue_id': 2810376131, 'author': 'alexkuhn', 'body': '@robodoo r+', 'created_at': datetime.datetime(2025, 1, 25, 11, 44, 16, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-24 21:07:19 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195144.png)](https://mergebot.odoo.com/odoo/odoo/pull/195144)

fw-bot (Issue Creator) on (2025-01-24 21:07:19 UTC): @ramh-odoo @alexkuhn this PR targets master and is the last of the forward-port chain containing:
* odoo/odoo#195138

To merge the full chain, use

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

alexkuhn on (2025-01-25 11:44:16 UTC): @robodoo r+

"
2810336884,pull_request,closed,,[FIX] web: view_service: mark loadViews as async,"Before this commit, loadViews didn't benefit from the ""async"" protection of services. Indeed, when used in a component (via useService), the promise returned by loadViews could be resolved (when the rpc returned), even if the component had been destroyed meanwhile. This could lead to code in a destroyed component being executed, and eventually doing an rpc, which would lead to the crash `Error: Component is destroyed`.

This could be reproduced in a form view with an x2many field, whose form view isn't inline (i.e. needs to be fetched when a record is clicked). In such a form view, click on a record in the x2many, then, during the call to get_views, toggle the home menu (for instance).

Description of the issue/feature this PR addresses:

Current behavior before PR:

Desired behavior after PR is merged:




---
I confirm I have signed the CLA and read the PR guidelines at www.odoo.com/submit-pr
",aab-odoo,2025-01-24 20:38:00+00:00,[],2025-01-27 11:51:27+00:00,2025-01-27 11:51:27+00:00,https://github.com/odoo/odoo/pull/195143,"[('RD', 'research & development, internal work')]","[{'comment_id': 2613339859, 'issue_id': 2810336884, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195143.png)](https://mergebot.odoo.com/odoo/odoo/pull/195143)', 'created_at': datetime.datetime(2025, 1, 24, 20, 38, 2, tzinfo=datetime.timezone.utc)}, {'comment_id': 2613339962, 'issue_id': 2810336884, 'author': 'aab-odoo', 'body': 'robodoo help', 'created_at': datetime.datetime(2025, 1, 24, 20, 38, 8, tzinfo=datetime.timezone.utc)}, {'comment_id': 2613340029, 'issue_id': 2810336884, 'author': 'robodoo', 'body': 'Currently available commands for @aab-odoo:\n\n|command||\n|-|-|\n|`help`|displays this help|\n|`fw=no`|does not forward-port this PR|\n|`fw=default`|forward-ports this PR normally|\n|`up to <branch>`|only ports this PR forward to the specified branch (included)|\n|`override=<...>`|marks overridable statuses as successful|\n|`check`|fetches or refreshes PR metadata, resets mergebot state|\n\nNote: this help text is dynamic and will change with the state of the PR.', 'created_at': datetime.datetime(2025, 1, 24, 20, 38, 11, tzinfo=datetime.timezone.utc)}, {'comment_id': 2613340367, 'issue_id': 2810336884, 'author': 'aab-odoo', 'body': 'robodoo up to saas-17.4', 'created_at': datetime.datetime(2025, 1, 24, 20, 38, 25, tzinfo=datetime.timezone.utc)}, {'comment_id': 2613340433, 'issue_id': 2810336884, 'author': 'robodoo', 'body': ""Forward-porting to 'saas-17.4'."", 'created_at': datetime.datetime(2025, 1, 24, 20, 38, 27, tzinfo=datetime.timezone.utc)}, {'comment_id': 2613341108, 'issue_id': 2810336884, 'author': 'aab-odoo', 'body': '> robodoo up to saas-17.4\r\n\r\nfor v18 and above: https://github.com/odoo/odoo/pull/195139', 'created_at': datetime.datetime(2025, 1, 24, 20, 38, 56, tzinfo=datetime.timezone.utc)}, {'comment_id': 2615200159, 'issue_id': 2810336884, 'author': 'Polymorphe57', 'body': '@robodoo r+', 'created_at': datetime.datetime(2025, 1, 27, 9, 10, 24, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-24 20:38:02 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195143.png)](https://mergebot.odoo.com/odoo/odoo/pull/195143)

aab-odoo (Issue Creator) on (2025-01-24 20:38:08 UTC): robodoo help

robodoo on (2025-01-24 20:38:11 UTC): Currently available commands for @aab-odoo:

|command||
|-|-|
|`help`|displays this help|
|`fw=no`|does not forward-port this PR|
|`fw=default`|forward-ports this PR normally|
|`up to <branch>`|only ports this PR forward to the specified branch (included)|
|`override=<...>`|marks overridable statuses as successful|
|`check`|fetches or refreshes PR metadata, resets mergebot state|

Note: this help text is dynamic and will change with the state of the PR.

aab-odoo (Issue Creator) on (2025-01-24 20:38:25 UTC): robodoo up to saas-17.4

robodoo on (2025-01-24 20:38:27 UTC): Forward-porting to 'saas-17.4'.

aab-odoo (Issue Creator) on (2025-01-24 20:38:56 UTC): for v18 and above: https://github.com/odoo/odoo/pull/195139

Polymorphe57 on (2025-01-27 09:10:24 UTC): @robodoo r+

"
2810331237,pull_request,open,,[FW][IMP] stock: hide XLSX export action in quant list view for moves,"The cogwheel dropdown menu is unwanted and only contains the 'Export All' button, which is disabled with an attribute. This commit extends the existing base tree view for this specific use to avoid interfering with other views that use/extend it.

Task ID: [4471980](https://www.odoo.com/odoo/project/966/tasks/4471980)

Forward-Port-Of: odoo/odoo#193987",fw-bot,2025-01-24 20:33:53+00:00,[],2025-02-03 02:02:34+00:00,,https://github.com/odoo/odoo/pull/195142,"[('RD', 'research & development, internal work'), ('forwardport', 'This PR was created by @fw-bot')]","[{'comment_id': 2613334093, 'issue_id': 2810331237, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195142.png)](https://mergebot.odoo.com/odoo/odoo/pull/195142)', 'created_at': datetime.datetime(2025, 1, 24, 20, 33, 54, tzinfo=datetime.timezone.utc)}, {'comment_id': 2613334112, 'issue_id': 2810331237, 'author': 'fw-bot', 'body': 'This PR targets saas-17.4 and is part of the forward-port chain. Further PRs will be created up to master.\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 24, 20, 33, 55, tzinfo=datetime.timezone.utc)}, {'comment_id': 2613447809, 'issue_id': 2810331237, 'author': 'fw-bot', 'body': '@lugr-odoo @amoyaux the next pull request (odoo/odoo#195148) is in conflict. You can merge the chain up to here by saying\n> @robodoo r+\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 24, 21, 56, 57, tzinfo=datetime.timezone.utc)}, {'comment_id': 2617540959, 'issue_id': 2810331237, 'author': 'fw-bot', 'body': '@lugr-odoo @amoyaux this forward port of odoo/odoo#193987 is awaiting action (not merged or closed).', 'created_at': datetime.datetime(2025, 1, 28, 2, 1, 20, tzinfo=datetime.timezone.utc)}, {'comment_id': 2620471311, 'issue_id': 2810331237, 'author': 'fw-bot', 'body': '@lugr-odoo @amoyaux this forward port of odoo/odoo#193987 is awaiting action (not merged or closed).', 'created_at': datetime.datetime(2025, 1, 29, 2, 1, 1, tzinfo=datetime.timezone.utc)}, {'comment_id': 2623354184, 'issue_id': 2810331237, 'author': 'fw-bot', 'body': '@lugr-odoo @amoyaux this forward port of odoo/odoo#193987 is awaiting action (not merged or closed).', 'created_at': datetime.datetime(2025, 1, 30, 2, 1, 54, tzinfo=datetime.timezone.utc)}, {'comment_id': 2626136755, 'issue_id': 2810331237, 'author': 'fw-bot', 'body': '@lugr-odoo @amoyaux this forward port of odoo/odoo#193987 is awaiting action (not merged or closed).', 'created_at': datetime.datetime(2025, 1, 31, 2, 1, 51, tzinfo=datetime.timezone.utc)}, {'comment_id': 2628685108, 'issue_id': 2810331237, 'author': 'fw-bot', 'body': '@lugr-odoo @amoyaux this forward port of odoo/odoo#193987 is awaiting action (not merged or closed).', 'created_at': datetime.datetime(2025, 2, 1, 2, 1, 21, tzinfo=datetime.timezone.utc)}, {'comment_id': 2629201785, 'issue_id': 2810331237, 'author': 'fw-bot', 'body': '@lugr-odoo @amoyaux this forward port of odoo/odoo#193987 is awaiting action (not merged or closed).', 'created_at': datetime.datetime(2025, 2, 2, 2, 1, 35, tzinfo=datetime.timezone.utc)}, {'comment_id': 2629730360, 'issue_id': 2810331237, 'author': 'fw-bot', 'body': '@lugr-odoo @amoyaux this forward port of odoo/odoo#193987 is awaiting action (not merged or closed).', 'created_at': datetime.datetime(2025, 2, 3, 2, 2, 33, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-24 20:33:54 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195142.png)](https://mergebot.odoo.com/odoo/odoo/pull/195142)

fw-bot (Issue Creator) on (2025-01-24 20:33:55 UTC): This PR targets saas-17.4 and is part of the forward-port chain. Further PRs will be created up to master.

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

fw-bot (Issue Creator) on (2025-01-24 21:56:57 UTC): @lugr-odoo @amoyaux the next pull request (odoo/odoo#195148) is in conflict. You can merge the chain up to here by saying

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

fw-bot (Issue Creator) on (2025-01-28 02:01:20 UTC): @lugr-odoo @amoyaux this forward port of odoo/odoo#193987 is awaiting action (not merged or closed).

fw-bot (Issue Creator) on (2025-01-29 02:01:01 UTC): @lugr-odoo @amoyaux this forward port of odoo/odoo#193987 is awaiting action (not merged or closed).

fw-bot (Issue Creator) on (2025-01-30 02:01:54 UTC): @lugr-odoo @amoyaux this forward port of odoo/odoo#193987 is awaiting action (not merged or closed).

fw-bot (Issue Creator) on (2025-01-31 02:01:51 UTC): @lugr-odoo @amoyaux this forward port of odoo/odoo#193987 is awaiting action (not merged or closed).

fw-bot (Issue Creator) on (2025-02-01 02:01:21 UTC): @lugr-odoo @amoyaux this forward port of odoo/odoo#193987 is awaiting action (not merged or closed).

fw-bot (Issue Creator) on (2025-02-02 02:01:35 UTC): @lugr-odoo @amoyaux this forward port of odoo/odoo#193987 is awaiting action (not merged or closed).

fw-bot (Issue Creator) on (2025-02-03 02:02:33 UTC): @lugr-odoo @amoyaux this forward port of odoo/odoo#193987 is awaiting action (not merged or closed).

"
2810316067,pull_request,closed,,[FW][FIX] web_editor: change inline editor root to block on save,"**Problem**:
When we have `<b t-field=""html"">`, it is rendered in the DOM as
`<b data-oe-attr=""...""><p>content</p></b>`. When this is converted to a string
and parsed in the backend, the `html.fromstring` method removes the `p` from
the `b` because `b` is an inline element and cannot contain block elements.
This results in:
`<b data-oe-attr=""...""></b><p>content</p>`.

Since this structure has two root elements, the parser wraps them in a block
element (`div`), generating:
`<div><b data-oe-attr=""...""></b><p>content</p></div>`.

This causes a traceback when trying to access `data-oe` attributes, as they
are expected to be in the root element.

**Solution**:
Convert any `b` elements used as HTML fields to `div` elements before saving.

---
I confirm I have signed the CLA and read the PR guidelines at www.odoo.com/submit-pr

Forward-Port-Of: odoo/odoo#194872",fw-bot,2025-01-24 20:22:51+00:00,[],2025-01-28 10:18:17+00:00,2025-01-28 10:18:16+00:00,https://github.com/odoo/odoo/pull/195141,"[('RD', 'research & development, internal work'), ('forwardport', 'This PR was created by @fw-bot')]","[{'comment_id': 2613318336, 'issue_id': 2810316067, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195141.png)](https://mergebot.odoo.com/odoo/odoo/pull/195141)', 'created_at': datetime.datetime(2025, 1, 24, 20, 22, 52, tzinfo=datetime.timezone.utc)}, {'comment_id': 2613318360, 'issue_id': 2810316067, 'author': 'fw-bot', 'body': 'This PR targets 18.0 and is part of the forward-port chain. Further PRs will be created up to master.\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 24, 20, 22, 53, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-24 20:22:52 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195141.png)](https://mergebot.odoo.com/odoo/odoo/pull/195141)

fw-bot (Issue Creator) on (2025-01-24 20:22:53 UTC): This PR targets 18.0 and is part of the forward-port chain. Further PRs will be created up to master.

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

"
2810306465,pull_request,closed,,[FW][FIX] account: cash basis journal for last payment,"If you pay an invoice with multiple payments some roundings are made for the taxes. On the last payment, the error from those roundings are put on a move to make sure that the exact amount of the invoice is paid.

That move was put on the wrong journal. It was put in the 'Exchange Difference' journal instead of the 'Cash Basis Taxes'.

opw-4460696

---
I confirm I have signed the CLA and read the PR guidelines at www.odoo.com/submit-pr

Forward-Port-Of: odoo/odoo#193994",fw-bot,2025-01-24 20:15:49+00:00,[],2025-01-27 14:17:16+00:00,2025-01-27 14:17:16+00:00,https://github.com/odoo/odoo/pull/195140,"[('OE', 'the report is linked to a support ticket (opw-...)'), ('forwardport', 'This PR was created by @fw-bot')]","[{'comment_id': 2613308178, 'issue_id': 2810306465, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195140.png)](https://mergebot.odoo.com/odoo/odoo/pull/195140)', 'created_at': datetime.datetime(2025, 1, 24, 20, 15, 50, tzinfo=datetime.timezone.utc)}, {'comment_id': 2613308187, 'issue_id': 2810306465, 'author': 'fw-bot', 'body': 'This PR targets saas-18.1 and is part of the forward-port chain. Further PRs will be created up to master.\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 24, 20, 15, 51, tzinfo=datetime.timezone.utc)}, {'comment_id': 2613357678, 'issue_id': 2810306465, 'author': 'fw-bot', 'body': '@rugo-odoo @william-andre ci/runbot failed on this forward-port PR', 'created_at': datetime.datetime(2025, 1, 24, 20, 50, 39, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-24 20:15:50 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195140.png)](https://mergebot.odoo.com/odoo/odoo/pull/195140)

fw-bot (Issue Creator) on (2025-01-24 20:15:51 UTC): This PR targets saas-18.1 and is part of the forward-port chain. Further PRs will be created up to master.

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

fw-bot (Issue Creator) on (2025-01-24 20:50:39 UTC): @rugo-odoo @william-andre ci/runbot failed on this forward-port PR

"
2810294547,pull_request,closed,,[FIX] web: view_service: mark loadViews as async,"Before this commit, loadViews didn't benefit from the ""async"" protection of services. Indeed, when used in a component (via useService), the promise returned by loadViews could be resolved (when the rpc returned), even if the component had been destroyed meanwhile. This could lead to code in a destroyed component being executed, and eventually doing an rpc, which would lead to the crash `Error: Component is destroyed`.

This could be reproduced in a form view with an x2many field, whose form view isn't inline (i.e. needs to be fetched when a record is clicked). In such a form view, click on a record in the x2many, then, during the call to `get_views`, toggle the home menu (for instance).

Description of the issue/feature this PR addresses:

Current behavior before PR:

Desired behavior after PR is merged:




---
I confirm I have signed the CLA and read the PR guidelines at www.odoo.com/submit-pr
",aab-odoo,2025-01-24 20:07:17+00:00,[],2025-01-27 11:05:08+00:00,2025-01-27 11:05:08+00:00,https://github.com/odoo/odoo/pull/195139,"[('RD', 'research & development, internal work')]","[{'comment_id': 2613295990, 'issue_id': 2810294547, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195139.png)](https://mergebot.odoo.com/odoo/odoo/pull/195139)', 'created_at': datetime.datetime(2025, 1, 24, 20, 7, 20, tzinfo=datetime.timezone.utc)}, {'comment_id': 2615196637, 'issue_id': 2810294547, 'author': 'Polymorphe57', 'body': '@robodoo r+', 'created_at': datetime.datetime(2025, 1, 27, 9, 8, 43, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-24 20:07:20 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195139.png)](https://mergebot.odoo.com/odoo/odoo/pull/195139)

Polymorphe57 on (2025-01-27 09:08:43 UTC): @robodoo r+

"
2810283568,pull_request,closed,,[FW][FIX] mail: update systray counter on discard of native notification,"**Current behavior before PR:**

Since [1](https://github.com/odoo/odoo/pull/192336) when a user discarded the `Turn on notifications` option from the 
messaging menu,  the systray notification counter was not updated. 
This issue occurred due to an incorrectly written condition.

**Desired behavior after PR is merged:**

The issue is resolved, and the systray notification counter is correctly 
updated when the user discards the native notification prompt.


---
I confirm I have signed the CLA and read the PR guidelines at www.odoo.com/submit-pr

Forward-Port-Of: odoo/odoo#194700",fw-bot,2025-01-24 19:59:38+00:00,[],2025-01-25 13:20:40+00:00,2025-01-25 13:20:40+00:00,https://github.com/odoo/odoo/pull/195138,"[('RD', 'research & development, internal work'), ('forwardport', 'This PR was created by @fw-bot')]","[{'comment_id': 2613284201, 'issue_id': 2810283568, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195138.png)](https://mergebot.odoo.com/odoo/odoo/pull/195138)', 'created_at': datetime.datetime(2025, 1, 24, 19, 59, 39, tzinfo=datetime.timezone.utc)}, {'comment_id': 2613284214, 'issue_id': 2810283568, 'author': 'fw-bot', 'body': 'This PR targets saas-18.1 and is part of the forward-port chain. Further PRs will be created up to master.\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 24, 19, 59, 39, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-24 19:59:39 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195138.png)](https://mergebot.odoo.com/odoo/odoo/pull/195138)

fw-bot (Issue Creator) on (2025-01-24 19:59:39 UTC): This PR targets saas-18.1 and is part of the forward-port chain. Further PRs will be created up to master.

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

"
2810283179,pull_request,closed,,[FW][FIX] website_sale: shop product grid border,"Issue: in the /shop page, using the grid style if we change the size of a product on another column than the first one, the border of the grid will appear on the product or behind its image.

This is due to the width 100vw which extends behind the product's current width and overflowing on other products of the same row.

task-4513299
opw-4447224

| ![image](https://github.com/user-attachments/assets/f09e4233-f8da-441f-ba52-eefa139d0b75)|
|--------|



---
I confirm I have signed the CLA and read the PR guidelines at www.odoo.com/submit-pr

Forward-Port-Of: odoo/odoo#195063",fw-bot,2025-01-24 19:59:21+00:00,[],2025-01-27 10:59:06+00:00,2025-01-27 10:59:06+00:00,https://github.com/odoo/odoo/pull/195137,"[('OE', 'the report is linked to a support ticket (opw-...)'), ('forwardport', 'This PR was created by @fw-bot')]","[{'comment_id': 2613283801, 'issue_id': 2810283179, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195137.png)](https://mergebot.odoo.com/odoo/odoo/pull/195137)', 'created_at': datetime.datetime(2025, 1, 24, 19, 59, 22, tzinfo=datetime.timezone.utc)}, {'comment_id': 2613283817, 'issue_id': 2810283179, 'author': 'fw-bot', 'body': '@mano-odoo @chevalierv this PR targets saas-18.1 and is the last of the forward-port chain.\n\nTo merge the full chain, use\n> @robodoo r+\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 24, 19, 59, 22, tzinfo=datetime.timezone.utc)}, {'comment_id': 2615127753, 'issue_id': 2810283179, 'author': 'mano-odoo', 'body': '@robodoo r+', 'created_at': datetime.datetime(2025, 1, 27, 8, 35, 51, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-24 19:59:22 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195137.png)](https://mergebot.odoo.com/odoo/odoo/pull/195137)

fw-bot (Issue Creator) on (2025-01-24 19:59:22 UTC): @mano-odoo @chevalierv this PR targets saas-18.1 and is the last of the forward-port chain.

To merge the full chain, use

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

mano-odoo on (2025-01-27 08:35:51 UTC): @robodoo r+

"
2810282565,pull_request,closed,,[FW][FIX] im_livechat: auto popup always open,"Livechats can be configured to automatically open a chat window when a visitor opens a page. This should only occur once per visitor not to bother visitors.

Before this PR, this occured each time the visitor accessed the page. The information on whether the popup was donce once is stored in the local storage but is incorrectly checked. This PR fixes the issue.

opw-4503667

Forward-Port-Of: odoo/odoo#195075",fw-bot,2025-01-24 19:59:03+00:00,[],2025-01-25 13:20:44+00:00,2025-01-25 13:20:44+00:00,https://github.com/odoo/odoo/pull/195136,"[('OE', 'the report is linked to a support ticket (opw-...)'), ('forwardport', 'This PR was created by @fw-bot')]","[{'comment_id': 2613283389, 'issue_id': 2810282565, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195136.png)](https://mergebot.odoo.com/odoo/odoo/pull/195136)', 'created_at': datetime.datetime(2025, 1, 24, 19, 59, 6, tzinfo=datetime.timezone.utc)}, {'comment_id': 2613283406, 'issue_id': 2810282565, 'author': 'fw-bot', 'body': 'This PR targets saas-18.1 and is part of the forward-port chain. Further PRs will be created up to master.\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 24, 19, 59, 7, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-24 19:59:06 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195136.png)](https://mergebot.odoo.com/odoo/odoo/pull/195136)

fw-bot (Issue Creator) on (2025-01-24 19:59:07 UTC): This PR targets saas-18.1 and is part of the forward-port chain. Further PRs will be created up to master.

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

"
2810221940,pull_request,open,,[FW][IMP] stock: hide XLSX export action in quant list view for moves,"The cogwheel dropdown menu is unwanted and only contains the 'Export All' button, which is disabled with an attribute. This commit extends the existing base tree view for this specific use to avoid interfering with other views that use/extend it.

Task ID: [4471980](https://www.odoo.com/odoo/project/966/tasks/4471980)

Forward-Port-Of: odoo/odoo#193987",fw-bot,2025-01-24 19:17:02+00:00,[],2025-01-24 20:00:14+00:00,,https://github.com/odoo/odoo/pull/195135,"[('RD', 'research & development, internal work'), ('forwardport', 'This PR was created by @fw-bot')]","[{'comment_id': 2613220147, 'issue_id': 2810221940, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195135.png)](https://mergebot.odoo.com/odoo/odoo/pull/195135)', 'created_at': datetime.datetime(2025, 1, 24, 19, 17, 6, tzinfo=datetime.timezone.utc)}, {'comment_id': 2613220165, 'issue_id': 2810221940, 'author': 'fw-bot', 'body': 'This PR targets saas-17.2 and is part of the forward-port chain. Further PRs will be created up to master.\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 24, 19, 17, 6, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-24 19:17:06 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195135.png)](https://mergebot.odoo.com/odoo/odoo/pull/195135)

fw-bot (Issue Creator) on (2025-01-24 19:17:06 UTC): This PR targets saas-17.2 and is part of the forward-port chain. Further PRs will be created up to master.

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

"
2810217250,pull_request,closed,,[FW][FIX] web_editor: change inline editor root to block on save,"**Problem**:
When we have `<b t-field=""html"">`, it is rendered in the DOM as
`<b data-oe-attr=""...""><p>content</p></b>`. When this is converted to a string
and parsed in the backend, the `html.fromstring` method removes the `p` from
the `b` because `b` is an inline element and cannot contain block elements.
This results in:
`<b data-oe-attr=""...""></b><p>content</p>`.

Since this structure has two root elements, the parser wraps them in a block
element (`div`), generating:
`<div><b data-oe-attr=""...""></b><p>content</p></div>`.

This causes a traceback when trying to access `data-oe` attributes, as they
are expected to be in the root element.

**Solution**:
Convert any `b` elements used as HTML fields to `div` elements before saving.

---
I confirm I have signed the CLA and read the PR guidelines at www.odoo.com/submit-pr

Forward-Port-Of: odoo/odoo#194872",fw-bot,2025-01-24 19:13:52+00:00,[],2025-01-27 07:43:18+00:00,2025-01-27 07:43:18+00:00,https://github.com/odoo/odoo/pull/195134,"[('RD', 'research & development, internal work'), ('forwardport', 'This PR was created by @fw-bot')]","[{'comment_id': 2613215091, 'issue_id': 2810217250, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195134.png)](https://mergebot.odoo.com/odoo/odoo/pull/195134)', 'created_at': datetime.datetime(2025, 1, 24, 19, 13, 53, tzinfo=datetime.timezone.utc)}, {'comment_id': 2613215108, 'issue_id': 2810217250, 'author': 'fw-bot', 'body': 'This PR targets saas-17.4 and is part of the forward-port chain. Further PRs will be created up to master.\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 24, 19, 13, 54, tzinfo=datetime.timezone.utc)}, {'comment_id': 2614943370, 'issue_id': 2810217250, 'author': 'walidsahli', 'body': '@robodoo r+', 'created_at': datetime.datetime(2025, 1, 27, 6, 31, 41, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-24 19:13:53 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195134.png)](https://mergebot.odoo.com/odoo/odoo/pull/195134)

fw-bot (Issue Creator) on (2025-01-24 19:13:54 UTC): This PR targets saas-17.4 and is part of the forward-port chain. Further PRs will be created up to master.

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

walidsahli on (2025-01-27 06:31:41 UTC): @robodoo r+

"
2810211702,pull_request,closed,,[FW][FIX] account: cash basis journal for last payment,"If you pay an invoice with multiple payments some roundings are made for the taxes. On the last payment, the error from those roundings are put on a move to make sure that the exact amount of the invoice is paid.

That move was put on the wrong journal. It was put in the 'Exchange Difference' journal instead of the 'Cash Basis Taxes'.

opw-4460696

---
I confirm I have signed the CLA and read the PR guidelines at www.odoo.com/submit-pr

Forward-Port-Of: odoo/odoo#193994",fw-bot,2025-01-24 19:09:58+00:00,[],2025-01-27 14:35:51+00:00,2025-01-27 14:35:51+00:00,https://github.com/odoo/odoo/pull/195133,"[('OE', 'the report is linked to a support ticket (opw-...)'), ('forwardport', 'This PR was created by @fw-bot')]","[{'comment_id': 2613209084, 'issue_id': 2810211702, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195133.png)](https://mergebot.odoo.com/odoo/odoo/pull/195133)', 'created_at': datetime.datetime(2025, 1, 24, 19, 9, 59, tzinfo=datetime.timezone.utc)}, {'comment_id': 2613209100, 'issue_id': 2810211702, 'author': 'fw-bot', 'body': 'This PR targets 18.0 and is part of the forward-port chain. Further PRs will be created up to master.\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 24, 19, 10, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-24 19:09:59 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195133.png)](https://mergebot.odoo.com/odoo/odoo/pull/195133)

fw-bot (Issue Creator) on (2025-01-24 19:10:00 UTC): This PR targets 18.0 and is part of the forward-port chain. Further PRs will be created up to master.

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

"
2810209834,pull_request,closed,,[FIX] core: deprecated type='json' alias for type='jsonrpc',"Commit 67b6ef3 changed `@route(type='json')` for `@route(type='jsonrpc')` but with no deprecation warning. Using `@route(type='json')` resulted in a (not so obvious) AssertionError.

In this work, we restored `type='json'` as a deprecated alias to `type='jsonrpc'`, the warning is only logged once. We also improved the assertion message so it lists the valid types.

If you need cross-version compatibility (down to 16.0) you might also do:

	from odoo.http import JsonRPCDispatcher
	@route(..., type=JsonRPCDispatcher.routing_type)

There's also a upgrade-code script to help you change all `type='json'` to `type='jsonrpc'`:

	odoo-bin upgrade_code --help
	odoo-bin upgrade_code --script route-jsonrpc

task-4257153
",Julien00859,2025-01-24 19:08:38+00:00,[],2025-02-08 03:46:08+00:00,2025-01-25 02:44:33+00:00,https://github.com/odoo/odoo/pull/195132,"[('RD', 'research & development, internal work')]","[{'comment_id': 2613207254, 'issue_id': 2810209834, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195132.png)](https://mergebot.odoo.com/odoo/odoo/pull/195132)', 'created_at': datetime.datetime(2025, 1, 24, 19, 8, 41, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-24 19:08:41 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195132.png)](https://mergebot.odoo.com/odoo/odoo/pull/195132)

"
2810198864,pull_request,closed,,[FW][FIX] l10n_tr: update taxes,"This commit will update some taxes:
- Update the purchase tax accounts
- Add new 0% EX tax
- Delete EX RS 20% & EX RS -20%

In the tax report:
- Change the name of the report
- Add a new record

task: 4244715




---
I confirm I have signed the CLA and read the PR guidelines at www.odoo.com/submit-pr

Forward-Port-Of: odoo/odoo#185947",fw-bot,2025-01-24 19:01:41+00:00,[],2025-01-31 10:37:22+00:00,2025-01-31 10:37:22+00:00,https://github.com/odoo/odoo/pull/195131,"[('RD', 'research & development, internal work'), ('forwardport', 'This PR was created by @fw-bot'), ('conflict', 'There was an error while creating this forward-port PR')]","[{'comment_id': 2613196462, 'issue_id': 2810198864, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195131.png)](https://mergebot.odoo.com/odoo/odoo/pull/195131)', 'created_at': datetime.datetime(2025, 1, 24, 19, 1, 42, tzinfo=datetime.timezone.utc)}, {'comment_id': 2613196528, 'issue_id': 2810198864, 'author': 'fw-bot', 'body': '@malb-odoo @gawa-odoo cherrypicking of pull request odoo/odoo#185947 failed.\n\nstdout:\n```\nAuto-merging addons/l10n_tr/__manifest__.py\nAuto-merging addons/l10n_tr/data/template/account.tax-tr.csv\nCONFLICT (content): Merge conflict in addons/l10n_tr/data/template/account.tax-tr.csv\n\n```\n\nEither perform the forward-port manually (and push to this branch, proceeding as usual) or close this PR (maybe?).\n\nIn the former case, you may want to edit this PR message as well.\n\n:warning: after resolving this conflict, you will need to merge it via @robodoo.\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 24, 19, 1, 44, tzinfo=datetime.timezone.utc)}, {'comment_id': 2617544116, 'issue_id': 2810198864, 'author': 'fw-bot', 'body': '@malb-odoo @gawa-odoo this forward port of odoo/odoo#185947 is awaiting action (not merged or closed).', 'created_at': datetime.datetime(2025, 1, 28, 2, 2, 9, tzinfo=datetime.timezone.utc)}, {'comment_id': 2620471963, 'issue_id': 2810198864, 'author': 'fw-bot', 'body': '@malb-odoo @gawa-odoo this forward port of odoo/odoo#185947 is awaiting action (not merged or closed).', 'created_at': datetime.datetime(2025, 1, 29, 2, 1, 37, tzinfo=datetime.timezone.utc)}, {'comment_id': 2623354750, 'issue_id': 2810198864, 'author': 'fw-bot', 'body': '@malb-odoo @gawa-odoo this forward port of odoo/odoo#185947 is awaiting action (not merged or closed).', 'created_at': datetime.datetime(2025, 1, 30, 2, 2, 20, tzinfo=datetime.timezone.utc)}, {'comment_id': 2626138238, 'issue_id': 2810198864, 'author': 'fw-bot', 'body': '@malb-odoo @gawa-odoo this forward port of odoo/odoo#185947 is awaiting action (not merged or closed).', 'created_at': datetime.datetime(2025, 1, 31, 2, 2, 18, tzinfo=datetime.timezone.utc)}, {'comment_id': 2626485121, 'issue_id': 2810198864, 'author': 'malb-odoo', 'body': '@robodoo r+', 'created_at': datetime.datetime(2025, 1, 31, 7, 33, 18, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-24 19:01:42 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195131.png)](https://mergebot.odoo.com/odoo/odoo/pull/195131)

fw-bot (Issue Creator) on (2025-01-24 19:01:44 UTC): @malb-odoo @gawa-odoo cherrypicking of pull request odoo/odoo#185947 failed.

stdout:
```
Auto-merging addons/l10n_tr/__manifest__.py
Auto-merging addons/l10n_tr/data/template/account.tax-tr.csv
CONFLICT (content): Merge conflict in addons/l10n_tr/data/template/account.tax-tr.csv

```

Either perform the forward-port manually (and push to this branch, proceeding as usual) or close this PR (maybe?).

In the former case, you may want to edit this PR message as well.

:warning: after resolving this conflict, you will need to merge it via @robodoo.

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

fw-bot (Issue Creator) on (2025-01-28 02:02:09 UTC): @malb-odoo @gawa-odoo this forward port of odoo/odoo#185947 is awaiting action (not merged or closed).

fw-bot (Issue Creator) on (2025-01-29 02:01:37 UTC): @malb-odoo @gawa-odoo this forward port of odoo/odoo#185947 is awaiting action (not merged or closed).

fw-bot (Issue Creator) on (2025-01-30 02:02:20 UTC): @malb-odoo @gawa-odoo this forward port of odoo/odoo#185947 is awaiting action (not merged or closed).

fw-bot (Issue Creator) on (2025-01-31 02:02:18 UTC): @malb-odoo @gawa-odoo this forward port of odoo/odoo#185947 is awaiting action (not merged or closed).

malb-odoo on (2025-01-31 07:33:18 UTC): @robodoo r+

"
2810187148,pull_request,closed,,[FW][FIX] web: handle field sorting should include id,"This commit makes the same fix as [1] but it does t for kanban views instead of list views.

We discovered in task [2] we were developing for the master branch that we needed this fix and that we wanted to fix it from 17.0

[1]: ecc0a38a1d3b04f854d761fd498b120a4dfef5ad
[2]: opw-4370092

Task: opw-4370092

Forward-Port-Of: odoo/odoo#194941
Forward-Port-Of: odoo/odoo#194859",fw-bot,2025-01-24 18:55:58+00:00,[],2025-01-27 14:35:53+00:00,2025-01-27 14:35:53+00:00,https://github.com/odoo/odoo/pull/195130,"[('OE', 'the report is linked to a support ticket (opw-...)'), ('forwardport', 'This PR was created by @fw-bot'), ('conflict', 'There was an error while creating this forward-port PR')]","[{'comment_id': 2613187516, 'issue_id': 2810187148, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195130.png)](https://mergebot.odoo.com/odoo/odoo/pull/195130)', 'created_at': datetime.datetime(2025, 1, 24, 18, 55, 59, tzinfo=datetime.timezone.utc)}, {'comment_id': 2613187529, 'issue_id': 2810187148, 'author': 'fw-bot', 'body': '@brboi @kebeclibre cherrypicking of pull request odoo/odoo#194859 failed.\n\nstdout:\n```\nAuto-merging addons/web/static/src/views/kanban/kanban_arch_parser.js\nAuto-merging addons/web/static/tests/views/fields/one2many_field.test.js\nAuto-merging addons/web/static/tests/views/kanban/kanban_view.test.js\nCONFLICT (content): Merge conflict in addons/web/static/tests/views/kanban/kanban_view.test.js\n\n```\n\nEither perform the forward-port manually (and push to this branch, proceeding as usual) or close this PR (maybe?).\n\nIn the former case, you may want to edit this PR message as well.\n\n:warning: after resolving this conflict, you will need to merge it via @robodoo.\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 24, 18, 56, tzinfo=datetime.timezone.utc)}, {'comment_id': 2614722509, 'issue_id': 2810187148, 'author': 'fw-bot', 'body': '@brboi @kebeclibre this forward port of odoo/odoo#194859 is awaiting action (not merged or closed).', 'created_at': datetime.datetime(2025, 1, 27, 2, 1, 35, tzinfo=datetime.timezone.utc)}, {'comment_id': 2615298797, 'issue_id': 2810187148, 'author': 'brboi', 'body': '@robodoo r+', 'created_at': datetime.datetime(2025, 1, 27, 9, 55, 49, tzinfo=datetime.timezone.utc)}, {'comment_id': 2615375089, 'issue_id': 2810187148, 'author': 'robodoo', 'body': ""@brboi @kebeclibre 'ci/runbot' failed on this reviewed PR."", 'created_at': datetime.datetime(2025, 1, 27, 10, 29, 45, tzinfo=datetime.timezone.utc)}, {'comment_id': 2615526169, 'issue_id': 2810187148, 'author': 'brboi', 'body': '@robodoo r+', 'created_at': datetime.datetime(2025, 1, 27, 11, 39, 18, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-24 18:55:59 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195130.png)](https://mergebot.odoo.com/odoo/odoo/pull/195130)

fw-bot (Issue Creator) on (2025-01-24 18:56:00 UTC): @brboi @kebeclibre cherrypicking of pull request odoo/odoo#194859 failed.

stdout:
```
Auto-merging addons/web/static/src/views/kanban/kanban_arch_parser.js
Auto-merging addons/web/static/tests/views/fields/one2many_field.test.js
Auto-merging addons/web/static/tests/views/kanban/kanban_view.test.js
CONFLICT (content): Merge conflict in addons/web/static/tests/views/kanban/kanban_view.test.js

```

Either perform the forward-port manually (and push to this branch, proceeding as usual) or close this PR (maybe?).

In the former case, you may want to edit this PR message as well.

:warning: after resolving this conflict, you will need to merge it via @robodoo.

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

fw-bot (Issue Creator) on (2025-01-27 02:01:35 UTC): @brboi @kebeclibre this forward port of odoo/odoo#194859 is awaiting action (not merged or closed).

brboi on (2025-01-27 09:55:49 UTC): @robodoo r+

robodoo on (2025-01-27 10:29:45 UTC): @brboi @kebeclibre 'ci/runbot' failed on this reviewed PR.

brboi on (2025-01-27 11:39:18 UTC): @robodoo r+

"
2810142820,pull_request,closed,,[FW][FIX] account: ensure _invoice_paid_hook is called for in payment invoices,"## Issue:
Commission RFQ is not auto-generated for journals(payment method lines) without outstanding accounts when an SO invoice is created, a payment is created for it, and it gets reconciled with a bank statement.

## steps to reproduce:
1. go to bank journal and remove the outstanding account from the manual payment method line
2. on the CRM app create a partner commission program with a percentage and attach it to a partner
3. create a sale order with the partner as a referrer and confirm it
4. create an invoice from the sale order and validate it
5. register a payment for the invoice using the manual payment method
6. create a bank statement line and reconcile the invoice with it in the bank reconciliation widget
7. check the purchase app and see that no RFQ was created

## Solution:
- Before version 18.0 (see [this PR](https://github.com/odoo/odoo/pull/180813)), automatically assigning a default outstanding account ensured that every payment created a journal entry. This journal entry was reconciled with the invoice, triggering `invoice_paid_hook` as the invoice transitioned from `not_paid` to `in_payment`. `_reconcile_pre_hook` filtered out payments already marked as `in_payment` to avoid double-triggering `invoice_paid_hook`. However, since the default outstanding account is no longer assigned automatically, `invoice_paid_hook` is not triggered when an invoice transitions from `not_paid` to `in_payment` and then to `paid` by reconciling it with a bank statement line.
- to address this issue we edited `_reconcile_pre_hook` and `_reconcile_post_hook` to handle in payment invoices in these cases.


OPW-4282724
---
I confirm I have signed the CLA and read the PR guidelines at www.odoo.com/submit-pr

Forward-Port-Of: odoo/odoo#194298",fw-bot,2025-01-24 18:36:05+00:00,[],2025-02-08 03:46:13+00:00,2025-01-25 03:17:22+00:00,https://github.com/odoo/odoo/pull/195129,"[('OE', 'the report is linked to a support ticket (opw-...)'), ('forwardport', 'This PR was created by @fw-bot'), ('18.2', None)]","[{'comment_id': 2613156622, 'issue_id': 2810142820, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195129.png)](https://mergebot.odoo.com/odoo/odoo/pull/195129)', 'created_at': datetime.datetime(2025, 1, 24, 18, 36, 7, tzinfo=datetime.timezone.utc)}, {'comment_id': 2613156636, 'issue_id': 2810142820, 'author': 'fw-bot', 'body': '@kawkb @william-andre this PR targets master and is the last of the forward-port chain containing:\n* odoo/odoo#195114\n\nTo merge the full chain, use\n> @robodoo r+\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 24, 18, 36, 7, tzinfo=datetime.timezone.utc)}, {'comment_id': 2613171696, 'issue_id': 2810142820, 'author': 'william-andre', 'body': '@robodoo r+', 'created_at': datetime.datetime(2025, 1, 24, 18, 45, 48, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-24 18:36:07 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195129.png)](https://mergebot.odoo.com/odoo/odoo/pull/195129)

fw-bot (Issue Creator) on (2025-01-24 18:36:07 UTC): @kawkb @william-andre this PR targets master and is the last of the forward-port chain containing:
* odoo/odoo#195114

To merge the full chain, use

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

william-andre on (2025-01-24 18:45:48 UTC): @robodoo r+

"
2810129826,pull_request,closed,,[FW][FIX] mass_mailing_event: recompute mass mailing domain,"When creating a new mass mailing from an event, the default domain
retrieved when switching mailing type is missing the event id filter

Steps to reproduce (mass_mailing_sms required):
- Open an event with attendees
- Click 'Contact Attendees'
- Take note of the mailing domain
- Switch Mailing Type from Email to SMS

Issue: Domain is missing the event_id
This does not occur when opening the form view because the default
mailing domain is given via context

opw-4337256

Forward-Port-Of: odoo/odoo#194809
Forward-Port-Of: odoo/odoo#189317",fw-bot,2025-01-24 18:30:56+00:00,[],2025-01-27 12:32:26+00:00,2025-01-27 12:32:26+00:00,https://github.com/odoo/odoo/pull/195128,"[('OE', 'the report is linked to a support ticket (opw-...)'), ('forwardport', 'This PR was created by @fw-bot'), ('18.2', None)]","[{'comment_id': 2613148582, 'issue_id': 2810129826, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195128.png)](https://mergebot.odoo.com/odoo/odoo/pull/195128)', 'created_at': datetime.datetime(2025, 1, 24, 18, 30, 57, tzinfo=datetime.timezone.utc)}, {'comment_id': 2613148596, 'issue_id': 2810129826, 'author': 'fw-bot', 'body': '@agr-odoo @abd-msyukyu-odoo this PR targets master and is the last of the forward-port chain containing:\n* odoo/odoo#195115\n* odoo/odoo#195094\n* odoo/odoo#195077\n\nTo merge the full chain, use\n> @robodoo r+\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 24, 18, 30, 58, tzinfo=datetime.timezone.utc)}, {'comment_id': 2615128334, 'issue_id': 2810129826, 'author': 'agr-odoo', 'body': '@robodoo r+', 'created_at': datetime.datetime(2025, 1, 27, 8, 36, 9, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-24 18:30:57 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195128.png)](https://mergebot.odoo.com/odoo/odoo/pull/195128)

fw-bot (Issue Creator) on (2025-01-24 18:30:58 UTC): @agr-odoo @abd-msyukyu-odoo this PR targets master and is the last of the forward-port chain containing:
* odoo/odoo#195115
* odoo/odoo#195094
* odoo/odoo#195077

To merge the full chain, use

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

agr-odoo on (2025-01-27 08:36:09 UTC): @robodoo r+

"
2810113512,pull_request,closed,,[FW][FIX] l10n_eg_edi_eta: remove rate for fixed taxes,"To comply with Egyptian tax law, we need to remove rate for fixed taxes when sending data to ETA.

Official docs say: ""if Channel = “ERP” OR Channel = “POS” and itemData[*].taxableItems[*].subType is fixed,
itemData[*].taxableItems[*].rate should be zero or omitted""

Source (point 36): https://sdk.invoicing.eta.gov.eg/main-calculations/

This fix ensure no values are sent for fixed tax type. Currently using null, which is invalid.

opw-4457780

Forward-Port-Of: odoo/odoo#193509",fw-bot,2025-01-24 18:24:11+00:00,[],2025-02-08 03:46:12+00:00,2025-01-25 03:17:17+00:00,https://github.com/odoo/odoo/pull/195127,"[('OE', 'the report is linked to a support ticket (opw-...)'), ('forwardport', 'This PR was created by @fw-bot'), ('18.2', None)]","[{'comment_id': 2613137686, 'issue_id': 2810113512, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195127.png)](https://mergebot.odoo.com/odoo/odoo/pull/195127)', 'created_at': datetime.datetime(2025, 1, 24, 18, 24, 12, tzinfo=datetime.timezone.utc)}, {'comment_id': 2613137710, 'issue_id': 2810113512, 'author': 'fw-bot', 'body': '@LouisGobert @gawa-odoo this PR targets master and is the last of the forward-port chain containing:\n* odoo/odoo#195112\n\nTo merge the full chain, use\n> @robodoo r+\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 24, 18, 24, 13, tzinfo=datetime.timezone.utc)}, {'comment_id': 2613139580, 'issue_id': 2810113512, 'author': 'LouisGobert', 'body': '@robodoo r+', 'created_at': datetime.datetime(2025, 1, 24, 18, 25, 24, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-24 18:24:12 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195127.png)](https://mergebot.odoo.com/odoo/odoo/pull/195127)

fw-bot (Issue Creator) on (2025-01-24 18:24:13 UTC): @LouisGobert @gawa-odoo this PR targets master and is the last of the forward-port chain containing:
* odoo/odoo#195112

To merge the full chain, use

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

LouisGobert on (2025-01-24 18:25:24 UTC): @robodoo r+

"
2810106677,pull_request,closed,,[FW][16.0][IMP] iap: add outlook.jp to _MAIL_PROVIDERS,"@qrtl QT5121

Forward-Port-Of: odoo/odoo#193910",fw-bot,2025-01-24 18:21:28+00:00,[],2025-02-06 14:06:33+00:00,2025-02-06 14:06:33+00:00,https://github.com/odoo/odoo/pull/195126,"[('RD', 'research & development, internal work'), ('forwardport', 'This PR was created by @fw-bot')]","[{'comment_id': 2613133311, 'issue_id': 2810106677, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195126.png)](https://mergebot.odoo.com/odoo/odoo/pull/195126)', 'created_at': datetime.datetime(2025, 1, 24, 18, 21, 30, tzinfo=datetime.timezone.utc)}, {'comment_id': 2613133333, 'issue_id': 2810106677, 'author': 'fw-bot', 'body': 'This PR targets saas-18.1 and is part of the forward-port chain. Further PRs will be created up to master.\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 24, 18, 21, 30, tzinfo=datetime.timezone.utc)}, {'comment_id': 2613197370, 'issue_id': 2810106677, 'author': 'fw-bot', 'body': '@AungKoKoLin1997 @tde-banana-odoo ci/runbot failed on this forward-port PR', 'created_at': datetime.datetime(2025, 1, 24, 19, 2, 16, tzinfo=datetime.timezone.utc)}, {'comment_id': 2613721775, 'issue_id': 2810106677, 'author': 'fw-bot', 'body': '@AungKoKoLin1997 @tde-banana-odoo this forward port of odoo/odoo#193910 is awaiting action (not merged or closed).', 'created_at': datetime.datetime(2025, 1, 25, 2, 1, 10, tzinfo=datetime.timezone.utc)}, {'comment_id': 2614172026, 'issue_id': 2810106677, 'author': 'fw-bot', 'body': '@AungKoKoLin1997 @tde-banana-odoo this forward port of odoo/odoo#193910 is awaiting action (not merged or closed).', 'created_at': datetime.datetime(2025, 1, 26, 2, 1, 27, tzinfo=datetime.timezone.utc)}, {'comment_id': 2614722976, 'issue_id': 2810106677, 'author': 'fw-bot', 'body': '@AungKoKoLin1997 @tde-banana-odoo this forward port of odoo/odoo#193910 is awaiting action (not merged or closed).', 'created_at': datetime.datetime(2025, 1, 27, 2, 2, 4, tzinfo=datetime.timezone.utc)}, {'comment_id': 2620471422, 'issue_id': 2810106677, 'author': 'fw-bot', 'body': '@AungKoKoLin1997 @tde-banana-odoo this forward port of odoo/odoo#193910 is awaiting action (not merged or closed).', 'created_at': datetime.datetime(2025, 1, 29, 2, 1, 7, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-24 18:21:30 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195126.png)](https://mergebot.odoo.com/odoo/odoo/pull/195126)

fw-bot (Issue Creator) on (2025-01-24 18:21:30 UTC): This PR targets saas-18.1 and is part of the forward-port chain. Further PRs will be created up to master.

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

fw-bot (Issue Creator) on (2025-01-24 19:02:16 UTC): @AungKoKoLin1997 @tde-banana-odoo ci/runbot failed on this forward-port PR

fw-bot (Issue Creator) on (2025-01-25 02:01:10 UTC): @AungKoKoLin1997 @tde-banana-odoo this forward port of odoo/odoo#193910 is awaiting action (not merged or closed).

fw-bot (Issue Creator) on (2025-01-26 02:01:27 UTC): @AungKoKoLin1997 @tde-banana-odoo this forward port of odoo/odoo#193910 is awaiting action (not merged or closed).

fw-bot (Issue Creator) on (2025-01-27 02:02:04 UTC): @AungKoKoLin1997 @tde-banana-odoo this forward port of odoo/odoo#193910 is awaiting action (not merged or closed).

fw-bot (Issue Creator) on (2025-01-29 02:01:07 UTC): @AungKoKoLin1997 @tde-banana-odoo this forward port of odoo/odoo#193910 is awaiting action (not merged or closed).

"
2810096074,pull_request,closed,,[FW][FIX] stock_account: Update lot_valuated from ProductProduct,"The write logic for lot_valuated is handled on the ProductTemplate. When you change the value of 'lot_valuated', '_svl_empty_stock()' is called before the new value is set, and the code expects ProductTemplate.lot_valuated and ProductProduct.lot_valuated to not yet be updated. However, if you change 'lot_valuated' from the ProductProduct model, ProductProduct.lot_valuated will be updated before ProductTemplate.write() is called. Hence, in '_svl_empty_stock()', ProductTemplate.lot_valuated != ProductProduct.lot_valuated

This issue only happens in the 'write' context, so it should not cause too much issue.

To fix this issue, when lot_valuated is updated from ProductProduct, we call the ProductTemplate write instead.
---


https://github.com/user-attachments/assets/9d2f64a4-a7ad-4078-ad0b-0cc50270492b


---
I confirm I have signed the CLA and read the PR guidelines at www.odoo.com/submit-pr

Forward-Port-Of: odoo/odoo#193948",fw-bot,2025-01-24 18:16:52+00:00,[],2025-01-27 09:56:50+00:00,2025-01-27 09:56:50+00:00,https://github.com/odoo/odoo/pull/195125,"[('RD', 'research & development, internal work'), ('forwardport', 'This PR was created by @fw-bot'), ('18.2', None)]","[{'comment_id': 2613126168, 'issue_id': 2810096074, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195125.png)](https://mergebot.odoo.com/odoo/odoo/pull/195125)', 'created_at': datetime.datetime(2025, 1, 24, 18, 16, 53, tzinfo=datetime.timezone.utc)}, {'comment_id': 2613126189, 'issue_id': 2810096074, 'author': 'fw-bot', 'body': '@DavidFesquet @Whenrow this PR targets master and is the last of the forward-port chain containing:\n* odoo/odoo#195110\n\nTo merge the full chain, use\n> @robodoo r+\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 24, 18, 16, 54, tzinfo=datetime.timezone.utc)}, {'comment_id': 2615062908, 'issue_id': 2810096074, 'author': 'DavidFesquet', 'body': 'robodoo r+', 'created_at': datetime.datetime(2025, 1, 27, 8, 1, 25, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-24 18:16:53 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195125.png)](https://mergebot.odoo.com/odoo/odoo/pull/195125)

fw-bot (Issue Creator) on (2025-01-24 18:16:54 UTC): @DavidFesquet @Whenrow this PR targets master and is the last of the forward-port chain containing:
* odoo/odoo#195110

To merge the full chain, use

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

DavidFesquet on (2025-01-27 08:01:25 UTC): robodoo r+

"
2810093299,pull_request,closed,,"[FIX] base,web: save update_related_model_id","Before this commit, the resource_ref field of a server action can disappear when the action is saved.

This is due to the following:
- the update_related_model_id is a computed stored READONLY field which leads to it not being included in the web_save rpc and is therefore not saved on the record

The fix consists to ensure the update_related_model_id is saved by making it readonly=False, which is usually what we want when we have a computed stored field.

Task: opw-4513803",brboi,2025-01-24 18:15:49+00:00,[],2025-01-27 18:00:50+00:00,2025-01-27 18:00:49+00:00,https://github.com/odoo/odoo/pull/195124,"[('OE', 'the report is linked to a support ticket (opw-...)')]","[{'comment_id': 2613124545, 'issue_id': 2810093299, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195124.png)](https://mergebot.odoo.com/odoo/odoo/pull/195124)', 'created_at': datetime.datetime(2025, 1, 24, 18, 15, 52, tzinfo=datetime.timezone.utc)}, {'comment_id': 2615677685, 'issue_id': 2810093299, 'author': 'ryv-odoo', 'body': '@robodoo r+ \r\nGood job @brboi', 'created_at': datetime.datetime(2025, 1, 27, 12, 50, 2, tzinfo=datetime.timezone.utc)}, {'comment_id': 2615786964, 'issue_id': 2810093299, 'author': 'robodoo', 'body': ""@brboi @ryv-odoo 'ci/runbot' failed on this reviewed PR."", 'created_at': datetime.datetime(2025, 1, 27, 13, 37, 59, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-24 18:15:52 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195124.png)](https://mergebot.odoo.com/odoo/odoo/pull/195124)

ryv-odoo on (2025-01-27 12:50:02 UTC): @robodoo r+ 
Good job @brboi

robodoo on (2025-01-27 13:37:59 UTC): @brboi @ryv-odoo 'ci/runbot' failed on this reviewed PR.

"
2810082550,pull_request,closed,,[FW][FIX] pos_sale: separate downpayment for fixed tax,"When a product has a fixed tax, there should be a separate downpayment line for the fixed tax amount.

Steps to reproduce:
-------------------
* Create a fixed tax of 1€
* Assign this tax to any product
* Create a sale order with this product
* Open PoS and make a downpayment of 10%
> Observation: There is only one downpayment line with the total amount
  of the product and the fixed tax combined.

opw-4252104

Forward-Port-Of: odoo/odoo#194797
Forward-Port-Of: odoo/odoo#192208",fw-bot,2025-01-24 18:11:30+00:00,[],2025-01-28 15:58:30+00:00,2025-01-28 15:58:30+00:00,https://github.com/odoo/odoo/pull/195123,"[('OE', 'the report is linked to a support ticket (opw-...)'), ('forwardport', 'This PR was created by @fw-bot'), ('conflict', 'There was an error while creating this forward-port PR'), ('18.2', None)]","[{'comment_id': 2613117533, 'issue_id': 2810082550, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195123.png)](https://mergebot.odoo.com/odoo/odoo/pull/195123)', 'created_at': datetime.datetime(2025, 1, 24, 18, 11, 31, tzinfo=datetime.timezone.utc)}, {'comment_id': 2613117558, 'issue_id': 2810082550, 'author': 'fw-bot', 'body': '@robinengels @adgu-odoo cherrypicking of pull request odoo/odoo#192208 failed.\n\nstdout:\n```\nAuto-merging addons/pos_sale/static/src/app/services/pos_store.js\nAuto-merging addons/pos_sale/static/tests/tours/pos_sale_tour.js\nCONFLICT (content): Merge conflict in addons/pos_sale/static/tests/tours/pos_sale_tour.js\nAuto-merging addons/pos_sale/tests/test_pos_sale_flow.py\n\n```\n\nEither perform the forward-port manually (and push to this branch, proceeding as usual) or close this PR (maybe?).\n\nIn the former case, you may want to edit this PR message as well.\n\n:warning: after resolving this conflict, you will need to merge it via @robodoo.\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 24, 18, 11, 32, tzinfo=datetime.timezone.utc)}, {'comment_id': 2618692535, 'issue_id': 2810082550, 'author': 'robinengels', 'body': '@robodoo r+', 'created_at': datetime.datetime(2025, 1, 28, 11, 10, 26, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-24 18:11:31 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195123.png)](https://mergebot.odoo.com/odoo/odoo/pull/195123)

fw-bot (Issue Creator) on (2025-01-24 18:11:32 UTC): @robinengels @adgu-odoo cherrypicking of pull request odoo/odoo#192208 failed.

stdout:
```
Auto-merging addons/pos_sale/static/src/app/services/pos_store.js
Auto-merging addons/pos_sale/static/tests/tours/pos_sale_tour.js
CONFLICT (content): Merge conflict in addons/pos_sale/static/tests/tours/pos_sale_tour.js
Auto-merging addons/pos_sale/tests/test_pos_sale_flow.py

```

Either perform the forward-port manually (and push to this branch, proceeding as usual) or close this PR (maybe?).

In the former case, you may want to edit this PR message as well.

:warning: after resolving this conflict, you will need to merge it via @robodoo.

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

robinengels on (2025-01-28 11:10:26 UTC): @robodoo r+

"
2810081765,pull_request,closed,,[FW][FIX] account_peppol: remove peppol registration migration button,"Peppol migration creates more issues than it solves. A lot of users issue migration requests to move to another SMP but later discover that the SMP they wanted to migrate to does not support migration keys. This creates a state that we need to handle manually. Most SMP do not support migrating away and force users to deregister and reregister again on another one.

This commit adds a fix in stable for that issue by removing the button from the res_config_settings_buttons and adding a deprecated warning when the user tries to call the `button_migrate_peppol_registration` method.

task-4394408

Forward-Port-Of: odoo/odoo#194826
Forward-Port-Of: odoo/odoo#193794",fw-bot,2025-01-24 18:11:12+00:00,[],2025-01-27 12:32:31+00:00,2025-01-27 12:32:31+00:00,https://github.com/odoo/odoo/pull/195122,"[('RD', 'research & development, internal work'), ('forwardport', 'This PR was created by @fw-bot'), ('18.2', None)]","[{'comment_id': 2613117323, 'issue_id': 2810081765, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195122.png)](https://mergebot.odoo.com/odoo/odoo/pull/195122)', 'created_at': datetime.datetime(2025, 1, 24, 18, 11, 24, tzinfo=datetime.timezone.utc)}, {'comment_id': 2613117335, 'issue_id': 2810081765, 'author': 'fw-bot', 'body': '@antonrom1 @clbr-odoo this PR targets master and is the last of the forward-port chain.\n\nTo merge the full chain, use\n> @robodoo r+\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 24, 18, 11, 24, tzinfo=datetime.timezone.utc)}, {'comment_id': 2613721791, 'issue_id': 2810081765, 'author': 'fw-bot', 'body': '@antonrom1 @clbr-odoo this forward port of odoo/odoo#193794 is awaiting action (not merged or closed).', 'created_at': datetime.datetime(2025, 1, 25, 2, 1, 13, tzinfo=datetime.timezone.utc)}, {'comment_id': 2614172062, 'issue_id': 2810081765, 'author': 'fw-bot', 'body': '@antonrom1 @clbr-odoo this forward port of odoo/odoo#193794 is awaiting action (not merged or closed).', 'created_at': datetime.datetime(2025, 1, 26, 2, 1, 30, tzinfo=datetime.timezone.utc)}, {'comment_id': 2615052038, 'issue_id': 2810081765, 'author': 'fw-bot', 'body': '@antonrom1 @clbr-odoo this PR was modified / updated and has become a normal PR. It must be merged directly.', 'created_at': datetime.datetime(2025, 1, 27, 7, 54, 38, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-24 18:11:24 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195122.png)](https://mergebot.odoo.com/odoo/odoo/pull/195122)

fw-bot (Issue Creator) on (2025-01-24 18:11:24 UTC): @antonrom1 @clbr-odoo this PR targets master and is the last of the forward-port chain.

To merge the full chain, use

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

fw-bot (Issue Creator) on (2025-01-25 02:01:13 UTC): @antonrom1 @clbr-odoo this forward port of odoo/odoo#193794 is awaiting action (not merged or closed).

fw-bot (Issue Creator) on (2025-01-26 02:01:30 UTC): @antonrom1 @clbr-odoo this forward port of odoo/odoo#193794 is awaiting action (not merged or closed).

fw-bot (Issue Creator) on (2025-01-27 07:54:38 UTC): @antonrom1 @clbr-odoo this PR was modified / updated and has become a normal PR. It must be merged directly.

"
2810054673,pull_request,closed,,[FW][FIX] web_editor: change inline editor root to block on save,"**Problem**:
When we have `<b t-field=""html"">`, it is rendered in the DOM as
`<b data-oe-attr=""...""><p>content</p></b>`. When this is converted to a string
and parsed in the backend, the `html.fromstring` method removes the `p` from
the `b` because `b` is an inline element and cannot contain block elements.
This results in:
`<b data-oe-attr=""...""></b><p>content</p>`.

Since this structure has two root elements, the parser wraps them in a block
element (`div`), generating:
`<div><b data-oe-attr=""...""></b><p>content</p></div>`.

This causes a traceback when trying to access `data-oe` attributes, as they
are expected to be in the root element.

**Solution**:
Convert any `b` elements used as HTML fields to `div` elements before saving.

---
I confirm I have signed the CLA and read the PR guidelines at www.odoo.com/submit-pr

Forward-Port-Of: odoo/odoo#194872",fw-bot,2025-01-24 17:59:36+00:00,[],2025-01-27 07:44:57+00:00,2025-01-27 07:44:57+00:00,https://github.com/odoo/odoo/pull/195121,"[('RD', 'research & development, internal work'), ('forwardport', 'This PR was created by @fw-bot')]","[{'comment_id': 2613098239, 'issue_id': 2810054673, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195121.png)](https://mergebot.odoo.com/odoo/odoo/pull/195121)', 'created_at': datetime.datetime(2025, 1, 24, 17, 59, 49, tzinfo=datetime.timezone.utc)}, {'comment_id': 2613098259, 'issue_id': 2810054673, 'author': 'fw-bot', 'body': 'This PR targets saas-17.2 and is part of the forward-port chain. Further PRs will be created up to master.\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 24, 17, 59, 49, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-24 17:59:49 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195121.png)](https://mergebot.odoo.com/odoo/odoo/pull/195121)

fw-bot (Issue Creator) on (2025-01-24 17:59:49 UTC): This PR targets saas-17.2 and is part of the forward-port chain. Further PRs will be created up to master.

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

"
2810047430,pull_request,open,,[IMP] mail: move init store data out of session info,"\* = im_livechat

The goal is to have the webclient load as fast as possible, and even better if the page can be fully cached.

Retrieve all dynamic info in the initial RPC.

https://github.com/odoo/enterprise/pull/77982",seb-odoo,2025-01-24 17:56:30+00:00,['seb-odoo'],2025-01-31 18:00:57+00:00,,https://github.com/odoo/odoo/pull/195120,"[('RD', 'research & development, internal work'), ('Discuss', 'channels, livechat, chatter')]","[{'comment_id': 2613092741, 'issue_id': 2810047430, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195120.png)](https://mergebot.odoo.com/odoo/odoo/pull/195120)', 'created_at': datetime.datetime(2025, 1, 24, 17, 56, 33, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-24 17:56:33 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195120.png)](https://mergebot.odoo.com/odoo/odoo/pull/195120)

"
2810044834,pull_request,closed,,[FW][FIX] account: cash basis journal for last payment,"If you pay an invoice with multiple payments some roundings are made for the taxes. On the last payment, the error from those roundings are put on a move to make sure that the exact amount of the invoice is paid.

That move was put on the wrong journal. It was put in the 'Exchange Difference' journal instead of the 'Cash Basis Taxes'.

opw-4460696

---
I confirm I have signed the CLA and read the PR guidelines at www.odoo.com/submit-pr

Forward-Port-Of: odoo/odoo#193994",fw-bot,2025-01-24 17:55:28+00:00,[],2025-01-27 14:21:40+00:00,2025-01-27 14:21:40+00:00,https://github.com/odoo/odoo/pull/195119,"[('OE', 'the report is linked to a support ticket (opw-...)'), ('forwardport', 'This PR was created by @fw-bot')]","[{'comment_id': 2613090992, 'issue_id': 2810044834, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195119.png)](https://mergebot.odoo.com/odoo/odoo/pull/195119)', 'created_at': datetime.datetime(2025, 1, 24, 17, 55, 29, tzinfo=datetime.timezone.utc)}, {'comment_id': 2613091010, 'issue_id': 2810044834, 'author': 'fw-bot', 'body': 'This PR targets saas-17.4 and is part of the forward-port chain. Further PRs will be created up to master.\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 24, 17, 55, 29, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-24 17:55:29 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195119.png)](https://mergebot.odoo.com/odoo/odoo/pull/195119)

fw-bot (Issue Creator) on (2025-01-24 17:55:29 UTC): This PR targets saas-17.4 and is part of the forward-port chain. Further PRs will be created up to master.

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

"
2810036091,pull_request,closed,,[FW][FIX] l10n_tr: update taxes,"This commit will update some taxes:
- Update the purchase tax accounts
- Add new 0% EX tax
- Delete EX RS 20% & EX RS -20%

In the tax report:
- Change the name of the report
- Add a new record

task: 4244715




---
I confirm I have signed the CLA and read the PR guidelines at www.odoo.com/submit-pr

Forward-Port-Of: odoo/odoo#185947",fw-bot,2025-01-24 17:51:45+00:00,[],2025-01-27 10:18:08+00:00,2025-01-27 10:18:07+00:00,https://github.com/odoo/odoo/pull/195118,"[('RD', 'research & development, internal work'), ('forwardport', 'This PR was created by @fw-bot')]","[{'comment_id': 2613084846, 'issue_id': 2810036091, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195118.png)](https://mergebot.odoo.com/odoo/odoo/pull/195118)', 'created_at': datetime.datetime(2025, 1, 24, 17, 51, 48, tzinfo=datetime.timezone.utc)}, {'comment_id': 2613084862, 'issue_id': 2810036091, 'author': 'fw-bot', 'body': 'This PR targets saas-17.4 and is part of the forward-port chain. Further PRs will be created up to master.\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 24, 17, 51, 49, tzinfo=datetime.timezone.utc)}, {'comment_id': 2613196481, 'issue_id': 2810036091, 'author': 'fw-bot', 'body': '@malb-odoo @gawa-odoo the next pull request (odoo/odoo#195131) is in conflict. You can merge the chain up to here by saying\n> @robodoo r+\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 24, 19, 1, 43, tzinfo=datetime.timezone.utc)}, {'comment_id': 2615060506, 'issue_id': 2810036091, 'author': 'gawa-odoo', 'body': '@robodoo r+', 'created_at': datetime.datetime(2025, 1, 27, 8, 0, 2, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-24 17:51:48 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195118.png)](https://mergebot.odoo.com/odoo/odoo/pull/195118)

fw-bot (Issue Creator) on (2025-01-24 17:51:49 UTC): This PR targets saas-17.4 and is part of the forward-port chain. Further PRs will be created up to master.

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

fw-bot (Issue Creator) on (2025-01-24 19:01:43 UTC): @malb-odoo @gawa-odoo the next pull request (odoo/odoo#195131) is in conflict. You can merge the chain up to here by saying

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

gawa-odoo on (2025-01-27 08:00:02 UTC): @robodoo r+

"
2809972490,pull_request,closed,,[FW][FIX] website: fix unable to enter edit mode on old browsers,"Since commit [1], we added a selector using the "":has"" pseudo-class in the template that defines where ""inner content"" blocks can be dropped. It is no longer possible to enter edit mode (a traceback occurs) starting from Odoo version 18.0 and in browsers older than Chrome 112 or Firefox 121.

This bug happens because the same selector, used by jQuery, combines both the "":has"" pseudo-class and the "":is"" pseudo-class (this "":is"" pseudo-class was introduced into the same selector by commit [2] starting from Odoo version 18.0). This is not compatible with the older browsers mentioned above.

The bug only appears in version 18. However, we already fixed this in 16.0 in case potential customizations had added the "":is"" pseudo-class to the same selector.

[1]: https://github.com/odoo/odoo/commit/65a85009800dfa45526ebdc41d3a0a808b2e9f6d
[2]: https://github.com/odoo/odoo/commit/e0fc83760f991fa2fea39763bb2709d9e0182316

opw-4494945

Forward-Port-Of: odoo/odoo#194908
Forward-Port-Of: odoo/odoo#194676",fw-bot,2025-01-24 17:28:18+00:00,[],2025-01-27 12:28:30+00:00,2025-01-27 12:28:30+00:00,https://github.com/odoo/odoo/pull/195116,"[('OE', 'the report is linked to a support ticket (opw-...)'), ('forwardport', 'This PR was created by @fw-bot')]","[{'comment_id': 2613045462, 'issue_id': 2809972490, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195116.png)](https://mergebot.odoo.com/odoo/odoo/pull/195116)', 'created_at': datetime.datetime(2025, 1, 24, 17, 28, 20, tzinfo=datetime.timezone.utc)}, {'comment_id': 2613045485, 'issue_id': 2809972490, 'author': 'fw-bot', 'body': 'This PR targets saas-18.1 and is part of the forward-port chain. Further PRs will be created up to master.\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 24, 17, 28, 20, tzinfo=datetime.timezone.utc)}, {'comment_id': 2613117844, 'issue_id': 2809972490, 'author': 'fw-bot', 'body': '@bvr-odoo @qsm-odoo ci/runbot failed on this forward-port PR', 'created_at': datetime.datetime(2025, 1, 24, 18, 11, 43, tzinfo=datetime.timezone.utc)}, {'comment_id': 2614722584, 'issue_id': 2809972490, 'author': 'fw-bot', 'body': '@bvr-odoo @qsm-odoo this forward port of odoo/odoo#194676 is awaiting action (not merged or closed).', 'created_at': datetime.datetime(2025, 1, 27, 2, 1, 39, tzinfo=datetime.timezone.utc)}, {'comment_id': 2615107485, 'issue_id': 2809972490, 'author': 'fw-bot', 'body': '@bvr-odoo @qsm-odoo the next pull request (odoo/odoo#195204) is in conflict. You can merge the chain up to here by saying\n> @robodoo r+\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 27, 8, 25, 33, tzinfo=datetime.timezone.utc)}, {'comment_id': 2615316632, 'issue_id': 2809972490, 'author': 'bvr-odoo', 'body': '@robodoo r+', 'created_at': datetime.datetime(2025, 1, 27, 10, 3, 39, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-24 17:28:20 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195116.png)](https://mergebot.odoo.com/odoo/odoo/pull/195116)

fw-bot (Issue Creator) on (2025-01-24 17:28:20 UTC): This PR targets saas-18.1 and is part of the forward-port chain. Further PRs will be created up to master.

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

fw-bot (Issue Creator) on (2025-01-24 18:11:43 UTC): @bvr-odoo @qsm-odoo ci/runbot failed on this forward-port PR

fw-bot (Issue Creator) on (2025-01-27 02:01:39 UTC): @bvr-odoo @qsm-odoo this forward port of odoo/odoo#194676 is awaiting action (not merged or closed).

fw-bot (Issue Creator) on (2025-01-27 08:25:33 UTC): @bvr-odoo @qsm-odoo the next pull request (odoo/odoo#195204) is in conflict. You can merge the chain up to here by saying

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

bvr-odoo on (2025-01-27 10:03:39 UTC): @robodoo r+

"
2809969400,pull_request,closed,,[FW][FIX] mass_mailing_event: recompute mass mailing domain,"When creating a new mass mailing from an event, the default domain
retrieved when switching mailing type is missing the event id filter

Steps to reproduce (mass_mailing_sms required):
- Open an event with attendees
- Click 'Contact Attendees'
- Take note of the mailing domain
- Switch Mailing Type from Email to SMS

Issue: Domain is missing the event_id
This does not occur when opening the form view because the default
mailing domain is given via context

opw-4337256

Forward-Port-Of: odoo/odoo#194809
Forward-Port-Of: odoo/odoo#189317",fw-bot,2025-01-24 17:27:02+00:00,[],2025-01-27 10:59:11+00:00,2025-01-27 10:59:11+00:00,https://github.com/odoo/odoo/pull/195115,"[('OE', 'the report is linked to a support ticket (opw-...)'), ('forwardport', 'This PR was created by @fw-bot')]","[{'comment_id': 2613043336, 'issue_id': 2809969400, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195115.png)](https://mergebot.odoo.com/odoo/odoo/pull/195115)', 'created_at': datetime.datetime(2025, 1, 24, 17, 27, 3, tzinfo=datetime.timezone.utc)}, {'comment_id': 2613043354, 'issue_id': 2809969400, 'author': 'fw-bot', 'body': 'This PR targets saas-18.1 and is part of the forward-port chain. Further PRs will be created up to master.\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 24, 17, 27, 4, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-24 17:27:03 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195115.png)](https://mergebot.odoo.com/odoo/odoo/pull/195115)

fw-bot (Issue Creator) on (2025-01-24 17:27:04 UTC): This PR targets saas-18.1 and is part of the forward-port chain. Further PRs will be created up to master.

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

"
2809968305,pull_request,closed,,[FW][FIX] account: ensure _invoice_paid_hook is called for in payment invoices,"## Issue:
Commission RFQ is not auto-generated for journals(payment method lines) without outstanding accounts when an SO invoice is created, a payment is created for it, and it gets reconciled with a bank statement.

## steps to reproduce:
1. go to bank journal and remove the outstanding account from the manual payment method line
2. on the CRM app create a partner commission program with a percentage and attach it to a partner
3. create a sale order with the partner as a referrer and confirm it
4. create an invoice from the sale order and validate it
5. register a payment for the invoice using the manual payment method
6. create a bank statement line and reconcile the invoice with it in the bank reconciliation widget
7. check the purchase app and see that no RFQ was created

## Solution:
- Before version 18.0 (see [this PR](https://github.com/odoo/odoo/pull/180813)), automatically assigning a default outstanding account ensured that every payment created a journal entry. This journal entry was reconciled with the invoice, triggering `invoice_paid_hook` as the invoice transitioned from `not_paid` to `in_payment`. `_reconcile_pre_hook` filtered out payments already marked as `in_payment` to avoid double-triggering `invoice_paid_hook`. However, since the default outstanding account is no longer assigned automatically, `invoice_paid_hook` is not triggered when an invoice transitions from `not_paid` to `in_payment` and then to `paid` by reconciling it with a bank statement line.
- to address this issue we edited `_reconcile_pre_hook` and `_reconcile_post_hook` to handle in payment invoices in these cases.


OPW-4282724
---
I confirm I have signed the CLA and read the PR guidelines at www.odoo.com/submit-pr

Forward-Port-Of: odoo/odoo#194298",fw-bot,2025-01-24 17:26:34+00:00,[],2025-02-08 03:46:06+00:00,2025-01-25 02:44:22+00:00,https://github.com/odoo/odoo/pull/195114,"[('OE', 'the report is linked to a support ticket (opw-...)'), ('forwardport', 'This PR was created by @fw-bot')]","[{'comment_id': 2613042492, 'issue_id': 2809968305, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195114.png)](https://mergebot.odoo.com/odoo/odoo/pull/195114)', 'created_at': datetime.datetime(2025, 1, 24, 17, 26, 35, tzinfo=datetime.timezone.utc)}, {'comment_id': 2613042512, 'issue_id': 2809968305, 'author': 'fw-bot', 'body': 'This PR targets saas-18.1 and is part of the forward-port chain. Further PRs will be created up to master.\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 24, 17, 26, 35, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-24 17:26:35 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195114.png)](https://mergebot.odoo.com/odoo/odoo/pull/195114)

fw-bot (Issue Creator) on (2025-01-24 17:26:35 UTC): This PR targets saas-18.1 and is part of the forward-port chain. Further PRs will be created up to master.

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

"
2809957285,pull_request,closed,,[FIX] l10n_es_edi_tbai: the number sent in vendor bills should be the…,"… ref, not the name

For Bizkaia, when we send the invoices, the numfactura and seriefactura should be the name of the vendor and the one of the customer.

In order to make it possible to correct it and to cancel an invoice with the previous way of doing, we check in the original XML what the dates sent were.

opw-4498833

Description of the issue/feature this PR addresses:

Current behavior before PR:

Desired behavior after PR is merged:




---
I confirm I have signed the CLA and read the PR guidelines at www.odoo.com/submit-pr
",jco-odoo,2025-01-24 17:22:36+00:00,[],2025-01-30 11:41:33+00:00,2025-01-30 11:41:33+00:00,https://github.com/odoo/odoo/pull/195113,"[('OE', 'the report is linked to a support ticket (opw-...)')]","[{'comment_id': 2613035602, 'issue_id': 2809957285, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195113.png)](https://mergebot.odoo.com/odoo/odoo/pull/195113)', 'created_at': datetime.datetime(2025, 1, 24, 17, 22, 38, tzinfo=datetime.timezone.utc)}, {'comment_id': 2613042109, 'issue_id': 2809957285, 'author': 'jco-odoo', 'body': '@yajo', 'created_at': datetime.datetime(2025, 1, 24, 17, 26, 22, tzinfo=datetime.timezone.utc)}, {'comment_id': 2616018458, 'issue_id': 2809957285, 'author': 'jco-odoo', 'body': '@rugo-odoo @yajo This one is ready now.', 'created_at': datetime.datetime(2025, 1, 27, 15, 8, 58, tzinfo=datetime.timezone.utc)}, {'comment_id': 2618398941, 'issue_id': 2809957285, 'author': 'jco-odoo', 'body': '@robodoo up to saas-17.4', 'created_at': datetime.datetime(2025, 1, 28, 9, 21, 46, tzinfo=datetime.timezone.utc)}, {'comment_id': 2618399012, 'issue_id': 2809957285, 'author': 'robodoo', 'body': ""Forward-porting to 'saas-17.4'."", 'created_at': datetime.datetime(2025, 1, 28, 9, 21, 48, tzinfo=datetime.timezone.utc)}, {'comment_id': 2624108767, 'issue_id': 2809957285, 'author': 'robodoo', 'body': '@jco-odoo @rugo-odoo because this PR has multiple commits, I need to know how to merge it:\n\n* `merge` to merge directly, using the PR as merge commit message\n* `rebase-merge` to rebase and merge, using the PR as merge commit message\n* `rebase-ff` to rebase and fast-forward', 'created_at': datetime.datetime(2025, 1, 30, 10, 33, 40, tzinfo=datetime.timezone.utc)}, {'comment_id': 2624120686, 'issue_id': 2809957285, 'author': 'rugo-odoo', 'body': '@robodoo rebase-ff', 'created_at': datetime.datetime(2025, 1, 30, 10, 38, 49, tzinfo=datetime.timezone.utc)}, {'comment_id': 2624120777, 'issue_id': 2809957285, 'author': 'robodoo', 'body': 'Merge method set to rebase and fast-forward.', 'created_at': datetime.datetime(2025, 1, 30, 10, 38, 51, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-24 17:22:38 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195113.png)](https://mergebot.odoo.com/odoo/odoo/pull/195113)

jco-odoo (Issue Creator) on (2025-01-24 17:26:22 UTC): @yajo

jco-odoo (Issue Creator) on (2025-01-27 15:08:58 UTC): @rugo-odoo @yajo This one is ready now.

jco-odoo (Issue Creator) on (2025-01-28 09:21:46 UTC): @robodoo up to saas-17.4

robodoo on (2025-01-28 09:21:48 UTC): Forward-porting to 'saas-17.4'.

robodoo on (2025-01-30 10:33:40 UTC): @jco-odoo @rugo-odoo because this PR has multiple commits, I need to know how to merge it:

* `merge` to merge directly, using the PR as merge commit message
* `rebase-merge` to rebase and merge, using the PR as merge commit message
* `rebase-ff` to rebase and fast-forward

rugo-odoo on (2025-01-30 10:38:49 UTC): @robodoo rebase-ff

robodoo on (2025-01-30 10:38:51 UTC): Merge method set to rebase and fast-forward.

"
2809940377,pull_request,closed,,[FW][FIX] l10n_eg_edi_eta: remove rate for fixed taxes,"To comply with Egyptian tax law, we need to remove rate for fixed taxes when sending data to ETA.

Official docs say: ""if Channel = “ERP” OR Channel = “POS” and itemData[*].taxableItems[*].subType is fixed,
itemData[*].taxableItems[*].rate should be zero or omitted""

Source (point 36): https://sdk.invoicing.eta.gov.eg/main-calculations/

This fix ensure no values are sent for fixed tax type. Currently using null, which is invalid.

opw-4457780

Forward-Port-Of: odoo/odoo#193509",fw-bot,2025-01-24 17:16:34+00:00,[],2025-02-08 03:46:05+00:00,2025-01-25 02:44:18+00:00,https://github.com/odoo/odoo/pull/195112,"[('OE', 'the report is linked to a support ticket (opw-...)'), ('forwardport', 'This PR was created by @fw-bot')]","[{'comment_id': 2613022848, 'issue_id': 2809940377, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195112.png)](https://mergebot.odoo.com/odoo/odoo/pull/195112)', 'created_at': datetime.datetime(2025, 1, 24, 17, 16, 35, tzinfo=datetime.timezone.utc)}, {'comment_id': 2613022869, 'issue_id': 2809940377, 'author': 'fw-bot', 'body': 'This PR targets saas-18.1 and is part of the forward-port chain. Further PRs will be created up to master.\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 24, 17, 16, 36, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-24 17:16:35 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195112.png)](https://mergebot.odoo.com/odoo/odoo/pull/195112)

fw-bot (Issue Creator) on (2025-01-24 17:16:36 UTC): This PR targets saas-18.1 and is part of the forward-port chain. Further PRs will be created up to master.

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

"
2809938597,pull_request,closed,,[FW][FIX] account: domestic currency comp exist,"We are not gonna find a value for domestic_currency_companies everytime, sometime they simply don't exist. In that case, we should check that they exist before we call _get_table_builder_domestic_currency.

otherwise syntax of this query: https://github.com/odoo/odoo/blob/18.0/addons/account/models/res_currency.py#L157 is gonna be wrong.

Description of the issue/feature this PR addresses:

Current behavior before PR:

Desired behavior after PR is merged:




---
I confirm I have signed the CLA and read the PR guidelines at www.odoo.com/submit-pr

Forward-Port-Of: odoo/odoo#193964",fw-bot,2025-01-24 17:15:44+00:00,[],2025-02-08 03:46:10+00:00,2025-01-25 02:44:42+00:00,https://github.com/odoo/odoo/pull/195111,"[('RD', 'research & development, internal work'), ('forwardport', 'This PR was created by @fw-bot')]","[{'comment_id': 2613021416, 'issue_id': 2809938597, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195111.png)](https://mergebot.odoo.com/odoo/odoo/pull/195111)', 'created_at': datetime.datetime(2025, 1, 24, 17, 15, 49, tzinfo=datetime.timezone.utc)}, {'comment_id': 2613021436, 'issue_id': 2809938597, 'author': 'fw-bot', 'body': 'This PR targets saas-18.1 and is part of the forward-port chain. Further PRs will be created up to master.\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 24, 17, 15, 50, tzinfo=datetime.timezone.utc)}, {'comment_id': 2613036228, 'issue_id': 2809938597, 'author': 'fw-bot', 'body': '@asno-odoo @oco-odoo ci/runbot failed on this forward-port PR', 'created_at': datetime.datetime(2025, 1, 24, 17, 23, tzinfo=datetime.timezone.utc)}, {'comment_id': 2613278607, 'issue_id': 2809938597, 'author': 'fw-bot', 'body': '@asno-odoo @oco-odoo this PR was modified / updated and has become a normal PR. It must be merged directly.', 'created_at': datetime.datetime(2025, 1, 24, 19, 55, 49, tzinfo=datetime.timezone.utc)}, {'comment_id': 2613557489, 'issue_id': 2809938597, 'author': 'asno-odoo', 'body': 'robodoo r+', 'created_at': datetime.datetime(2025, 1, 24, 22, 59, 51, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-24 17:15:49 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195111.png)](https://mergebot.odoo.com/odoo/odoo/pull/195111)

fw-bot (Issue Creator) on (2025-01-24 17:15:50 UTC): This PR targets saas-18.1 and is part of the forward-port chain. Further PRs will be created up to master.

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

fw-bot (Issue Creator) on (2025-01-24 17:23:00 UTC): @asno-odoo @oco-odoo ci/runbot failed on this forward-port PR

fw-bot (Issue Creator) on (2025-01-24 19:55:49 UTC): @asno-odoo @oco-odoo this PR was modified / updated and has become a normal PR. It must be merged directly.

asno-odoo on (2025-01-24 22:59:51 UTC): robodoo r+

"
2809936983,pull_request,closed,,[FW][FIX] stock_account: Update lot_valuated from ProductProduct,"The write logic for lot_valuated is handled on the ProductTemplate. When you change the value of 'lot_valuated', '_svl_empty_stock()' is called before the new value is set, and the code expects ProductTemplate.lot_valuated and ProductProduct.lot_valuated to not yet be updated. However, if you change 'lot_valuated' from the ProductProduct model, ProductProduct.lot_valuated will be updated before ProductTemplate.write() is called. Hence, in '_svl_empty_stock()', ProductTemplate.lot_valuated != ProductProduct.lot_valuated

This issue only happens in the 'write' context, so it should not cause too much issue.

To fix this issue, when lot_valuated is updated from ProductProduct, we call the ProductTemplate write instead.
---


https://github.com/user-attachments/assets/9d2f64a4-a7ad-4078-ad0b-0cc50270492b


---
I confirm I have signed the CLA and read the PR guidelines at www.odoo.com/submit-pr

Forward-Port-Of: odoo/odoo#193948",fw-bot,2025-01-24 17:15:09+00:00,[],2025-01-27 09:21:13+00:00,2025-01-27 09:21:12+00:00,https://github.com/odoo/odoo/pull/195110,"[('RD', 'research & development, internal work'), ('forwardport', 'This PR was created by @fw-bot')]","[{'comment_id': 2613021277, 'issue_id': 2809936983, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195110.png)](https://mergebot.odoo.com/odoo/odoo/pull/195110)', 'created_at': datetime.datetime(2025, 1, 24, 17, 15, 46, tzinfo=datetime.timezone.utc)}, {'comment_id': 2613021301, 'issue_id': 2809936983, 'author': 'fw-bot', 'body': 'This PR targets saas-18.1 and is part of the forward-port chain. Further PRs will be created up to master.\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 24, 17, 15, 46, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-24 17:15:46 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195110.png)](https://mergebot.odoo.com/odoo/odoo/pull/195110)

fw-bot (Issue Creator) on (2025-01-24 17:15:46 UTC): This PR targets saas-18.1 and is part of the forward-port chain. Further PRs will be created up to master.

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

"
2809933153,pull_request,closed,,[FW][FIX] payment_xendit: fix rounding for PHP,"Steps to reproduce:
1) Configure Xendit provider
2) Try paying in PHP currency
3) Observe: 'Amount must be integer' error

Xendit does not allow decimal places for PHP.

opw-4415419

Forward-Port-Of: odoo/odoo#194860",fw-bot,2025-01-24 17:13:29+00:00,[],2025-01-27 09:56:43+00:00,2025-01-27 09:56:43+00:00,https://github.com/odoo/odoo/pull/195109,"[('OE', 'the report is linked to a support ticket (opw-...)'), ('forwardport', 'This PR was created by @fw-bot'), ('18.2', None)]","[{'comment_id': 2613017238, 'issue_id': 2809933153, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195109.png)](https://mergebot.odoo.com/odoo/odoo/pull/195109)', 'created_at': datetime.datetime(2025, 1, 24, 17, 13, 30, tzinfo=datetime.timezone.utc)}, {'comment_id': 2613017262, 'issue_id': 2809933153, 'author': 'fw-bot', 'body': '@vchu-odoo @AntoineVDV this PR targets master and is the last of the forward-port chain containing:\n* odoo/odoo#195066\n\nTo merge the full chain, use\n> @robodoo r+\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 24, 17, 13, 31, tzinfo=datetime.timezone.utc)}, {'comment_id': 2614961316, 'issue_id': 2809933153, 'author': 'vchu-odoo', 'body': '@robodoo r+', 'created_at': datetime.datetime(2025, 1, 27, 6, 47, 25, tzinfo=datetime.timezone.utc)}, {'comment_id': 2614990162, 'issue_id': 2809933153, 'author': 'robodoo', 'body': '@vchu-odoo @AntoineVDV staging failed: ci/runbot on 083141be9e26d598ce8ddff29cd7cbf118bc5b3f (view more at https://runbot.odoo.com/runbot/build/73976162)', 'created_at': datetime.datetime(2025, 1, 27, 7, 10, 41, tzinfo=datetime.timezone.utc)}, {'comment_id': 2615059475, 'issue_id': 2809933153, 'author': 'AntoineVDV', 'body': '@robodoo retry', 'created_at': datetime.datetime(2025, 1, 27, 7, 59, 22, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-24 17:13:30 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195109.png)](https://mergebot.odoo.com/odoo/odoo/pull/195109)

fw-bot (Issue Creator) on (2025-01-24 17:13:31 UTC): @vchu-odoo @AntoineVDV this PR targets master and is the last of the forward-port chain containing:
* odoo/odoo#195066

To merge the full chain, use

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

vchu-odoo on (2025-01-27 06:47:25 UTC): @robodoo r+

robodoo on (2025-01-27 07:10:41 UTC): @vchu-odoo @AntoineVDV staging failed: ci/runbot on 083141be9e26d598ce8ddff29cd7cbf118bc5b3f (view more at https://runbot.odoo.com/runbot/build/73976162)

AntoineVDV on (2025-01-27 07:59:22 UTC): @robodoo retry

"
2809931918,pull_request,closed,,[FW][16.0][IMP] iap: add outlook.jp to _MAIL_PROVIDERS,"@qrtl QT5121

Forward-Port-Of: odoo/odoo#193910",fw-bot,2025-01-24 17:12:52+00:00,[],2025-02-06 16:05:06+00:00,2025-02-06 16:05:06+00:00,https://github.com/odoo/odoo/pull/195108,"[('RD', 'research & development, internal work'), ('forwardport', 'This PR was created by @fw-bot')]","[{'comment_id': 2613016179, 'issue_id': 2809931918, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195108.png)](https://mergebot.odoo.com/odoo/odoo/pull/195108)', 'created_at': datetime.datetime(2025, 1, 24, 17, 12, 54, tzinfo=datetime.timezone.utc)}, {'comment_id': 2613016202, 'issue_id': 2809931918, 'author': 'fw-bot', 'body': 'This PR targets 18.0 and is part of the forward-port chain. Further PRs will be created up to master.\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 24, 17, 12, 55, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-24 17:12:54 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195108.png)](https://mergebot.odoo.com/odoo/odoo/pull/195108)

fw-bot (Issue Creator) on (2025-01-24 17:12:55 UTC): This PR targets 18.0 and is part of the forward-port chain. Further PRs will be created up to master.

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

"
2809905164,pull_request,closed,,[FW][FIX] mail: multiple action_unfollow on livechat leave,"Before this PR, leaving a livechat channel from the Discuss app would trigger multiple `action_unfollow` actions:
- One initiated by the Discuss app.
- Another triggered by the `channel/leave` notification.

This PR resolves the issue by ensuring that the `channel/leave` notification does not redundantly trigger an `action_unfollow`.

Task-4488437

Additionally, this commit addresses minor code structure issues.

---
I confirm I have signed the CLA and read the PR guidelines at www.odoo.com/submit-pr

Forward-Port-Of: odoo/odoo#194316",fw-bot,2025-01-24 16:59:07+00:00,[],2025-01-25 11:51:08+00:00,2025-01-25 03:17:07+00:00,https://github.com/odoo/odoo/pull/195107,"[('RD', 'research & development, internal work'), ('forwardport', 'This PR was created by @fw-bot'), ('18.2', None)]","[{'comment_id': 2612988245, 'issue_id': 2809905164, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195107.png)](https://mergebot.odoo.com/odoo/odoo/pull/195107)', 'created_at': datetime.datetime(2025, 1, 24, 16, 59, 9, tzinfo=datetime.timezone.utc)}, {'comment_id': 2612988268, 'issue_id': 2809905164, 'author': 'fw-bot', 'body': '@rapr-odoo @alexkuhn this PR targets master and is the last of the forward-port chain.\n\nTo merge the full chain, use\n> @robodoo r+\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 24, 16, 59, 9, tzinfo=datetime.timezone.utc)}, {'comment_id': 2613002351, 'issue_id': 2809905164, 'author': 'alexkuhn', 'body': '@robodoo r+', 'created_at': datetime.datetime(2025, 1, 24, 17, 5, 38, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-24 16:59:09 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195107.png)](https://mergebot.odoo.com/odoo/odoo/pull/195107)

fw-bot (Issue Creator) on (2025-01-24 16:59:09 UTC): @rapr-odoo @alexkuhn this PR targets master and is the last of the forward-port chain.

To merge the full chain, use

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

alexkuhn on (2025-01-24 17:05:38 UTC): @robodoo r+

"
2809904007,pull_request,closed,,[FW][FIX] point_of_sale: new session opening time,"- Fix bug where session opening time was set to previous session closing time.
- Now we want the pos session opening time to be set when we click ""Open register"".

task-id: 4500391

Description of the issue/feature this PR addresses:

Current behavior before PR:

Desired behavior after PR is merged:




---
I confirm I have signed the CLA and read the PR guidelines at www.odoo.com/submit-pr

Forward-Port-Of: odoo/odoo#195030
Forward-Port-Of: odoo/odoo#194977",fw-bot,2025-01-24 16:58:40+00:00,[],2025-02-04 13:26:02+00:00,2025-02-04 13:26:02+00:00,https://github.com/odoo/odoo/pull/195106,"[('RD', 'research & development, internal work'), ('forwardport', 'This PR was created by @fw-bot'), ('conflict', 'There was an error while creating this forward-port PR'), ('18.2', None)]","[{'comment_id': 2612987413, 'issue_id': 2809904007, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195106.png)](https://mergebot.odoo.com/odoo/odoo/pull/195106)', 'created_at': datetime.datetime(2025, 1, 24, 16, 58, 43, tzinfo=datetime.timezone.utc)}, {'comment_id': 2612987432, 'issue_id': 2809904007, 'author': 'fw-bot', 'body': '@manv-afk @caburj cherrypicking of pull request odoo/odoo#194977 failed.\n\nstdout:\n```\nAuto-merging addons/point_of_sale/models/pos_session.py\nCONFLICT (content): Merge conflict in addons/point_of_sale/models/pos_session.py\n\n```\n\nEither perform the forward-port manually (and push to this branch, proceeding as usual) or close this PR (maybe?).\n\nIn the former case, you may want to edit this PR message as well.\n\n:warning: after resolving this conflict, you will need to merge it via @robodoo.\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 24, 16, 58, 44, tzinfo=datetime.timezone.utc)}, {'comment_id': 2617539188, 'issue_id': 2809904007, 'author': 'fw-bot', 'body': '@manv-afk @caburj this forward port of odoo/odoo#194977 is awaiting action (not merged or closed).', 'created_at': datetime.datetime(2025, 1, 28, 2, 0, 54, tzinfo=datetime.timezone.utc)}, {'comment_id': 2620471039, 'issue_id': 2809904007, 'author': 'fw-bot', 'body': '@manv-afk @caburj this forward port of odoo/odoo#194977 is awaiting action (not merged or closed).', 'created_at': datetime.datetime(2025, 1, 29, 2, 0, 47, tzinfo=datetime.timezone.utc)}, {'comment_id': 2623353980, 'issue_id': 2809904007, 'author': 'fw-bot', 'body': '@manv-afk @caburj this forward port of odoo/odoo#194977 is awaiting action (not merged or closed).', 'created_at': datetime.datetime(2025, 1, 30, 2, 1, 43, tzinfo=datetime.timezone.utc)}, {'comment_id': 2626135318, 'issue_id': 2809904007, 'author': 'fw-bot', 'body': '@manv-afk @caburj this forward port of odoo/odoo#194977 is awaiting action (not merged or closed).', 'created_at': datetime.datetime(2025, 1, 31, 2, 1, 37, tzinfo=datetime.timezone.utc)}, {'comment_id': 2628684853, 'issue_id': 2809904007, 'author': 'fw-bot', 'body': '@manv-afk @caburj this forward port of odoo/odoo#194977 is awaiting action (not merged or closed).', 'created_at': datetime.datetime(2025, 2, 1, 2, 1, 7, tzinfo=datetime.timezone.utc)}, {'comment_id': 2629201585, 'issue_id': 2809904007, 'author': 'fw-bot', 'body': '@manv-afk @caburj this forward port of odoo/odoo#194977 is awaiting action (not merged or closed).', 'created_at': datetime.datetime(2025, 2, 2, 2, 1, 14, tzinfo=datetime.timezone.utc)}, {'comment_id': 2629729863, 'issue_id': 2809904007, 'author': 'fw-bot', 'body': '@manv-afk @caburj this forward port of odoo/odoo#194977 is awaiting action (not merged or closed).', 'created_at': datetime.datetime(2025, 2, 3, 2, 2, 3, tzinfo=datetime.timezone.utc)}, {'comment_id': 2633200644, 'issue_id': 2809904007, 'author': 'manv-afk', 'body': '@robodoo r+', 'created_at': datetime.datetime(2025, 2, 4, 8, 26, 44, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-24 16:58:43 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195106.png)](https://mergebot.odoo.com/odoo/odoo/pull/195106)

fw-bot (Issue Creator) on (2025-01-24 16:58:44 UTC): @manv-afk @caburj cherrypicking of pull request odoo/odoo#194977 failed.

stdout:
```
Auto-merging addons/point_of_sale/models/pos_session.py
CONFLICT (content): Merge conflict in addons/point_of_sale/models/pos_session.py

```

Either perform the forward-port manually (and push to this branch, proceeding as usual) or close this PR (maybe?).

In the former case, you may want to edit this PR message as well.

:warning: after resolving this conflict, you will need to merge it via @robodoo.

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

fw-bot (Issue Creator) on (2025-01-28 02:00:54 UTC): @manv-afk @caburj this forward port of odoo/odoo#194977 is awaiting action (not merged or closed).

fw-bot (Issue Creator) on (2025-01-29 02:00:47 UTC): @manv-afk @caburj this forward port of odoo/odoo#194977 is awaiting action (not merged or closed).

fw-bot (Issue Creator) on (2025-01-30 02:01:43 UTC): @manv-afk @caburj this forward port of odoo/odoo#194977 is awaiting action (not merged or closed).

fw-bot (Issue Creator) on (2025-01-31 02:01:37 UTC): @manv-afk @caburj this forward port of odoo/odoo#194977 is awaiting action (not merged or closed).

fw-bot (Issue Creator) on (2025-02-01 02:01:07 UTC): @manv-afk @caburj this forward port of odoo/odoo#194977 is awaiting action (not merged or closed).

fw-bot (Issue Creator) on (2025-02-02 02:01:14 UTC): @manv-afk @caburj this forward port of odoo/odoo#194977 is awaiting action (not merged or closed).

fw-bot (Issue Creator) on (2025-02-03 02:02:03 UTC): @manv-afk @caburj this forward port of odoo/odoo#194977 is awaiting action (not merged or closed).

manv-afk on (2025-02-04 08:26:44 UTC): @robodoo r+

"
2809903183,pull_request,closed,,[FW][FIX] crm: onboarding tour bubble fix,"Tour bubble points to every New button in kanban.
Fixed it to only point at New button in crm lead kanban view.

Task-4377574

Forward-Port-Of: odoo/odoo#194717
Forward-Port-Of: odoo/odoo#190937",fw-bot,2025-01-24 16:58:22+00:00,[],2025-01-27 06:05:10+00:00,2025-01-27 06:05:09+00:00,https://github.com/odoo/odoo/pull/195105,"[('RD', 'research & development, internal work'), ('forwardport', 'This PR was created by @fw-bot'), ('18.2', None)]","[{'comment_id': 2612987369, 'issue_id': 2809903183, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195105.png)](https://mergebot.odoo.com/odoo/odoo/pull/195105)', 'created_at': datetime.datetime(2025, 1, 24, 16, 58, 42, tzinfo=datetime.timezone.utc)}, {'comment_id': 2612987386, 'issue_id': 2809903183, 'author': 'fw-bot', 'body': '@nihp-odoo @tde-banana-odoo this PR targets master and is the last of the forward-port chain.\n\nTo merge the full chain, use\n> @robodoo r+\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 24, 16, 58, 42, tzinfo=datetime.timezone.utc)}, {'comment_id': 2613721985, 'issue_id': 2809903183, 'author': 'fw-bot', 'body': '@nihp-odoo @tde-banana-odoo this forward port of odoo/odoo#190937 is awaiting action (not merged or closed).', 'created_at': datetime.datetime(2025, 1, 25, 2, 1, 41, tzinfo=datetime.timezone.utc)}, {'comment_id': 2614844035, 'issue_id': 2809903183, 'author': 'nihp-odoo', 'body': '@robodoo r+', 'created_at': datetime.datetime(2025, 1, 27, 4, 50, 50, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-24 16:58:42 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195105.png)](https://mergebot.odoo.com/odoo/odoo/pull/195105)

fw-bot (Issue Creator) on (2025-01-24 16:58:42 UTC): @nihp-odoo @tde-banana-odoo this PR targets master and is the last of the forward-port chain.

To merge the full chain, use

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

fw-bot (Issue Creator) on (2025-01-25 02:01:41 UTC): @nihp-odoo @tde-banana-odoo this forward port of odoo/odoo#190937 is awaiting action (not merged or closed).

nihp-odoo on (2025-01-27 04:50:50 UTC): @robodoo r+

"
2809888117,pull_request,closed,,[FW][FIX] account: partner autocomplete,"`partner_gid` was missing from `res_company_form_view_onboarding` view which was creating a bug when applying the partner autocomplete.

opw-4489441

---
I confirm I have signed the CLA and read the PR guidelines at www.odoo.com/submit-pr

Forward-Port-Of: odoo/odoo#195000",fw-bot,2025-01-24 16:50:20+00:00,[],2025-01-28 08:45:23+00:00,2025-01-28 08:45:23+00:00,https://github.com/odoo/odoo/pull/195104,"[('OE', 'the report is linked to a support ticket (opw-...)'), ('forwardport', 'This PR was created by @fw-bot')]","[{'comment_id': 2612971370, 'issue_id': 2809888117, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195104.png)](https://mergebot.odoo.com/odoo/odoo/pull/195104)', 'created_at': datetime.datetime(2025, 1, 24, 16, 50, 21, tzinfo=datetime.timezone.utc)}, {'comment_id': 2612971385, 'issue_id': 2809888117, 'author': 'fw-bot', 'body': '@rugo-odoo @RicGR98 this PR targets master and is the last of the forward-port chain containing:\n* odoo/odoo#195087\n\nTo merge the full chain, use\n> @robodoo r+\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 24, 16, 50, 22, tzinfo=datetime.timezone.utc)}, {'comment_id': 2615171203, 'issue_id': 2809888117, 'author': 'rugo-odoo', 'body': '@robodoo r+', 'created_at': datetime.datetime(2025, 1, 27, 8, 56, 54, tzinfo=datetime.timezone.utc)}, {'comment_id': 2615215526, 'issue_id': 2809888117, 'author': 'rugo-odoo', 'body': '@robodoo r-', 'created_at': datetime.datetime(2025, 1, 27, 9, 17, 29, tzinfo=datetime.timezone.utc)}, {'comment_id': 2615215634, 'issue_id': 2809888117, 'author': 'robodoo', 'body': 'Note that only this forward-port has been unapproved, sibling forward ports may have to be unapproved individually.', 'created_at': datetime.datetime(2025, 1, 27, 9, 17, 32, tzinfo=datetime.timezone.utc)}, {'comment_id': 2617539084, 'issue_id': 2809888117, 'author': 'fw-bot', 'body': '@rugo-odoo @RicGR98 this forward port of odoo/odoo#195000 is awaiting action (not merged or closed).', 'created_at': datetime.datetime(2025, 1, 28, 2, 0, 52, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-24 16:50:21 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195104.png)](https://mergebot.odoo.com/odoo/odoo/pull/195104)

fw-bot (Issue Creator) on (2025-01-24 16:50:22 UTC): @rugo-odoo @RicGR98 this PR targets master and is the last of the forward-port chain containing:
* odoo/odoo#195087

To merge the full chain, use

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

rugo-odoo on (2025-01-27 08:56:54 UTC): @robodoo r+

rugo-odoo on (2025-01-27 09:17:29 UTC): @robodoo r-

robodoo on (2025-01-27 09:17:32 UTC): Note that only this forward-port has been unapproved, sibling forward ports may have to be unapproved individually.

fw-bot (Issue Creator) on (2025-01-28 02:00:52 UTC): @rugo-odoo @RicGR98 this forward port of odoo/odoo#195000 is awaiting action (not merged or closed).

"
2809886491,pull_request,closed,,[FW][I18N] point_of_sale: make receipt header fully translated,"Because 'Tax ID' was within the `t-esc` the term was never translated. This goes against some country's compliance requirements for receipts, so we make it translatable now.

Description of the issue/feature this PR addresses:

Current behavior before PR:

Desired behavior after PR is merged:




---
I confirm I have signed the CLA and read the PR guidelines at www.odoo.com/submit-pr

Forward-Port-Of: odoo/odoo#195014
Forward-Port-Of: odoo/odoo#194801",fw-bot,2025-01-24 16:49:25+00:00,[],2025-01-27 11:05:08+00:00,2025-01-27 11:05:08+00:00,https://github.com/odoo/odoo/pull/195103,"[('RD', 'research & development, internal work'), ('forwardport', 'This PR was created by @fw-bot'), ('conflict', 'There was an error while creating this forward-port PR')]","[{'comment_id': 2612969657, 'issue_id': 2809886491, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195103.png)](https://mergebot.odoo.com/odoo/odoo/pull/195103)', 'created_at': datetime.datetime(2025, 1, 24, 16, 49, 26, tzinfo=datetime.timezone.utc)}, {'comment_id': 2612969676, 'issue_id': 2809886491, 'author': 'fw-bot', 'body': '@ticodoo @oomsveta cherrypicking of pull request odoo/odoo#194801 failed.\n\nstdout:\n```\nAuto-merging addons/point_of_sale/i18n/point_of_sale.pot\nCONFLICT (content): Merge conflict in addons/point_of_sale/i18n/point_of_sale.pot\nAuto-merging addons/point_of_sale/static/src/app/screens/receipt_screen/receipt/receipt_header/receipt_header.xml\n\n```\n\nEither perform the forward-port manually (and push to this branch, proceeding as usual) or close this PR (maybe?).\n\nIn the former case, you may want to edit this PR message as well.\n\n:warning: after resolving this conflict, you will need to merge it via @robodoo.\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 24, 16, 49, 27, tzinfo=datetime.timezone.utc)}, {'comment_id': 2614722536, 'issue_id': 2809886491, 'author': 'fw-bot', 'body': '@ticodoo @oomsveta this forward port of odoo/odoo#194801 is awaiting action (not merged or closed).', 'created_at': datetime.datetime(2025, 1, 27, 2, 1, 37, tzinfo=datetime.timezone.utc)}, {'comment_id': 2615145926, 'issue_id': 2809886491, 'author': 'ticodoo', 'body': '@robodoo r+', 'created_at': datetime.datetime(2025, 1, 27, 8, 44, 55, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-24 16:49:26 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195103.png)](https://mergebot.odoo.com/odoo/odoo/pull/195103)

fw-bot (Issue Creator) on (2025-01-24 16:49:27 UTC): @ticodoo @oomsveta cherrypicking of pull request odoo/odoo#194801 failed.

stdout:
```
Auto-merging addons/point_of_sale/i18n/point_of_sale.pot
CONFLICT (content): Merge conflict in addons/point_of_sale/i18n/point_of_sale.pot
Auto-merging addons/point_of_sale/static/src/app/screens/receipt_screen/receipt/receipt_header/receipt_header.xml

```

Either perform the forward-port manually (and push to this branch, proceeding as usual) or close this PR (maybe?).

In the former case, you may want to edit this PR message as well.

:warning: after resolving this conflict, you will need to merge it via @robodoo.

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

fw-bot (Issue Creator) on (2025-01-27 02:01:37 UTC): @ticodoo @oomsveta this forward port of odoo/odoo#194801 is awaiting action (not merged or closed).

ticodoo on (2025-01-27 08:44:55 UTC): @robodoo r+

"
2809885970,pull_request,closed,,[FW][FIX] hr_timesheet: fix the validation error on create in form,"Steps to reproduce:

- Open any editable project from portal
- Open any task
- Create a task using Form New button.
- Give the changes and save

Issue:

- A validation error

Reason:

- The timesheets ids field in project sharing view has readonly attruibute which
it shouldn't have.
- Due to this changes are fetched and context in evaluated this field
becomes writable.

Fix:

- Remove the readonly attribute as timesheet_ids is already a readonly field
in portal side.

task- 4494040

Forward-Port-Of: odoo/odoo#194465",fw-bot,2025-01-24 16:49:08+00:00,[],2025-02-03 08:53:20+00:00,2025-02-03 08:53:20+00:00,https://github.com/odoo/odoo/pull/195102,"[('RD', 'research & development, internal work'), ('forwardport', 'This PR was created by @fw-bot'), ('conflict', 'There was an error while creating this forward-port PR')]","[{'comment_id': 2612969165, 'issue_id': 2809885970, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195102.png)](https://mergebot.odoo.com/odoo/odoo/pull/195102)', 'created_at': datetime.datetime(2025, 1, 24, 16, 49, 10, tzinfo=datetime.timezone.utc)}, {'comment_id': 2612969184, 'issue_id': 2809885970, 'author': 'fw-bot', 'body': '@kthe-odoo @xavierbol cherrypicking of pull request odoo/odoo#194465 failed.\n\nstdout:\n```\nAuto-merging addons/hr_timesheet/views/project_task_sharing_views.xml\nCONFLICT (content): Merge conflict in addons/hr_timesheet/views/project_task_sharing_views.xml\n\n```\n\nEither perform the forward-port manually (and push to this branch, proceeding as usual) or close this PR (maybe?).\n\nIn the former case, you may want to edit this PR message as well.\n\n:warning: after resolving this conflict, you will need to merge it via @robodoo.\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 24, 16, 49, 11, tzinfo=datetime.timezone.utc)}, {'comment_id': 2617540572, 'issue_id': 2809885970, 'author': 'fw-bot', 'body': '@kthe-odoo @xavierbol this forward port of odoo/odoo#194465 is awaiting action (not merged or closed).', 'created_at': datetime.datetime(2025, 1, 28, 2, 1, 14, tzinfo=datetime.timezone.utc)}, {'comment_id': 2620471248, 'issue_id': 2809885970, 'author': 'fw-bot', 'body': '@kthe-odoo @xavierbol this forward port of odoo/odoo#194465 is awaiting action (not merged or closed).', 'created_at': datetime.datetime(2025, 1, 29, 2, 0, 57, tzinfo=datetime.timezone.utc)}, {'comment_id': 2623354143, 'issue_id': 2809885970, 'author': 'fw-bot', 'body': '@kthe-odoo @xavierbol this forward port of odoo/odoo#194465 is awaiting action (not merged or closed).', 'created_at': datetime.datetime(2025, 1, 30, 2, 1, 52, tzinfo=datetime.timezone.utc)}, {'comment_id': 2626136650, 'issue_id': 2809885970, 'author': 'fw-bot', 'body': '@kthe-odoo @xavierbol this forward port of odoo/odoo#194465 is awaiting action (not merged or closed).', 'created_at': datetime.datetime(2025, 1, 31, 2, 1, 48, tzinfo=datetime.timezone.utc)}, {'comment_id': 2628685009, 'issue_id': 2809885970, 'author': 'fw-bot', 'body': '@kthe-odoo @xavierbol this forward port of odoo/odoo#194465 is awaiting action (not merged or closed).', 'created_at': datetime.datetime(2025, 2, 1, 2, 1, 15, tzinfo=datetime.timezone.utc)}, {'comment_id': 2629201740, 'issue_id': 2809885970, 'author': 'fw-bot', 'body': '@kthe-odoo @xavierbol this forward port of odoo/odoo#194465 is awaiting action (not merged or closed).', 'created_at': datetime.datetime(2025, 2, 2, 2, 1, 29, tzinfo=datetime.timezone.utc)}, {'comment_id': 2629730171, 'issue_id': 2809885970, 'author': 'fw-bot', 'body': '@kthe-odoo @xavierbol this forward port of odoo/odoo#194465 is awaiting action (not merged or closed).', 'created_at': datetime.datetime(2025, 2, 3, 2, 2, 21, tzinfo=datetime.timezone.utc)}, {'comment_id': 2629995988, 'issue_id': 2809885970, 'author': 'kthe-odoo', 'body': '@robodoo r+', 'created_at': datetime.datetime(2025, 2, 3, 5, 25, 37, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-24 16:49:10 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195102.png)](https://mergebot.odoo.com/odoo/odoo/pull/195102)

fw-bot (Issue Creator) on (2025-01-24 16:49:11 UTC): @kthe-odoo @xavierbol cherrypicking of pull request odoo/odoo#194465 failed.

stdout:
```
Auto-merging addons/hr_timesheet/views/project_task_sharing_views.xml
CONFLICT (content): Merge conflict in addons/hr_timesheet/views/project_task_sharing_views.xml

```

Either perform the forward-port manually (and push to this branch, proceeding as usual) or close this PR (maybe?).

In the former case, you may want to edit this PR message as well.

:warning: after resolving this conflict, you will need to merge it via @robodoo.

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

fw-bot (Issue Creator) on (2025-01-28 02:01:14 UTC): @kthe-odoo @xavierbol this forward port of odoo/odoo#194465 is awaiting action (not merged or closed).

fw-bot (Issue Creator) on (2025-01-29 02:00:57 UTC): @kthe-odoo @xavierbol this forward port of odoo/odoo#194465 is awaiting action (not merged or closed).

fw-bot (Issue Creator) on (2025-01-30 02:01:52 UTC): @kthe-odoo @xavierbol this forward port of odoo/odoo#194465 is awaiting action (not merged or closed).

fw-bot (Issue Creator) on (2025-01-31 02:01:48 UTC): @kthe-odoo @xavierbol this forward port of odoo/odoo#194465 is awaiting action (not merged or closed).

fw-bot (Issue Creator) on (2025-02-01 02:01:15 UTC): @kthe-odoo @xavierbol this forward port of odoo/odoo#194465 is awaiting action (not merged or closed).

fw-bot (Issue Creator) on (2025-02-02 02:01:29 UTC): @kthe-odoo @xavierbol this forward port of odoo/odoo#194465 is awaiting action (not merged or closed).

fw-bot (Issue Creator) on (2025-02-03 02:02:21 UTC): @kthe-odoo @xavierbol this forward port of odoo/odoo#194465 is awaiting action (not merged or closed).

kthe-odoo on (2025-02-03 05:25:37 UTC): @robodoo r+

"
2809883325,pull_request,open,,[IMP] mail: adding role into mail,"In this task, we are introducing the concept of roles, making it possible to ping a group of users at once.


task-4045282


---
I confirm I have signed the CLA and read the PR guidelines at www.odoo.com/submit-pr
",zel-odoo,2025-01-24 16:47:39+00:00,[],2025-02-07 15:25:49+00:00,,https://github.com/odoo/odoo/pull/195101,"[('RD', 'research & development, internal work')]","[{'comment_id': 2612966502, 'issue_id': 2809883325, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195101.png)](https://mergebot.odoo.com/odoo/odoo/pull/195101)', 'created_at': datetime.datetime(2025, 1, 24, 16, 47, 42, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-24 16:47:42 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195101.png)](https://mergebot.odoo.com/odoo/odoo/pull/195101)

"
2809877313,pull_request,closed,,[FW][FIX] l10n_tr: update taxes,"This commit will update some taxes:
- Update the purchase tax accounts
- Add new 0% EX tax
- Delete EX RS 20% & EX RS -20%

In the tax report:
- Change the name of the report
- Add a new record

task: 4244715




---
I confirm I have signed the CLA and read the PR guidelines at www.odoo.com/submit-pr

Forward-Port-Of: odoo/odoo#185947",fw-bot,2025-01-24 16:44:19+00:00,[],2025-01-27 10:34:04+00:00,2025-01-27 10:34:04+00:00,https://github.com/odoo/odoo/pull/195100,"[('RD', 'research & development, internal work'), ('forwardport', 'This PR was created by @fw-bot')]","[{'comment_id': 2612959761, 'issue_id': 2809877313, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195100.png)](https://mergebot.odoo.com/odoo/odoo/pull/195100)', 'created_at': datetime.datetime(2025, 1, 24, 16, 44, 20, tzinfo=datetime.timezone.utc)}, {'comment_id': 2612959774, 'issue_id': 2809877313, 'author': 'fw-bot', 'body': 'This PR targets saas-17.2 and is part of the forward-port chain. Further PRs will be created up to master.\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 24, 16, 44, 21, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-24 16:44:20 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195100.png)](https://mergebot.odoo.com/odoo/odoo/pull/195100)

fw-bot (Issue Creator) on (2025-01-24 16:44:21 UTC): This PR targets saas-17.2 and is part of the forward-port chain. Further PRs will be created up to master.

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

"
2809876784,pull_request,closed,,[FW][FIX] account: cash basis journal for last payment,"If you pay an invoice with multiple payments some roundings are made for the taxes. On the last payment, the error from those roundings are put on a move to make sure that the exact amount of the invoice is paid.

That move was put on the wrong journal. It was put in the 'Exchange Difference' journal instead of the 'Cash Basis Taxes'.

opw-4460696

---
I confirm I have signed the CLA and read the PR guidelines at www.odoo.com/submit-pr

Forward-Port-Of: odoo/odoo#193994",fw-bot,2025-01-24 16:44:01+00:00,[],2025-01-27 14:59:40+00:00,2025-01-27 14:59:40+00:00,https://github.com/odoo/odoo/pull/195099,"[('OE', 'the report is linked to a support ticket (opw-...)'), ('forwardport', 'This PR was created by @fw-bot')]","[{'comment_id': 2612959167, 'issue_id': 2809876784, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195099.png)](https://mergebot.odoo.com/odoo/odoo/pull/195099)', 'created_at': datetime.datetime(2025, 1, 24, 16, 44, 2, tzinfo=datetime.timezone.utc)}, {'comment_id': 2612959192, 'issue_id': 2809876784, 'author': 'fw-bot', 'body': 'This PR targets saas-17.2 and is part of the forward-port chain. Further PRs will be created up to master.\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 24, 16, 44, 3, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-24 16:44:02 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195099.png)](https://mergebot.odoo.com/odoo/odoo/pull/195099)

fw-bot (Issue Creator) on (2025-01-24 16:44:03 UTC): This PR targets saas-17.2 and is part of the forward-port chain. Further PRs will be created up to master.

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

"
2809873142,pull_request,open,,wip,"Description of the issue/feature this PR addresses:

Current behavior before PR:

Desired behavior after PR is merged:




---
I confirm I have signed the CLA and read the PR guidelines at www.odoo.com/submit-pr
",chevalierv,2025-01-24 16:42:13+00:00,[],2025-01-24 17:00:20+00:00,,https://github.com/odoo/odoo/pull/195098,"[('RD', 'research & development, internal work')]","[{'comment_id': 2612955470, 'issue_id': 2809873142, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195098.png)](https://mergebot.odoo.com/odoo/odoo/pull/195098)', 'created_at': datetime.datetime(2025, 1, 24, 16, 42, 17, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-24 16:42:17 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195098.png)](https://mergebot.odoo.com/odoo/odoo/pull/195098)

"
2809865740,pull_request,closed,,[FIX] point_of_sale: fix duplicate report line,"If you sell a product that has multiple pos categories, the report would contain as many lines as the number of categories.

Steps to reproduce:
-------------------
* Create product A with atleast 2 pos categories
* Make a sale in PoS with this product
* Go to PoS order report and click on the graph
* This will open a view containing all the lines of the report
> Observation: You have multiple lines for the same order

Why the fix:
------------
To avoid this issue, we select only the first category of the product.

opw-4451101",robinengels,2025-01-24 16:38:24+00:00,[],2025-01-31 10:37:23+00:00,2025-01-31 10:37:23+00:00,https://github.com/odoo/odoo/pull/195097,"[('OE', 'the report is linked to a support ticket (opw-...)')]","[{'comment_id': 2612947268, 'issue_id': 2809865740, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195097.png)](https://mergebot.odoo.com/odoo/odoo/pull/195097)', 'created_at': datetime.datetime(2025, 1, 24, 16, 38, 28, tzinfo=datetime.timezone.utc)}, {'comment_id': 2624734441, 'issue_id': 2809865740, 'author': 'caburj', 'body': 'robodoo r+', 'created_at': datetime.datetime(2025, 1, 30, 15, 0, 15, tzinfo=datetime.timezone.utc)}, {'comment_id': 2625280092, 'issue_id': 2809865740, 'author': 'robodoo', 'body': '@robinengels @caburj staging failed: ci/runbot on b1200a80a68ba0d5a54eb94a590ec2975428c15f (view more at https://runbot.odoo.com/runbot/build/74227097)', 'created_at': datetime.datetime(2025, 1, 30, 18, 35, 44, tzinfo=datetime.timezone.utc)}, {'comment_id': 2626482090, 'issue_id': 2809865740, 'author': 'caburj', 'body': 'robodoo retry', 'created_at': datetime.datetime(2025, 1, 31, 7, 31, 6, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-24 16:38:28 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195097.png)](https://mergebot.odoo.com/odoo/odoo/pull/195097)

caburj on (2025-01-30 15:00:15 UTC): robodoo r+

robodoo on (2025-01-30 18:35:44 UTC): @robinengels @caburj staging failed: ci/runbot on b1200a80a68ba0d5a54eb94a590ec2975428c15f (view more at https://runbot.odoo.com/runbot/build/74227097)

caburj on (2025-01-31 07:31:06 UTC): robodoo retry

"
2809863826,pull_request,closed,,[FW][FIX] hr: fix singleton record error,"### Description of the issue/feature this PR addresses:

- The [_get_plan_available_base_domain()](https://github.com/odoo/odoo/blob/18.0/addons/mail/wizard/mail_activity_schedule.py#L330) method is built and `self.ensure_one()` is placed in it but it is called in `_compute_plan_available_ids()` with `self` which can have multiple records

### Current behavior before PR:
- The error `ValueError: Expected singleton: mail.activity.schedule(1, 2)` occurred

### Desired behavior after PR is merged:
- The problem has been fixed.



---
I confirm I have signed the CLA and read the PR guidelines at www.odoo.com/submit-pr

Forward-Port-Of: odoo/odoo#194338",fw-bot,2025-01-24 16:37:21+00:00,[],2025-01-28 01:17:57+00:00,2025-01-28 01:17:57+00:00,https://github.com/odoo/odoo/pull/195096,"[('RD', 'research & development, internal work'), ('forwardport', 'This PR was created by @fw-bot'), ('18.2', None)]","[{'comment_id': 2612945017, 'issue_id': 2809863826, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195096.png)](https://mergebot.odoo.com/odoo/odoo/pull/195096)', 'created_at': datetime.datetime(2025, 1, 24, 16, 37, 22, tzinfo=datetime.timezone.utc)}, {'comment_id': 2612945041, 'issue_id': 2809863826, 'author': 'fw-bot', 'body': '@JocelynVN @Bertrand2 this PR targets master and is the last of the forward-port chain containing:\n* odoo/odoo#195080\n* odoo/odoo#195060\n* odoo/odoo#194634\n* odoo/odoo#194629\n\nTo merge the full chain, use\n> @robodoo r+\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 24, 16, 37, 23, tzinfo=datetime.timezone.utc)}, {'comment_id': 2613721713, 'issue_id': 2809863826, 'author': 'fw-bot', 'body': '@JocelynVN @Bertrand2 this forward port of odoo/odoo#194338 is awaiting action (not merged or closed).', 'created_at': datetime.datetime(2025, 1, 25, 2, 1, 2, tzinfo=datetime.timezone.utc)}, {'comment_id': 2614171976, 'issue_id': 2809863826, 'author': 'fw-bot', 'body': '@JocelynVN @Bertrand2 this forward port of odoo/odoo#194338 is awaiting action (not merged or closed).', 'created_at': datetime.datetime(2025, 1, 26, 2, 1, 21, tzinfo=datetime.timezone.utc)}, {'comment_id': 2614722814, 'issue_id': 2809863826, 'author': 'fw-bot', 'body': '@JocelynVN @Bertrand2 this forward port of odoo/odoo#194338 is awaiting action (not merged or closed).', 'created_at': datetime.datetime(2025, 1, 27, 2, 1, 55, tzinfo=datetime.timezone.utc)}, {'comment_id': 2615863080, 'issue_id': 2809863826, 'author': 'Bertrand2', 'body': 'robodoo r+', 'created_at': datetime.datetime(2025, 1, 27, 14, 9, 10, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-24 16:37:22 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195096.png)](https://mergebot.odoo.com/odoo/odoo/pull/195096)

fw-bot (Issue Creator) on (2025-01-24 16:37:23 UTC): @JocelynVN @Bertrand2 this PR targets master and is the last of the forward-port chain containing:
* odoo/odoo#195080
* odoo/odoo#195060
* odoo/odoo#194634
* odoo/odoo#194629

To merge the full chain, use

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

fw-bot (Issue Creator) on (2025-01-25 02:01:02 UTC): @JocelynVN @Bertrand2 this forward port of odoo/odoo#194338 is awaiting action (not merged or closed).

fw-bot (Issue Creator) on (2025-01-26 02:01:21 UTC): @JocelynVN @Bertrand2 this forward port of odoo/odoo#194338 is awaiting action (not merged or closed).

fw-bot (Issue Creator) on (2025-01-27 02:01:55 UTC): @JocelynVN @Bertrand2 this forward port of odoo/odoo#194338 is awaiting action (not merged or closed).

Bertrand2 on (2025-01-27 14:09:10 UTC): robodoo r+

"
2809831816,pull_request,closed,,[FW][FIX] website: fix unable to enter edit mode on old browsers,"Since commit [1], we added a selector using the "":has"" pseudo-class in the template that defines where ""inner content"" blocks can be dropped. It is no longer possible to enter edit mode (a traceback occurs) starting from Odoo version 18.0 and in browsers older than Chrome 112 or Firefox 121.

This bug happens because the same selector, used by jQuery, combines both the "":has"" pseudo-class and the "":is"" pseudo-class (this "":is"" pseudo-class was introduced into the same selector by commit [2] starting from Odoo version 18.0). This is not compatible with the older browsers mentioned above.

The bug only appears in version 18. However, we already fixed this in 16.0 in case potential customizations had added the "":is"" pseudo-class to the same selector.

[1]: https://github.com/odoo/odoo/commit/65a85009800dfa45526ebdc41d3a0a808b2e9f6d
[2]: https://github.com/odoo/odoo/commit/e0fc83760f991fa2fea39763bb2709d9e0182316

opw-4494945

Forward-Port-Of: odoo/odoo#194908
Forward-Port-Of: odoo/odoo#194676",fw-bot,2025-01-24 16:20:40+00:00,[],2025-02-05 10:44:50+00:00,2025-01-27 12:56:54+00:00,https://github.com/odoo/odoo/pull/195095,"[('OE', 'the report is linked to a support ticket (opw-...)'), ('forwardport', 'This PR was created by @fw-bot')]","[{'comment_id': 2612911478, 'issue_id': 2809831816, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195095.png)](https://mergebot.odoo.com/odoo/odoo/pull/195095)', 'created_at': datetime.datetime(2025, 1, 24, 16, 20, 41, tzinfo=datetime.timezone.utc)}, {'comment_id': 2612911551, 'issue_id': 2809831816, 'author': 'fw-bot', 'body': 'This PR targets 18.0 and is part of the forward-port chain. Further PRs will be created up to master.\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 24, 16, 20, 44, tzinfo=datetime.timezone.utc)}, {'comment_id': 2618435895, 'issue_id': 2809831816, 'author': 'fw-bot', 'body': ""@bvr-odoo @qsm-odoo ancestor PR odoo/odoo#195076 has been updated but this PR is merged and can't be updated to match.\n\nYou may want or need to manually update any followup PR."", 'created_at': datetime.datetime(2025, 1, 28, 9, 38, 30, tzinfo=datetime.timezone.utc)}, {'comment_id': 2618702352, 'issue_id': 2809831816, 'author': 'fw-bot', 'body': ""@bvr-odoo @qsm-odoo ancestor PR odoo/odoo#195076 has been updated but this PR is merged and can't be updated to match.\n\nYou may want or need to manually update any followup PR."", 'created_at': datetime.datetime(2025, 1, 28, 11, 15, 9, tzinfo=datetime.timezone.utc)}, {'comment_id': 2618859634, 'issue_id': 2809831816, 'author': 'fw-bot', 'body': ""@bvr-odoo @qsm-odoo ancestor PR odoo/odoo#195076 has been updated but this PR is merged and can't be updated to match.\n\nYou may want or need to manually update any followup PR."", 'created_at': datetime.datetime(2025, 1, 28, 12, 24, 52, tzinfo=datetime.timezone.utc)}, {'comment_id': 2619421025, 'issue_id': 2809831816, 'author': 'fw-bot', 'body': ""@bvr-odoo @qsm-odoo ancestor PR odoo/odoo#195076 has been updated but this PR is merged and can't be updated to match.\n\nYou may want or need to manually update any followup PR."", 'created_at': datetime.datetime(2025, 1, 28, 16, 2, 36, tzinfo=datetime.timezone.utc)}, {'comment_id': 2636374239, 'issue_id': 2809831816, 'author': 'fw-bot', 'body': ""@bvr-odoo @qsm-odoo ancestor PR odoo/odoo#195076 has been updated but this PR is merged and can't be updated to match.\n\nYou may want or need to manually update any followup PR."", 'created_at': datetime.datetime(2025, 2, 5, 10, 44, 49, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-24 16:20:41 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195095.png)](https://mergebot.odoo.com/odoo/odoo/pull/195095)

fw-bot (Issue Creator) on (2025-01-24 16:20:44 UTC): This PR targets 18.0 and is part of the forward-port chain. Further PRs will be created up to master.

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

fw-bot (Issue Creator) on (2025-01-28 09:38:30 UTC): @bvr-odoo @qsm-odoo ancestor PR odoo/odoo#195076 has been updated but this PR is merged and can't be updated to match.

You may want or need to manually update any followup PR.

fw-bot (Issue Creator) on (2025-01-28 11:15:09 UTC): @bvr-odoo @qsm-odoo ancestor PR odoo/odoo#195076 has been updated but this PR is merged and can't be updated to match.

You may want or need to manually update any followup PR.

fw-bot (Issue Creator) on (2025-01-28 12:24:52 UTC): @bvr-odoo @qsm-odoo ancestor PR odoo/odoo#195076 has been updated but this PR is merged and can't be updated to match.

You may want or need to manually update any followup PR.

fw-bot (Issue Creator) on (2025-01-28 16:02:36 UTC): @bvr-odoo @qsm-odoo ancestor PR odoo/odoo#195076 has been updated but this PR is merged and can't be updated to match.

You may want or need to manually update any followup PR.

fw-bot (Issue Creator) on (2025-02-05 10:44:49 UTC): @bvr-odoo @qsm-odoo ancestor PR odoo/odoo#195076 has been updated but this PR is merged and can't be updated to match.

You may want or need to manually update any followup PR.

"
2809827212,pull_request,closed,,[FW][FIX] mass_mailing_event: recompute mass mailing domain,"When creating a new mass mailing from an event, the default domain
retrieved when switching mailing type is missing the event id filter

Steps to reproduce (mass_mailing_sms required):
- Open an event with attendees
- Click 'Contact Attendees'
- Take note of the mailing domain
- Switch Mailing Type from Email to SMS

Issue: Domain is missing the event_id
This does not occur when opening the form view because the default
mailing domain is given via context

opw-4337256

Forward-Port-Of: odoo/odoo#194809
Forward-Port-Of: odoo/odoo#189317",fw-bot,2025-01-24 16:18:09+00:00,[],2025-01-27 11:05:06+00:00,2025-01-27 11:05:06+00:00,https://github.com/odoo/odoo/pull/195094,"[('OE', 'the report is linked to a support ticket (opw-...)'), ('forwardport', 'This PR was created by @fw-bot')]","[{'comment_id': 2612906502, 'issue_id': 2809827212, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195094.png)](https://mergebot.odoo.com/odoo/odoo/pull/195094)', 'created_at': datetime.datetime(2025, 1, 24, 16, 18, 11, tzinfo=datetime.timezone.utc)}, {'comment_id': 2612906528, 'issue_id': 2809827212, 'author': 'fw-bot', 'body': 'This PR targets 18.0 and is part of the forward-port chain. Further PRs will be created up to master.\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 24, 16, 18, 11, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-24 16:18:11 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195094.png)](https://mergebot.odoo.com/odoo/odoo/pull/195094)

fw-bot (Issue Creator) on (2025-01-24 16:18:11 UTC): This PR targets 18.0 and is part of the forward-port chain. Further PRs will be created up to master.

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

"
2809813225,pull_request,closed,,[FIX] pos_self_order: remove horizontal scrollbar,"- Fix issue when in self order on mobile a weird horizontal scroll bar appears when a product with a long name (and no image) was sell.
- Now we just truncate the product name to avoid this issue.

task-id: 4510206

Description of the issue/feature this PR addresses:

Current behavior before PR:

Desired behavior after PR is merged:




---
I confirm I have signed the CLA and read the PR guidelines at www.odoo.com/submit-pr
",manv-afk,2025-01-24 16:10:51+00:00,[],2025-01-28 14:32:41+00:00,2025-01-28 14:32:41+00:00,https://github.com/odoo/odoo/pull/195093,"[('RD', 'research & development, internal work')]","[{'comment_id': 2612891293, 'issue_id': 2809813225, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195093.png)](https://mergebot.odoo.com/odoo/odoo/pull/195093)', 'created_at': datetime.datetime(2025, 1, 24, 16, 10, 54, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-24 16:10:54 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195093.png)](https://mergebot.odoo.com/odoo/odoo/pull/195093)

"
2809809264,pull_request,closed,,[FIX] web: prevent crash on website editor,"__Current behavior before commit:__
jQuery has been removed from `web.assets_backend` in [`b8fc93e`][1], now it's dynamically added with the `ensureJQuery` method. A lot of customers put `web/static/lib/jquery/jquery.js` in `web.assets_backend` (using custom modules) but not `web/static/src/legacy/js/libs/jquery.js`. Therefore `ensureJQuery` doesn't fetch `web._assets_jquery` and therefore
`web/static/src/legacy/js/libs/jquery.js` is never included.

__Description of the fix:__
If jQuery is present, check if the method `getScrollingElement` is defined in jQuery.fn. If not load `/web/static/src/legacy/js/libs/jquery.js`.

__Steps to reproduce the issue in local:__
1. Add back ""web/static/lib/jquery/jquery.js"" in the `web.assets_backend` entry of `addons/web/\_\_manifest\_\_.py` to simulate that a customer added it in a custom module.
2. Open the database and Refresh Assets in the debug menu
3. Try to open the editor Crash: ""TypeError: $(...).getScrollingElement is not a function""

opw-4499576

[1]: https://github.com/odoo/odoo/commit/b8fc93ea97b8
",Dj0ulo,2025-01-24 16:08:47+00:00,[],2025-01-27 18:24:39+00:00,2025-01-27 18:24:39+00:00,https://github.com/odoo/odoo/pull/195092,"[('OE', 'the report is linked to a support ticket (opw-...)')]","[{'comment_id': 2612886992, 'issue_id': 2809809264, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195092.png)](https://mergebot.odoo.com/odoo/odoo/pull/195092)', 'created_at': datetime.datetime(2025, 1, 24, 16, 8, 49, tzinfo=datetime.timezone.utc)}, {'comment_id': 2612890259, 'issue_id': 2809809264, 'author': 'Dj0ulo', 'body': 'Feel free to force push if you have a better fix, I am off next week :wink:', 'created_at': datetime.datetime(2025, 1, 24, 16, 10, 24, tzinfo=datetime.timezone.utc)}, {'comment_id': 2614880434, 'issue_id': 2809809264, 'author': 'robodoo', 'body': '@aab-odoo you may want to rebuild or fix this PR as it has failed CI.', 'created_at': datetime.datetime(2025, 1, 27, 5, 31, 44, tzinfo=datetime.timezone.utc)}, {'comment_id': 2614881069, 'issue_id': 2809809264, 'author': 'aab-odoo', 'body': ""@Dj0ulo there're some tests failing though"", 'created_at': datetime.datetime(2025, 1, 27, 5, 32, 22, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-24 16:08:49 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195092.png)](https://mergebot.odoo.com/odoo/odoo/pull/195092)

Dj0ulo (Issue Creator) on (2025-01-24 16:10:24 UTC): Feel free to force push if you have a better fix, I am off next week :wink:

robodoo on (2025-01-27 05:31:44 UTC): @aab-odoo you may want to rebuild or fix this PR as it has failed CI.

aab-odoo on (2025-01-27 05:32:22 UTC): @Dj0ulo there're some tests failing though

"
2809800076,pull_request,closed,,[FW][16.0][IMP] iap: add outlook.jp to _MAIL_PROVIDERS,"@qrtl QT5121

Forward-Port-Of: odoo/odoo#193910",fw-bot,2025-01-24 16:04:32+00:00,[],2025-02-06 15:22:42+00:00,2025-02-06 15:22:42+00:00,https://github.com/odoo/odoo/pull/195091,"[('RD', 'research & development, internal work'), ('forwardport', 'This PR was created by @fw-bot')]","[{'comment_id': 2612877330, 'issue_id': 2809800076, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195091.png)](https://mergebot.odoo.com/odoo/odoo/pull/195091)', 'created_at': datetime.datetime(2025, 1, 24, 16, 4, 34, tzinfo=datetime.timezone.utc)}, {'comment_id': 2612877343, 'issue_id': 2809800076, 'author': 'fw-bot', 'body': 'This PR targets saas-17.4 and is part of the forward-port chain. Further PRs will be created up to master.\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 24, 16, 4, 34, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-24 16:04:34 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195091.png)](https://mergebot.odoo.com/odoo/odoo/pull/195091)

fw-bot (Issue Creator) on (2025-01-24 16:04:34 UTC): This PR targets saas-17.4 and is part of the forward-port chain. Further PRs will be created up to master.

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

"
2809787314,pull_request,closed,,"[IMP] sale_{project,timesheet}: rename label in input search bar in portal","This commit renames the label `Search in Sale Order` into `Search in Sales Order Item` in timesheets and tasks portal views to be consistent with the label displayed in the groupby for instance.

task-4260389
",xavierbol,2025-01-24 15:58:04+00:00,[],2025-02-03 15:26:06+00:00,2025-02-03 15:26:06+00:00,https://github.com/odoo/odoo/pull/195090,"[('RD', 'research & development, internal work'), ('18.2', None)]","[{'comment_id': 2612863114, 'issue_id': 2809787314, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195090.png)](https://mergebot.odoo.com/odoo/odoo/pull/195090)', 'created_at': datetime.datetime(2025, 1, 24, 15, 58, 7, tzinfo=datetime.timezone.utc)}, {'comment_id': 2612888217, 'issue_id': 2809787314, 'author': 'xavierbol', 'body': 'robodoo r+', 'created_at': datetime.datetime(2025, 1, 24, 16, 9, 25, tzinfo=datetime.timezone.utc)}, {'comment_id': 2613717829, 'issue_id': 2809787314, 'author': 'robodoo', 'body': '@xavierbol staging failed: ci/runbot on c90ddb52fc37637d3e82d6093149350e6e09bbd4 (view more at https://runbot.odoo.com/runbot/build/73940732)', 'created_at': datetime.datetime(2025, 1, 25, 1, 54, 18, tzinfo=datetime.timezone.utc)}, {'comment_id': 2630316047, 'issue_id': 2809787314, 'author': 'xavierbol', 'body': 'robodoo retry', 'created_at': datetime.datetime(2025, 2, 3, 8, 50, 30, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-24 15:58:07 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195090.png)](https://mergebot.odoo.com/odoo/odoo/pull/195090)

xavierbol (Issue Creator) on (2025-01-24 16:09:25 UTC): robodoo r+

robodoo on (2025-01-25 01:54:18 UTC): @xavierbol staging failed: ci/runbot on c90ddb52fc37637d3e82d6093149350e6e09bbd4 (view more at https://runbot.odoo.com/runbot/build/73940732)

xavierbol (Issue Creator) on (2025-02-03 08:50:30 UTC): robodoo retry

"
2809773384,pull_request,closed,,[FIX] point_of_sale: cash rounding when payment exceeds the order total,Check the commit message for description.,caburj,2025-01-24 15:51:32+00:00,[],2025-01-28 17:05:24+00:00,2025-01-28 17:05:24+00:00,https://github.com/odoo/odoo/pull/195089,"[('RD', 'research & development, internal work')]","[{'comment_id': 2612849453, 'issue_id': 2809773384, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195089.png)](https://mergebot.odoo.com/odoo/odoo/pull/195089)', 'created_at': datetime.datetime(2025, 1, 24, 15, 51, 35, tzinfo=datetime.timezone.utc)}, {'comment_id': 2618366612, 'issue_id': 2809773384, 'author': 'sjai-odoo', 'body': 'Yes @caburj, we can remove these lines.', 'created_at': datetime.datetime(2025, 1, 28, 9, 7, 28, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-24 15:51:35 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195089.png)](https://mergebot.odoo.com/odoo/odoo/pull/195089)

sjai-odoo on (2025-01-28 09:07:28 UTC): Yes @caburj, we can remove these lines.

"
2809753034,pull_request,closed,,[FW][FIX] sale_purchase: read service_to_purchase from the order's company,"Steps to reproduce:

1. Create two companies: Company A and Company B
2. Create a service product
3. Configure the product to be purchased on Company A and not on Company B
4. Create a sales order on Company B, while logged in Company A
5. Confirm the order

Expected result:

The service PO is created on Company B, even though it was configured not to.



---
I confirm I have signed the CLA and read the PR guidelines at www.odoo.com/submit-pr

Forward-Port-Of: odoo/odoo#194947
Forward-Port-Of: odoo/odoo#177659",fw-bot,2025-01-24 15:41:31+00:00,[],2025-01-27 12:28:45+00:00,2025-01-27 12:28:45+00:00,https://github.com/odoo/odoo/pull/195088,"[('RD', 'research & development, internal work'), ('forwardport', 'This PR was created by @fw-bot'), ('conflict', 'There was an error while creating this forward-port PR')]","[{'comment_id': 2612828725, 'issue_id': 2809753034, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195088.png)](https://mergebot.odoo.com/odoo/odoo/pull/195088)', 'created_at': datetime.datetime(2025, 1, 24, 15, 41, 32, tzinfo=datetime.timezone.utc)}, {'comment_id': 2612828750, 'issue_id': 2809753034, 'author': 'fw-bot', 'body': '@ivantodorovich @ticodoo cherrypicking of pull request odoo/odoo#177659 failed.\n\nstdout:\n```\nAuto-merging addons/sale_purchase/models/sale_order_line.py\nCONFLICT (content): Merge conflict in addons/sale_purchase/models/sale_order_line.py\nAuto-merging addons/sale_purchase/tests/test_sale_purchase.py\n\n```\n\nEither perform the forward-port manually (and push to this branch, proceeding as usual) or close this PR (maybe?).\n\nIn the former case, you may want to edit this PR message as well.\n\n:warning: after resolving this conflict, you will need to merge it via @robodoo.\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 24, 15, 41, 33, tzinfo=datetime.timezone.utc)}, {'comment_id': 2614172532, 'issue_id': 2809753034, 'author': 'fw-bot', 'body': '@ivantodorovich @ticodoo this forward port of odoo/odoo#177659 is awaiting action (not merged or closed).', 'created_at': datetime.datetime(2025, 1, 26, 2, 2, 7, tzinfo=datetime.timezone.utc)}, {'comment_id': 2615291713, 'issue_id': 2809753034, 'author': 'ticodoo', 'body': '@robodoo r+', 'created_at': datetime.datetime(2025, 1, 27, 9, 52, 44, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-24 15:41:32 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195088.png)](https://mergebot.odoo.com/odoo/odoo/pull/195088)

fw-bot (Issue Creator) on (2025-01-24 15:41:33 UTC): @ivantodorovich @ticodoo cherrypicking of pull request odoo/odoo#177659 failed.

stdout:
```
Auto-merging addons/sale_purchase/models/sale_order_line.py
CONFLICT (content): Merge conflict in addons/sale_purchase/models/sale_order_line.py
Auto-merging addons/sale_purchase/tests/test_sale_purchase.py

```

Either perform the forward-port manually (and push to this branch, proceeding as usual) or close this PR (maybe?).

In the former case, you may want to edit this PR message as well.

:warning: after resolving this conflict, you will need to merge it via @robodoo.

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

fw-bot (Issue Creator) on (2025-01-26 02:02:07 UTC): @ivantodorovich @ticodoo this forward port of odoo/odoo#177659 is awaiting action (not merged or closed).

ticodoo on (2025-01-27 09:52:44 UTC): @robodoo r+

"
2809752435,pull_request,closed,,[FW][FIX] account: partner autocomplete,"`partner_gid` was missing from `res_company_form_view_onboarding` view which was creating a bug when applying the partner autocomplete.

opw-4489441

---
I confirm I have signed the CLA and read the PR guidelines at www.odoo.com/submit-pr

Forward-Port-Of: odoo/odoo#195000",fw-bot,2025-01-24 15:41:12+00:00,[],2025-01-30 08:31:47+00:00,2025-01-30 08:31:47+00:00,https://github.com/odoo/odoo/pull/195087,"[('OE', 'the report is linked to a support ticket (opw-...)'), ('forwardport', 'This PR was created by @fw-bot')]","[{'comment_id': 2612828127, 'issue_id': 2809752435, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195087.png)](https://mergebot.odoo.com/odoo/odoo/pull/195087)', 'created_at': datetime.datetime(2025, 1, 24, 15, 41, 14, tzinfo=datetime.timezone.utc)}, {'comment_id': 2612828147, 'issue_id': 2809752435, 'author': 'fw-bot', 'body': 'This PR targets saas-18.1 and is part of the forward-port chain. Further PRs will be created up to master.\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 24, 15, 41, 14, tzinfo=datetime.timezone.utc)}, {'comment_id': 2615216715, 'issue_id': 2809752435, 'author': 'rugo-odoo', 'body': '@robodoo r-', 'created_at': datetime.datetime(2025, 1, 27, 9, 18, 1, tzinfo=datetime.timezone.utc)}, {'comment_id': 2620471004, 'issue_id': 2809752435, 'author': 'fw-bot', 'body': '@rugo-odoo @RicGR98 this forward port of odoo/odoo#195000 is awaiting action (not merged or closed).', 'created_at': datetime.datetime(2025, 1, 29, 2, 0, 45, tzinfo=datetime.timezone.utc)}, {'comment_id': 2623353956, 'issue_id': 2809752435, 'author': 'fw-bot', 'body': '@rugo-odoo @RicGR98 this forward port of odoo/odoo#195000 is awaiting action (not merged or closed).', 'created_at': datetime.datetime(2025, 1, 30, 2, 1, 41, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-24 15:41:14 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195087.png)](https://mergebot.odoo.com/odoo/odoo/pull/195087)

fw-bot (Issue Creator) on (2025-01-24 15:41:14 UTC): This PR targets saas-18.1 and is part of the forward-port chain. Further PRs will be created up to master.

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

rugo-odoo on (2025-01-27 09:18:01 UTC): @robodoo r-

fw-bot (Issue Creator) on (2025-01-29 02:00:45 UTC): @rugo-odoo @RicGR98 this forward port of odoo/odoo#195000 is awaiting action (not merged or closed).

fw-bot (Issue Creator) on (2025-01-30 02:01:41 UTC): @rugo-odoo @RicGR98 this forward port of odoo/odoo#195000 is awaiting action (not merged or closed).

"
2809743656,pull_request,closed,,[FW][FIX] im_livechat: livechat button loader template,"The livechat button loader template adds `websocket_worker_version` to the Odoo session. However, when the loader is called through `chatbot_test_script_page`, it does not receive the `websocket_worker_version`. In the standard Odoo environment, this value is already available in the session

This fix ensures the `websocket_worker_version` is properly handled in scenarios involving `chatbot_test_script_page`.

Task-4462067

---
I confirm I have signed the CLA and read the PR guidelines at www.odoo.com/submit-pr

Forward-Port-Of: odoo/odoo#193063",fw-bot,2025-01-24 15:36:41+00:00,[],2025-02-07 09:13:28+00:00,2025-01-24 23:30:57+00:00,https://github.com/odoo/odoo/pull/195086,"[('RD', 'research & development, internal work'), ('forwardport', 'This PR was created by @fw-bot'), ('18.2', None)]","[{'comment_id': 2612818697, 'issue_id': 2809743656, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195086.png)](https://mergebot.odoo.com/odoo/odoo/pull/195086)', 'created_at': datetime.datetime(2025, 1, 24, 15, 36, 42, tzinfo=datetime.timezone.utc)}, {'comment_id': 2612818715, 'issue_id': 2809743656, 'author': 'fw-bot', 'body': '@rapr-odoo @tsm-odoo this PR targets master and is the last of the forward-port chain containing:\n* odoo/odoo#195067\n\nTo merge the full chain, use\n> @robodoo r+\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 24, 15, 36, 43, tzinfo=datetime.timezone.utc)}, {'comment_id': 2613006021, 'issue_id': 2809743656, 'author': 'rapr-odoo', 'body': '@robodoo r+', 'created_at': datetime.datetime(2025, 1, 24, 17, 7, 30, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-24 15:36:42 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195086.png)](https://mergebot.odoo.com/odoo/odoo/pull/195086)

fw-bot (Issue Creator) on (2025-01-24 15:36:43 UTC): @rapr-odoo @tsm-odoo this PR targets master and is the last of the forward-port chain containing:
* odoo/odoo#195067

To merge the full chain, use

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

rapr-odoo on (2025-01-24 17:07:30 UTC): @robodoo r+

"
2809737608,pull_request,closed,,[FW][FIX] l10n_in_hr_holidays: fix sandwich leave warning sign,"Steps to reproduce:
- Install India - Time Off
- Create a new time off type in the Indian company and enable sandwich leave
- Create two time offs around the weekends
- The sandwich leave warning appears

Issue:
There is a visual issue with the sandwich leave warning sign.

Cause:
The group contains two columns: one for labeling and one for input.

Solution:
Added colspan=""2"" to a single div element to occupy the entire space.

task-4435090

Forward-Port-Of: odoo/odoo#192071",fw-bot,2025-01-24 15:34:13+00:00,[],2025-01-31 06:50:18+00:00,2025-01-31 06:50:18+00:00,https://github.com/odoo/odoo/pull/195085,"[('RD', 'research & development, internal work'), ('forwardport', 'This PR was created by @fw-bot'), ('18.2', None)]","[{'comment_id': 2612812817, 'issue_id': 2809737608, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195085.png)](https://mergebot.odoo.com/odoo/odoo/pull/195085)', 'created_at': datetime.datetime(2025, 1, 24, 15, 34, 14, tzinfo=datetime.timezone.utc)}, {'comment_id': 2612812841, 'issue_id': 2809737608, 'author': 'fw-bot', 'body': '@dhka-odoo @tivisse this PR targets master and is the last of the forward-port chain.\n\nTo merge the full chain, use\n> @robodoo r+\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 24, 15, 34, 15, tzinfo=datetime.timezone.utc)}, {'comment_id': 2612937973, 'issue_id': 2809737608, 'author': 'fw-bot', 'body': '@dhka-odoo @tivisse ci/runbot failed on this forward-port PR', 'created_at': datetime.datetime(2025, 1, 24, 16, 34, 1, tzinfo=datetime.timezone.utc)}, {'comment_id': 2617542499, 'issue_id': 2809737608, 'author': 'fw-bot', 'body': '@dhka-odoo @tivisse this forward port of odoo/odoo#192071 is awaiting action (not merged or closed).', 'created_at': datetime.datetime(2025, 1, 28, 2, 1, 44, tzinfo=datetime.timezone.utc)}, {'comment_id': 2620471630, 'issue_id': 2809737608, 'author': 'fw-bot', 'body': '@dhka-odoo @tivisse this forward port of odoo/odoo#192071 is awaiting action (not merged or closed).', 'created_at': datetime.datetime(2025, 1, 29, 2, 1, 18, tzinfo=datetime.timezone.utc)}, {'comment_id': 2623354472, 'issue_id': 2809737608, 'author': 'fw-bot', 'body': '@dhka-odoo @tivisse this forward port of odoo/odoo#192071 is awaiting action (not merged or closed).', 'created_at': datetime.datetime(2025, 1, 30, 2, 2, 7, tzinfo=datetime.timezone.utc)}, {'comment_id': 2626136965, 'issue_id': 2809737608, 'author': 'fw-bot', 'body': '@dhka-odoo @tivisse this forward port of odoo/odoo#192071 is awaiting action (not merged or closed).', 'created_at': datetime.datetime(2025, 1, 31, 2, 2, 2, tzinfo=datetime.timezone.utc)}, {'comment_id': 2626289415, 'issue_id': 2809737608, 'author': 'dhka-odoo', 'body': 'robodoo r+', 'created_at': datetime.datetime(2025, 1, 31, 4, 45, 5, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-24 15:34:14 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195085.png)](https://mergebot.odoo.com/odoo/odoo/pull/195085)

fw-bot (Issue Creator) on (2025-01-24 15:34:15 UTC): @dhka-odoo @tivisse this PR targets master and is the last of the forward-port chain.

To merge the full chain, use

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

fw-bot (Issue Creator) on (2025-01-24 16:34:01 UTC): @dhka-odoo @tivisse ci/runbot failed on this forward-port PR

fw-bot (Issue Creator) on (2025-01-28 02:01:44 UTC): @dhka-odoo @tivisse this forward port of odoo/odoo#192071 is awaiting action (not merged or closed).

fw-bot (Issue Creator) on (2025-01-29 02:01:18 UTC): @dhka-odoo @tivisse this forward port of odoo/odoo#192071 is awaiting action (not merged or closed).

fw-bot (Issue Creator) on (2025-01-30 02:02:07 UTC): @dhka-odoo @tivisse this forward port of odoo/odoo#192071 is awaiting action (not merged or closed).

fw-bot (Issue Creator) on (2025-01-31 02:02:02 UTC): @dhka-odoo @tivisse this forward port of odoo/odoo#192071 is awaiting action (not merged or closed).

dhka-odoo on (2025-01-31 04:45:05 UTC): robodoo r+

"
2809736777,pull_request,closed,,[FW][FIX] l10n_ch: print Swiss Qrcodes when the transaction is possible,"### Steps to reproduce:
- Install ""l10n_ch"" and switch to a Swiss company
- Create an invoice for a Swiss partner
- Send it
- The QR code appears in the generated PDF

### Cause:
The bank eligibility is not checked when printing the QR code.

### Solution:
After a discussion with the PO (THB) the Qr codes should appear on all Swiss transaction. But if the fiscal country of the user's company is not Switzerland, it must still be printed if its bank account is eligible to receive payments via QRcodes.

So the solution is to add a check if the fiscal_country is not Switzerland, then we check the account validity. A valid account is an IBAN account of this type CHXX 3000 0XXX XXXX with the number in the middle being between 30000 and 31999.

opw-4380520

Forward-Port-Of: odoo/odoo#194728
Forward-Port-Of: odoo/odoo#194421",fw-bot,2025-01-24 15:33:56+00:00,[],2025-01-27 08:30:14+00:00,2025-01-27 08:30:13+00:00,https://github.com/odoo/odoo/pull/195084,"[('OE', 'the report is linked to a support ticket (opw-...)'), ('forwardport', 'This PR was created by @fw-bot'), ('18.2', None)]","[{'comment_id': 2612811552, 'issue_id': 2809736777, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195084.png)](https://mergebot.odoo.com/odoo/odoo/pull/195084)', 'created_at': datetime.datetime(2025, 1, 24, 15, 33, 57, tzinfo=datetime.timezone.utc)}, {'comment_id': 2612811590, 'issue_id': 2809736777, 'author': 'fw-bot', 'body': '@mathcoutant @jbw-odoo this PR targets master and is the last of the forward-port chain.\n\nTo merge the full chain, use\n> @robodoo r+\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 24, 15, 33, 58, tzinfo=datetime.timezone.utc)}, {'comment_id': 2613721692, 'issue_id': 2809736777, 'author': 'fw-bot', 'body': '@mathcoutant @jbw-odoo this forward port of odoo/odoo#194421 is awaiting action (not merged or closed).', 'created_at': datetime.datetime(2025, 1, 25, 2, 0, 59, tzinfo=datetime.timezone.utc)}, {'comment_id': 2614171948, 'issue_id': 2809736777, 'author': 'fw-bot', 'body': '@mathcoutant @jbw-odoo this forward port of odoo/odoo#194421 is awaiting action (not merged or closed).', 'created_at': datetime.datetime(2025, 1, 26, 2, 1, 18, tzinfo=datetime.timezone.utc)}, {'comment_id': 2614722771, 'issue_id': 2809736777, 'author': 'fw-bot', 'body': '@mathcoutant @jbw-odoo this forward port of odoo/odoo#194421 is awaiting action (not merged or closed).', 'created_at': datetime.datetime(2025, 1, 27, 2, 1, 52, tzinfo=datetime.timezone.utc)}, {'comment_id': 2614998771, 'issue_id': 2809736777, 'author': 'jbw-odoo', 'body': '@robodoo r+', 'created_at': datetime.datetime(2025, 1, 27, 7, 17, 12, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-24 15:33:57 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195084.png)](https://mergebot.odoo.com/odoo/odoo/pull/195084)

fw-bot (Issue Creator) on (2025-01-24 15:33:58 UTC): @mathcoutant @jbw-odoo this PR targets master and is the last of the forward-port chain.

To merge the full chain, use

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

fw-bot (Issue Creator) on (2025-01-25 02:00:59 UTC): @mathcoutant @jbw-odoo this forward port of odoo/odoo#194421 is awaiting action (not merged or closed).

fw-bot (Issue Creator) on (2025-01-26 02:01:18 UTC): @mathcoutant @jbw-odoo this forward port of odoo/odoo#194421 is awaiting action (not merged or closed).

fw-bot (Issue Creator) on (2025-01-27 02:01:52 UTC): @mathcoutant @jbw-odoo this forward port of odoo/odoo#194421 is awaiting action (not merged or closed).

jbw-odoo on (2025-01-27 07:17:12 UTC): @robodoo r+

"
2809735876,pull_request,closed,,[FW][FIX] mail: livechat from visitor stays open in mobile,"Before this commit, when using livechat by visitor in mobile, any page reload would remove access to the livechat.

Steps to reproduce:
- access to website with livechat installed on mobile
- click on livechat button (bubble icon in bottom right)
- send a message
- reload the page

=> the livechat is not open, not even as a chat bubble.

This prevents visitor from access the livechat again, except if user finds a workaround to open the same page in non-mobile mode (e.g. landscape mode or disabling high-dpi).

This happens because livechat relies on discuss chat hub, and there's some code to prevent server-side synchronisation of chat windows and bubbles in mobile. As a reminder, conversation in mobile are shown as fullscreen chat windows.
This code was preventing the opening of chat window on livechat for visitor, leading to prevention of continuing to live chat on the device.

This commit fixes by adding fold action to chat windows in mobile, thus allowing to have chat bubbles in mobile. This fixes allow to show chat windows as bubbles to livechat visitors, which is the primary fix of these changes.

opw-4423556
opw-4488830

18.0 version: https://github.com/odoo/odoo/pull/194363

Forward-Port-Of: odoo/odoo#194356",fw-bot,2025-01-24 15:33:38+00:00,[],2025-01-25 22:16:04+00:00,2025-01-25 21:43:06+00:00,https://github.com/odoo/odoo/pull/195083,"[('OE', 'the report is linked to a support ticket (opw-...)'), ('forwardport', 'This PR was created by @fw-bot'), ('18.2', None)]","[{'comment_id': 2612811441, 'issue_id': 2809735876, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195083.png)](https://mergebot.odoo.com/odoo/odoo/pull/195083)', 'created_at': datetime.datetime(2025, 1, 24, 15, 33, 54, tzinfo=datetime.timezone.utc)}, {'comment_id': 2612811473, 'issue_id': 2809735876, 'author': 'fw-bot', 'body': '@alexkuhn @seb-odoo this PR targets master and is the last of the forward-port chain.\n\nTo merge the full chain, use\n> @robodoo r+\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 24, 15, 33, 55, tzinfo=datetime.timezone.utc)}, {'comment_id': 2613328909, 'issue_id': 2809735876, 'author': 'robodoo', 'body': '@alexkuhn @seb-odoo staging failed: ci/runbot on 6fe295b2afb0cbc5ca46c8acd4df470b5c77d28f (view more at https://runbot.odoo.com/runbot/build/73911739)', 'created_at': datetime.datetime(2025, 1, 24, 20, 30, 14, tzinfo=datetime.timezone.utc)}, {'comment_id': 2613940955, 'issue_id': 2809735876, 'author': 'fw-bot', 'body': '@alexkuhn @seb-odoo this PR was modified / updated and has become a normal PR. It must be merged directly.', 'created_at': datetime.datetime(2025, 1, 25, 11, 54, 17, tzinfo=datetime.timezone.utc)}, {'comment_id': 2614039081, 'issue_id': 2809735876, 'author': 'alexkuhn', 'body': '@robodoo r+', 'created_at': datetime.datetime(2025, 1, 25, 17, 28, 55, tzinfo=datetime.timezone.utc)}, {'comment_id': 2614071269, 'issue_id': 2809735876, 'author': 'robodoo', 'body': '@alexkuhn @seb-odoo staging failed: ci/runbot on 7bcbdafcfa9e004906f869a0f7e2552146bbd202 (view more at https://runbot.odoo.com/runbot/build/73945039)', 'created_at': datetime.datetime(2025, 1, 25, 19, 16, 33, tzinfo=datetime.timezone.utc)}, {'comment_id': 2614086039, 'issue_id': 2809735876, 'author': 'alexkuhn', 'body': '@robodoo retry', 'created_at': datetime.datetime(2025, 1, 25, 20, 13, 19, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-24 15:33:54 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195083.png)](https://mergebot.odoo.com/odoo/odoo/pull/195083)

fw-bot (Issue Creator) on (2025-01-24 15:33:55 UTC): @alexkuhn @seb-odoo this PR targets master and is the last of the forward-port chain.

To merge the full chain, use

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

robodoo on (2025-01-24 20:30:14 UTC): @alexkuhn @seb-odoo staging failed: ci/runbot on 6fe295b2afb0cbc5ca46c8acd4df470b5c77d28f (view more at https://runbot.odoo.com/runbot/build/73911739)

fw-bot (Issue Creator) on (2025-01-25 11:54:17 UTC): @alexkuhn @seb-odoo this PR was modified / updated and has become a normal PR. It must be merged directly.

alexkuhn on (2025-01-25 17:28:55 UTC): @robodoo r+

robodoo on (2025-01-25 19:16:33 UTC): @alexkuhn @seb-odoo staging failed: ci/runbot on 7bcbdafcfa9e004906f869a0f7e2552146bbd202 (view more at https://runbot.odoo.com/runbot/build/73945039)

alexkuhn on (2025-01-25 20:13:19 UTC): @robodoo retry

"
2809731270,pull_request,closed,,[FW][FIX] l10n_my_edi: XML format and test mode,"Fixes an issue with the xml file where the tax
exchange rate node would be added before the
payment terms node if both features are used,
which render the xml wrong.

Also add a sudo when getting the system param
for the test url; as this shouldn't block a non
administrator user from testing the feature.

opw-4425472
opw-4505562

---
I confirm I have signed the CLA and read the PR guidelines at www.odoo.com/submit-pr

Forward-Port-Of: odoo/odoo#194971",fw-bot,2025-01-24 15:31:51+00:00,[],2025-02-07 22:34:14+00:00,2025-01-24 21:59:57+00:00,https://github.com/odoo/odoo/pull/195082,"[('OE', 'the report is linked to a support ticket (opw-...)'), ('forwardport', 'This PR was created by @fw-bot'), ('18.2', None)]","[{'comment_id': 2612806137, 'issue_id': 2809731270, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195082.png)](https://mergebot.odoo.com/odoo/odoo/pull/195082)', 'created_at': datetime.datetime(2025, 1, 24, 15, 31, 52, tzinfo=datetime.timezone.utc)}, {'comment_id': 2612806162, 'issue_id': 2809731270, 'author': 'fw-bot', 'body': '@vin-odoo @qdp-odoo this PR targets master and is the last of the forward-port chain containing:\n* odoo/odoo#195065\n* odoo/odoo#195044\n* odoo/odoo#195019\n* odoo/odoo#195006\n\nTo merge the full chain, use\n> @robodoo r+\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 24, 15, 31, 53, tzinfo=datetime.timezone.utc)}, {'comment_id': 2612816245, 'issue_id': 2809731270, 'author': 'vin-odoo', 'body': '@robodoo r+', 'created_at': datetime.datetime(2025, 1, 24, 15, 35, 35, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-24 15:31:52 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195082.png)](https://mergebot.odoo.com/odoo/odoo/pull/195082)

fw-bot (Issue Creator) on (2025-01-24 15:31:53 UTC): @vin-odoo @qdp-odoo this PR targets master and is the last of the forward-port chain containing:
* odoo/odoo#195065
* odoo/odoo#195044
* odoo/odoo#195019
* odoo/odoo#195006

To merge the full chain, use

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

vin-odoo on (2025-01-24 15:35:35 UTC): @robodoo r+

"
2809716321,pull_request,closed,,[FW][FIX] hr_holidays: improve test stability,"The test suffered from multiple problems:
 - Duration of leaves could sometimes be less or more depending on the day of the week (weekend don't count in duration)
 - Demo data could make the test pass while the leaves created during the test were not actually found Here we improved the date mechanism as well as forcing the domain to only search within our own leaves as well as comparing that those leaves are the one with fetched.

Forward-Port-Of: odoo/odoo#194994",fw-bot,2025-01-24 15:24:30+00:00,[],2025-02-07 17:59:27+00:00,2025-01-24 17:59:43+00:00,https://github.com/odoo/odoo/pull/195081,"[('RD', 'research & development, internal work'), ('forwardport', 'This PR was created by @fw-bot'), ('18.2', None)]","[{'comment_id': 2612790558, 'issue_id': 2809716321, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195081.png)](https://mergebot.odoo.com/odoo/odoo/pull/195081)', 'created_at': datetime.datetime(2025, 1, 24, 15, 24, 31, tzinfo=datetime.timezone.utc)}, {'comment_id': 2612790582, 'issue_id': 2809716321, 'author': 'fw-bot', 'body': '@Williambraecky @Bertrand2 this PR targets master and is the last of the forward-port chain containing:\n* odoo/odoo#195061\n* odoo/odoo#195039\n\nTo merge the full chain, use\n> @robodoo r+\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 24, 15, 24, 32, tzinfo=datetime.timezone.utc)}, {'comment_id': 2612820254, 'issue_id': 2809716321, 'author': 'Williambraecky', 'body': '@robodoo r+', 'created_at': datetime.datetime(2025, 1, 24, 15, 37, 27, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-24 15:24:31 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195081.png)](https://mergebot.odoo.com/odoo/odoo/pull/195081)

fw-bot (Issue Creator) on (2025-01-24 15:24:32 UTC): @Williambraecky @Bertrand2 this PR targets master and is the last of the forward-port chain containing:
* odoo/odoo#195061
* odoo/odoo#195039

To merge the full chain, use

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

Williambraecky on (2025-01-24 15:37:27 UTC): @robodoo r+

"
2809699115,pull_request,closed,,[FW][FIX] hr: fix singleton record error,"### Description of the issue/feature this PR addresses:

- The [_get_plan_available_base_domain()](https://github.com/odoo/odoo/blob/18.0/addons/mail/wizard/mail_activity_schedule.py#L330) method is built and `self.ensure_one()` is placed in it but it is called in `_compute_plan_available_ids()` with `self` which can have multiple records

### Current behavior before PR:
- The error `ValueError: Expected singleton: mail.activity.schedule(1, 2)` occurred

### Desired behavior after PR is merged:
- The problem has been fixed.



---
I confirm I have signed the CLA and read the PR guidelines at www.odoo.com/submit-pr

Forward-Port-Of: odoo/odoo#194338",fw-bot,2025-01-24 15:16:11+00:00,[],2025-01-27 15:56:12+00:00,2025-01-27 15:56:12+00:00,https://github.com/odoo/odoo/pull/195080,"[('RD', 'research & development, internal work'), ('forwardport', 'This PR was created by @fw-bot')]","[{'comment_id': 2612773283, 'issue_id': 2809699115, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195080.png)](https://mergebot.odoo.com/odoo/odoo/pull/195080)', 'created_at': datetime.datetime(2025, 1, 24, 15, 16, 12, tzinfo=datetime.timezone.utc)}, {'comment_id': 2612773306, 'issue_id': 2809699115, 'author': 'fw-bot', 'body': 'This PR targets saas-18.1 and is part of the forward-port chain. Further PRs will be created up to master.\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 24, 15, 16, 13, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-24 15:16:12 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195080.png)](https://mergebot.odoo.com/odoo/odoo/pull/195080)

fw-bot (Issue Creator) on (2025-01-24 15:16:13 UTC): This PR targets saas-18.1 and is part of the forward-port chain. Further PRs will be created up to master.

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

"
2809682747,pull_request,closed,,[FW][FW][FIX] core: inherit translations better when upgrade,"Before:
The typofix feature treats terms in the old and new values with similar text content as the same term, migrating the translations of the old term to the new term.

For example

The old value has the mapping:
'Draft': 'Brouillon'

The new value contains the term:
'<span invisible=""name or name_placeholder or quick_edit_mode"">Draft</span>'

Since the old term and the new term share the same text content, 'Draft', after `write`, the new term reuses the old translation of 'Draft'. However, the translation 'Brouillon' is always visible, unlike its en_US counterpart.

This behavior is acceptable in non-upgrade mode because the user writes the en_US value and is responsible for verifying translations afterward. However, it is problematic during upgrades because users cannot easily identify which records have changed and need to be rechecked.

After:
The translation inheritance behavior can be described as below Translations can be inherited after `write` from old terms to new terms which share the very close text contents
1. when `write` in production mode, text contents for translation terms are more important than the HTML/XML structures of them, and the old term translations should be remained as much as possible. Because
    * the writing user is responsible to recheck all translations after `write`.
    * it is easier for the writing user to copy technical HTML/XML structures than translate text contents for a language they may not know.
    * the feature can also be used as typofix when the only small diff is the text content
2. when `write` in upgrade time, the HTML/XML structure is more important than the text content, and the new term structure should be remained as much as possible. Because
    * HTML/XML structures might be changed a lot after upgrade, which may contain behavior relevant diff (e.g. `invisible`), even if text contents are not changed.
    * users have no idea which records' values are changed during upgrade and are hard to recheck their translations.
    * new terms are highly likely to be correctly translated in the latest po files which will be imported during upgrade.
    * the typofix feature can still be remained when the only small diff is the text content

Based on the above feature analysis, we use the below new strategy
1. translations can be inherited only if the old source term and the new source term share the same HTML/XML structure
2. translations can be inherited only if the old translation term and the new source term share the same HTML/XML structure
3. when translations are inherited, MODIFIER_ATTRS will be synchronized with the new source term, other attributes will be copied from the source term if available.

Forward-Port-Of: #194181

Description of the issue/feature this PR addresses:

Current behavior before PR:

Desired behavior after PR is merged:




---
I confirm I have signed the CLA and read the PR guidelines at www.odoo.com/submit-pr

Forward-Port-Of: odoo/odoo#194816",fw-bot,2025-01-24 15:08:12+00:00,[],2025-02-08 03:46:09+00:00,2025-01-25 02:44:37+00:00,https://github.com/odoo/odoo/pull/195079,"[('RD', 'research & development, internal work'), ('forwardport', 'This PR was created by @fw-bot'), ('conflict', 'There was an error while creating this forward-port PR')]","[{'comment_id': 2612756146, 'issue_id': 2809682747, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195079.png)](https://mergebot.odoo.com/odoo/odoo/pull/195079)', 'created_at': datetime.datetime(2025, 1, 24, 15, 8, 13, tzinfo=datetime.timezone.utc)}, {'comment_id': 2612756215, 'issue_id': 2809682747, 'author': 'fw-bot', 'body': '@HydrionBurst @rco-odoo cherrypicking of pull request odoo/odoo#194816 failed.\n\nstdout:\n```\nAuto-merging odoo/addons/base/tests/test_translate.py\nCONFLICT (modify/delete): odoo/fields.py deleted in 563b82e7dd43741d5e5438dda5dabe737c64fea8 and modified in bcab171b9f68a2269bb7930924cf7f29001adeaa.  Version bcab171b9f68a2269bb7930924cf7f29001adeaa of odoo/fields.py left in tree.\nAuto-merging odoo/tools/translate.py\n\n```\n\nEither perform the forward-port manually (and push to this branch, proceeding as usual) or close this PR (maybe?).\n\nIn the former case, you may want to edit this PR message as well.\n\n:warning: after resolving this conflict, you will need to merge it via @robodoo.\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 24, 15, 8, 16, tzinfo=datetime.timezone.utc)}, {'comment_id': 2613404003, 'issue_id': 2809682747, 'author': 'HydrionBurst', 'body': '@robodoo r+', 'created_at': datetime.datetime(2025, 1, 24, 21, 24, 53, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-24 15:08:13 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195079.png)](https://mergebot.odoo.com/odoo/odoo/pull/195079)

fw-bot (Issue Creator) on (2025-01-24 15:08:16 UTC): @HydrionBurst @rco-odoo cherrypicking of pull request odoo/odoo#194816 failed.

stdout:
```
Auto-merging odoo/addons/base/tests/test_translate.py
CONFLICT (modify/delete): odoo/fields.py deleted in 563b82e7dd43741d5e5438dda5dabe737c64fea8 and modified in bcab171b9f68a2269bb7930924cf7f29001adeaa.  Version bcab171b9f68a2269bb7930924cf7f29001adeaa of odoo/fields.py left in tree.
Auto-merging odoo/tools/translate.py

```

Either perform the forward-port manually (and push to this branch, proceeding as usual) or close this PR (maybe?).

In the former case, you may want to edit this PR message as well.

:warning: after resolving this conflict, you will need to merge it via @robodoo.

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

HydrionBurst on (2025-01-24 21:24:53 UTC): @robodoo r+

"
2809681230,pull_request,closed,,[FW][FIX] hr_holidays: restore cancelled in domain,"In https://github.com/odoo/odoo/pull/127877, the active field was removed and replaced with state: cancel. This domain was modified but removed the check for the cancelled state.

opw-4420347

Forward-Port-Of: odoo/odoo#194600",fw-bot,2025-01-24 15:07:29+00:00,[],2025-01-30 15:48:04+00:00,2025-01-30 15:48:04+00:00,https://github.com/odoo/odoo/pull/195078,"[('OE', 'the report is linked to a support ticket (opw-...)'), ('forwardport', 'This PR was created by @fw-bot'), ('conflict', 'There was an error while creating this forward-port PR')]","[{'comment_id': 2612754574, 'issue_id': 2809681230, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195078.png)](https://mergebot.odoo.com/odoo/odoo/pull/195078)', 'created_at': datetime.datetime(2025, 1, 24, 15, 7, 30, tzinfo=datetime.timezone.utc)}, {'comment_id': 2612754597, 'issue_id': 2809681230, 'author': 'fw-bot', 'body': '@goffauxs @Bertrand2 cherrypicking of pull request odoo/odoo#194600 failed.\n\nstdout:\n```\nAuto-merging addons/hr_holidays/models/resource.py\nCONFLICT (content): Merge conflict in addons/hr_holidays/models/resource.py\n\n```\n\nEither perform the forward-port manually (and push to this branch, proceeding as usual) or close this PR (maybe?).\n\nIn the former case, you may want to edit this PR message as well.\n\n:warning: after resolving this conflict, you will need to merge it via @robodoo.\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 24, 15, 7, 31, tzinfo=datetime.timezone.utc)}, {'comment_id': 2617540251, 'issue_id': 2809681230, 'author': 'fw-bot', 'body': '@goffauxs @Bertrand2 this forward port of odoo/odoo#194600 is awaiting action (not merged or closed).', 'created_at': datetime.datetime(2025, 1, 28, 2, 1, 9, tzinfo=datetime.timezone.utc)}, {'comment_id': 2620471176, 'issue_id': 2809681230, 'author': 'fw-bot', 'body': '@goffauxs @Bertrand2 this forward port of odoo/odoo#194600 is awaiting action (not merged or closed).', 'created_at': datetime.datetime(2025, 1, 29, 2, 0, 54, tzinfo=datetime.timezone.utc)}, {'comment_id': 2623354124, 'issue_id': 2809681230, 'author': 'fw-bot', 'body': '@goffauxs @Bertrand2 this forward port of odoo/odoo#194600 is awaiting action (not merged or closed).', 'created_at': datetime.datetime(2025, 1, 30, 2, 1, 51, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-24 15:07:30 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195078.png)](https://mergebot.odoo.com/odoo/odoo/pull/195078)

fw-bot (Issue Creator) on (2025-01-24 15:07:31 UTC): @goffauxs @Bertrand2 cherrypicking of pull request odoo/odoo#194600 failed.

stdout:
```
Auto-merging addons/hr_holidays/models/resource.py
CONFLICT (content): Merge conflict in addons/hr_holidays/models/resource.py

```

Either perform the forward-port manually (and push to this branch, proceeding as usual) or close this PR (maybe?).

In the former case, you may want to edit this PR message as well.

:warning: after resolving this conflict, you will need to merge it via @robodoo.

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

fw-bot (Issue Creator) on (2025-01-28 02:01:09 UTC): @goffauxs @Bertrand2 this forward port of odoo/odoo#194600 is awaiting action (not merged or closed).

fw-bot (Issue Creator) on (2025-01-29 02:00:54 UTC): @goffauxs @Bertrand2 this forward port of odoo/odoo#194600 is awaiting action (not merged or closed).

fw-bot (Issue Creator) on (2025-01-30 02:01:51 UTC): @goffauxs @Bertrand2 this forward port of odoo/odoo#194600 is awaiting action (not merged or closed).

"
2809680633,pull_request,closed,,[FW][FIX] mass_mailing_event: recompute mass mailing domain,"When creating a new mass mailing from an event, the default domain
retrieved when switching mailing type is missing the event id filter

Steps to reproduce (mass_mailing_sms required):
- Open an event with attendees
- Click 'Contact Attendees'
- Take note of the mailing domain
- Switch Mailing Type from Email to SMS

Issue: Domain is missing the event_id
This does not occur when opening the form view because the default
mailing domain is given via context

opw-4337256

Forward-Port-Of: odoo/odoo#194809
Forward-Port-Of: odoo/odoo#189317",fw-bot,2025-01-24 15:07:11+00:00,[],2025-01-27 10:18:19+00:00,2025-01-27 10:18:19+00:00,https://github.com/odoo/odoo/pull/195077,"[('OE', 'the report is linked to a support ticket (opw-...)'), ('forwardport', 'This PR was created by @fw-bot')]","[{'comment_id': 2612753971, 'issue_id': 2809680633, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195077.png)](https://mergebot.odoo.com/odoo/odoo/pull/195077)', 'created_at': datetime.datetime(2025, 1, 24, 15, 7, 13, tzinfo=datetime.timezone.utc)}, {'comment_id': 2612753996, 'issue_id': 2809680633, 'author': 'fw-bot', 'body': 'This PR targets saas-17.4 and is part of the forward-port chain. Further PRs will be created up to master.\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 24, 15, 7, 13, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-24 15:07:13 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195077.png)](https://mergebot.odoo.com/odoo/odoo/pull/195077)

fw-bot (Issue Creator) on (2025-01-24 15:07:13 UTC): This PR targets saas-17.4 and is part of the forward-port chain. Further PRs will be created up to master.

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

"
2809680022,pull_request,closed,,[FW][FIX] website: fix unable to enter edit mode on old browsers,"Since commit [1], we added a selector using the "":has"" pseudo-class in the template that defines where ""inner content"" blocks can be dropped. It is no longer possible to enter edit mode (a traceback occurs) starting from Odoo version 18.0 and in browsers older than Chrome 112 or Firefox 121.

This bug happens because the same selector, used by jQuery, combines both the "":has"" pseudo-class and the "":is"" pseudo-class (this "":is"" pseudo-class was introduced into the same selector by commit [2] starting from Odoo version 18.0). This is not compatible with the older browsers mentioned above.

The bug only appears in version 18. However, we already fixed this in 16.0 in case potential customizations had added the "":is"" pseudo-class to the same selector.

[1]: https://github.com/odoo/odoo/commit/65a85009800dfa45526ebdc41d3a0a808b2e9f6d
[2]: https://github.com/odoo/odoo/commit/e0fc83760f991fa2fea39763bb2709d9e0182316

opw-4494945

Forward-Port-Of: odoo/odoo#194908
Forward-Port-Of: odoo/odoo#194676",fw-bot,2025-01-24 15:06:53+00:00,[],2025-02-05 10:52:58+00:00,2025-02-05 10:47:13+00:00,https://github.com/odoo/odoo/pull/195076,"[('OE', 'the report is linked to a support ticket (opw-...)'), ('forwardport', 'This PR was created by @fw-bot')]","[{'comment_id': 2612753434, 'issue_id': 2809680022, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195076.png)](https://mergebot.odoo.com/odoo/odoo/pull/195076)', 'created_at': datetime.datetime(2025, 1, 24, 15, 6, 58, tzinfo=datetime.timezone.utc)}, {'comment_id': 2612753456, 'issue_id': 2809680022, 'author': 'fw-bot', 'body': 'This PR targets saas-17.4 and is part of the forward-port chain. Further PRs will be created up to master.\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 24, 15, 6, 58, tzinfo=datetime.timezone.utc)}, {'comment_id': 2615667972, 'issue_id': 2809680022, 'author': 'robodoo', 'body': '@bvr-odoo @qsm-odoo staging failed: ci/runbot on 3223081b7d280c5222b82c7800b96d959ec44aab (view more at https://runbot.odoo.com/runbot/build/74001580)', 'created_at': datetime.datetime(2025, 1, 27, 12, 45, 51, tzinfo=datetime.timezone.utc)}, {'comment_id': 2617540012, 'issue_id': 2809680022, 'author': 'fw-bot', 'body': '@bvr-odoo @qsm-odoo this forward port of odoo/odoo#194676 is awaiting action (not merged or closed).', 'created_at': datetime.datetime(2025, 1, 28, 2, 1, 6, tzinfo=datetime.timezone.utc)}, {'comment_id': 2618435867, 'issue_id': 2809680022, 'author': 'fw-bot', 'body': '@bvr-odoo @qsm-odoo this PR was modified / updated and has become a normal PR. It must be merged directly.', 'created_at': datetime.datetime(2025, 1, 28, 9, 38, 29, tzinfo=datetime.timezone.utc)}, {'comment_id': 2620471130, 'issue_id': 2809680022, 'author': 'fw-bot', 'body': '@bvr-odoo @qsm-odoo this forward port of odoo/odoo#194676 is awaiting action (not merged or closed).', 'created_at': datetime.datetime(2025, 1, 29, 2, 0, 51, tzinfo=datetime.timezone.utc)}, {'comment_id': 2623354068, 'issue_id': 2809680022, 'author': 'fw-bot', 'body': '@bvr-odoo @qsm-odoo this forward port of odoo/odoo#194676 is awaiting action (not merged or closed).', 'created_at': datetime.datetime(2025, 1, 30, 2, 1, 47, tzinfo=datetime.timezone.utc)}, {'comment_id': 2626135845, 'issue_id': 2809680022, 'author': 'fw-bot', 'body': '@bvr-odoo @qsm-odoo this forward port of odoo/odoo#194676 is awaiting action (not merged or closed).', 'created_at': datetime.datetime(2025, 1, 31, 2, 1, 43, tzinfo=datetime.timezone.utc)}, {'comment_id': 2628684946, 'issue_id': 2809680022, 'author': 'fw-bot', 'body': '@bvr-odoo @qsm-odoo this forward port of odoo/odoo#194676 is awaiting action (not merged or closed).', 'created_at': datetime.datetime(2025, 2, 1, 2, 1, 12, tzinfo=datetime.timezone.utc)}, {'comment_id': 2629201697, 'issue_id': 2809680022, 'author': 'fw-bot', 'body': '@bvr-odoo @qsm-odoo this forward port of odoo/odoo#194676 is awaiting action (not merged or closed).', 'created_at': datetime.datetime(2025, 2, 2, 2, 1, 23, tzinfo=datetime.timezone.utc)}, {'comment_id': 2630481233, 'issue_id': 2809680022, 'author': 'qsm-odoo', 'body': ""@bvr-odoo Don't forget this one, it seems stuck :wink:"", 'created_at': datetime.datetime(2025, 2, 3, 10, 1, 45, tzinfo=datetime.timezone.utc)}, {'comment_id': 2630502470, 'issue_id': 2809680022, 'author': 'bvr-odoo', 'body': ""> @bvr-odoo Don't forget this one, it seems stuck 😉\r\n\r\nwaiting for https://github.com/odoo/odoo/pull/195996"", 'created_at': datetime.datetime(2025, 2, 3, 10, 10, 26, tzinfo=datetime.timezone.utc)}, {'comment_id': 2636392355, 'issue_id': 2809680022, 'author': 'bvr-odoo', 'body': '@qsm-odoo the change made by this Pr has already been merged by mistake here https://github.com/odoo/odoo/commit/0447beb149781660f90d99e7326b67eb733e1eba (I messed up resolving a conflict 😬)', 'created_at': datetime.datetime(2025, 2, 5, 10, 52, 32, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-24 15:06:58 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195076.png)](https://mergebot.odoo.com/odoo/odoo/pull/195076)

fw-bot (Issue Creator) on (2025-01-24 15:06:58 UTC): This PR targets saas-17.4 and is part of the forward-port chain. Further PRs will be created up to master.

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

robodoo on (2025-01-27 12:45:51 UTC): @bvr-odoo @qsm-odoo staging failed: ci/runbot on 3223081b7d280c5222b82c7800b96d959ec44aab (view more at https://runbot.odoo.com/runbot/build/74001580)

fw-bot (Issue Creator) on (2025-01-28 02:01:06 UTC): @bvr-odoo @qsm-odoo this forward port of odoo/odoo#194676 is awaiting action (not merged or closed).

fw-bot (Issue Creator) on (2025-01-28 09:38:29 UTC): @bvr-odoo @qsm-odoo this PR was modified / updated and has become a normal PR. It must be merged directly.

fw-bot (Issue Creator) on (2025-01-29 02:00:51 UTC): @bvr-odoo @qsm-odoo this forward port of odoo/odoo#194676 is awaiting action (not merged or closed).

fw-bot (Issue Creator) on (2025-01-30 02:01:47 UTC): @bvr-odoo @qsm-odoo this forward port of odoo/odoo#194676 is awaiting action (not merged or closed).

fw-bot (Issue Creator) on (2025-01-31 02:01:43 UTC): @bvr-odoo @qsm-odoo this forward port of odoo/odoo#194676 is awaiting action (not merged or closed).

fw-bot (Issue Creator) on (2025-02-01 02:01:12 UTC): @bvr-odoo @qsm-odoo this forward port of odoo/odoo#194676 is awaiting action (not merged or closed).

fw-bot (Issue Creator) on (2025-02-02 02:01:23 UTC): @bvr-odoo @qsm-odoo this forward port of odoo/odoo#194676 is awaiting action (not merged or closed).

qsm-odoo on (2025-02-03 10:01:45 UTC): @bvr-odoo Don't forget this one, it seems stuck :wink:

bvr-odoo on (2025-02-03 10:10:26 UTC): waiting for https://github.com/odoo/odoo/pull/195996

bvr-odoo on (2025-02-05 10:52:32 UTC): @qsm-odoo the change made by this Pr has already been merged by mistake here https://github.com/odoo/odoo/commit/0447beb149781660f90d99e7326b67eb733e1eba (I messed up resolving a conflict 😬)

"
2809674861,pull_request,closed,,[FIX] im_livechat: auto popup always open,"Livechats can be configured to automatically open a chat window when a visitor opens a page. This should only occur once per visitor not to bother visitors.

Before this PR, this occured each time the visitor accessed the page. The information on whether the popup was donce once is stored in the local storage but is incorrectly checked. This PR fixes the issue.

opw-4503667
",tsm-odoo,2025-01-24 15:04:24+00:00,[],2025-01-25 11:43:52+00:00,2025-01-24 19:58:42+00:00,https://github.com/odoo/odoo/pull/195075,"[('OE', 'the report is linked to a support ticket (opw-...)')]","[{'comment_id': 2612747796, 'issue_id': 2809674861, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195075.png)](https://mergebot.odoo.com/odoo/odoo/pull/195075)', 'created_at': datetime.datetime(2025, 1, 24, 15, 4, 27, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-24 15:04:27 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195075.png)](https://mergebot.odoo.com/odoo/odoo/pull/195075)

"
2809672375,pull_request,closed,,[FW][FIX] web_editor: adapt `border-style` value based on border widths,"[FIX] web_editor: adapt `border-style` value based on border widths

**Problem**:  
Outlook always displays the border of an element if `border-style` is set  
to `solid`, even when all border widths are 0.  

**Solution**:  
Change `border-style` to `none` if all border widths are 0.  

**Steps to Reproduce**:  
1. Open the ""Event: Registration Confirmation"" email template in the web editor.  
2. Add a character and save the template.  
3. Check the saved `body_html`.  
   -> All table elements will have `border-style: solid;` added as inline styling,  
      causing borders to appear in Outlook.  

opw-4211794

---
I confirm I have signed the CLA and read the PR guidelines at www.odoo.com/submit-pr

Forward-Port-Of: odoo/odoo#193973",fw-bot,2025-01-24 15:03:13+00:00,[],2025-01-27 11:51:32+00:00,2025-01-27 11:51:32+00:00,https://github.com/odoo/odoo/pull/195074,"[('OE', 'the report is linked to a support ticket (opw-...)'), ('forwardport', 'This PR was created by @fw-bot'), ('conflict', 'There was an error while creating this forward-port PR')]","[{'comment_id': 2612745139, 'issue_id': 2809672375, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195074.png)](https://mergebot.odoo.com/odoo/odoo/pull/195074)', 'created_at': datetime.datetime(2025, 1, 24, 15, 3, 14, tzinfo=datetime.timezone.utc)}, {'comment_id': 2612745157, 'issue_id': 2809672375, 'author': 'fw-bot', 'body': '@walidsahli @dmo-odoo cherrypicking of pull request odoo/odoo#193973 failed.\n\nstdout:\n```\nAuto-merging addons/web_editor/static/src/js/backend/convert_inline.js\nCONFLICT (content): Merge conflict in addons/web_editor/static/src/js/backend/convert_inline.js\nAuto-merging addons/web_editor/static/tests/convert_inline_tests.js\nCONFLICT (content): Merge conflict in addons/web_editor/static/tests/convert_inline_tests.js\n\n```\n\nEither perform the forward-port manually (and push to this branch, proceeding as usual) or close this PR (maybe?).\n\nIn the former case, you may want to edit this PR message as well.\n\n:warning: after resolving this conflict, you will need to merge it via @robodoo.\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 24, 15, 3, 15, tzinfo=datetime.timezone.utc)}, {'comment_id': 2615289842, 'issue_id': 2809672375, 'author': 'walidsahli', 'body': '@robodoo r+', 'created_at': datetime.datetime(2025, 1, 27, 9, 51, 56, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-24 15:03:14 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195074.png)](https://mergebot.odoo.com/odoo/odoo/pull/195074)

fw-bot (Issue Creator) on (2025-01-24 15:03:15 UTC): @walidsahli @dmo-odoo cherrypicking of pull request odoo/odoo#193973 failed.

stdout:
```
Auto-merging addons/web_editor/static/src/js/backend/convert_inline.js
CONFLICT (content): Merge conflict in addons/web_editor/static/src/js/backend/convert_inline.js
Auto-merging addons/web_editor/static/tests/convert_inline_tests.js
CONFLICT (content): Merge conflict in addons/web_editor/static/tests/convert_inline_tests.js

```

Either perform the forward-port manually (and push to this branch, proceeding as usual) or close this PR (maybe?).

In the former case, you may want to edit this PR message as well.

:warning: after resolving this conflict, you will need to merge it via @robodoo.

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

walidsahli on (2025-01-27 09:51:56 UTC): @robodoo r+

"
2809671767,pull_request,closed,,"[FW][FIX] purchase_stock,stock_account: no exch. diff. if future correction AMLs","**Current behavior:**
With Anglo-Saxon accounting, for some tracked product, with FIFO and real-time valuation:

Making a purchase order in some foreign currency, having some exchange rate for today, receiving the product, then dating the vendor bill to some future date with a different exchange rate will result in exchange difference journal entries when the bill is posted.

**Expected behavior:**
We shouldn't see exchange difference entries, as there are pending corrective valuation entries which have simply not been posted yet.

Reconciliation should be deferred until these moves are no longer in draft.

**Steps to reproduce:**
1. Activate another currency, define some rate for today and another (different) rate for tomorrow

2. Create a product with FIFO and real-time costing & valuation

3. Create an initial purchase for the product, receive then bill normally

4. Create another purchase order and receive the product

5. Create the invoice, set the invoie date for tomorrow

6. Post the invoice -> Open the `Exchange Difference` journal to see the entries which should not have been generated

**Cause of the issue:**
After creating the AMLs which represent the difference in reception/bill unit price of the product, they are caught here: https://github.com/odoo/odoo/blob/971400771a31c05641a8672f6b1d85afaa9c4a19/addons/account/models/account_move.py#L3575 and designated as future moves, not to be posted at this time.

At the end of the `_post()` stack: https://github.com/odoo/odoo/blob/4df156164cf1d2764ba23682beee588777457fd6/addons/stock_account/models/account_move.py#L229 where there would normally be some `correction_amls`, they weren't created here because the AMLs for the price diff were not posted- so the price diff entry is generated.

**Fix:**
Wait for pending (`state == 'draft'`) AMLs that are part of some `AccountMove`'s valuation to be no longer in draft before allowing reconciliation with a currency exchange difference.

opw-4266652

Forward-Port-Of: odoo/odoo#193971",fw-bot,2025-01-24 15:02:54+00:00,[],2025-02-03 08:30:36+00:00,2025-02-03 08:30:36+00:00,https://github.com/odoo/odoo/pull/195073,"[('OE', 'the report is linked to a support ticket (opw-...)'), ('forwardport', 'This PR was created by @fw-bot'), ('conflict', 'There was an error while creating this forward-port PR')]","[{'comment_id': 2612744479, 'issue_id': 2809671767, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195073.png)](https://mergebot.odoo.com/odoo/odoo/pull/195073)', 'created_at': datetime.datetime(2025, 1, 24, 15, 2, 56, tzinfo=datetime.timezone.utc)}, {'comment_id': 2612744507, 'issue_id': 2809671767, 'author': 'fw-bot', 'body': '@ethanrobv @Whenrow cherrypicking of pull request odoo/odoo#193971 failed.\n\nstdout:\n```\nAuto-merging addons/purchase_stock/tests/test_anglo_saxon_valuation_reconciliation.py\nAuto-merging addons/stock_account/models/account_move.py\nCONFLICT (content): Merge conflict in addons/stock_account/models/account_move.py\n\n```\n\nEither perform the forward-port manually (and push to this branch, proceeding as usual) or close this PR (maybe?).\n\nIn the former case, you may want to edit this PR message as well.\n\n:warning: after resolving this conflict, you will need to merge it via @robodoo.\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 24, 15, 2, 57, tzinfo=datetime.timezone.utc)}, {'comment_id': 2617541272, 'issue_id': 2809671767, 'author': 'fw-bot', 'body': '@ethanrobv @Whenrow this forward port of odoo/odoo#193971 is awaiting action (not merged or closed).', 'created_at': datetime.datetime(2025, 1, 28, 2, 1, 25, tzinfo=datetime.timezone.utc)}, {'comment_id': 2620471354, 'issue_id': 2809671767, 'author': 'fw-bot', 'body': '@ethanrobv @Whenrow this forward port of odoo/odoo#193971 is awaiting action (not merged or closed).', 'created_at': datetime.datetime(2025, 1, 29, 2, 1, 4, tzinfo=datetime.timezone.utc)}, {'comment_id': 2623354270, 'issue_id': 2809671767, 'author': 'fw-bot', 'body': '@ethanrobv @Whenrow this forward port of odoo/odoo#193971 is awaiting action (not merged or closed).', 'created_at': datetime.datetime(2025, 1, 30, 2, 1, 57, tzinfo=datetime.timezone.utc)}, {'comment_id': 2626136824, 'issue_id': 2809671767, 'author': 'fw-bot', 'body': '@ethanrobv @Whenrow this forward port of odoo/odoo#193971 is awaiting action (not merged or closed).', 'created_at': datetime.datetime(2025, 1, 31, 2, 1, 54, tzinfo=datetime.timezone.utc)}, {'comment_id': 2628685163, 'issue_id': 2809671767, 'author': 'fw-bot', 'body': '@ethanrobv @Whenrow this forward port of odoo/odoo#193971 is awaiting action (not merged or closed).', 'created_at': datetime.datetime(2025, 2, 1, 2, 1, 24, tzinfo=datetime.timezone.utc)}, {'comment_id': 2629201811, 'issue_id': 2809671767, 'author': 'fw-bot', 'body': '@ethanrobv @Whenrow this forward port of odoo/odoo#193971 is awaiting action (not merged or closed).', 'created_at': datetime.datetime(2025, 2, 2, 2, 1, 38, tzinfo=datetime.timezone.utc)}, {'comment_id': 2629730407, 'issue_id': 2809671767, 'author': 'fw-bot', 'body': '@ethanrobv @Whenrow this forward port of odoo/odoo#193971 is awaiting action (not merged or closed).', 'created_at': datetime.datetime(2025, 2, 3, 2, 2, 36, tzinfo=datetime.timezone.utc)}, {'comment_id': 2630152454, 'issue_id': 2809671767, 'author': 'ethanrobv', 'body': '@robodoo r+', 'created_at': datetime.datetime(2025, 2, 3, 7, 19, 13, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-24 15:02:56 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195073.png)](https://mergebot.odoo.com/odoo/odoo/pull/195073)

fw-bot (Issue Creator) on (2025-01-24 15:02:57 UTC): @ethanrobv @Whenrow cherrypicking of pull request odoo/odoo#193971 failed.

stdout:
```
Auto-merging addons/purchase_stock/tests/test_anglo_saxon_valuation_reconciliation.py
Auto-merging addons/stock_account/models/account_move.py
CONFLICT (content): Merge conflict in addons/stock_account/models/account_move.py

```

Either perform the forward-port manually (and push to this branch, proceeding as usual) or close this PR (maybe?).

In the former case, you may want to edit this PR message as well.

:warning: after resolving this conflict, you will need to merge it via @robodoo.

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

fw-bot (Issue Creator) on (2025-01-28 02:01:25 UTC): @ethanrobv @Whenrow this forward port of odoo/odoo#193971 is awaiting action (not merged or closed).

fw-bot (Issue Creator) on (2025-01-29 02:01:04 UTC): @ethanrobv @Whenrow this forward port of odoo/odoo#193971 is awaiting action (not merged or closed).

fw-bot (Issue Creator) on (2025-01-30 02:01:57 UTC): @ethanrobv @Whenrow this forward port of odoo/odoo#193971 is awaiting action (not merged or closed).

fw-bot (Issue Creator) on (2025-01-31 02:01:54 UTC): @ethanrobv @Whenrow this forward port of odoo/odoo#193971 is awaiting action (not merged or closed).

fw-bot (Issue Creator) on (2025-02-01 02:01:24 UTC): @ethanrobv @Whenrow this forward port of odoo/odoo#193971 is awaiting action (not merged or closed).

fw-bot (Issue Creator) on (2025-02-02 02:01:38 UTC): @ethanrobv @Whenrow this forward port of odoo/odoo#193971 is awaiting action (not merged or closed).

fw-bot (Issue Creator) on (2025-02-03 02:02:36 UTC): @ethanrobv @Whenrow this forward port of odoo/odoo#193971 is awaiting action (not merged or closed).

ethanrobv on (2025-02-03 07:19:13 UTC): @robodoo r+

"
2809670305,pull_request,closed,,[FW][FIX] purchase: Prevent chatter logs for insignificant changes to Untaxed Amount,"The `amount_untaxed` field, which is tracked,
encounters floating-point precision issues during recomputation. When a value like `261,462.02` is assigned,
the field may become 261,`462.0200000002` due to floating-point imprecision. Although the value is stored correctly in the database (as `261,462.02`), the tracked change is logged in the chatter, causing unnecessary noise.

I couldn’t identify a clear or universal solution to this issue due to the inherent nature of floating-point arithmetic and its limitations. So what I did is checking if the new value is different than the old one then update the field.

Steps to reproduce:
1. Create a PO
2. Add a product with price 261,462.02
3. Save
4. Change the expected arrival date
5. Save See the chatter.
take a loot at the chatter.
![image](https://github.com/user-attachments/assets/a19ce09a-f02a-45a7-a02a-d044a4c1cc40)

opw-4315116



---
I confirm I have signed the CLA and read the PR guidelines at www.odoo.com/submit-pr

Forward-Port-Of: odoo/odoo#193368",fw-bot,2025-01-24 15:02:11+00:00,[],2025-01-24 16:22:04+00:00,2025-01-24 16:22:04+00:00,https://github.com/odoo/odoo/pull/195072,"[('OE', 'the report is linked to a support ticket (opw-...)'), ('forwardport', 'This PR was created by @fw-bot'), ('conflict', 'There was an error while creating this forward-port PR')]","[{'comment_id': 2612742834, 'issue_id': 2809670305, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195072.png)](https://mergebot.odoo.com/odoo/odoo/pull/195072)', 'created_at': datetime.datetime(2025, 1, 24, 15, 2, 12, tzinfo=datetime.timezone.utc)}, {'comment_id': 2612742957, 'issue_id': 2809670305, 'author': 'fw-bot', 'body': '@elhayyany @Whenrow cherrypicking of pull request odoo/odoo#193368 failed.\n\nstdout:\n```\nAuto-merging addons/purchase/models/purchase_order.py\nCONFLICT (content): Merge conflict in addons/purchase/models/purchase_order.py\n\n```\n\nEither perform the forward-port manually (and push to this branch, proceeding as usual) or close this PR (maybe?).\n\nIn the former case, you may want to edit this PR message as well.\n\n:warning: after resolving this conflict, you will need to merge it via @robodoo.\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 24, 15, 2, 15, tzinfo=datetime.timezone.utc)}, {'comment_id': 2612914432, 'issue_id': 2809670305, 'author': 'elhayyany', 'body': ""we don't face this issue in 18.0"", 'created_at': datetime.datetime(2025, 1, 24, 16, 22, 4, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-24 15:02:12 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195072.png)](https://mergebot.odoo.com/odoo/odoo/pull/195072)

fw-bot (Issue Creator) on (2025-01-24 15:02:15 UTC): @elhayyany @Whenrow cherrypicking of pull request odoo/odoo#193368 failed.

stdout:
```
Auto-merging addons/purchase/models/purchase_order.py
CONFLICT (content): Merge conflict in addons/purchase/models/purchase_order.py

```

Either perform the forward-port manually (and push to this branch, proceeding as usual) or close this PR (maybe?).

In the former case, you may want to edit this PR message as well.

:warning: after resolving this conflict, you will need to merge it via @robodoo.

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

elhayyany on (2025-01-24 16:22:04 UTC): we don't face this issue in 18.0

"
2809662529,pull_request,closed,,[FW][FIX] project_purchase: include negative bills in project profitability,"### Issue:

- The negative values in Vendor Bills are not being reflected in the Analytic Account linked to a project.
- the negative value does not reduce the project’s total cost in the Analytic Report cost calculations.

### Steps to reproduce:

1- Create a project and set an analytic account or use the ""Renovations"" project.
2- Create a vendor bill.
3- On the VB add two lines one with a positive Price and the other with a negative Price.
4- on `Analytic` of each line set the project to `Renovations` or the project you created.
5- Validate the vendor bill.
6- Go to the project app and click on the 3 dots of the project you choose and click on `Project Updates`.
7- Notice the total cost of the project is not reflecting the negative value of the vendor bill.

### Solution:

- The issue is caused by the condition ('price_subtotal', '>', 0) in the query for account.move.line.
- Removing this condition ensures both positive and negative price_subtotal values are included.

opw-[4416931](https://www.odoo.com/web#id=4416931&view_type=form&model=project.task)
---
I confirm I have signed the CLA and read the PR guidelines at www.odoo.com/submit-pr

Forward-Port-Of: odoo/odoo#194960
Forward-Port-Of: odoo/odoo#194300",fw-bot,2025-01-24 14:58:28+00:00,[],2025-01-29 08:29:11+00:00,2025-01-29 08:29:11+00:00,https://github.com/odoo/odoo/pull/195071,"[('OE', 'the report is linked to a support ticket (opw-...)'), ('forwardport', 'This PR was created by @fw-bot')]","[{'comment_id': 2612734505, 'issue_id': 2809662529, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195071.png)](https://mergebot.odoo.com/odoo/odoo/pull/195071)', 'created_at': datetime.datetime(2025, 1, 24, 14, 58, 29, tzinfo=datetime.timezone.utc)}, {'comment_id': 2612734524, 'issue_id': 2809662529, 'author': 'fw-bot', 'body': 'This PR targets 18.0 and is part of the forward-port chain. Further PRs will be created up to master.\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 24, 14, 58, 30, tzinfo=datetime.timezone.utc)}, {'comment_id': 2612789980, 'issue_id': 2809662529, 'author': 'fw-bot', 'body': '@kawkb @xavierbol ci/runbot failed on this forward-port PR', 'created_at': datetime.datetime(2025, 1, 24, 15, 24, 13, tzinfo=datetime.timezone.utc)}, {'comment_id': 2614406437, 'issue_id': 2809662529, 'author': 'fw-bot', 'body': '@kawkb @xavierbol this PR was modified / updated and has become a normal PR. It must be merged directly.', 'created_at': datetime.datetime(2025, 1, 26, 12, 51, 32, tzinfo=datetime.timezone.utc)}, {'comment_id': 2614406550, 'issue_id': 2809662529, 'author': 'kawkb', 'body': '@robodoo r+', 'created_at': datetime.datetime(2025, 1, 26, 12, 51, 49, tzinfo=datetime.timezone.utc)}, {'comment_id': 2614420938, 'issue_id': 2809662529, 'author': 'robodoo', 'body': ""@kawkb @xavierbol 'ci/runbot' failed on this reviewed PR."", 'created_at': datetime.datetime(2025, 1, 26, 13, 31, 26, tzinfo=datetime.timezone.utc)}, {'comment_id': 2614722874, 'issue_id': 2809662529, 'author': 'fw-bot', 'body': '@kawkb @xavierbol this forward port of odoo/odoo#194300 is awaiting action (not merged or closed).', 'created_at': datetime.datetime(2025, 1, 27, 2, 1, 58, tzinfo=datetime.timezone.utc)}, {'comment_id': 2617540852, 'issue_id': 2809662529, 'author': 'fw-bot', 'body': '@kawkb @xavierbol this forward port of odoo/odoo#194300 is awaiting action (not merged or closed).', 'created_at': datetime.datetime(2025, 1, 28, 2, 1, 19, tzinfo=datetime.timezone.utc)}, {'comment_id': 2619033129, 'issue_id': 2809662529, 'author': 'kawkb', 'body': '@robodoo r+', 'created_at': datetime.datetime(2025, 1, 28, 13, 38, 32, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-24 14:58:29 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195071.png)](https://mergebot.odoo.com/odoo/odoo/pull/195071)

fw-bot (Issue Creator) on (2025-01-24 14:58:30 UTC): This PR targets 18.0 and is part of the forward-port chain. Further PRs will be created up to master.

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

fw-bot (Issue Creator) on (2025-01-24 15:24:13 UTC): @kawkb @xavierbol ci/runbot failed on this forward-port PR

fw-bot (Issue Creator) on (2025-01-26 12:51:32 UTC): @kawkb @xavierbol this PR was modified / updated and has become a normal PR. It must be merged directly.

kawkb on (2025-01-26 12:51:49 UTC): @robodoo r+

robodoo on (2025-01-26 13:31:26 UTC): @kawkb @xavierbol 'ci/runbot' failed on this reviewed PR.

fw-bot (Issue Creator) on (2025-01-27 02:01:58 UTC): @kawkb @xavierbol this forward port of odoo/odoo#194300 is awaiting action (not merged or closed).

fw-bot (Issue Creator) on (2025-01-28 02:01:19 UTC): @kawkb @xavierbol this forward port of odoo/odoo#194300 is awaiting action (not merged or closed).

kawkb on (2025-01-28 13:38:32 UTC): @robodoo r+

"
2809630606,pull_request,closed,,[FW][16.0][IMP] iap: add outlook.jp to _MAIL_PROVIDERS,"@qrtl QT5121

Forward-Port-Of: odoo/odoo#193910",fw-bot,2025-01-24 14:45:11+00:00,[],2025-02-06 16:31:11+00:00,2025-02-06 16:31:11+00:00,https://github.com/odoo/odoo/pull/195070,"[('RD', 'research & development, internal work'), ('forwardport', 'This PR was created by @fw-bot')]","[{'comment_id': 2612702234, 'issue_id': 2809630606, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195070.png)](https://mergebot.odoo.com/odoo/odoo/pull/195070)', 'created_at': datetime.datetime(2025, 1, 24, 14, 45, 12, tzinfo=datetime.timezone.utc)}, {'comment_id': 2612702258, 'issue_id': 2809630606, 'author': 'fw-bot', 'body': 'This PR targets saas-17.2 and is part of the forward-port chain. Further PRs will be created up to master.\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 24, 14, 45, 13, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-24 14:45:12 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195070.png)](https://mergebot.odoo.com/odoo/odoo/pull/195070)

fw-bot (Issue Creator) on (2025-01-24 14:45:13 UTC): This PR targets saas-17.2 and is part of the forward-port chain. Further PRs will be created up to master.

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

"
2809578492,pull_request,closed,,"[IMP] account{,_edi_ubl_cii,_peppol}: Misc improvements","Miscellanous improvements to the Print & Send and to Peppol onboarding:

- Nicer translation, warning messages.
- Let the bank account be editable when the invoice is posted. Only make it readonly when the invoice is sent.
- Some UX change of the EAS fields.
- Print & Send: check ""email"" by default, even when no email is set. We also go back to the default behavior and let a modal open when the email is not set. This will be improved in the generic feature in the future.
- Print & Send: Rename ""Recipients"" to ""To"".
- Add a ""Print"" button to invoice form so that it prints the PDF.
- Update the EAS mapping per country.
- EAS renaming to be more user-friendly.
- Add a Print button to quickly preview the PDF.
!this does not trigger a Print & Send wizard => no declaration to government.
- Rename Print & Send to ""Send"" as we did in 18.1+ already.

task-4478365
",clbr-odoo,2025-01-24 14:21:36+00:00,[],2025-01-30 20:32:40+00:00,2025-01-30 20:32:40+00:00,https://github.com/odoo/odoo/pull/195069,"[('RD', 'research & development, internal work')]","[{'comment_id': 2612647760, 'issue_id': 2809578492, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195069.png)](https://mergebot.odoo.com/odoo/odoo/pull/195069)', 'created_at': datetime.datetime(2025, 1, 24, 14, 21, 40, tzinfo=datetime.timezone.utc)}, {'comment_id': 2624705202, 'issue_id': 2809578492, 'author': 'smetl', 'body': '@robodoo r+', 'created_at': datetime.datetime(2025, 1, 30, 14, 49, 23, tzinfo=datetime.timezone.utc)}, {'comment_id': 2624816909, 'issue_id': 2809578492, 'author': 'robodoo', 'body': ""@clbr-odoo @smetl 'ci/runbot' failed on this reviewed PR."", 'created_at': datetime.datetime(2025, 1, 30, 15, 30, 2, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-24 14:21:40 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195069.png)](https://mergebot.odoo.com/odoo/odoo/pull/195069)

smetl on (2025-01-30 14:49:23 UTC): @robodoo r+

robodoo on (2025-01-30 15:30:02 UTC): @clbr-odoo @smetl 'ci/runbot' failed on this reviewed PR.

"
2809577261,pull_request,closed,,[REF] base_automation: split method to search for time-based automations,"Description of the issue/feature this PR addresses:
For time-based automations, extract searching for records in the cron function.
Follow-up for odoo/odoo#191922



---
I confirm I have signed the CLA and read the PR guidelines at www.odoo.com/submit-pr
",kmagusiak,2025-01-24 14:20:59+00:00,[],2025-02-06 10:02:51+00:00,2025-02-05 18:07:17+00:00,https://github.com/odoo/odoo/pull/195068,"[('RD', 'research & development, internal work'), ('18.2', None)]","[{'comment_id': 2612646409, 'issue_id': 2809577261, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195068.png)](https://mergebot.odoo.com/odoo/odoo/pull/195068)', 'created_at': datetime.datetime(2025, 1, 24, 14, 21, 3, tzinfo=datetime.timezone.utc)}, {'comment_id': 2637232714, 'issue_id': 2809577261, 'author': 'robodoo', 'body': '@rco-odoo you may want to rebuild or fix this PR as it has failed CI.', 'created_at': datetime.datetime(2025, 2, 5, 15, 23, 29, tzinfo=datetime.timezone.utc)}, {'comment_id': 2637240575, 'issue_id': 2809577261, 'author': 'rco-odoo', 'body': '@robodoo override=ci/security\r\n\r\nThe code has simply been factored out into a private method, so the flagged code is as safe as before.', 'created_at': datetime.datetime(2025, 2, 5, 15, 26, 23, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-24 14:21:03 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195068.png)](https://mergebot.odoo.com/odoo/odoo/pull/195068)

robodoo on (2025-02-05 15:23:29 UTC): @rco-odoo you may want to rebuild or fix this PR as it has failed CI.

rco-odoo on (2025-02-05 15:26:23 UTC): @robodoo override=ci/security

The code has simply been factored out into a private method, so the flagged code is as safe as before.

"
2809569710,pull_request,closed,,[FW][FIX] im_livechat: livechat button loader template,"The livechat button loader template adds `websocket_worker_version` to the Odoo session. However, when the loader is called through `chatbot_test_script_page`, it does not receive the `websocket_worker_version`. In the standard Odoo environment, this value is already available in the session

This fix ensures the `websocket_worker_version` is properly handled in scenarios involving `chatbot_test_script_page`.

Task-4462067

---
I confirm I have signed the CLA and read the PR guidelines at www.odoo.com/submit-pr

Forward-Port-Of: odoo/odoo#193063",fw-bot,2025-01-24 14:17:26+00:00,[],2025-02-07 09:13:08+00:00,2025-01-24 22:20:55+00:00,https://github.com/odoo/odoo/pull/195067,"[('RD', 'research & development, internal work'), ('forwardport', 'This PR was created by @fw-bot')]","[{'comment_id': 2612638744, 'issue_id': 2809569710, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195067.png)](https://mergebot.odoo.com/odoo/odoo/pull/195067)', 'created_at': datetime.datetime(2025, 1, 24, 14, 17, 27, tzinfo=datetime.timezone.utc)}, {'comment_id': 2612638770, 'issue_id': 2809569710, 'author': 'fw-bot', 'body': 'This PR targets saas-18.1 and is part of the forward-port chain. Further PRs will be created up to master.\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 24, 14, 17, 28, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-24 14:17:27 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195067.png)](https://mergebot.odoo.com/odoo/odoo/pull/195067)

fw-bot (Issue Creator) on (2025-01-24 14:17:28 UTC): This PR targets saas-18.1 and is part of the forward-port chain. Further PRs will be created up to master.

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

"
2809569056,pull_request,closed,,[FW][FIX] payment_xendit: fix rounding for PHP,"Steps to reproduce:
1) Configure Xendit provider
2) Try paying in PHP currency
3) Observe: 'Amount must be integer' error

Xendit does not allow decimal places for PHP.

opw-4415419

Forward-Port-Of: odoo/odoo#194860",fw-bot,2025-01-24 14:17:07+00:00,[],2025-01-27 09:21:05+00:00,2025-01-27 09:21:05+00:00,https://github.com/odoo/odoo/pull/195066,"[('OE', 'the report is linked to a support ticket (opw-...)'), ('forwardport', 'This PR was created by @fw-bot')]","[{'comment_id': 2612638063, 'issue_id': 2809569056, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195066.png)](https://mergebot.odoo.com/odoo/odoo/pull/195066)', 'created_at': datetime.datetime(2025, 1, 24, 14, 17, 8, tzinfo=datetime.timezone.utc)}, {'comment_id': 2612638088, 'issue_id': 2809569056, 'author': 'fw-bot', 'body': 'This PR targets saas-18.1 and is part of the forward-port chain. Further PRs will be created up to master.\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 24, 14, 17, 9, tzinfo=datetime.timezone.utc)}, {'comment_id': 2612705065, 'issue_id': 2809569056, 'author': 'fw-bot', 'body': '@vchu-odoo @AntoineVDV ci/runbot failed on this forward-port PR', 'created_at': datetime.datetime(2025, 1, 24, 14, 46, 24, tzinfo=datetime.timezone.utc)}, {'comment_id': 2614986476, 'issue_id': 2809569056, 'author': 'robodoo', 'body': '@vchu-odoo @AntoineVDV staging failed: ci/runbot on 18a022f9a0ce7ac6644ce16141854779c61936c7 (view more at https://runbot.odoo.com/runbot/build/73976191)', 'created_at': datetime.datetime(2025, 1, 27, 7, 7, 50, tzinfo=datetime.timezone.utc)}, {'comment_id': 2615059076, 'issue_id': 2809569056, 'author': 'AntoineVDV', 'body': '@robodoo retry', 'created_at': datetime.datetime(2025, 1, 27, 7, 59, 6, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-24 14:17:08 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195066.png)](https://mergebot.odoo.com/odoo/odoo/pull/195066)

fw-bot (Issue Creator) on (2025-01-24 14:17:09 UTC): This PR targets saas-18.1 and is part of the forward-port chain. Further PRs will be created up to master.

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

fw-bot (Issue Creator) on (2025-01-24 14:46:24 UTC): @vchu-odoo @AntoineVDV ci/runbot failed on this forward-port PR

robodoo on (2025-01-27 07:07:50 UTC): @vchu-odoo @AntoineVDV staging failed: ci/runbot on 18a022f9a0ce7ac6644ce16141854779c61936c7 (view more at https://runbot.odoo.com/runbot/build/73976191)

AntoineVDV on (2025-01-27 07:59:06 UTC): @robodoo retry

"
2809562434,pull_request,closed,,[FW][FIX] l10n_my_edi: XML format and test mode,"Fixes an issue with the xml file where the tax
exchange rate node would be added before the
payment terms node if both features are used,
which render the xml wrong.

Also add a sudo when getting the system param
for the test url; as this shouldn't block a non
administrator user from testing the feature.

opw-4425472
opw-4505562

---
I confirm I have signed the CLA and read the PR guidelines at www.odoo.com/submit-pr

Forward-Port-Of: odoo/odoo#194971",fw-bot,2025-01-24 14:13:58+00:00,[],2025-02-07 18:12:25+00:00,2025-01-24 18:11:01+00:00,https://github.com/odoo/odoo/pull/195065,"[('OE', 'the report is linked to a support ticket (opw-...)'), ('forwardport', 'This PR was created by @fw-bot')]","[{'comment_id': 2612630781, 'issue_id': 2809562434, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195065.png)](https://mergebot.odoo.com/odoo/odoo/pull/195065)', 'created_at': datetime.datetime(2025, 1, 24, 14, 14, tzinfo=datetime.timezone.utc)}, {'comment_id': 2612630809, 'issue_id': 2809562434, 'author': 'fw-bot', 'body': 'This PR targets saas-18.1 and is part of the forward-port chain. Further PRs will be created up to master.\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 24, 14, 14, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-24 14:14:00 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195065.png)](https://mergebot.odoo.com/odoo/odoo/pull/195065)

fw-bot (Issue Creator) on (2025-01-24 14:14:00 UTC): This PR targets saas-18.1 and is part of the forward-port chain. Further PRs will be created up to master.

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

"
2809551371,pull_request,closed,,[FIX] mail: mentions in channel threads respect channel group,"Follow-up of https://github.com/odoo/odoo/pull/176758

Commit above adds elligible partners in `@` mention suggestions, when the channel is restricted.

However, channel threads could mention anyone, which is unintended.

Steps to reproduce:
- open a restricted channel, e.g. `#general`
- open or make a sub-thread on this channel
- type `@` in composer

=> non-internal users are shows in suggestion list.

This happens because when the channel is restricted, this limits the amount of partners in the mention list. Problem is that channel threads do not set their `group_public_id`, and instead the parent value should be checked. This was not taken into account, which lead to unrestricted list of suggestions in these channels.

This commit fixes the issue by checking the parent channel `group_public_id` for listing the elligible people that can be mentioned.

Before
![Screenshot 2025-01-24 at 15 11 23](https://github.com/user-attachments/assets/fe4ff3ad-b223-439a-bf0a-61dd3a85523f)

After
![Screenshot 2025-01-24 at 15 10 50](https://github.com/user-attachments/assets/ac75d0af-d13b-4a5c-9b7d-aa7fe16c5792)

",alexkuhn,2025-01-24 14:09:11+00:00,[],2025-01-26 22:42:08+00:00,2025-01-26 19:48:12+00:00,https://github.com/odoo/odoo/pull/195064,"[('RD', 'research & development, internal work')]","[{'comment_id': 2612619644, 'issue_id': 2809551371, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195064.png)](https://mergebot.odoo.com/odoo/odoo/pull/195064)', 'created_at': datetime.datetime(2025, 1, 24, 14, 9, 14, tzinfo=datetime.timezone.utc)}, {'comment_id': 2614539217, 'issue_id': 2809551371, 'author': 'alexkuhn', 'body': '@robodoo r+', 'created_at': datetime.datetime(2025, 1, 26, 18, 28, 9, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-24 14:09:14 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195064.png)](https://mergebot.odoo.com/odoo/odoo/pull/195064)

alexkuhn (Issue Creator) on (2025-01-26 18:28:09 UTC): @robodoo r+

"
2809545193,pull_request,closed,,[FIX] website_sale: shop product grid border,"Issue: in the /shop page, using the grid style if we change the size of a product on another column than the first one, the border of the grid will appear on the product or behind its image.

This is due to the width 100vw which extends behind the product's current width and overflowing on other products of the same row.

task-4513299
opw-4447224

| ![image](https://github.com/user-attachments/assets/f09e4233-f8da-441f-ba52-eefa139d0b75)|
|--------|



---
I confirm I have signed the CLA and read the PR guidelines at www.odoo.com/submit-pr
",mano-odoo,2025-01-24 14:06:41+00:00,[],2025-02-07 20:18:26+00:00,2025-01-24 19:58:42+00:00,https://github.com/odoo/odoo/pull/195063,"[('OE', 'the report is linked to a support ticket (opw-...)')]","[{'comment_id': 2612614047, 'issue_id': 2809545193, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195063.png)](https://mergebot.odoo.com/odoo/odoo/pull/195063)', 'created_at': datetime.datetime(2025, 1, 24, 14, 6, 44, tzinfo=datetime.timezone.utc)}, {'comment_id': 2612825954, 'issue_id': 2809545193, 'author': 'mano-odoo', 'body': 'To be merged in 18.0 and 18.1, master will be fixed in task-4447730', 'created_at': datetime.datetime(2025, 1, 24, 15, 40, 12, tzinfo=datetime.timezone.utc)}, {'comment_id': 2612892601, 'issue_id': 2809545193, 'author': 'robodoo', 'body': ""I'm sorry, @livaios. I'm afraid I can't do that."", 'created_at': datetime.datetime(2025, 1, 24, 16, 11, 29, tzinfo=datetime.timezone.utc)}, {'comment_id': 2612898576, 'issue_id': 2809545193, 'author': 'chevalierv', 'body': '@robodoo up to saas-18.1 r+', 'created_at': datetime.datetime(2025, 1, 24, 16, 14, 18, tzinfo=datetime.timezone.utc)}, {'comment_id': 2612898672, 'issue_id': 2809545193, 'author': 'robodoo', 'body': ""Forward-porting to 'saas-18.1'."", 'created_at': datetime.datetime(2025, 1, 24, 16, 14, 21, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-24 14:06:44 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195063.png)](https://mergebot.odoo.com/odoo/odoo/pull/195063)

mano-odoo (Issue Creator) on (2025-01-24 15:40:12 UTC): To be merged in 18.0 and 18.1, master will be fixed in task-4447730

robodoo on (2025-01-24 16:11:29 UTC): I'm sorry, @livaios. I'm afraid I can't do that.

chevalierv on (2025-01-24 16:14:18 UTC): @robodoo up to saas-18.1 r+

robodoo on (2025-01-24 16:14:21 UTC): Forward-porting to 'saas-18.1'.

"
2809544451,pull_request,closed,,[FW] 18.0 ref taxes tests las,"Description of the issue/feature this PR addresses:

Current behavior before PR:

Desired behavior after PR is merged:




---
I confirm I have signed the CLA and read the PR guidelines at www.odoo.com/submit-pr

Forward-Port-Of: odoo/odoo#194973
Forward-Port-Of: odoo/odoo#191402",fw-bot,2025-01-24 14:06:20+00:00,[],2025-02-07 17:59:25+00:00,2025-01-24 17:59:36+00:00,https://github.com/odoo/odoo/pull/195062,"[('RD', 'research & development, internal work'), ('forwardport', 'This PR was created by @fw-bot'), ('18.2', None)]","[{'comment_id': 2612613341, 'issue_id': 2809544451, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195062.png)](https://mergebot.odoo.com/odoo/odoo/pull/195062)', 'created_at': datetime.datetime(2025, 1, 24, 14, 6, 24, tzinfo=datetime.timezone.utc)}, {'comment_id': 2612613384, 'issue_id': 2809544451, 'author': 'fw-bot', 'body': '@smetl this PR targets master and is the last of the forward-port chain.\n\nTo merge the full chain, use\n> @robodoo r+\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 24, 14, 6, 25, tzinfo=datetime.timezone.utc)}, {'comment_id': 2612941101, 'issue_id': 2809544451, 'author': 'smetl', 'body': '@robodoo r+', 'created_at': datetime.datetime(2025, 1, 24, 16, 35, 32, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-24 14:06:24 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195062.png)](https://mergebot.odoo.com/odoo/odoo/pull/195062)

fw-bot (Issue Creator) on (2025-01-24 14:06:25 UTC): @smetl this PR targets master and is the last of the forward-port chain.

To merge the full chain, use

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

smetl on (2025-01-24 16:35:32 UTC): @robodoo r+

"
2809539309,pull_request,closed,,[FW][FIX] hr_holidays: improve test stability,"The test suffered from multiple problems:
 - Duration of leaves could sometimes be less or more depending on the day of the week (weekend don't count in duration)
 - Demo data could make the test pass while the leaves created during the test were not actually found Here we improved the date mechanism as well as forcing the domain to only search within our own leaves as well as comparing that those leaves are the one with fetched.

Forward-Port-Of: odoo/odoo#194994",fw-bot,2025-01-24 14:03:58+00:00,[],2025-02-07 18:12:25+00:00,2025-01-24 18:11:06+00:00,https://github.com/odoo/odoo/pull/195061,"[('RD', 'research & development, internal work'), ('forwardport', 'This PR was created by @fw-bot')]","[{'comment_id': 2612608295, 'issue_id': 2809539309, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195061.png)](https://mergebot.odoo.com/odoo/odoo/pull/195061)', 'created_at': datetime.datetime(2025, 1, 24, 14, 3, 59, tzinfo=datetime.timezone.utc)}, {'comment_id': 2612608322, 'issue_id': 2809539309, 'author': 'fw-bot', 'body': 'This PR targets saas-18.1 and is part of the forward-port chain. Further PRs will be created up to master.\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 24, 14, 4, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-24 14:03:59 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195061.png)](https://mergebot.odoo.com/odoo/odoo/pull/195061)

fw-bot (Issue Creator) on (2025-01-24 14:04:00 UTC): This PR targets saas-18.1 and is part of the forward-port chain. Further PRs will be created up to master.

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

"
2809536160,pull_request,closed,,[FW][FIX] hr: fix singleton record error,"### Description of the issue/feature this PR addresses:

- The [_get_plan_available_base_domain()](https://github.com/odoo/odoo/blob/18.0/addons/mail/wizard/mail_activity_schedule.py#L330) method is built and `self.ensure_one()` is placed in it but it is called in `_compute_plan_available_ids()` with `self` which can have multiple records

### Current behavior before PR:
- The error `ValueError: Expected singleton: mail.activity.schedule(1, 2)` occurred

### Desired behavior after PR is merged:
- The problem has been fixed.



---
I confirm I have signed the CLA and read the PR guidelines at www.odoo.com/submit-pr

Forward-Port-Of: odoo/odoo#194338",fw-bot,2025-01-24 14:02:28+00:00,[],2025-01-27 16:20:44+00:00,2025-01-27 16:20:44+00:00,https://github.com/odoo/odoo/pull/195060,"[('RD', 'research & development, internal work'), ('forwardport', 'This PR was created by @fw-bot')]","[{'comment_id': 2612604850, 'issue_id': 2809536160, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195060.png)](https://mergebot.odoo.com/odoo/odoo/pull/195060)', 'created_at': datetime.datetime(2025, 1, 24, 14, 2, 30, tzinfo=datetime.timezone.utc)}, {'comment_id': 2612604873, 'issue_id': 2809536160, 'author': 'fw-bot', 'body': 'This PR targets 18.0 and is part of the forward-port chain. Further PRs will be created up to master.\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 24, 14, 2, 30, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-24 14:02:30 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195060.png)](https://mergebot.odoo.com/odoo/odoo/pull/195060)

fw-bot (Issue Creator) on (2025-01-24 14:02:30 UTC): This PR targets 18.0 and is part of the forward-port chain. Further PRs will be created up to master.

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

"
2809507691,pull_request,open,,[IMP] pos_viva_wallet: add refund support,"Before this PR, refunds were not supported
for Viva Wallet, and trying to initiate a refund
transaction would result in an error.

After this PR, if the payment amount is
negative a refund is initiated via the Viva API
instead of a payment.

There are two types of refunds that can occur. A
regular refund occurs when the order originally
used a Viva wallet payment, and we are refunding
the same amount as was paid. In this case, we
directly refund the original Viva transaction.
This has the benefit of being quicker and also
refunding the processing fees.

In other cases, we use 'unreferenced' refunds,
meaning they are not linked to any previous
transaction and can therefore be any amount.
However, there must be enough money remaining
in the Viva account to process the refund, or an
error will occur.

task-3619622

---
I confirm I have signed the CLA and read the PR guidelines at www.odoo.com/submit-pr
",MaxTheWhale,2025-01-24 13:49:36+00:00,[],2025-01-28 07:45:45+00:00,,https://github.com/odoo/odoo/pull/195059,"[('RD', 'research & development, internal work')]","[{'comment_id': 2612575621, 'issue_id': 2809507691, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195059.png)](https://mergebot.odoo.com/odoo/odoo/pull/195059)', 'created_at': datetime.datetime(2025, 1, 24, 13, 49, 40, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-24 13:49:40 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195059.png)](https://mergebot.odoo.com/odoo/odoo/pull/195059)

"
2809505851,pull_request,closed,,[FW][FIX] website: fix unable to enter edit mode on old browsers,"Since commit [1], we added a selector using the "":has"" pseudo-class in the template that defines where ""inner content"" blocks can be dropped. It is no longer possible to enter edit mode (a traceback occurs) starting from Odoo version 18.0 and in browsers older than Chrome 112 or Firefox 121.

This bug happens because the same selector, used by jQuery, combines both the "":has"" pseudo-class and the "":is"" pseudo-class (this "":is"" pseudo-class was introduced into the same selector by commit [2] starting from Odoo version 18.0). This is not compatible with the older browsers mentioned above.

The bug only appears in version 18. However, we already fixed this in 16.0 in case potential customizations had added the "":is"" pseudo-class to the same selector.

[1]: https://github.com/odoo/odoo/commit/65a85009800dfa45526ebdc41d3a0a808b2e9f6d
[2]: https://github.com/odoo/odoo/commit/e0fc83760f991fa2fea39763bb2709d9e0182316

opw-4494945

Forward-Port-Of: odoo/odoo#194908
Forward-Port-Of: odoo/odoo#194676",fw-bot,2025-01-24 13:48:42+00:00,[],2025-01-27 11:55:05+00:00,2025-01-27 11:55:05+00:00,https://github.com/odoo/odoo/pull/195058,"[('OE', 'the report is linked to a support ticket (opw-...)'), ('forwardport', 'This PR was created by @fw-bot')]","[{'comment_id': 2612573745, 'issue_id': 2809505851, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195058.png)](https://mergebot.odoo.com/odoo/odoo/pull/195058)', 'created_at': datetime.datetime(2025, 1, 24, 13, 48, 43, tzinfo=datetime.timezone.utc)}, {'comment_id': 2612573771, 'issue_id': 2809505851, 'author': 'fw-bot', 'body': 'This PR targets saas-17.2 and is part of the forward-port chain. Further PRs will be created up to master.\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 24, 13, 48, 44, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-24 13:48:43 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195058.png)](https://mergebot.odoo.com/odoo/odoo/pull/195058)

fw-bot (Issue Creator) on (2025-01-24 13:48:44 UTC): This PR targets saas-17.2 and is part of the forward-port chain. Further PRs will be created up to master.

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

"
2809505214,pull_request,closed,,[FW][FIX] stock: prioritize routes by sequence in extract_rule,"### Description of the issue/feature this PR addresses:
When a product is configured with both buy and manufacture routes, the manufacture route is always prioritized, regardless of the sequence defined in the routes.

### Current behavior before PR:
The method extract_rule stops evaluating routes once it finds a valid rule, even if other rules with a lower sequence exist. This leads to the manufacture route being prioritized over buy, which is not the intended behavior.

### Desired behavior after PR is merged:
The routes are now evaluated based on their sequence, ensuring that rules associated with routes of lower sequence are considered first.



---
I confirm I have signed the CLA and read the PR guidelines at www.odoo.com/submit-pr
cc @ForgeFlow

Forward-Port-Of: odoo/odoo#194922
Forward-Port-Of: odoo/odoo#188846",fw-bot,2025-01-24 13:48:24+00:00,[],2025-01-29 13:49:55+00:00,2025-01-29 13:49:55+00:00,https://github.com/odoo/odoo/pull/195057,"[('RD', 'research & development, internal work'), ('forwardport', 'This PR was created by @fw-bot'), ('18.2', None)]","[{'comment_id': 2612573149, 'issue_id': 2809505214, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195057.png)](https://mergebot.odoo.com/odoo/odoo/pull/195057)', 'created_at': datetime.datetime(2025, 1, 24, 13, 48, 25, tzinfo=datetime.timezone.utc)}, {'comment_id': 2612573168, 'issue_id': 2809505214, 'author': 'fw-bot', 'body': '@RicardCForgeFlow @Whenrow this PR targets master and is the last of the forward-port chain containing:\n* odoo/odoo#195037\n* odoo/odoo#195015\n\nTo merge the full chain, use\n> @robodoo r+\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 24, 13, 48, 26, tzinfo=datetime.timezone.utc)}, {'comment_id': 2614172516, 'issue_id': 2809505214, 'author': 'fw-bot', 'body': '@RicardCForgeFlow @Whenrow this forward port of odoo/odoo#188846 is awaiting action (not merged or closed).', 'created_at': datetime.datetime(2025, 1, 26, 2, 2, 5, tzinfo=datetime.timezone.utc)}, {'comment_id': 2614723695, 'issue_id': 2809505214, 'author': 'fw-bot', 'body': '@RicardCForgeFlow @Whenrow this forward port of odoo/odoo#188846 is awaiting action (not merged or closed).', 'created_at': datetime.datetime(2025, 1, 27, 2, 2, 45, tzinfo=datetime.timezone.utc)}, {'comment_id': 2617544019, 'issue_id': 2809505214, 'author': 'fw-bot', 'body': '@RicardCForgeFlow @Whenrow this forward port of odoo/odoo#188846 is awaiting action (not merged or closed).', 'created_at': datetime.datetime(2025, 1, 28, 2, 2, 7, tzinfo=datetime.timezone.utc)}, {'comment_id': 2620471938, 'issue_id': 2809505214, 'author': 'fw-bot', 'body': '@RicardCForgeFlow @Whenrow this forward port of odoo/odoo#188846 is awaiting action (not merged or closed).', 'created_at': datetime.datetime(2025, 1, 29, 2, 1, 36, tzinfo=datetime.timezone.utc)}, {'comment_id': 2621077028, 'issue_id': 2809505214, 'author': 'Whenrow', 'body': 'robodoo r+ rebase-ff', 'created_at': datetime.datetime(2025, 1, 29, 9, 15, 7, tzinfo=datetime.timezone.utc)}, {'comment_id': 2621077107, 'issue_id': 2809505214, 'author': 'robodoo', 'body': 'Merge method set to rebase and fast-forward.', 'created_at': datetime.datetime(2025, 1, 29, 9, 15, 9, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-24 13:48:25 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195057.png)](https://mergebot.odoo.com/odoo/odoo/pull/195057)

fw-bot (Issue Creator) on (2025-01-24 13:48:26 UTC): @RicardCForgeFlow @Whenrow this PR targets master and is the last of the forward-port chain containing:
* odoo/odoo#195037
* odoo/odoo#195015

To merge the full chain, use

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

fw-bot (Issue Creator) on (2025-01-26 02:02:05 UTC): @RicardCForgeFlow @Whenrow this forward port of odoo/odoo#188846 is awaiting action (not merged or closed).

fw-bot (Issue Creator) on (2025-01-27 02:02:45 UTC): @RicardCForgeFlow @Whenrow this forward port of odoo/odoo#188846 is awaiting action (not merged or closed).

fw-bot (Issue Creator) on (2025-01-28 02:02:07 UTC): @RicardCForgeFlow @Whenrow this forward port of odoo/odoo#188846 is awaiting action (not merged or closed).

fw-bot (Issue Creator) on (2025-01-29 02:01:36 UTC): @RicardCForgeFlow @Whenrow this forward port of odoo/odoo#188846 is awaiting action (not merged or closed).

Whenrow on (2025-01-29 09:15:07 UTC): robodoo r+ rebase-ff

robodoo on (2025-01-29 09:15:09 UTC): Merge method set to rebase and fast-forward.

"
